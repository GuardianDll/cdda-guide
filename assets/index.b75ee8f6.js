var Ih=Object.defineProperty;var Rh=(i,e,l)=>e in i?Ih(i,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[e]=l;var Nh=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Wt=(i,e,l)=>(Rh(i,typeof e!="symbol"?e+"":e,l),l);var U3=Nh((F3,Fl)=>{const Oh=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}};Oh();function ee(){}function Bh(i,e){for(const l in e)i[l]=e[l];return i}function Ah(i){return i&&typeof i=="object"&&typeof i.then=="function"}function v1(i){return i()}function Io(){return Object.create(null)}function Cn(i){i.forEach(v1)}function Mh(i){return typeof i=="function"}function We(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let pi;function Dh(i,e){return pi||(pi=document.createElement("a")),pi.href=e,i===pi.href}function Lh(i){return Object.keys(i).length===0}function y1(i,...e){if(i==null)return ee;const l=i.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function w1(i,e,l){i.$$.on_destroy.push(y1(e,l))}function E1(i,e,l,t){if(i){const n=T1(i,e,l,t);return i[0](n)}}function T1(i,e,l,t){return i[1]&&t?Bh(l.ctx.slice(),i[1](t(e))):l.ctx}function S1(i,e,l,t){if(i[2]&&t){const n=i[2](t(l));if(e.dirty===void 0)return n;if(typeof n=="object"){const o=[],r=Math.max(e.dirty.length,n.length);for(let f=0;f<r;f+=1)o[f]=e.dirty[f]|n[f];return o}return e.dirty|n}return e.dirty}function C1(i,e,l,t,n,o){if(n){const r=T1(e,l,t,o);i.p(r,n)}}function I1(i){if(i.ctx.length>32){const e=[],l=i.ctx.length/32;for(let t=0;t<l;t++)e[t]=-1;return e}return-1}function d(i,e){i.appendChild(e)}function g(i,e,l){i.insertBefore(e,l||null)}function h(i){i.parentNode.removeChild(i)}function se(i,e){for(let l=0;l<i.length;l+=1)i[l]&&i[l].d(e)}function p(i){return document.createElement(i)}function y(i){return document.createTextNode(i)}function I(){return y(" ")}function le(){return y("")}function Tl(i,e,l,t){return i.addEventListener(e,l,t),()=>i.removeEventListener(e,l,t)}function fe(i,e,l){l==null?i.removeAttribute(e):i.getAttribute(e)!==l&&i.setAttribute(e,l)}function Gh(i){return Array.from(i.childNodes)}function Y(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Ro(i,e){i.value=e==null?"":e}function Qe(i,e,l,t){l===null?i.style.removeProperty(e):i.style.setProperty(e,l,t?"important":"")}function Ri(i,e){for(let l=0;l<i.options.length;l+=1){const t=i.options[l];if(t.__value===e){t.selected=!0;return}}i.selectedIndex=-1}let ri;function Pl(i){ri=i}function Wi(){if(!ri)throw new Error("Function called outside component initialization");return ri}function Uh(i){Wi().$$.on_mount.push(i)}function Dr(i,e){return Wi().$$.context.set(i,e),e}function nt(i){return Wi().$$.context.get(i)}const ei=[],No=[],Si=[],Oo=[],qh=Promise.resolve();let gr=!1;function Ph(){gr||(gr=!0,qh.then(Lr))}function br(i){Si.push(i)}const tr=new Set;let hi=0;function Lr(){const i=ri;do{for(;hi<ei.length;){const e=ei[hi];hi++,Pl(e),Fh(e.$$)}for(Pl(null),ei.length=0,hi=0;No.length;)No.pop()();for(let e=0;e<Si.length;e+=1){const l=Si[e];tr.has(l)||(tr.add(l),l())}Si.length=0}while(ei.length);for(;Oo.length;)Oo.pop()();gr=!1,tr.clear(),Pl(i)}function Fh(i){if(i.fragment!==null){i.update(),Cn(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(br)}}const Ci=new Set;let tn;function Q(){tn={r:0,c:[],p:tn}}function x(){tn.r||Cn(tn.c),tn=tn.p}function b(i,e){i&&i.i&&(Ci.delete(i),i.i(e))}function k(i,e,l,t){if(i&&i.o){if(Ci.has(i))return;Ci.add(i),tn.c.push(()=>{Ci.delete(i),t&&(l&&i.d(1),t())}),i.o(e)}}function Yh(i,e){const l=e.token={};function t(n,o,r,f){if(e.token!==l)return;e.resolved=f;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=f);const s=n&&(e.current=n)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(Q(),k(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),x())}):e.block.d(1),s.c(),b(s,1),s.m(e.mount(),e.anchor),u=!0),e.block=s,e.blocks&&(e.blocks[o]=s),u&&Lr()}if(Ah(i)){const n=Wi();if(i.then(o=>{Pl(n),t(e.then,1,e.value,o),Pl(null)},o=>{if(Pl(n),t(e.catch,2,e.error,o),Pl(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,i),!0;e.resolved=i}}function jh(i,e,l){const t=e.slice(),{resolved:n}=i;i.current===i.then&&(t[i.value]=n),i.current===i.catch&&(t[i.error]=n),i.block.p(t,l)}const Hh=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Wh(i,e){k(i,1,1,()=>{e.delete(i.key)})}function zh(i,e,l,t,n,o,r,f,a,s,u,c){let m=i.length,$=o.length,v=m;const E={};for(;v--;)E[i[v].key]=v;const T=[],w=new Map,S=new Map;for(v=$;v--;){const O=c(n,o,v),N=l(O);let L=r.get(N);L?t&&L.p(O,e):(L=s(N,O),L.c()),w.set(N,T[v]=L),N in E&&S.set(N,Math.abs(v-E[N]))}const C=new Set,R=new Set;function B(O){b(O,1),O.m(f,u),r.set(O.key,O),u=O.first,$--}for(;m&&$;){const O=T[$-1],N=i[m-1],L=O.key,M=N.key;O===N?(u=O.first,m--,$--):w.has(M)?!r.has(L)||C.has(L)?B(O):R.has(M)?m--:S.get(L)>S.get(M)?(R.add(L),B(O)):(C.add(M),m--):(a(N,r),m--)}for(;m--;){const O=i[m];w.has(O.key)||a(O,r)}for(;$;)B(T[$-1]);return T}function P(i){i&&i.c()}function U(i,e,l,t){const{fragment:n,on_mount:o,on_destroy:r,after_update:f}=i.$$;n&&n.m(e,l),t||br(()=>{const a=o.map(v1).filter(Mh);r?r.push(...a):Cn(a),i.$$.on_mount=[]}),f.forEach(br)}function q(i,e){const l=i.$$;l.fragment!==null&&(Cn(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Vh(i,e){i.$$.dirty[0]===-1&&(ei.push(i),Ph(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Ve(i,e,l,t,n,o,r,f=[-1]){const a=ri;Pl(i);const s=i.$$={fragment:null,ctx:null,props:o,update:ee,not_equal:n,bound:Io(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Io(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};r&&r(s.root);let u=!1;if(s.ctx=l?l(i,e.props||{},(c,m,...$)=>{const v=$.length?$[0]:m;return s.ctx&&n(s.ctx[c],s.ctx[c]=v)&&(!s.skip_bound&&s.bound[c]&&s.bound[c](v),u&&Vh(i,c)),m}):[],s.update(),u=!0,Cn(s.before_update),s.fragment=t?t(s.ctx):!1,e.target){if(e.hydrate){const c=Gh(e.target);s.fragment&&s.fragment.l(c),c.forEach(h)}else s.fragment&&s.fragment.c();e.intro&&b(i.$$.fragment),U(i,e.target,e.anchor,e.customElement),Lr()}Pl(a)}class Xe{$destroy(){q(this,1),this.$destroy=ee}$on(e,l){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(l),()=>{const n=t.indexOf(l);n!==-1&&t.splice(n,1)}}$set(e){this.$$set&&!Lh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const sn=[];function Ni(i,e=ee){let l;const t=new Set;function n(f){if(We(i,f)&&(i=f,l)){const a=!sn.length;for(const s of t)s[1](),sn.push(s,i);if(a){for(let s=0;s<sn.length;s+=2)sn[s][0](sn[s+1]);sn.length=0}}}function o(f){n(f(i))}function r(f,a=ee){const s=[f,a];return t.add(s),t.size===1&&(l=e(n)||ee),f(i),()=>{t.delete(s),t.size===0&&(l(),l=null)}}return{set:n,update:o,subscribe:r}}const Xh=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["city_building","overmap_special"]]),$l=i=>{var e;return(e=Xh.get(i))!=null?e:i},Ft=i=>typeof i=="string"?i:"str_sp"in i?i.str_sp:i.str,$r=i=>typeof i=="string"?i+"s":"str_sp"in i?i.str_sp:"str_pl"in i?i.str_pl:i.str+"s",ge=i=>{var e,l;return Ft((l=(e=i==null?void 0:i.name)!=null?e:i==null?void 0:i.id)!=null?l:i==null?void 0:i.abstract)},Bo=i=>{var e,l;return $r((l=(e=i==null?void 0:i.name)!=null?e:i==null?void 0:i.id)!=null?l:i==null?void 0:i.abstract)};function $n(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function Gr(i){if(typeof i=="undefined")return 0;if(typeof i=="number")return i*250;if(i.endsWith("ml"))return parseInt(i);if(i.endsWith("L"))return parseInt(i)*1e3}function Oi(i){if(typeof i=="undefined")return 0;if(typeof i=="number")return i;if(i.endsWith("mg"))return parseInt(i)/1e3;if(i.endsWith("kg"))return parseInt(i)*1e3;if(i.endsWith("g"))return parseInt(i)}function Zl(i){return`${(Gr(i)/1e3).toFixed(2)} L`}function kn(i){return`${(Oi(i)/1e3).toFixed(2)} kg`}class Jh{constructor(e,l,t){Wt(this,"_raw");Wt(this,"_byType",new Map);Wt(this,"_byTypeById",new Map);Wt(this,"_abstractsByType",new Map);Wt(this,"_toolReplacements");Wt(this,"_craftingPseudoItems",new Map);Wt(this,"_migrations",new Map);Wt(this,"_flattenCache",new Map);Wt(this,"_nestedMapgensById",new Map);Wt(this,"release");Wt(this,"build_number");Wt(this,"_cachedDeathDrops",new Map);Wt(this,"_cachedMapgenSpawnItems",new Map);Wt(this,"_flattenItemGroupCache",new WeakMap);Wt(this,"_flatRequirementCache",new WeakMap);Wt(this,"_flatRequirementCacheExpandSubs",new WeakMap);Wt(this,"_flatRequirementCacheOnlyRecoverable",new WeakMap);Wt(this,"_itemComponentCache");this.release=t,this.build_number=l,this._raw=e;for(const n of e){if(!Object.hasOwnProperty.call(n,"type"))continue;if(n.type==="MIGRATION"){for(const r of typeof n.id=="string"?[n.id]:n.id){const{replace:f}=n;this._migrations.set(r,f)}continue}const o=$l(n.type);if(this._byType.has(o)||this._byType.set(o,[]),this._byType.get(o).push(n),Object.hasOwnProperty.call(n,"id")){if(this._byTypeById.has(o)||this._byTypeById.set(o,new Map),typeof n.id=="string")this._byTypeById.get(o).set(n.id,n);else if(Array.isArray(n.id))for(const r of n.id)this._byTypeById.get(o).set(r,n)}if((o==="recipe"||o==="uncraft")&&Object.hasOwnProperty.call(n,"result")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=n.result+(n.id_suffix?"_"+n.id_suffix:"");this._byTypeById.get(o).set(r,n)}if(o==="monstergroup"&&Object.hasOwnProperty.call(n,"name")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=n.name;this._byTypeById.get(o).set(r,n)}Object.hasOwnProperty.call(n,"abstract")&&(this._abstractsByType.has(o)||this._abstractsByType.set(o,new Map),this._abstractsByType.get(o).set(n.abstract,n)),Object.hasOwnProperty.call(n,"crafting_pseudo_item")&&this._craftingPseudoItems.set(n.crafting_pseudo_item,n.id),Object.hasOwnProperty.call(n,"nested_mapgen_id")&&(this._nestedMapgensById.has(n.nested_mapgen_id)||this._nestedMapgensById.set(n.nested_mapgen_id,[]),this._nestedMapgensById.get(n.nested_mapgen_id).push(n))}}byId(e,l){var n;if(typeof l!="string")throw new Error("Requested non-string id");if(e==="item"&&this._migrations.has(l))return this.byId(e,this._migrations.get(l));const t=(n=this._byTypeById.get(e))==null?void 0:n.get(l);if(t)return this._flatten(t)}byType(e){var l,t;return(t=(l=this._byType.get(e))==null?void 0:l.map(n=>this._flatten(n)))!=null?t:[]}abstractById(e,l){var n;if(typeof l!="string")throw new Error("Requested non-string id");const t=(n=this._abstractsByType.get(e))==null?void 0:n.get(l);if(t)return this._flatten(t)}replacementTools(e){var l;if(!this._toolReplacements){this._toolReplacements=new Map;for(const t of this.byType("item"))t.type==="TOOL"&&Object.hasOwnProperty.call(t,"sub")&&(this._toolReplacements.has(t.sub)||this._toolReplacements.set(t.sub,[]),this._toolReplacements.get(t.sub).push(t.id))}return(l=this._toolReplacements.get(e))!=null?l:[]}craftingPseudoItem(e){return this._craftingPseudoItems.get(e)}nestedMapgensById(e){return this._nestedMapgensById.get(e)}all(){return this._raw}_flatten(e){var f,a,s,u,c,m,$,v,E,T,w,S,C,R,B,O,N,L,M,X,A,D,J,H,F,j,G,z,ie,W,K,Z,ae,V,ne,_e,Fe,ke;const l=e;if(this._flattenCache.has(l))return this._flattenCache.get(l);const t="copy-from"in l?(s=(f=this._byTypeById.get($l(l.type)))==null?void 0:f.get(l["copy-from"]))!=null?s:(a=this._abstractsByType.get($l(l.type)))==null?void 0:a.get(l["copy-from"]):null;if("copy-from"in l&&!t&&console.error(`Missing parent in ${(m=(c=(u=l.id)!=null?u:l.abstract)!=null?c:l.result)!=null?m:JSON.stringify(l)}`),t===l)return console.warn("Object copied from itself:",l),this._flattenCache.set(l,l),l;if(!t)return this._flattenCache.set(l,l),l;const{abstract:n,...o}=this._flatten(t),r={...o,...l};for(const de of Object.keys(($=r.relative)!=null?$:{}))if(typeof r.relative[de]=="number")if(de==="melee_damage"){const $e=mn(JSON.parse(JSON.stringify(r.melee_damage)));for(const ye of $e)ye.amount=((v=ye.amount)!=null?v:0)+r.relative[de];r.melee_damage=$e}else r[de]=((E=r[de])!=null?E:0)+r.relative[de];else if(de==="damage"&&r[de]){r.damage=JSON.parse(JSON.stringify(r.damage));const $e=mn(r.relative.damage);for(const ye of $e){const ue=Array.isArray(r.damage)?r.damage.find(De=>De.damage_type===ye.damage_type):r.damage.damage_type===ye.damage_type?r.damage:null;ue&&(ue.amount=((T=ue.amount)!=null?T:0)+((w=ye.amount)!=null?w:0),ue.armor_penetration=((S=ue.armor_penetration)!=null?S:0)+((C=ye.armor_penetration)!=null?C:0),ue.armor_multiplier=((R=ue.armor_multiplier)!=null?R:0)+((B=ye.armor_multiplier)!=null?B:0),ue.damage_multiplier=((O=ue.damage_multiplier)!=null?O:0)+((N=ye.damage_multiplier)!=null?N:0),ue.constant_armor_multiplier=((L=ue.constant_armor_multiplier)!=null?L:0)+((M=ye.constant_armor_multiplier)!=null?M:0),ue.constant_damage_multiplier=((X=ue.constant_damage_multiplier)!=null?X:0)+((A=ye.constant_damage_multiplier)!=null?A:0))}}delete r.relative;for(const de of Object.keys((D=r.proportional)!=null?D:{}))if(typeof r.proportional[de]=="number")if(de==="attack_cost"&&!(de in r)&&(r[de]=100),typeof r[de]=="string"){const $e=/^\s*(\d+)\s*(.+)$/.exec(r[de]);if($e){const[,ye,ue]=$e;r[de]=`${Number(ye)*r.proportional[de]} ${ue}`}}else r[de]*=r.proportional[de],r[de]=r[de]|0;else if(de==="damage"&&r[de]){r.damage=JSON.parse(JSON.stringify(r.damage));const $e=mn(r.proportional.damage);for(const ye of $e){const ue=Array.isArray(r.damage)?r.damage.find(De=>De.damage_type===ye.damage_type):r.damage.damage_type===ye.damage_type?r.damage:null;ue&&(ue.amount=((J=ue.amount)!=null?J:0)*((H=ye.amount)!=null?H:1),ue.armor_penetration=((F=ue.armor_penetration)!=null?F:0)*((j=ye.armor_penetration)!=null?j:1),ue.armor_multiplier=((G=ue.armor_multiplier)!=null?G:0)*((z=ye.armor_multiplier)!=null?z:1),ue.damage_multiplier=((ie=ue.damage_multiplier)!=null?ie:0)*((W=ye.damage_multiplier)!=null?W:1),ue.constant_armor_multiplier=((K=ue.constant_armor_multiplier)!=null?K:0)*((Z=ye.constant_armor_multiplier)!=null?Z:1),ue.constant_damage_multiplier=((ae=ue.constant_damage_multiplier)!=null?ae:0)*((V=ye.constant_damage_multiplier)!=null?V:1))}}delete r.proportional;for(const de of Object.keys((ne=r.extend)!=null?ne:{}))Array.isArray(r.extend[de])&&(r[de]=((_e=r[de])!=null?_e:[]).concat(r.extend[de]));delete r.extend;for(const de of Object.keys((Fe=r.delete)!=null?Fe:{}))if(Array.isArray(r.delete[de])){const $e=(ye,ue)=>ye===ue||Array.isArray(ye)&&Array.isArray(ue)&&ye.length===ue.length&&ye.every((De,Se)=>$e(De,ue[Se]));r[de]=((ke=r[de])!=null?ke:[]).filter(ye=>!r.delete[de].some(ue=>$e(ue,ye)))}return delete r.delete,this._flattenCache.set(l,r),r}flatDeathDrops(e){if(this._cachedDeathDrops.has(e))return this._cachedDeathDrops.get(e);const l=this.byId("monster",e),t=l.death_drops?this.flattenItemGroup(this.normalizeItemGroup(l.death_drops,"distribution")):[];return t.sort((n,o)=>o.prob-n.prob),this._cachedDeathDrops.set(e,t),t}uncraftRecipe(e){for(const l of this.byType("uncraft"))if(l.result===e)return l;for(const l of this.byType("recipe"))if(l.result===e&&l.reversible)return l}mapgenSpawnItems(e){var s,u,c,m,$,v,E;if(this._cachedMapgenSpawnItems.has(e))return this._cachedMapgenSpawnItems.get(e);const l=new Map,t=(T,w)=>{l.has(T)||l.set(T,new Set),l.get(T).add(w)},n=(T,w)=>{const S=typeof w=="string"?this.byId("item_group",w):Array.isArray(w)?{subtype:"collection",entries:w}:w;if(S)for(const{id:C}of this.flattenItemGroup(S))t(T,C);else typeof w=="string"&&this.byId("item",w)&&t(T,w)},o=T=>{var w,S,C,R,B;for(const[O,N]of Object.entries((w=T.item)!=null?w:{})){const L=Array.isArray(N)?N:[N];for(const M of L)t(O,M.item)}for(const[O,N]of Object.entries((S=T.items)!=null?S:{})){const L=Array.isArray(N)?N:[N];for(const M of L)n(O,M.item)}for(const[O,N]of Object.entries((C=T.sealed_item)!=null?C:{})){const L=Array.isArray(N)?N:[N];for(const M of L)(R=M.item)!=null&&R.item&&t(O,M.item.item),(B=M.items)!=null&&B.item&&n(O,M.items.item)}};o(e.object);for(const T of(s=e.object.palettes)!=null?s:[])typeof T=="string"&&o(this.byId("palette",T));const r=new Set,f=new Set;for(const T of(u=e.object.rows)!=null?u:[])for(const w of T)f.add(w);for(const T of f){const w=(c=l.get(T))!=null?c:new Set;for(const S of w)r.add(S)}for(const T of(m=e.object.place_item)!=null?m:[])r.add(T.item);for(const T of($=e.object.place_items)!=null?$:[]){const w=typeof T.item=="string"?this.byId("item_group",T.item):Array.isArray(T.item)?{subtype:"collection",entries:T.item}:T.item;if(w)for(const{id:S}of this.flattenItemGroup(w))r.add(S);else typeof T=="string"&&this.byId("item",T)&&r.add(T)}for(const T of(v=e.object.place_loot)!=null?v:[])if(T.item&&r.add(T.item),T.group)for(const{id:w}of this.flattenItemGroup(this.byId("item_group",T.group)))r.add(w);for(const T of(E=e.object.add)!=null?E:[])r.add(T.item);const a=[...r];return this._cachedMapgenSpawnItems.set(e,a),a}flattenItemGroup(e){var s,u,c,m,$;if(this._flattenItemGroupCache.has(e))return this._flattenItemGroupCache.get(e);const l=new Map;function t({id:v,prob:E,count:T}){var B;const{prob:w,count:S}=(B=l.get(v))!=null?B:{prob:0,count:[0,0]},C=1-(1-w)*(1-E),R=[T[0]+S[0],T[1]+S[1]];l.set(v,{prob:C,count:R})}function n(...v){v.forEach(t)}e["container-item"]&&n({id:e["container-item"],prob:1,count:[1,1]});const o=[];if(e.subtype==="old"||!e.subtype)for(const v of e.items)Array.isArray(v)?o.push({item:v[0],prob:v[1]}):o.push(v);else{for(const v of(s=e.entries)!=null?s:[])Array.isArray(v)?o.push({item:v[0],prob:v[1]}):o.push(v);for(const v of(u=e.items)!=null?u:[])Array.isArray(v)?o.push({item:v[0],prob:v[1]}):typeof v=="string"?o.push({item:v,prob:100}):o.push(v);for(const v of(c=e.groups)!=null?c:[])Array.isArray(v)?o.push({group:v[0],prob:v[1]}):typeof v=="string"?o.push({group:v,prob:100}):o.push(v)}function r(v,E,T){return{id:v.id,prob:v.prob*E,count:[v.count[0]*T[0],v.count[1]*T[1]]}}function f(v){return v.count?typeof v.count=="number"?[v.count,v.count]:v.count:v.charges?typeof v.charges=="number"?[v.charges,v.charges]:v.charges:[1,1]}if(e.subtype==="collection")for(const v of o){const{prob:E=100}=v,T=Math.min(E,100)/100,w=f(v);if(v["container-item"]&&n({id:v["container-item"],prob:T,count:[1,1]}),"item"in v){n({id:v.item,prob:T,count:w});const S=this.byId("item",v.item);S&&S.container&&n({id:S.container,prob:T,count:w})}else if("group"in v)n(...this.flattenItemGroup(this.byId("item_group",v.group)).map(S=>r(S,T,w)));else if("collection"in v)n(...this.flattenItemGroup({subtype:"collection",entries:v.collection}).map(S=>r(S,T,w)));else if("distribution"in v)n(...this.flattenItemGroup({subtype:"distribution",entries:v.distribution}).map(S=>r(S,T,w)));else throw new Error(`unknown item group entry: ${JSON.stringify(v)}`)}else{let v=0;for(const E of o)v+=(m=E.prob)!=null?m:100;for(const E of o){const T=(($=E.prob)!=null?$:100)/v,w=f(E);if(E["container-item"]&&n({id:E["container-item"],prob:T,count:[1,1]}),"item"in E)n({id:E.item,prob:T,count:w});else if("group"in E)n(...this.flattenItemGroup(this.byId("item_group",E.group)).map(S=>r(S,T,w)));else if("collection"in E)n(...this.flattenItemGroup({subtype:"collection",entries:E.collection}).map(S=>r(S,T,w)));else if("distribution"in E)n(...this.flattenItemGroup({subtype:"distribution",entries:E.distribution}).map(S=>r(S,T,w)));else throw new Error(`unknown item group entry: ${JSON.stringify(E)}`)}}const a=[...l.entries()].map(([v,E])=>({id:v,...E}));return this._flattenItemGroupCache.set(e,a),a}_flatRequirementCacheForOpts(e){if((e==null?void 0:e.expandSubstitutes)&&(e==null?void 0:e.onlyRecoverable))throw new Error("didn't expect to see expandSubstitutes && onlyRecoverable");return e!=null&&e.expandSubstitutes?this._flatRequirementCacheExpandSubs:e!=null&&e.onlyRecoverable?this._flatRequirementCacheOnlyRecoverable:this._flatRequirementCache}flattenRequirement(e,l,t){const n=this._flatRequirementCacheForOpts(t);if(n.has(e))return n.get(e);const{expandSubstitutes:o=!1,onlyRecoverable:r=!1}=t!=null?t:{},f=o?s=>s.flatMap(u=>Kh(this,u)):s=>s,a=kr(e).map(s=>f(R1(this,s,u=>kr(l(u)),r))).map(s=>r?s.filter(u=>{var c;return!((c=this.byId("item",u.id).flags)!=null?c:[]).includes("UNRECOVERABLE")}):s).filter(s=>s.length);return n.set(e,a),a}normalizeRequirements(e){const l=typeof e.using=="string"?[[e.using,1]]:e.using,t=(l!=null?l:[]).map(([f,a])=>[this.byId("requirement",f),a]).concat([[e,1]]).filter(f=>f[0]),n=t.flatMap(([f,a])=>{var s;return this.flattenRequirement((s=f.tools)!=null?s:[],u=>u.tools,{expandSubstitutes:!0}).map(u=>u.map(c=>({...c,count:c.count*a})))}),o=t.flatMap(([f,a])=>{var s;return((s=f.qualities)!=null?s:[]).map(u=>Array.isArray(u)?u:[u])}),r=t.flatMap(([f,a])=>{var s;return this.flattenRequirement((s=f.components)!=null?s:[],u=>u.components).map(u=>u.map(c=>({...c,count:c.count*a})))});return{tools:n,qualities:o,components:r}}getItemComponents(){if(this._itemComponentCache)return this._itemComponentCache;const e=new Map,l=new Map;return this.byType("recipe").forEach(t=>{if(!t.result||!this.byId("item",t.result))return!1;const n=typeof t.using=="string"?[[t.using,1]]:t.using,o=(n!=null?n:[]).map(([a,s])=>[this.byId("requirement",a),s]).concat([[t,1]]),r=o.flatMap(([a])=>{var s;return this.flattenRequirement((s=a.tools)!=null?s:[],u=>u.tools)});for(const a of r)for(const s of a)e.has(s.id)||e.set(s.id,new Set),e.get(s.id).add(t.result);const f=o.flatMap(([a,s])=>{var u;return this.flattenRequirement((u=a.components)!=null?u:[],c=>c.components).map(c=>c.map(m=>({...m,count:m.count*s})))});for(const a of f)for(const s of a)l.has(s.id)||l.set(s.id,new Set),l.get(s.id).add(t.result)}),this._itemComponentCache={byTool:e,byComponent:l},this._itemComponentCache}normalizeItemGroup(e,l){return e?typeof e=="string"?this.byId("item_group",e):Array.isArray(e)?{subtype:l,entries:e}:{subtype:l,...e}:{subtype:l,entries:[]}}}function R1(i,e,l,t=!1){var o;const n=[];for(const r of e)if(Array.isArray(r)){const[f,a,...s]=r,u=s.includes("LIST");if(s.includes("NO_RECOVER")&&t)continue;if(u){const m=i.byId("requirement",f);m.type!=="requirement"&&console.error(`Expected a requirement, got ${m.type} (id=${m.id})`);const v=((o=l(m))!=null?o:[])[0];n.push(...R1(i,v,l,t).map(E=>({...E,count:E.count*a})))}else n.push({id:f,count:a})}else if(typeof r=="string")n.push({id:r,count:1});else throw new Error("unexpected choice type");return n}function Kh(i,e){const l=i.replacementTools(e.id);return[e,...l.map(t=>({id:t,count:e.count}))]}function kr(i){return i.map(e=>Array.isArray(e)?e:[e])}const an=i=>i.type==="AMMO"||i.type==="COMESTIBLE"||i.stackable;function mn(i){return Array.isArray(i)?i:"values"in i?i.values:[i]}const Zh=["cover_left","cover_right","hatch_wheel_left","hatch_wheel_right","wheel_left","wheel_right","cross_unconnected","cross","horizontal_front_edge","horizontal_front","horizontal_rear_edge","horizontal_rear","horizontal_2_front","horizontal_2_rear","ne_edge","nw_edge","se_edge","sw_edge","vertical_right","vertical_left","vertical_2_right","vertical_2_left","vertical_T_right","vertical_T_left","front_right","front_left","rear_right","rear_left","cover","vertical","horizontal","vertical_2","horizontal_2","ne","nw","se","sw","front","rear","left","right"],N1=(i,e)=>{if(i.byId("vehicle_part",e))return[e,""];for(const l of Zh)if(e.endsWith("_"+l))return[e.slice(0,e.length-l.length-1),l];return[e,""]};function O1(i){var e;return{subtype:"collection",entries:((e=i.items)!=null?e:[]).map(l=>l.items?{collection:(typeof l.items=="string"?[l.items]:l.items).map(t=>({item:t})),prob:l.chance}:l.item_groups?{collection:(typeof l.item_groups=="string"?[l.item_groups]:l.item_groups).map(t=>({group:t})),prob:l.chance}:{distribution:[]})}}const Qh=async i=>{const e=await fetch(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${i}/all.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching data`);const l=await e.json();return new Jh(l.data,l.build_number,l.release)};async function xh(i){for(;;)try{return await i()}catch(e){console.error(e),await new Promise(l=>setTimeout(l,2e3))}}let Ao=!1;const{subscribe:eg,set:tg}=Ni(null),Mo={subscribe:eg,setVersion(i){if(Ao)throw new Error("can only set version once");Ao=!0,xh(()=>Qh(i)).then(tg)}};function lg(i){let e,l=(i[4]?(i[2]?Bo:ge)(i[4]):i[1])+"",t,n;return{c(){e=p("a"),t=y(l),fe(e,"href",n="#/"+i[0]+"/"+i[1])},m(o,r){g(o,e,r),d(e,t)},p(o,r){r&22&&l!==(l=(o[4]?(o[2]?Bo:ge)(o[4]):o[1])+"")&&Y(t,l),r&3&&n!==(n="#/"+o[0]+"/"+o[1])&&fe(e,"href",n)},i:ee,o:ee,d(o){o&&h(e)}}}function ng(i){let e,l=!an(i[4]),t,n,o=an(i[4]),r,f=l&&Do(i);n=new re({props:{type:i[0],id:i[1],plural:Go(i[3])&&!an(i[4])}});let a=o&&Lo(i);return{c(){e=p("span"),f&&f.c(),t=I(),P(n.$$.fragment),a&&a.c(),Qe(e,"white-space","nowrap")},m(s,u){g(s,e,u),f&&f.m(e,null),d(e,t),U(n,e,null),a&&a.m(e,null),r=!0},p(s,u){u&16&&(l=!an(s[4])),l?f?f.p(s,u):(f=Do(s),f.c(),f.m(e,t)):f&&(f.d(1),f=null);const c={};u&1&&(c.type=s[0]),u&2&&(c.id=s[1]),u&24&&(c.plural=Go(s[3])&&!an(s[4])),n.$set(c),u&16&&(o=an(s[4])),o?a?a.p(s,u):(a=Lo(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(s){r||(b(n.$$.fragment,s),r=!0)},o(s){k(n.$$.fragment,s),r=!1},d(s){s&&h(e),f&&f.d(),q(n),a&&a.d()}}}function Do(i){let e=Bi(i[3])+"",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},p(t,n){n&8&&e!==(e=Bi(t[3])+"")&&Y(l,e)},d(t){t&&h(l)}}}function Lo(i){let e=" ",l,t,n=Bi(i[3])+"",o,r;return{c(){l=y(e),t=y("("),o=y(n),r=y(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&8&&n!==(n=Bi(f[3])+"")&&Y(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function ig(i){let e,l,t,n;const o=[ng,lg],r=[];function f(a,s){return a[3]!=null?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(Q(),k(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Bi(i){return typeof i=="number"?i.toString():i[0]===i[1]?i[0].toString():`${i[0]}\u2013${i[1]}`}function Go(i){return typeof i=="number"?i!==1:i[0]===i[1]?i[0]!==1:!0}function rg(i,e,l){let{type:t}=e,{id:n}=e,{plural:o=!1}=e,{count:r=void 0}=e;const f=nt("data");let a=f.byId(t,n);return(a==null?void 0:a.type)==="vehicle_part"&&!a.name&&a.item&&(a=f.byId("item",a.item)),i.$$set=s=>{"type"in s&&l(0,t=s.type),"id"in s&&l(1,n=s.id),"plural"in s&&l(2,o=s.plural),"count"in s&&l(3,r=s.count)},[t,n,o,r,a]}class re extends Xe{constructor(e){super(),Ve(this,e,rg,ig,We,{type:0,id:1,plural:2,count:3})}}const og=async i=>{var t,n;const e=await fetch(`${i}/tile_config.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching tile data`);const l=await e.json();for(const o of l["tiles-new"]){const r=await fetch(`${i}/${o.file}`).then(c=>c.blob()),f=URL.createObjectURL(r),a=new Image;a.src=f;try{await new Promise((c,m)=>{a.onload=c,a.onerror=m})}finally{URL.revokeObjectURL(f)}const s=a.width/((t=o.sprite_width)!=null?t:l.tile_info[0].width)|0,u=a.height/((n=o.sprite_height)!=null?n:l.tile_info[0].height)|0;o.nx=s,o.ny=u}return l},{subscribe:fg,set:Uo}=Ni(null),B1={subscribe:fg,setURL(i){i?og(i).then(e=>{Uo({...e,baseUrl:i})}):Uo(null)}},Ut=0,ul=1,ll=2,nl=3,il=4,rl=5,ol=6,Xt=7,vr={},je=(i,e,l)=>{vr[i]=[e,l]};je(1,Xt,Ut);je(2,ul,Ut);je(3,ll,Ut);je(4,il,Ut);je(5,ol,Ut);je(6,rl,Ut);je(7,nl,Ut);je(8,Ut,Xt);je(9,Ut,ul);je(10,Ut,ll);je(11,Ut,il);je(12,Ut,ol);je(13,Ut,rl);je(14,Ut,nl);je(15,Xt,il);je(16,ul,il);je(17,ll,il);je(18,il,il);je(19,ol,il);je(20,Ut,il);je(21,rl,il);je(22,nl,il);je(23,Xt,ul);je(24,ul,ul);je(25,ll,ul);je(26,il,ul);je(27,ol,ul);je(28,rl,ul);je(29,nl,ul);je(30,Ut,Ut);je(31,Xt,Ut);je(32,Ut,Xt);je(33,Xt,Xt);je(34,ul,Xt);je(35,ll,Xt);je(36,nl,Xt);je(37,il,Xt);je(38,rl,Xt);je(39,ol,Xt);je(40,Ut,ll);je(41,Xt,ll);je(42,ul,ll);je(43,ll,ll);je(44,nl,ll);je(45,il,ll);je(46,rl,ll);je(47,ol,ll);je(48,Ut,nl);je(49,Xt,nl);je(50,ul,nl);je(51,ll,nl);je(52,nl,nl);je(53,il,nl);je(54,rl,nl);je(55,ol,nl);je(56,Ut,rl);je(57,Xt,rl);je(58,ul,rl);je(59,ll,rl);je(60,nl,rl);je(61,il,rl);je(62,rl,rl);je(63,ol,rl);je(64,Ut,ol);je(65,Xt,ol);je(66,ul,ol);je(67,ll,ol);je(68,nl,ol);je(69,il,ol);je(70,rl,ol);je(71,ol,ol);function pe(i){return{fg:vr[i][0],bg:vr[i][1],bold(){return{...this,is_bold:!0}},blink(){return{...this,is_blink:!0}},is_bold:!1,is_blink:!1,color(){let e=this.fg,l=this.bg;return this.is_bold&&(e=e+8),this.is_blink&&(l=l+8),{fg:e,bg:l}}}}function yr(i){return i?i[1]!="_"?yr("c_"+i):A1[i]:yr("c_white")}const A1={};function he(i,e,l,t){A1[e]={...l.color(),inverse:t}}he("def_c_black","c_black",pe(30),"def_i_black");he("def_c_white","c_white",pe(1).bold(),"def_i_white");he("def_c_light_gray","c_light_gray",pe(1),"def_i_light_gray");he("def_c_dark_gray","c_dark_gray",pe(30).bold(),"def_i_dark_gray");he("def_c_red","c_red",pe(2),"def_i_red");he("def_c_green","c_green",pe(3),"def_i_green");he("def_c_blue","c_blue",pe(4),"def_i_blue");he("def_c_cyan","c_cyan",pe(5),"def_i_cyan");he("def_c_magenta","c_magenta",pe(6),"def_i_magenta");he("def_c_brown","c_brown",pe(7),"def_i_brown");he("def_c_light_red","c_light_red",pe(2).bold(),"def_i_light_red");he("def_c_light_green","c_light_green",pe(3).bold(),"def_i_light_green");he("def_c_light_blue","c_light_blue",pe(4).bold(),"def_i_light_blue");he("def_c_light_cyan","c_light_cyan",pe(5).bold(),"def_i_light_cyan");he("def_c_pink","c_pink",pe(6).bold(),"def_i_pink");he("def_c_yellow","c_yellow",pe(7).bold(),"def_i_yellow");he("def_h_black","h_black",pe(20),"def_c_blue");he("def_h_white","h_white",pe(15).bold(),"def_c_light_blue_white");he("def_h_light_gray","h_light_gray",pe(15),"def_c_blue_white");he("def_h_dark_gray","h_dark_gray",pe(20).bold(),"def_c_light_blue");he("def_h_red","h_red",pe(16),"def_c_blue_red");he("def_h_green","h_green",pe(17),"def_c_blue_green");he("def_h_blue","h_blue",pe(20),"def_h_blue");he("def_h_cyan","h_cyan",pe(19),"def_c_blue_cyan");he("def_h_magenta","h_magenta",pe(21),"def_c_blue_magenta");he("def_h_brown","h_brown",pe(22),"def_c_blue_yellow");he("def_h_light_red","h_light_red",pe(16).bold(),"def_c_light_blue_red");he("def_h_light_green","h_light_green",pe(17).bold(),"def_c_light_blue_green");he("def_h_light_blue","h_light_blue",pe(18).bold(),"def_h_light_blue");he("def_h_light_cyan","h_light_cyan",pe(19).bold(),"def_c_light_blue_cyan");he("def_h_pink","h_pink",pe(21).bold(),"def_c_light_blue_magenta");he("def_h_yellow","h_yellow",pe(22).bold(),"def_c_light_blue_yellow");he("def_i_black","i_black",pe(32),"def_c_black");he("def_i_white","i_white",pe(8).blink(),"def_c_white");he("def_i_light_gray","i_light_gray",pe(8),"def_c_light_gray");he("def_i_dark_gray","i_dark_gray",pe(32).blink(),"def_c_dark_gray");he("def_i_red","i_red",pe(9),"def_c_red");he("def_i_green","i_green",pe(10),"def_c_green");he("def_i_blue","i_blue",pe(11),"def_c_blue");he("def_i_cyan","i_cyan",pe(12),"def_c_cyan");he("def_i_magenta","i_magenta",pe(13),"def_c_magenta");he("def_i_brown","i_brown",pe(14),"def_c_brown");he("def_i_light_red","i_light_red",pe(9).blink(),"def_c_light_red");he("def_i_light_green","i_light_green",pe(10).blink(),"def_c_light_green");he("def_i_light_blue","i_light_blue",pe(11).blink(),"def_c_light_blue");he("def_i_light_cyan","i_light_cyan",pe(12).blink(),"def_c_light_cyan");he("def_i_pink","i_pink",pe(13).blink(),"def_c_pink");he("def_i_yellow","i_yellow",pe(14).blink(),"def_c_yellow");he("def_c_black_red","c_black_red",pe(9).bold(),"def_c_red");he("def_c_white_red","c_white_red",pe(23).bold(),"def_c_red_white");he("def_c_light_gray_red","c_light_gray_red",pe(23),"def_c_light_red_white");he("def_c_dark_gray_red","c_dark_gray_red",pe(9),"def_c_dark_gray_red");he("def_c_red_red","c_red_red",pe(9),"def_c_red_red");he("def_c_green_red","c_green_red",pe(25),"def_c_red_green");he("def_c_blue_red","c_blue_red",pe(26),"def_h_red");he("def_c_cyan_red","c_cyan_red",pe(27),"def_c_red_cyan");he("def_c_magenta_red","c_magenta_red",pe(28),"def_c_red_magenta");he("def_c_brown_red","c_brown_red",pe(29),"def_c_red_yellow");he("def_c_light_red_red","c_light_red_red",pe(24).bold(),"def_c_red_red");he("def_c_light_green_red","c_light_green_red",pe(25).bold(),"def_c_light_red_green");he("def_c_light_blue_red","c_light_blue_red",pe(26).bold(),"def_h_light_red");he("def_c_light_cyan_red","c_light_cyan_red",pe(27).bold(),"def_c_light_red_cyan");he("def_c_pink_red","c_pink_red",pe(28).bold(),"def_c_light_red_magenta");he("def_c_yellow_red","c_yellow_red",pe(29).bold(),"def_c_red_yellow");he("def_c_unset","c_unset",pe(31),"def_c_unset");he("def_c_black_white","c_black_white",pe(32),"def_c_light_gray");he("def_c_dark_gray_white","c_dark_gray_white",pe(32).bold(),"def_c_white");he("def_c_light_gray_white","c_light_gray_white",pe(33),"def_c_light_gray_white");he("def_c_white_white","c_white_white",pe(33).bold(),"def_c_white_white");he("def_c_red_white","c_red_white",pe(34),"def_c_white_red");he("def_c_light_red_white","c_light_red_white",pe(34).bold(),"def_c_light_gray_red");he("def_c_green_white","c_green_white",pe(35),"def_c_light_gray_green");he("def_c_light_green_white","c_light_green_white",pe(35).bold(),"def_c_white_green");he("def_c_brown_white","c_brown_white",pe(36),"def_c_light_gray_yellow");he("def_c_yellow_white","c_yellow_white",pe(36).bold(),"def_c_white_yellow");he("def_c_blue_white","c_blue_white",pe(37),"def_h_light_gray");he("def_c_light_blue_white","c_light_blue_white",pe(37).bold(),"def_h_white");he("def_c_magenta_white","c_magenta_white",pe(38),"def_c_light_gray_magenta");he("def_c_pink_white","c_pink_white",pe(38).bold(),"def_c_white_magenta");he("def_c_cyan_white","c_cyan_white",pe(39),"def_c_light_gray_cyan");he("def_c_light_cyan_white","c_light_cyan_white",pe(39).bold(),"def_c_white_cyan");he("def_c_black_green","c_black_green",pe(40),"def_c_green");he("def_c_dark_gray_green","c_dark_gray_green",pe(40).bold(),"def_c_light_green");he("def_c_light_gray_green","c_light_gray_green",pe(41),"def_c_green_white");he("def_c_white_green","c_white_green",pe(41).bold(),"def_c_light_green_white");he("def_c_red_green","c_red_green",pe(42),"def_c_green_red");he("def_c_light_red_green","c_light_red_green",pe(42).bold(),"def_c_light_green_red");he("def_c_green_green","c_green_green",pe(43),"def_c_green_green");he("def_c_light_green_green","c_light_green_green",pe(43).bold(),"def_c_light_green_green");he("def_c_brown_green","c_brown_green",pe(44),"def_c_green_yellow");he("def_c_yellow_green","c_yellow_green",pe(44).bold(),"def_c_light_green_yellow");he("def_c_blue_green","c_blue_green",pe(45),"def_h_green");he("def_c_light_blue_green","c_light_blue_green",pe(45).bold(),"def_h_light_green");he("def_c_magenta_green","c_magenta_green",pe(46),"def_c_green_magenta");he("def_c_pink_green","c_pink_green",pe(46).bold(),"def_c_light_green_magenta");he("def_c_cyan_green","c_cyan_green",pe(47),"def_c_green_cyan");he("def_c_light_cyan_green","c_light_cyan_green",pe(47).bold(),"def_c_light_green_cyan");he("def_c_black_yellow","c_black_yellow",pe(48),"def_c_brown");he("def_c_dark_gray_yellow","c_dark_gray_yellow",pe(48).bold(),"def_c_yellow");he("def_c_light_gray_yellow","c_light_gray_yellow",pe(49),"def_c_brown_white");he("def_c_white_yellow","c_white_yellow",pe(49).bold(),"def_c_yellow_white");he("def_c_red_yellow","c_red_yellow",pe(50),"def_c_yellow_red");he("def_c_light_red_yellow","c_light_red_yellow",pe(50).bold(),"def_c_yellow_red");he("def_c_green_yellow","c_green_yellow",pe(51),"def_c_brown_green");he("def_c_light_green_yellow","c_light_green_yellow",pe(51).bold(),"def_c_yellow_green");he("def_c_brown_yellow","c_brown_yellow",pe(52),"def_c_brown_yellow");he("def_c_yellow_yellow","c_yellow_yellow",pe(52).bold(),"def_c_yellow_yellow");he("def_c_blue_yellow","c_blue_yellow",pe(53),"def_h_brown");he("def_c_light_blue_yellow","c_light_blue_yellow",pe(53).bold(),"def_h_yellow");he("def_c_magenta_yellow","c_magenta_yellow",pe(54),"def_c_brown_magenta");he("def_c_pink_yellow","c_pink_yellow",pe(54).bold(),"def_c_yellow_magenta");he("def_c_cyan_yellow","c_cyan_yellow",pe(55),"def_c_brown_cyan");he("def_c_light_cyan_yellow","c_light_cyan_yellow",pe(55).bold(),"def_c_yellow_cyan");he("def_c_black_magenta","c_black_magenta",pe(56),"def_c_magenta");he("def_c_dark_gray_magenta","c_dark_gray_magenta",pe(56).bold(),"def_c_pink");he("def_c_light_gray_magenta","c_light_gray_magenta",pe(57),"def_c_magenta_white");he("def_c_white_magenta","c_white_magenta",pe(57).bold(),"def_c_pink_white");he("def_c_red_magenta","c_red_magenta",pe(58),"def_c_magenta_red");he("def_c_light_red_magenta","c_light_red_magenta",pe(58).bold(),"def_c_pink_red");he("def_c_green_magenta","c_green_magenta",pe(59),"def_c_magenta_green");he("def_c_light_green_magenta","c_light_green_magenta",pe(59).bold(),"def_c_pink_green");he("def_c_brown_magenta","c_brown_magenta",pe(60),"def_c_magenta_yellow");he("def_c_yellow_magenta","c_yellow_magenta",pe(60).bold(),"def_c_pink_yellow");he("def_c_blue_magenta","c_blue_magenta",pe(61),"def_h_magenta");he("def_c_light_blue_magenta","c_light_blue_magenta",pe(61).bold(),"def_h_pink");he("def_c_magenta_magenta","c_magenta_magenta",pe(62),"def_c_magenta_magenta");he("def_c_pink_magenta","c_pink_magenta",pe(62).bold(),"def_c_pink_magenta");he("def_c_cyan_magenta","c_cyan_magenta",pe(63),"def_c_magenta_cyan");he("def_c_light_cyan_magenta","c_light_cyan_magenta",pe(63).bold(),"def_c_pink_cyan");he("def_c_black_cyan","c_black_cyan",pe(64),"def_c_cyan");he("def_c_dark_gray_cyan","c_dark_gray_cyan",pe(64).bold(),"def_c_light_cyan");he("def_c_light_gray_cyan","c_light_gray_cyan",pe(65),"def_c_cyan_white");he("def_c_white_cyan","c_white_cyan",pe(65).bold(),"def_c_light_cyan_white");he("def_c_red_cyan","c_red_cyan",pe(66),"def_c_cyan_red");he("def_c_light_red_cyan","c_light_red_cyan",pe(66).bold(),"def_c_light_cyan_red");he("def_c_green_cyan","c_green_cyan",pe(67),"def_c_cyan_green");he("def_c_light_green_cyan","c_light_green_cyan",pe(67).bold(),"def_c_light_cyan_green");he("def_c_brown_cyan","c_brown_cyan",pe(68),"def_c_cyan_yellow");he("def_c_yellow_cyan","c_yellow_cyan",pe(68).bold(),"def_c_light_cyan_yellow");he("def_c_blue_cyan","c_blue_cyan",pe(69),"def_h_cyan");he("def_c_light_blue_cyan","c_light_blue_cyan",pe(69).bold(),"def_h_light_cyan");he("def_c_magenta_cyan","c_magenta_cyan",pe(70),"def_c_cyan_magenta");he("def_c_pink_cyan","c_pink_cyan",pe(70).bold(),"def_c_light_cyan_magenta");he("def_c_cyan_cyan","c_cyan_cyan",pe(71),"def_c_cyan_cyan");he("def_c_light_cyan_cyan","c_light_cyan_cyan",pe(71).bold(),"def_c_light_cyan_cyan");function sg(i){let e,l;return{c(){e=p("span"),l=y(i[3]),Qe(e,"font-family","monospace"),fe(e,"class","c_"+i[4]+" svelte-17io91a")},m(t,n){g(t,e,n),d(e,l)},p:ee,d(t){t&&h(e)}}}function ag(i){let e,l,t,n=i[1].bg!=null&&qo(i),o=i[1].fg!=null&&Po(i);return{c(){e=p("div"),n&&n.c(),l=I(),o&&o.c(),fe(e,"style",t=vn({width:`${i[2].width*i[2].pixelscale}px`,height:`${i[2].height*i[2].pixelscale}px`})),fe(e,"class","tile-icon svelte-17io91a")},m(r,f){g(r,e,f),n&&n.m(e,null),d(e,l),o&&o.m(e,null)},p(r,f){r[1].bg!=null?n?n.p(r,f):(n=qo(r),n.c(),n.m(e,l)):n&&(n.d(1),n=null),r[1].fg!=null?o?o.p(r,f):(o=Po(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null),f&4&&t!==(t=vn({width:`${r[2].width*r[2].pixelscale}px`,height:`${r[2].height*r[2].pixelscale}px`}))&&fe(e,"style",t)},d(r){r&&h(e),n&&n.d(),o&&o.d()}}}function qo(i){let e,l;return{c(){e=p("div"),fe(e,"class","icon-layer bg svelte-17io91a"),fe(e,"style",l=vn({width:`${i[1].bg.width}px`,height:`${i[1].bg.height}px`,"background-image":`url(${`${i[0]}/${encodeURIComponent(i[1].bg.file)}`})`,"background-position":`${-i[1].bg.tx*i[1].bg.width}px ${-i[1].bg.ty*i[1].bg.height}px`,transform:`scale(${i[2].pixelscale}) translate(${i[1].bg.offx}px, ${i[1].bg.offy}px)`}))},m(t,n){g(t,e,n)},p(t,n){n&7&&l!==(l=vn({width:`${t[1].bg.width}px`,height:`${t[1].bg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].bg.file)}`})`,"background-position":`${-t[1].bg.tx*t[1].bg.width}px ${-t[1].bg.ty*t[1].bg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].bg.offx}px, ${t[1].bg.offy}px)`}))&&fe(e,"style",l)},d(t){t&&h(e)}}}function Po(i){let e,l;return{c(){e=p("div"),fe(e,"class","icon-layer fg svelte-17io91a"),fe(e,"style",l=vn({width:`${i[1].fg.width}px`,height:`${i[1].fg.height}px`,"background-image":`url(${`${i[0]}/${encodeURIComponent(i[1].fg.file)}`})`,"background-position":`${-i[1].fg.tx*i[1].fg.width}px ${-i[1].fg.ty*i[1].fg.height}px`,transform:`scale(${i[2].pixelscale}) translate(${i[1].fg.offx}px, ${i[1].fg.offy}px)`}))},m(t,n){g(t,e,n)},p(t,n){n&7&&l!==(l=vn({width:`${t[1].fg.width}px`,height:`${t[1].fg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].fg.file)}`})`,"background-position":`${-t[1].fg.tx*t[1].fg.width}px ${-t[1].fg.ty*t[1].fg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].fg.offx}px, ${t[1].fg.offy}px)`}))&&fe(e,"style",l)},d(t){t&&h(e)}}}function ug(i){let e;function l(o,r){return o[1]?ag:sg}let t=l(i),n=t(i);return{c(){n.c(),e=le()},m(o,r){n.m(o,r),g(o,e,r)},p(o,[r]){t===(t=l(o))&&n?n.p(o,r):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},i:ee,o:ee,d(o){n.d(o),o&&h(e)}}}function M1(i){return typeof i=="string"?`i_${i}`:M1(i[0])}function Fo(i,e){if(!i||!e)return;let l=0;const t=[];for(const r of i["tiles-new"])t.push({from:l,to:l+r.nx*r.ny,chunk:r}),l+=r.nx*r.ny;function n(r){for(const f of t)if(r>=f.from&&r<f.to)return f}function o(r){var c,m,$,v;if(r==null)return;const f=n(r),a=r-f.from,s=a%f.chunk.nx,u=a/f.chunk.nx|0;return{file:f.chunk.file,width:(c=f.chunk.sprite_width)!=null?c:i.tile_info[0].width,height:(m=f.chunk.sprite_height)!=null?m:i.tile_info[0].height,offx:($=f.chunk.sprite_offset_x)!=null?$:0,offy:(v=f.chunk.sprite_offset_y)!=null?v:0,tx:s,ty:u}}for(const r of i["tiles-new"]){for(const f of r.tiles)if(Array.isArray(f.id)&&f.id.includes(e)||f.id===e){let a=Array.isArray(f.fg)?f.fg[0]:f.fg,s=Array.isArray(f.bg)?f.bg[0]:f.bg;return a&&typeof a=="object"&&(a=a.sprite),s&&typeof s=="object"&&(s=s.sprite),{fg:o(a),bg:o(s)}}l+=r.nx*r.ny}}function vn(i){let e="";for(const[l,t]of Object.entries(i))e+=`${l}: ${t};`;return e}function cg(i,e,l){var E;let t,n,o,r;w1(i,B1,T=>l(6,r=T));let{item:f}=e,a=nt("data");const s=(E=[f.symbol].flat()[0])!=null?E:" ",u=/^LINE_/.test(s)?"|":s,c=f.color?typeof f.color=="string"?f.color:f.color[0]:f.bgcolor?M1(f.bgcolor):null;function m(T){return["item","monster","terrain","furniture","vehicle_part"].includes($l(T.type))}function $(T,w,S=10){var N,L,M;function C(X){return w.type==="vehicle_part"?`vp_${X}`:X}const R=Fo(T,C((N=w.id)!=null?N:w.abstract));if(R)return R;const B=(L=w.looks_like)!=null?L:w["copy-from"];if(!B)return;const O=Fo(T,C(B));if(O)return O;if(S>0){const X=(M=a.byId($l(w.type),B))!=null?M:a.abstractById($l(w.type),B);if(X)return $(T,X,S-1)}}function v(T,w,S){var N;if(!T)return;const C=[w].flat()[0],R=C?/^LINE_/.test(C)?"|":C:" ",B=yr(Array.isArray(S)?S[0]:S).fg;for(const L of T["tiles-new"])for(const M of(N=L.ascii)!=null?N:[])if(O(M.color)+(M.bold?8:0)===B){const A=M.offset+R.charCodeAt(0),D=A%L.nx,J=A/L.nx|0;return{fg:{file:L.file,tx:D,ty:J,width:T.tile_info[0].width,height:T.tile_info[0].height,offx:0,offy:0}}}function O(L){return L==="BLACK"?0:L==="RED"?1:L==="GREEN"?2:L==="YELLOW"?3:L==="BLUE"?4:L==="MAGENTA"?5:L==="CYAN"?6:L==="WHITE"?7:-1}}return i.$$set=T=>{"item"in T&&l(5,f=T.item)},i.$$.update=()=>{var T;i.$$.dirty&64&&l(2,t=r==null?void 0:r.tile_info[0]),i.$$.dirty&96&&l(1,n=m(f)?(T=$(r,f))!=null?T:v(r,f.symbol,f.color):null),i.$$.dirty&64&&l(0,o=r==null?void 0:r.baseUrl)},[o,n,t,u,c,f,r]}class tt extends Xe{constructor(e){super(),Ve(this,e,cg,ug,We,{item:5})}}function _g(i){let e,l,t=i[0].cooldown+"",n,o,r;return e=new re({props:{type:"item",id:i[0].gun_type}}),{c(){P(e.$$.fragment),l=y(" (cooldown: "),n=y(t),o=y(")")},m(f,a){U(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,[a]){const s={};a&1&&(s.id=f[0].gun_type),e.$set(s),(!r||a&1)&&t!==(t=f[0].cooldown+"")&&Y(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){q(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function dg(i,e,l){let{attack:t}=e;return i.$$set=n=>{"attack"in n&&l(0,t=n.attack)},[t]}class mg extends Xe{constructor(e){super(),Ve(this,e,dg,_g,We,{attack:0})}}function pg(i){let e=i[0].id+"",l,t,n,o="damage_max_instance"in i[0]&&Yo(i),r=i[0].cooldown&&jo(i);return{c(){l=y(e),o&&o.c(),t=le(),r&&r.c(),n=le()},m(f,a){g(f,l,a),o&&o.m(f,a),g(f,t,a),r&&r.m(f,a),g(f,n,a)},p(f,a){a&1&&e!==(e=f[0].id+"")&&Y(l,e),"damage_max_instance"in f[0]?o?o.p(f,a):(o=Yo(f),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),f[0].cooldown?r?r.p(f,a):(r=jo(f),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:ee,o:ee,d(f){f&&h(l),o&&o.d(f),f&&h(t),r&&r.d(f),f&&h(n)}}}function hg(i){let e,l,t,n;const o=[$g,bg],r=[];function f(a,s){return a[0].type==="gun"?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(Q(),k(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function gg(i){let e=i[0][0]+"",l,t,n=i[0].length>1&&Wo(i);return{c(){l=y(e),n&&n.c(),t=le()},m(o,r){g(o,l,r),n&&n.m(o,r),g(o,t,r)},p(o,r){r&1&&e!==(e=o[0][0]+"")&&Y(l,e),o[0].length>1?n?n.p(o,r):(n=Wo(o),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ee,o:ee,d(o){o&&h(l),n&&n.d(o),o&&h(t)}}}function Yo(i){let e,l=mn(i[0].damage_max_instance).map(zo).join(" ")+"",t;return{c(){e=y(`:
    `),t=y(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o&1&&l!==(l=mn(n[0].damage_max_instance).map(zo).join(" ")+"")&&Y(t,l)},d(n){n&&h(e),n&&h(t)}}}function jo(i){let e=" ",l,t,n=i[0].cooldown+"",o,r;return{c(){l=y(e),t=y("(cooldown: "),o=y(n),r=y(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&1&&n!==(n=f[0].cooldown+"")&&Y(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function bg(i){let e=i[0].type+"",l,t,n=i[0].cooldown&&Ho(i);return{c(){l=y(e),n&&n.c(),t=le()},m(o,r){g(o,l,r),n&&n.m(o,r),g(o,t,r)},p(o,r){r&1&&e!==(e=o[0].type+"")&&Y(l,e),o[0].cooldown?n?n.p(o,r):(n=Ho(o),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ee,o:ee,d(o){o&&h(l),n&&n.d(o),o&&h(t)}}}function $g(i){let e,l;return e=new mg({props:{attack:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.attack=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ho(i){let e=" ",l,t,n=i[0].cooldown+"",o,r;return{c(){l=y(e),t=y("(cooldown: "),o=y(n),r=y(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&1&&n!==(n=f[0].cooldown+"")&&Y(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function Wo(i){let e=" ",l,t,n=i[0][1]+"",o,r;return{c(){l=y(e),t=y("(cooldown: "),o=y(n),r=y(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&1&&n!==(n=f[0][1]+"")&&Y(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function kg(i){let e,l,t,n,o;const r=[gg,hg,pg],f=[];function a(s,u){return u&1&&(e=null),e==null&&(e=!!Array.isArray(s[0])),e?0:"type"in s[0]?1:"id"in s[0]?2:-1}return~(l=a(i,-1))&&(t=f[l]=r[l](i)),{c(){t&&t.c(),n=le()},m(s,u){~l&&f[l].m(s,u),g(s,n,u),o=!0},p(s,[u]){let c=l;l=a(s,u),l===c?~l&&f[l].p(s,u):(t&&(Q(),k(f[c],1,1,()=>{f[c]=null}),x()),~l?(t=f[l],t?t.p(s,u):(t=f[l]=r[l](s),t.c()),b(t,1),t.m(n.parentNode,n)):t=null)},i(s){o||(b(t),o=!0)},o(s){k(t),o=!1},d(s){~l&&f[l].d(s),s&&h(n)}}}const zo=i=>`(${i.damage_type} for ${i.amount} damage)`;function vg(i,e,l){let{special_attack:t}=e;return i.$$set=n=>{"special_attack"in n&&l(0,t=n.special_attack)},[t]}class yg extends Xe{constructor(e){super(),Ve(this,e,vg,kg,We,{special_attack:0})}}function Vo(i,e,l){const t=i.slice();return t[8]=e[l],t}const wg=i=>({item:i&3}),Xo=i=>({item:i[8]});function Jo(i){let e,l;const t=i[5].default,n=E1(t,i,i[4],Xo);return{c(){e=p("li"),n&&n.c()},m(o,r){g(o,e,r),n&&n.m(e,null),l=!0},p(o,r){n&&n.p&&(!l||r&19)&&C1(n,t,o,o[4],l?S1(t,o[4],r,wg):I1(o[4]),Xo)},i(o){l||(b(n,o),l=!0)},o(o){k(n,o),l=!1},d(o){o&&h(e),n&&n.d(o)}}}function Ko(i){let e,l,t=Number(i[0].length).toLocaleString()+"",n,o,r,f;return{c(){e=p("button"),l=y("See all "),n=y(t),o=y("..."),fe(e,"class","disclosure")},m(a,s){g(a,e,s),d(e,l),d(e,n),d(e,o),r||(f=Tl(e,"click",i[6]),r=!0)},p(a,s){s&1&&t!==(t=Number(a[0].length).toLocaleString()+"")&&Y(n,t)},d(a){a&&h(e),r=!1,f()}}}function Eg(i){let e,l,t,n,o=i[0].slice(0,i[1]),r=[];for(let s=0;s<o.length;s+=1)r[s]=Jo(Vo(i,o,s));const f=s=>k(r[s],1,1,()=>{r[s]=null});let a=i[0].length>i[1]&&Ko(i);return{c(){e=p("ul");for(let s=0;s<r.length;s+=1)r[s].c();l=I(),a&&a.c(),t=le()},m(s,u){g(s,e,u);for(let c=0;c<r.length;c+=1)r[c].m(e,null);g(s,l,u),a&&a.m(s,u),g(s,t,u),n=!0},p(s,[u]){if(u&19){o=s[0].slice(0,s[1]);let c;for(c=0;c<o.length;c+=1){const m=Vo(s,o,c);r[c]?(r[c].p(m,u),b(r[c],1)):(r[c]=Jo(m),r[c].c(),b(r[c],1),r[c].m(e,null))}for(Q(),c=o.length;c<r.length;c+=1)f(c);x()}s[0].length>s[1]?a?a.p(s,u):(a=Ko(s),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(s){if(!n){for(let u=0;u<o.length;u+=1)b(r[u]);n=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);n=!1},d(s){s&&h(e),se(r,s),s&&h(l),a&&a.d(s),s&&h(t)}}}function Tg(i,e,l){let{$$slots:t={},$$scope:n}=e,{items:o}=e,{limit:r=10}=e,{grace:f=4}=e,s=globalThis.__isTesting__?1/0:o.length<=r+f?r+f:r;const u=c=>{c.preventDefault(),l(1,s=1/0)};return i.$$set=c=>{"items"in c&&l(0,o=c.items),"limit"in c&&l(2,r=c.limit),"grace"in c&&l(3,f=c.grace),"$$scope"in c&&l(4,n=c.$$scope)},[o,s,r,f,n,t,u]}class at extends Xe{constructor(e){super(),Ve(this,e,Tg,Eg,We,{items:0,limit:2,grace:3})}}function Zo(i,e,l){const t=i.slice();return t[10]=e[l],t}function Qo(i,e,l){const t=i.slice();return t[13]=e[l].id,t[14]=e[l].prob,t}function xo(i,e,l){const t=i.slice();return t[10]=e[l],t}function ef(i,e,l){const t=i.slice();return t[13]=e[l].id,t[14]=e[l].prob,t}function tf(i,e,l){const t=i.slice();return t[21]=e[l],t}function lf(i,e,l){const t=i.slice();return t[24]=e[l],t}function nf(i,e,l){const t=i.slice();return t[27]=e[l],t}function rf(i,e,l){const t=i.slice();return t[27]=e[l],t}function of(i,e,l){const t=i.slice();return t[27]=e[l],t}function ff(i,e,l){const t=i.slice();return t[34]=e[l],t}function sf(i,e,l){const t=i.slice();return t[13]=e[l],t}function af(i){let e,l,t=i[0].bodytype+"",n;return{c(){e=p("dt"),e.textContent="Body Type",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].bodytype+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function uf(i){var o;let e,l,t=((o=i[0].species)!=null?o:[]).join(", ")+"",n;return{c(){e=p("dt"),e.textContent="Species",l=p("dd"),n=y(t)},m(r,f){g(r,e,f),g(r,l,f),d(l,n)},p(r,f){var a;f[0]&1&&t!==(t=((a=r[0].species)!=null?a:[]).join(", ")+"")&&Y(n,t)},d(r){r&&h(e),r&&h(l)}}}function Sg(i){let e,l,t,n,o,r=i[5],f=[];for(let s=0;s<r.length;s+=1)f[s]=cf(sf(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Material",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&32){r=s[5];let c;for(c=0;c<r.length;c+=1){const m=sf(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=cf(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function cf(i){let e,l,t;return l=new re({props:{type:"material",id:i[13]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function _f(i){let e,l,t,n,o=i[0].special_attacks,r=[];for(let a=0;a<o.length;a+=1)r[a]=df(ff(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Special Attacks",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","no-bullets")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s[0]&3){o=a[0].special_attacks;let u;for(u=0;u<o.length;u+=1){const c=ff(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=df(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function Cg(i){let e,l;return e=new yg({props:{special_attack:i[34]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.special_attack=t[34]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ig(i){let e,l;return e=new re({props:{type:"monster_attack",id:i[34][0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.id=t[34][0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function df(i){let e,l,t,n,o,r;const f=[Ig,Cg],a=[];function s(u,c){return c[0]&1&&(l=null),l==null&&(l=!!(u[34][0]&&u[1].byId("monster_attack",u[34][0]))),l?0:1}return t=s(i,[-1,-1]),n=a[t]=f[t](i),{c(){e=p("li"),n.c(),o=I()},m(u,c){g(u,e,c),a[t].m(e,null),d(e,o),r=!0},p(u,c){let m=t;t=s(u,c),t===m?a[t].p(u,c):(Q(),k(a[m],1,1,()=>{a[m]=null}),x(),n=a[t],n?n.p(u,c):(n=a[t]=f[t](u),n.c()),b(n,1),n.m(e,o))},i(u){r||(b(n),r=!0)},o(u){k(n),r=!1},d(u){u&&h(e),a[t].d()}}}function mf(i){let e,l,t=i[0].regenerates+"",n,o;return{c(){e=p("dt"),e.textContent="Regenerates",l=p("dd"),n=y(t),o=y(" hp/turn")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f[0]&1&&t!==(t=r[0].regenerates+"")&&Y(n,t)},d(r){r&&h(e),r&&h(l)}}}function pf(i){let e,l,t=i[0].special_when_hit[0]+"",n,o,r=i[0].special_when_hit[1]+"",f,a;return{c(){e=p("dt"),e.textContent="When Hit",l=p("dd"),n=y(t),o=y(" ("),f=y(r),a=y("%)")},m(s,u){g(s,e,u),g(s,l,u),d(l,n),d(l,o),d(l,f),d(l,a)},p(s,u){u[0]&1&&t!==(t=s[0].special_when_hit[0]+"")&&Y(n,t),u[0]&1&&r!==(r=s[0].special_when_hit[1]+"")&&Y(f,r)},d(s){s&&h(e),s&&h(l)}}}function hf(i){let e,l,t,n,o=i[0].anger_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=gf(of(i,o,f));return{c(){e=p("dt"),e.textContent="Anger Triggers",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&17){o=f[0].anger_triggers;let s;for(s=0;s<o.length;s+=1){const u=of(f,o,s);r[s]?r[s].p(u,a):(r[s]=gf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),se(r,f)}}}function gf(i){let e,l,t=i[27]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=y(t),fe(l,"title",o=i[4][i[27]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&Y(n,t),f[0]&1&&o!==(o=r[4][r[27]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function bf(i){let e,l,t,n,o=i[0].placate_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=$f(rf(i,o,f));return{c(){e=p("dt"),e.textContent="Placate Triggers",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&17){o=f[0].placate_triggers;let s;for(s=0;s<o.length;s+=1){const u=rf(f,o,s);r[s]?r[s].p(u,a):(r[s]=$f(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),se(r,f)}}}function $f(i){let e,l,t=i[27]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=y(t),fe(l,"title",o=i[4][i[27]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&Y(n,t),f[0]&1&&o!==(o=r[4][r[27]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function kf(i){let e,l,t,n,o=i[0].fear_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=vf(nf(i,o,f));return{c(){e=p("dt"),e.textContent="Fear Triggers",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&17){o=f[0].fear_triggers;let s;for(s=0;s<o.length;s+=1){const u=nf(f,o,s);r[s]?r[s].p(u,a):(r[s]=vf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),se(r,f)}}}function vf(i){let e,l,t=i[27]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=y(t),fe(l,"title",o=i[4][i[27]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&Y(n,t),f[0]&1&&o!==(o=r[4][r[27]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function yf(i){var f;let e,l,t,n,o=(f=i[0].flags)!=null?f:[],r=[];for(let a=0;a<o.length;a+=1)r[a]=wf(lf(i,o,a));return{c(){e=p("dt"),e.textContent="Flags",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();n=I(),fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);d(l,n)},p(a,s){var u;if(s[0]&9){o=(u=a[0].flags)!=null?u:[];let c;for(c=0;c<o.length;c+=1){const m=lf(a,o,c);r[c]?r[c].p(m,s):(r[c]=wf(m),r[c].c(),r[c].m(t,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(a){a&&h(e),a&&h(l),se(r,a)}}}function wf(i){let e,l,t=i[24]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=y(t),fe(l,"title",o=i[3][i[24]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[24]+"")&&Y(n,t),f[0]&1&&o!==(o=r[3][r[24]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function Ef(i){let e,l,t,n;function o(a,s){var u;return s[0]&1&&(t=null),t==null&&(t=!!(((u=a[0].death_function.effect)==null?void 0:u.id)&&a[1].byId("SPELL",a[0].death_function.effect.id))),t?Ng:Rg}let r=o(i,[-1,-1]),f=r(i);return{c(){e=p("dt"),e.textContent="On Death",l=p("dd"),f.c(),n=I()},m(a,s){g(a,e,s),g(a,l,s),f.m(l,null),d(l,n)},p(a,s){r===(r=o(a,s))&&f?f.p(a,s):(f.d(1),f=r(a),f&&(f.c(),f.m(l,n)))},d(a){a&&h(e),a&&h(l),f.d()}}}function Rg(i){var t,n,o;let e=((o=(n=(t=i[0].death_function.effect)==null?void 0:t.id)!=null?n:i[0].death_function.corpse_type)!=null?o:"NORMAL")+"",l;return{c(){l=y(e)},m(r,f){g(r,l,f)},p(r,f){var a,s,u;f[0]&1&&e!==(e=((u=(s=(a=r[0].death_function.effect)==null?void 0:a.id)!=null?s:r[0].death_function.corpse_type)!=null?u:"NORMAL")+"")&&Y(l,e)},d(r){r&&h(l)}}}function Ng(i){let e=ge(i[1].byId("SPELL",i[0].death_function.effect.id))+"",l,t,n=Ft(i[1].byId("SPELL",i[0].death_function.effect.id).description)+"",o,r;return{c(){l=y(e),t=y(" ("),o=y(n),r=y(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a[0]&1&&e!==(e=ge(f[1].byId("SPELL",f[0].death_function.effect.id))+"")&&Y(l,e),a[0]&1&&n!==(n=Ft(f[1].byId("SPELL",f[0].death_function.effect.id).description)+"")&&Y(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function Og(i){let e,l,t,n,o,r=i[9].monsters,f=[];for(let m=0;m<r.length;m+=1)f[m]=Tf(tf(i,r,m));const a=m=>k(f[m],1,1,()=>{f[m]=null});function s(m,$){if(m[9].age_grow)return Ag;if(m[9].half_life)return Bg}let u=s(i),c=u&&u(i);return{c(){e=p("dt"),e.textContent="Upgrades Into",l=p("dd"),t=p("ul");for(let m=0;m<f.length;m+=1)f[m].c();n=I(),c&&c.c(),fe(t,"class","comma-separated or")},m(m,$){g(m,e,$),g(m,l,$),d(l,t);for(let v=0;v<f.length;v+=1)f[v].m(t,null);d(l,n),c&&c.m(l,null),o=!0},p(m,$){if($[0]&512){r=m[9].monsters;let v;for(v=0;v<r.length;v+=1){const E=tf(m,r,v);f[v]?(f[v].p(E,$),b(f[v],1)):(f[v]=Tf(E),f[v].c(),b(f[v],1),f[v].m(t,null))}for(Q(),v=r.length;v<f.length;v+=1)a(v);x()}c&&c.p(m,$)},i(m){if(!o){for(let $=0;$<r.length;$+=1)b(f[$]);o=!0}},o(m){f=f.filter(Boolean);for(let $=0;$<f.length;$+=1)k(f[$]);o=!1},d(m){m&&h(e),m&&h(l),se(f,m),c&&c.d()}}}function Tf(i){let e,l,t;return l=new re({props:{type:"monster",id:i[21]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Bg(i){let e,l=i[9].half_life+"",t,n,o,r=i[9].half_life!==1&&Mg();return{c(){e=y("with a half-life of "),t=y(l),n=y(" day"),r&&r.c(),o=le()},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:ee,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function Ag(i){let e,l=i[9].age_grow+"",t,n,o,r=i[9].age_grow!==1&&Dg();return{c(){e=y("in "),t=y(l),n=y(" day"),r&&r.c(),o=le()},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:ee,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function Mg(i){let e;return{c(){e=y("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Dg(i){let e;return{c(){e=y("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Lg(i){let e,l,t,n,o;return n=new at({props:{items:i[6],$$slots:{default:[Gg,({item:r})=>({0:r}),({item:r})=>[r?1:0]]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Drops",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f[0]&1|f[1]&256&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Gg(i){let e,l,t,n,o=Bf(i[0].prob)+"",r,f,a;return e=new tt({props:{item:i[1].byId("item",i[0].id)}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment),n=y(" ("),r=y(o),f=y(")")},m(s,u){U(e,s,u),g(s,l,u),U(t,s,u),g(s,n,u),g(s,r,u),g(s,f,u),a=!0},p(s,u){const c={};u[0]&1&&(c.item=s[1].byId("item",s[0].id)),e.$set(c);const m={};u[0]&1&&(m.id=s[0].id),t.$set(m),(!a||u[0]&1)&&o!==(o=Bf(s[0].prob)+"")&&Y(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){q(e,s),s&&h(l),q(t,s),s&&h(n),s&&h(r),s&&h(f)}}}function Ug(i){let e,l,t,n,o,r=i[7].entries,f=[];for(let s=0;s<r.length;s+=1)f[s]=Cf(xo(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Butchering Results",t=I(),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u[0]&130){r=s[7].entries;let c;for(c=0;c<r.length;c+=1){const m=xo(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Cf(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),se(f,s)}}}function qg(i){let e,l,t,n,o,r;return l=new tt({props:{item:i[1].byId("item",i[10].drop)}}),n=new re({props:{type:"item",id:i[10].drop}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment),o=I()},m(f,a){g(f,e,a),U(l,e,null),d(e,t),U(n,e,null),d(e,o),r=!0},p:ee,i(f){r||(b(l.$$.fragment,f),b(n.$$.fragment,f),r=!0)},o(f){k(l.$$.fragment,f),k(n.$$.fragment,f),r=!1},d(f){f&&h(e),q(l),q(n)}}}function Pg(i){let e,l,t=i[1].flattenItemGroup(i[1].byId("item_group",i[10].drop)),n=[];for(let r=0;r<t.length;r+=1)n[r]=Sf(ef(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f[0]&130){t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop));let a;for(a=0;a<t.length;a+=1){const s=ef(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Sf(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){se(n,r),r&&h(e)}}}function Sf(i){let e,l,t,n,o,r=(i[14]*100).toFixed(2)+"",f,a,s;return l=new tt({props:{item:i[1].byId("item",i[13])}}),n=new re({props:{type:"item",id:i[13]}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment),o=y(" ("),f=y(r),a=y(`%)
            `)},m(u,c){g(u,e,c),U(l,e,null),d(e,t),U(n,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:ee,i(u){s||(b(l.$$.fragment,u),b(n.$$.fragment,u),s=!0)},o(u){k(l.$$.fragment,u),k(n.$$.fragment,u),s=!1},d(u){u&&h(e),q(l),q(n)}}}function Cf(i){let e,l,t,n;const o=[Pg,qg],r=[];function f(a,s){var u;return(u=a[1].byId("harvest_drop_type",a[10].type))!=null&&u.group?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Fg(i){let e,l,t,n,o,r=i[8].entries,f=[];for(let s=0;s<r.length;s+=1)f[s]=Rf(Zo(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Dissection Results",t=I(),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u[0]&258){r=s[8].entries;let c;for(c=0;c<r.length;c+=1){const m=Zo(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Rf(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),se(f,s)}}}function Yg(i){let e,l,t,n,o,r;return l=new tt({props:{item:i[1].byId("item",i[10].drop)}}),n=new re({props:{type:"item",id:i[10].drop}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment),o=I()},m(f,a){g(f,e,a),U(l,e,null),d(e,t),U(n,e,null),d(e,o),r=!0},p:ee,i(f){r||(b(l.$$.fragment,f),b(n.$$.fragment,f),r=!0)},o(f){k(l.$$.fragment,f),k(n.$$.fragment,f),r=!1},d(f){f&&h(e),q(l),q(n)}}}function jg(i){let e,l,t=i[1].flattenItemGroup(i[1].byId("item_group",i[10].drop)),n=[];for(let r=0;r<t.length;r+=1)n[r]=If(Qo(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f[0]&258){t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop));let a;for(a=0;a<t.length;a+=1){const s=Qo(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=If(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){se(n,r),r&&h(e)}}}function If(i){let e,l,t,n,o,r=(i[14]*100).toFixed(2)+"",f,a,s;return l=new tt({props:{item:i[1].byId("item",i[13])}}),n=new re({props:{type:"item",id:i[13]}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment),o=y(" ("),f=y(r),a=y(`%)
            `)},m(u,c){g(u,e,c),U(l,e,null),d(e,t),U(n,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:ee,i(u){s||(b(l.$$.fragment,u),b(n.$$.fragment,u),s=!0)},o(u){k(l.$$.fragment,u),k(n.$$.fragment,u),s=!1},d(u){u&&h(e),q(l),q(n)}}}function Rf(i){let e,l,t,n;const o=[jg,Yg],r=[];function f(a,s){var u;return(u=a[1].byId("harvest_drop_type",a[10].type))!=null&&u.group?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Hg(i){var Nn,On,Bn,An,Mn,Dn,Ln,Gn,Un,qn,Pn,Fn,Yn,jn,Hn,Wn,zn,Vn,Xn,Jn,Kn,Zn;let e,l,t,n=ge(i[0])+"",o,r,f,a,s,u,c,m=Zl(i[0].volume)+"",$,v,E,T=kn(i[0].weight)+"",w,S,C,R=un(i[0])+"",B,O,N,L,M=Nf(un(i[0]))+"",X,A,D,J,H,F=i[0].description+"",j,G,z,ie,W,K,Z,ae,V,ne=((Nn=i[0].speed)!=null?Nn:0)+"",_e,Fe,ke,de=((On=i[0].melee_skill)!=null?On:0)+"",$e,ye,ue,De=i[2](i[0])+"",Se,be,Te,et,Re,me,ve,Ye,Me=i[0].hp+"",Be,Je,ce,Ae=((Bn=i[0].dodge)!=null?Bn:0)+"",qe,Ie,Ee,Ue,Le,Ke,lt=((An=i[0].armor_bash)!=null?An:0)+"",$t,ot,ht,ct=((Mn=i[0].armor_cut)!=null?Mn:0)+"",Lt,pt,It,He=((Ln=i[0].armor_stab)!=null?Ln:Math.floor(((Dn=i[0].armor_cut)!=null?Dn:0)*.8))+"",xe,we,ze,dt=((Gn=i[0].armor_bullet)!=null?Gn:0)+"",kt,vt,yt,ut=((qn=i[0].armor_acid)!=null?qn:Math.floor(((Un=i[0].armor_cut)!=null?Un:0)*.5))+"",_t,Ot,it,jl=((Pn=i[0].armor_fire)!=null?Pn:0)+"",gt,qt,bt,zt,Tt,jt,Ze,Bt,mt,ft=((Fn=i[0].aggression)!=null?Fn:0)+"",st,wt,At,Nt=((Yn=i[0].morale)!=null?Yn:0)+"",Mt,Dt,St,Jt=((jn=i[0].vision_day)!=null?jn:40)+"",Sl,te,Oe=((Hn=i[0].vision_night)!=null?Hn:1)+"",_l,Hl,Cl,Il,wl=i[0].default_faction+"",Rl,Nl,Ol,Bl,Al,Ml,Dl,Ll,Gl,Ul,rt;l=new tt({props:{item:i[0]}});let Ht=i[0].bodytype&&af(i),Kt=i[0].species&&i[0].species.length&&uf(i),ml=i[5].length&&Sg(i),Pt=i[0].special_attacks&&_f(i),oe=i[0].regenerates&&mf(i),Ge=i[0].special_when_hit&&pf(i),Et=((Wn=i[0].anger_triggers)==null?void 0:Wn.length)&&hf(i),Zt=((zn=i[0].placate_triggers)==null?void 0:zn.length)&&bf(i),Qt=((Vn=i[0].fear_triggers)==null?void 0:Vn.length)&&kf(i),xt=((Xn=i[0].flags)==null?void 0:Xn.length)&&yf(i),el=i[0].death_function&&Ef(i),pl=i[9]&&Og(i),hl=((Jn=i[6])==null?void 0:Jn.length)&&Lg(i),gl=i[7]&&((Kn=i[7].entries)!=null?Kn:[]).length&&Ug(i),bl=i[8]&&((Zn=i[8].entries)!=null?Zn:[]).length&&Fg(i);return{c(){e=p("h1"),P(l.$$.fragment),t=I(),o=y(n),r=I(),f=p("section"),a=p("dl"),Ht&&Ht.c(),s=le(),Kt&&Kt.c(),u=p("dt"),u.textContent="Volume",c=p("dd"),$=y(m),v=p("dt"),v.textContent="Weight",E=p("dd"),w=y(T),ml&&ml.c(),S=p("dt"),S.textContent="Difficulty",C=p("dd"),B=y(R),O=I(),N=p("span"),L=y("("),X=y(M),A=y(")"),J=I(),H=p("p"),j=y(F),G=I(),z=p("div"),ie=p("section"),W=p("h1"),W.textContent="Attack",K=I(),Z=p("dl"),ae=p("dt"),ae.textContent="Speed",V=p("dd"),_e=y(ne),Fe=p("dt"),Fe.textContent="Melee Skill",ke=p("dd"),$e=y(de),ye=p("dt"),ye.textContent="Damage",ue=p("dd"),Se=y(De),Pt&&Pt.c(),be=I(),Te=p("section"),et=p("h1"),et.textContent="Defense",Re=I(),me=p("dl"),ve=p("dt"),ve.textContent="HP",Ye=p("dd"),Be=y(Me),oe&&oe.c(),Je=p("dt"),Je.textContent="Dodge",ce=p("dd"),qe=y(Ae),Ie=p("dt"),Ie.textContent="Armor",Ee=p("dd"),Ue=p("dl"),Le=p("dt"),Le.textContent="Bash",Ke=p("dd"),$t=y(lt),ot=p("dt"),ot.textContent="Cut",ht=p("dd"),Lt=y(ct),pt=p("dt"),pt.textContent="Stab",It=p("dd"),xe=y(He),we=p("dt"),we.textContent="Bullet",ze=p("dd"),kt=y(dt),vt=p("dt"),vt.textContent="Acid",yt=p("dd"),_t=y(ut),Ot=p("dt"),Ot.textContent="Fire",it=p("dd"),gt=y(jl),qt=I(),Ge&&Ge.c(),bt=I(),zt=p("section"),Tt=p("h1"),Tt.textContent="Behavior",jt=I(),Ze=p("dl"),Bt=p("dt"),Bt.textContent=`Aggression
    `,mt=p("dd"),st=y(ft),wt=p("dt"),wt.textContent="Morale",At=p("dd"),Mt=y(Nt),Dt=p("dt"),Dt.textContent="Vision Range",St=p("dd"),Sl=y(Jt),te=y(" (day) / "),_l=y(Oe),Hl=y(" (night)"),Cl=p("dt"),Cl.textContent="Default Faction",Il=p("dd"),Rl=y(wl),Et&&Et.c(),Nl=le(),Zt&&Zt.c(),Ol=le(),Qt&&Qt.c(),Bl=le(),xt&&xt.c(),Al=le(),el&&el.c(),Ml=le(),pl&&pl.c(),Dl=I(),hl&&hl.c(),Ll=I(),gl&&gl.c(),Gl=I(),bl&&bl.c(),Ul=le(),fe(N,"class",D="c_"+Of(un(i[0]))+" fg_only"),Qe(H,"color","var(--cata-color-gray)"),Qe(me,"flex","1"),fe(z,"class","side-by-side"),fe(Bt,"title","Monsters with high aggression are more likely to be hostile. Ranges from -100 to 100"),fe(wt,"title","Morale at spawn. Monsters with low morale will flee.")},m(Ce,Ne){g(Ce,e,Ne),U(l,e,null),d(e,t),d(e,o),g(Ce,r,Ne),g(Ce,f,Ne),d(f,a),Ht&&Ht.m(a,null),d(a,s),Kt&&Kt.m(a,null),d(a,u),d(a,c),d(c,$),d(a,v),d(a,E),d(E,w),ml&&ml.m(a,null),d(a,S),d(a,C),d(C,B),d(C,O),d(C,N),d(N,L),d(N,X),d(N,A),d(f,J),d(f,H),d(H,j),g(Ce,G,Ne),g(Ce,z,Ne),d(z,ie),d(ie,W),d(ie,K),d(ie,Z),d(Z,ae),d(Z,V),d(V,_e),d(Z,Fe),d(Z,ke),d(ke,$e),d(Z,ye),d(Z,ue),d(ue,Se),Pt&&Pt.m(Z,null),d(z,be),d(z,Te),d(Te,et),d(Te,Re),d(Te,me),d(me,ve),d(me,Ye),d(Ye,Be),oe&&oe.m(me,null),d(me,Je),d(me,ce),d(ce,qe),d(me,Ie),d(me,Ee),d(Ee,Ue),d(Ue,Le),d(Ue,Ke),d(Ke,$t),d(Ue,ot),d(Ue,ht),d(ht,Lt),d(Ue,pt),d(Ue,It),d(It,xe),d(Ue,we),d(Ue,ze),d(ze,kt),d(Ue,vt),d(Ue,yt),d(yt,_t),d(Ue,Ot),d(Ue,it),d(it,gt),d(Ee,qt),Ge&&Ge.m(me,null),g(Ce,bt,Ne),g(Ce,zt,Ne),d(zt,Tt),d(zt,jt),d(zt,Ze),d(Ze,Bt),d(Ze,mt),d(mt,st),d(Ze,wt),d(Ze,At),d(At,Mt),d(Ze,Dt),d(Ze,St),d(St,Sl),d(St,te),d(St,_l),d(St,Hl),d(Ze,Cl),d(Ze,Il),d(Il,Rl),Et&&Et.m(Ze,null),d(Ze,Nl),Zt&&Zt.m(Ze,null),d(Ze,Ol),Qt&&Qt.m(Ze,null),d(Ze,Bl),xt&&xt.m(Ze,null),d(Ze,Al),el&&el.m(Ze,null),d(Ze,Ml),pl&&pl.m(Ze,null),g(Ce,Dl,Ne),hl&&hl.m(Ce,Ne),g(Ce,Ll,Ne),gl&&gl.m(Ce,Ne),g(Ce,Gl,Ne),bl&&bl.m(Ce,Ne),g(Ce,Ul,Ne),rt=!0},p(Ce,Ne){var ro,oo,fo,so,ao,uo,co,_o,mo,po,ho,go,bo,$o,ko,vo,yo,wo,Eo,To,So,Co;const kl={};Ne[0]&1&&(kl.item=Ce[0]),l.$set(kl),(!rt||Ne[0]&1)&&n!==(n=ge(Ce[0])+"")&&Y(o,n),Ce[0].bodytype?Ht?Ht.p(Ce,Ne):(Ht=af(Ce),Ht.c(),Ht.m(a,s)):Ht&&(Ht.d(1),Ht=null),Ce[0].species&&Ce[0].species.length?Kt?Kt.p(Ce,Ne):(Kt=uf(Ce),Kt.c(),Kt.m(a,u)):Kt&&(Kt.d(1),Kt=null),(!rt||Ne[0]&1)&&m!==(m=Zl(Ce[0].volume)+"")&&Y($,m),(!rt||Ne[0]&1)&&T!==(T=kn(Ce[0].weight)+"")&&Y(w,T),Ce[5].length&&ml.p(Ce,Ne),(!rt||Ne[0]&1)&&R!==(R=un(Ce[0])+"")&&Y(B,R),(!rt||Ne[0]&1)&&M!==(M=Nf(un(Ce[0]))+"")&&Y(X,M),(!rt||Ne[0]&1&&D!==(D="c_"+Of(un(Ce[0]))+" fg_only"))&&fe(N,"class",D),(!rt||Ne[0]&1)&&F!==(F=Ce[0].description+"")&&Y(j,F),(!rt||Ne[0]&1)&&ne!==(ne=((ro=Ce[0].speed)!=null?ro:0)+"")&&Y(_e,ne),(!rt||Ne[0]&1)&&de!==(de=((oo=Ce[0].melee_skill)!=null?oo:0)+"")&&Y($e,de),(!rt||Ne[0]&1)&&De!==(De=Ce[2](Ce[0])+"")&&Y(Se,De),Ce[0].special_attacks?Pt?(Pt.p(Ce,Ne),Ne[0]&1&&b(Pt,1)):(Pt=_f(Ce),Pt.c(),b(Pt,1),Pt.m(Z,null)):Pt&&(Q(),k(Pt,1,1,()=>{Pt=null}),x()),(!rt||Ne[0]&1)&&Me!==(Me=Ce[0].hp+"")&&Y(Be,Me),Ce[0].regenerates?oe?oe.p(Ce,Ne):(oe=mf(Ce),oe.c(),oe.m(me,Je)):oe&&(oe.d(1),oe=null),(!rt||Ne[0]&1)&&Ae!==(Ae=((fo=Ce[0].dodge)!=null?fo:0)+"")&&Y(qe,Ae),(!rt||Ne[0]&1)&&lt!==(lt=((so=Ce[0].armor_bash)!=null?so:0)+"")&&Y($t,lt),(!rt||Ne[0]&1)&&ct!==(ct=((ao=Ce[0].armor_cut)!=null?ao:0)+"")&&Y(Lt,ct),(!rt||Ne[0]&1)&&He!==(He=((co=Ce[0].armor_stab)!=null?co:Math.floor(((uo=Ce[0].armor_cut)!=null?uo:0)*.8))+"")&&Y(xe,He),(!rt||Ne[0]&1)&&dt!==(dt=((_o=Ce[0].armor_bullet)!=null?_o:0)+"")&&Y(kt,dt),(!rt||Ne[0]&1)&&ut!==(ut=((po=Ce[0].armor_acid)!=null?po:Math.floor(((mo=Ce[0].armor_cut)!=null?mo:0)*.5))+"")&&Y(_t,ut),(!rt||Ne[0]&1)&&jl!==(jl=((ho=Ce[0].armor_fire)!=null?ho:0)+"")&&Y(gt,jl),Ce[0].special_when_hit?Ge?Ge.p(Ce,Ne):(Ge=pf(Ce),Ge.c(),Ge.m(me,null)):Ge&&(Ge.d(1),Ge=null),(!rt||Ne[0]&1)&&ft!==(ft=((go=Ce[0].aggression)!=null?go:0)+"")&&Y(st,ft),(!rt||Ne[0]&1)&&Nt!==(Nt=((bo=Ce[0].morale)!=null?bo:0)+"")&&Y(Mt,Nt),(!rt||Ne[0]&1)&&Jt!==(Jt=(($o=Ce[0].vision_day)!=null?$o:40)+"")&&Y(Sl,Jt),(!rt||Ne[0]&1)&&Oe!==(Oe=((ko=Ce[0].vision_night)!=null?ko:1)+"")&&Y(_l,Oe),(!rt||Ne[0]&1)&&wl!==(wl=Ce[0].default_faction+"")&&Y(Rl,wl),(vo=Ce[0].anger_triggers)!=null&&vo.length?Et?Et.p(Ce,Ne):(Et=hf(Ce),Et.c(),Et.m(Ze,Nl)):Et&&(Et.d(1),Et=null),(yo=Ce[0].placate_triggers)!=null&&yo.length?Zt?Zt.p(Ce,Ne):(Zt=bf(Ce),Zt.c(),Zt.m(Ze,Ol)):Zt&&(Zt.d(1),Zt=null),(wo=Ce[0].fear_triggers)!=null&&wo.length?Qt?Qt.p(Ce,Ne):(Qt=kf(Ce),Qt.c(),Qt.m(Ze,Bl)):Qt&&(Qt.d(1),Qt=null),(Eo=Ce[0].flags)!=null&&Eo.length?xt?xt.p(Ce,Ne):(xt=yf(Ce),xt.c(),xt.m(Ze,Al)):xt&&(xt.d(1),xt=null),Ce[0].death_function?el?el.p(Ce,Ne):(el=Ef(Ce),el.c(),el.m(Ze,Ml)):el&&(el.d(1),el=null),Ce[9]&&pl.p(Ce,Ne),(To=Ce[6])!=null&&To.length&&hl.p(Ce,Ne),Ce[7]&&((So=Ce[7].entries)!=null?So:[]).length&&gl.p(Ce,Ne),Ce[8]&&((Co=Ce[8].entries)!=null?Co:[]).length&&bl.p(Ce,Ne)},i(Ce){rt||(b(l.$$.fragment,Ce),b(ml),b(Pt),b(pl),b(hl),b(gl),b(bl),rt=!0)},o(Ce){k(l.$$.fragment,Ce),k(ml),k(Pt),k(pl),k(hl),k(gl),k(bl),rt=!1},d(Ce){Ce&&h(e),q(l),Ce&&h(r),Ce&&h(f),Ht&&Ht.d(),Kt&&Kt.d(),ml&&ml.d(),Ce&&h(G),Ce&&h(z),Pt&&Pt.d(),oe&&oe.d(),Ge&&Ge.d(),Ce&&h(bt),Ce&&h(zt),Et&&Et.d(),Zt&&Zt.d(),Qt&&Qt.d(),xt&&xt.d(),el&&el.d(),pl&&pl.d(),Ce&&h(Dl),hl&&hl.d(Ce),Ce&&h(Ll),gl&&gl.d(Ce),Ce&&h(Gl),bl&&bl.d(Ce),Ce&&h(Ul)}}}function un(i){const{melee_skill:e=0,melee_dice:l=0,melee_cut:t=0,melee_dice_sides:n=0,dodge:o=0,armor_bash:r=-1,armor_cut:f=-1,diff:a=0,special_attacks:s=[],emit_fields:u=[],hp:c,speed:m=0,attack_cost:$=100,morale:v=0,aggression:E=0,vision_day:T=40,vision_night:w=1}=i;let S=(e+1)*l*(t+n)*.04+(o+1)*(3+r+f)*.04+(a+s.length+8*u.length);return S=Math.floor(S),S*=(c+m-$+(v+E)*.1)*.01+(T+2*w)*.01,Math.floor(S)}function Nf(i){return i<3?"Minimal threat.":i<10?"Mildly dangerous.":i<20?"Dangerous.":i<30?"Very dangerous.":i<50?"Extremely dangerous.":"Fatally dangerous!"}function Of(i){return i<3||i<10?"light_gray":i<20?"light_red":(i<30||i<50,"red")}function Bf(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function Wg(i){return[i.default].concat(i.monsters.map(e=>e.monster).filter(e=>e!==i.default)).filter(e=>e)}function zg(i,e,l){var $;let{item:t}=e,n=nt("data");function o(v){let{melee_dice:E=0,melee_dice_sides:T=0,melee_damage:w=[],melee_cut:S}=v;const C=mn(w);return S&&C.push({damage_type:"cut",amount:S}),`${E}d${T} bash`+C.map(R=>` + ${R.amount} ${R.damage_type}`).join("")}const r={SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",PATH_AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",PATH_AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",PATH_AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",PATH_AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},f={FIRE:"Triggers if there's a fire within 3 tiles, the strength of the effect equals 5 * the field intensity of the fire.",FRIEND_ATTACKED:"Triggers if the monster sees another monster of the same type being attacked; strength = 15.",FRIEND_DIED:"Triggers if the monster sees another monster of the same type dying; strength = 15.",HURT:"Triggers when the monster is hurt, strength equals 1 + (damage / 3).",MEAT:"Meat or a corpse is nearby.",PLAYER_CLOSE:"Triggers when a potential enemy is within 5 tiles range.",PLAYER_WEAK:"Raises monster aggression by 10 - (percent of hp remaining / 10) if a potential enemy has less than 70% hp remaining",PLAYER_NEAR_BABY:"Increases monster aggression by 8 and morale by 4 if **the player** comes within 3 tiles of its offspring (defined by the baby_monster field in its reproduction data)",SOUND:"Not an actual trigger, monsters above 10 aggression and 0 morale will wander towards, monsters below 0 morale will wander away from the source of the sound for 1 turn (6, if they have the GOODHEARING flag).",STALK:"Raises monster aggresssion by 1, triggers 20% of the time each turn if aggression > 5.",HOSTILE_SEEN:"Increases aggression/decreases morale by a random amount between 0-2 for every potential enemy it can see, up to 20 aggression.",MATING_SEASON:"Increases aggression by 3 if a potential enemy is within 5 tiles range and the season is the same as the monster's mating season (defined by the baby_flags field in its reproduction data)."};let a=($=t.material)!=null?$:[],s=n.flatDeathDrops(t.id),u=t.harvest?n.byId("harvest",t.harvest):void 0,c=t.dissect?n.byId("harvest",t.dissect):void 0,m=t.upgrades&&(t.upgrades.into||t.upgrades.into_group)?{...t.upgrades,monsters:t.upgrades.into?[t.upgrades.into]:Wg(n.byId("monstergroup",t.upgrades.into_group))}:null;return i.$$set=v=>{"item"in v&&l(0,t=v.item)},[t,n,o,r,f,a,s,u,c,m]}class Vg extends Xe{constructor(e){super(),Ve(this,e,zg,Hg,We,{item:0},null,[-1,-1])}}function Af(i,e,l){const t=i.slice();return t[3]=e[l],t}function Mf(i,e,l){const t=i.slice();return t[6]=e[l],t}function Df(i){let e,l=i[6].string+"",t,n;return{c(){e=p("span"),t=y(l),fe(e,"class",n="c_"+i[6].color)},m(o,r){g(o,e,r),d(e,t)},p:ee,d(o){o&&h(e)}}}function Lf(i){let e=`
`,l,t=i[3],n=[];for(let o=0;o<t.length;o+=1)n[o]=Df(Mf(i,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();l=y(e)},m(o,r){for(let f=0;f<n.length;f+=1)n[f].m(o,r);g(o,l,r)},p(o,r){if(r&1){t=o[3];let f;for(f=0;f<t.length;f+=1){const a=Mf(o,t,f);n[f]?n[f].p(a,r):(n[f]=Df(a),n[f].c(),n[f].m(l.parentNode,l))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}},d(o){se(n,o),o&&h(l)}}}function Xg(i){let e,l,t,n=i[0],o=[];for(let r=0;r<n.length;r+=1)o[r]=Lf(Af(i,n,r));return{c(){e=p("pre"),l=y("");for(let r=0;r<o.length;r+=1)o[r].c();t=y(`
`),Qe(e,"font-family","Unifont, monospace"),Qe(e,"line-height","1")},m(r,f){g(r,e,f),d(e,l);for(let a=0;a<o.length;a+=1)o[a].m(e,null);d(e,t)},p(r,[f]){if(f&1){n=r[0];let a;for(a=0;a<n.length;a+=1){const s=Af(r,n,a);o[a]?o[a].p(s,f):(o[a]=Lf(s),o[a].c(),o[a].m(e,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},i:ee,o:ee,d(r){r&&h(e),se(o,r)}}}function Jg(i,e,l){let{picture:t}=e,n=["white"];const o=[];for(const r of t.picture){const f=[];let a=r;for(;;){const u=a.match(/<\/?color([^>]*?)>/);if(u)u.index>0&&f.push({string:a.substring(0,u.index),color:n[0]}),u[0][1]==="/"&&n.length>1?n.shift():n.unshift(u[1].substring(1)),a=a.substring(u.index+u[0].length);else break}a.length&&f.push({string:a,color:n[0]});const s=41-f.reduce((u,c)=>u+c.string.length,0);s>0&&f.push({string:" ".repeat(s),color:n[0]}),o.push(f)}return i.$$set=r=>{"picture"in r&&l(1,t=r.picture)},[o,t]}class Kg extends Xe{constructor(e){super(),Ve(this,e,Jg,Xg,We,{picture:1})}}function Gf(i){var W,K,Z,ae,V;let e,l,t,n,o,r,f,a,s,u,c,m,$,v=((W=i[0].range)!=null?W:0)+"",E,T,w,S=((K=i[0].dispersion)!=null?K:0)+"",C,R,B,O=((Z=i[0].recoil)!=null?Z:0)+"",N,L,M,X=i[2](i[0])+"",A,D,J,H=((ae=i[0].critical_multiplier)!=null?ae:2)+"",F,j,G;f=new re({props:{type:"ammunition_type",id:i[0].ammo_type}});let z=i[0].casing&&Uf(i),ie=((V=i[0].effects)==null?void 0:V.length)&&qf(i);return{c(){var ne,_e,Fe;e=p("section"),l=p("h1"),l.textContent="Ammunition",t=I(),n=p("dl"),o=p("dt"),o.textContent="Ammunition Type",r=p("dd"),P(f.$$.fragment),a=p("dt"),a.textContent="Damage",s=p("dd"),s.textContent=`${(ne=i[1].amount)!=null?ne:0} (${(_e=i[1].damage_type)!=null?_e:"bullet"})`,u=p("dt"),u.textContent="Armor Penetration",c=p("dd"),c.textContent=`${(Fe=i[1].armor_penetration)!=null?Fe:0}`,m=p("dt"),m.textContent="Range",$=p("dd"),E=y(v),T=p("dt"),T.textContent="Dispersion",w=p("dd"),C=y(S),R=p("dt"),R.textContent="Recoil",B=p("dd"),N=y(O),L=p("dt"),L.textContent=`Loudness
      `,M=p("dd"),A=y(X),D=p("dt"),D.textContent="Critical Multiplier",J=p("dd"),F=y(H),z&&z.c(),j=le(),ie&&ie.c(),fe(L,"title","Base loudness of ammo (possibly modified by gun/gunmods)")},m(ne,_e){g(ne,e,_e),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),U(f,r,null),d(n,a),d(n,s),d(n,u),d(n,c),d(n,m),d(n,$),d($,E),d(n,T),d(n,w),d(w,C),d(n,R),d(n,B),d(B,N),d(n,L),d(n,M),d(M,A),d(n,D),d(n,J),d(J,F),z&&z.m(n,null),d(n,j),ie&&ie.m(n,null),G=!0},p(ne,_e){var ke,de,$e,ye,ue;const Fe={};_e&1&&(Fe.id=ne[0].ammo_type),f.$set(Fe),(!G||_e&1)&&v!==(v=((ke=ne[0].range)!=null?ke:0)+"")&&Y(E,v),(!G||_e&1)&&S!==(S=((de=ne[0].dispersion)!=null?de:0)+"")&&Y(C,S),(!G||_e&1)&&O!==(O=(($e=ne[0].recoil)!=null?$e:0)+"")&&Y(N,O),(!G||_e&1)&&X!==(X=ne[2](ne[0])+"")&&Y(A,X),(!G||_e&1)&&H!==(H=((ye=ne[0].critical_multiplier)!=null?ye:2)+"")&&Y(F,H),ne[0].casing?z?(z.p(ne,_e),_e&1&&b(z,1)):(z=Uf(ne),z.c(),b(z,1),z.m(n,j)):z&&(Q(),k(z,1,1,()=>{z=null}),x()),(ue=ne[0].effects)!=null&&ue.length?ie?ie.p(ne,_e):(ie=qf(ne),ie.c(),ie.m(n,null)):ie&&(ie.d(1),ie=null)},i(ne){G||(b(f.$$.fragment,ne),b(z),G=!0)},o(ne){k(f.$$.fragment,ne),k(z),G=!1},d(ne){ne&&h(e),q(f),z&&z.d(),ie&&ie.d()}}}function Uf(i){let e,l,t,n;return t=new re({props:{id:i[0].casing,type:"item"}}),{c(){e=p("dt"),e.textContent="Casing",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].casing),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function qf(i){let e,l,t=i[0].effects.join(", ")+"",n;return{c(){e=p("dt"),e.textContent="Effects",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].effects.join(", ")+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function Zg(i){let e,l,t=(i[0].damage||i[0].show_stats)&&Gf(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].damage||n[0].show_stats?t?(t.p(n,o),o&1&&b(t,1)):(t=Gf(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Q(),k(t,1,1,()=>{t=null}),x())},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Qg(i,e,l){var r;let{item:t}=e;const n=Array.isArray(t.damage)?t.damage[0]:t.damage&&"values"in t.damage?t.damage.values[0]:(r=t.damage)!=null?r:{amount:0,damage_type:"bullet",armor_penetration:0};function o(f){var a,s,u,c,m;return((a=f.loudness)!=null?a:-1)>=0?(s=f.loudness)!=null?s:0:((u=f.range)!=null?u:0)*2+((c=n.amount)!=null?c:0)*((m=n.armor_penetration)!=null?m:0)}return i.$$set=f=>{"item"in f&&l(0,t=f.item)},[t,n,o]}class xg extends Xe{constructor(e){super(),Ve(this,e,Qg,Zg,We,{item:0})}}function Ai(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function e0(i){var l;let e=new Map;for(const[t,n]of i){const o=(l=e.get(t))!=null?l:[];o.push(n),e.set(t,o)}return e}function Ur(i,e){const l=new Map;for(const t of i){const n=e(t);for(const o of n)l.has(o)||l.set(o,[]),l.get(o).push(t)}return l}function t0(i,e=l=>l){const l=new Set,t=[];for(const n of i){const o=e(n);l.has(o)||t.push(n),l.add(o)}return t}function Pf(i,e,l){const t=i.slice();return t[18]=e[l],t}function l0(i){let e;return{c(){e=y("Normal")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function n0(i){let e;return{c(){e=y("Outer aura")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function i0(i){let e;return{c(){e=y("Waist")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function r0(i){let e;return{c(){e=y("Outer")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function o0(i){let e;return{c(){e=y("Strapped")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function f0(i){let e;return{c(){e=y("Close to skin")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function s0(i){let e;return{c(){e=y("Personal aura")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Ff(i){let e,l;return{c(){e=p("dt"),e.textContent="Sided",l=p("dd"),l.textContent="Yes"},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function a0(i){let e,l=i[1](i[18].apd.specifically_covers).join(", ")+"",t,n;return{c(){e=y("("),t=y(l),n=y(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:ee,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function u0(i){let e,l,t,n=i[18].apd.coverage+"",o,r,f,a,s=i[18].apd.coverage!==i[18].apd.cover_melee&&_0(i),u=i[18].apd.coverage!==i[18].apd.cover_ranged&&d0(i),c=i[18].apd.cover_vitals&&m0(i);return{c(){e=p("dl"),l=p("dt"),l.textContent="Default",t=p("dd"),o=y(n),r=y("%"),s&&s.c(),f=le(),u&&u.c(),a=le(),c&&c.c()},m(m,$){g(m,e,$),d(e,l),d(e,t),d(t,o),d(t,r),s&&s.m(e,null),d(e,f),u&&u.m(e,null),d(e,a),c&&c.m(e,null)},p(m,$){m[18].apd.coverage!==m[18].apd.cover_melee&&s.p(m,$),m[18].apd.coverage!==m[18].apd.cover_ranged&&u.p(m,$),m[18].apd.cover_vitals&&c.p(m,$)},d(m){m&&h(e),s&&s.d(),u&&u.d(),c&&c.d()}}}function c0(i){let e=i[18].apd.coverage+"",l,t;return{c(){l=y(e),t=y("%")},m(n,o){g(n,l,o),g(n,t,o)},p:ee,d(n){n&&h(l),n&&h(t)}}}function _0(i){let e,l,t=i[18].apd.cover_melee+"",n,o;return{c(){e=p("dt"),e.textContent="Melee",l=p("dd"),n=y(t),o=y("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p:ee,d(r){r&&h(e),r&&h(l)}}}function d0(i){let e,l,t=i[18].apd.cover_ranged+"",n,o;return{c(){e=p("dt"),e.textContent="Ranged",l=p("dd"),n=y(t),o=y("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p:ee,d(r){r&&h(e),r&&h(l)}}}function m0(i){let e,l,t=i[18].apd.cover_vitals+"",n,o;return{c(){e=p("dt"),e.textContent="Vitals",l=p("dd"),n=y(t),o=y("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p:ee,d(r){r&&h(e),r&&h(l)}}}function p0(i){let e,l,t=i[7](i[18].bp_ids[0]).toFixed(2)+"",n,o,r,f=i[8](i[18].bp_ids[0]).toFixed(2)+"",a,s,u;return{c(){e=p("dt"),e.textContent="Acid",l=p("dd"),n=y(t),o=p("dt"),o.textContent="Fire",r=p("dd"),a=y(f),s=p("dt"),s.textContent="Environ.",u=p("dd"),u.textContent=`${i[6]()}`},m(c,m){g(c,e,m),g(c,l,m),d(l,n),g(c,o,m),g(c,r,m),d(r,a),g(c,s,m),g(c,u,m)},p:ee,d(c){c&&h(e),c&&h(l),c&&h(o),c&&h(r),c&&h(s),c&&h(u)}}}function Yf(i){var ae;let e,l,t=i[3](i[18].bp_ids)+"",n,o,r,f,a,s,u=i[4](i[18])+"",c,m,$,v,E,T,w,S,C,R=i[5](i[18].bp_ids[0],0,b0).toFixed(2)+"",B,O,N,L,M=i[5](i[18].bp_ids[0],0,$0).toFixed(2)+"",X,A,D,J=i[5](i[18].bp_ids[0],0,k0).toFixed(2)+"",H,F,j=i[6](),G,z=((ae=i[18].apd.specifically_covers)==null?void 0:ae.length)&&a0(i);function ie(V,ne){return V[18].apd.coverage===V[18].apd.cover_melee&&V[18].apd.coverage===V[18].apd.cover_ranged&&V[18].apd.cover_vitals===0?c0:u0}let K=ie(i)(i),Z=j&&p0(i);return{c(){e=p("div"),l=p("h2"),n=y(t),o=I(),z&&z.c(),r=I(),f=p("dl"),a=p("dt"),a.textContent="Encumbrance",s=p("dd"),c=y(u),m=p("dt"),m.textContent="Coverage",$=p("dd"),K.c(),v=I(),E=p("dt"),E.textContent="Protection",T=p("dd"),w=p("dl"),S=p("dt"),S.textContent="Bash",C=p("dd"),B=y(R),O=I(),N=p("dt"),N.textContent="Cut",L=p("dd"),X=y(M),A=p("dt"),A.textContent="Ballistic",D=p("dd"),H=y(J),F=I(),Z&&Z.c(),G=I(),fe(l,"class","svelte-z6vyu0"),Qe(w,"font-variant","tabular-nums"),fe(e,"class","body-part svelte-z6vyu0")},m(V,ne){g(V,e,ne),d(e,l),d(l,n),d(l,o),z&&z.m(l,null),d(e,r),d(e,f),d(f,a),d(f,s),d(s,c),d(f,m),d(f,$),K.m($,null),d($,v),d(f,E),d(f,T),d(T,w),d(w,S),d(w,C),d(C,B),d(C,O),d(w,N),d(w,L),d(L,X),d(w,A),d(w,D),d(D,H),d(D,F),Z&&Z.m(w,null),d(e,G)},p(V,ne){var _e;(_e=V[18].apd.specifically_covers)!=null&&_e.length&&z.p(V,ne),K.p(V,ne),j&&Z.p(V,ne)},d(V){V&&h(e),z&&z.d(),K.d(),Z&&Z.d()}}}function h0(i){var X;let e,l,t,n,o,r,f,a,s,u,c,m,$,v,E,T=((X=i[0].warmth)!=null?X:0)+"",w,S,C;function R(A,D){var J,H,F,j,G,z;return D&1&&(f=null),D&1&&(a=null),D&1&&(s=null),D&1&&(u=null),D&1&&(c=null),D&1&&(m=null),f==null&&(f=!!((J=A[0].flags)!=null?J:[]).includes("PERSONAL")),f?s0:(a==null&&(a=!!((H=A[0].flags)!=null?H:[]).includes("SKINTIGHT")),a?f0:(s==null&&(s=!!((F=A[0].flags)!=null?F:[]).includes("BELTED")),s?o0:(u==null&&(u=!!((j=A[0].flags)!=null?j:[]).includes("OUTER")),u?r0:(c==null&&(c=!!((G=A[0].flags)!=null?G:[]).includes("WAIST")),c?i0:(m==null&&(m=!!((z=A[0].flags)!=null?z:[]).includes("AURA")),m?n0:l0)))))}let B=R(i,-1),O=B(i),N=i[0].sided&&Ff(),L=i[2],M=[];for(let A=0;A<L.length;A+=1)M[A]=Yf(Pf(i,L,A));return{c(){e=p("section"),l=p("h1"),l.textContent="Armor",t=I(),n=p("dl"),o=p("dt"),o.textContent="Layer",r=p("dd"),O.c(),$=I(),v=p("dt"),v.textContent="Warmth",E=p("dd"),w=y(T),N&&N.c(),S=I(),C=p("div");for(let A=0;A<M.length;A+=1)M[A].c();fe(C,"class","body-parts svelte-z6vyu0")},m(A,D){g(A,e,D),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),O.m(r,null),d(r,$),d(n,v),d(n,E),d(E,w),N&&N.m(n,null),d(e,S),d(e,C);for(let J=0;J<M.length;J+=1)M[J].m(C,null)},p(A,[D]){var J;if(B!==(B=R(A,D))&&(O.d(1),O=B(A),O&&(O.c(),O.m(r,$))),D&1&&T!==(T=((J=A[0].warmth)!=null?J:0)+"")&&Y(w,T),A[0].sided?N||(N=Ff(),N.c(),N.m(n,null)):N&&(N.d(1),N=null),D&510){L=A[2];let H;for(H=0;H<L.length;H+=1){const F=Pf(A,L,H);M[H]?M[H].p(F,D):(M[H]=Yf(F),M[H].c(),M[H].m(C,null))}for(;H<M.length;H+=1)M[H].d(1);M.length=L.length}},i:ee,o:ee,d(A){A&&h(e),O.d(),N&&N.d(),se(M,A)}}}function g0(i,e){const[l,t]=typeof i=="number"?[i,i]:i,[n,o]=typeof e=="number"?[e,e]:e;return[l+n,t+o]}function jf(i){return typeof i=="string"?{type:i}:i}const b0=i=>i.bash_resist,$0=i=>i.cut_resist,k0=i=>i.bullet_resist;function v0(i,e,l){var B,O,N,L,M,X,A,D,J,H,F,j,G,z,ie,W,K,Z,ae,V,ne,_e,Fe,ke,de,$e,ye,ue,De,Se,be,Te,et,Re,me,ve,Ye,Me,Be,Je;let{item:t}=e,n=nt("data");const o=[];for(const ce of(B=t.armor)!=null?B:[])if((O=ce.covers)!=null?O:t.covers)for(const Ae of t0((N=ce.covers)!=null?N:t.covers)){const qe=n.byId("body_part",Ae),Ie=o.find(Ee=>Ee.covers.includes(Ae));if(Ie){Ie.encumbrance=g0((L=Ie.encumbrance)!=null?L:0,(M=ce.encumbrance)!=null?M:0);const Ee=$(qe,ce)/100,Ue=$(qe,Ie)/100;Ie.coverage+=((X=ce.coverage)!=null?X:0)*Ee|0,Ie.cover_melee+=((A=ce.cover_melee)!=null?A:0)*Ee|0,Ie.cover_ranged+=((D=ce.cover_ranged)!=null?D:0)*Ee|0,Ie.cover_vitals=((J=Ie.cover_vitals)!=null?J:0)+((H=ce.cover_vitals)!=null?H:0),Ie.material_thickness=(((j=(F=ce.material_thickness)!=null?F:t.material_thickness)!=null?j:0)*Ee+((z=(G=Ie.material_thickness)!=null?G:t.material_thickness)!=null?z:0)*Ue)/(Ee+Ue),Ie.environmental_protection=(((W=(ie=ce.environmental_protection)!=null?ie:t.environmental_protection)!=null?W:0)*Ee+((Z=(K=Ie.environmental_protection)!=null?K:t.environmental_protection)!=null?Z:0)*Ue)/(Ee+Ue)|0,Ie.environmental_protection_with_filter=(((V=(ae=ce.environmental_protection_with_filter)!=null?ae:t.environmental_protection_with_filter)!=null?V:0)*Ee+((_e=(ne=Ie.environmental_protection_with_filter)!=null?ne:t.environmental_protection_with_filter)!=null?_e:0)*Ue)/(Ee+Ue)|0,Ie.layers=(Fe=Ie.layers)!=null?Fe:[];for(const Le of(ke=ce.layers)!=null?ke:[])Ie.layers.includes(Le)||Ie.layers.push(Le);for(const Le of($e=(de=ce.material)==null?void 0:de.map(jf))!=null?$e:[]){const Ke=Ie.material.find(lt=>lt.type===Le.type);if(Ke){const lt=$(qe,ce),$t=$(qe,Ie);Ke.covered_by_mat=((ye=Ke.covered_by_mat)!=null?ye:100)+((ue=Le.covered_by_mat)!=null?ue:100)*lt/100|0,Ke.thickness=(lt*((De=Le.thickness)!=null?De:0)+$t*((Se=Ke.thickness)!=null?Se:0))/($t+lt)}else{const lt=$(qe,ce),$t=JSON.parse(JSON.stringify(Le));$t.covered_by_mat=((be=Le.covered_by_mat)!=null?be:100)*lt/100,Ie.material.push($t)}}for(const Le of(Te=ce.specifically_covers)!=null?Te:[])(et=Ie.specifically_covers)!=null&&et.includes(Le)||(Ie.specifically_covers==null&&(Ie.specifically_covers=[]),Ie.specifically_covers.push(Le))}else{const Ee=JSON.parse(JSON.stringify(ce));Ee.covers=[Ae];const Ue=$(qe,Ee)/100,Le=(Re=Ee.coverage)!=null?Re:0;Ee.coverage=Le*Ue|0,Ee.cover_melee=((me=Ee.cover_melee)!=null?me:Le)*Ue|0,Ee.cover_ranged=((ve=Ee.cover_ranged)!=null?ve:Le)*Ue|0,Ee.material=(Ye=Ee.material)==null?void 0:Ye.map(jf),o.push(Ee)}}for(const ce of o)for(const Ae of(Me=ce.material)!=null?Me:[])Ae.covered_by_mat=((Be=Ae.covered_by_mat)!=null?Be:100)/(((Je=ce.coverage)!=null?Je:0)/100)|0;function r(ce){const Ae=new Set,qe=[];for(const Ie of ce!=null?ce:[]){if(Ae.has(Ie))continue;const Ee=n.byId("body_part",Ie);Ee.opposite_part&&ce.includes(Ee.opposite_part)?(qe.push(Ee.heading_multiple),Ae.add(Ee.opposite_part)):qe.push(Ee.heading),Ae.add(Ie)}return qe}function f(ce){const Ae=new Set,qe=[];for(const Ie of ce!=null?ce:[]){if(Ae.has(Ie))continue;const Ee=n.byId("sub_body_part",Ie);Ee.opposite&&ce.includes(Ee.opposite)?(qe.push(Ft(Ee.name_multiple)),Ae.add(Ee.opposite)):qe.push(Ft(Ee.name)),Ae.add(Ie)}return qe}const a=[...new Set(o.flatMap(ce=>ce.covers))],u=[...Ur(a,ce=>{const{covers:Ae,...qe}=o.find(Ie=>Ie.covers.includes(ce));return[JSON.stringify(qe)]}).values()].map(ce=>{const Ae=o.find(qe=>qe.covers.includes(ce[0]));return{bp_ids:ce,apd:Ae}}),c=ce=>r(ce).join(", "),m=ce=>{var Ie;const[Ae,qe]=typeof ce.apd.encumbrance=="number"?[ce.apd.encumbrance,ce.apd.encumbrance]:(Ie=ce.apd.encumbrance)!=null?Ie:[0,0];return Ae===qe?`${Ae}`:`${Ae} (${qe} when full)`};function $(ce,Ae){var Ue,Le;if(!((Ue=ce.sub_parts)!=null&&Ue.length))return 100;let qe=0,Ie=0;const Ee=((Le=Ae.specifically_covers)!=null?Le:[]).length?Ae.specifically_covers.map(Ke=>n.byId("sub_body_part",Ke)):n.byType("sub_body_part").filter(Ke=>Ke.parent===ce.id);for(const Ke of Ee)ce.id===Ke.parent&&(Ke.secondary?Ie+=Ke.max_coverage:qe+=Ke.max_coverage);return Math.max(qe,Ie)}function v(ce){var Ae;for(const qe of o)if((Ae=qe.covers)!=null&&Ae.includes(ce))return qe.material;return[]}function E(ce,Ae,qe){{const Ke=v(ce);if(Ke!=null&&Ke.length){let lt=0;for(const $t of Ke){const ot=Math.max(.1,$t.thickness);(Ae<0?Math.random()*100|0:Ae)<$t.covered_by_mat&&(lt+=qe(n.byId("material",$t.type))*ot)}return lt}}let Ie=0;const Ee=C(ce),{mats:Ue,total:Le}=R();if(Ue.length){for(const Ke of Ue)Ie+=qe(n.byId("material",Ke.type))*Ke.portion;Ie/=Le}return Ie*Ee}function T(){return o.length===0?0:o.reduce((Ae,qe)=>{var Ie,Ee;return Ae+((Ee=(Ie=qe.environmental_protection)!=null?Ie:t.environmental_protection)!=null?Ee:0)},0)/o.length}function w(ce){var Ue;{const Le=v(ce);if(Le!=null&&Le.length){let Ke=0;for(const $t of Le)Ke+=n.byId("material",$t.type).acid_resist*((Ue=$t.covered_by_mat)!=null?Ue:0)*.01;const lt=T();return lt<10&&(Ke*=lt/10),Ke}}let Ae=0;const{mats:qe,total:Ie}=R();if(qe.length){for(const Le of qe)Ae+=n.byId("material",Le.type).acid_resist;Ae/=Ie}const Ee=T();return Ee<10&&(Ae*=Ee/10),Ae}function S(ce){var Ue;{const Le=v(ce);if(Le!=null&&Le.length){let Ke=0;for(const $t of Le)Ke+=n.byId("material",$t.type).fire_resist*((Ue=$t.covered_by_mat)!=null?Ue:0)*.01;const lt=T();return lt<10&&(Ke*=lt/10),Ke}}let Ae=0;const{mats:qe,total:Ie}=R();if(qe.length){for(const Le of qe)Ae+=n.byId("material",Le.type).fire_resist;Ae/=Ie}const Ee=T();return Ee<10&&(Ae*=Ee/10),Ae}function C(ce){var Ae,qe,Ie;for(const Ee of o)if((Ae=Ee.covers)!=null&&Ae.includes(ce))return(Ie=(qe=Ee.material_thickness)!=null?qe:t.material_thickness)!=null?Ie:0}function R(){var qe;let ce=0;const Ae=[];if(Array.isArray(t.material)){for(const Ie of t.material)if(typeof Ie=="string")Ae.push({type:Ie,portion:1}),ce+=1;else if(typeof Ie=="object"){const Ee={type:Ie.type,portion:(qe=Ie.portion)!=null?qe:1};ce+=Ee.portion,Ae.push(Ee)}}return{mats:Ae,total:ce}}return i.$$set=ce=>{"item"in ce&&l(0,t=ce.item)},[t,f,u,c,m,E,T,w,S]}class y0 extends Xe{constructor(e){super(),Ve(this,e,v0,h0,We,{item:0})}}function Hf(i,e,l){const t=i.slice();return t[11]=e[l],t}function Wf(i,e,l){const t=i.slice();return t[14]=e[l],t[16]=l,t}function zf(i,e,l){const t=i.slice();return t[11]=e[l],t}function Vf(i,e,l){const t=i.slice();return t[14]=e[l],t[16]=l,t}function Xf(i,e,l){const t=i.slice();return t[20]=e[l][0],t[21]=e[l][1],t}function w0(i){let e,l,t;return{c(){e=y("The "),l=p("strong"),l.textContent="head",t=y(".")},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function E0(i){let e,l,t;return{c(){e=y("The "),l=p("strong"),l.textContent="eyes",t=y(".")},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function T0(i){let e,l,t;return{c(){e=y("The "),l=p("strong"),l.textContent="mouth",t=y(".")},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function S0(i){let e,l,t;return{c(){e=y("The "),l=p("strong"),l.textContent="torso",t=y(".")},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function C0(i){let e,l,t,n,o;return{c(){e=y("The "),l=p("strong"),t=y("right "),n=y(i[20]),o=y(".")},m(r,f){g(r,e,f),g(r,l,f),d(l,t),d(l,n),g(r,o,f)},d(r){r&&h(e),r&&h(l),r&&h(o)}}}function I0(i){let e,l,t,n,o;return{c(){e=y("The "),l=p("strong"),t=y("left "),n=y(i[20]),o=y(".")},m(r,f){g(r,e,f),g(r,l,f),d(l,t),d(l,n),g(r,o,f)},d(r){r&&h(e),r&&h(l),r&&h(o)}}}function R0(i){let e,l,t,n;return{c(){e=y("The "),l=p("strong"),t=y(i[21]),n=y(".")},m(o,r){g(o,e,r),g(o,l,r),d(l,t),g(o,n,r)},d(o){o&&h(e),o&&h(l),o&&h(n)}}}function N0(i){let e,l,t,n;return{c(){e=y("Either "),l=p("strong"),t=y(i[20]),n=y(".")},m(o,r){g(o,e,r),g(o,l,r),d(l,t),g(o,n,r)},d(o){o&&h(e),o&&h(l),o&&h(n)}}}function Jf(i){let e,l,t,n,o,r=" ",f;function a(c,m){if(m&1&&(e=null),e==null&&(e=!!(c[0].sided&&(c[3](`${c[20]}_l`)||c[3](`${c[20]}_r`)))),e)return N0;if(l==null&&(l=!!(c[3](`${c[20]}_l`)&&c[3](`${c[20]}_r`))),l)return R0;if(t==null&&(t=!!c[3](`${c[20]}_l`)),t)return I0;if(n==null&&(n=!!c[3](`${c[20]}_r`)),n)return C0}let s=a(i,-1),u=s&&s(i);return{c(){u&&u.c(),o=I(),f=y(r)},m(c,m){u&&u.m(c,m),g(c,o,m),g(c,f,m)},p(c,m){s!==(s=a(c,m))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(o.parentNode,o)))},d(c){u&&u.d(c),c&&h(o),c&&h(f)}}}function O0(i){let e;return{c(){e=y("Nothing.")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function B0(i){let e;return{c(){e=y("Normal")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function A0(i){let e;return{c(){e=y("Outer aura")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function M0(i){let e;return{c(){e=y("Waist")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function D0(i){let e;return{c(){e=y("Outer")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function L0(i){let e;return{c(){e=y("Strapped")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function G0(i){let e;return{c(){e=y("Close to skin")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function U0(i){let e;return{c(){e=y("Personal aura")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function q0(i){var o;let e=((o=i[0].encumbrance)!=null?o:0)+"",l,t,n=i[0].max_encumbrance&&Kf(i);return{c(){l=y(e),n&&n.c(),t=le()},m(r,f){g(r,l,f),n&&n.m(r,f),g(r,t,f)},p(r,f){var a;f&1&&e!==(e=((a=r[0].encumbrance)!=null?a:0)+"")&&Y(l,e),r[0].max_encumbrance?n?n.p(r,f):(n=Kf(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&h(l),n&&n.d(r),r&&h(t)}}}function P0(i){let e,l=i[5],t=[];for(let n=0;n<l.length;n+=1)t[n]=Qf(zf(i,l,n));return{c(){e=p("dl");for(let n=0;n<t.length;n+=1)t[n].c()},m(n,o){g(n,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(n,o){if(o&96){l=n[5];let r;for(r=0;r<l.length;r+=1){const f=zf(n,l,r);t[r]?t[r].p(f,o):(t[r]=Qf(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){n&&h(e),se(t,n)}}}function Kf(i){let e=" ",l,t,n=i[0].max_encumbrance+"",o,r;return{c(){l=y(e),t=y("("),o=y(n),r=y(" when full)")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&1&&n!==(n=f[0].max_encumbrance+"")&&Y(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function F0(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Zf(i){let e=i[14]+"",l,t=i[16]!==0&&F0();return{c(){t&&t.c(),l=y(e)},m(n,o){t&&t.m(n,o),g(n,l,o)},p:ee,d(n){t&&t.d(n),n&&h(l)}}}function Y0(i){var t;let e=((t=i[11].encumbrance)!=null?t:0)+"",l;return{c(){l=y(e)},m(n,o){g(n,l,o)},p:ee,d(n){n&&h(l)}}}function j0(i){let e=i[11].encumbrance[0]+"",l,t,n,o=i[11].encumbrance[1]!==i[11].encumbrance[0]&&H0(i);return{c(){l=y(e),t=I(),o&&o.c(),n=le()},m(r,f){g(r,l,f),g(r,t,f),o&&o.m(r,f),g(r,n,f)},p(r,f){r[11].encumbrance[1]!==r[11].encumbrance[0]&&o.p(r,f)},d(r){r&&h(l),r&&h(t),o&&o.d(r),r&&h(n)}}}function H0(i){let e,l=i[11].encumbrance[1]+"",t,n;return{c(){e=y("("),t=y(l),n=y(" when full)")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:ee,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function Qf(i){let e,l,t,n,o=i[6](i[11]),r=[];for(let u=0;u<o.length;u+=1)r[u]=Zf(Vf(i,o,u));function f(u,c){return Array.isArray(u[11].encumbrance)?j0:Y0}let s=f(i)(i);return{c(){e=p("dt");for(let u=0;u<r.length;u+=1)r[u].c();l=I(),t=p("dd"),s.c(),n=I()},m(u,c){g(u,e,c);for(let m=0;m<r.length;m+=1)r[m].m(e,null);d(e,l),g(u,t,c),s.m(t,null),d(t,n)},p(u,c){if(c&96){o=u[6](u[11]);let m;for(m=0;m<o.length;m+=1){const $=Vf(u,o,m);r[m]?r[m].p($,c):(r[m]=Zf($),r[m].c(),r[m].m(e,l))}for(;m<r.length;m+=1)r[m].d(1);r.length=o.length}s.p(u,c)},d(u){u&&h(e),se(r,u),u&&h(t),s.d()}}}function W0(i){var n;let e=((n=i[0].coverage)!=null?n:0)+"",l,t;return{c(){l=y(e),t=y("%")},m(o,r){g(o,l,r),g(o,t,r)},p(o,r){var f;r&1&&e!==(e=((f=o[0].coverage)!=null?f:0)+"")&&Y(l,e)},d(o){o&&h(l),o&&h(t)}}}function z0(i){let e,l=i[0].armor,t=[];for(let n=0;n<l.length;n+=1)t[n]=es(Hf(i,l,n));return{c(){e=p("dl");for(let n=0;n<t.length;n+=1)t[n].c()},m(n,o){g(n,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(n,o){if(o&65){l=n[0].armor;let r;for(r=0;r<l.length;r+=1){const f=Hf(n,l,r);t[r]?t[r].p(f,o):(t[r]=es(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){n&&h(e),se(t,n)}}}function V0(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function xf(i){let e=i[14]+"",l,t=i[16]!==0&&V0();return{c(){t&&t.c(),l=y(e)},m(n,o){t&&t.m(n,o),g(n,l,o)},p(n,o){o&1&&e!==(e=n[14]+"")&&Y(l,e)},d(n){t&&t.d(n),n&&h(l)}}}function es(i){var s;let e,l,t,n=((s=i[11].coverage)!=null?s:0)+"",o,r,f=i[6](i[11]),a=[];for(let u=0;u<f.length;u+=1)a[u]=xf(Wf(i,f,u));return{c(){e=p("dt");for(let u=0;u<a.length;u+=1)a[u].c();l=I(),t=p("dd"),o=y(n),r=y("%")},m(u,c){g(u,e,c);for(let m=0;m<a.length;m+=1)a[m].m(e,null);d(e,l),g(u,t,c),d(t,o),d(t,r)},p(u,c){var m;if(c&65){f=u[6](u[11]);let $;for($=0;$<f.length;$+=1){const v=Wf(u,f,$);a[$]?a[$].p(v,c):(a[$]=xf(v),a[$].c(),a[$].m(e,l))}for(;$<a.length;$+=1)a[$].d(1);a.length=f.length}c&1&&n!==(n=((m=u[11].coverage)!=null?m:0)+"")&&Y(o,n)},d(u){u&&h(e),se(a,u),u&&h(t)}}}function ts(i){var s;let e,l,t,n,o,r=((s=i[0].environmental_protection)!=null?s:0)+"",f,a=i[1].length&&X0(i);return{c(){e=p("dt"),e.textContent="Protection",l=p("dd"),t=p("dl"),a&&a.c(),n=p("dt"),n.textContent="Environ.",o=p("dd"),f=y(r),fe(n,"title","Environmental")},m(u,c){g(u,e,c),g(u,l,c),d(l,t),a&&a.m(t,null),d(t,n),d(t,o),d(o,f)},p(u,c){var m;u[1].length&&a.p(u,c),c&1&&r!==(r=((m=u[0].environmental_protection)!=null?m:0)+"")&&Y(f,r)},d(u){u&&h(e),u&&h(l),a&&a.d()}}}function X0(i){var X,A,D;let e,l,t=(i[1].reduce(ls,0)*((X=i[0].material_thickness)!=null?X:0)/i[2]).toFixed(2)+"",n,o,r,f,a=(i[1].reduce(ns,0)*((A=i[0].material_thickness)!=null?A:0)/i[2]).toFixed(2)+"",s,u,c,m,$=(i[1].reduce(is,0)*((D=i[0].material_thickness)!=null?D:0)/i[2]).toFixed(2)+"",v,E,T,w,S=i[7]().toFixed(2)+"",C,R,B,O,N=i[8]().toFixed(2)+"",L,M;return{c(){e=p("dt"),e.textContent="Bash",l=p("dd"),n=y(t),o=I(),r=p("dt"),r.textContent="Cut",f=p("dd"),s=y(a),u=I(),c=p("dt"),c.textContent="Ballistic",m=p("dd"),v=y($),E=I(),T=p("dt"),T.textContent="Acid",w=p("dd"),C=y(S),R=I(),B=p("dt"),B.textContent="Fire",O=p("dd"),L=y(N),M=I()},m(J,H){g(J,e,H),g(J,l,H),d(l,n),d(l,o),g(J,r,H),g(J,f,H),d(f,s),d(f,u),g(J,c,H),g(J,m,H),d(m,v),d(m,E),g(J,T,H),g(J,w,H),d(w,C),d(w,R),g(J,B,H),g(J,O,H),d(O,L),d(O,M)},p(J,H){var F,j,G;H&1&&t!==(t=(J[1].reduce(ls,0)*((F=J[0].material_thickness)!=null?F:0)/J[2]).toFixed(2)+"")&&Y(n,t),H&1&&a!==(a=(J[1].reduce(ns,0)*((j=J[0].material_thickness)!=null?j:0)/J[2]).toFixed(2)+"")&&Y(s,a),H&1&&$!==($=(J[1].reduce(is,0)*((G=J[0].material_thickness)!=null?G:0)/J[2]).toFixed(2)+"")&&Y(v,$),H&1&&S!==(S=J[7]().toFixed(2)+"")&&Y(C,S),H&1&&N!==(N=J[8]().toFixed(2)+"")&&Y(L,N)},d(J){J&&h(e),J&&h(l),J&&h(r),J&&h(f),J&&h(c),J&&h(m),J&&h(T),J&&h(w),J&&h(B),J&&h(O)}}}function J0(i){var et;let e,l,t,n,o,r,f=i[3]("head"),a,s=i[3]("eyes"),u,c=i[3]("mouth"),m,$=i[3]("torso"),v,E,T,w,S,C,R,B,O,N,L,M,X,A,D=((et=i[0].warmth)!=null?et:0)+"",J,H,F,j,G,z,ie,W=f&&w0(),K=s&&E0(),Z=c&&T0(),ae=$&&S0(),V=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],ne=[];for(let Re=0;Re<4;Re+=1)ne[Re]=Jf(Xf(i,V,Re));let _e=!i[4]&&O0();function Fe(Re,me){var ve,Ye,Me,Be,Je,ce;return me&1&&(C=null),me&1&&(R=null),me&1&&(B=null),me&1&&(O=null),me&1&&(N=null),me&1&&(L=null),C==null&&(C=!!((ve=Re[0].flags)!=null?ve:[]).includes("PERSONAL")),C?U0:(R==null&&(R=!!((Ye=Re[0].flags)!=null?Ye:[]).includes("SKINTIGHT")),R?G0:(B==null&&(B=!!((Me=Re[0].flags)!=null?Me:[]).includes("BELTED")),B?L0:(O==null&&(O=!!((Be=Re[0].flags)!=null?Be:[]).includes("OUTER")),O?D0:(N==null&&(N=!!((Je=Re[0].flags)!=null?Je:[]).includes("WAIST")),N?M0:(L==null&&(L=!!((ce=Re[0].flags)!=null?ce:[]).includes("AURA")),L?A0:B0)))))}let ke=Fe(i,-1),de=ke(i);function $e(Re,me){return Re[5]?P0:q0}let ue=$e(i)(i);function De(Re,me){return Re[0].armor?z0:W0}let Se=De(i),be=Se(i),Te=(i[1].length||i[0].environmental_protection)&&ts(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Armor",t=I(),n=p("dl"),o=p("dt"),o.textContent="Covers",r=p("dd"),W&&W.c(),a=I(),K&&K.c(),u=I(),Z&&Z.c(),m=I(),ae&&ae.c(),v=I();for(let Re=0;Re<4;Re+=1)ne[Re].c();E=I(),_e&&_e.c(),T=I(),w=p("dt"),w.textContent="Layer",S=p("dd"),de.c(),M=I(),X=p("dt"),X.textContent="Warmth",A=p("dd"),J=y(D),H=p("dt"),H.textContent="Encumbrance",F=p("dd"),ue.c(),j=I(),G=p("dt"),G.textContent=`Coverage
    `,z=p("dd"),be.c(),ie=I(),Te&&Te.c(),fe(G,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(Re,me){g(Re,e,me),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),W&&W.m(r,null),d(r,a),K&&K.m(r,null),d(r,u),Z&&Z.m(r,null),d(r,m),ae&&ae.m(r,null),d(r,v);for(let ve=0;ve<4;ve+=1)ne[ve].m(r,null);d(r,E),_e&&_e.m(r,null),d(r,T),d(n,w),d(n,S),de.m(S,null),d(S,M),d(n,X),d(n,A),d(A,J),d(n,H),d(n,F),ue.m(F,null),d(F,j),d(n,G),d(n,z),be.m(z,null),d(z,ie),Te&&Te.m(n,null)},p(Re,[me]){var ve;if(me&9){V=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]];let Ye;for(Ye=0;Ye<4;Ye+=1){const Me=Xf(Re,V,Ye);ne[Ye]?ne[Ye].p(Me,me):(ne[Ye]=Jf(Me),ne[Ye].c(),ne[Ye].m(r,E))}for(;Ye<4;Ye+=1)ne[Ye].d(1)}ke!==(ke=Fe(Re,me))&&(de.d(1),de=ke(Re),de&&(de.c(),de.m(S,M))),me&1&&D!==(D=((ve=Re[0].warmth)!=null?ve:0)+"")&&Y(J,D),ue.p(Re,me),Se===(Se=De(Re))&&be?be.p(Re,me):(be.d(1),be=Se(Re),be&&(be.c(),be.m(z,ie))),Re[1].length||Re[0].environmental_protection?Te?Te.p(Re,me):(Te=ts(Re),Te.c(),Te.m(n,null)):Te&&(Te.d(1),Te=null)},i:ee,o:ee,d(Re){Re&&h(e),W&&W.d(),K&&K.d(),Z&&Z.d(),ae&&ae.d(),se(ne,Re),_e&&_e.d(),de.d(),ue.d(),be.d(),Te&&Te.d()}}}function K0(i){return typeof i[0]=="string"}const ls=(i,e)=>{var l;return i+((l=e.material.bash_resist)!=null?l:0)*e.portion},ns=(i,e)=>{var l;return i+((l=e.material.cut_resist)!=null?l:0)*e.portion},is=(i,e)=>{var l;return i+((l=e.material.bullet_resist)!=null?l:0)*e.portion};function Z0(i,e,l){var v,E,T;let{item:t}=e,n=nt("data"),r=(t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:K0(t.material)?t.material.map(w=>({type:w,portion:1})):t.material).map(w=>({material:n.byId("material",w.type),portion:w.portion}));const f=r.reduce((w,S)=>w+S.portion,0);function a(w){var S,C;return((S=t.covers)!=null?S:[]).includes(w)||((C=t.armor)!=null?C:[]).some(R=>{var B;return((B=R.covers)!=null?B:[]).includes(w)})}let s=((v=t.covers)!=null?v:[]).length||((E=t.armor)!=null?E:[]).length;const u=(T=t.armor)!=null?T:t.armor_portion_data;function c(w){var R;const S=new Set,C=[];for(const B of(R=w.covers)!=null?R:[]){if(S.has(B))continue;const O=n.byId("body_part",B);O.opposite_part&&w.covers.includes(O.opposite_part)?(C.push(O.heading_multiple),S.add(O.opposite_part)):C.push(O.heading),S.add(B)}return C}const m=()=>{var C;let w=r.reduce((R,B)=>{var O;return R+((O=B.material.acid_resist)!=null?O:0)*B.portion},0)/f;const S=(C=t.environmental_protection)!=null?C:0;return S<10&&(w*=S/10),w},$=()=>{var C;let w=r.reduce((R,B)=>{var O;return R+((O=B.material.fire_resist)!=null?O:0)*B.portion},0)/f;const S=(C=t.environmental_protection)!=null?C:0;return S<10&&(w*=S/10),w};return i.$$set=w=>{"item"in w&&l(0,t=w.item)},[t,r,f,a,s,u,c,m,$]}class Q0 extends Xe{constructor(e){super(),Ve(this,e,Z0,J0,We,{item:0})}}function x0(i){let e,l,t,n,o;return n=new at({props:{items:i[1],$$slots:{default:[eb,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Bash",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function eb(i){let e,l,t,n;return e=new tt({props:{item:i[0].byId(i[3].type,i[3].id)}}),t=new re({props:{id:i[3].id,type:i[3].type}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&8&&(f.item=o[0].byId(o[3].type,o[3].id)),e.$set(f);const a={};r&8&&(a.id=o[3].id),r&8&&(a.type=o[3].type),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function tb(i){let e,l,t=i[1].length&&x0(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function lb(i,e,l){let{item_id:t}=e;const n=nt("data");let o=n.byType("terrain").concat(n.byType("furniture")).filter(r=>{var a;return((a=r.bash)!=null&&a.items?n.flattenItemGroup({subtype:"collection",entries:typeof r.bash.items=="string"?[{group:r.bash.items}]:r.bash.items}):[]).some(({id:s})=>s===t)}).sort((r,f)=>ge(r).localeCompare(ge(f)));return i.$$set=r=>{"item_id"in r&&l(2,t=r.item_id)},[n,o,t]}class nb extends Xe{constructor(e){super(),Ve(this,e,lb,tb,We,{item_id:2})}}function rs(i){let e,l,t,n;return t=new re({props:{type:"item",id:i[0].installation_data}}),{c(){e=p("dt"),e.textContent="Installation data",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].installation_data),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function ib(i){var S,C;let e,l,t,n,o,r,f,a,s,u=((S=i[0].difficulty)!=null?S:0)+"",c,m,$,v=i[0].is_upgrade?"yes":"no",E,T;f=new re({props:{type:"bionic",id:(C=i[0].bionic_id)!=null?C:i[0].id}});let w=i[0].installation_data&&rs(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Bionic",t=I(),n=p("dl"),o=p("dt"),o.textContent="Installs as",r=p("dd"),P(f.$$.fragment),a=p("dt"),a.textContent="Difficulty",s=p("dd"),c=y(u),m=p("dt"),m.textContent="Is upgrade",$=p("dd"),E=y(v),w&&w.c()},m(R,B){g(R,e,B),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),U(f,r,null),d(n,a),d(n,s),d(s,c),d(n,m),d(n,$),d($,E),w&&w.m(n,null),T=!0},p(R,[B]){var N,L;const O={};B&1&&(O.id=(N=R[0].bionic_id)!=null?N:R[0].id),f.$set(O),(!T||B&1)&&u!==(u=((L=R[0].difficulty)!=null?L:0)+"")&&Y(c,u),(!T||B&1)&&v!==(v=R[0].is_upgrade?"yes":"no")&&Y(E,v),R[0].installation_data?w?(w.p(R,B),B&1&&b(w,1)):(w=rs(R),w.c(),b(w,1),w.m(n,null)):w&&(Q(),k(w,1,1,()=>{w=null}),x())},i(R){T||(b(f.$$.fragment,R),b(w),T=!0)},o(R){k(f.$$.fragment,R),k(w),T=!1},d(R){R&&h(e),q(f),w&&w.d()}}}function rb(i,e,l){let{item:t}=e;return nt("data"),i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class ob extends Xe{constructor(e){super(),Ve(this,e,rb,ib,We,{item:0})}}function os(i,e,l){const t=i.slice();return t[4]=e[l][0],t[5]=e[l][1],t}function fs(i){var $,v;let e,l,t,n,o,r=(($=i[0].required_level)!=null?$:0)+"",f,a,s,u=((v=i[0].max_level)!=null?v:0)+"",c,m;return t=new re({props:{id:i[0].skill,type:"skill"}}),{c(){e=p("dt"),e.textContent="Skill",l=p("dd"),P(t.$$.fragment),n=p("dt"),n.textContent="Required Level",o=p("dd"),f=y(r),a=p("dt"),a.textContent="Maximum Level",s=p("dd"),c=y(u)},m(E,T){g(E,e,T),g(E,l,T),U(t,l,null),g(E,n,T),g(E,o,T),d(o,f),g(E,a,T),g(E,s,T),d(s,c),m=!0},p(E,T){var S,C;const w={};T&1&&(w.id=E[0].skill),t.$set(w),(!m||T&1)&&r!==(r=((S=E[0].required_level)!=null?S:0)+"")&&Y(f,r),(!m||T&1)&&u!==(u=((C=E[0].max_level)!=null?C:0)+"")&&Y(c,u)},i(E){m||(b(t.$$.fragment,E),m=!0)},o(E){k(t.$$.fragment,E),m=!1},d(E){E&&h(e),E&&h(l),q(t),E&&h(n),E&&h(o),E&&h(a),E&&h(s)}}}function ss(i){let e,l,t=i[0].chapters+"",n;return{c(){e=p("dt"),e.textContent="Chapters",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].chapters+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function as(i){let e,l,t,n;return t=new re({props:{type:"martial_art",id:i[0].martial_art}}),{c(){e=p("dt"),e.textContent="Martial Art",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].martial_art),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function fb(i){let e,l,t,n,o=[...i[1].entries()].sort(cs),r=[];for(let a=0;a<o.length;a+=1)r[a]=us(os(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Recipes",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&2){o=[...a[1].entries()].sort(cs);let u;for(u=0;u<o.length;u+=1){const c=os(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=us(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function us(i){let e,l,t,n=i[5]+"",o,r,f;return l=new re({props:{id:i[4],type:"item"}}),{c(){e=p("li"),P(l.$$.fragment),t=y(" ("),o=y(n),r=y(")")},m(a,s){g(a,e,s),U(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p:ee,i(a){f||(b(l.$$.fragment,a),f=!0)},o(a){k(l.$$.fragment,a),f=!1},d(a){a&&h(e),q(l)}}}function sb(i){var L,M,X;let e,l,t,n,o,r,f=((L=i[0].intelligence)!=null?L:0)+"",a,s,u,c=((M=i[0].time)!=null?M:0)+"",m,$,v,E=((X=i[0].fun)!=null?X:0)+"",T,w,S,C,R=i[0].skill&&fs(i),B=i[0].chapters&&ss(i),O=i[0].martial_art&&as(i),N=i[1].size&&fb(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Book",t=I(),n=p("dl"),R&&R.c(),o=p("dt"),o.textContent="Required Intelligence",r=p("dd"),a=y(f),s=p("dt"),s.textContent="Read Time",u=p("dd"),m=y(c),$=p("dt"),$.textContent="Fun",v=p("dd"),T=y(E),B&&B.c(),w=le(),O&&O.c(),S=le(),N&&N.c()},m(A,D){g(A,e,D),d(e,l),d(e,t),d(e,n),R&&R.m(n,null),d(n,o),d(n,r),d(r,a),d(n,s),d(n,u),d(u,m),d(n,$),d(n,v),d(v,T),B&&B.m(n,null),d(n,w),O&&O.m(n,null),d(n,S),N&&N.m(n,null),C=!0},p(A,[D]){var J,H,F;A[0].skill?R?(R.p(A,D),D&1&&b(R,1)):(R=fs(A),R.c(),b(R,1),R.m(n,o)):R&&(Q(),k(R,1,1,()=>{R=null}),x()),(!C||D&1)&&f!==(f=((J=A[0].intelligence)!=null?J:0)+"")&&Y(a,f),(!C||D&1)&&c!==(c=((H=A[0].time)!=null?H:0)+"")&&Y(m,c),(!C||D&1)&&E!==(E=((F=A[0].fun)!=null?F:0)+"")&&Y(T,E),A[0].chapters?B?B.p(A,D):(B=ss(A),B.c(),B.m(n,w)):B&&(B.d(1),B=null),A[0].martial_art?O?(O.p(A,D),D&1&&b(O,1)):(O=as(A),O.c(),b(O,1),O.m(n,S)):O&&(Q(),k(O,1,1,()=>{O=null}),x()),A[1].size&&N.p(A,D)},i(A){C||(b(R),b(O),b(N),C=!0)},o(A){k(R),k(O),k(N),C=!1},d(A){A&&h(e),R&&R.d(),B&&B.d(),O&&O.d(),N&&N.d()}}}const cs=(i,e)=>i[1]!==e[1]?i[1]-e[1]:i[0].localeCompare(e[0]);function ab(i,e,l){var f;let{item:t}=e,n=nt("data");const o=new Map;function r(a,s){var u;o.set(a,Math.min(s,(u=o.get(a))!=null?u:1/0))}for(const a of n.byType("recipe"))if(Array.isArray(a.book_learn)){for(const[s,u=0]of a.book_learn)if(s===t.id)r(a.result,u);else if(a.book_learn)for(const[c,m]of Object.entries(a.book_learn))c===t.id&&r(a.result,(f=m.skill_level)!=null?f:0)}return i.$$set=a=>{"item"in a&&l(0,t=a.item)},[t,o]}class ub extends Xe{constructor(e){super(),Ve(this,e,ab,sb,We,{item:0})}}function _s(i,e,l){const t=i.slice();return t[1]=e[l][0],t[2]=e[l][1],t[4]=l,t}function ds(i){let e,l,t,n=i[0].vitamins,o=[];for(let f=0;f<n.length;f+=1)o[f]=ms(_s(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("dt"),e.textContent="Vitamins (%RDA)",l=p("dd");for(let f=0;f<o.length;f+=1)o[f].c()},m(f,a){g(f,e,a),g(f,l,a);for(let s=0;s<o.length;s+=1)o[s].m(l,null);t=!0},p(f,a){if(a&1){n=f[0].vitamins;let s;for(s=0;s<n.length;s+=1){const u=_s(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=ms(u),o[s].c(),b(o[s],1),o[s].m(l,null))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),f&&h(l),se(o,f)}}}function cb(i){let e=" and ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function _b(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function ms(i){let e,l,t=i[2]+"",n,o,r,f;e=new re({props:{id:i[1],type:"vitamin"}});function a(c,m){if(c[4]<c[0].vitamins.length-2)return _b;if(c[4]===c[0].vitamins.length-2)return cb}let s=a(i),u=s&&s(i);return{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y("%)"),u&&u.c(),r=le()},m(c,m){U(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[1]),e.$set($),(!f||m&1)&&t!==(t=c[2]+"")&&Y(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){q(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function db(i){var j,G,z,ie,W,K;let e,l,t,n,o,r,f=((j=i[0].calories)!=null?j:0)+"",a,s,u,c,m=((G=i[0].quench)!=null?G:0)+"",$,v,E,T=((z=i[0].fun)!=null?z:0)+"",w,S,C,R=((ie=i[0].charges)!=null?ie:1)+"",B,O,N,L=((W=i[0].spoils_in)!=null?W:"never")+"",M,X,A,D=((K=i[0].healthy)!=null?K:0)+"",J,H,F=i[0].vitamins&&ds(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Comestible",t=I(),n=p("dl"),o=p("dt"),o.textContent="Calories",r=p("dd"),a=y(f),s=y(" kcal"),u=p("dt"),u.textContent="Quench",c=p("dd"),$=y(m),v=p("dt"),v.textContent="Enjoyability",E=p("dd"),w=y(T),S=p("dt"),S.textContent="Portions",C=p("dd"),B=y(R),O=p("dt"),O.textContent="Spoils In",N=p("dd"),M=y(L),X=p("dt"),X.textContent="Health",A=p("dd"),J=y(D),F&&F.c()},m(Z,ae){g(Z,e,ae),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,a),d(r,s),d(n,u),d(n,c),d(c,$),d(n,v),d(n,E),d(E,w),d(n,S),d(n,C),d(C,B),d(n,O),d(n,N),d(N,M),d(n,X),d(n,A),d(A,J),F&&F.m(n,null),H=!0},p(Z,[ae]){var V,ne,_e,Fe,ke,de;(!H||ae&1)&&f!==(f=((V=Z[0].calories)!=null?V:0)+"")&&Y(a,f),(!H||ae&1)&&m!==(m=((ne=Z[0].quench)!=null?ne:0)+"")&&Y($,m),(!H||ae&1)&&T!==(T=((_e=Z[0].fun)!=null?_e:0)+"")&&Y(w,T),(!H||ae&1)&&R!==(R=((Fe=Z[0].charges)!=null?Fe:1)+"")&&Y(B,R),(!H||ae&1)&&L!==(L=((ke=Z[0].spoils_in)!=null?ke:"never")+"")&&Y(M,L),(!H||ae&1)&&D!==(D=((de=Z[0].healthy)!=null?de:0)+"")&&Y(J,D),Z[0].vitamins?F?(F.p(Z,ae),ae&1&&b(F,1)):(F=ds(Z),F.c(),b(F,1),F.m(n,null)):F&&(Q(),k(F,1,1,()=>{F=null}),x())},i(Z){H||(b(F),H=!0)},o(Z){k(F),H=!1},d(Z){Z&&h(e),F&&F.d()}}}function mb(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class pb extends Xe{constructor(e){super(),Ve(this,e,mb,db,We,{item:0})}}function hb(i){let e,l,t,n,o;return n=new at({props:{items:i[1],$$slots:{default:[gb,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Provided By Vehicle Parts",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function gb(i){let e,l,t,n;return e=new tt({props:{item:i[10]}}),t=new re({props:{type:i[10].type,id:i[10].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1024&&(f.item=o[10]),e.$set(f);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function bb(i){let e,l,t,n,o;return n=new at({props:{items:i[2],$$slots:{default:[$b,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Provided By Furniture",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function $b(i){let e,l,t,n;return e=new tt({props:{item:i[10]}}),t=new re({props:{type:i[10].type,id:i[10].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1024&&(f.item=o[10]),e.$set(f);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function kb(i){let e,l,t,n,o;return n=new at({props:{items:i[3],$$slots:{default:[vb,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Component Of",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function vb(i){let e,l,t,n;return e=new tt({props:{item:i[0].byId("item",i[10])}}),t=new re({props:{type:"item",id:i[10]}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1024&&(f.item=o[0].byId("item",o[10])),e.$set(f);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function yb(i){let e,l,t,n,o;return n=new at({props:{items:i[4],$$slots:{default:[wb,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Tool For Crafting",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function wb(i){let e,l,t,n;return e=new tt({props:{item:i[0].byId("item",i[10])}}),t=new re({props:{type:"item",id:i[10]}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1024&&(f.item=o[0].byId("item",o[10])),e.$set(f);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Eb(i){let e,l,t,n,o,r=i[1].length&&hb(i),f=i[2].length&&bb(i),a=i[3].length&&kb(i),s=i[4].length&&yb(i);return{c(){r&&r.c(),e=I(),f&&f.c(),l=I(),t=p("div"),a&&a.c(),n=I(),s&&s.c(),fe(t,"class","side-by-side")},m(u,c){r&&r.m(u,c),g(u,e,c),f&&f.m(u,c),g(u,l,c),g(u,t,c),a&&a.m(t,null),d(t,n),s&&s.m(t,null),o=!0},p(u,[c]){u[1].length&&r.p(u,c),u[2].length&&f.p(u,c),u[3].length&&a.p(u,c),u[4].length&&s.p(u,c)},i(u){o||(b(r),b(f),b(a),b(s),o=!0)},o(u){k(r),k(f),k(a),k(s),o=!1},d(u){r&&r.d(u),u&&h(e),f&&f.d(u),u&&h(l),u&&h(t),a&&a.d(),s&&s.d()}}}function Tb(i,e,l){var $,v;let{item_id:t}=e;const n=nt("data"),{byTool:o,byComponent:r}=n.getItemComponents(),f=($=r.get(t))!=null?$:new Set,a=(v=o.get(t))!=null?v:new Set,s=n.byType("vehicle_part").filter(E=>{var T;return E.id&&((T=E.pseudo_tools)==null?void 0:T.some(w=>w.id===t))}),u=n.byType("furniture").filter(E=>E.id&&E.crafting_pseudo_item===t),c=[...f].sort((E,T)=>ge(n.byId("item",E)).localeCompare(ge(n.byId("item",T)))),m=[...a].sort((E,T)=>ge(n.byId("item",E)).localeCompare(ge(n.byId("item",T))));return i.$$set=E=>{"item_id"in E&&l(5,t=E.item_id)},[n,s,u,c,m,t]}class Sb extends Xe{constructor(e){super(),Ve(this,e,Tb,Eb,We,{item_id:5})}}function Cb(i){let e,l,t,n,o;return n=new at({props:{items:i[1],$$slots:{default:[Ib,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Construct",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function ps(i){let e,l,t,n,o;return l=new tt({props:{item:i[0].byId(i[3].pre_terrain.startsWith("f_")?"furniture":"terrain",i[3].pre_terrain)}}),n=new re({props:{type:i[3].pre_terrain.startsWith("f_")?"furniture":"terrain",id:i[3].pre_terrain}}),{c(){e=y("on "),P(l.$$.fragment),t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),U(l,r,f),g(r,t,f),U(n,r,f),o=!0},p(r,f){const a={};f&8&&(a.item=r[0].byId(r[3].pre_terrain.startsWith("f_")?"furniture":"terrain",r[3].pre_terrain)),l.$set(a);const s={};f&8&&(s.type=r[3].pre_terrain.startsWith("f_")?"furniture":"terrain"),f&8&&(s.id=r[3].pre_terrain),n.$set(s)},i(r){o||(b(l.$$.fragment,r),b(n.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(l,r),r&&h(t),q(n,r)}}}function Ib(i){let e,l,t,n;e=new re({props:{id:i[3].group,type:"construction_group"}});let o=i[3].pre_terrain&&ps(i);return{c(){P(e.$$.fragment),l=I(),o&&o.c(),t=le()},m(r,f){U(e,r,f),g(r,l,f),o&&o.m(r,f),g(r,t,f),n=!0},p(r,f){const a={};f&8&&(a.id=r[3].group),e.$set(a),r[3].pre_terrain?o?(o.p(r,f),f&8&&b(o,1)):(o=ps(r),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(Q(),k(o,1,1,()=>{o=null}),x())},i(r){n||(b(e.$$.fragment,r),b(o),n=!0)},o(r){k(e.$$.fragment,r),k(o),n=!1},d(r){q(e,r),r&&h(l),o&&o.d(r),r&&h(t)}}}function Rb(i){let e,l,t=i[1].length&&Cb(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Nb(i,e,l){let{item_id:t}=e;const n=nt("data"),o=n.byType("construction").filter(r=>n.flattenItemGroup(n.normalizeItemGroup(r.byproducts,"collection")).some(a=>a.id===t)).sort((r,f)=>ge(r).localeCompare(ge(f)));return i.$$set=r=>{"item_id"in r&&l(2,t=r.item_id)},[n,o,t]}class Ob extends Xe{constructor(e){super(),Ve(this,e,Nb,Rb,We,{item_id:2})}}function Bb(i){let e,l,t,n,o;return n=new at({props:{items:i[1],$$slots:{default:[Ab,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Deconstruct",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Ab(i){let e,l,t,n;return e=new tt({props:{item:i[0].byId(i[3].type,i[3].id)}}),t=new re({props:{id:i[3].id,type:i[3].type}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&8&&(f.item=o[0].byId(o[3].type,o[3].id)),e.$set(f);const a={};r&8&&(a.id=o[3].id),r&8&&(a.type=o[3].type),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Mb(i){let e,l,t=i[1].length&&Bb(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Db(i,e,l){let{item_id:t}=e;const n=nt("data");let o=n.byType("terrain").concat(n.byType("furniture")).filter(r=>{var a;return((a=r.deconstruct)!=null&&a.items?n.flattenItemGroup({subtype:"collection",entries:typeof r.deconstruct.items=="string"?[{group:r.deconstruct.items}]:r.deconstruct.items}):[]).some(({id:s})=>s===t)}).sort((r,f)=>ge(r).localeCompare(ge(f)));return i.$$set=r=>{"item_id"in r&&l(2,t=r.item_id)},[n,o,t]}class Lb extends Xe{constructor(e){super(),Ve(this,e,Db,Mb,We,{item_id:2})}}function Gb(i){let e,l,t,n,o;return n=new at({props:{items:i[1],$$slots:{default:[Ub,({item:r})=>({4:r}),({item:r})=>r?16:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Disassemble",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&48&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Ub(i){let e,l,t,n;return e=new tt({props:{item:i[0].byId("item",i[4])}}),t=new re({props:{type:"item",id:i[4]}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&16&&(f.item=o[0].byId("item",o[4])),e.$set(f);const a={};r&16&&(a.id=o[4]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function qb(i){let e,l,t=i[1].length&&Gb(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Pb(i,e,l){let{item_id:t}=e,n=nt("data");const o=new Set;for(const f of n.byType("recipe").concat(n.byType("uncraft")))f.result&&(f.reversible||f.type==="uncraft")&&(f.using?Array.isArray(f.using)?f.using:[[f.using,1]]:[]).map(([m,$])=>[n.byId("requirement",m),$]).concat([[f,1]]).flatMap(([m,$])=>{var v;return n.flattenRequirement((v=m.components)!=null?v:[],E=>E.components,{onlyRecoverable:!0}).map(E=>E.map(T=>({...T,count:T.count*$})))}).map(m=>m[0]).some(m=>m.id===t)&&o.add(f.result);const r=[...o].sort((f,a)=>ge(n.byId("item",f)).localeCompare(ge(n.byId("item",a))));return i.$$set=f=>{"item_id"in f&&l(2,t=f.item_id)},[n,r,t]}class Fb extends Xe{constructor(e){super(),Ve(this,e,Pb,qb,We,{item_id:2})}}function Yb(i){let e,l,t,n,o;return n=new at({props:{items:i[1],$$slots:{default:[jb,({item:r})=>({8:r}),({item:r})=>r?256:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Dropped By",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&768&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function jb(i){let e,l,t,n,o=$n(i[8].prob)+"",r,f,a;return e=new tt({props:{item:i[0].byId("monster",i[8].id)}}),t=new re({props:{type:"monster",id:i[8].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment),n=y(" ("),r=y(o),f=y(")")},m(s,u){U(e,s,u),g(s,l,u),U(t,s,u),g(s,n,u),g(s,r,u),g(s,f,u),a=!0},p(s,u){const c={};u&256&&(c.item=s[0].byId("monster",s[8].id)),e.$set(c);const m={};u&256&&(m.id=s[8].id),t.$set(m),(!a||u&256)&&o!==(o=$n(s[8].prob)+"")&&Y(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){q(e,s),s&&h(l),q(t,s),s&&h(n),s&&h(r),s&&h(f)}}}function Hb(i){let e,l,t,n,o;return n=new at({props:{items:i[2],$$slots:{default:[Wb,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Butcher",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&640&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Wb(i){let e,l,t,n;return e=new tt({props:{item:i[7]}}),t=new re({props:{id:i[7].id,type:"monster"}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&128&&(f.item=o[7]),e.$set(f);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function zb(i){let e,l,t,n,o;return n=new at({props:{items:i[3],$$slots:{default:[Vb,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Dissect",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&640&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Vb(i){let e,l,t,n;return e=new tt({props:{item:i[7]}}),t=new re({props:{id:i[7].id,type:"monster"}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&128&&(f.item=o[7]),e.$set(f);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Xb(i){let e,l,t,n,o=i[1].length&&Yb(i),r=i[2].length&&Hb(i),f=i[3].length&&zb(i);return{c(){o&&o.c(),e=I(),r&&r.c(),l=I(),f&&f.c(),t=le()},m(a,s){o&&o.m(a,s),g(a,e,s),r&&r.m(a,s),g(a,l,s),f&&f.m(a,s),g(a,t,s),n=!0},p(a,[s]){a[1].length&&o.p(a,s),a[2].length&&r.p(a,s),a[3].length&&f.p(a,s)},i(a){n||(b(o),b(r),b(f),n=!0)},o(a){k(o),k(r),k(f),n=!1},d(a){o&&o.d(a),a&&h(e),r&&r.d(a),a&&h(l),f&&f.d(a),a&&h(t)}}}function Jb(i,e,l){let{item_id:t}=e,n=nt("data");const o=n.byType("monster").flatMap(u=>{if(!u.id)return[];const m=n.flatDeathDrops(u.id).find($=>$.id===t);return m?[{id:u.id,prob:m.prob}]:[]});o.sort((u,c)=>c.prob-u.prob);const r=u=>{var c,m;return(m=(c=u.entries)==null?void 0:c.flatMap($=>{var v;return $.type&&((v=n.byId("harvest_drop_type",$.type))==null?void 0:v.group)?n.flattenItemGroup(n.byId("item_group",$.drop)).map(E=>E.id):[$.drop]}))!=null?m:[]},f=n.byType("harvest").filter(u=>r(u).some(c=>c===t)),a=n.byType("monster").filter(u=>u.id&&f.some(c=>c.id===u.harvest)),s=n.byType("monster").filter(u=>u.id&&f.some(c=>c.id===u.dissect));return i.$$set=u=>{"item_id"in u&&l(4,t=u.item_id)},[n,o,a,s,t]}class Kb extends Xe{constructor(e){super(),Ve(this,e,Jb,Xb,We,{item_id:4})}}function hs(i,e,l){const t=i.slice();return t[6]=e[l][0],t[7]=e[l][1],t}function Zb(i){let e,l,t,n,o;return n=new at({props:{items:i[1],$$slots:{default:[Qb,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Forage",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&1056&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function gs(i){let e,l=i[6]+"",t;return{c(){e=p("li"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function Qb(i){let e,l,t,n,o,r;e=new tt({props:{item:i[5]}}),t=new re({props:{type:"terrain",id:i[5].id}});let f=i[0],a=[];for(let s=0;s<f.length;s+=1)a[s]=gs(hs(i,f,s));return{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment),n=y(` in
      `),o=p("ul");for(let s=0;s<a.length;s+=1)a[s].c();fe(o,"class","comma-separated or")},m(s,u){U(e,s,u),g(s,l,u),U(t,s,u),g(s,n,u),g(s,o,u);for(let c=0;c<a.length;c+=1)a[c].m(o,null);r=!0},p(s,u){const c={};u&32&&(c.item=s[5]),e.$set(c);const m={};if(u&32&&(m.id=s[5].id),t.$set(m),u&1){f=s[0];let $;for($=0;$<f.length;$+=1){const v=hs(s,f,$);a[$]?a[$].p(v,u):(a[$]=gs(v),a[$].c(),a[$].m(o,null))}for(;$<a.length;$+=1)a[$].d(1);a.length=f.length}},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),r=!1},d(s){q(e,s),s&&h(l),q(t,s),s&&h(n),s&&h(o),se(a,s)}}}function xb(i){let e,l,t=i[0].length&&Zb(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function e$(i,e,l){let{item_id:t}=e,n=nt("data");const o={Spring:"forage_spring",Summer:"forage_summer",Autumn:"forage_autumn",Winter:"forage_winter","any season":"trash_forest"},r=Object.keys(o).map(a=>{var u;const s=n.flattenItemGroup(n.byId("item_group",o[a]));return[a,(u=s.find(c=>c.id===t))==null?void 0:u.prob]}).filter(a=>a[1]),f=n.byType("terrain").filter(a=>a.examine_action==="shrub_wildveggies");return i.$$set=a=>{"item_id"in a&&l(2,t=a.item_id)},[r,f,t]}class t$ extends Xe{constructor(e){super(),Ve(this,e,e$,xb,We,{item_id:2})}}function l$(i){let e,l,t,n,o;return n=new at({props:{items:i[0],$$slots:{default:[n$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Grown From",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function n$(i){var s;let e,l,t,n,o=((s=i[3].seed_data.grow)!=null?s:"1 day")+"",r,f,a;return e=new tt({props:{item:i[3]}}),t=new re({props:{id:i[3].id,type:"item"}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment),n=y(" ("),r=y(o),f=y(")")},m(u,c){U(e,u,c),g(u,l,c),U(t,u,c),g(u,n,c),g(u,r,c),g(u,f,c),a=!0},p(u,c){var v;const m={};c&8&&(m.item=u[3]),e.$set(m);const $={};c&8&&($.id=u[3].id),t.$set($),(!a||c&8)&&o!==(o=((v=u[3].seed_data.grow)!=null?v:"1 day")+"")&&Y(r,o)},i(u){a||(b(e.$$.fragment,u),b(t.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(t.$$.fragment,u),a=!1},d(u){q(e,u),u&&h(l),q(t,u),u&&h(n),u&&h(r),u&&h(f)}}}function i$(i){let e,l,t=i[0].length&&l$(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function r$(i,e,l){let{item_id:t}=e;const o=nt("data").byType("item").filter(r=>{var f;return!r.id||!r.seed_data?!1:r.seed_data.fruit===t||((f=r.seed_data.byproducts)==null?void 0:f.includes(t))});return i.$$set=r=>{"item_id"in r&&l(1,t=r.item_id)},[o,t]}class o$ extends Xe{constructor(e){super(),Ve(this,e,r$,i$,We,{item_id:1})}}function bs(i){let e,l,t=i[0].min_strength+"",n;return{c(){e=p("dt"),e.textContent="Min Strength",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].min_strength+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function $s(i){let e,l,t=i[0].valid_mod_locations.map(ks).join(", ")+"",n,o;return{c(){e=p("dt"),e.textContent="Mod Slots",l=p("dd"),n=y(t),o=I()},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f&1&&t!==(t=r[0].valid_mod_locations.map(ks).join(", ")+"")&&Y(n,t)},d(r){r&&h(e),r&&h(l)}}}function f$(i){var De,Se,be,Te,et,Re,me,ve,Ye,Me;let e,l,t,n,o,r,f,a,s,u,c,m,$,v=((De=i[0].range)!=null?De:0)+"",E,T,w,S=((Se=i[0].dispersion)!=null?Se:0)+"",C,R,B,O=(((be=i[0].flags)!=null?be:[]).includes("DISABLE_SIGHTS")?90:(Te=i[0].sight_dispersion)!=null?Te:30)+"",N,L,M,X,A=((et=i[0].recoil)!=null?et:0)+"",D,J,H,F=((Re=i[0].loudness)!=null?Re:0)+"",j,G,z,ie=((me=i[0].reload)!=null?me:100)+"",W,K,Z,ae,V=((ve=i[0].reload_noise_volume)!=null?ve:0)+"",ne,_e,Fe,ke=((Ye=i[0].durability)!=null?Ye:0)+"",de,$e;f=new re({props:{type:"skill",id:i[0].skill}});let ye=i[0].min_strength&&bs(i),ue=((Me=i[0].valid_mod_locations)==null?void 0:Me.length)&&$s(i);return{c(){var Be,Je,ce;e=p("section"),l=p("h1"),l.textContent="Ranged",t=I(),n=p("dl"),o=p("dt"),o.textContent="Skill",r=p("dd"),P(f.$$.fragment),ye&&ye.c(),a=p("dt"),a.textContent="Base Damage",s=p("dd"),s.textContent=`${(Be=i[1].amount)!=null?Be:0} (${(Je=i[1].damage_type)!=null?Je:"bullet"})
    `,u=p("dt"),u.textContent="Armor Penetration",c=p("dd"),c.textContent=`${(ce=i[1].armor_penetration)!=null?ce:0}`,m=p("dt"),m.textContent="Range Bonus",$=p("dd"),E=y(v),T=p("dt"),T.textContent="Base Dispersion",w=p("dd"),C=y(S),R=p("dt"),R.textContent="Sight Dispersion",B=p("dd"),N=y(O),L=I(),M=p("dt"),M.textContent="Base Recoil",X=p("dd"),D=y(A),J=p("dt"),J.textContent=`Loudness Modifier
    `,H=p("dd"),j=y(F),G=p("dt"),G.textContent="Reload Time",z=p("dd"),W=y(ie),K=y(" moves"),Z=p("dt"),Z.textContent=`Reload Noise Volume
    `,ae=p("dd"),ne=y(V),ue&&ue.c(),_e=p("dt"),_e.textContent="Durability",Fe=p("dd"),de=y(ke),fe(m,"title","Added to ammo range"),fe(T,"title","Added to ammo dispersion"),fe(J,"title","Modifies base loudness as provided by the currently loaded ammo"),fe(Z,"title","Volume of the noise made when reloading this weapon")},m(Be,Je){g(Be,e,Je),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),U(f,r,null),ye&&ye.m(n,null),d(n,a),d(n,s),d(n,u),d(n,c),d(n,m),d(n,$),d($,E),d(n,T),d(n,w),d(w,C),d(n,R),d(n,B),d(B,N),d(B,L),d(n,M),d(n,X),d(X,D),d(n,J),d(n,H),d(H,j),d(n,G),d(n,z),d(z,W),d(z,K),d(n,Z),d(n,ae),d(ae,ne),ue&&ue.m(n,null),d(n,_e),d(n,Fe),d(Fe,de),$e=!0},p(Be,[Je]){var Ae,qe,Ie,Ee,Ue,Le,Ke,lt,$t,ot;const ce={};Je&1&&(ce.id=Be[0].skill),f.$set(ce),Be[0].min_strength?ye?ye.p(Be,Je):(ye=bs(Be),ye.c(),ye.m(n,a)):ye&&(ye.d(1),ye=null),(!$e||Je&1)&&v!==(v=((Ae=Be[0].range)!=null?Ae:0)+"")&&Y(E,v),(!$e||Je&1)&&S!==(S=((qe=Be[0].dispersion)!=null?qe:0)+"")&&Y(C,S),(!$e||Je&1)&&O!==(O=(((Ie=Be[0].flags)!=null?Ie:[]).includes("DISABLE_SIGHTS")?90:(Ee=Be[0].sight_dispersion)!=null?Ee:30)+"")&&Y(N,O),(!$e||Je&1)&&A!==(A=((Ue=Be[0].recoil)!=null?Ue:0)+"")&&Y(D,A),(!$e||Je&1)&&F!==(F=((Le=Be[0].loudness)!=null?Le:0)+"")&&Y(j,F),(!$e||Je&1)&&ie!==(ie=((Ke=Be[0].reload)!=null?Ke:100)+"")&&Y(W,ie),(!$e||Je&1)&&V!==(V=((lt=Be[0].reload_noise_volume)!=null?lt:0)+"")&&Y(ne,V),($t=Be[0].valid_mod_locations)!=null&&$t.length?ue?ue.p(Be,Je):(ue=$s(Be),ue.c(),ue.m(n,_e)):ue&&(ue.d(1),ue=null),(!$e||Je&1)&&ke!==(ke=((ot=Be[0].durability)!=null?ot:0)+"")&&Y(de,ke)},i(Be){$e||(b(f.$$.fragment,Be),$e=!0)},o(Be){k(f.$$.fragment,Be),$e=!1},d(Be){Be&&h(e),q(f),ye&&ye.d(),ue&&ue.d()}}}const ks=([i,e])=>`${i} (${e})`;function s$(i,e,l){var o;let{item:t}=e;const n=Array.isArray(t.ranged_damage)?t.ranged_damage[0]:t.ranged_damage&&"values"in t.ranged_damage?t.ranged_damage.values[0]:(o=t.ranged_damage)!=null?o:{amount:0,damage_type:"bullet",armor_penetration:0};return i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,n]}class a$ extends Xe{constructor(e){super(),Ve(this,e,s$,f$,We,{item:0})}}function u$(i){let e,l,t,n,o;return n=new at({props:{items:i[0],$$slots:{default:[c$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Harvest",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function c$(i){let e,l,t,n;return e=new tt({props:{item:i[3]}}),t=new re({props:{type:i[3].type,id:i[3].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&8&&(f.item=o[3]),e.$set(f);const a={};r&8&&(a.type=o[3].type),r&8&&(a.id=o[3].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function _$(i){let e,l,t=i[0].length&&u$(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function d$(i,e,l){let{item_id:t}=e;const n=nt("data"),o=n.byType("terrain").concat(n.byType("furniture")).filter(r=>{var f;return((f=r.harvest_by_season)!=null?f:[]).some(a=>n.byId("harvest",a.id).entries.some(u=>u.type==="bionic_group"?n.flattenItemGroup(n.byId("item_group",u.drop)).some(c=>c.id===t):u.drop===t))});return o.sort((r,f)=>ge(r).localeCompare(ge(f))),i.$$set=r=>{"item_id"in r&&l(1,t=r.item_id)},[o,t]}class m$ extends Xe{constructor(e){super(),Ve(this,e,d$,_$,We,{item_id:1})}}function p$(i){let e,l,t,n,o;return n=new at({props:{items:i[1],$$slots:{default:[h$,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Compatible Items",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&9&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function h$(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function g$(i){let e,l,t=i[1].length&&p$(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function b$(i,e,l){let{item:t}=e;const o=nt("data").byType("item").filter(r=>r.id).filter(r=>{var f;return(f=r.pocket_data)==null?void 0:f.some(a=>{var s,u,c;return(a.pocket_type==="MAGAZINE_WELL"||a.pocket_type==="MAGAZINE")&&(((s=a.item_restriction)==null?void 0:s.includes(t.id))||((u=a.allowed_speedloaders)==null?void 0:u.includes(t.id))||((c=a.flag_restriction)==null?void 0:c.some(m=>{var $;return($=t.flags)==null?void 0:$.includes(m)})))})});return o.sort((r,f)=>ge(r).localeCompare(ge(f))),i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,o]}class $$ extends Xe{constructor(e){super(),Ve(this,e,b$,g$,We,{item:0})}}function vs(i,e,l){const t=i.slice();return t[11]=e[l],t}function ys(i){var M,X;let e,l,t,n,o,r,f=((M=i[0].bashing)!=null?M:0)+"",a,s,u,c,m=((X=i[0].cutting)!=null?X:0)+"",$,v,E,T,w,S=i[3](i[0])+"",C,R;function B(A,D){return A[4]?v$:k$}let N=B(i)(i),L=i[1].length&&y$(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Melee",t=I(),n=p("dl"),o=p("dt"),o.textContent="Bash",r=p("dd"),a=y(f),s=p("dt"),N.c(),u=I(),c=p("dd"),$=y(m),v=p("dt"),v.textContent="To Hit",E=p("dd"),E.textContent=`${i[2]}`,T=p("dt"),T.textContent="Moves Per Attack",w=p("dd"),C=y(S),L&&L.c()},m(A,D){g(A,e,D),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,a),d(n,s),N.m(s,null),d(s,u),d(n,c),d(c,$),d(n,v),d(n,E),d(n,T),d(n,w),d(w,C),L&&L.m(n,null),R=!0},p(A,D){var J,H;(!R||D&1)&&f!==(f=((J=A[0].bashing)!=null?J:0)+"")&&Y(a,f),(!R||D&1)&&m!==(m=((H=A[0].cutting)!=null?H:0)+"")&&Y($,m),(!R||D&1)&&S!==(S=A[3](A[0])+"")&&Y(C,S),A[1].length&&L.p(A,D)},i(A){R||(b(L),R=!0)},o(A){k(L),R=!1},d(A){A&&h(e),N.d(),L&&L.d()}}}function k$(i){let e;return{c(){e=y("Cut")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function v$(i){let e;return{c(){e=y("Pierce")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function y$(i){let e,l,t,n,o=i[1],r=[];for(let a=0;a<o.length;a+=1)r[a]=ws(vs(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Techniques",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","no-bullets")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&2){o=a[1];let u;for(u=0;u<o.length;u+=1){const c=vs(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=ws(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function ws(i){let e,l,t,n,o=Ft(i[11].description)+"",r,f,a;return t=new re({props:{type:"technique",id:i[11].id}}),{c(){e=p("li"),l=p("strong"),P(t.$$.fragment),n=y(": "),r=y(o),f=I()},m(s,u){g(s,e,u),d(e,l),U(t,l,null),d(e,n),d(e,r),d(e,f),a=!0},p:ee,i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&h(e),q(t)}}}function w$(i){let e,l,t=(i[0].bashing||i[0].cutting)&&ys(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].bashing||n[0].cutting?t?(t.p(n,o),o&1&&b(t,1)):(t=ys(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Q(),k(t,1,1,()=>{t=null}),x())},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function E$(i,e,l){var v,E,T,w;let t=nt("data"),{item:n}=e,o=((v=n.techniques)!=null?v:[]).map(S=>t.byId("technique",S));const r={bad:0,none:1,solid:2,weapon:3},f={hand:0,short:1,long:2},a={point:0,line:1,any:2,every:3},s={clumsy:0,uneven:1,neutral:2,good:3},u=({grip:S="weapon",length:C="hand",surface:R="any",balance:B="neutral"})=>{const O=r[S],N=f[C],L=a[R],M=s[B],X=-2,A=-1,D=-2,J=-2;return X+A+D+J+O+N+L+M},c=typeof n.to_hit=="object"?u(n.to_hit):(E=n.to_hit)!=null?E:0;function m(S){return Math.floor(65+(Math.floor(Gr(S.volume)/62.5)+Math.floor(Oi(S.weight)/60)))}const $=((T=n.flags)!=null?T:[]).includes("SPEAR")||((w=n.flags)!=null?w:[]).includes("STAB");return i.$$set=S=>{"item"in S&&l(0,n=S.item)},[n,o,c,m,$]}class T$ extends Xe{constructor(e){super(),Ve(this,e,E$,w$,We,{item:0})}}function Es(i,e,l){const t=i.slice();return t[6]=e[l],t}function Ts(i,e,l){const t=i.slice();return t[9]=e[l].id,t[10]=e[l].count,t[12]=l,t}function Ss(i,e,l){const t=i.slice();return t[13]=e[l],t}function Cs(i,e,l){const t=i.slice();return t[16]=e[l],t[12]=l,t}function Is(i,e,l){const t=i.slice();return t[18]=e[l],t}function Rs(i,e,l){const t=i.slice();return t[21]=e[l],t[12]=l,t}function S$(i){var $;let e,l,t,n,o,r,f=($=i[2])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=Os(Is(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[1],c=[];for(let v=0;v<u.length;v+=1)c[v]=As(Ss(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=p("dt"),e.textContent="Tools Required",l=I(),t=p("dd"),n=p("ul");for(let v=0;v<a.length;v+=1)a[v].c();o=I();for(let v=0;v<c.length;v+=1)c[v].c()},m(v,E){g(v,e,E),g(v,l,E),g(v,t,E),d(t,n);for(let T=0;T<a.length;T+=1)a[T].m(n,null);d(n,o);for(let T=0;T<c.length;T+=1)c[T].m(n,null);r=!0},p(v,E){var T;if(E&4){f=(T=v[2])!=null?T:[];let w;for(w=0;w<f.length;w+=1){const S=Is(v,f,w);a[w]?(a[w].p(S,E),b(a[w],1)):(a[w]=Os(S),a[w].c(),b(a[w],1),a[w].m(n,o))}for(Q(),w=f.length;w<a.length;w+=1)s(w);x()}if(E&3){u=v[1];let w;for(w=0;w<u.length;w+=1){const S=Ss(v,u,w);c[w]?(c[w].p(S,E),b(c[w],1)):(c[w]=As(S),c[w].c(),b(c[w],1),c[w].m(n,null))}for(Q(),w=u.length;w<c.length;w+=1)m(w);x()}},i(v){if(!r){for(let E=0;E<f.length;E+=1)b(a[E]);for(let E=0;E<u.length;E+=1)b(c[E]);r=!0}},o(v){a=a.filter(Boolean);for(let E=0;E<a.length;E+=1)k(a[E]);c=c.filter(Boolean);for(let E=0;E<c.length;E+=1)k(c[E]);r=!1},d(v){v&&h(e),v&&h(l),v&&h(t),se(a,v),se(c,v)}}}function C$(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Ns(i){var w,S;let e,l=((w=i[21].amount)!=null?w:1)+"",t,n,o=((S=i[21].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[21].level+"",c,m,$="",v,E,T=i[12]!==0&&C$();return a=new re({props:{type:"tool_quality",id:i[21].id}}),{c(){T&&T.c(),e=I(),t=y(l),n=y(" tool"),r=y(o),f=y(`
            with `),P(a.$$.fragment),s=y(" of "),c=y(u),m=y(`
            or more`),v=y($)},m(C,R){T&&T.m(C,R),g(C,e,R),g(C,t,R),g(C,n,R),g(C,r,R),g(C,f,R),U(a,C,R),g(C,s,R),g(C,c,R),g(C,m,R),g(C,v,R),E=!0},p:ee,i(C){E||(b(a.$$.fragment,C),E=!0)},o(C){k(a.$$.fragment,C),E=!1},d(C){T&&T.d(C),C&&h(e),C&&h(t),C&&h(n),C&&h(r),C&&h(f),q(a,C),C&&h(s),C&&h(c),C&&h(m),C&&h(v)}}}function Os(i){let e,l,t,n=i[18],o=[];for(let f=0;f<n.length;f+=1)o[f]=Ns(Rs(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=y(".")},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&4){n=f[18];let s;for(s=0;s<n.length;s+=1){const u=Rs(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Ns(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function I$(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function R$(i){let e,l;return e=new re({props:{type:"item",id:i[16].id}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p:ee,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function N$(i){let e,l=ge(i[0].byId("item",i[16].id))+"",t;return{c(){e=p("a"),t=y(l),fe(e,"href","#/furniture/"+i[0].craftingPseudoItem(i[16].id))},m(n,o){g(n,e,o),d(e,t)},p:ee,i:ee,o:ee,d(n){n&&h(e)}}}function O$(i){let e,l=i[16].count+"",t,n,o,r=i[16].count!==1&&B$();return{c(){e=y("("),t=y(l),n=y(" charge"),r&&r.c(),o=y(")")},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:ee,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function B$(i){let e;return{c(){e=y("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Bs(i){let e,l,t,n,o,r,f=i[12]!==0&&I$();const a=[N$,R$],s=[];function u(m,$){return m[0].craftingPseudoItem(m[16].id)?0:1}l=u(i),t=s[l]=a[l](i);let c=i[16].count>0&&O$(i);return{c(){f&&f.c(),e=I(),t.c(),n=I(),c&&c.c(),o=le()},m(m,$){f&&f.m(m,$),g(m,e,$),s[l].m(m,$),g(m,n,$),c&&c.m(m,$),g(m,o,$),r=!0},p(m,$){t.p(m,$),m[16].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&h(e),s[l].d(m),m&&h(n),c&&c.d(m),m&&h(o)}}}function As(i){let e,l,t,n=i[13],o=[];for(let f=0;f<n.length;f+=1)o[f]=Bs(Cs(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&3){n=f[13];let s;for(s=0;s<n.length;s+=1){const u=Cs(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Bs(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function A$(i){let e,l,t,n,o,r=i[3],f=[];for(let s=0;s<r.length;s+=1)f[s]=Ds(Es(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Components",l=I(),t=p("dd"),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),g(s,l,u),g(s,t,u),d(t,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&9){r=s[3];let c;for(c=0;c<r.length;c+=1){const m=Es(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ds(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),s&&h(t),se(f,s)}}}function M$(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Ms(i){let e,l,t,n=i[12]!==0&&M$();return l=new re({props:{type:"item",id:i[9],count:i[10]}}),{c(){n&&n.c(),e=I(),P(l.$$.fragment)},m(o,r){n&&n.m(o,r),g(o,e,r),U(l,o,r),t=!0},p:ee,i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){k(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&h(e),q(l,o)}}}function Ds(i){let e,l,t,n=i[6].map(i[5]),o=[];for(let f=0;f<n.length;f+=1)o[f]=Ms(Ts(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&9){n=f[6].map(f[5]);let s;for(s=0;s<n.length;s+=1){const u=Ts(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Ms(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function D$(i){var r;let e,l,t,n=(((r=i[2])!=null?r:[]).length||i[1].length)&&S$(i),o=i[3].length&&A$(i);return{c(){n&&n.c(),e=I(),o&&o.c(),l=le()},m(f,a){n&&n.m(f,a),g(f,e,a),o&&o.m(f,a),g(f,l,a),t=!0},p(f,[a]){var s;(((s=f[2])!=null?s:[]).length||f[1].length)&&n.p(f,a),f[3].length&&o.p(f,a)},i(f){t||(b(n),b(o),t=!0)},o(f){k(n),k(o),t=!1},d(f){n&&n.d(f),f&&h(e),o&&o.d(f),f&&h(l)}}}function L$(i,e,l){let{requirement:t}=e;const n=nt("data");let{tools:o,qualities:r,components:f}=n.normalizeRequirements(t);const a=s=>({...s,item:n.byId("item",s.id)});return i.$$set=s=>{"requirement"in s&&l(4,t=s.requirement)},[n,o,r,f,t,a]}class zi extends Xe{constructor(e){super(),Ve(this,e,L$,D$,We,{requirement:4})}}function Ls(i,e,l){const t=i.slice();return t[6]=e[l][0],t[7]=e[l][1]!==void 0?e[l][1]:0,t}function Gs(i,e,l){const t=i.slice();return t[10]=e[l][0],t[7]=e[l][1],t}function Us(i,e,l){const t=i.slice();return t[10]=e[l][0],t[7]=e[l][1],t}function qs(i,e,l){const t=i.slice();return t[15]=e[l],t}function Ps(i,e,l){const t=i.slice();return t[18]=e[l],t}function Fs(i,e,l){const t=i.slice();return t[10]=e[l][0],t[7]=e[l][1],t[22]=l,t}function G$(i){let e;return{c(){e=y("Craft")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function U$(i){let e;return{c(){e=y("Byproduct")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Ys(i){let e,l,t,n;return t=new re({props:{id:i[0].result,type:"item"}}),{c(){e=p("dt"),e.textContent="Result",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].result),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function q$(i){let e;return{c(){e=y("none")},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function P$(i){var f;let e,l,t=((f=i[0].difficulty)!=null?f:0)+"",n,o,r;return e=new re({props:{type:"skill",id:i[0].skill_used}}),{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")")},m(a,s){U(e,a,s),g(a,l,s),g(a,n,s),g(a,o,s),r=!0},p(a,s){var c;const u={};s&1&&(u.id=a[0].skill_used),e.$set(u),(!r||s&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&Y(n,t)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){q(e,a),a&&h(l),a&&h(n),a&&h(o)}}}function F$(i){let e,l,t,n,o=i[2],r=[];for(let s=0;s<o.length;s+=1)r[s]=Hs(Fs(i,o,s));const f=s=>k(r[s],1,1,()=>{r[s]=null});let a=null;return o.length||(a=js()),{c(){e=p("dt"),e.textContent="Other Skills",l=p("dd");for(let s=0;s<r.length;s+=1)r[s].c();a&&a.c(),t=I()},m(s,u){g(s,e,u),g(s,l,u);for(let c=0;c<r.length;c+=1)r[c].m(l,null);a&&a.m(l,null),d(l,t),n=!0},p(s,u){if(u&4){o=s[2];let c;for(c=0;c<o.length;c+=1){const m=Fs(s,o,c);r[c]?(r[c].p(m,u),b(r[c],1)):(r[c]=Hs(m),r[c].c(),b(r[c],1),r[c].m(l,t))}for(Q(),c=o.length;c<r.length;c+=1)f(c);x(),o.length?a&&(a.d(1),a=null):a||(a=js(),a.c(),a.m(l,t))}},i(s){if(!n){for(let u=0;u<o.length;u+=1)b(r[u]);n=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);n=!1},d(s){s&&h(e),s&&h(l),se(r,s),a&&a.d()}}}function js(i){let e;return{c(){e=y("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Y$(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function j$(i){let e=" and ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Hs(i){let e,l,t=i[7]+"",n,o,r,f;e=new re({props:{type:"skill",id:i[10]}});function a(c,m){if(c[22]===c[2].length-2)return j$;if(c[22]!==c[2].length-1)return Y$}let s=a(i),u=s&&s(i);return{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")"),u&&u.c(),r=le()},m(c,m){U(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p:ee,i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){q(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function H$(i){let e,l,t,n,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=Ws(Ps(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Proficiencies",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&16){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=Ps(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ws(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function W$(i){let e,l=[[i[18].time_multiplier,"time"],[i[18].fail_multiplier,"fail"],[i[18].learning_time_multiplier,"learning speed"]].filter(lk).map(nk).join(", ")+"",t,n;return{c(){e=y("("),t=y(l),n=y(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:ee,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function Ws(i){let e,l,t,n,o;l=new re({props:{type:"proficiency",id:i[18].proficiency}});let r=(i[18].time_multiplier!==1||i[18].fail_multiplier!==1||i[18].learning_time_multiplier!==1)&&W$(i);return{c(){e=p("li"),P(l.$$.fragment),t=I(),r&&r.c(),n=I()},m(f,a){g(f,e,a),U(l,e,null),d(e,t),r&&r.m(e,null),d(e,n),o=!0},p(f,a){(f[18].time_multiplier!==1||f[18].fail_multiplier!==1||f[18].learning_time_multiplier!==1)&&r.p(f,a)},i(f){o||(b(l.$$.fragment,f),o=!0)},o(f){k(l.$$.fragment,f),o=!1},d(f){f&&h(e),q(l),r&&r.d()}}}function z$(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function V$(i){let e=i[0].batch_time_factors[0]+"",l,t,n=i[0].batch_time_factors[1]+"",o,r,f=i[0].batch_time_factors[1]===1?"":"s",a;return{c(){l=y(e),t=y("% at >"),o=y(n),r=y(" unit"),a=y(f)},m(s,u){g(s,l,u),g(s,t,u),g(s,o,u),g(s,r,u),g(s,a,u)},p(s,u){u&1&&e!==(e=s[0].batch_time_factors[0]+"")&&Y(l,e),u&1&&n!==(n=s[0].batch_time_factors[1]+"")&&Y(o,n),u&1&&f!==(f=s[0].batch_time_factors[1]===1?"":"s")&&Y(a,f)},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r),s&&h(a)}}}function zs(i){let e,l,t=i[0].charges+"",n;return{c(){e=p("dt"),e.textContent="Recipe Makes",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].charges+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function Vs(i){let e,l,t,n,o,r=i[0].byproducts,f=[];for(let s=0;s<r.length;s+=1)f[s]=Xs(qs(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Byproducts",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].byproducts;let c;for(c=0;c<r.length;c+=1){const m=qs(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Xs(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Xs(i){var n;let e,l,t;return l=new re({props:{type:"item",id:i[15][0],count:(n=i[15][1])!=null?n:1}}),{c(){e=p("li"),P(l.$$.fragment)},m(o,r){g(o,e,r),U(l,e,null),t=!0},p(o,r){var a;const f={};r&1&&(f.id=o[15][0]),r&1&&(f.count=(a=o[15][1])!=null?a:1),l.$set(f)},i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){k(l.$$.fragment,o),t=!1},d(o){o&&h(e),q(l)}}}function X$(i){let e;return{c(){e=y("no")},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function J$(i){let e,l,t,n,o;const r=[Z$,K$],f=[];function a(s,u){return u&1&&(l=null),l==null&&(l=!!Array.isArray(s[0].autolearn)),l?0:1}return t=a(i,-1),n=f[t]=r[t](i),{c(){e=p("ul"),n.c(),fe(e,"class","comma-separated")},m(s,u){g(s,e,u),f[t].m(e,null),o=!0},p(s,u){let c=t;t=a(s,u),t===c?f[t].p(s,u):(Q(),k(f[c],1,1,()=>{f[c]=null}),x(),n=f[t],n?n.p(s,u):(n=f[t]=r[t](s),n.c()),b(n,1),n.m(e,null))},i(s){o||(b(n),o=!0)},o(s){k(n),o=!1},d(s){s&&h(e),f[t].d()}}}function K$(i){let e,l,t,n,o=i[0].skill_used&&Js(i),r=i[2].length&&Q$(i),f=!i[0].skill_used&&!i[2].length&&Zs();return{c(){o&&o.c(),e=I(),r&&r.c(),l=I(),f&&f.c(),t=le()},m(a,s){o&&o.m(a,s),g(a,e,s),r&&r.m(a,s),g(a,l,s),f&&f.m(a,s),g(a,t,s),n=!0},p(a,s){a[0].skill_used?o?(o.p(a,s),s&1&&b(o,1)):(o=Js(a),o.c(),b(o,1),o.m(e.parentNode,e)):o&&(Q(),k(o,1,1,()=>{o=null}),x()),a[2].length&&r.p(a,s),!a[0].skill_used&&!a[2].length?f||(f=Zs(),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null)},i(a){n||(b(o),b(r),n=!0)},o(a){k(o),k(r),n=!1},d(a){o&&o.d(a),a&&h(e),r&&r.d(a),a&&h(l),f&&f.d(a),a&&h(t)}}}function Z$(i){let e,l,t=i[0].autolearn,n=[];for(let r=0;r<t.length;r+=1)n[r]=Qs(Us(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const s=Us(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Qs(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){se(n,r),r&&h(e)}}}function Js(i){var a;let e,l,t,n=((a=i[0].difficulty)!=null?a:0)+"",o,r,f;return l=new re({props:{type:"skill",id:i[0].skill_used}}),{c(){e=p("li"),P(l.$$.fragment),t=y(" ("),o=y(n),r=y(")")},m(s,u){g(s,e,u),U(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(s,u){var m;const c={};u&1&&(c.id=s[0].skill_used),l.$set(c),(!f||u&1)&&n!==(n=((m=s[0].difficulty)!=null?m:0)+"")&&Y(o,n)},i(s){f||(b(l.$$.fragment,s),f=!0)},o(s){k(l.$$.fragment,s),f=!1},d(s){s&&h(e),q(l)}}}function Q$(i){let e,l,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Ks(Gs(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f&4){t=r[2];let a;for(a=0;a<t.length;a+=1){const s=Gs(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Ks(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){se(n,r),r&&h(e)}}}function Ks(i){let e,l,t,n=i[7]+"",o,r,f;return l=new re({props:{type:"skill",id:i[10]}}),{c(){e=p("li"),P(l.$$.fragment),t=y(" ("),o=y(n),r=y(")")},m(a,s){g(a,e,s),U(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p:ee,i(a){f||(b(l.$$.fragment,a),f=!0)},o(a){k(l.$$.fragment,a),f=!1},d(a){a&&h(e),q(l)}}}function Zs(i){let e;return{c(){e=p("li"),e.textContent="At birth"},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Qs(i){let e,l,t,n=i[7]+"",o,r,f;return l=new re({props:{type:"skill",id:i[10]}}),{c(){e=p("li"),P(l.$$.fragment),t=y(" ("),o=y(n),r=y(")")},m(a,s){g(a,e,s),U(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(a,s){const u={};s&1&&(u.id=a[10]),l.$set(u),(!f||s&1)&&n!==(n=a[7]+"")&&Y(o,n)},i(a){f||(b(l.$$.fragment,a),f=!0)},o(a){k(l.$$.fragment,a),f=!1},d(a){a&&h(e),q(l)}}}function x$(i){let e,l,t,n,o=i[3],r=[];for(let a=0;a<o.length;a+=1)r[a]=xs(Ls(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Written In",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=Ls(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=xs(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function xs(i){let e,l,t,n,o=i[7]+"",r,f,a;return t=new re({props:{id:i[6],type:"item"}}),{c(){e=p("li"),l=p("span"),P(t.$$.fragment),n=y(" ("),r=y(o),f=y(")"),Qe(l,"white-space","nowrap")},m(s,u){g(s,e,u),d(e,l),U(t,l,null),d(l,n),d(l,r),d(l,f),a=!0},p:ee,i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&h(e),q(t)}}}function ek(i){var me,ve,Ye;let e,l,t,n,o,r,f,a,s,u,c,m,$=((me=i[0].time)!=null?me:"0 m")+"",v,E,T,w=((ve=i[0].activity_level)!=null?ve:"MODERATE_EXERCISE")+"",S,C,R,B,O,N,L,M,X,A,D,J,H,F,j,G,z=JSON.stringify(i[0],null,2)+"",ie,W;function K(Me,Be){return Me[1]?U$:G$}let Z=K(i),ae=Z(i),V=i[1]&&Ys(i);const ne=[P$,q$],_e=[];function Fe(Me,Be){return Me[0].skill_used?0:1}f=Fe(i),a=_e[f]=ne[f](i);let ke=i[2].length&&F$(i),de=i[4].length&&H$(i);function $e(Me,Be){return Me[0].batch_time_factors?V$:z$}let ye=$e(i),ue=ye(i),De=i[0].charges&&zs(i);N=new zi({props:{requirement:i[0]}});let Se=((Ye=i[0].byproducts)==null?void 0:Ye.length)&&Vs(i);const be=[J$,X$],Te=[];function et(Me,Be){return Me[0].autolearn?0:1}X=et(i),A=Te[X]=be[X](i);let Re=i[3].length&&x$(i);return{c(){e=p("section"),l=p("h1"),ae.c(),t=I(),n=p("dl"),V&&V.c(),o=p("dt"),o.textContent="Primary Skill",r=p("dd"),a.c(),s=I(),ke&&ke.c(),u=le(),de&&de.c(),c=p("dt"),c.textContent="Time to Complete",m=p("dd"),v=y($),E=p("dt"),E.textContent="Activity Level",T=p("dd"),S=y(w),C=p("dt"),C.textContent="Batch Time Savings",R=p("dd"),ue.c(),B=I(),De&&De.c(),O=le(),P(N.$$.fragment),Se&&Se.c(),L=p("dt"),L.textContent=`Autolearn
    `,M=p("dd"),A.c(),D=I(),Re&&Re.c(),J=I(),H=p("details"),F=p("summary"),F.textContent="Recipe JSON",j=I(),G=p("pre"),ie=y(z),fe(L,"title","Learned at these skill levels, otherwise only learnable from a book"),fe(e,"class","recipe")},m(Me,Be){g(Me,e,Be),d(e,l),ae.m(l,null),d(e,t),d(e,n),V&&V.m(n,null),d(n,o),d(n,r),_e[f].m(r,null),d(r,s),ke&&ke.m(n,null),d(n,u),de&&de.m(n,null),d(n,c),d(n,m),d(m,v),d(n,E),d(n,T),d(T,S),d(n,C),d(n,R),ue.m(R,null),d(R,B),De&&De.m(n,null),d(n,O),U(N,n,null),Se&&Se.m(n,null),d(n,L),d(n,M),Te[X].m(M,null),d(M,D),Re&&Re.m(n,null),d(e,J),d(e,H),d(H,F),d(H,j),d(H,G),d(G,ie),W=!0},p(Me,[Be]){var qe,Ie,Ee;Z!==(Z=K(Me))&&(ae.d(1),ae=Z(Me),ae&&(ae.c(),ae.m(l,null))),Me[1]?V?(V.p(Me,Be),Be&2&&b(V,1)):(V=Ys(Me),V.c(),b(V,1),V.m(n,o)):V&&(Q(),k(V,1,1,()=>{V=null}),x());let Je=f;f=Fe(Me),f===Je?_e[f].p(Me,Be):(Q(),k(_e[Je],1,1,()=>{_e[Je]=null}),x(),a=_e[f],a?a.p(Me,Be):(a=_e[f]=ne[f](Me),a.c()),b(a,1),a.m(r,s)),Me[2].length&&ke.p(Me,Be),Me[4].length&&de.p(Me,Be),(!W||Be&1)&&$!==($=((qe=Me[0].time)!=null?qe:"0 m")+"")&&Y(v,$),(!W||Be&1)&&w!==(w=((Ie=Me[0].activity_level)!=null?Ie:"MODERATE_EXERCISE")+"")&&Y(S,w),ye===(ye=$e(Me))&&ue?ue.p(Me,Be):(ue.d(1),ue=ye(Me),ue&&(ue.c(),ue.m(R,B))),Me[0].charges?De?De.p(Me,Be):(De=zs(Me),De.c(),De.m(n,O)):De&&(De.d(1),De=null);const ce={};Be&1&&(ce.requirement=Me[0]),N.$set(ce),(Ee=Me[0].byproducts)!=null&&Ee.length?Se?(Se.p(Me,Be),Be&1&&b(Se,1)):(Se=Vs(Me),Se.c(),b(Se,1),Se.m(n,L)):Se&&(Q(),k(Se,1,1,()=>{Se=null}),x());let Ae=X;X=et(Me),X===Ae?Te[X].p(Me,Be):(Q(),k(Te[Ae],1,1,()=>{Te[Ae]=null}),x(),A=Te[X],A?A.p(Me,Be):(A=Te[X]=be[X](Me),A.c()),b(A,1),A.m(M,D)),Me[3].length&&Re.p(Me,Be),(!W||Be&1)&&z!==(z=JSON.stringify(Me[0],null,2)+"")&&Y(ie,z)},i(Me){W||(b(V),b(a),b(ke),b(de),b(N.$$.fragment,Me),b(Se),b(A),b(Re),W=!0)},o(Me){k(V),k(a),k(ke),k(de),k(N.$$.fragment,Me),k(Se),k(A),k(Re),W=!1},d(Me){Me&&h(e),ae.d(),V&&V.d(),_e[f].d(),ke&&ke.d(),de&&de.d(),ue.d(),De&&De.d(),q(N),Se&&Se.d(),Te[X].d(),Re&&Re.d()}}}function tk(i){return i===void 0?[]:i.length===0?[]:Array.isArray(i[0])?i:[i]}const lk=i=>i[0]!==1,nk=([i,e])=>`${i}\xD7 ${e}`;function ik(i,e,l){var s,u;let{recipe:t}=e,{showResult:n=!1}=e;const o=nt("data");let r=tk(t.skills_required);const f=Array.isArray(t.book_learn)?[...t.book_learn]:[...Object.entries((s=t.book_learn)!=null?s:{})].map(([c,m])=>[c,m.skill_level]);f.sort((c,m)=>{var $,v;return(($=c[1])!=null?$:0)-((v=m[1])!=null?v:0)});const a=((u=t.proficiencies)!=null?u:[]).map(c=>{const m=o.byId("proficiency",c.proficiency);return{fail_multiplier:m.default_fail_multiplier,time_multiplier:m.default_time_multiplier,learning_time_multiplier:1,...c}});return i.$$set=c=>{"recipe"in c&&l(0,t=c.recipe),"showResult"in c&&l(1,n=c.showResult)},[t,n,r,f,a]}class rk extends Xe{constructor(e){super(),Ve(this,e,ik,ek,We,{recipe:0,showResult:1})}}function ea(i,e,l){const t=i.slice();return t[6]=e[l],t}function ok(i){let e=[],l=new Map,t,n,o=i[2];const r=f=>f[6];for(let f=0;f<o.length;f+=1){let a=ea(i,o,f),s=r(a);l.set(s,e[f]=ta(s,a))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=le()},m(f,a){for(let s=0;s<e.length;s+=1)e[s].m(f,a);g(f,t,a),n=!0},p(f,a){a&5&&(o=f[2],Q(),e=zh(e,a,r,1,f,o,l,t.parentNode,Wh,ta,t,ea),x())},i(f){if(!n){for(let a=0;a<o.length;a+=1)b(e[a]);n=!0}},o(f){for(let a=0;a<e.length;a+=1)k(e[a]);n=!1},d(f){for(let a=0;a<e.length;a+=1)e[a].d(f);f&&h(t)}}}function ta(i,e){let l,t,n;return t=new rk({props:{recipe:e[6],showResult:e[6].result!==e[0]}}),{key:i,first:null,c(){l=le(),P(t.$$.fragment),this.first=l},m(o,r){g(o,l,r),U(t,o,r),n=!0},p(o,r){e=o;const f={};r&1&&(f.showResult=e[6].result!==e[0]),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(l),q(t,o)}}}function fk(i){let e,l,t,n,o;return n=new at({props:{items:i[3],$$slots:{default:[sk,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Byproduct when crafting",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&544&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function sk(i){let e,l,t,n;return e=new tt({props:{item:i[1].byId("item",i[5].result)}}),t=new re({props:{type:"item",id:i[5].result}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&32&&(f.item=o[1].byId("item",o[5].result)),e.$set(f);const a={};r&32&&(a.id=o[5].result),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function ak(i){let e,l,t,n=i[2].length&&ok(i),o=i[3].length&&fk(i);return{c(){n&&n.c(),e=I(),o&&o.c(),l=le()},m(r,f){n&&n.m(r,f),g(r,e,f),o&&o.m(r,f),g(r,l,f),t=!0},p(r,[f]){r[2].length&&n.p(r,f),r[3].length&&o.p(r,f)},i(r){t||(b(n),b(o),t=!0)},o(r){k(n),k(o),t=!1},d(r){n&&n.d(r),r&&h(e),o&&o.d(r),r&&h(l)}}}function uk(i,e,l){let{item_id:t}=e,n=nt("data");const o=n.byType("recipe").filter(a=>a.result&&!a.obsolete);let r=o.filter(a=>a.result===t);const f=o.filter(a=>{var s;return((s=a.byproducts)!=null?s:[]).some(u=>u[0]===t)});return i.$$set=a=>{"item_id"in a&&l(0,t=a.item_id)},[t,n,r,f]}class ck extends Xe{constructor(e){super(),Ve(this,e,uk,ak,We,{item_id:0})}}function _k(i){let e,l,t,n,o;return n=new at({props:{items:i[0],$$slots:{default:[dk,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Salvage",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&34&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function dk(i){let e,l,t,n;return e=new tt({props:{item:i[1]}}),t=new re({props:{type:"item",id:i[1].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&2&&(f.item=o[1]),e.$set(f);const a={};r&2&&(a.id=o[1].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function mk(i){let e,l,t=i[0].length&&_k(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function pk(i,e,l){let{item_id:t}=e,n=nt("data");const o=n.byId("item",t);function r(a){return n.byType("item").filter(s=>s.id).filter(s=>{var c;const u=typeof s.material=="string"?[s.material]:(c=s.material)!=null?c:[];return u.length===1&&u[0]===a.id})}const f=n.byType("material").filter(a=>a.id).filter(a=>a.salvaged_into===t).flatMap(a=>r(a)).filter(a=>{var s;return!((s=a.flags)!=null?s:[]).includes("NO_SALVAGE")}).filter(a=>Oi(a.weight)>=Oi(o.weight)).sort((a,s)=>ge(a).localeCompare(ge(s)));return i.$$set=a=>{"item_id"in a&&l(2,t=a.item_id)},[f,o,t]}class hk extends Xe{constructor(e){super(),Ve(this,e,pk,mk,We,{item_id:2})}}function ln(i,e){let l=[i!=null?i:1].flat();l.length===1&&(l=[l[0],l[0]]);let t=0,n=0;for(let o=l[0];o<=l[1];++o)t+=1-Math.pow(1-e,o),++n;return t/n}function Mi(i){var l,t;if(i.length===1&&((l=i[0].chance)!=null?l:1)===1)return i[0].loot;const e=new Map;for(const{loot:n,chance:o=1}of i)for(const[r,f]of n.entries()){const a=(t=e.get(r))!=null?t:0,s=f*o,u=1-(1-a)*(1-s);e.set(r,u)}return e}function gk(i,e,l){var o;const t={...i.object,rows:((o=i.object.rows)!=null?o:[]).slice(l*24,(l+1)*24).map(r=>r.slice(e*24,(e+1)*24))},n=r=>Array.isArray(r)?r[0]:r;return t.place_items&&(t.place_items=t.place_items.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),t.place_item&&(t.place_item=t.place_item.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),t.add&&(t.add=t.add.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),t.place_loot&&(t.place_loot=t.place_loot.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),t.place_nested&&(t.place_nested=t.place_nested.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),{...i,object:t}}const bk=typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback:function(i){var e=Date.now();return setTimeout(function(){i({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},0)};function la(){return new Promise(i=>{bk(i,{timeout:100})})}async function D1(i){let e=await la();return i(async()=>{e.timeRemaining()<=0&&(e=await la())})}const lr=new WeakMap;async function $k(i){if(lr.has(i))return lr.get(i);const e=new Map,l=(r,f)=>{e.has(r)||e.set(r,[]),e.get(r).push(f)},t=i.byType("mapgen").filter(r=>r.om_terrain!=null);for(const r of t)if(typeof r.om_terrain=="string")l(r.om_terrain,r);else if(typeof r.om_terrain[0]=="string")for(const f of r.om_terrain)l(f,r);else for(let f=0;f<r.om_terrain.length;f++)for(let a=0;a<r.om_terrain[f].length;a++)l(r.om_terrain[f][a],gk(r,a,f));const n=i.byType("overmap_special"),o=new Map;return await D1(async r=>{var f,a;for(const s of n){if(s.subtype==="mutable")continue;const u=[];for(const c of(f=s.overmaps)!=null?f:[]){const m=c.overmap.replace(/_(north|east|west|south)$/,""),$=(a=e.get(m))!=null?a:[],v=Di($.map(E=>{var T;return{weight:(T=E.weight)!=null?T:1e3,loot:G1(i,E)}}));u.push(v),await r()}o.set(s.id,Ek(u))}}),lr.set(i,o),o}function kk(i,e){var u;if(e.subtype==="mutable")return;const l=[...(u=e.overmaps)!=null?u:[]];let t=1/0,n=1/0,o=-1/0,r=-1/0;const f=new Map;for(const c of l){const m=c.overmap.replace(/_(north|south|east|west)$/,"");if(!i.byId("overmap_terrain",m))continue;const[$,v,E]=c.point;E===0&&($<t&&(t=$),v<n&&(n=v),$>o&&(o=$),v>r&&(r=v),f.set(`${$}|${v}`,c))}if(t===1/0||n===1/0)return;const a=[r-n,o-t];for(let c=n;c<=r;c++)for(let m=t;m<=o;m++){const $=f.get(`${m}|${c}`);if($){const v=$.overmap.replace(/_(north|south|east|west)$/,""),E=s(v);a.push(E)}else a.push("no_om")}return a.join("\0");function s(c){const m=i.byId("overmap_terrain",c);return m?`${m.sym}${m.color}${m.name}`:"appearance_unk"}}const vk=new Set(["Necropolis","Isherwood Farms","lab_mutagen_6_level","Lab_SECURITY_1x1x6","Lab_CARGO_Surface","hub_01"]),nr=new WeakMap;function yk(i){return nr.has(i)||nr.set(i,wk(i)),nr.get(i)}async function wk(i){const e=await $k(i),l=new Map;return await D1(async t=>{for(const[n,o]of e.entries()){if(vk.has(n))continue;const r=kk(i,i.byId("overmap_special",n));if(!r)continue;l.has(r)||l.set(r,{loot:void 0,ids:[]});const f=l.get(r);f.loot?f.loot=Di([{loot:f.loot,weight:1},{loot:o,weight:1}]):f.loot=o,await t(),f.ids.push(n)}}),l}function Di(i){var t;const e=i.map(n=>n.weight).reduce((n,o)=>n+o,0),l=new Map;for(const{loot:n,weight:o}of i){const r=(o!=null?o:1e3)/e;for(const[f,a]of n.entries())l.set(f,((t=l.get(f))!=null?t:0)+a*r)}return l}function Ek(i){var l;const e=new Map;for(const t of i)for(const[n,o]of t.entries()){const r=(l=e.get(n))!=null?l:0;e.set(n,1-(1-o)*(1-r))}return e}let ir=0;function L1(i,e){if(ir+=1,ir>4)return new Map;const l=(e!=null?e:[]).map(n=>typeof n=="string"?[n,100]:n),t=Di(l.map(([n,o])=>{var a;const r=(a=i.nestedMapgensById(n))!=null?a:[];return{loot:Di(r.map(s=>{var m;const u=G1(i,s),c=(m=s.weight)!=null?m:1e3;return{loot:u,weight:c}})),weight:o}}));return ir-=1,t}const rr=new WeakMap;function G1(i,e){var c,m,$,v,E,T,w;if(rr.has(e))return rr.get(e);const l=U1(i,e.object),t=((c=e.object.place_items)!=null?c:[]).map(({item:S,chance:C=100,repeat:R})=>({loot:Li(i,S),chance:ln(R,C/100)})),n=[...(m=e.object.place_item)!=null?m:[],...($=e.object.add)!=null?$:[]].map(({item:S,chance:C=100,repeat:R})=>({loot:new Map([[S,ln(R,C/100)]])})),o=((v=e.object.place_loot)!=null?v:[]).map(({item:S,group:C,chance:R=100,repeat:B})=>({loot:S?new Map([[S,1]]):Li(i,C),chance:ln(B,R/100)})),r=((E=e.object.place_nested)!=null?E:[]).map(S=>{var O;const C=L1(i,S.chunks),R=(O=Array.isArray(S.repeat)?S.repeat[0]:S.repeat)!=null?O:1,B=new Map;for(const[N,L]of C.entries())B.set(N,1-Math.pow(1-L,R));return{loot:B}}),f=Mi([...t,...n,...o,...r]),a=new Map;for(const S of(T=e.object.rows)!=null?T:[])for(const C of S)l.has(C)&&a.set(C,((w=a.get(C))!=null?w:0)+1);const s=[];for(const[S,C]of a.entries()){const R=l.get(S),B=new Map;for(const[O,N]of R.entries())B.set(O,1-Math.pow(1-N,C));s.push({loot:B})}s.push({loot:f});const u=Mi(s);return rr.set(e,u),u}function Li(i,e){const l=typeof e=="string"?i.byId("item_group",e):Array.isArray(e)?{subtype:"collection",entries:e}:e,t=i.flattenItemGroup(l);return new Map(t.map(({id:n,prob:o})=>[n,o]))}function Tk(i){return[i].map(e=>e.flatMap(l=>[...l])).map(e=>[...e0(e)]).map(e=>e.map(([l,t])=>[l,Mi(t.map(n=>({loot:n})))])).map(e=>new Map(e))[0]}function gi(i,e){return new Map(Object.entries(i!=null?i:{}).map(([l,t])=>[l,Mi([t].flat().flatMap(n=>[...e(n)]))]))}const or=new WeakMap;function U1(i,e){var a;if(or.has(e))return or.get(e);const l=gi(e.sealed_item,function*({item:s,items:u,chance:c=100}){var m,$;u&&(yield{loot:Li(i,u.item),chance:ln(u.repeat,c/100*(((m=u.chance)!=null?m:100)/100))}),s&&(yield{loot:new Map([[s.item,1]]),chance:ln(s.repeat,c/100*((($=s.chance)!=null?$:100)/100))})}),t=gi(e.item,function*({item:s,chance:u=100,repeat:c}){yield{loot:new Map([[s,1]]),chance:ln(c,u/100)}}),n=gi(e.items,function*({item:s,chance:u=100,repeat:c}){yield{loot:Li(i,s),chance:ln(c,u/100)}}),o=gi(e.nested,function*({chunks:s}){yield{loot:L1(i,s),chance:1}}),r=((a=e.palettes)!=null?a:[]).flatMap(s=>typeof s!="string"?[]:[i.byId("palette",s)]).map(s=>U1(i,s)),f=Tk([t,n,l,o,...r]);return or.set(e,f),f}function na(i,e,l){const t=i.slice();return t[11]=e[l],t}function ia(i,e,l){const t=i.slice();return t[14]=e[l],t}function ra(i){var r;let e,l=((r=i[14].sym)!=null?r:"\xA0")+"",t,n,o;return{c(){e=p("span"),t=y(l),fe(e,"class",n="c_"+i[14].color),fe(e,"title",o=i[14].name)},m(f,a){g(f,e,a),d(e,t)},p:ee,d(f){f&&h(e)}}}function oa(i){let e,l,t=i[11],n=[];for(let o=0;o<t.length;o+=1)n[o]=ra(ia(i,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=I(),l=p("br")},m(o,r){for(let f=0;f<n.length;f+=1)n[f].m(o,r);g(o,e,r),g(o,l,r)},p(o,r){if(r&1){t=o[11];let f;for(f=0;f<t.length;f+=1){const a=ia(o,t,f);n[f]?n[f].p(a,r):(n[f]=ra(a),n[f].c(),n[f].m(e.parentNode,e))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}},d(o){se(n,o),o&&h(e),o&&h(l)}}}function Sk(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=oa(na(i,l,n));return{c(){e=p("div");for(let n=0;n<t.length;n+=1)t[n].c();Qe(e,"font-family","Unifont, monospace"),Qe(e,"line-height","1"),Qe(e,"display","inline-block"),Qe(e,"white-space","pre")},m(n,o){g(n,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(n,[o]){if(o&1){l=n[0];let r;for(r=0;r<l.length;r+=1){const f=na(n,l,r);t[r]?t[r].p(f,o):(t[r]=oa(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:ee,o:ee,d(n){n&&h(e),se(t,n)}}}function fa(i){return i.every(e=>e.sym===" ")}function Ck(i,e,l){var v;const t=nt("data");let{overmapSpecial:n}=e;const o=[...(v=n.overmaps)!=null?v:[]];let r=1/0,f=1/0,a=-1/0,s=-1/0;const u=new Map;for(const E of o){const[T,w,S]=E.point;S===0&&(T<r&&(r=T),w<f&&(f=w),T>a&&(a=T),w>s&&(s=w),u.set(`${T}|${w}`,E))}const c=[];for(let E=f;E<=s;E++){const T=[];for(let w=r;w<=a;w++){const S=u.get(`${w}|${E}`);if(S){const[,C,R]=/^(.+?)(?:_(north|south|east|west))?$/.exec(S.overmap),B=$(C,R||"north");T.push(B)}else T.push({color:"black",sym:" ",name:""})}c.push(T)}for(;c.length;){const E=c[0];if(!fa(E))break;c.shift()}for(;c.length;){const E=c[c.length-1];if(!fa(E))break;c.pop()}function m(E,T){const w=T==="north"?0:T==="east"?1:T==="south"?2:T==="west"?3:0;if(w===0)return E;const S=t.byType("rotatable_symbol").find(C=>C.tuple.some(R=>R===E));return S?S.tuple[(S.tuple.indexOf(E)+w)%S.tuple.length]:E}function $(E,T="north"){const w=t.byId("overmap_terrain",E);return w?{color:w.color,sym:m(w.sym,T),name:Ft(w.name)}:{color:"black",sym:" ",name:""}}return i.$$set=E=>{"overmapSpecial"in E&&l(1,n=E.overmapSpecial)},[c,n]}class Ik extends Xe{constructor(e){super(),Ve(this,e,Ck,Sk,We,{overmapSpecial:1})}}function sa(i,e,l){const t=i.slice();return t[7]=e[l],t}function Rk(i){return{c:ee,m:ee,p:ee,i:ee,o:ee,d:ee}}function Nk(i){let e,l,t=i[6].length&&Ok(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,o){n[6].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Ok(i){let e,l,t,n,o,r,f,a=i[6].slice(0,i[0]),s=[];for(let m=0;m<a.length;m+=1)s[m]=aa(sa(i,a,m));const u=m=>k(s[m],1,1,()=>{s[m]=null});let c=i[6].length>i[0]&&ua(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Loot",t=I(),n=p("table"),o=p("tbody");for(let m=0;m<s.length;m+=1)s[m].c();r=I(),c&&c.c(),fe(n,"class","alternating")},m(m,$){g(m,e,$),d(e,l),d(e,t),d(e,n),d(n,o);for(let v=0;v<s.length;v+=1)s[v].m(o,null);d(e,r),c&&c.m(e,null),f=!0},p(m,$){if($&7){a=m[6].slice(0,m[0]);let v;for(v=0;v<a.length;v+=1){const E=sa(m,a,v);s[v]?(s[v].p(E,$),b(s[v],1)):(s[v]=aa(E),s[v].c(),b(s[v],1),s[v].m(o,null))}for(Q(),v=a.length;v<s.length;v+=1)u(v);x()}m[6].length>m[0]?c?c.p(m,$):(c=ua(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(m){if(!f){for(let $=0;$<a.length;$+=1)b(s[$]);f=!0}},o(m){s=s.filter(Boolean);for(let $=0;$<s.length;$+=1)k(s[$]);f=!1},d(m){m&&h(e),se(s,m),c&&c.d()}}}function aa(i){let e,l,t,n,o,r,f=i[2](i[7].overmap_special)+"",a,s,u,c=Ai(i[7].chance)+"",m,$,v,E;return t=new Ik({props:{overmapSpecial:i[7].overmap_special}}),{c(){e=p("tr"),l=p("td"),P(t.$$.fragment),n=I(),o=p("td"),r=p("span"),a=y(f),u=y(`
                (`),m=y(c),$=y(")"),v=I(),Qe(l,"text-align","center"),fe(r,"title",s=i[7].ids.join(", ")),Qe(o,"vertical-align","middle")},m(T,w){g(T,e,w),d(e,l),U(t,l,null),d(e,n),d(e,o),d(o,r),d(r,a),d(o,u),d(o,m),d(o,$),d(e,v),E=!0},p(T,w){const S={};w&1&&(S.overmapSpecial=T[7].overmap_special),t.$set(S),(!E||w&1)&&f!==(f=T[2](T[7].overmap_special)+"")&&Y(a,f),(!E||w&1&&s!==(s=T[7].ids.join(", ")))&&fe(r,"title",s),(!E||w&1)&&c!==(c=Ai(T[7].chance)+"")&&Y(m,c)},i(T){E||(b(t.$$.fragment,T),E=!0)},o(T){k(t.$$.fragment,T),E=!1},d(T){T&&h(e),q(t)}}}function ua(i){let e,l,t=Number(i[6].length).toLocaleString()+"",n,o,r,f;return{c(){e=p("button"),l=y("See all "),n=y(t),o=y("..."),fe(e,"class","disclosure")},m(a,s){g(a,e,s),d(e,l),d(e,n),d(e,o),r||(f=Tl(e,"click",i[4]),r=!0)},p:ee,d(a){a&&h(e),r=!1,f()}}}function Bk(i){let e;return{c(){e=p("section"),e.innerHTML=`<h1>Loot</h1> 
    <p style="color: var(--cata-color-gray)"><em>Loading...</em></p>`},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function Ak(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Bk,then:Nk,catch:Rk,value:6,blocks:[,,,]};return Yh(i[1],t),{c(){e=le(),t.block.c()},m(n,o){g(n,e,o),t.block.m(n,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,[o]){i=n,jh(t,i,o)},i(n){l||(b(t.block),l=!0)},o(n){for(let o=0;o<3;o+=1){const r=t.blocks[o];k(r)}l=!1},d(n){n&&h(e),t.block.d(n),t.token=null,t=null}}}let fr=10,ca=4;function Mk(i,e,l){let{item_id:t}=e;const n=nt("data"),o=yk(n).then(s=>{const u=[];for(const{loot:c,ids:m}of s.values())if(c.has(t)){const $=c.get(t),v=n.byId("overmap_special",m[0]);u.push({overmap_special:v,ids:m,chance:$})}return u.sort((c,m)=>m.chance-c.chance),l(0,f=u.length<=fr+ca?fr+ca:fr),u});function r(s){var C;if(s.subtype==="mutable")return s.id;const u=((C=s.overmaps)!=null?C:[]).filter(R=>R.point[2]===0);let c=1/0,m=1/0,$=-1/0,v=-1/0;const E=new Map;for(const R of u){const[B,O]=R.point;!n.byId("overmap_terrain",R.overmap.replace(/_(north|south|east|west)$/,""))||(B<c&&(c=B),O<m&&(m=O),B>$&&($=B),O>v&&(v=O),E.set(`${B}|${O}`,R))}const T=c+Math.floor(($-c)/2),w=m+Math.floor((v-m)/2),S=E.get(`${T}|${w}`);if(S){const R=n.byId("overmap_terrain",S.overmap.replace(/_(north|south|east|west)$/,""));if(R)return ge(R)}return s.id}let f=0;const a=s=>{s.preventDefault(),l(0,f=1/0)};return i.$$set=s=>{"item_id"in s&&l(3,t=s.item_id)},[f,o,r,t,a]}class Dk extends Xe{constructor(e){super(),Ve(this,e,Mk,Ak,We,{item_id:3})}}function Lk(i){let e,l,t,n,o;return n=new at({props:{items:i[0],$$slots:{default:[Gk,({item:{vehicle:r,prob:f}})=>({3:r,4:f}),({item:r})=>(r?8:0)|(r?16:0)]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="In Vehicle",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&56&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Gk(i){let e,l,t=Ai(i[4])+"",n,o,r;return e=new re({props:{id:i[3].id,type:"vehicle"}}),{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")")},m(f,a){U(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){const s={};a&8&&(s.id=f[3].id),e.$set(s),(!r||a&16)&&t!==(t=Ai(f[4])+"")&&Y(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){q(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function Uk(i){let e,l,t=i[0].length&&Lk(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function qk(i,e,l){let{item_id:t}=e;const n=nt("data"),o=n.byType("vehicle").flatMap(r=>{const f=O1(r),s=n.flattenItemGroup(f).find(u=>u.id===t);return s?[{vehicle:r,prob:s.prob,count:s.count}]:[]});return o.sort((r,f)=>f.prob-r.prob),i.$$set=r=>{"item_id"in r&&l(1,t=r.item_id)},[o,t]}class Pk extends Xe{constructor(e){super(),Ve(this,e,qk,Uk,We,{item_id:1})}}function _a(i){let e,l,t,n,o,r,f,a,s=i[0].charges_per_use&&da(i),u=i[0].power_draw&&ma(i),c=i[0].turns_per_charge&&pa(i),m=i[0].sub&&ha(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Tool",t=I(),n=p("dl"),s&&s.c(),o=le(),u&&u.c(),r=le(),c&&c.c(),f=le(),m&&m.c()},m($,v){g($,e,v),d(e,l),d(e,t),d(e,n),s&&s.m(n,null),d(n,o),u&&u.m(n,null),d(n,r),c&&c.m(n,null),d(n,f),m&&m.m(n,null),a=!0},p($,v){$[0].charges_per_use?s?s.p($,v):(s=da($),s.c(),s.m(n,o)):s&&(s.d(1),s=null),$[0].power_draw?u?u.p($,v):(u=ma($),u.c(),u.m(n,r)):u&&(u.d(1),u=null),$[0].turns_per_charge?c?c.p($,v):(c=pa($),c.c(),c.m(n,f)):c&&(c.d(1),c=null),$[0].sub?m?(m.p($,v),v&1&&b(m,1)):(m=ha($),m.c(),b(m,1),m.m(n,null)):m&&(Q(),k(m,1,1,()=>{m=null}),x())},i($){a||(b(m),a=!0)},o($){k(m),a=!1},d($){$&&h(e),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d()}}}function da(i){let e,l,t=i[0].charges_per_use+"",n;return{c(){e=p("dt"),e.textContent="Charges Per Use",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].charges_per_use+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function ma(i){let e,l,t=(i[0].power_draw/1e3).toFixed(1)+"",n,o;return{c(){e=p("dt"),e.textContent="Power Draw",l=p("dd"),n=y(t),o=y(" W")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f&1&&t!==(t=(r[0].power_draw/1e3).toFixed(1)+"")&&Y(n,t)},d(r){r&&h(e),r&&h(l)}}}function pa(i){let e,l,t=i[0].turns_per_charge+"",n;return{c(){e=p("dt"),e.textContent="Turns Per Charge",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].turns_per_charge+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function ha(i){let e,l,t,n;return t=new re({props:{type:"item",id:i[0].sub}}),{c(){e=p("dt"),e.textContent="Substitute",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].sub),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function Fk(i){let e,l,t=(i[0].charges_per_use||i[0].sub||i[0].power_draw||i[0].turns_per_charge)&&_a(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].charges_per_use||n[0].sub||n[0].power_draw||n[0].turns_per_charge?t?(t.p(n,o),o&1&&b(t,1)):(t=_a(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Q(),k(t,1,1,()=>{t=null}),x())},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Yk(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class jk extends Xe{constructor(e){super(),Ve(this,e,Yk,Fk,We,{item:0})}}function Hk(i){var E,T;let e,l,t,n,o,r,f=((E=i[0].diameter)!=null?E:0)+"",a,s,u,c,m=((T=i[0].width)!=null?T:0)+"",$,v;return{c(){e=p("section"),l=p("h1"),l.textContent="Wheel",t=I(),n=p("dl"),o=p("dt"),o.textContent="Diameter",r=p("dd"),a=y(f),s=y('"'),u=p("dt"),u.textContent="Width",c=p("dd"),$=y(m),v=y('"')},m(w,S){g(w,e,S),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,a),d(r,s),d(n,u),d(n,c),d(c,$),d(c,v)},p(w,[S]){var C,R;S&1&&f!==(f=((C=w[0].diameter)!=null?C:0)+"")&&Y(a,f),S&1&&m!==(m=((R=w[0].width)!=null?R:0)+"")&&Y($,m)},i:ee,o:ee,d(w){w&&h(e)}}}function Wk(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class zk extends Xe{constructor(e){super(),Ve(this,e,Wk,Hk,We,{item:0})}}function ga(i,e,l){const t=i.slice();return t[19]=e[l],t}function ba(i,e,l){const t=i.slice();return t[0]=e[l],t}function $a(i,e,l){const t=i.slice();return t[24]=e[l],t}function ka(i,e,l){const t=i.slice();return t[27]=e[l][0],t[28]=e[l][1],t}function va(i,e,l){const t=i.slice();return t[27]=e[l],t}function ya(i,e,l){const t=i.slice();return t[33]=e[l],t}function wa(i,e,l){const t=i.slice();return t[27]=e[l].id,t[28]=e[l].count,t}function Ea(i,e,l){const t=i.slice();return t[38]=e[l],t}function Ta(i,e,l){const t=i.slice();return t[41]=e[l].quality,t[42]=e[l].level,t}function Sa(i,e,l){const t=i.slice();return t[41]=e[l].quality,t[42]=e[l].level,t}function Ca(i,e,l){const t=i.slice();return t[47]=e[l],t}function Ia(i,e,l){const t=i.slice();return t[50]=e[l],t}function Ra(i,e,l){const t=i.slice();return t[53]=e[l],t}function Na(i,e,l){const t=i.slice();return t[56]=e[l].type,t[27]=e[l].id,t}function Oa(i,e,l){const t=i.slice();return t[59]=e[l].id,t[60]=e[l].max_charges,t}function Ba(i,e,l){const t=i.slice();return t[63]=e[l],t}function Vk(i){let e,l,t,n,o,r=i[5],f=[];for(let s=0;s<r.length;s+=1)f[s]=Aa(Ba(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Material",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&96){r=s[5];let c;for(c=0;c<r.length;c+=1){const m=Ba(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Aa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Xk(i){var f;let e=" ",l,t,n=(((f=i[63].portion)!=null?f:1)/i[6]*100).toFixed(0)+"",o,r;return{c(){l=y(e),t=y("("),o=y(n),r=y("%)")},m(a,s){g(a,l,s),g(a,t,s),g(a,o,s),g(a,r,s)},p:ee,d(a){a&&h(l),a&&h(t),a&&h(o),a&&h(r)}}}function Aa(i){let e,l,t,n;l=new re({props:{type:"material",id:i[63].type}});let o=i[5].length>1&&Xk(i);return{c(){e=p("li"),P(l.$$.fragment),o&&o.c(),t=I()},m(r,f){g(r,e,f),U(l,e,null),o&&o.m(e,null),d(e,t),n=!0},p(r,f){r[5].length>1&&o.p(r,f)},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){k(l.$$.fragment,r),n=!1},d(r){r&&h(e),q(l),o&&o.d()}}}function Jk(i){let e,l,t,n,o,r=i[12].map(i[17]),f=[];for(let s=0;s<r.length;s+=1)f[s]=Ma(Oa(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Ammo",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","no-bullets")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&6145){r=s[12].map(s[17]);let c;for(c=0;c<r.length;c+=1){const m=Oa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ma(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Ma(i){let e,l=i[60]+"",t,n,o=i[0].type==="GUN"?"round":"charge",r,f=i[60]===1?"":"s",a,s,u,c,m;return u=new re({props:{type:"ammunition_type",id:i[59]}}),{c(){e=p("li"),t=y(l),n=I(),r=y(o),a=y(f),s=y(` of
                  `),P(u.$$.fragment),c=I()},m($,v){g($,e,v),d(e,t),d(e,n),d(e,r),d(e,a),d(e,s),U(u,e,null),d(e,c),m=!0},p($,v){(!m||v[0]&1)&&o!==(o=$[0].type==="GUN"?"round":"charge")&&Y(r,o)},i($){m||(b(u.$$.fragment,$),m=!0)},o($){k(u.$$.fragment,$),m=!1},d($){$&&h(e),q(u)}}}function Kk(i){let e,l,t,n,o,r=i[10],f=[];for(let s=0;s<r.length;s+=1)f[s]=Da(Na(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Compatible Magazines",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1024){r=s[10];let c;for(c=0;c<r.length;c+=1){const m=Na(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Da(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Da(i){let e,l,t;return l=new re({props:{type:i[56],id:i[27]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function La(i){let e,l,t,n,o,r=i[0].weapon_category,f=[];for(let s=0;s<r.length;s+=1)f[s]=Ga(Ra(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Category",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const m=Ra(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ga(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Ga(i){let e,l,t;return l=new re({props:{type:"weapon_category",id:i[53]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[53]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Ua(i){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function qa(i){let e,l,t;return l=new re({props:{type:"json_flag",id:i[50].id}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Zk(i){let e,l,t,n,o,r=i[8],f=[];for(let s=0;s<r.length;s+=1)f[s]=Pa(Ca(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Possible Faults",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&256){r=s[8];let c;for(c=0;c<r.length;c+=1){const m=Ca(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Pa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Pa(i){let e,l,t;return l=new re({props:{type:"fault",id:i[47].id}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Qk(i){let e,l,t,n,o,r,f=i[3],a=[];for(let $=0;$<f.length;$+=1)a[$]=Fa(Sa(i,f,$));const s=$=>k(a[$],1,1,()=>{a[$]=null});let u=i[4],c=[];for(let $=0;$<u.length;$+=1)c[$]=Ya(Ta(i,u,$));const m=$=>k(c[$],1,1,()=>{c[$]=null});return{c(){e=p("dt"),e.textContent="Qualities",l=p("dd"),t=p("ul");for(let $=0;$<a.length;$+=1)a[$].c();n=I();for(let $=0;$<c.length;$+=1)c[$].c();o=I(),fe(t,"class","no-bullets")},m($,v){g($,e,v),g($,l,v),d(l,t);for(let E=0;E<a.length;E+=1)a[E].m(t,null);d(t,n);for(let E=0;E<c.length;E+=1)c[E].m(t,null);d(l,o),r=!0},p($,v){if(v[0]&8){f=$[3];let E;for(E=0;E<f.length;E+=1){const T=Sa($,f,E);a[E]?(a[E].p(T,v),b(a[E],1)):(a[E]=Fa(T),a[E].c(),b(a[E],1),a[E].m(t,n))}for(Q(),E=f.length;E<a.length;E+=1)s(E);x()}if(v[0]&16){u=$[4];let E;for(E=0;E<u.length;E+=1){const T=Ta($,u,E);c[E]?(c[E].p(T,v),b(c[E],1)):(c[E]=Ya(T),c[E].c(),b(c[E],1),c[E].m(t,null))}for(Q(),E=u.length;E<c.length;E+=1)m(E);x()}},i($){if(!r){for(let v=0;v<f.length;v+=1)b(a[v]);for(let v=0;v<u.length;v+=1)b(c[v]);r=!0}},o($){a=a.filter(Boolean);for(let v=0;v<a.length;v+=1)k(a[v]);c=c.filter(Boolean);for(let v=0;v<c.length;v+=1)k(c[v]);r=!1},d($){$&&h(e),$&&h(l),se(a,$),se(c,$)}}}function Fa(i){let e,l,t,n=i[42]+"",o,r,f,a,s;return f=new re({props:{type:"tool_quality",id:i[41].id}}),{c(){e=p("li"),l=y("Has level "),t=p("strong"),o=y(n),r=I(),P(f.$$.fragment),a=y(" quality.")},m(u,c){g(u,e,c),d(e,l),d(e,t),d(t,o),d(t,r),U(f,t,null),d(e,a),s=!0},p:ee,i(u){s||(b(f.$$.fragment,u),s=!0)},o(u){k(f.$$.fragment,u),s=!1},d(u){u&&h(e),q(f)}}}function Ya(i){let e,l,t,n=i[42]+"",o,r,f,a,s;return f=new re({props:{type:"tool_quality",id:i[41].id}}),{c(){e=p("li"),l=y("Has level "),t=p("strong"),o=y(n),r=I(),P(f.$$.fragment),a=y(` quality
                  (when charged).
                `)},m(u,c){g(u,e,c),d(e,l),d(e,t),d(t,o),d(t,r),U(f,t,null),d(e,a),s=!0},p:ee,i(u){s||(b(f.$$.fragment,u),s=!0)},o(u){k(f.$$.fragment,u),s=!1},d(u){u&&h(e),q(f)}}}function xk(i){let e,l,t,n,o,r=i[14],f=[];for(let s=0;s<r.length;s+=1)f[s]=ja(Ea(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Vehicle Parts",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&16384){r=s[14];let c;for(c=0;c<r.length;c+=1){const m=Ea(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ja(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function ja(i){let e,l,t;return l=new re({props:{type:"vehicle_part",id:i[38].id}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function ev(i){let e,l,t,n,o,r=i[13].components,f=[];for(let s=0;s<r.length;s+=1)f[s]=Ha(wa(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Disassembles Into",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&8192){r=s[13].components;let c;for(c=0;c<r.length;c+=1){const m=wa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ha(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Ha(i){let e,l,t;return l=new re({props:{id:i[27],count:i[28],type:"item"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function tv(i){let e,l,t,n=i[15],o=[];for(let r=0;r<n.length;r+=1)o[r]=Wa(ya(i,n,r));return{c(){e=p("dt"),e.textContent="Usage",l=p("dd"),t=p("ul");for(let r=0;r<o.length;r+=1)o[r].c();fe(t,"class","comma-separated")},m(r,f){g(r,e,f),g(r,l,f),d(l,t);for(let a=0;a<o.length;a+=1)o[a].m(t,null)},p(r,f){if(f[0]&32770){n=r[15];let a;for(a=0;a<n.length;a+=1){const s=ya(r,n,a);o[a]?o[a].p(s,f):(o[a]=Wa(s),o[a].c(),o[a].m(t,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(r){r&&h(e),r&&h(l),se(o,r)}}}function Wa(i){let e,l=ge(i[1].byId("item_action",i[33].type))+"",t;return{c(){e=p("li"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function lv(i){let e,l;return e=new Kg({props:{picture:i[16]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p:ee,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function za(i){let e,l;return e=new ub({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Va(i){let e,l,t,n;const o=[iv,nv],r=[];function f(a,s){var u;return(u=a[1].build_number)!=null&&u.startsWith("0.F")?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function nv(i){let e,l;return e=new y0({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function iv(i){let e,l;return e=new Q0({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Xa(i){let e,l;return e=new ob({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ja(i){let e,l;return e=new jk({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ka(i){let e,l,t,n,o,r,f=i[0].displacement+"",a,s;return{c(){e=p("section"),l=p("h1"),l.textContent="Engine",t=I(),n=p("dl"),o=p("dt"),o.textContent="Displacement",r=p("dd"),a=y(f),s=y(" cc")},m(u,c){g(u,e,c),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,a),d(r,s)},p(u,c){c[0]&1&&f!==(f=u[0].displacement+"")&&Y(a,f)},d(u){u&&h(e)}}}function Za(i){let e,l;return e=new pb({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Qa(i){let e,l;return e=new zk({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function xa(i){let e,l;return e=new $$({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function eu(i){var w;let e,l,t,n,o,r,f,a,s,u,c=i[0].seed_data.grow+"",m,$,v=[i[0].seed_data.fruit].concat((w=i[0].seed_data.byproducts)!=null?w:[]),E=[];for(let S=0;S<v.length;S+=1)E[S]=tu(va(i,v,S));const T=S=>k(E[S],1,1,()=>{E[S]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Grows Into",t=I(),n=p("dl"),o=p("dt"),o.textContent="Harvest Results",r=p("dd"),f=p("ul");for(let S=0;S<E.length;S+=1)E[S].c();a=I(),s=p("dt"),s.textContent="Growing Time",u=p("dd"),m=y(c),fe(f,"class","comma-separated")},m(S,C){g(S,e,C),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,f);for(let R=0;R<E.length;R+=1)E[R].m(f,null);d(r,a),d(n,s),d(n,u),d(u,m),$=!0},p(S,C){var R;if(C[0]&1){v=[S[0].seed_data.fruit].concat((R=S[0].seed_data.byproducts)!=null?R:[]);let B;for(B=0;B<v.length;B+=1){const O=va(S,v,B);E[B]?(E[B].p(O,C),b(E[B],1)):(E[B]=tu(O),E[B].c(),b(E[B],1),E[B].m(f,null))}for(Q(),B=v.length;B<E.length;B+=1)T(B);x()}(!$||C[0]&1)&&c!==(c=S[0].seed_data.grow+"")&&Y(m,c)},i(S){if(!$){for(let C=0;C<v.length;C+=1)b(E[C]);$=!0}},o(S){E=E.filter(Boolean);for(let C=0;C<E.length;C+=1)k(E[C]);$=!1},d(S){S&&h(e),se(E,S)}}}function tu(i){let e,l,t;return l=new re({props:{type:"item",id:i[27]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[27]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function lu(i){let e,l,t,n,o,r;l=new T$({props:{item:i[0]}});const f=[ov,rv],a=[];function s(u,c){return u[0].type==="GUN"?0:u[0].type==="AMMO"?1:-1}return~(n=s(i))&&(o=a[n]=f[n](i)),{c(){e=p("div"),P(l.$$.fragment),t=I(),o&&o.c(),fe(e,"class","side-by-side")},m(u,c){g(u,e,c),U(l,e,null),d(e,t),~n&&a[n].m(e,null),r=!0},p(u,c){const m={};c[0]&1&&(m.item=u[0]),l.$set(m);let $=n;n=s(u),n===$?~n&&a[n].p(u,c):(o&&(Q(),k(a[$],1,1,()=>{a[$]=null}),x()),~n?(o=a[n],o?o.p(u,c):(o=a[n]=f[n](u),o.c()),b(o,1),o.m(e,null)):o=null)},i(u){r||(b(l.$$.fragment,u),b(o),r=!0)},o(u){k(l.$$.fragment,u),k(o),r=!1},d(u){u&&h(e),q(l),~n&&a[n].d()}}}function rv(i){let e,l;return e=new xg({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function ov(i){let e,l;return e=new a$({props:{item:i[0]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function fv(i){let e,l,t,n,o=i[9].filter(fu),r=[];for(let a=0;a<o.length;a+=1)r[a]=ou(ga(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Pockets",t=I();for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){g(a,e,s),d(e,l),d(e,t);for(let u=0;u<r.length;u+=1)r[u].m(e,null);n=!0},p(a,s){if(s[0]&512){o=a[9].filter(fu);let u;for(u=0;u<o.length;u+=1){const c=ga(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=ou(c),r[u].c(),b(r[u],1),r[u].m(e,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),se(r,a)}}}function sv(i){let e,l,t=i[19].max_contains_volume+"",n;return{c(){e=p("dt"),e.textContent="Volume Capacity",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function av(i){let e,l,t=i[19].max_contains_weight+"",n;return{c(){e=p("dt"),e.textContent="Weight Capacity",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function uv(i){let e,l,t,n,o,r=[...Object.entries(i[19].ammo_restriction)],f=[];for(let s=0;s<r.length;s+=1)f[s]=nu(ka(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Ammo Restriction",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&512){r=[...Object.entries(s[19].ammo_restriction)];let c;for(c=0;c<r.length;c+=1){const m=ka(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=nu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function nu(i){let e,l=i[28]+"",t,n,o=i[28]===1?"":"s",r,f,a,s,u;return a=new re({props:{id:i[27],type:"ammunition_type"}}),{c(){e=p("li"),t=y(l),n=y(" round"),r=y(o),f=y(" of "),P(a.$$.fragment),s=I()},m(c,m){g(c,e,m),d(e,t),d(e,n),d(e,r),d(e,f),U(a,e,null),d(e,s),u=!0},p:ee,i(c){u||(b(a.$$.fragment,c),u=!0)},o(c){k(a.$$.fragment,c),u=!1},d(c){c&&h(e),q(a)}}}function cv(i){let e,l,t=i[19].max_item_length+"",n;return{c(){e=p("dt"),e.textContent="Max Item Length",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function _v(i){let e,l,t=i[19].min_item_volume+"",n;return{c(){e=p("dt"),e.textContent="Min Item Volume",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function dv(i){let e,l;return{c(){e=p("dt"),e.textContent="Max Items",l=p("dd"),l.textContent="1"},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function mv(i){let e,l,t=i[19].sealed_data.spoil_multiplier+"",n;return{c(){e=p("dt"),e.textContent="Spoil Multiplier",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function pv(i){let e,l,t,n,o,r=i[19].flag_restriction,f=[];for(let s=0;s<r.length;s+=1)f[s]=iu($a(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Flag Restriction",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&512){r=s[19].flag_restriction;let c;for(c=0;c<r.length;c+=1){const m=$a(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=iu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function iu(i){let e,l,t;return l=new re({props:{type:"json_flag",id:i[24]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function hv(i){let e,l,t,n,o,r=i[19].item_restriction,f=[];for(let s=0;s<r.length;s+=1)f[s]=ru(ba(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Item Restriction",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&512){r=s[19].item_restriction;let c;for(c=0;c<r.length;c+=1){const m=ba(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ru(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function ru(i){let e,l,t;return l=new re({props:{type:"item",id:i[0]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function ou(i){var N,L;let e,l,t,n,o,r,f,a=i[19].moves+"",s,u,c,m,$,v=i[19].max_contains_volume!=null&&sv(i),E=i[19].max_contains_weight!=null&&av(i),T=i[19].ammo_restriction&&uv(i),w=i[19].max_item_length&&cv(i),S=i[19].min_item_volume!=="0 ml"&&_v(i),C=i[19].holster&&dv(),R=((L=(N=i[19].sealed_data)==null?void 0:N.spoil_multiplier)!=null?L:1)!==1&&mv(i),B=i[19].flag_restriction&&pv(i),O=i[19].item_restriction&&hv(i);return{c(){e=p("dl"),v&&v.c(),l=le(),E&&E.c(),t=le(),T&&T.c(),n=le(),w&&w.c(),o=le(),S&&S.c(),r=p("dt"),r.textContent="Moves to Remove Item",f=p("dd"),s=y(a),C&&C.c(),u=le(),R&&R.c(),c=le(),B&&B.c(),m=le(),O&&O.c()},m(M,X){g(M,e,X),v&&v.m(e,null),d(e,l),E&&E.m(e,null),d(e,t),T&&T.m(e,null),d(e,n),w&&w.m(e,null),d(e,o),S&&S.m(e,null),d(e,r),d(e,f),d(f,s),C&&C.m(e,null),d(e,u),R&&R.m(e,null),d(e,c),B&&B.m(e,null),d(e,m),O&&O.m(e,null),$=!0},p(M,X){var A,D;M[19].max_contains_volume!=null&&v.p(M,X),M[19].max_contains_weight!=null&&E.p(M,X),M[19].ammo_restriction&&T.p(M,X),M[19].max_item_length&&w.p(M,X),M[19].min_item_volume!=="0 ml"&&S.p(M,X),((D=(A=M[19].sealed_data)==null?void 0:A.spoil_multiplier)!=null?D:1)!==1&&R.p(M,X),M[19].flag_restriction&&B.p(M,X),M[19].item_restriction&&O.p(M,X)},i(M){$||(b(T),b(B),b(O),$=!0)},o(M){k(T),k(B),k(O),$=!1},d(M){M&&h(e),v&&v.d(),E&&E.d(),T&&T.d(),w&&w.d(),S&&S.d(),C&&C.d(),R&&R.d(),B&&B.d(),O&&O.d()}}}function gv(i){var Sl;let e,l,t,n=ge(i[0])+"",o,r,f,a,s,u,c,m,$,v,E=Zl(i[0].volume)+"",T,w,S,C=kn(i[0].weight)+"",R,B,O,N=i[2](i[0])+"",L,M,X,A,D,J,H,F,j,G,z,ie,W,K=Ft(i[0].description)+"",Z,ae,V,ne,_e,Fe,ke,de,$e,ye,ue,De,Se,be,Te=i[9].filter(kv).length,et,Re,me,ve,Ye,Me,Be,Je,ce,Ae,qe,Ie,Ee,Ue,Le,Ke,lt,$t,ot,ht,ct,Lt,pt,It,He,xe,we,ze,dt,kt;l=new tt({props:{item:i[0]}});let vt=i[5].length&&Vk(i),yt=i[12].length&&Jk(i),ut=i[10].length&&Kk(i),_t=((Sl=i[0].weapon_category)==null?void 0:Sl.length)&&La(i),Ot=i[7],it=[];for(let te=0;te<Ot.length;te+=1)it[te]=qa(Ia(i,Ot,te));const jl=te=>k(it[te],1,1,()=>{it[te]=null});let gt=null;Ot.length||(gt=Ua());let qt=i[8].length&&Zk(i),bt=(i[3].length||i[4].length)&&Qk(i),zt=i[14].length&&xk(i),Tt=i[13]&&ev(i),jt=i[15].length&&tv(i),Ze=i[16]&&lv(i),Bt=i[0].type==="BOOK"&&za(i),mt=(i[0].type==="ARMOR"||i[0].type==="TOOL_ARMOR")&&Va(i),ft=i[0].type==="BIONIC_ITEM"&&Xa(i),st=(i[0].type==="TOOL"||i[0].type==="TOOL_ARMOR")&&Ja(i),wt=i[0].type==="ENGINE"&&i[0].displacement&&Ka(i),At=i[0].type==="COMESTIBLE"&&Za(i),Nt=i[0].type==="WHEEL"&&Qa(i),Mt=i[0].type==="MAGAZINE"&&xa(i),Dt=i[0].seed_data&&eu(i),St=(i[0].bashing||i[0].cutting||i[0].type==="GUN"||i[0].type==="AMMO")&&lu(i),Jt=Te&&fv(i);return Re=new Sb({props:{item_id:i[0].id}}),Be=new ck({props:{item_id:i[0].id}}),ce=new Kb({props:{item_id:i[0].id}}),qe=new t$({props:{item_id:i[0].id}}),Ee=new o$({props:{item_id:i[0].id}}),Le=new m$({props:{item_id:i[0].id}}),lt=new Fb({props:{item_id:i[0].id}}),ot=new hk({props:{item_id:i[0].id}}),ct=new Ob({props:{item_id:i[0].id}}),pt=new Lb({props:{item_id:i[0].id}}),He=new nb({props:{item_id:i[0].id}}),we=new Dk({props:{item_id:i[0].id}}),dt=new Pk({props:{item_id:i[0].id}}),{c(){e=p("h1"),P(l.$$.fragment),t=I(),o=y(n),r=I(),f=p("section"),a=p("h1"),a.textContent="General",s=I(),u=p("div"),c=p("div"),m=p("dl"),vt&&vt.c(),$=p("dt"),$.textContent="Volume",v=p("dd"),T=y(E),w=p("dt"),w.textContent="Weight",S=p("dd"),R=y(C),B=p("dt"),B.textContent="Length",O=p("dd"),L=y(N),yt&&yt.c(),M=le(),ut&&ut.c(),X=le(),_t&&_t.c(),A=p("dt"),A.textContent="Flags",D=p("dd"),J=p("ul");for(let te=0;te<it.length;te+=1)it[te].c();gt&&gt.c(),H=I(),qt&&qt.c(),F=le(),bt&&bt.c(),j=le(),zt&&zt.c(),G=le(),Tt&&Tt.c(),z=le(),jt&&jt.c(),ie=I(),W=p("p"),Z=y(K),ae=I(),V=p("div"),Ze&&Ze.c(),ne=I(),Bt&&Bt.c(),_e=I(),mt&&mt.c(),Fe=I(),ft&&ft.c(),ke=I(),st&&st.c(),de=I(),wt&&wt.c(),$e=I(),At&&At.c(),ye=I(),Nt&&Nt.c(),ue=I(),Mt&&Mt.c(),De=I(),Dt&&Dt.c(),Se=I(),St&&St.c(),be=I(),Jt&&Jt.c(),et=I(),P(Re.$$.fragment),me=I(),ve=p("div"),Ye=p("h2"),Ye.textContent="Obtaining",Me=I(),P(Be.$$.fragment),Je=I(),P(ce.$$.fragment),Ae=I(),P(qe.$$.fragment),Ie=I(),P(Ee.$$.fragment),Ue=I(),P(Le.$$.fragment),Ke=I(),P(lt.$$.fragment),$t=I(),P(ot.$$.fragment),ht=I(),P(ct.$$.fragment),Lt=I(),P(pt.$$.fragment),It=I(),P(He.$$.fragment),xe=I(),P(we.$$.fragment),ze=I(),P(dt.$$.fragment),fe(J,"class","comma-separated"),Qe(W,"color","var(--cata-color-gray)"),Qe(W,"margin-bottom","0"),fe(u,"class","side-by-side no-margin"),fe(Ye,"class","svelte-18ijh8q"),fe(ve,"class","hide-header-if-no-sections svelte-18ijh8q")},m(te,Oe){g(te,e,Oe),U(l,e,null),d(e,t),d(e,o),g(te,r,Oe),g(te,f,Oe),d(f,a),d(f,s),d(f,u),d(u,c),d(c,m),vt&&vt.m(m,null),d(m,$),d(m,v),d(v,T),d(m,w),d(m,S),d(S,R),d(m,B),d(m,O),d(O,L),yt&&yt.m(m,null),d(m,M),ut&&ut.m(m,null),d(m,X),_t&&_t.m(m,null),d(m,A),d(m,D),d(D,J);for(let _l=0;_l<it.length;_l+=1)it[_l].m(J,null);gt&&gt.m(J,null),d(D,H),qt&&qt.m(m,null),d(m,F),bt&&bt.m(m,null),d(m,j),zt&&zt.m(m,null),d(m,G),Tt&&Tt.m(m,null),d(m,z),jt&&jt.m(m,null),d(c,ie),d(c,W),d(W,Z),d(u,ae),d(u,V),Ze&&Ze.m(V,null),g(te,ne,Oe),Bt&&Bt.m(te,Oe),g(te,_e,Oe),mt&&mt.m(te,Oe),g(te,Fe,Oe),ft&&ft.m(te,Oe),g(te,ke,Oe),st&&st.m(te,Oe),g(te,de,Oe),wt&&wt.m(te,Oe),g(te,$e,Oe),At&&At.m(te,Oe),g(te,ye,Oe),Nt&&Nt.m(te,Oe),g(te,ue,Oe),Mt&&Mt.m(te,Oe),g(te,De,Oe),Dt&&Dt.m(te,Oe),g(te,Se,Oe),St&&St.m(te,Oe),g(te,be,Oe),Jt&&Jt.m(te,Oe),g(te,et,Oe),U(Re,te,Oe),g(te,me,Oe),g(te,ve,Oe),d(ve,Ye),d(ve,Me),U(Be,ve,null),d(ve,Je),U(ce,ve,null),d(ve,Ae),U(qe,ve,null),d(ve,Ie),U(Ee,ve,null),d(ve,Ue),U(Le,ve,null),d(ve,Ke),U(lt,ve,null),d(ve,$t),U(ot,ve,null),d(ve,ht),U(ct,ve,null),d(ve,Lt),U(pt,ve,null),d(ve,It),U(He,ve,null),d(ve,xe),U(we,ve,null),d(ve,ze),U(dt,ve,null),kt=!0},p(te,Oe){var Ul;const _l={};if(Oe[0]&1&&(_l.item=te[0]),l.$set(_l),(!kt||Oe[0]&1)&&n!==(n=ge(te[0])+"")&&Y(o,n),te[5].length&&vt.p(te,Oe),(!kt||Oe[0]&1)&&E!==(E=Zl(te[0].volume)+"")&&Y(T,E),(!kt||Oe[0]&1)&&C!==(C=kn(te[0].weight)+"")&&Y(R,C),(!kt||Oe[0]&1)&&N!==(N=te[2](te[0])+"")&&Y(L,N),te[12].length&&yt.p(te,Oe),te[10].length&&ut.p(te,Oe),(Ul=te[0].weapon_category)!=null&&Ul.length?_t?(_t.p(te,Oe),Oe[0]&1&&b(_t,1)):(_t=La(te),_t.c(),b(_t,1),_t.m(m,A)):_t&&(Q(),k(_t,1,1,()=>{_t=null}),x()),Oe[0]&128){Ot=te[7];let rt;for(rt=0;rt<Ot.length;rt+=1){const Ht=Ia(te,Ot,rt);it[rt]?(it[rt].p(Ht,Oe),b(it[rt],1)):(it[rt]=qa(Ht),it[rt].c(),b(it[rt],1),it[rt].m(J,null))}for(Q(),rt=Ot.length;rt<it.length;rt+=1)jl(rt);x(),!Ot.length&&gt?gt.p(te,Oe):Ot.length?gt&&(gt.d(1),gt=null):(gt=Ua(),gt.c(),gt.m(J,null))}te[8].length&&qt.p(te,Oe),(te[3].length||te[4].length)&&bt.p(te,Oe),te[14].length&&zt.p(te,Oe),te[13]&&Tt.p(te,Oe),te[15].length&&jt.p(te,Oe),(!kt||Oe[0]&1)&&K!==(K=Ft(te[0].description)+"")&&Y(Z,K),te[16]&&Ze.p(te,Oe),te[0].type==="BOOK"?Bt?(Bt.p(te,Oe),Oe[0]&1&&b(Bt,1)):(Bt=za(te),Bt.c(),b(Bt,1),Bt.m(_e.parentNode,_e)):Bt&&(Q(),k(Bt,1,1,()=>{Bt=null}),x()),te[0].type==="ARMOR"||te[0].type==="TOOL_ARMOR"?mt?(mt.p(te,Oe),Oe[0]&1&&b(mt,1)):(mt=Va(te),mt.c(),b(mt,1),mt.m(Fe.parentNode,Fe)):mt&&(Q(),k(mt,1,1,()=>{mt=null}),x()),te[0].type==="BIONIC_ITEM"?ft?(ft.p(te,Oe),Oe[0]&1&&b(ft,1)):(ft=Xa(te),ft.c(),b(ft,1),ft.m(ke.parentNode,ke)):ft&&(Q(),k(ft,1,1,()=>{ft=null}),x()),te[0].type==="TOOL"||te[0].type==="TOOL_ARMOR"?st?(st.p(te,Oe),Oe[0]&1&&b(st,1)):(st=Ja(te),st.c(),b(st,1),st.m(de.parentNode,de)):st&&(Q(),k(st,1,1,()=>{st=null}),x()),te[0].type==="ENGINE"&&te[0].displacement?wt?wt.p(te,Oe):(wt=Ka(te),wt.c(),wt.m($e.parentNode,$e)):wt&&(wt.d(1),wt=null),te[0].type==="COMESTIBLE"?At?(At.p(te,Oe),Oe[0]&1&&b(At,1)):(At=Za(te),At.c(),b(At,1),At.m(ye.parentNode,ye)):At&&(Q(),k(At,1,1,()=>{At=null}),x()),te[0].type==="WHEEL"?Nt?(Nt.p(te,Oe),Oe[0]&1&&b(Nt,1)):(Nt=Qa(te),Nt.c(),b(Nt,1),Nt.m(ue.parentNode,ue)):Nt&&(Q(),k(Nt,1,1,()=>{Nt=null}),x()),te[0].type==="MAGAZINE"?Mt?(Mt.p(te,Oe),Oe[0]&1&&b(Mt,1)):(Mt=xa(te),Mt.c(),b(Mt,1),Mt.m(De.parentNode,De)):Mt&&(Q(),k(Mt,1,1,()=>{Mt=null}),x()),te[0].seed_data?Dt?(Dt.p(te,Oe),Oe[0]&1&&b(Dt,1)):(Dt=eu(te),Dt.c(),b(Dt,1),Dt.m(Se.parentNode,Se)):Dt&&(Q(),k(Dt,1,1,()=>{Dt=null}),x()),te[0].bashing||te[0].cutting||te[0].type==="GUN"||te[0].type==="AMMO"?St?(St.p(te,Oe),Oe[0]&1&&b(St,1)):(St=lu(te),St.c(),b(St,1),St.m(be.parentNode,be)):St&&(Q(),k(St,1,1,()=>{St=null}),x()),Te&&Jt.p(te,Oe);const Hl={};Oe[0]&1&&(Hl.item_id=te[0].id),Re.$set(Hl);const Cl={};Oe[0]&1&&(Cl.item_id=te[0].id),Be.$set(Cl);const Il={};Oe[0]&1&&(Il.item_id=te[0].id),ce.$set(Il);const wl={};Oe[0]&1&&(wl.item_id=te[0].id),qe.$set(wl);const Rl={};Oe[0]&1&&(Rl.item_id=te[0].id),Ee.$set(Rl);const Nl={};Oe[0]&1&&(Nl.item_id=te[0].id),Le.$set(Nl);const Ol={};Oe[0]&1&&(Ol.item_id=te[0].id),lt.$set(Ol);const Bl={};Oe[0]&1&&(Bl.item_id=te[0].id),ot.$set(Bl);const Al={};Oe[0]&1&&(Al.item_id=te[0].id),ct.$set(Al);const Ml={};Oe[0]&1&&(Ml.item_id=te[0].id),pt.$set(Ml);const Dl={};Oe[0]&1&&(Dl.item_id=te[0].id),He.$set(Dl);const Ll={};Oe[0]&1&&(Ll.item_id=te[0].id),we.$set(Ll);const Gl={};Oe[0]&1&&(Gl.item_id=te[0].id),dt.$set(Gl)},i(te){if(!kt){b(l.$$.fragment,te),b(vt),b(yt),b(ut),b(_t);for(let Oe=0;Oe<Ot.length;Oe+=1)b(it[Oe]);b(qt),b(bt),b(zt),b(Tt),b(Ze),b(Bt),b(mt),b(ft),b(st),b(At),b(Nt),b(Mt),b(Dt),b(St),b(Jt),b(Re.$$.fragment,te),b(Be.$$.fragment,te),b(ce.$$.fragment,te),b(qe.$$.fragment,te),b(Ee.$$.fragment,te),b(Le.$$.fragment,te),b(lt.$$.fragment,te),b(ot.$$.fragment,te),b(ct.$$.fragment,te),b(pt.$$.fragment,te),b(He.$$.fragment,te),b(we.$$.fragment,te),b(dt.$$.fragment,te),kt=!0}},o(te){k(l.$$.fragment,te),k(vt),k(yt),k(ut),k(_t),it=it.filter(Boolean);for(let Oe=0;Oe<it.length;Oe+=1)k(it[Oe]);k(qt),k(bt),k(zt),k(Tt),k(Ze),k(Bt),k(mt),k(ft),k(st),k(At),k(Nt),k(Mt),k(Dt),k(St),k(Jt),k(Re.$$.fragment,te),k(Be.$$.fragment,te),k(ce.$$.fragment,te),k(qe.$$.fragment,te),k(Ee.$$.fragment,te),k(Le.$$.fragment,te),k(lt.$$.fragment,te),k(ot.$$.fragment,te),k(ct.$$.fragment,te),k(pt.$$.fragment,te),k(He.$$.fragment,te),k(we.$$.fragment,te),k(dt.$$.fragment,te),kt=!1},d(te){te&&h(e),q(l),te&&h(r),te&&h(f),vt&&vt.d(),yt&&yt.d(),ut&&ut.d(),_t&&_t.d(),se(it,te),gt&&gt.d(),qt&&qt.d(),bt&&bt.d(),zt&&zt.d(),Tt&&Tt.d(),jt&&jt.d(),Ze&&Ze.d(),te&&h(ne),Bt&&Bt.d(te),te&&h(_e),mt&&mt.d(te),te&&h(Fe),ft&&ft.d(te),te&&h(ke),st&&st.d(te),te&&h(de),wt&&wt.d(te),te&&h($e),At&&At.d(te),te&&h(ye),Nt&&Nt.d(te),te&&h(ue),Mt&&Mt.d(te),te&&h(De),Dt&&Dt.d(te),te&&h(Se),St&&St.d(te),te&&h(be),Jt&&Jt.d(te),te&&h(et),q(Re,te),te&&h(me),te&&h(ve),q(Be),q(ce),q(qe),q(Ee),q(Le),q(lt),q(ot),q(ct),q(pt),q(He),q(we),q(dt)}}}function bv(i){return typeof i[0]=="string"}function $v(i){return typeof i=="string"?[{type:i}]:Array.isArray(i)?i.map(e=>typeof e=="string"?{type:e}:Array.isArray(e)?{type:e[0]}:e):i?[i]:[]}const kv=i=>i.pocket_type==="CONTAINER",fu=i=>i.pocket_type==="CONTAINER";function vv(i,e,l){var O,N,L,M,X;let{item:t}=e,n=nt("data");function o(A){return A.longest_side?A.longest_side:`${Math.round(Math.cbrt(Gr(A.volume)))} cm`}let r=((O=t.qualities)!=null?O:[]).map(([A,D])=>({quality:n.byId("tool_quality",A),level:D})),f=((N=t.charged_qualities)!=null?N:[]).map(([A,D])=>({quality:n.byId("tool_quality",A),level:D}));const a=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:bv(t.material)?t.material.map(A=>({type:A,portion:1})):t.material,s=a.reduce((A,D)=>{var J;return A+((J=D.portion)!=null?J:1)},0);let u=((L=t.flags)!=null?L:[]).map(A=>{var D;return(D=n.byId("json_flag",A))!=null?D:{id:A}}),c=((M=t.faults)!=null?M:[]).map(A=>n.byId("fault",A));const m={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let $=((X=t.pocket_data)!=null?X:[]).map(A=>({...m,...A})),v=$.filter(A=>A.pocket_type==="MAGAZINE_WELL").flatMap(A=>{var D,J;return(J=(D=A.item_restriction)==null?void 0:D.map(H=>({type:"item",id:H})))!=null?J:A.flag_restriction.map(H=>({type:"json_flag",id:H}))});function E(A){var J;let D=0;for(const H of $)H.pocket_type==="MAGAZINE"&&H.ammo_restriction&&(D+=(J=H.ammo_restriction[A])!=null?J:0);return D}let T=$.flatMap(A=>{var D;return A.pocket_type==="MAGAZINE"?Object.keys((D=A.ammo_restriction)!=null?D:{}):[]});const w=(()=>{const A=n.uncraftRecipe(t.id);return A?{components:(A.using?Array.isArray(A.using)?A.using:[[A.using,1]]:[]).map(([j,G])=>[n.byId("requirement",j),G]).concat([[A,1]]).flatMap(([j,G])=>{var z;return n.flattenRequirement((z=j.components)!=null?z:[],ie=>ie.components).map(ie=>ie.map(W=>({...W,count:W.count*G})))}).map(j=>j[0])}:void 0})(),S=n.byType("vehicle_part").filter(A=>A.id&&A.item===t.id),C=$v(t.use_action).map(A=>A.type==="repair_item"?{type:A.item_action_type}:A),R=t.ascii_picture&&n.byId("ascii_art",t.ascii_picture),B=A=>({id:A,max_charges:E(A)});return i.$$set=A=>{"item"in A&&l(0,t=A.item)},[t,n,o,r,f,a,s,u,c,$,v,E,T,w,S,C,R,B]}class fl extends Xe{constructor(e){super(),Ve(this,e,vv,gv,We,{item:0},null,[-1,-1,-1])}}function yv(i){let e,l=JSON.stringify(i[0],null,2)+"",t;return{c(){e=p("pre"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p(n,[o]){o&1&&l!==(l=JSON.stringify(n[0],null,2)+"")&&Y(t,l)},i:ee,o:ee,d(n){n&&h(e)}}}function wv(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class Gi extends Xe{constructor(e){super(),Ve(this,e,wv,yv,We,{item:0})}}function su(i){let e,l,t,n;return t=new re({props:{type:"item",id:i[0].repaired_with}}),{c(){e=p("dt"),e.textContent="Repaired With",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].repaired_with),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function au(i){let e,l,t,n;return t=new re({props:{type:"item",id:i[0].salvaged_into}}),{c(){e=p("dt"),e.textContent="Salvaged Into",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].salvaged_into),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function Ev(i){let e,l,t,n=ge(i[0])+"",o,r,f,a;return f=new at({props:{items:i[1],$$slots:{default:[Tv,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),t=y("Items Made From "),o=y(n),r=I(),P(f.$$.fragment)},m(s,u){g(s,e,u),d(e,l),d(l,t),d(l,o),d(e,r),U(f,e,null),a=!0},p(s,u){(!a||u&1)&&n!==(n=ge(s[0])+"")&&Y(o,n);const c={};u&9&&(c.$$scope={dirty:u,ctx:s}),f.$set(c)},i(s){a||(b(f.$$.fragment,s),a=!0)},o(s){k(f.$$.fragment,s),a=!1},d(s){s&&h(e),q(f)}}}function Tv(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{id:i[0].id,type:"item"}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Sv(i){var lt,$t,ot,ht,ct,Lt,pt,It;let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u,c,m=i[0].density+"",$,v,E,T=((lt=i[0].specific_heat_liquid)!=null?lt:4.186)+"",w,S,C=(($t=i[0].specific_heat_solid)!=null?$t:2.108)+"",R,B,O,N,L=((ot=i[0].latent_heat)!=null?ot:334)+"",M,X,A,D,J,H,F=((ht=i[0].bash_resist)!=null?ht:0)+"",j,G,z,ie=((ct=i[0].cut_resist)!=null?ct:0)+"",W,K,Z,ae=((Lt=i[0].bullet_resist)!=null?Lt:0)+"",V,ne,_e,Fe=((pt=i[0].acid_resist)!=null?pt:0)+"",ke,de,$e,ye=((It=i[0].chip_resist)!=null?It:0)+"",ue,De,Se,be=i[0].elec_resist===0||i[0].elec_resist===1||i[0].conductive?"yes":"no",Te,et,Re,me,ve,Ye=i[0].edible?"yes":"no",Me,Be,Je,ce=i[0].rotting?"yes":"no",Ae,qe,Ie,Ee,Ue=i[0].repaired_with&&su(i),Le=i[0].salvaged_into&&au(i),Ke=i[1].length&&Ev(i);return{c(){e=p("h1"),l=y("Material: "),n=y(t),o=I(),r=p("section"),f=p("h1"),f.textContent="Properties",a=I(),s=p("dl"),u=p("dt"),u.textContent="Density",c=p("dd"),$=y(m),v=p("dt"),v.textContent="Specific Heat",E=p("dd"),w=y(T),S=y(" (liquid) / "),R=y(C),B=y(` (solid)
    `),O=p("dt"),O.textContent="Latent Heat",N=p("dd"),M=y(L),X=p("dt"),X.textContent="Resistance",A=p("dd"),D=p("dl"),J=p("dt"),J.textContent="Bash",H=p("dd"),j=y(F),G=p("dt"),G.textContent="Cut",z=p("dd"),W=y(ie),K=p("dt"),K.textContent="Ballistic",Z=p("dd"),V=y(ae),ne=p("dt"),ne.textContent="Acid",_e=p("dd"),ke=y(Fe),de=p("dt"),de.textContent="Chip",$e=p("dd"),ue=y(ye),De=p("dt"),De.textContent="Conductive",Se=p("dd"),Te=y(be),et=I(),Ue&&Ue.c(),Re=le(),Le&&Le.c(),me=p("dt"),me.textContent="Edible",ve=p("dd"),Me=y(Ye),Be=p("dt"),Be.textContent="Rots",Je=p("dd"),Ae=y(ce),qe=I(),Ke&&Ke.c(),Ie=le(),fe(u,"title","Relative to 'powder', which is 1"),fe(de,"title","Resistance to physical damage of the item itself"),fe(Be,"title","Corpses made of this material will go bad")},m(He,xe){g(He,e,xe),d(e,l),d(e,n),g(He,o,xe),g(He,r,xe),d(r,f),d(r,a),d(r,s),d(s,u),d(s,c),d(c,$),d(s,v),d(s,E),d(E,w),d(E,S),d(E,R),d(E,B),d(s,O),d(s,N),d(N,M),d(s,X),d(s,A),d(A,D),d(D,J),d(D,H),d(H,j),d(D,G),d(D,z),d(z,W),d(D,K),d(D,Z),d(Z,V),d(D,ne),d(D,_e),d(_e,ke),d(D,de),d(D,$e),d($e,ue),d(D,De),d(D,Se),d(Se,Te),d(A,et),Ue&&Ue.m(s,null),d(s,Re),Le&&Le.m(s,null),d(s,me),d(s,ve),d(ve,Me),d(s,Be),d(s,Je),d(Je,Ae),g(He,qe,xe),Ke&&Ke.m(He,xe),g(He,Ie,xe),Ee=!0},p(He,[xe]){var we,ze,dt,kt,vt,yt,ut,_t;(!Ee||xe&1)&&t!==(t=ge(He[0])+"")&&Y(n,t),(!Ee||xe&1)&&m!==(m=He[0].density+"")&&Y($,m),(!Ee||xe&1)&&T!==(T=((we=He[0].specific_heat_liquid)!=null?we:4.186)+"")&&Y(w,T),(!Ee||xe&1)&&C!==(C=((ze=He[0].specific_heat_solid)!=null?ze:2.108)+"")&&Y(R,C),(!Ee||xe&1)&&L!==(L=((dt=He[0].latent_heat)!=null?dt:334)+"")&&Y(M,L),(!Ee||xe&1)&&F!==(F=((kt=He[0].bash_resist)!=null?kt:0)+"")&&Y(j,F),(!Ee||xe&1)&&ie!==(ie=((vt=He[0].cut_resist)!=null?vt:0)+"")&&Y(W,ie),(!Ee||xe&1)&&ae!==(ae=((yt=He[0].bullet_resist)!=null?yt:0)+"")&&Y(V,ae),(!Ee||xe&1)&&Fe!==(Fe=((ut=He[0].acid_resist)!=null?ut:0)+"")&&Y(ke,Fe),(!Ee||xe&1)&&ye!==(ye=((_t=He[0].chip_resist)!=null?_t:0)+"")&&Y(ue,ye),(!Ee||xe&1)&&be!==(be=He[0].elec_resist===0||He[0].elec_resist===1||He[0].conductive?"yes":"no")&&Y(Te,be),He[0].repaired_with?Ue?(Ue.p(He,xe),xe&1&&b(Ue,1)):(Ue=su(He),Ue.c(),b(Ue,1),Ue.m(s,Re)):Ue&&(Q(),k(Ue,1,1,()=>{Ue=null}),x()),He[0].salvaged_into?Le?(Le.p(He,xe),xe&1&&b(Le,1)):(Le=au(He),Le.c(),b(Le,1),Le.m(s,me)):Le&&(Q(),k(Le,1,1,()=>{Le=null}),x()),(!Ee||xe&1)&&Ye!==(Ye=He[0].edible?"yes":"no")&&Y(Me,Ye),(!Ee||xe&1)&&ce!==(ce=He[0].rotting?"yes":"no")&&Y(Ae,ce),He[1].length&&Ke.p(He,xe)},i(He){Ee||(b(Ue),b(Le),b(Ke),Ee=!0)},o(He){k(Ue),k(Le),k(Ke),Ee=!1},d(He){He&&h(e),He&&h(o),He&&h(r),Ue&&Ue.d(),Le&&Le.d(),He&&h(qe),Ke&&Ke.d(He),He&&h(Ie)}}}function Cv(i){return typeof i[0]=="string"}function Iv(i,e,l){const t=nt("data");let{item:n}=e,o=t.byType("item").filter(r=>{const f=r.material==null?[]:typeof r.material=="string"?[r.material]:Cv(r.material)?r.material:r.material.map(a=>a.type);return r.id&&f.some(a=>a===n.id)}).sort((r,f)=>ge(r).localeCompare(ge(f)));return i.$$set=r=>{"item"in r&&l(0,n=r.item)},[n,o]}class Rv extends Xe{constructor(e){super(),Ve(this,e,Iv,Sv,We,{item:0})}}function uu(i,e,l){const t=i.slice();return t[6]=e[l],t}function cu(i){let e;return{c(){e=y("(default)")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function _u(i){let e,l,t,n,o;l=new re({props:{type:"item",id:i[6].id}});let r=i[6].id===i[0].default&&cu();return{c(){e=p("li"),P(l.$$.fragment),t=I(),r&&r.c(),n=I()},m(f,a){g(f,e,a),U(l,e,null),d(e,t),r&&r.m(e,null),d(e,n),o=!0},p(f,a){f[6].id===f[0].default?r||(r=cu(),r.c(),r.m(e,n)):r&&(r.d(1),r=null)},i(f){o||(b(l.$$.fragment,f),o=!0)},o(f){k(l.$$.fragment,f),o=!1},d(f){f&&h(e),q(l),r&&r.d()}}}function Nv(i){let e;return{c(){e=p("p"),e.innerHTML='<em style="color: var(--cata-color-gray)">No items use this ammo.</em>'},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function Ov(i){let e,l;return e=new at({props:{items:i[2],$$slots:{default:[Bv,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&513&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Bv(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Av(i){let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u,c,m,$,v,E,T,w=i[1],S=[];for(let N=0;N<w.length;N+=1)S[N]=_u(uu(i,w,N));const C=N=>k(S[N],1,1,()=>{S[N]=null}),R=[Ov,Nv],B=[];function O(N,L){return N[2].length>0?0:1}return v=O(i),E=B[v]=R[v](i),{c(){e=p("h1"),l=y("Ammunition Type: "),n=y(t),o=I(),r=p("section"),f=p("h1"),f.textContent="Compatible Variants",a=I(),s=p("ul");for(let N=0;N<S.length;N+=1)S[N].c();u=I(),c=p("section"),m=p("h1"),m.textContent="Used By",$=I(),E.c()},m(N,L){g(N,e,L),d(e,l),d(e,n),g(N,o,L),g(N,r,L),d(r,f),d(r,a),d(r,s);for(let M=0;M<S.length;M+=1)S[M].m(s,null);g(N,u,L),g(N,c,L),d(c,m),d(c,$),B[v].m(c,null),T=!0},p(N,[L]){if((!T||L&1)&&t!==(t=ge(N[0])+"")&&Y(n,t),L&3){w=N[1];let M;for(M=0;M<w.length;M+=1){const X=uu(N,w,M);S[M]?(S[M].p(X,L),b(S[M],1)):(S[M]=_u(X),S[M].c(),b(S[M],1),S[M].m(s,null))}for(Q(),M=w.length;M<S.length;M+=1)C(M);x()}E.p(N,L)},i(N){if(!T){for(let L=0;L<w.length;L+=1)b(S[L]);b(E),T=!0}},o(N){S=S.filter(Boolean);for(let L=0;L<S.length;L+=1)k(S[L]);k(E),T=!1},d(N){N&&h(e),N&&h(o),N&&h(r),se(S,N),N&&h(u),N&&h(c),B[v].d()}}}function Mv(i,e,l){let{item:t}=e;const n=nt("data"),o=n.byType("item").flatMap(s=>s.type!=="AMMO"||!s.id?[]:s.ammo_type===t.id?[s]:[]);o.sort((s,u)=>ge(s).localeCompare(ge(u)));const r={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1},f=(s,u)=>{var $;return(($=s.pocket_data)!=null?$:[]).map(v=>({...r,...v})).flatMap(v=>{var E;return v.pocket_type==="MAGAZINE"?Object.keys((E=v.ammo_restriction)!=null?E:{}):[]}).some(v=>v===u.id)},a=n.byType("item").filter(s=>f(s,t));return a.sort((s,u)=>ge(s).localeCompare(ge(u))),i.$$set=s=>{"item"in s&&l(0,t=s.item)},[t,o,a]}class Dv extends Xe{constructor(e){super(),Ve(this,e,Mv,Av,We,{item:0})}}function du(i,e,l){const t=i.slice();return t[8]=e[l],t}function mu(i,e,l){const t=i.slice();return t[8]=e[l],t}function pu(i,e,l){const t=i.slice();return t[8]=e[l],t}function hu(i,e,l){const t=i.slice();return t[8]=e[l][0],t[15]=e[l][1],t}function gu(i,e,l){const t=i.slice();return t[18]=e[l],t}function bu(i){let e,l,t,n,o=i[0].usages,r=[];for(let f=0;f<o.length;f+=1)r[f]=ku(hu(i,o,f));return{c(){e=p("section"),l=p("h1"),l.textContent="Usages",t=I(),n=p("dl");for(let f=0;f<r.length;f+=1)r[f].c()},m(f,a){g(f,e,a),d(e,l),d(e,t),d(e,n);for(let s=0;s<r.length;s+=1)r[s].m(n,null)},p(f,a){if(a&3){o=f[0].usages;let s;for(s=0;s<o.length;s+=1){const u=hu(f,o,s);r[s]?r[s].p(u,a):(r[s]=ku(u),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),se(r,f)}}}function $u(i){let e,l=ge(i[1].byId("item_action",i[18]))+"",t;return{c(){e=p("li"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=ge(n[1].byId("item_action",n[18]))+"")&&Y(t,l)},d(n){n&&h(e)}}}function ku(i){let e,l,t=i[8]+"",n,o,r,f,a=i[15],s=[];for(let u=0;u<a.length;u+=1)s[u]=$u(gu(i,a,u));return{c(){e=p("dt"),l=y("At Level "),n=y(t),o=p("dd"),r=p("ul");for(let u=0;u<s.length;u+=1)s[u].c();f=I(),Qe(e,"font-variant","tabular-nums"),fe(r,"class","comma-separated")},m(u,c){g(u,e,c),d(e,l),d(e,n),g(u,o,c),d(o,r);for(let m=0;m<s.length;m+=1)s[m].m(r,null);d(o,f)},p(u,c){if(c&1&&t!==(t=u[8]+"")&&Y(n,t),c&3){a=u[15];let m;for(m=0;m<a.length;m+=1){const $=gu(u,a,m);s[m]?s[m].p($,c):(s[m]=$u($),s[m].c(),s[m].m(r,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=a.length}},d(u){u&&h(e),u&&h(o),se(s,u)}}}function Lv(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function vu(i){let e,l,t=i[8]+"",n,o,r,f,a;return r=new at({props:{items:i[2].get(i[8]).sort(i[5]),limit:20,$$slots:{default:[Lv,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=p("dt"),l=y("Level "),n=y(t),o=p("dd"),P(r.$$.fragment),f=I(),Qe(e,"font-variant","tabular-nums")},m(s,u){g(s,e,u),d(e,l),d(e,n),g(s,o,u),U(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&h(e),s&&h(o),q(r)}}}function Gv(i){let e,l,t,n,o,r=[...i[3].keys()].sort(Tu),f=[];for(let s=0;s<r.length;s+=1)f[s]=yu(mu(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Vehicle Parts",t=I(),n=p("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&9){r=[...s[3].keys()].sort(Tu);let c;for(c=0;c<r.length;c+=1){const m=mu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=yu(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),se(f,s)}}}function Uv(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"vehicle_part",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function yu(i){let e,l,t=i[8]+"",n,o,r,f,a;return r=new at({props:{items:i[3].get(i[8]).sort(i[6]),limit:20,$$slots:{default:[Uv,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=p("dt"),l=y("Level "),n=y(t),o=p("dd"),P(r.$$.fragment),f=I(),Qe(e,"font-variant","tabular-nums")},m(s,u){g(s,e,u),d(e,l),d(e,n),g(s,o,u),U(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&h(e),s&&h(o),q(r)}}}function qv(i){let e,l,t,n,o,r=[...i[4].keys()].sort(Su),f=[];for(let s=0;s<r.length;s+=1)f[s]=wu(du(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Recipes",t=I(),n=p("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&19){r=[...s[4].keys()].sort(Su);let c;for(c=0;c<r.length;c+=1){const m=du(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=wu(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),se(f,s)}}}function Pv(i){let e,l,t,n;return e=new tt({props:{item:i[1].byId("item",i[0])}}),t=new re({props:{type:"item",id:i[0]}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[1].byId("item",o[0])),e.$set(f);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function wu(i){let e,l,t=i[8]+"",n,o,r,f,a;return r=new at({props:{items:i[4].get(i[8]),limit:20,$$slots:{default:[Pv,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=p("dt"),l=y("Level "),n=y(t),o=p("dd"),P(r.$$.fragment),f=I(),Qe(e,"font-variant","tabular-nums")},m(s,u){g(s,e,u),d(e,l),d(e,n),g(s,o,u),U(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&h(e),s&&h(o),q(r)}}}function Fv(i){let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u,c,m,$,v,E=i[0].usages&&bu(i),T=[...i[2].keys()].sort(Eu),w=[];for(let B=0;B<T.length;B+=1)w[B]=vu(pu(i,T,B));const S=B=>k(w[B],1,1,()=>{w[B]=null});let C=i[3].size>0&&Gv(i),R=i[4].size>0&&qv(i);return{c(){e=p("h1"),l=y("Quality: "),n=y(t),o=I(),E&&E.c(),r=I(),f=p("section"),a=p("h1"),a.textContent="Tools",s=I(),u=p("dl");for(let B=0;B<w.length;B+=1)w[B].c();c=I(),C&&C.c(),m=I(),R&&R.c(),$=le()},m(B,O){g(B,e,O),d(e,l),d(e,n),g(B,o,O),E&&E.m(B,O),g(B,r,O),g(B,f,O),d(f,a),d(f,s),d(f,u);for(let N=0;N<w.length;N+=1)w[N].m(u,null);g(B,c,O),C&&C.m(B,O),g(B,m,O),R&&R.m(B,O),g(B,$,O),v=!0},p(B,[O]){if((!v||O&1)&&t!==(t=ge(B[0])+"")&&Y(n,t),B[0].usages?E?E.p(B,O):(E=bu(B),E.c(),E.m(r.parentNode,r)):E&&(E.d(1),E=null),O&5){T=[...B[2].keys()].sort(Eu);let N;for(N=0;N<T.length;N+=1){const L=pu(B,T,N);w[N]?(w[N].p(L,O),b(w[N],1)):(w[N]=vu(L),w[N].c(),b(w[N],1),w[N].m(u,null))}for(Q(),N=T.length;N<w.length;N+=1)S(N);x()}B[3].size>0&&C.p(B,O),B[4].size>0&&R.p(B,O)},i(B){if(!v){for(let O=0;O<T.length;O+=1)b(w[O]);b(C),b(R),v=!0}},o(B){w=w.filter(Boolean);for(let O=0;O<w.length;O+=1)k(w[O]);k(C),k(R),v=!1},d(B){B&&h(e),B&&h(o),E&&E.d(B),B&&h(r),B&&h(f),se(w,B),B&&h(c),C&&C.d(B),B&&h(m),R&&R.d(B),B&&h($)}}}const Eu=(i,e)=>i-e,Tu=(i,e)=>i-e,Su=(i,e)=>i-e;function Yv(i,e,l){var c,m,$;let{item:t}=e,n=nt("data"),o=new Map;for(const v of n.byType("item")){if(!v.id)continue;const E=((c=v.qualities)!=null?c:[]).concat((m=v.charged_qualities)!=null?m:[]).find(([T,w])=>T===t.id);if(E){const[,T]=E;o.has(T)||o.set(T,[]),o.get(T).push(v)}}const r=new Map;for(const v of n.byType("vehicle_part")){if(!v.id)continue;const E=(($=v.qualities)!=null?$:[]).find(([T,w])=>T===t.id);if(E){const[,T]=E;r.has(T)||r.set(T,[]),r.get(T).push(v)}}const f=new Map;for(const v of n.byType("recipe")){if(!v.result||v.construction_blueprint||!n.byId("item",v.result))continue;const{qualities:E}=n.normalizeRequirements(v);for(const T of E)for(const{id:w,level:S}of T)w===t.id&&(f.has(S)||f.set(S,new Set),f.get(S).add(v.result))}const a=new Map;for(const[v,E]of f)a.set(v,[...E].sort((T,w)=>ge(n.byId("item",T)).localeCompare(ge(n.byId("item",w)))));const s=(v,E)=>ge(v).localeCompare(ge(E)),u=(v,E)=>ge(v).localeCompare(ge(E));return i.$$set=v=>{"item"in v&&l(0,t=v.item)},[t,n,o,r,a,s,u]}class jv extends Xe{constructor(e){super(),Ve(this,e,Yv,Fv,We,{item:0})}}function Cu(i,e,l){const t=i.slice();return t[10]=e[l].id,t[11]=e[l].count,t}function Iu(i,e,l){const t=i.slice();return t[14]=e[l],t}function Ru(i,e,l){const t=i.slice();return t[10]=e[l].id,t[11]=e[l].count,t[18]=l,t}function Nu(i,e,l){const t=i.slice();return t[19]=e[l],t}function Ou(i,e,l){const t=i.slice();return t[22]=e[l],t[18]=l,t}function Bu(i,e,l){const t=i.slice();return t[24]=e[l],t}function Au(i,e,l){const t=i.slice();return t[27]=e[l],t[18]=l,t}function Mu(i,e,l){const t=i.slice();return t[10]=e[l][0],t[29]=e[l][1],t[18]=l,t}function Du(i){let e,l=ge(i[2].byId("construction_group",i[0].group))+"",t;return{c(){e=p("h1"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=ge(n[2].byId("construction_group",n[0].group))+"")&&Y(t,l)},d(n){n&&h(e)}}}function Lu(i){let e,l,t,n;const o=[Wv,Hv],r=[];function f(a,s){return a[0].skill?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(Q(),k(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Hv(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function Wv(i){var f;let e,l,t=((f=i[0].difficulty)!=null?f:0)+"",n,o,r;return e=new re({props:{type:"skill",id:i[0].skill}}),{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")")},m(a,s){U(e,a,s),g(a,l,s),g(a,n,s),g(a,o,s),r=!0},p(a,s){var c;const u={};s&1&&(u.id=a[0].skill),e.$set(u),(!r||s&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&Y(n,t)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){q(e,a),a&&h(l),a&&h(n),a&&h(o)}}}function zv(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Vv(i){let e=" and ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Gu(i){let e,l,t=i[29]+"",n,o,r,f;e=new re({props:{type:"skill",id:i[10]}});function a(c,m){if(c[18]===c[0].required_skills.length-2)return Vv;if(c[18]!==c[0].required_skills.length-1)return zv}let s=a(i),u=s&&s(i);return{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")"),u&&u.c(),r=le()},m(c,m){U(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[10]),e.$set($),(!f||m&1)&&t!==(t=c[29]+"")&&Y(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){q(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function Uu(i){let e,l,t,n,o,r,f;return t=new tt({props:{item:i[2].byId(i[0].pre_terrain.startsWith("f_")?"furniture":"terrain",i[0].pre_terrain)}}),o=new re({props:{type:i[0].pre_terrain.startsWith("f_")?"furniture":"terrain",id:i[0].pre_terrain}}),{c(){e=p("dt"),e.textContent="Requires",l=p("dd"),P(t.$$.fragment),n=I(),P(o.$$.fragment),r=I()},m(a,s){g(a,e,s),g(a,l,s),U(t,l,null),d(l,n),U(o,l,null),d(l,r),f=!0},p(a,s){const u={};s&1&&(u.item=a[2].byId(a[0].pre_terrain.startsWith("f_")?"furniture":"terrain",a[0].pre_terrain)),t.$set(u);const c={};s&1&&(c.type=a[0].pre_terrain.startsWith("f_")?"furniture":"terrain"),s&1&&(c.id=a[0].pre_terrain),o.$set(c)},i(a){f||(b(t.$$.fragment,a),b(o.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(o.$$.fragment,a),f=!1},d(a){a&&h(e),a&&h(l),q(t),q(o)}}}function Xv(i){var $;let e,l,t,n,o,r,f=($=i[5])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=Pu(Bu(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[3],c=[];for(let v=0;v<u.length;v+=1)c[v]=Yu(Nu(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=p("dt"),e.textContent="Tools Required",l=p("dd"),t=p("ul");for(let v=0;v<a.length;v+=1)a[v].c();n=I();for(let v=0;v<c.length;v+=1)c[v].c();o=I()},m(v,E){g(v,e,E),g(v,l,E),d(l,t);for(let T=0;T<a.length;T+=1)a[T].m(t,null);d(t,n);for(let T=0;T<c.length;T+=1)c[T].m(t,null);d(l,o),r=!0},p(v,E){var T;if(E&32){f=(T=v[5])!=null?T:[];let w;for(w=0;w<f.length;w+=1){const S=Bu(v,f,w);a[w]?(a[w].p(S,E),b(a[w],1)):(a[w]=Pu(S),a[w].c(),b(a[w],1),a[w].m(t,n))}for(Q(),w=f.length;w<a.length;w+=1)s(w);x()}if(E&12){u=v[3];let w;for(w=0;w<u.length;w+=1){const S=Nu(v,u,w);c[w]?(c[w].p(S,E),b(c[w],1)):(c[w]=Yu(S),c[w].c(),b(c[w],1),c[w].m(t,null))}for(Q(),w=u.length;w<c.length;w+=1)m(w);x()}},i(v){if(!r){for(let E=0;E<f.length;E+=1)b(a[E]);for(let E=0;E<u.length;E+=1)b(c[E]);r=!0}},o(v){a=a.filter(Boolean);for(let E=0;E<a.length;E+=1)k(a[E]);c=c.filter(Boolean);for(let E=0;E<c.length;E+=1)k(c[E]);r=!1},d(v){v&&h(e),v&&h(l),se(a,v),se(c,v)}}}function Jv(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function qu(i){var w,S;let e,l=((w=i[27].amount)!=null?w:1)+"",t,n,o=((S=i[27].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[27].level+"",c,m,$="",v,E,T=i[18]!==0&&Jv();return a=new re({props:{type:"tool_quality",id:i[27].id}}),{c(){T&&T.c(),e=I(),t=y(l),n=y(" tool"),r=y(o),f=y(`
                with `),P(a.$$.fragment),s=y(" of "),c=y(u),m=y(`
                or more`),v=y($)},m(C,R){T&&T.m(C,R),g(C,e,R),g(C,t,R),g(C,n,R),g(C,r,R),g(C,f,R),U(a,C,R),g(C,s,R),g(C,c,R),g(C,m,R),g(C,v,R),E=!0},p:ee,i(C){E||(b(a.$$.fragment,C),E=!0)},o(C){k(a.$$.fragment,C),E=!1},d(C){T&&T.d(C),C&&h(e),C&&h(t),C&&h(n),C&&h(r),C&&h(f),q(a,C),C&&h(s),C&&h(c),C&&h(m),C&&h(v)}}}function Pu(i){let e,l,t,n=i[24],o=[];for(let f=0;f<n.length;f+=1)o[f]=qu(Au(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=y(".")},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&32){n=f[24];let s;for(s=0;s<n.length;s+=1){const u=Au(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=qu(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function Kv(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Zv(i){let e,l;return e=new re({props:{type:"item",id:i[22].id}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p:ee,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Qv(i){let e,l=ge(i[2].byId("item",i[22].id))+"",t;return{c(){e=p("a"),t=y(l),fe(e,"href","#/furniture/"+i[2].craftingPseudoItem(i[22].id))},m(n,o){g(n,e,o),d(e,t)},p:ee,i:ee,o:ee,d(n){n&&h(e)}}}function xv(i){let e,l=i[22].count+"",t,n,o,r=i[22].count!==1&&ey();return{c(){e=y("("),t=y(l),n=y(" charge"),r&&r.c(),o=y(")")},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:ee,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function ey(i){let e;return{c(){e=y("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Fu(i){let e,l,t,n,o,r,f=i[18]!==0&&Kv();const a=[Qv,Zv],s=[];function u(m,$){return m[2].craftingPseudoItem(m[22].id)?0:1}l=u(i),t=s[l]=a[l](i);let c=i[22].count>0&&xv(i);return{c(){f&&f.c(),e=I(),t.c(),n=I(),c&&c.c(),o=le()},m(m,$){f&&f.m(m,$),g(m,e,$),s[l].m(m,$),g(m,n,$),c&&c.m(m,$),g(m,o,$),r=!0},p(m,$){t.p(m,$),m[22].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&h(e),s[l].d(m),m&&h(n),c&&c.d(m),m&&h(o)}}}function Yu(i){let e,l,t,n=i[19],o=[];for(let f=0;f<n.length;f+=1)o[f]=Fu(Ou(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&12){n=f[19];let s;for(s=0;s<n.length;s+=1){const u=Ou(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Fu(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function ty(i){let e,l,t,n,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=Hu(Iu(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Components",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&20){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=Iu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Hu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function ly(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function ju(i){let e,l,t,n=i[18]!==0&&ly();return l=new re({props:{id:i[10],count:i[11],type:"item"}}),{c(){n&&n.c(),e=I(),P(l.$$.fragment)},m(o,r){n&&n.m(o,r),g(o,e,r),U(l,o,r),t=!0},p:ee,i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){k(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&h(e),q(l,o)}}}function Hu(i){let e,l,t,n=i[14].map(i[7]),o=[];for(let f=0;f<n.length;f+=1)o[f]=ju(Ru(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&20){n=f[14].map(f[7]);let s;for(s=0;s<n.length;s+=1){const u=Ru(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=ju(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function ny(i){let e,l,t,n,o=i[6],r=[];for(let a=0;a<o.length;a+=1)r[a]=Wu(Cu(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Byproducts",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&68){o=a[6];let u;for(u=0;u<o.length;u+=1){const c=Cu(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Wu(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function Wu(i){let e,l,t,n,o,r;return l=new tt({props:{item:i[2].byId("item",i[10])}}),n=new re({props:{type:"item",id:i[10],count:i[11]}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment),o=I()},m(f,a){g(f,e,a),U(l,e,null),d(e,t),U(n,e,null),d(e,o),r=!0},p:ee,i(f){r||(b(l.$$.fragment,f),b(n.$$.fragment,f),r=!0)},o(f){k(l.$$.fragment,f),k(n.$$.fragment,f),r=!1},d(f){f&&h(e),q(l),q(n)}}}function zu(i){let e,l=i[0].pre_note+"",t;return{c(){e=p("p"),t=y(l),Qe(e,"color","var(--cata-color-gray)")},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=n[0].pre_note+"")&&Y(t,l)},d(n){n&&h(e)}}}function iy(i){var z,ie;let e,l,t,n,o,r,f,a,s=(typeof i[0].time=="number"?`${i[0].time} m`:(z=i[0].time)!=null?z:"0 m")+"",u,c,m,$,v,E,T,w,S,C,R,B=JSON.stringify(i[0],null,2)+"",O,N,L=i[1]&&Du(i),M=(ie=i[0].required_skills)!=null?ie:[],X=[];for(let W=0;W<M.length;W+=1)X[W]=Gu(Mu(i,M,W));const A=W=>k(X[W],1,1,()=>{X[W]=null});let D=null;M.length||(D=Lu(i));let J=i[0].pre_terrain&&Uu(i),H=(i[5].length||i[3].length)&&Xv(i),F=i[4].length&&ty(i),j=i[6].length&&ny(i),G=i[0].pre_note&&zu(i);return{c(){e=p("section"),L&&L.c(),l=I(),t=p("dl"),n=p("dt"),n.textContent="Required Skills",o=p("dd");for(let W=0;W<X.length;W+=1)X[W].c();D&&D.c(),r=I(),f=p("dt"),f.textContent="Time",a=p("dd"),u=y(s),c=I(),J&&J.c(),m=le(),H&&H.c(),$=le(),F&&F.c(),v=le(),j&&j.c(),E=I(),G&&G.c(),T=I(),w=p("details"),S=p("summary"),S.textContent="Construction JSON",C=I(),R=p("pre"),O=y(B)},m(W,K){g(W,e,K),L&&L.m(e,null),d(e,l),d(e,t),d(t,n),d(t,o);for(let Z=0;Z<X.length;Z+=1)X[Z].m(o,null);D&&D.m(o,null),d(o,r),d(t,f),d(t,a),d(a,u),d(a,c),J&&J.m(t,null),d(t,m),H&&H.m(t,null),d(t,$),F&&F.m(t,null),d(t,v),j&&j.m(t,null),d(e,E),G&&G.m(e,null),d(e,T),d(e,w),d(w,S),d(w,C),d(w,R),d(R,O),N=!0},p(W,[K]){var Z,ae;if(W[1]?L?L.p(W,K):(L=Du(W),L.c(),L.m(e,l)):L&&(L.d(1),L=null),K&1){M=(Z=W[0].required_skills)!=null?Z:[];let V;for(V=0;V<M.length;V+=1){const ne=Mu(W,M,V);X[V]?(X[V].p(ne,K),b(X[V],1)):(X[V]=Gu(ne),X[V].c(),b(X[V],1),X[V].m(o,r))}for(Q(),V=M.length;V<X.length;V+=1)A(V);x(),!M.length&&D?D.p(W,K):M.length?D&&(Q(),k(D,1,1,()=>{D=null}),x()):(D=Lu(W),D.c(),b(D,1),D.m(o,r))}(!N||K&1)&&s!==(s=(typeof W[0].time=="number"?`${W[0].time} m`:(ae=W[0].time)!=null?ae:"0 m")+"")&&Y(u,s),W[0].pre_terrain?J?(J.p(W,K),K&1&&b(J,1)):(J=Uu(W),J.c(),b(J,1),J.m(t,m)):J&&(Q(),k(J,1,1,()=>{J=null}),x()),(W[5].length||W[3].length)&&H.p(W,K),W[4].length&&F.p(W,K),W[6].length&&j.p(W,K),W[0].pre_note?G?G.p(W,K):(G=zu(W),G.c(),G.m(e,T)):G&&(G.d(1),G=null),(!N||K&1)&&B!==(B=JSON.stringify(W[0],null,2)+"")&&Y(O,B)},i(W){if(!N){for(let K=0;K<M.length;K+=1)b(X[K]);b(J),b(H),b(F),b(j),N=!0}},o(W){X=X.filter(Boolean);for(let K=0;K<X.length;K+=1)k(X[K]);k(J),k(H),k(F),k(j),N=!1},d(W){W&&h(e),L&&L.d(),se(X,W),D&&D.d(),J&&J.d(),H&&H.d(),F&&F.d(),j&&j.d(),G&&G.d()}}}function ry(i,e,l){var $;const t=nt("data");let{construction:n}=e,{includeTitle:o=!1}=e;const f=(typeof n.using=="string"?[[n.using,1]]:($=n.using)!=null?$:[]).map(([v,E])=>[t.byId("requirement",v),E]).concat([[n,1]]),a=f.flatMap(([v,E])=>{var T;return t.flattenRequirement((T=v.tools)!=null?T:[],w=>w.tools,{expandSubstitutes:!0}).map(w=>w.map(S=>({...S,count:S.count*E})))}),s=f.flatMap(([v,E])=>{var T;return t.flattenRequirement((T=v.components)!=null?T:[],w=>w.components).map(w=>w.map(S=>({...S,count:S.count*E})))}),u=f.flatMap(([v,E])=>{var T;return((T=v.qualities)!=null?T:[]).map(w=>Array.isArray(w)?w:[w])}),c=t.flattenItemGroup(t.normalizeItemGroup(n.byproducts,"collection")),m=v=>({...v,item:t.byId("item",v.id)});return i.$$set=v=>{"construction"in v&&l(0,n=v.construction),"includeTitle"in v&&l(1,o=v.includeTitle)},[n,o,t,a,s,u,c,m]}class q1 extends Xe{constructor(e){super(),Ve(this,e,ry,iy,We,{construction:0,includeTitle:1})}}function Vu(i,e,l){const t=i.slice();return t[8]=e[l],t}function Xu(i,e,l){const t=i.slice();return t[11]=e[l],t}function Ju(i,e,l){const t=i.slice();return t[14]=e[l],t}function Ku(i,e,l){const t=i.slice();return t[17]=e[l],t}function Zu(i,e,l){const t=i.slice();return t[20]=e[l],t}function Qu(i,e,l){const t=i.slice();return t[23]=e[l].id,t[24]=e[l].prob,t}function xu(i,e,l){const t=i.slice();return t[27]=e[l][0],t[28]=e[l][1],t}function ec(i,e,l){const t=i.slice();return t[23]=e[l].id,t[24]=e[l].prob,t[31]=e[l].count,t}function oy(i){let e,l=i[0].move_cost_mod*50+"",t;return{c(){e=y("+"),t=y(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o[0]&1&&l!==(l=n[0].move_cost_mod*50+"")&&Y(t,l)},d(n){n&&h(e),n&&h(t)}}}function fy(i){let e;return{c(){e=p("em"),e.textContent="impassable"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function tc(i){let e,l,t,n;return t=new re({props:{type:"item",id:i[0].crafting_pseudo_item}}),{c(){e=p("dt"),e.textContent="Provides",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r[0]&1&&(f.id=o[0].crafting_pseudo_item),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function sy(i){let e,l=i[27]+"",t,n,o,r,f,a=i[28],s=[];for(let c=0;c<a.length;c+=1)s[c]=lc(ec(i,a,c));const u=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){e=p("dt"),t=y(l),n=p("dd"),o=p("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=I(),fe(o,"class","comma-separated")},m(c,m){g(c,e,m),d(e,t),g(c,n,m),d(n,o);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(n,r),f=!0},p(c,m){if(m[0]&8){a=c[28];let $;for($=0;$<a.length;$+=1){const v=ec(c,a,$);s[$]?(s[$].p(v,m),b(s[$],1)):(s[$]=lc(v),s[$].c(),b(s[$],1),s[$].m(o,null))}for(Q(),$=a.length;$<s.length;$+=1)u($);x()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)k(s[m]);f=!1},d(c){c&&h(e),c&&h(n),se(s,c)}}}function ay(i){let e,l=i[31][0]+"",t,n,o=i[31][1]+"",r,f;return{c(){e=y("\xA0("),t=y(l),n=y("\u2013"),r=y(o),f=y(")")},m(a,s){g(a,e,s),g(a,t,s),g(a,n,s),g(a,r,s),g(a,f,s)},p:ee,d(a){a&&h(e),a&&h(t),a&&h(n),a&&h(r),a&&h(f)}}}function uy(i){let e,l=i[31][0]!==1&&cy(i);return{c(){l&&l.c(),e=le()},m(t,n){l&&l.m(t,n),g(t,e,n)},p(t,n){t[31][0]!==1&&l.p(t,n)},d(t){l&&l.d(t),t&&h(e)}}}function cy(i){let e,l=i[31][0]+"",t,n;return{c(){e=y("\xA0("),t=y(l),n=y(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:ee,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function _y(i){let e,l=by(i[24])+"",t,n;return{c(){e=y("\xA0("),t=y(l),n=y(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:ee,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function lc(i){let e,l,t,n="",o,r="",f,a;t=new re({props:{type:"item",id:i[23]}});function s($,v){return $[31][0]===$[31][1]?uy:ay}let c=s(i)(i),m=i[24]!==1&&_y(i);return{c(){e=p("li"),l=p("span"),P(t.$$.fragment),o=y(n),c.c(),f=y(r),m&&m.c(),Qe(l,"white-space","nowrap")},m($,v){g($,e,v),d(e,l),U(t,l,null),d(l,o),c.m(l,null),d(l,f),m&&m.m(l,null),a=!0},p($,v){c.p($,v),$[24]!==1&&m.p($,v)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){k(t.$$.fragment,$),a=!1},d($){$&&h(e),q(t),c.d(),m&&m.d()}}}function nc(i){let e,l,t=i[28].length&&sy(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,o){n[28].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function dy(i){let e,l,t,n,o,r=["winter","spring","summer","autumn"].filter(i[5]),f=[];for(let s=0;s<r.length;s+=1)f[s]=fc(Ju(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Harvest",l=p("dd"),t=p("dl");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&18){r=["winter","spring","summer","autumn"].filter(s[5]);let c;for(c=0;c<r.length;c+=1){const m=Ju(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=fc(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function my(i){let e,l,t,n,o;return l=new tt({props:{item:i[1].byId("item",i[20].drop)}}),n=new re({props:{type:"item",id:i[20].drop}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),U(l,e,null),d(e,t),U(n,e,null),o=!0},p:ee,i(r){o||(b(l.$$.fragment,r),b(n.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(l),q(n)}}}function py(i){let e,l,t=i[1].flattenItemGroup(i[1].byId("item_group",i[20].drop)),n=[];for(let r=0;r<t.length;r+=1)n[r]=ic(Qu(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f[0]&18){t=r[1].flattenItemGroup(r[1].byId("item_group",r[20].drop));let a;for(a=0;a<t.length;a+=1){const s=Qu(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=ic(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){se(n,r),r&&h(e)}}}function ic(i){let e,l,t,n,o,r=(i[24]*100).toFixed(2)+"",f,a,s;return l=new tt({props:{item:i[1].byId("item",i[23])}}),n=new re({props:{type:"item",id:i[23]}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment),o=y(" ("),f=y(r),a=y("%)")},m(u,c){g(u,e,c),U(l,e,null),d(e,t),U(n,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:ee,i(u){s||(b(l.$$.fragment,u),b(n.$$.fragment,u),s=!0)},o(u){k(l.$$.fragment,u),k(n.$$.fragment,u),s=!1},d(u){u&&h(e),q(l),q(n)}}}function rc(i){let e,l,t,n;const o=[py,my],r=[];function f(a,s){return a[20].type==="bionic_group"?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function oc(i){let e,l,t=i[17].entries,n=[];for(let r=0;r<t.length;r+=1)n[r]=rc(Zu(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c()},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f[0]&18){t=r[17].entries;let a;for(a=0;a<t.length;a+=1){const s=Zu(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=rc(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){r&&h(e),se(n,r)}}}function fc(i){let e,l=i[14]+"",t,n,o,r,f=[i[1].byId("harvest",i[4].get(i[14]))],a=[];for(let u=0;u<1;u+=1)a[u]=oc(Ku(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=p("dt"),t=y(l),n=p("dd");for(let u=0;u<1;u+=1)a[u].c();o=I(),Qe(e,"text-transform","capitalize")},m(u,c){g(u,e,c),d(e,t),g(u,n,c);for(let m=0;m<1;m+=1)a[m].m(n,null);d(n,o),r=!0},p(u,c){if(c[0]&18){f=[u[1].byId("harvest",u[4].get(u[14]))];let m;for(m=0;m<1;m+=1){const $=Ku(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=oc($),a[m].c(),b(a[m],1),a[m].m(n,o))}for(Q(),m=1;m<1;m+=1)s(m);x()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)k(a[c]);r=!1},d(u){u&&h(e),u&&h(n),se(a,u)}}}function sc(i){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function ac(i){let e,l,t;return l=new re({props:{type:"json_flag",id:i[11]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[11]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function hy(i){let e,l,t,n,o=i[2],r=[];for(let a=0;a<o.length;a+=1)r[a]=uc(Vu(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("h2"),e.textContent="Construction",l=I();for(let a=0;a<r.length;a+=1)r[a].c();t=le()},m(a,s){g(a,e,s),g(a,l,s);for(let u=0;u<r.length;u+=1)r[u].m(a,s);g(a,t,s),n=!0},p(a,s){if(s[0]&4){o=a[2];let u;for(u=0;u<o.length;u+=1){const c=Vu(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=uc(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a),a&&h(t)}}}function uc(i){let e,l;return e=new q1({props:{construction:i[8],includeTitle:!0}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p:ee,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function gy(i){var Te,et,Re;let e,l,t,n=ge(i[0])+"",o,r,f,a,s,u,c,m,$,v,E,T=(i[0].required_str>=0?i[0].required_str:"not movable")+"",w,S,C,R=((Te=i[0].coverage)!=null?Te:0)+"",B,O,N,L,M=((et=i[0].comfort)!=null?et:0)+"",X,A,D,J,H,F,j,G,z=i[0].description+"",ie,W,K,Z;l=new tt({props:{item:i[0]}});function ae(me,ve){return me[0].move_cost_mod<0?fy:oy}let V=ae(i),ne=V(i),_e=i[0].crafting_pseudo_item&&tc(i),Fe=i[3],ke=[];for(let me=0;me<Fe.length;me+=1)ke[me]=nc(xu(i,Fe,me));const de=me=>k(ke[me],1,1,()=>{ke[me]=null});let $e=i[4].size&&dy(i),ye=(Re=i[0].flags)!=null?Re:[],ue=[];for(let me=0;me<ye.length;me+=1)ue[me]=ac(Xu(i,ye,me));const De=me=>k(ue[me],1,1,()=>{ue[me]=null});let Se=null;ye.length||(Se=sc());let be=i[2].length&&hy(i);return{c(){e=p("h1"),P(l.$$.fragment),t=I(),o=y(n),r=I(),f=p("section"),a=p("h1"),a.textContent="General",s=I(),u=p("dl"),c=p("dt"),c.textContent="Move Cost Modifier",m=p("dd"),ne.c(),$=I(),v=p("dt"),v.textContent="Strength Required to Drag",E=p("dd"),w=y(T),S=p("dt"),S.textContent="Coverage",C=p("dd"),B=y(R),O=y("%"),N=p("dt"),N.textContent="Comfort",L=p("dd"),X=y(M),_e&&_e.c(),A=le();for(let me=0;me<ke.length;me+=1)ke[me].c();D=le(),$e&&$e.c(),J=p("dt"),J.textContent="Flags",H=p("dd"),F=p("ul");for(let me=0;me<ue.length;me+=1)ue[me].c();Se&&Se.c(),j=I(),G=p("p"),ie=y(z),W=I(),be&&be.c(),K=le(),fe(F,"class","comma-separated"),Qe(G,"color","var(--cata-color-gray)")},m(me,ve){g(me,e,ve),U(l,e,null),d(e,t),d(e,o),g(me,r,ve),g(me,f,ve),d(f,a),d(f,s),d(f,u),d(u,c),d(u,m),ne.m(m,null),d(m,$),d(u,v),d(u,E),d(E,w),d(u,S),d(u,C),d(C,B),d(C,O),d(u,N),d(u,L),d(L,X),_e&&_e.m(u,null),d(u,A);for(let Ye=0;Ye<ke.length;Ye+=1)ke[Ye].m(u,null);d(u,D),$e&&$e.m(u,null),d(u,J),d(u,H),d(H,F);for(let Ye=0;Ye<ue.length;Ye+=1)ue[Ye].m(F,null);Se&&Se.m(F,null),d(f,j),d(f,G),d(G,ie),g(me,W,ve),be&&be.m(me,ve),g(me,K,ve),Z=!0},p(me,ve){var Me,Be,Je;const Ye={};if(ve[0]&1&&(Ye.item=me[0]),l.$set(Ye),(!Z||ve[0]&1)&&n!==(n=ge(me[0])+"")&&Y(o,n),V===(V=ae(me))&&ne?ne.p(me,ve):(ne.d(1),ne=V(me),ne&&(ne.c(),ne.m(m,$))),(!Z||ve[0]&1)&&T!==(T=(me[0].required_str>=0?me[0].required_str:"not movable")+"")&&Y(w,T),(!Z||ve[0]&1)&&R!==(R=((Me=me[0].coverage)!=null?Me:0)+"")&&Y(B,R),(!Z||ve[0]&1)&&M!==(M=((Be=me[0].comfort)!=null?Be:0)+"")&&Y(X,M),me[0].crafting_pseudo_item?_e?(_e.p(me,ve),ve[0]&1&&b(_e,1)):(_e=tc(me),_e.c(),b(_e,1),_e.m(u,A)):_e&&(Q(),k(_e,1,1,()=>{_e=null}),x()),ve[0]&8){Fe=me[3];let ce;for(ce=0;ce<Fe.length;ce+=1){const Ae=xu(me,Fe,ce);ke[ce]?(ke[ce].p(Ae,ve),b(ke[ce],1)):(ke[ce]=nc(Ae),ke[ce].c(),b(ke[ce],1),ke[ce].m(u,D))}for(Q(),ce=Fe.length;ce<ke.length;ce+=1)de(ce);x()}if(me[4].size&&$e.p(me,ve),ve[0]&1){ye=(Je=me[0].flags)!=null?Je:[];let ce;for(ce=0;ce<ye.length;ce+=1){const Ae=Xu(me,ye,ce);ue[ce]?(ue[ce].p(Ae,ve),b(ue[ce],1)):(ue[ce]=ac(Ae),ue[ce].c(),b(ue[ce],1),ue[ce].m(F,null))}for(Q(),ce=ye.length;ce<ue.length;ce+=1)De(ce);x(),!ye.length&&Se?Se.p(me,ve):ye.length?Se&&(Se.d(1),Se=null):(Se=sc(),Se.c(),Se.m(F,null))}(!Z||ve[0]&1)&&z!==(z=me[0].description+"")&&Y(ie,z),me[2].length&&be.p(me,ve)},i(me){if(!Z){b(l.$$.fragment,me),b(_e);for(let ve=0;ve<Fe.length;ve+=1)b(ke[ve]);b($e);for(let ve=0;ve<ye.length;ve+=1)b(ue[ve]);b(be),Z=!0}},o(me){k(l.$$.fragment,me),k(_e),ke=ke.filter(Boolean);for(let ve=0;ve<ke.length;ve+=1)k(ke[ve]);k($e),ue=ue.filter(Boolean);for(let ve=0;ve<ue.length;ve+=1)k(ue[ve]);k(be),Z=!1},d(me){me&&h(e),q(l),me&&h(r),me&&h(f),ne.d(),_e&&_e.d(),se(ke,me),$e&&$e.d(),se(ue,me),Se&&Se.d(),me&&h(W),be&&be.d(me),me&&h(K)}}}function by(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function $y(i,e,l){var c,m,$;const t=nt("data");let{item:n}=e;const o=(c=n.deconstruct)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof n.deconstruct.items=="string"?[{group:n.deconstruct.items}]:n.deconstruct.items}):[],r=(m=n.bash)!=null&&m.items?t.flattenItemGroup({subtype:"collection",entries:typeof n.bash.items=="string"?[{group:n.bash.items}]:n.bash.items}):[],f=t.byType("construction").filter(v=>v.post_terrain===n.id),a=[["Deconstruct",o],["Bash",r]],s=new Map;for(const{seasons:v,id:E}of($=n.harvest_by_season)!=null?$:[])for(const T of v)s.set(T,E);const u=v=>s.has(v);return i.$$set=v=>{"item"in v&&l(0,n=v.item)},[n,t,f,a,s,u]}class ky extends Xe{constructor(e){super(),Ve(this,e,$y,gy,We,{item:0},null,[-1,-1])}}function cc(i,e,l){const t=i.slice();return t[5]=e[l],t}function _c(i,e,l){const t=i.slice();return t[8]=e[l],t}function vy(i){let e,l,t,n,o,r=[...i[2].keys()].sort(pc),f=[];for(let s=0;s<r.length;s+=1)f[s]=mc(cc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Books",t=I(),n=p("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&4){r=[...s[2].keys()].sort(pc);let c;for(c=0;c<r.length;c+=1){const m=cc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=mc(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),se(f,s)}}}function dc(i){let e,l,t;return l=new re({props:{id:i[8].id,type:"item"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function mc(i){let e,l,t=i[5]+"",n,o,r,f,a,s=i[2].get(i[5]).sort(hc),u=[];for(let m=0;m<s.length;m+=1)u[m]=dc(_c(i,s,m));const c=m=>k(u[m],1,1,()=>{u[m]=null});return{c(){e=p("dt"),l=y("Level "),n=y(t),o=p("dd"),r=p("ul");for(let m=0;m<u.length;m+=1)u[m].c();f=I(),Qe(e,"font-variant","tabular-nums")},m(m,$){g(m,e,$),d(e,l),d(e,n),g(m,o,$),d(o,r);for(let v=0;v<u.length;v+=1)u[v].m(r,null);d(o,f),a=!0},p(m,$){if($&4){s=m[2].get(m[5]).sort(hc);let v;for(v=0;v<s.length;v+=1){const E=_c(m,s,v);u[v]?(u[v].p(E,$),b(u[v],1)):(u[v]=dc(E),u[v].c(),b(u[v],1),u[v].m(r,null))}for(Q(),v=s.length;v<u.length;v+=1)c(v);x()}},i(m){if(!a){for(let $=0;$<s.length;$+=1)b(u[$]);a=!0}},o(m){u=u.filter(Boolean);for(let $=0;$<u.length;$+=1)k(u[$]);a=!1},d(m){m&&h(e),m&&h(o),se(u,m)}}}function yy(i){let e,l,t,n,o;return n=new at({props:{items:i[3],$$slots:{default:[wy,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Used By",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&2049&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function wy(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Ey(i){let e,l,t=ge(i[0])+"",n,o,r,f,a=i[0].description+"",s,u,c,m,$,v=i[1].length&&vy(i),E=i[3].length&&yy(i);return{c(){e=p("h1"),l=y("Skill: "),n=y(t),o=I(),r=p("section"),f=p("p"),s=y(a),u=I(),v&&v.c(),c=I(),E&&E.c(),m=le(),Qe(f,"color","var(--cata-color-gray)")},m(T,w){g(T,e,w),d(e,l),d(e,n),g(T,o,w),g(T,r,w),d(r,f),d(f,s),g(T,u,w),v&&v.m(T,w),g(T,c,w),E&&E.m(T,w),g(T,m,w),$=!0},p(T,[w]){(!$||w&1)&&t!==(t=ge(T[0])+"")&&Y(n,t),(!$||w&1)&&a!==(a=T[0].description+"")&&Y(s,a),T[1].length&&v.p(T,w),T[3].length&&E.p(T,w)},i(T){$||(b(v),b(E),$=!0)},o(T){k(v),k(E),$=!1},d(T){T&&h(e),T&&h(o),T&&h(r),T&&h(u),v&&v.d(T),T&&h(c),E&&E.d(T),T&&h(m)}}}const pc=(i,e)=>i-e,hc=(i,e)=>{var l,t;return((l=i.required_level)!=null?l:0)-((t=e.required_level)!=null?t:0)};function Ty(i,e,l){var a,s,u;let{item:t}=e;const n=nt("data"),o=n.byType("item").filter(c=>c.id&&c.type==="BOOK"&&c.skill===t.id).sort((c,m)=>ge(c).localeCompare(ge(m))),r=new Map;for(const c of o)r.has((a=c.max_level)!=null?a:0)||r.set((s=c.max_level)!=null?s:0,[]),r.get((u=c.max_level)!=null?u:0).push(c);const f=n.byType("item").filter(c=>c.id&&c.type==="GUN"&&c.skill===t.id);return f.sort((c,m)=>ge(c).localeCompare(ge(m))),i.$$set=c=>{"item"in c&&l(0,t=c.item)},[t,o,r,f]}class Sy extends Xe{constructor(e){super(),Ve(this,e,Ty,Ey,We,{item:0})}}function gc(i,e,l){const t=i.slice();return t[3]=e[l],t}function bc(i){let e,l,t,n,o=i[0].required_proficiencies,r=[];for(let a=0;a<o.length;a+=1)r[a]=$c(gc(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Required Proficiencies",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&1){o=a[0].required_proficiencies;let u;for(u=0;u<o.length;u+=1){const c=gc(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=$c(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function $c(i){let e,l,t;return l=new re({props:{id:i[3],type:"proficiency"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[3]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Cy(i){let e,l,t,n,o;return n=new at({props:{items:i[2],$$slots:{default:[Iy,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Recipes",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&65&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Iy(i){let e,l,t,n;return e=new tt({props:{item:i[1].byId("item",i[0])}}),t=new re({props:{type:"item",id:i[0]}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[1].byId("item",o[0])),e.$set(f);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Ry(i){var F,j;let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u=(i[0].can_learn?i[0].time_to_learn:"not learnable")+"",c,m,$,v=((F=i[0].default_time_multiplier)!=null?F:2)+"",E,T,w,S,C=((j=i[0].default_fail_multiplier)!=null?j:2)+"",R,B,O,N,L=i[0].description+"",M,X,A,D,J=i[0].required_proficiencies&&bc(i),H=i[2].length&&Cy(i);return{c(){e=p("h1"),l=y("Proficiency: "),n=y(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Time to Learn",s=p("dd"),c=y(u),m=p("dt"),m.textContent="Default Time Multiplier",$=p("dd"),E=y(v),T=y("\xD7"),w=p("dt"),w.textContent="Default Fail Multiplier",S=p("dd"),R=y(C),B=y("\xD7"),J&&J.c(),O=I(),N=p("p"),M=y(L),X=I(),H&&H.c(),A=le(),Qe(N,"color","var(--cata-color-gray)")},m(G,z){g(G,e,z),d(e,l),d(e,n),g(G,o,z),g(G,r,z),d(r,f),d(f,a),d(f,s),d(s,c),d(f,m),d(f,$),d($,E),d($,T),d(f,w),d(f,S),d(S,R),d(S,B),J&&J.m(f,null),d(r,O),d(r,N),d(N,M),g(G,X,z),H&&H.m(G,z),g(G,A,z),D=!0},p(G,[z]){var ie,W;(!D||z&1)&&t!==(t=ge(G[0])+"")&&Y(n,t),(!D||z&1)&&u!==(u=(G[0].can_learn?G[0].time_to_learn:"not learnable")+"")&&Y(c,u),(!D||z&1)&&v!==(v=((ie=G[0].default_time_multiplier)!=null?ie:2)+"")&&Y(E,v),(!D||z&1)&&C!==(C=((W=G[0].default_fail_multiplier)!=null?W:2)+"")&&Y(R,C),G[0].required_proficiencies?J?(J.p(G,z),z&1&&b(J,1)):(J=bc(G),J.c(),b(J,1),J.m(f,null)):J&&(Q(),k(J,1,1,()=>{J=null}),x()),(!D||z&1)&&L!==(L=G[0].description+"")&&Y(M,L),G[2].length&&H.p(G,z)},i(G){D||(b(J),b(H),D=!0)},o(G){k(J),k(H),D=!1},d(G){G&&h(e),G&&h(o),G&&h(r),J&&J.d(),G&&h(X),H&&H.d(G),G&&h(A)}}}function Ny(i,e,l){let{item:t}=e;const n=nt("data"),o=[...new Set(n.byType("recipe").filter(r=>{var f;return((f=r.proficiencies)!=null?f:[]).some(a=>a.proficiency===t.id)}).map(r=>r.result))].sort((r,f)=>ge(n.byId("item",r)).localeCompare(ge(n.byId("item",f))));return i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,n,o]}class Oy extends Xe{constructor(e){super(),Ve(this,e,Ny,Ry,We,{item:0})}}function kc(i,e,l){const t=i.slice();return t[14]=e[l].color,t[15]=e[l].string,t}function vc(i){let e,l,t=i[6],n=[];for(let o=0;o<t.length;o+=1)n[o]=yc(kc(i,t,o));return{c(){e=p("section"),l=p("p");for(let o=0;o<n.length;o+=1)n[o].c()},m(o,r){g(o,e,r),d(e,l);for(let f=0;f<n.length;f+=1)n[f].m(l,null)},p(o,r){if(r&192){t=o[6];let f;for(f=0;f<t.length;f+=1){const a=kc(o,t,f);n[f]?n[f].p(a,r):(n[f]=yc(a),n[f].c(),n[f].m(l,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}},d(o){o&&h(e),se(n,o)}}}function yc(i){let e,l=i[15]+"",t;return{c(){e=p("span"),t=y(l),Qe(e,"color","var(--cata-color-"+i[7](i[14])+")")},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function By(i){let e,l,t,n,o;return n=new at({props:{items:i[1].sort(i[8]),$$slots:{default:[Ay,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Items",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Ay(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function My(i){let e,l,t,n,o;return n=new at({props:{items:i[2].sort(i[9]),$$slots:{default:[Dy,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Vehicle Parts",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Dy(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"vehicle_part",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Ly(i){let e,l,t,n,o;return n=new at({props:{items:i[4].sort(i[10]),$$slots:{default:[Gy,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Terrain",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Gy(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"terrain",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Uy(i){let e,l,t,n,o;return n=new at({props:{items:i[3].sort(i[11]),$$slots:{default:[qy,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Furniture",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function qy(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"furniture",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Py(i){let e,l,t,n,o;return n=new at({props:{items:i[5].sort(i[12]),$$slots:{default:[Fy,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Bionics",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Fy(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"bionic",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function Yy(i){let e,l,t=i[0].id+"",n,o,r,f,a,s,u,c,m,$=i[0].info&&vc(i),v=i[1].length&&By(i),E=i[2].length&&My(i),T=i[4].length&&Ly(i),w=i[3].length&&Uy(i),S=i[5].length&&Py(i);return{c(){e=p("h1"),l=y("Flag: "),n=y(t),o=I(),$&&$.c(),r=I(),v&&v.c(),f=I(),E&&E.c(),a=I(),T&&T.c(),s=I(),w&&w.c(),u=I(),S&&S.c(),c=le()},m(C,R){g(C,e,R),d(e,l),d(e,n),g(C,o,R),$&&$.m(C,R),g(C,r,R),v&&v.m(C,R),g(C,f,R),E&&E.m(C,R),g(C,a,R),T&&T.m(C,R),g(C,s,R),w&&w.m(C,R),g(C,u,R),S&&S.m(C,R),g(C,c,R),m=!0},p(C,[R]){(!m||R&1)&&t!==(t=C[0].id+"")&&Y(n,t),C[0].info?$?$.p(C,R):($=vc(C),$.c(),$.m(r.parentNode,r)):$&&($.d(1),$=null),C[1].length&&v.p(C,R),C[2].length&&E.p(C,R),C[4].length&&T.p(C,R),C[3].length&&w.p(C,R),C[5].length&&S.p(C,R)},i(C){m||(b(v),b(E),b(T),b(w),b(S),m=!0)},o(C){k(v),k(E),k(T),k(w),k(S),m=!1},d(C){C&&h(e),C&&h(o),$&&$.d(C),C&&h(r),v&&v.d(C),C&&h(f),E&&E.d(C),C&&h(a),T&&T.d(C),C&&h(s),w&&w.d(C),C&&h(u),S&&S.d(C),C&&h(c)}}}function jy(i){let e=["gray"];const l=[];let t=i;for(;;){const n=t.match(/<\/?(info|good|bad|color|color_[^>]+)>/);if(n)n.index>0&&l.push({string:t.substring(0,n.index),color:e[0]}),n[0][1]==="/"&&e.length>1?e.shift():e.unshift(n[1]),t=t.substring(n.index+n[0].length);else break}return t.length&&l.push({string:t,color:e[0]}),l}function Hy(i,e,l){var w;let{item:t}=e,n=nt("data");const o=n.byType("item").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),r=n.byType("vehicle_part").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),f=n.byType("furniture").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),a=n.byType("terrain").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),s=n.byType("bionic").filter(S=>{var C,R,B;return S.id&&(((C=S.flags)==null?void 0:C.includes(t.id))||((R=S.active_flags)==null?void 0:R.includes(t.id))||((B=S.inactive_flags)==null?void 0:B.includes(t.id)))}),u=jy((w=t.info)!=null?w:""),c=S=>{if(S==="info")return"cyan";if(S==="good")return"green";if(S==="bad")return"red";const C=/^color_(.+)$/.exec(S);return C?C[1]:"gray"},m=(S,C)=>ge(S).localeCompare(ge(C)),$=(S,C)=>ge(S).localeCompare(ge(C)),v=(S,C)=>ge(S).localeCompare(ge(C)),E=(S,C)=>ge(S).localeCompare(ge(C)),T=(S,C)=>ge(S).localeCompare(ge(C));return i.$$set=S=>{"item"in S&&l(0,t=S.item)},[t,o,r,f,a,s,u,c,m,$,v,E,T]}class Wy extends Xe{constructor(e){super(),Ve(this,e,Hy,Yy,We,{item:0})}}function wc(i,e,l){const t=i.slice();return t[5]=e[l].tools,t[6]=e[l].components,t[7]=e[l].qualities,t[8]=e[l].mending_method,t}function Ec(i,e,l){const t=i.slice();return t[11]=e[l],t}function Tc(i,e,l){const t=i.slice();return t[14]=e[l].id,t[15]=e[l].count,t[17]=l,t}function Sc(i,e,l){const t=i.slice();return t[18]=e[l],t}function Cc(i,e,l){const t=i.slice();return t[21]=e[l],t[17]=l,t}function Ic(i,e,l){const t=i.slice();return t[23]=e[l],t}function Rc(i,e,l){const t=i.slice();return t[26]=e[l],t[17]=l,t}function Nc(i,e,l){const t=i.slice();return t[14]=e[l].id,t[28]=e[l].level,t[17]=l,t}function Oc(i,e,l){const t=i.slice();return t[30]=e[l],t}function Bc(i){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function Ac(i){let e,l,t=i[30]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=y(t),fe(l,"title",o=i[3][i[30]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[30]+"")&&Y(n,t),f[0]&1&&o!==(o=r[3][r[30]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function zy(i){let e;return{c(){e=p("h2"),e.textContent="Mending Methods"},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Mc(i){let e;return{c(){e=y("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Vy(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Xy(i){let e=" and ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Dc(i){let e,l,t=i[28]+"",n,o,r,f;e=new re({props:{type:"skill",id:i[14]}});function a(c,m){if(c[17]===c[8].skills.length-2)return Xy;if(c[17]!==c[8].skills.length-1)return Vy}let s=a(i),u=s&&s(i);return{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")"),u&&u.c(),r=le()},m(c,m){U(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p:ee,i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){q(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function Jy(i){var $;let e,l,t,n,o,r,f=($=i[7])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=Gc(Ic(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[5],c=[];for(let v=0;v<u.length;v+=1)c[v]=qc(Sc(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=p("dt"),e.textContent="Tools Required",l=p("dd"),t=p("ul");for(let v=0;v<a.length;v+=1)a[v].c();n=I();for(let v=0;v<c.length;v+=1)c[v].c();o=I()},m(v,E){g(v,e,E),g(v,l,E),d(l,t);for(let T=0;T<a.length;T+=1)a[T].m(t,null);d(t,n);for(let T=0;T<c.length;T+=1)c[T].m(t,null);d(l,o),r=!0},p(v,E){var T;if(E[0]&4){f=(T=v[7])!=null?T:[];let w;for(w=0;w<f.length;w+=1){const S=Ic(v,f,w);a[w]?(a[w].p(S,E),b(a[w],1)):(a[w]=Gc(S),a[w].c(),b(a[w],1),a[w].m(t,n))}for(Q(),w=f.length;w<a.length;w+=1)s(w);x()}if(E[0]&6){u=v[5];let w;for(w=0;w<u.length;w+=1){const S=Sc(v,u,w);c[w]?(c[w].p(S,E),b(c[w],1)):(c[w]=qc(S),c[w].c(),b(c[w],1),c[w].m(t,null))}for(Q(),w=u.length;w<c.length;w+=1)m(w);x()}},i(v){if(!r){for(let E=0;E<f.length;E+=1)b(a[E]);for(let E=0;E<u.length;E+=1)b(c[E]);r=!0}},o(v){a=a.filter(Boolean);for(let E=0;E<a.length;E+=1)k(a[E]);c=c.filter(Boolean);for(let E=0;E<c.length;E+=1)k(c[E]);r=!1},d(v){v&&h(e),v&&h(l),se(a,v),se(c,v)}}}function Ky(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Lc(i){var w,S;let e,l=((w=i[26].amount)!=null?w:1)+"",t,n,o=((S=i[26].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[26].level+"",c,m,$="",v,E,T=i[17]!==0&&Ky();return a=new re({props:{type:"tool_quality",id:i[26].id}}),{c(){T&&T.c(),e=I(),t=y(l),n=y(" tool"),r=y(o),f=y(`
                  with `),P(a.$$.fragment),s=y(" of "),c=y(u),m=y(`
                  or more`),v=y($)},m(C,R){T&&T.m(C,R),g(C,e,R),g(C,t,R),g(C,n,R),g(C,r,R),g(C,f,R),U(a,C,R),g(C,s,R),g(C,c,R),g(C,m,R),g(C,v,R),E=!0},p:ee,i(C){E||(b(a.$$.fragment,C),E=!0)},o(C){k(a.$$.fragment,C),E=!1},d(C){T&&T.d(C),C&&h(e),C&&h(t),C&&h(n),C&&h(r),C&&h(f),q(a,C),C&&h(s),C&&h(c),C&&h(m),C&&h(v)}}}function Gc(i){let e,l,t,n=i[23],o=[];for(let f=0;f<n.length;f+=1)o[f]=Lc(Rc(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=y(".")},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a[0]&4){n=f[23];let s;for(s=0;s<n.length;s+=1){const u=Rc(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Lc(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function Zy(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Qy(i){let e,l;return e=new re({props:{type:"item",id:i[21].id}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p:ee,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function xy(i){let e,l=ge(i[1].byId("item",i[21].id))+"",t;return{c(){e=p("a"),t=y(l),fe(e,"href","#/furniture/"+i[1].craftingPseudoItem(i[21].id))},m(n,o){g(n,e,o),d(e,t)},p:ee,i:ee,o:ee,d(n){n&&h(e)}}}function ew(i){let e,l=i[21].count+"",t,n,o,r=i[21].count!==1&&tw();return{c(){e=y("("),t=y(l),n=y(" charge"),r&&r.c(),o=y(")")},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:ee,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function tw(i){let e;return{c(){e=y("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Uc(i){let e,l,t,n,o,r,f=i[17]!==0&&Zy();const a=[xy,Qy],s=[];function u(m,$){return m[1].craftingPseudoItem(m[21].id)?0:1}l=u(i),t=s[l]=a[l](i);let c=i[21].count>0&&ew(i);return{c(){f&&f.c(),e=I(),t.c(),n=I(),c&&c.c(),o=le()},m(m,$){f&&f.m(m,$),g(m,e,$),s[l].m(m,$),g(m,n,$),c&&c.m(m,$),g(m,o,$),r=!0},p(m,$){t.p(m,$),m[21].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&h(e),s[l].d(m),m&&h(n),c&&c.d(m),m&&h(o)}}}function qc(i){let e,l,t,n=i[18],o=[];for(let f=0;f<n.length;f+=1)o[f]=Uc(Cc(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a[0]&6){n=f[18];let s;for(s=0;s<n.length;s+=1){const u=Cc(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Uc(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function lw(i){let e,l,t,n,o,r=i[6],f=[];for(let s=0;s<r.length;s+=1)f[s]=Fc(Ec(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Components",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&6){r=s[6];let c;for(c=0;c<r.length;c+=1){const m=Ec(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Fc(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function nw(i){let e=" OR ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Pc(i){let e,l,t,n=i[17]!==0&&nw();return l=new re({props:{id:i[14],count:i[15],type:"item"}}),{c(){n&&n.c(),e=I(),P(l.$$.fragment)},m(o,r){n&&n.m(o,r),g(o,e,r),U(l,o,r),t=!0},p:ee,i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){k(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&h(e),q(l,o)}}}function Fc(i){let e,l,t,n=i[11].map(i[4]),o=[];for(let f=0;f<n.length;f+=1)o[f]=Pc(Tc(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a[0]&6){n=f[11].map(f[4]);let s;for(s=0;s<n.length;s+=1){const u=Tc(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Pc(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function iw(i){let e,l,t,n;return t=new re({props:{type:"fault",id:i[8].turns_into}}),{c(){e=p("dt"),e.textContent="Turns Into",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p:ee,i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function Yc(i){let e,l,t=ge(i[8])+"",n,o,r,f,a,s,u,c,m=i[8].time+"",$,v,E,T,w,S=i[8].skills,C=[];for(let M=0;M<S.length;M+=1)C[M]=Dc(Nc(i,S,M));const R=M=>k(C[M],1,1,()=>{C[M]=null});let B=null;S.length||(B=Mc());let O=(i[7].length||i[5].length)&&Jy(i),N=i[6].length&&lw(i),L=i[8].turns_into&&iw(i);return{c(){e=p("section"),l=p("h1"),n=y(t),o=I(),r=p("dl"),f=p("dt"),f.textContent="Skills Used",a=p("dd");for(let M=0;M<C.length;M+=1)C[M].c();B&&B.c(),s=I(),u=p("dt"),u.textContent="Time to Complete",c=p("dd"),$=y(m),O&&O.c(),v=le(),N&&N.c(),E=le(),L&&L.c(),T=I()},m(M,X){g(M,e,X),d(e,l),d(l,n),d(e,o),d(e,r),d(r,f),d(r,a);for(let A=0;A<C.length;A+=1)C[A].m(a,null);B&&B.m(a,null),d(a,s),d(r,u),d(r,c),d(c,$),O&&O.m(r,null),d(r,v),N&&N.m(r,null),d(r,E),L&&L.m(r,null),d(e,T),w=!0},p(M,X){if(X[0]&4){S=M[8].skills;let A;for(A=0;A<S.length;A+=1){const D=Nc(M,S,A);C[A]?(C[A].p(D,X),b(C[A],1)):(C[A]=Dc(D),C[A].c(),b(C[A],1),C[A].m(a,s))}for(Q(),A=S.length;A<C.length;A+=1)R(A);x(),S.length?B&&(B.d(1),B=null):B||(B=Mc(),B.c(),B.m(a,s))}(M[7].length||M[5].length)&&O.p(M,X),M[6].length&&N.p(M,X),M[8].turns_into&&L.p(M,X)},i(M){if(!w){for(let X=0;X<S.length;X+=1)b(C[X]);b(O),b(N),b(L),w=!0}},o(M){C=C.filter(Boolean);for(let X=0;X<C.length;X+=1)k(C[X]);k(O),k(N),k(L),w=!1},d(M){M&&h(e),se(C,M),B&&B.d(),O&&O.d(),N&&N.d(),L&&L.d()}}}function rw(i){var X;let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u,c,m,$=i[0].description+"",v,E,T,w,S,C=(X=i[0].flags)!=null?X:[],R=[];for(let A=0;A<C.length;A+=1)R[A]=Ac(Oc(i,C,A));let B=null;C.length||(B=Bc());let O=i[2].length&&zy(),N=i[2],L=[];for(let A=0;A<N.length;A+=1)L[A]=Yc(wc(i,N,A));const M=A=>k(L[A],1,1,()=>{L[A]=null});return{c(){e=p("h1"),l=y("Fault: "),n=y(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Flags",s=p("dd"),u=p("ul");for(let A=0;A<R.length;A+=1)R[A].c();B&&B.c(),c=I(),m=p("p"),v=y($),E=I(),O&&O.c(),T=I();for(let A=0;A<L.length;A+=1)L[A].c();w=le(),fe(u,"class","comma-separated"),Qe(m,"color","var(--cata-color-gray)")},m(A,D){g(A,e,D),d(e,l),d(e,n),g(A,o,D),g(A,r,D),d(r,f),d(f,a),d(f,s),d(s,u);for(let J=0;J<R.length;J+=1)R[J].m(u,null);B&&B.m(u,null),d(r,c),d(r,m),d(m,v),g(A,E,D),O&&O.m(A,D),g(A,T,D);for(let J=0;J<L.length;J+=1)L[J].m(A,D);g(A,w,D),S=!0},p(A,D){var J;if((!S||D[0]&1)&&t!==(t=ge(A[0])+"")&&Y(n,t),D[0]&9){C=(J=A[0].flags)!=null?J:[];let H;for(H=0;H<C.length;H+=1){const F=Oc(A,C,H);R[H]?R[H].p(F,D):(R[H]=Ac(F),R[H].c(),R[H].m(u,null))}for(;H<R.length;H+=1)R[H].d(1);R.length=C.length,!C.length&&B?B.p(A,D):C.length?B&&(B.d(1),B=null):(B=Bc(),B.c(),B.m(u,null))}if((!S||D[0]&1)&&$!==($=A[0].description+"")&&Y(v,$),D[0]&6){N=A[2];let H;for(H=0;H<N.length;H+=1){const F=wc(A,N,H);L[H]?(L[H].p(F,D),b(L[H],1)):(L[H]=Yc(F),L[H].c(),b(L[H],1),L[H].m(w.parentNode,w))}for(Q(),H=N.length;H<L.length;H+=1)M(H);x()}},i(A){if(!S){for(let D=0;D<N.length;D+=1)b(L[D]);S=!0}},o(A){L=L.filter(Boolean);for(let D=0;D<L.length;D+=1)k(L[D]);S=!1},d(A){A&&h(e),A&&h(o),A&&h(r),se(R,A),B&&B.d(),A&&h(E),O&&O.d(A),A&&h(T),se(L,A),A&&h(w)}}}function ow(i,e,l){var a;const t=nt("data");let{item:n}=e;const o=((a=n.mending_methods)!=null?a:[]).map(s=>{var v,E,T;const u=typeof s.requirements=="string"?t.byId("requirement",s.requirements):s.requirements,c=t.flattenRequirement((v=u.tools)!=null?v:[],w=>w.tools,{expandSubstitutes:!0}),m=t.flattenRequirement((E=u.components)!=null?E:[],w=>w.components),$=kr((T=u.qualities)!=null?T:[]);return{mending_method:s,tools:c,components:m,qualities:$}}),r={NO_ALTERNATOR_CHARGE:"The alternator connected to this engine does not work.",BAD_COLD_START:"The engine starts as if the temperature was 20 F colder. Does not stack with multiples of itself.",IMMOBILIZER:"Prevents engine from starting and makes it beep.",BAD_FUEL_PUMP:"Prevents engine from starting and makes it stutter.",BAD_STARTER:"Prevents engine from starting and makes click noise.",DOUBLE_FUEL_CONSUMPTION:"Doubles fuel consumption of the engine. Does not stack with multiples of itself.",EXTRA_EXHAUST:"Makes the engine emit more exhaust smoke. Does not stack with multiples of itself.",REDUCE_ENG_POWER:"Multiplies engine power by 0.6. Does not stack with multiples of itself.",ENG_BACKFIRE:"Causes the engine to backfire as if it had zero hp.",BLACKPOWDER_FOULING_DAMAGE:"Causes the gun to take random acid damage over time.",NO_DIRTYING:"Prevents the gun from receiving `fault_gun_dirt` fault.",JAMMED_GUN:"Stops burst fire. Adds delay on next shot.",UNLUBRICATED:"Randomly causes screeching noise when firing and applies damage when that happens.",BAD_CYCLING:"One in 16 chance that the gun fails to cycle when fired resulting in `fault_gun_chamber_spent` fault."},f=s=>({...s,item:t.byId("item",s.id)});return i.$$set=s=>{"item"in s&&l(0,n=s.item)},[n,t,o,r,f]}class fw extends Xe{constructor(e){super(),Ve(this,e,ow,rw,We,{item:0},null,[-1,-1])}}function jc(i,e,l){const t=i.slice();return t[5]=e[l],t}function Hc(i,e,l){const t=i.slice();return t[5]=e[l],t}function Wc(i){let e,l,t,n,o=i[2],r=[];for(let f=0;f<o.length;f+=1)r[f]=zc(Hc(i,o,f));return{c(){e=p("dt"),e.textContent="Excess",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a&4){o=f[2];let s;for(s=0;s<o.length;s+=1){const u=Hc(f,o,s);r[s]?r[s].p(u,a):(r[s]=zc(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),se(r,f)}}}function zc(i){let e,l=Ft(i[5])+"",t;return{c(){e=p("li"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function Vc(i){let e,l,t,n,o=i[3],r=[];for(let f=0;f<o.length;f+=1)r[f]=Xc(jc(i,o,f));return{c(){e=p("dt"),e.textContent="Deficiency",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a&8){o=f[3];let s;for(s=0;s<o.length;s+=1){const u=jc(f,o,s);r[s]?r[s].p(u,a):(r[s]=Xc(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),se(r,f)}}}function Xc(i){let e,l=Ft(i[5])+"",t;return{c(){e=p("li"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function sw(i){let e,l,t=i[0].pct+"",n,o,r;return e=new re({props:{id:i[0].comestible.id,type:"item"}}),{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y("% RDA)")},m(f,a){U(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){const s={};a&1&&(s.id=f[0].comestible.id),e.$set(s),(!r||a&1)&&t!==(t=f[0].pct+"")&&Y(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){q(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function aw(i){var G,z,ie;let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u=i[0].vit_type+"",c,m,$,v,E=((G=i[0].min)!=null?G:0)+"",T,w,S,C=((z=i[0].max)!=null?z:0)+"",R,B,O,N=((ie=i[0].rate)!=null?ie:"0 m")+"",L,M,X,A,D,J,H,F=i[0].excess&&Wc(i),j=i[0].deficiency&&Vc(i);return J=new at({props:{items:i[1],$$slots:{default:[sw,({item:W})=>({0:W}),({item:W})=>W?1:0]},$$scope:{ctx:i}}}),{c(){e=p("h1"),l=y("Vitamin: "),n=y(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Type",s=p("dd"),c=y(u),F&&F.c(),m=le(),j&&j.c(),$=p("dt"),$.textContent="Min",v=p("dd"),T=y(E),w=p("dt"),w.textContent="Max",S=p("dd"),R=y(C),B=p("dt"),B.textContent="Rate",O=p("dd"),L=y(N),M=I(),X=p("section"),A=p("h1"),A.textContent="Comestibles",D=I(),P(J.$$.fragment)},m(W,K){g(W,e,K),d(e,l),d(e,n),g(W,o,K),g(W,r,K),d(r,f),d(f,a),d(f,s),d(s,c),F&&F.m(f,null),d(f,m),j&&j.m(f,null),d(f,$),d(f,v),d(v,T),d(f,w),d(f,S),d(S,R),d(f,B),d(f,O),d(O,L),g(W,M,K),g(W,X,K),d(X,A),d(X,D),U(J,X,null),H=!0},p(W,[K]){var ae,V,ne;(!H||K&1)&&t!==(t=ge(W[0])+"")&&Y(n,t),(!H||K&1)&&u!==(u=W[0].vit_type+"")&&Y(c,u),W[0].excess?F?F.p(W,K):(F=Wc(W),F.c(),F.m(f,m)):F&&(F.d(1),F=null),W[0].deficiency?j?j.p(W,K):(j=Vc(W),j.c(),j.m(f,$)):j&&(j.d(1),j=null),(!H||K&1)&&E!==(E=((ae=W[0].min)!=null?ae:0)+"")&&Y(T,E),(!H||K&1)&&C!==(C=((V=W[0].max)!=null?V:0)+"")&&Y(R,C),(!H||K&1)&&N!==(N=((ne=W[0].rate)!=null?ne:"0 m")+"")&&Y(L,N);const Z={};K&1025&&(Z.$$scope={dirty:K,ctx:W}),J.$set(Z)},i(W){H||(b(J.$$.fragment,W),H=!0)},o(W){k(J.$$.fragment,W),H=!1},d(W){W&&h(e),W&&h(o),W&&h(r),F&&F.d(),j&&j.d(),W&&h(M),W&&h(X),q(J)}}}function uw(i,e,l){var a,s;let{item:t}=e;const n=nt("data"),o=n.byType("item").filter(u=>{var c;return u.type==="COMESTIBLE"&&u.id&&((c=u.vitamins)!=null?c:[]).some(m=>m[0]===t.id)}).map(u=>{const c=u;return{comestible:c,pct:c.vitamins.find(m=>m[0]===t.id)[1]}});o.sort((u,c)=>c.pct-u.pct);const r=t.excess?(a=n.byId("effect_type",t.excess).name)!=null?a:[]:[],f=t.deficiency?(s=n.byId("effect_type",t.deficiency).name)!=null?s:[]:[];return i.$$set=u=>{"item"in u&&l(0,t=u.item)},[t,o,r,f]}class cw extends Xe{constructor(e){super(),Ve(this,e,uw,aw,We,{item:0})}}function Jc(i,e,l){const t=i.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function Kc(i,e,l){const t=i.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function Zc(i,e,l){const t=i.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function Qc(i,e,l){const t=i.slice();return t[11]=e[l],t}function xc(i,e,l){const t=i.slice();return t[14]=e[l].id,t[15]=e[l].count,t[16]=e[l].prob,t}function e_(i,e,l){const t=i.slice();return t[14]=e[l].id,t}function t_(i,e,l){const t=i.slice();return t[21]=e[l][0],t[6]=e[l][1],t}function l_(i){let e,l,t,n;return t=new re({props:{type:"item",id:i[0].fuel_type}}),{c(){e=p("dt"),e.textContent="Charge",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].fuel_type),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function n_(i){let e,l,t=Zl(i[0].size)+"",n;return{c(){e=p("dt"),e.textContent="Capacity",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=Zl(o[0].size)+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function i_(i){let e,l,t=Zl(i[0].folded_volume)+"",n;return{c(){e=p("dt"),e.textContent="Folded Volume",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=Zl(o[0].folded_volume)+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function r_(i){let e,l,t,n,o,r=i[0].qualities,f=[];for(let s=0;s<r.length;s+=1)f[s]=o_(t_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Qualities",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","no-bullets")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].qualities;let c;for(c=0;c<r.length;c+=1){const m=t_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=o_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function o_(i){var u;let e,l,t,n=((u=i[6])!=null?u:1)+"",o,r,f,a,s;return f=new re({props:{type:"tool_quality",id:i[21]}}),{c(){e=p("li"),l=y("Has level "),t=p("strong"),o=y(n),r=I(),P(f.$$.fragment),a=y(` quality.
            `)},m(c,m){g(c,e,m),d(e,l),d(e,t),d(t,o),d(t,r),U(f,t,null),d(e,a),s=!0},p(c,m){var v;(!s||m&1)&&n!==(n=((v=c[6])!=null?v:1)+"")&&Y(o,n);const $={};m&1&&($.id=c[21]),f.$set($)},i(c){s||(b(f.$$.fragment,c),s=!0)},o(c){k(f.$$.fragment,c),s=!1},d(c){c&&h(e),q(f)}}}function f_(i){let e,l,t=i[0].comfort+"",n;return{c(){e=p("dt"),e.textContent="Comfort",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].comfort+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function s_(i){let e,l,t=i[0].floor_bedding_warmth+"",n;return{c(){e=p("dt"),e.textContent="Bedding Warmth",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].floor_bedding_warmth+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function a_(i){let e,l,t=i[0].epower+"",n;return{c(){e=p("dt"),e.textContent="Electric Power",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].epower+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function u_(i){let e,l,t=-i[0].energy_consumption+"",n;return{c(){e=p("dt"),e.textContent="Drain",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=-o[0].energy_consumption+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function c_(i){let e,l,t=i[0].power+"",n,o,r,f=i[0].muscle_power_factor&&__(i);return{c(){e=p("dt"),e.textContent="Power",l=p("dd"),n=y(t),o=I(),f&&f.c(),r=I()},m(a,s){g(a,e,s),g(a,l,s),d(l,n),d(l,o),f&&f.m(l,null),d(l,r)},p(a,s){s&1&&t!==(t=a[0].power+"")&&Y(n,t),a[0].muscle_power_factor?f?f.p(a,s):(f=__(a),f.c(),f.m(l,r)):f&&(f.d(1),f=null)},d(a){a&&h(e),a&&h(l),f&&f.d()}}}function __(i){let e,l=i[0].muscle_power_factor+"",t;return{c(){e=y("+ (str \u2212 8) \xD7 "),t=y(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o&1&&l!==(l=n[0].muscle_power_factor+"")&&Y(t,l)},d(n){n&&h(e),n&&h(t)}}}function d_(i){let e,l=Ui(i[0])+"",t,n,o=i[0].bonus+"",r;return{c(){e=p("dt"),t=y(l),n=p("dd"),r=y(o)},m(f,a){g(f,e,a),d(e,t),g(f,n,a),d(n,r)},p(f,a){a&1&&l!==(l=Ui(f[0])+"")&&Y(t,l),a&1&&o!==(o=f[0].bonus+"")&&Y(r,o)},d(f){f&&h(e),f&&h(n)}}}function m_(i){let e,l,t,n,o,r=i[0].pseudo_tools,f=[];for(let s=0;s<r.length;s+=1)f[s]=p_(e_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Provides",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].pseudo_tools;let c;for(c=0;c<r.length;c+=1){const m=e_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=p_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function p_(i){let e,l;return e=new re({props:{type:"item",id:i[14]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.id=t[14]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function _w(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=h_(xc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Breaks Into",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=xc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=h_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function dw(i){let e,l=$n(i[16])+"",t,n;return{c(){e=y("("),t=y(l),n=y(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:ee,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function h_(i){let e,l,t;l=new re({props:{id:i[14],count:i[15],type:"item"}});let n=i[16]!==1&&dw(i);return{c(){e=p("li"),P(l.$$.fragment),n&&n.c()},m(o,r){g(o,e,r),U(l,e,null),n&&n.m(e,null),t=!0},p(o,r){o[16]!==1&&n.p(o,r)},i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){k(l.$$.fragment,o),t=!1},d(o){o&&h(e),q(l),n&&n.d()}}}function g_(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function b_(i){let e,l,t;return l=new re({props:{type:"json_flag",id:i[11]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[11]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function $_(i){let e;return{c(){e=y("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function mw(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function pw(i){let e=" and ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function k_(i){let e,l,t=i[6]+"",n,o,r,f;e=new re({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.install.skills.length-2)return pw;if(c[8]!==c[0].requirements.install.skills.length-1)return mw}let s=a(i),u=s&&s(i);return{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")"),u&&u.c(),r=le()},m(c,m){U(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&Y(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){q(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function v_(i){let e;return{c(){e=y("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function hw(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function gw(i){let e=" and ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function y_(i){let e,l,t=i[6]+"",n,o,r,f;e=new re({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.removal.skills.length-2)return gw;if(c[8]!==c[0].requirements.removal.skills.length-1)return hw}let s=a(i),u=s&&s(i);return{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")"),u&&u.c(),r=le()},m(c,m){U(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&Y(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){q(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function w_(i){let e,l;return e=new zi({props:{requirement:i[0].requirements.removal}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.requirement=t[0].requirements.removal),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function E_(i){var R,B,O,N,L;let e,l,t,n,o,r,f,a,s,u=((O=(B=(R=i[0].requirements)==null?void 0:R.repair)==null?void 0:B.time)!=null?O:"1 hour")+"",c,m,$,v,E,T=(L=(N=i[0].requirements.repair)==null?void 0:N.skills)!=null?L:[],w=[];for(let M=0;M<T.length;M+=1)w[M]=S_(Jc(i,T,M));const S=M=>k(w[M],1,1,()=>{w[M]=null});let C=null;return T.length||(C=T_()),m=new zi({props:{requirement:i[0].requirements.repair}}),{c(){e=p("section"),l=p("h1"),l.textContent="Repair",t=I(),n=p("dl"),o=p("dt"),o.textContent="Skills Required",r=p("dd");for(let M=0;M<w.length;M+=1)w[M].c();C&&C.c(),f=I(),a=p("dt"),a.textContent="Time",s=p("dd"),c=y(u),P(m.$$.fragment),$=I(),v=p("p"),v.textContent="Repair time and requirements are lower for parts that are less damaged.",fe(a,"title","Time required goes down with better skills"),Qe(v,"color","var(--cata-color-gray)"),Qe(v,"font-style","italic")},m(M,X){g(M,e,X),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r);for(let A=0;A<w.length;A+=1)w[A].m(r,null);C&&C.m(r,null),d(r,f),d(n,a),d(n,s),d(s,c),U(m,n,null),d(e,$),d(e,v),E=!0},p(M,X){var D,J,H,F,j;if(X&1){T=(J=(D=M[0].requirements.repair)==null?void 0:D.skills)!=null?J:[];let G;for(G=0;G<T.length;G+=1){const z=Jc(M,T,G);w[G]?(w[G].p(z,X),b(w[G],1)):(w[G]=S_(z),w[G].c(),b(w[G],1),w[G].m(r,f))}for(Q(),G=T.length;G<w.length;G+=1)S(G);x(),T.length?C&&(C.d(1),C=null):C||(C=T_(),C.c(),C.m(r,f))}(!E||X&1)&&u!==(u=((j=(F=(H=M[0].requirements)==null?void 0:H.repair)==null?void 0:F.time)!=null?j:"1 hour")+"")&&Y(c,u);const A={};X&1&&(A.requirement=M[0].requirements.repair),m.$set(A)},i(M){if(!E){for(let X=0;X<T.length;X+=1)b(w[X]);b(m.$$.fragment,M),E=!0}},o(M){w=w.filter(Boolean);for(let X=0;X<w.length;X+=1)k(w[X]);k(m.$$.fragment,M),E=!1},d(M){M&&h(e),se(w,M),C&&C.d(),q(m)}}}function T_(i){let e;return{c(){e=y("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function bw(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function $w(i){let e=" and ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function S_(i){let e,l,t=i[6]+"",n,o,r,f;e=new re({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.repair.skills.length-2)return $w;if(c[8]!==c[0].requirements.repair.skills.length-1)return bw}let s=a(i),u=s&&s(i);return{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")"),u&&u.c(),r=le()},m(c,m){U(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&Y(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){q(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function kw(i){let e,l,t,n,o;return n=new at({props:{items:i[3],$$slots:{default:[vw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Vehicles",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&16777217&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function vw(i){let e,l;return e=new re({props:{type:"vehicle",id:i[0].id}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.id=t[0].id),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function yw(i){var At,Nt,Mt,Dt,St,Jt,Sl,te,Oe,_l,Hl,Cl,Il,wl,Rl,Nl,Ol,Bl,Al,Ml,Dl,Ll,Gl,Ul,rt,Ht,Kt,ml,Pt;let e,l,t,n=(i[0].name?ge(i[0]):ge(i[1].byId("item",i[0].item)))+"",o,r,f,a,s,u,c,m,$,v,E,T=kn(i[1].byId("item",i[0].item).weight)+"",w,S,C,R=((At=i[0].durability)!=null?At:0)+"",B,O,N,L,M,X,A,D=((Nt=i[0].damage_modifier)!=null?Nt:100)+"",J,H,F,j,G,z=i[0].bonus&&Ui(i[0]),ie,W,K,Z,ae,V,ne,_e=Ft((Mt=i[0].description)!=null?Mt:i[1].byId("item",i[0].item).description)+"",Fe,ke,de,$e,ye,ue,De,Se,be,Te,et,Re,me=((Jt=(St=(Dt=i[0].requirements)==null?void 0:Dt.install)==null?void 0:St.time)!=null?Jt:"1 hour")+"",ve,Ye,Me,Be,Je,ce,Ae,qe,Ie,Ee,Ue,Le,Ke=((Cl=(te=(Sl=i[0].requirements)==null?void 0:Sl.removal)==null?void 0:te.time)!=null?Cl:C_(`${wr((Hl=(_l=(Oe=i[0].requirements)==null?void 0:Oe.install)==null?void 0:_l.time)!=null?Hl:"1 hour")/2} s`))+"",lt,$t,ot,ht,ct,Lt;l=new tt({props:{item:i[0]}}),$=new re({props:{id:i[0].item,type:"item"}});let pt=i[0].fuel_type&&l_(i),It=i[0].size&&n_(i),He=i[0].folded_volume&&i_(i),xe=((Il=i[0].qualities)==null?void 0:Il.length)&&r_(i),we=i[0].comfort&&f_(i),ze=i[0].floor_bedding_warmth&&s_(i),dt=i[0].epower&&a_(i),kt=i[0].energy_consumption&&u_(i),vt=i[0].power&&c_(i),yt=z&&d_(i),ut=((wl=i[0].pseudo_tools)==null?void 0:wl.length)&&m_(i),_t=((Rl=i[2])==null?void 0:Rl.length)&&_w(i),Ot=(Nl=i[0].flags)!=null?Nl:[],it=[];for(let oe=0;oe<Ot.length;oe+=1)it[oe]=b_(Qc(i,Ot,oe));const jl=oe=>k(it[oe],1,1,()=>{it[oe]=null});let gt=null;Ot.length||(gt=g_());let qt=(Al=(Bl=(Ol=i[0].requirements)==null?void 0:Ol.install)==null?void 0:Bl.skills)!=null?Al:[],bt=[];for(let oe=0;oe<qt.length;oe+=1)bt[oe]=k_(Zc(i,qt,oe));const zt=oe=>k(bt[oe],1,1,()=>{bt[oe]=null});let Tt=null;qt.length||(Tt=$_()),Ye=new zi({props:{requirement:{...(Dl=(Ml=i[0].requirements)==null?void 0:Ml.install)!=null?Dl:{},components:((Ul=(Gl=(Ll=i[0].requirements)==null?void 0:Ll.install)==null?void 0:Gl.components)!=null?Ul:[]).concat([[[i[0].item,1]]])}}});let jt=(Kt=(Ht=(rt=i[0].requirements)==null?void 0:rt.removal)==null?void 0:Ht.skills)!=null?Kt:[],Ze=[];for(let oe=0;oe<jt.length;oe+=1)Ze[oe]=y_(Kc(i,jt,oe));const Bt=oe=>k(Ze[oe],1,1,()=>{Ze[oe]=null});let mt=null;jt.length||(mt=v_());let ft=((ml=i[0].requirements)==null?void 0:ml.removal)&&w_(i),st=((Pt=i[0].requirements)==null?void 0:Pt.repair)&&E_(i),wt=i[3].length&&kw(i);return{c(){e=p("h1"),P(l.$$.fragment),t=I(),o=y(n),r=I(),f=p("section"),a=p("h1"),a.textContent="Vehicle Part",s=I(),u=p("dl"),c=p("dt"),c.textContent="Item",m=p("dd"),P($.$$.fragment),v=p("dt"),v.textContent="Weight",E=p("dd"),w=y(T),pt&&pt.c(),S=p("dt"),S.textContent=`Durability
    `,C=p("dd"),B=y(R),It&&It.c(),O=le(),He&&He.c(),N=le(),xe&&xe.c(),L=le(),we&&we.c(),M=le(),ze&&ze.c(),X=p("dt"),X.textContent="Damage",A=p("dd"),J=y(D),H=y("%"),dt&&dt.c(),F=le(),kt&&kt.c(),j=le(),vt&&vt.c(),G=le(),yt&&yt.c(),ie=le(),ut&&ut.c(),W=le(),_t&&_t.c(),K=p("dt"),K.textContent="Flags",Z=p("dd"),ae=p("ul");for(let oe=0;oe<it.length;oe+=1)it[oe].c();gt&&gt.c(),V=I(),ne=p("p"),Fe=y(_e),ke=I(),de=p("div"),$e=p("section"),ye=p("h1"),ye.textContent="Install",ue=I(),De=p("dl"),Se=p("dt"),Se.textContent="Skills Required",be=p("dd");for(let oe=0;oe<bt.length;oe+=1)bt[oe].c();Tt&&Tt.c(),Te=I(),et=p("dt"),et.textContent="Time",Re=p("dd"),ve=y(me),P(Ye.$$.fragment),Me=I(),Be=p("section"),Je=p("h1"),Je.textContent="Remove",ce=I(),Ae=p("dl"),qe=p("dt"),qe.textContent="Skills Required",Ie=p("dd");for(let oe=0;oe<Ze.length;oe+=1)Ze[oe].c();mt&&mt.c(),Ee=I(),Ue=p("dt"),Ue.textContent="Time",Le=p("dd"),lt=y(Ke),$t=I(),ft&&ft.c(),ot=I(),st&&st.c(),ht=I(),wt&&wt.c(),ct=le(),fe(S,"title","Maximum damage part can sustain before being destroyed"),fe(ae,"class","comma-separated"),Qe(ne,"color","var(--cata-color-gray)"),fe(et,"title","Time required goes down with better skills"),fe(Ue,"title","Time required goes down with better skills"),fe(de,"class","side-by-side")},m(oe,Ge){g(oe,e,Ge),U(l,e,null),d(e,t),d(e,o),g(oe,r,Ge),g(oe,f,Ge),d(f,a),d(f,s),d(f,u),d(u,c),d(u,m),U($,m,null),d(u,v),d(u,E),d(E,w),pt&&pt.m(u,null),d(u,S),d(u,C),d(C,B),It&&It.m(u,null),d(u,O),He&&He.m(u,null),d(u,N),xe&&xe.m(u,null),d(u,L),we&&we.m(u,null),d(u,M),ze&&ze.m(u,null),d(u,X),d(u,A),d(A,J),d(A,H),dt&&dt.m(u,null),d(u,F),kt&&kt.m(u,null),d(u,j),vt&&vt.m(u,null),d(u,G),yt&&yt.m(u,null),d(u,ie),ut&&ut.m(u,null),d(u,W),_t&&_t.m(u,null),d(u,K),d(u,Z),d(Z,ae);for(let Et=0;Et<it.length;Et+=1)it[Et].m(ae,null);gt&&gt.m(ae,null),d(f,V),d(f,ne),d(ne,Fe),g(oe,ke,Ge),g(oe,de,Ge),d(de,$e),d($e,ye),d($e,ue),d($e,De),d(De,Se),d(De,be);for(let Et=0;Et<bt.length;Et+=1)bt[Et].m(be,null);Tt&&Tt.m(be,null),d(be,Te),d(De,et),d(De,Re),d(Re,ve),U(Ye,De,null),d(de,Me),d(de,Be),d(Be,Je),d(Be,ce),d(Be,Ae),d(Ae,qe),d(Ae,Ie);for(let Et=0;Et<Ze.length;Et+=1)Ze[Et].m(Ie,null);mt&&mt.m(Ie,null),d(Ie,Ee),d(Ae,Ue),d(Ae,Le),d(Le,lt),d(Le,$t),ft&&ft.m(Ae,null),g(oe,ot,Ge),st&&st.m(oe,Ge),g(oe,ht,Ge),wt&&wt.m(oe,Ge),g(oe,ct,Ge),Lt=!0},p(oe,[Ge]){var xt,el,pl,hl,gl,bl,Nn,On,Bn,An,Mn,Dn,Ln,Gn,Un,qn,Pn,Fn,Yn,jn,Hn,Wn,zn,Vn,Xn,Jn,Kn,Zn,Ce;const Et={};Ge&1&&(Et.item=oe[0]),l.$set(Et),(!Lt||Ge&1)&&n!==(n=(oe[0].name?ge(oe[0]):ge(oe[1].byId("item",oe[0].item)))+"")&&Y(o,n);const Zt={};if(Ge&1&&(Zt.id=oe[0].item),$.$set(Zt),(!Lt||Ge&1)&&T!==(T=kn(oe[1].byId("item",oe[0].item).weight)+"")&&Y(w,T),oe[0].fuel_type?pt?(pt.p(oe,Ge),Ge&1&&b(pt,1)):(pt=l_(oe),pt.c(),b(pt,1),pt.m(u,S)):pt&&(Q(),k(pt,1,1,()=>{pt=null}),x()),(!Lt||Ge&1)&&R!==(R=((xt=oe[0].durability)!=null?xt:0)+"")&&Y(B,R),oe[0].size?It?It.p(oe,Ge):(It=n_(oe),It.c(),It.m(u,O)):It&&(It.d(1),It=null),oe[0].folded_volume?He?He.p(oe,Ge):(He=i_(oe),He.c(),He.m(u,N)):He&&(He.d(1),He=null),(el=oe[0].qualities)!=null&&el.length?xe?(xe.p(oe,Ge),Ge&1&&b(xe,1)):(xe=r_(oe),xe.c(),b(xe,1),xe.m(u,L)):xe&&(Q(),k(xe,1,1,()=>{xe=null}),x()),oe[0].comfort?we?we.p(oe,Ge):(we=f_(oe),we.c(),we.m(u,M)):we&&(we.d(1),we=null),oe[0].floor_bedding_warmth?ze?ze.p(oe,Ge):(ze=s_(oe),ze.c(),ze.m(u,X)):ze&&(ze.d(1),ze=null),(!Lt||Ge&1)&&D!==(D=((pl=oe[0].damage_modifier)!=null?pl:100)+"")&&Y(J,D),oe[0].epower?dt?dt.p(oe,Ge):(dt=a_(oe),dt.c(),dt.m(u,F)):dt&&(dt.d(1),dt=null),oe[0].energy_consumption?kt?kt.p(oe,Ge):(kt=u_(oe),kt.c(),kt.m(u,j)):kt&&(kt.d(1),kt=null),oe[0].power?vt?vt.p(oe,Ge):(vt=c_(oe),vt.c(),vt.m(u,G)):vt&&(vt.d(1),vt=null),Ge&1&&(z=oe[0].bonus&&Ui(oe[0])),z?yt?yt.p(oe,Ge):(yt=d_(oe),yt.c(),yt.m(u,ie)):yt&&(yt.d(1),yt=null),(hl=oe[0].pseudo_tools)!=null&&hl.length?ut?(ut.p(oe,Ge),Ge&1&&b(ut,1)):(ut=m_(oe),ut.c(),b(ut,1),ut.m(u,W)):ut&&(Q(),k(ut,1,1,()=>{ut=null}),x()),(gl=oe[2])!=null&&gl.length&&_t.p(oe,Ge),Ge&1){Ot=(bl=oe[0].flags)!=null?bl:[];let Ne;for(Ne=0;Ne<Ot.length;Ne+=1){const kl=Qc(oe,Ot,Ne);it[Ne]?(it[Ne].p(kl,Ge),b(it[Ne],1)):(it[Ne]=b_(kl),it[Ne].c(),b(it[Ne],1),it[Ne].m(ae,null))}for(Q(),Ne=Ot.length;Ne<it.length;Ne+=1)jl(Ne);x(),!Ot.length&&gt?gt.p(oe,Ge):Ot.length?gt&&(gt.d(1),gt=null):(gt=g_(),gt.c(),gt.m(ae,null))}if((!Lt||Ge&1)&&_e!==(_e=Ft((Nn=oe[0].description)!=null?Nn:oe[1].byId("item",oe[0].item).description)+"")&&Y(Fe,_e),Ge&1){qt=(An=(Bn=(On=oe[0].requirements)==null?void 0:On.install)==null?void 0:Bn.skills)!=null?An:[];let Ne;for(Ne=0;Ne<qt.length;Ne+=1){const kl=Zc(oe,qt,Ne);bt[Ne]?(bt[Ne].p(kl,Ge),b(bt[Ne],1)):(bt[Ne]=k_(kl),bt[Ne].c(),b(bt[Ne],1),bt[Ne].m(be,Te))}for(Q(),Ne=qt.length;Ne<bt.length;Ne+=1)zt(Ne);x(),qt.length?Tt&&(Tt.d(1),Tt=null):Tt||(Tt=$_(),Tt.c(),Tt.m(be,Te))}(!Lt||Ge&1)&&me!==(me=((Ln=(Dn=(Mn=oe[0].requirements)==null?void 0:Mn.install)==null?void 0:Dn.time)!=null?Ln:"1 hour")+"")&&Y(ve,me);const Qt={};if(Ge&1&&(Qt.requirement={...(Un=(Gn=oe[0].requirements)==null?void 0:Gn.install)!=null?Un:{},components:((Fn=(Pn=(qn=oe[0].requirements)==null?void 0:qn.install)==null?void 0:Pn.components)!=null?Fn:[]).concat([[[oe[0].item,1]]])}),Ye.$set(Qt),Ge&1){jt=(Hn=(jn=(Yn=oe[0].requirements)==null?void 0:Yn.removal)==null?void 0:jn.skills)!=null?Hn:[];let Ne;for(Ne=0;Ne<jt.length;Ne+=1){const kl=Kc(oe,jt,Ne);Ze[Ne]?(Ze[Ne].p(kl,Ge),b(Ze[Ne],1)):(Ze[Ne]=y_(kl),Ze[Ne].c(),b(Ze[Ne],1),Ze[Ne].m(Ie,Ee))}for(Q(),Ne=jt.length;Ne<Ze.length;Ne+=1)Bt(Ne);x(),jt.length?mt&&(mt.d(1),mt=null):mt||(mt=v_(),mt.c(),mt.m(Ie,Ee))}(!Lt||Ge&1)&&Ke!==(Ke=((Kn=(zn=(Wn=oe[0].requirements)==null?void 0:Wn.removal)==null?void 0:zn.time)!=null?Kn:C_(`${wr((Jn=(Xn=(Vn=oe[0].requirements)==null?void 0:Vn.install)==null?void 0:Xn.time)!=null?Jn:"1 hour")/2} s`))+"")&&Y(lt,Ke),(Zn=oe[0].requirements)!=null&&Zn.removal?ft?(ft.p(oe,Ge),Ge&1&&b(ft,1)):(ft=w_(oe),ft.c(),b(ft,1),ft.m(Ae,null)):ft&&(Q(),k(ft,1,1,()=>{ft=null}),x()),(Ce=oe[0].requirements)!=null&&Ce.repair?st?(st.p(oe,Ge),Ge&1&&b(st,1)):(st=E_(oe),st.c(),b(st,1),st.m(ht.parentNode,ht)):st&&(Q(),k(st,1,1,()=>{st=null}),x()),oe[3].length&&wt.p(oe,Ge)},i(oe){if(!Lt){b(l.$$.fragment,oe),b($.$$.fragment,oe),b(pt),b(xe),b(ut),b(_t);for(let Ge=0;Ge<Ot.length;Ge+=1)b(it[Ge]);for(let Ge=0;Ge<qt.length;Ge+=1)b(bt[Ge]);b(Ye.$$.fragment,oe);for(let Ge=0;Ge<jt.length;Ge+=1)b(Ze[Ge]);b(ft),b(st),b(wt),Lt=!0}},o(oe){k(l.$$.fragment,oe),k($.$$.fragment,oe),k(pt),k(xe),k(ut),k(_t),it=it.filter(Boolean);for(let Ge=0;Ge<it.length;Ge+=1)k(it[Ge]);bt=bt.filter(Boolean);for(let Ge=0;Ge<bt.length;Ge+=1)k(bt[Ge]);k(Ye.$$.fragment,oe),Ze=Ze.filter(Boolean);for(let Ge=0;Ge<Ze.length;Ge+=1)k(Ze[Ge]);k(ft),k(st),k(wt),Lt=!1},d(oe){oe&&h(e),q(l),oe&&h(r),oe&&h(f),q($),pt&&pt.d(),It&&It.d(),He&&He.d(),xe&&xe.d(),we&&we.d(),ze&&ze.d(),dt&&dt.d(),kt&&kt.d(),vt&&vt.d(),yt&&yt.d(),ut&&ut.d(),_t&&_t.d(),se(it,oe),gt&&gt.d(),oe&&h(ke),oe&&h(de),se(bt,oe),Tt&&Tt.d(),q(Ye),se(Ze,oe),mt&&mt.d(),ft&&ft.d(),oe&&h(ot),st&&st.d(oe),oe&&h(ht),wt&&wt.d(oe),oe&&h(ct)}}}function Ui(i){var t;const e=["LIGHT","CONE_LIGHT","WIDE_CONE_LIGHT","CIRCLE_LIGHT","DOME_LIGHT","AISLE_LIGHT","EVENTURN","ODDTURN","ATOMIC_LIGHT"],l=(t=i.flags)!=null?t:[];if(l.includes("SEATBELT"))return"Strength";if(l.includes("HORN"))return"Noise";if(l.includes("MUFFLER"))return"Noise Reduction";if(l.includes("VISION"))return"Range";if(e.some(n=>l.includes(n)))return"Light";if(l.includes("REAPER"))return"Plant Harvested"}function wr(i){if(typeof i=="number")return i/100;const e=1,l=1,t=60,n=t*60,o=n*24,r=[["turns",1*e],["turn",1*e],["t",1*e],["seconds",1*l],["second",1*l],["s",1*l],["minutes",1*t],["minute",1*t],["m",1*t],["hours",1*n],["hour",1*n],["h",1*n],["days",1*o],["day",1*o],["d",1*o]],[f,a]=i.trim().split(/\s+/),s=r.find(u=>u[0]===a);if(!s)throw new Error(`bad duration: ${JSON.stringify(i)}`);return Number(f)*s[1]}function C_(i){const e=wr(i);return`${Math.round(e/60)} m`}function ww(i,e,l){let{item:t}=e;const n=nt("data"),o=typeof t.breaks_into=="string"?n.byId("item_group",t.breaks_into):Array.isArray(t.breaks_into)?{subtype:"collection",entries:t.breaks_into}:t.breaks_into?t.breaks_into:null,r=o&&n.flattenItemGroup(o),f=n.byType("vehicle").filter(a=>a.parts.some(s=>{var c;return(s.part?[{part:s.part,fuel:s.fuel}]:(c=s.parts)==null?void 0:c.map(m=>typeof m=="string"?{part:m}:m)).some(m=>N1(n,m.part)[0]===t.id)}));return f.sort((a,s)=>ge(a).localeCompare(ge(s))),i.$$set=a=>{"item"in a&&l(0,t=a.item)},[t,n,r,f]}class Ew extends Xe{constructor(e){super(),Ve(this,e,ww,yw,We,{item:0})}}function I_(i,e,l){const t=i.slice();return t[1]=e[l],t}function R_(i,e,l){const t=i.slice();return t[1]=e[l],t}function N_(i){var u,c;let e,l,t,n,o,r=(u=i[0].mult_bonuses)!=null?u:[],f=[];for(let m=0;m<r.length;m+=1)f[m]=A_(R_(i,r,m));let a=(c=i[0].flat_bonuses)!=null?c:[],s=[];for(let m=0;m<a.length;m+=1)s[m]=D_(I_(i,a,m));return{c(){e=p("dt"),e.textContent="Bonus",l=I(),t=p("dd"),n=p("ul");for(let m=0;m<f.length;m+=1)f[m].c();o=I();for(let m=0;m<s.length;m+=1)s[m].c()},m(m,$){g(m,e,$),g(m,l,$),g(m,t,$),d(t,n);for(let v=0;v<f.length;v+=1)f[v].m(n,null);d(n,o);for(let v=0;v<s.length;v+=1)s[v].m(n,null)},p(m,$){var v,E;if($&1){r=(v=m[0].mult_bonuses)!=null?v:[];let T;for(T=0;T<r.length;T+=1){const w=R_(m,r,T);f[T]?f[T].p(w,$):(f[T]=A_(w),f[T].c(),f[T].m(n,o))}for(;T<f.length;T+=1)f[T].d(1);f.length=r.length}if($&1){a=(E=m[0].flat_bonuses)!=null?E:[];let T;for(T=0;T<a.length;T+=1){const w=I_(m,a,T);s[T]?s[T].p(w,$):(s[T]=D_(w),s[T].c(),s[T].m(n,null))}for(;T<s.length;T+=1)s[T].d(1);s.length=a.length}},d(m){m&&h(e),m&&h(l),m&&h(t),se(f,m),se(s,m)}}}function O_(i){let e=i[1].type+"",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},p(t,n){n&1&&e!==(e=t[1].type+"")&&Y(l,e)},d(t){t&&h(l)}}}function B_(i){let e,l=Pi(i[1]["scaling-stat"])+"",t;return{c(){e=y("of "),t=y(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o&1&&l!==(l=Pi(n[1]["scaling-stat"])+"")&&Y(t,l)},d(n){n&&h(e),n&&h(t)}}}function A_(i){let e,l=Fi(i[1].stat),t,n=qi(i[1].stat)+"",o,r,f=(i[1].scale*100).toFixed(0)+"",a,s,u=l&&O_(i),c=i[1]["scaling-stat"]&&B_(i);return{c(){e=p("li"),u&&u.c(),t=I(),o=y(n),r=y(": "),a=y(f),s=y("% "),c&&c.c()},m(m,$){g(m,e,$),u&&u.m(e,null),d(e,t),d(e,o),d(e,r),d(e,a),d(e,s),c&&c.m(e,null)},p(m,$){$&1&&(l=Fi(m[1].stat)),l?u?u.p(m,$):(u=O_(m),u.c(),u.m(e,t)):u&&(u.d(1),u=null),$&1&&n!==(n=qi(m[1].stat)+"")&&Y(o,n),$&1&&f!==(f=(m[1].scale*100).toFixed(0)+"")&&Y(a,f),m[1]["scaling-stat"]?c?c.p(m,$):(c=B_(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(m){m&&h(e),u&&u.d(),c&&c.d()}}}function M_(i){let e=i[1].type+"",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},p(t,n){n&1&&e!==(e=t[1].type+"")&&Y(l,e)},d(t){t&&h(l)}}}function Tw(i){let e=i[1].scale<0?"":"+",l,t=i[1].scale+"",n;return{c(){l=y(e),n=y(t)},m(o,r){g(o,l,r),g(o,n,r)},p(o,r){r&1&&e!==(e=o[1].scale<0?"":"+")&&Y(l,e),r&1&&t!==(t=o[1].scale+"")&&Y(n,t)},d(o){o&&h(l),o&&h(n)}}}function Sw(i){let e=i[1].scale<0?"":"+",l,t=(i[1].scale*100).toFixed(0)+"",n,o,r=Pi(i[1]["scaling-stat"])+"",f;return{c(){l=y(e),n=y(t),o=y("% of "),f=y(r)},m(a,s){g(a,l,s),g(a,n,s),g(a,o,s),g(a,f,s)},p(a,s){s&1&&e!==(e=a[1].scale<0?"":"+")&&Y(l,e),s&1&&t!==(t=(a[1].scale*100).toFixed(0)+"")&&Y(n,t),s&1&&r!==(r=Pi(a[1]["scaling-stat"])+"")&&Y(f,r)},d(a){a&&h(l),a&&h(n),a&&h(o),a&&h(f)}}}function D_(i){let e,l=Fi(i[1].stat),t,n=qi(i[1].stat)+"",o,r,f,a=l&&M_(i);function s(m,$){return m[1]["scaling-stat"]?Sw:Tw}let u=s(i),c=u(i);return{c(){e=p("li"),a&&a.c(),t=I(),o=y(n),r=y(`:
          `),c.c(),f=I()},m(m,$){g(m,e,$),a&&a.m(e,null),d(e,t),d(e,o),d(e,r),c.m(e,null),d(e,f)},p(m,$){$&1&&(l=Fi(m[1].stat)),l?a?a.p(m,$):(a=M_(m),a.c(),a.m(e,t)):a&&(a.d(1),a=null),$&1&&n!==(n=qi(m[1].stat)+"")&&Y(o,n),u===(u=s(m))&&c?c.p(m,$):(c.d(1),c=u(m),c&&(c.c(),c.m(e,f)))},d(m){m&&h(e),a&&a.d(),c.d()}}}function Cw(i){let e,l=(i[0].mult_bonuses||i[0].flat_bonuses)&&N_(i);return{c(){l&&l.c(),e=le()},m(t,n){l&&l.m(t,n),g(t,e,n)},p(t,[n]){t[0].mult_bonuses||t[0].flat_bonuses?l?l.p(t,n):(l=N_(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ee,o:ee,d(t){l&&l.d(t),t&&h(e)}}}function qi(i){switch(i){case"hit":return"Accuracy";case"crit_chance":return"Critical Hit Chance";case"dodge":return"Dodge";case"block":return"Block";case"block_effectiveness":return"Block effectiveness";case"speed":return"Speed";case"movecost":return"Move cost";case"damage":return"damage";case"armor":return"Armor";case"arpen":return"Armor penetration";case"target_armor_multiplier":return"Target armor multiplier";default:return""}}function Pi(i){switch(i){case"str":return"strength";case"dex":return"dexterity";case"int":return"intelligence";case"per":return"perception";default:return""}}function Fi(i){return i==="damage"||i==="armor"||i==="arpen"}function Iw(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class P1 extends Xe{constructor(e){super(),Ve(this,e,Iw,Cw,We,{item:0})}}function L_(i,e,l){const t=i.slice();return t[3]=e[l],t}function G_(i,e,l){const t=i.slice();return t[6]=e[l].name,t[7]=e[l].level,t[9]=l,t}function U_(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function Rw(i){let e=", ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Nw(i){let e=" and ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function q_(i){let e,l,t=i[7]+"",n,o,r,f;e=new re({props:{type:"skill",id:i[6]}});function a(c,m){if(c[9]===c[0].skill_requirements.length-2)return Nw;if(c[9]!==c[0].skill_requirements.length-1)return Rw}let s=a(i),u=s&&s(i);return{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")"),u&&u.c(),r=le()},m(c,m){U(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[6]),e.$set($),(!f||m&1)&&t!==(t=c[7]+"")&&Y(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){q(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function Ow(i){let e,l,t,n,o=i[2],r=[];for(let f=0;f<o.length;f+=1)r[f]=P_(L_(i,o,f));return{c(){e=p("dt"),e.textContent="Required Buffs",l=I(),t=p("dd"),n=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();fe(n,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),g(f,t,a),d(t,n);for(let s=0;s<r.length;s+=1)r[s].m(n,null)},p(f,a){if(a&6){o=f[2];let s;for(s=0;s<o.length;s+=1){const u=L_(f,o,s);r[s]?r[s].p(u,a):(r[s]=P_(u),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),f&&h(t),se(r,f)}}}function Bw(i){let e,l=i[3]+"",t;return{c(){e=p("li"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function Aw(i){let e,l=ge(i[1].get(i[3]))+"",t;return{c(){e=p("li"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&2&&l!==(l=ge(n[1].get(n[3]))+"")&&Y(t,l)},d(n){n&&h(e)}}}function P_(i){let e,l;function t(r,f){return f&2&&(e=null),e==null&&(e=!!r[1].has(r[3])),e?Aw:Bw}let n=t(i,-1),o=n(i);return{c(){o.c(),l=le()},m(r,f){o.m(r,f),g(r,l,f)},p(r,f){n===(n=t(r,f))&&o?o.p(r,f):(o.d(1),o=n(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){o.d(r),r&&h(l)}}}function F_(i){let e,l,t;return{c(){e=p("dt"),e.textContent="Requires Adjacent Wall",l=I(),t=p("dd"),t.textContent="Yes"},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function Mw(i){var F,j;let e,l,t,n,o,r,f,a,s,u=i[0].melee_allowed?"Yes":"No",c,m,$,v,E,T=i[0].unarmed_allowed?"Yes":"No",w,S,C,R,B,O=(F=i[0].unarmed_weapons_allowed)==null||F?"Yes":"No",N,L,M=(j=i[0].skill_requirements)!=null?j:[],X=[];for(let G=0;G<M.length;G+=1)X[G]=q_(G_(i,M,G));const A=G=>k(X[G],1,1,()=>{X[G]=null});let D=null;M.length||(D=U_());let J=i[2].length&&Ow(i),H=i[0].wall_adjacent&&F_();return{c(){e=p("dt"),e.textContent="Required Skills",l=I(),t=p("dd");for(let G=0;G<X.length;G+=1)X[G].c();D&&D.c(),n=I(),J&&J.c(),o=I(),H&&H.c(),r=I(),f=p("dt"),f.textContent="Melee Weapon Allowed",a=I(),s=p("dd"),c=y(u),m=I(),$=p("dt"),$.textContent="Unarmed Allowed",v=I(),E=p("dd"),w=y(T),S=I(),C=p("dt"),C.textContent="Unarmed Weapon Allowed",R=I(),B=p("dd"),N=y(O)},m(G,z){g(G,e,z),g(G,l,z),g(G,t,z);for(let ie=0;ie<X.length;ie+=1)X[ie].m(t,null);D&&D.m(t,null),g(G,n,z),J&&J.m(G,z),g(G,o,z),H&&H.m(G,z),g(G,r,z),g(G,f,z),g(G,a,z),g(G,s,z),d(s,c),g(G,m,z),g(G,$,z),g(G,v,z),g(G,E,z),d(E,w),g(G,S,z),g(G,C,z),g(G,R,z),g(G,B,z),d(B,N),L=!0},p(G,[z]){var ie,W;if(z&1){M=(ie=G[0].skill_requirements)!=null?ie:[];let K;for(K=0;K<M.length;K+=1){const Z=G_(G,M,K);X[K]?(X[K].p(Z,z),b(X[K],1)):(X[K]=q_(Z),X[K].c(),b(X[K],1),X[K].m(t,null))}for(Q(),K=M.length;K<X.length;K+=1)A(K);x(),!M.length&&D?D.p(G,z):M.length?D&&(D.d(1),D=null):(D=U_(),D.c(),D.m(t,null))}G[2].length&&J.p(G,z),G[0].wall_adjacent?H||(H=F_(),H.c(),H.m(r.parentNode,r)):H&&(H.d(1),H=null),(!L||z&1)&&u!==(u=G[0].melee_allowed?"Yes":"No")&&Y(c,u),(!L||z&1)&&T!==(T=G[0].unarmed_allowed?"Yes":"No")&&Y(w,T),(!L||z&1)&&O!==(O=(W=G[0].unarmed_weapons_allowed)==null||W?"Yes":"No")&&Y(N,O)},i(G){if(!L){for(let z=0;z<M.length;z+=1)b(X[z]);L=!0}},o(G){X=X.filter(Boolean);for(let z=0;z<X.length;z+=1)k(X[z]);L=!1},d(G){G&&h(e),G&&h(l),G&&h(t),se(X,G),D&&D.d(),G&&h(n),J&&J.d(G),G&&h(o),H&&H.d(G),G&&h(r),G&&h(f),G&&h(a),G&&h(s),G&&h(m),G&&h($),G&&h(v),G&&h(E),G&&h(S),G&&h(C),G&&h(R),G&&h(B)}}}function Dw(i,e,l){var r;let{item:t}=e,{buffMap:n=new Map}=e;const o=typeof t.req_buffs=="string"?[t.req_buffs]:(r=t.req_buffs)!=null?r:[];return i.$$set=f=>{"item"in f&&l(0,t=f.item),"buffMap"in f&&l(1,n=f.buffMap)},[t,n,o]}class F1 extends Xe{constructor(e){super(),Ve(this,e,Dw,Mw,We,{item:0,buffMap:1})}}function Y_(i){let e,l,t;function n(f,a){if(f[1].weighting>1)return Gw;if(f[1].weighting<-1)return Lw}let o=n(i),r=o&&o(i);return{c(){e=p("dt"),e.textContent="Chance to Activate",l=p("dd"),r&&r.c(),t=I()},m(f,a){g(f,e,a),g(f,l,a),r&&r.m(l,null),d(l,t)},p(f,a){o===(o=n(f))&&r?r.p(f,a):(r&&r.d(1),r=o&&o(f),r&&(r.c(),r.m(l,t)))},d(f){f&&h(e),f&&h(l),r&&r.d()}}}function Lw(i){let e,l=Math.abs(i[1].weighting)+"",t;return{c(){e=y("1/"),t=y(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o&2&&l!==(l=Math.abs(n[1].weighting)+"")&&Y(t,l)},d(n){n&&h(e),n&&h(t)}}}function Gw(i){let e,l=((i[1].weighting-1)*100).toFixed(0)+"",t,n;return{c(){e=y("+"),t=y(l),n=y("%")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p(o,r){r&2&&l!==(l=((o[1].weighting-1)*100).toFixed(0)+"")&&Y(t,l)},d(o){o&&h(e),o&&h(t),o&&h(n)}}}function Uw(i){let e,l;return{c(){e=p("dt"),e.textContent="Target Requirements",l=p("dd"),l.textContent=`${i[4].join(", ")} 
      `},m(t,n){g(t,e,n),g(t,l,n)},p:ee,d(t){t&&h(e),t&&h(l)}}}function j_(i){let e,l,t=i[1].aoe+"",n;return{c(){e=p("dt"),e.textContent="AoE Shape",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&2&&t!==(t=o[1].aoe+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function H_(i){let e,l,t=i[1].stun_dur+"",n;return{c(){e=p("dt"),e.textContent="Stun Duration",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&2&&t!==(t=o[1].stun_dur+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function W_(i){let e,l,t=i[1].down_dur+"",n;return{c(){e=p("dt"),e.textContent="Down Duration",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&2&&t!==(t=o[1].down_dur+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function z_(i){let e,l,t=i[1].knockback_dist+"",n;return{c(){e=p("dt"),e.textContent="Knockback Distance",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&2&&t!==(t=o[1].knockback_dist+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function V_(i){let e,l=i[1].description+"",t;return{c(){e=p("p"),t=y(l),Qe(e,"color","var(--cata-color-gray)")},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&2&&l!==(l=n[1].description+"")&&Y(t,l)},d(n){n&&h(e)}}}function qw(i){let e,l,t,n,o;return n=new at({props:{items:i[2],limit:20,$$slots:{default:[Pw,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Weapons",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&66&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Pw(i){let e,l;return e=new re({props:{type:"item",id:i[1].id}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.id=t[1].id),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Fw(i){let e,l,t,n=i[1].name+"",o,r,f,a,s,u,c,m,$=i[1].crit_ok?"Yes":i[1].crit_tec?"Only":"No",v,E,T,w,S,C,R,B,O,N,L,M,X,A=JSON.stringify(i[1],null,2)+"",D,J,H,F;u=new F1({props:{item:i[1],buffMap:i[0]}});let j=i[1].weighting&&i[1].weighting!==1&&Y_(i),G=i[4].length&&Uw(i),z=i[1].aoe&&j_(i);S=new P1({props:{item:i[1]}});let ie=i[1].stun_dur&&H_(i),W=i[1].down_dur&&W_(i),K=i[1].knockback_dist&&z_(i),Z=i[1].description&&V_(i),ae=i[2].length&&qw(i);return{c(){e=p("section"),l=p("h1"),t=y("Technique: "),o=y(n),r=I(),f=p("dl"),a=p("dt"),a.textContent="Type",s=p("dd"),s.textContent=`${i[3]}`,P(u.$$.fragment),c=p("dt"),c.textContent="Activate on Crit?",m=p("dd"),v=y($),j&&j.c(),E=le(),G&&G.c(),T=le(),z&&z.c(),w=le(),P(S.$$.fragment),ie&&ie.c(),C=le(),W&&W.c(),R=le(),K&&K.c(),B=I(),Z&&Z.c(),O=I(),N=p("details"),L=p("summary"),L.textContent="Technique JSON",M=I(),X=p("pre"),D=y(A),J=I(),ae&&ae.c(),H=le()},m(V,ne){g(V,e,ne),d(e,l),d(l,t),d(l,o),d(e,r),d(e,f),d(f,a),d(f,s),U(u,f,null),d(f,c),d(f,m),d(m,v),j&&j.m(f,null),d(f,E),G&&G.m(f,null),d(f,T),z&&z.m(f,null),d(f,w),U(S,f,null),ie&&ie.m(f,null),d(f,C),W&&W.m(f,null),d(f,R),K&&K.m(f,null),d(e,B),Z&&Z.m(e,null),d(e,O),d(e,N),d(N,L),d(N,M),d(N,X),d(X,D),g(V,J,ne),ae&&ae.m(V,ne),g(V,H,ne),F=!0},p(V,[ne]){(!F||ne&2)&&n!==(n=V[1].name+"")&&Y(o,n);const _e={};ne&2&&(_e.item=V[1]),ne&1&&(_e.buffMap=V[0]),u.$set(_e),(!F||ne&2)&&$!==($=V[1].crit_ok?"Yes":V[1].crit_tec?"Only":"No")&&Y(v,$),V[1].weighting&&V[1].weighting!==1?j?j.p(V,ne):(j=Y_(V),j.c(),j.m(f,E)):j&&(j.d(1),j=null),V[4].length&&G.p(V,ne),V[1].aoe?z?z.p(V,ne):(z=j_(V),z.c(),z.m(f,w)):z&&(z.d(1),z=null);const Fe={};ne&2&&(Fe.item=V[1]),S.$set(Fe),V[1].stun_dur?ie?ie.p(V,ne):(ie=H_(V),ie.c(),ie.m(f,C)):ie&&(ie.d(1),ie=null),V[1].down_dur?W?W.p(V,ne):(W=W_(V),W.c(),W.m(f,R)):W&&(W.d(1),W=null),V[1].knockback_dist?K?K.p(V,ne):(K=z_(V),K.c(),K.m(f,null)):K&&(K.d(1),K=null),V[1].description?Z?Z.p(V,ne):(Z=V_(V),Z.c(),Z.m(e,O)):Z&&(Z.d(1),Z=null),(!F||ne&2)&&A!==(A=JSON.stringify(V[1],null,2)+"")&&Y(D,A),V[2].length&&ae.p(V,ne)},i(V){F||(b(u.$$.fragment,V),b(S.$$.fragment,V),b(ae),F=!0)},o(V){k(u.$$.fragment,V),k(S.$$.fragment,V),k(ae),F=!1},d(V){V&&h(e),q(u),j&&j.d(),G&&G.d(),z&&z.d(),q(S),ie&&ie.d(),W&&W.d(),K&&K.d(),Z&&Z.d(),V&&h(J),ae&&ae.d(V),V&&h(H)}}}function Yw(i,e,l){let{item:t}=e,{buffMap:n=new Map}=e;const r=nt("data").byType("item").filter(s=>{var u;return s.id&&((u=s.techniques)!=null?u:[]).includes(t.id)}).sort((s,u)=>s.id.localeCompare(u.id)),f=t.block_counter?"Block Counter":t.dodge_counter?"Dodge Counter":t.miss_recovery?"Miss Recovery":t.grab_break?"Grab Break":t.defensive?"Defensive":"Offensive",a=[];return t.human_target&&a.push("humanoid"),t.downed_target&&a.push("downed"),t.stunned_target&&a.push("stunned"),i.$$set=s=>{"item"in s&&l(1,t=s.item),"buffMap"in s&&l(0,n=s.buffMap)},[n,t,r,f,a]}class jw extends Xe{constructor(e){super(),Ve(this,e,Yw,Fw,We,{item:1,buffMap:0})}}function X_(i,e,l){const t=i.slice();return t[6]=e[l],t}function J_(i,e,l){const t=i.slice();return t[9]=e[l][0],t[10]=e[l][1],t}function K_(i,e,l){const t=i.slice();return t[13]=e[l],t}function Z_(i,e,l){const t=i.slice();return t[16]=e[l],t}function Q_(i,e,l){const t=i.slice();return t[19]=e[l],t}function x_(i,e,l){const t=i.slice();return t[22]=e[l][0],t[23]=e[l][1],t}function ed(i){var v,E,T;let e,l,t,n,o,r,f,a=i[0].learn_difficulty!=null&&td(i),s=((v=i[0].autolearn)==null?void 0:v.length)&&ld(i),u=i[2].length&&Hw(i),c=i[0].weapon_category&&od(i),m=(((E=i[0].arm_block)!=null?E:99)!=99||i[0].arm_block_with_bio_armor_arms)&&sd(i),$=(((T=i[0].leg_block)!=null?T:99)!==99||i[0].leg_block_with_bio_armor_legs)&&ad(i);return{c(){e=p("dl"),a&&a.c(),l=le(),s&&s.c(),t=le(),u&&u.c(),n=le(),c&&c.c(),o=le(),m&&m.c(),r=le(),$&&$.c()},m(w,S){g(w,e,S),a&&a.m(e,null),d(e,l),s&&s.m(e,null),d(e,t),u&&u.m(e,null),d(e,n),c&&c.m(e,null),d(e,o),m&&m.m(e,null),d(e,r),$&&$.m(e,null),f=!0},p(w,S){var C,R,B;w[0].learn_difficulty!=null?a?a.p(w,S):(a=td(w),a.c(),a.m(e,l)):a&&(a.d(1),a=null),(C=w[0].autolearn)!=null&&C.length?s?(s.p(w,S),S&1&&b(s,1)):(s=ld(w),s.c(),b(s,1),s.m(e,t)):s&&(Q(),k(s,1,1,()=>{s=null}),x()),w[2].length&&u.p(w,S),w[0].weapon_category?c?(c.p(w,S),S&1&&b(c,1)):(c=od(w),c.c(),b(c,1),c.m(e,o)):c&&(Q(),k(c,1,1,()=>{c=null}),x()),((R=w[0].arm_block)!=null?R:99)!=99||w[0].arm_block_with_bio_armor_arms?m?(m.p(w,S),S&1&&b(m,1)):(m=sd(w),m.c(),b(m,1),m.m(e,r)):m&&(Q(),k(m,1,1,()=>{m=null}),x()),((B=w[0].leg_block)!=null?B:99)!==99||w[0].leg_block_with_bio_armor_legs?$?($.p(w,S),S&1&&b($,1)):($=ad(w),$.c(),b($,1),$.m(e,null)):$&&(Q(),k($,1,1,()=>{$=null}),x())},i(w){f||(b(s),b(u),b(c),b(m),b($),f=!0)},o(w){k(s),k(u),k(c),k(m),k($),f=!1},d(w){w&&h(e),a&&a.d(),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d(),$&&$.d()}}}function td(i){let e,l,t=i[0].learn_difficulty+"",n,o,r=pd(i[0].learn_difficulty)+"",f,a;return{c(){e=p("dt"),e.textContent="Difficulty to Learn",l=p("dd"),n=y(t),o=y(" ("),f=y(r),a=y(`)
        `)},m(s,u){g(s,e,u),g(s,l,u),d(l,n),d(l,o),d(l,f),d(l,a)},p(s,u){u&1&&t!==(t=s[0].learn_difficulty+"")&&Y(n,t),u&1&&r!==(r=pd(s[0].learn_difficulty)+"")&&Y(f,r)},d(s){s&&h(e),s&&h(l)}}}function ld(i){let e,l,t,n,o=i[0].autolearn&&nd(i);return{c(){e=p("dt"),e.textContent=`Autolearn
        `,l=p("dd"),o&&o.c(),t=I(),fe(e,"title","Learned at these skill levels, otherwise only learnable from a book")},m(r,f){g(r,e,f),g(r,l,f),o&&o.m(l,null),d(l,t),n=!0},p(r,f){r[0].autolearn?o?(o.p(r,f),f&1&&b(o,1)):(o=nd(r),o.c(),b(o,1),o.m(l,t)):o&&(Q(),k(o,1,1,()=>{o=null}),x())},i(r){n||(b(o),n=!0)},o(r){k(o),n=!1},d(r){r&&h(e),r&&h(l),o&&o.d()}}}function nd(i){let e,l,t=i[0].autolearn,n=[];for(let r=0;r<t.length;r+=1)n[r]=id(x_(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c();fe(e,"class","comma-separated")},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const s=x_(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=id(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){r&&h(e),se(n,r)}}}function id(i){let e,l,t,n=i[23]+"",o,r,f;return l=new re({props:{type:"skill",id:i[22]}}),{c(){e=p("li"),P(l.$$.fragment),t=y(" ("),o=y(n),r=y(")")},m(a,s){g(a,e,s),U(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(a,s){const u={};s&1&&(u.id=a[22]),l.$set(u),(!f||s&1)&&n!==(n=a[23]+"")&&Y(o,n)},i(a){f||(b(l.$$.fragment,a),f=!0)},o(a){k(l.$$.fragment,a),f=!1},d(a){a&&h(e),q(l)}}}function Hw(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=rd(Q_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Found In",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=Q_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=rd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function rd(i){let e,l,t;return l=new re({props:{type:"item",id:i[19].id}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function od(i){let e,l,t,n,o,r=i[0].weapon_category,f=[];for(let s=0;s<r.length;s+=1)f[s]=fd(Z_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Weapon Category",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const m=Z_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=fd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function fd(i){let e,l,t;return l=new re({props:{type:"weapon_category",id:i[16]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[16]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function sd(i){let e,l,t,n,o,r;const f=[zw,Ww],a=[];function s(u,c){return u[0].arm_block_with_bio_armor_arms?0:1}return t=s(i),n=a[t]=f[t](i),{c(){e=p("dt"),e.textContent="Arm Block",l=p("dd"),n.c(),o=I()},m(u,c){g(u,e,c),g(u,l,c),a[t].m(l,null),d(l,o),r=!0},p(u,c){let m=t;t=s(u),t===m?a[t].p(u,c):(Q(),k(a[m],1,1,()=>{a[m]=null}),x(),n=a[t],n?n.p(u,c):(n=a[t]=f[t](u),n.c()),b(n,1),n.m(l,o))},i(u){r||(b(n),r=!0)},o(u){k(n),r=!1},d(u){u&&h(e),u&&h(l),a[t].d()}}}function Ww(i){let e,l,t=i[0].arm_block+"",n,o,r;return e=new re({props:{type:"skill",id:"unarmed"}}),{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")")},m(f,a){U(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){(!r||a&1)&&t!==(t=f[0].arm_block+"")&&Y(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){q(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function zw(i){let e,l,t;return l=new re({props:{type:"item",id:"bio_armor_arms"}}),{c(){e=y("with "),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,n,o),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l,n)}}}function ad(i){let e,l,t,n,o;const r=[Xw,Vw],f=[];function a(s,u){return s[0].leg_block_with_bio_armor_legs?0:1}return t=a(i),n=f[t]=r[t](i),{c(){e=p("dt"),e.textContent="Leg Block",l=p("dd"),n.c()},m(s,u){g(s,e,u),g(s,l,u),f[t].m(l,null),o=!0},p(s,u){let c=t;t=a(s),t===c?f[t].p(s,u):(Q(),k(f[c],1,1,()=>{f[c]=null}),x(),n=f[t],n?n.p(s,u):(n=f[t]=r[t](s),n.c()),b(n,1),n.m(l,null))},i(s){o||(b(n),o=!0)},o(s){k(n),o=!1},d(s){s&&h(e),s&&h(l),f[t].d()}}}function Vw(i){let e,l,t=i[0].leg_block+"",n,o,r;return e=new re({props:{type:"skill",id:"unarmed"}}),{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")")},m(f,a){U(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){(!r||a&1)&&t!==(t=f[0].leg_block+"")&&Y(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){q(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function Xw(i){let e,l,t;return l=new re({props:{type:"item",id:"bio_armor_legs"}}),{c(){e=y("with "),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,n,o),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l,n)}}}function ud(i){let e,l,t,n,o;return n=new at({props:{items:[...i[0].weapons].sort(i[5]),$$slots:{default:[Jw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Weapons",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&1&&(a.items=[...r[0].weapons].sort(r[5])),f&67108865&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function Jw(i){let e,l;return e=new re({props:{id:i[0],type:"item"}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.id=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Kw(i){let e,l,t=i[13].buff_duration+"",n;return{c(){e=p("dt"),e.textContent="Duration",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function Zw(i){let e,l,t=i[13].max_stacks+"",n;return{c(){e=p("dt"),e.textContent="Max Stacks",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function Qw(i){let e,l,t=i[13].bonus_dodges+"",n;return{c(){e=p("dt"),e.textContent="Bonus Dodges",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function xw(i){let e,l,t=i[13].bonus_blocks+"",n;return{c(){e=p("dt"),e.textContent="Bonus Blocks",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:ee,d(o){o&&h(e),o&&h(l)}}}function e2(i){let e,l;return{c(){e=p("dt"),e.textContent="Silent",l=p("dd"),l.textContent="Yes",fe(e,"title","Attacks will be completely silent")},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function t2(i){let e,l;return{c(){e=p("dt"),e.textContent="Stealthy",l=p("dd"),l.textContent="Yes",fe(e,"title","Movement will make less noise")},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function l2(i){let e,l;return{c(){e=p("dt"),e.textContent="Throw Immune",l=p("dd"),l.textContent="Yes",fe(e,"title","Immune to throws/grabs")},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function n2(i){let e,l=i[13].description+"",t;return{c(){e=p("p"),t=y(l),Qe(e,"color","var(--cata-color-gray)"),Qe(e,"white-space","pre-wrap")},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function cd(i){let e,l,t=i[9]+"",n,o,r=i[13].name+"",f,a,s,u,c,m,$,v,E,T,w,S,C;u=new F1({props:{item:i[13],buffMap:i[4]}}),c=new P1({props:{item:i[13]}});let R=i[13].buff_duration&&Kw(i),B=i[13].max_stacks&&Zw(i),O=i[13].bonus_dodges&&Qw(i),N=i[13].bonus_blocks&&xw(i),L=i[13].quiet&&e2(),M=i[13].stealthy&&t2(),X=i[13].throw_immune&&l2(),A=i[13].description&&n2(i);return{c(){e=p("section"),l=p("h1"),n=y(t),o=y(": "),f=y(r),a=I(),s=p("dl"),P(u.$$.fragment),P(c.$$.fragment),R&&R.c(),m=le(),B&&B.c(),$=le(),O&&O.c(),v=le(),N&&N.c(),E=le(),L&&L.c(),T=le(),M&&M.c(),w=le(),X&&X.c(),S=I(),A&&A.c()},m(D,J){g(D,e,J),d(e,l),d(l,n),d(l,o),d(l,f),d(e,a),d(e,s),U(u,s,null),U(c,s,null),R&&R.m(s,null),d(s,m),B&&B.m(s,null),d(s,$),O&&O.m(s,null),d(s,v),N&&N.m(s,null),d(s,E),L&&L.m(s,null),d(s,T),M&&M.m(s,null),d(s,w),X&&X.m(s,null),d(e,S),A&&A.m(e,null),C=!0},p(D,J){D[13].buff_duration&&R.p(D,J),D[13].max_stacks&&B.p(D,J),D[13].bonus_dodges&&O.p(D,J),D[13].bonus_blocks&&N.p(D,J),D[13].description&&A.p(D,J)},i(D){C||(b(u.$$.fragment,D),b(c.$$.fragment,D),C=!0)},o(D){k(u.$$.fragment,D),k(c.$$.fragment,D),C=!1},d(D){D&&h(e),q(u),q(c),R&&R.d(),B&&B.d(),O&&O.d(),N&&N.d(),L&&L.d(),M&&M.d(),X&&X.d(),A&&A.d()}}}function _d(i){let e,l,t=i[10],n=[];for(let r=0;r<t.length;r+=1)n[r]=cd(K_(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f&24){t=r[10];let a;for(a=0;a<t.length;a+=1){const s=K_(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=cd(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){se(n,r),r&&h(e)}}}function dd(i){let e,l,t,n,o=i[0].techniques,r=[];for(let a=0;a<o.length;a+=1)r[a]=md(X_(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("h1"),e.textContent="Techniques",l=I();for(let a=0;a<r.length;a+=1)r[a].c();t=le()},m(a,s){g(a,e,s),g(a,l,s);for(let u=0;u<r.length;u+=1)r[u].m(a,s);g(a,t,s),n=!0},p(a,s){if(s&19){o=a[0].techniques;let u;for(u=0;u<o.length;u+=1){const c=X_(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=md(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a),a&&h(t)}}}function md(i){let e,l;return e=new jw({props:{item:i[1].byId("technique",i[6]),buffMap:i[4]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.item=t[1].byId("technique",t[6])),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function i2(i){var X,A,D,J,H;let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u,c=i[0].description+"",m,$,v,E,T,w,S,C,R=(i[0].learn_difficulty!=null||((X=i[0].autolearn)==null?void 0:X.length)||((A=i[0].arm_block)!=null?A:99)!==99||((D=i[0].leg_block)!=null?D:99)!==99||i[0].arm_block_with_bio_armor_arms||i[0].leg_block_with_bio_armor_legs||i[2].length)&&ed(i),B=((J=i[0].weapons)==null?void 0:J.length)&&ud(i),O=i[3],N=[];for(let F=0;F<O.length;F+=1)N[F]=_d(J_(i,O,F));const L=F=>k(N[F],1,1,()=>{N[F]=null});let M=((H=i[0].techniques)==null?void 0:H.length)&&dd(i);return{c(){e=p("h1"),l=y("Martial Art: "),n=y(t),o=I(),r=p("section"),f=p("h1"),f.textContent="General",a=I(),R&&R.c(),s=I(),u=p("p"),m=y(c),$=I(),B&&B.c(),v=I(),E=p("h1"),E.textContent="Buffs",T=I();for(let F=0;F<N.length;F+=1)N[F].c();w=I(),M&&M.c(),S=le(),Qe(u,"color","var(--cata-color-gray)")},m(F,j){g(F,e,j),d(e,l),d(e,n),g(F,o,j),g(F,r,j),d(r,f),d(r,a),R&&R.m(r,null),d(r,s),d(r,u),d(u,m),g(F,$,j),B&&B.m(F,j),g(F,v,j),g(F,E,j),g(F,T,j);for(let G=0;G<N.length;G+=1)N[G].m(F,j);g(F,w,j),M&&M.m(F,j),g(F,S,j),C=!0},p(F,[j]){var G,z,ie,W,K;if((!C||j&1)&&t!==(t=ge(F[0])+"")&&Y(n,t),F[0].learn_difficulty!=null||((G=F[0].autolearn)==null?void 0:G.length)||((z=F[0].arm_block)!=null?z:99)!==99||((ie=F[0].leg_block)!=null?ie:99)!==99||F[0].arm_block_with_bio_armor_arms||F[0].leg_block_with_bio_armor_legs||F[2].length?R?(R.p(F,j),j&1&&b(R,1)):(R=ed(F),R.c(),b(R,1),R.m(r,s)):R&&(Q(),k(R,1,1,()=>{R=null}),x()),(!C||j&1)&&c!==(c=F[0].description+"")&&Y(m,c),(W=F[0].weapons)!=null&&W.length?B?(B.p(F,j),j&1&&b(B,1)):(B=ud(F),B.c(),b(B,1),B.m(v.parentNode,v)):B&&(Q(),k(B,1,1,()=>{B=null}),x()),j&24){O=F[3];let Z;for(Z=0;Z<O.length;Z+=1){const ae=J_(F,O,Z);N[Z]?(N[Z].p(ae,j),b(N[Z],1)):(N[Z]=_d(ae),N[Z].c(),b(N[Z],1),N[Z].m(w.parentNode,w))}for(Q(),Z=O.length;Z<N.length;Z+=1)L(Z);x()}(K=F[0].techniques)!=null&&K.length?M?(M.p(F,j),j&1&&b(M,1)):(M=dd(F),M.c(),b(M,1),M.m(S.parentNode,S)):M&&(Q(),k(M,1,1,()=>{M=null}),x())},i(F){if(!C){b(R),b(B);for(let j=0;j<O.length;j+=1)b(N[j]);b(M),C=!0}},o(F){k(R),k(B),N=N.filter(Boolean);for(let j=0;j<N.length;j+=1)k(N[j]);k(M),C=!1},d(F){F&&h(e),F&&h(o),F&&h(r),R&&R.d(),F&&h($),B&&B.d(F),F&&h(v),F&&h(E),F&&h(T),se(N,F),F&&h(w),M&&M.d(F),F&&h(S)}}}function pd(i){return i<=2?"easy":i<=4?"moderately hard":i<=6?"hard":i<=8?"very hard":"extremely hard"}function r2(i,e,l){var s,u,c,m,$,v,E,T,w,S,C;const t=nt("data");let{item:n}=e;const o=t.byType("item").filter(R=>R.type==="BOOK"&&R.martial_art===n.id),r=[["Passive",(s=n.static_buffs)!=null?s:[]],["Move",(u=n.onmove_buffs)!=null?u:[]],["Pause",(c=n.onpause_buffs)!=null?c:[]],["Hit",(m=n.onhit_buffs)!=null?m:[]],["Miss",($=n.onmiss_buffs)!=null?$:[]],["Attack",(v=n.onattack_buffs)!=null?v:[]],["Crit",(E=n.oncrit_buffs)!=null?E:[]],["Kill",(T=n.onkill_buffs)!=null?T:[]],["Dodge",(w=n.ondodge_buffs)!=null?w:[]],["Block",(S=n.onblock_buffs)!=null?S:[]],["Get hit",(C=n.ongethit_buffs)!=null?C:[]]],f=new Map(r.flatMap(R=>R[1]).map(R=>[R.id,R])),a=(R,B)=>ge(t.byId("item",R)).localeCompare(ge(t.byId("item",B)));return i.$$set=R=>{"item"in R&&l(0,n=R.item)},[n,t,o,r,f,a]}class o2 extends Xe{constructor(e){super(),Ve(this,e,r2,i2,We,{item:0})}}function f2(i){let e;const l=i[5].default,t=E1(l,i,i[4],null);return{c(){t&&t.c()},m(n,o){t&&t.m(n,o),e=!0},p(n,o){t&&t.p&&(!e||o&16)&&C1(t,l,n,n[4],e?S1(l,n[4],o,null):I1(n[4]),null)},i(n){e||(b(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function s2(i){let e,l,t=i[1].message+"",n,o,r,f,a=(i[2]?i[1].stack:"")+"",s,u;return{c(){e=p("div"),l=p("b"),n=y(t),o=I(),r=p("pre"),f=y("      "),s=y(a),u=y(`
    `),fe(r,"class","trace svelte-1nrekyi"),fe(e,"class","error svelte-1nrekyi")},m(c,m){g(c,e,m),d(e,l),d(l,n),d(e,o),d(e,r),d(r,f),d(r,s),d(r,u)},p(c,m){m&2&&t!==(t=c[1].message+"")&&Y(n,t),m&2&&a!==(a=(c[2]?c[1].stack:"")+"")&&Y(s,a)},i:ee,o:ee,d(c){c&&h(e)}}}function a2(i){let e,l,t,n;const o=[s2,f2],r=[];function f(a,s){return a[1]?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(Q(),k(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function u2(i,e,l){let t,n=ee,o=()=>(n(),n=y1(a,m=>l(1,t=m)),a);i.$$.on_destroy.push(()=>n());let{$$slots:r={},$$scope:f}=e,{error:a=null}=e;o();let{onError:s=null}=e,c=(typeof process!="undefined"&&process.env&&"production")!=="production";return i.$$set=m=>{"error"in m&&o(l(0,a=m.error)),"onError"in m&&l(3,s=m.onError),"$$scope"in m&&l(4,f=m.$$scope)},i.$$.update=()=>{i.$$.dirty&10&&t&&s&&s(t)},[a,t,c,s,f,r]}class c2 extends Xe{constructor(e){super(),Ve(this,e,u2,a2,We,{error:0,onError:3})}}const _2=["c","l","h","m","p","a","i","o","d"];function d2(i){if(i.$$render){let l=i.$$render;return i.$$render=(t,n,o,r)=>{const f=Ni(void 0);try{return l(t,{error:f,...n},o,r)}catch(a){return f.set(a),l(t,{error:f,...n},o,{})}},i}function e(l,t){return function(...o){try{return l(...o)}catch(r){t(r)}}}return class extends i{constructor(t){const n=Ni(void 0);t.props.$$slots.default=t.props.$$slots.default.map(o=>(...r)=>{let a=e(o,n.set)(...r);if(a)for(let s of _2)a[s]&&(a[s]=e(a[s],n.set));return a}),super(t),this.$$set({error:n})}}}const m2=d2(c2);function hd(i,e,l){const t=i.slice();return t[4]=e[l],t}function gd(i,e,l){const t=i.slice();return t[4]=e[l],t}function bd(i,e,l){const t=i.slice();return t[9]=e[l],t}function $d(i,e,l){const t=i.slice();return t[9]=e[l],t}function kd(i,e,l){const t=i.slice();return t[9]=e[l],t}function vd(i,e,l){const t=i.slice();return t[16]=e[l],t}function yd(i,e,l){const t=i.slice();return t[16]=e[l],t}function wd(i,e,l){const t=i.slice();return t[16]=e[l],t}function Ed(i,e,l){const t=i.slice();return t[23]=e[l],t}function Td(i,e,l){const t=i.slice();return t[26]=e[l],t}function Sd(i){let e;return{c(){e=y("Threshold ")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Cd(i){let e,l,t,n,o,r=i[0].category,f=[];for(let s=0;s<r.length;s+=1)f[s]=Id(Td(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Category",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].category;let c;for(c=0;c<r.length;c+=1){const m=Td(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Id(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Id(i){let e,l,t;return l=new re({props:{type:"mutation_category",id:i[26]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[26]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Rd(i){let e;return{c(){e=y("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function p2(i){let e;return{c(){e=p("em"),e.textContent="None"},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function h2(i){let e,l,t=i[0].types,n=[];for(let r=0;r<t.length;r+=1)n[r]=Nd(Ed(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c();fe(e,"class","comma-separated")},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f&1){t=r[0].types;let a;for(a=0;a<t.length;a+=1){const s=Ed(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Nd(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){r&&h(e),se(n,r)}}}function Nd(i){let e,l,t;return l=new re({props:{type:"mutation_type",id:i[23]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[23]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function g2(i){let e;return{c(){e=p("em"),e.textContent="None"},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function b2(i){let e,l,t,n,o,r=i[0].prereqs,f=[];for(let u=0;u<r.length;u+=1)f[u]=Od(wd(i,r,u));const a=u=>k(f[u],1,1,()=>{f[u]=null});let s=i[0].prereqs2&&Bd(i);return{c(){e=p("ul"),l=p("li"),t=p("ul");for(let u=0;u<f.length;u+=1)f[u].c();n=I(),s&&s.c(),fe(t,"class","comma-separated or")},m(u,c){g(u,e,c),d(e,l),d(l,t);for(let m=0;m<f.length;m+=1)f[m].m(t,null);d(e,n),s&&s.m(e,null),o=!0},p(u,c){if(c&1){r=u[0].prereqs;let m;for(m=0;m<r.length;m+=1){const $=wd(u,r,m);f[m]?(f[m].p($,c),b(f[m],1)):(f[m]=Od($),f[m].c(),b(f[m],1),f[m].m(t,null))}for(Q(),m=r.length;m<f.length;m+=1)a(m);x()}u[0].prereqs2?s?(s.p(u,c),c&1&&b(s,1)):(s=Bd(u),s.c(),b(s,1),s.m(e,null)):s&&(Q(),k(s,1,1,()=>{s=null}),x())},i(u){if(!o){for(let c=0;c<r.length;c+=1)b(f[c]);b(s),o=!0}},o(u){f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)k(f[c]);k(s),o=!1},d(u){u&&h(e),se(f,u),s&&s.d()}}}function Od(i){let e,l,t;return l=new re({props:{type:"mutation",id:i[16]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[16]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Bd(i){let e,l,t,n=i[0].prereqs2,o=[];for(let f=0;f<n.length;f+=1)o[f]=Ad(yd(i,n,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li"),l=p("ul");for(let f=0;f<o.length;f+=1)o[f].c();fe(l,"class","comma-separated or")},m(f,a){g(f,e,a),d(e,l);for(let s=0;s<o.length;s+=1)o[s].m(l,null);t=!0},p(f,a){if(a&1){n=f[0].prereqs2;let s;for(s=0;s<n.length;s+=1){const u=yd(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Ad(u),o[s].c(),b(o[s],1),o[s].m(l,null))}for(Q(),s=n.length;s<o.length;s+=1)r(s);x()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&h(e),se(o,f)}}}function Ad(i){let e,l,t;return l=new re({props:{type:"mutation",id:i[16]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[16]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Md(i){let e,l,t,n,o,r=i[0].threshreq,f=[];for(let s=0;s<r.length;s+=1)f[s]=Dd(vd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Threshold Requirement",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated or")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].threshreq;let c;for(c=0;c<r.length;c+=1){const m=vd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Dd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Dd(i){let e,l,t;return l=new re({props:{type:"mutation",id:i[16]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[16]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Ld(i){let e,l,t,n,o,r=i[0].leads_to,f=[];for(let s=0;s<r.length;s+=1)f[s]=Gd(kd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Leads To",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].leads_to;let c;for(c=0;c<r.length;c+=1){const m=kd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Gd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Gd(i){let e,l,t;return l=new re({props:{id:i[9],type:"mutation"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[9]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Ud(i){let e,l,t,n,o,r=i[0].changes_to,f=[];for(let s=0;s<r.length;s+=1)f[s]=qd($d(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Changes To",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].changes_to;let c;for(c=0;c<r.length;c+=1){const m=$d(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=qd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function qd(i){let e,l,t;return l=new re({props:{id:i[9],type:"mutation"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[9]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Pd(i){let e,l,t,n,o=i[0].cancels,r=[];for(let a=0;a<o.length;a+=1)r[a]=Fd(bd(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Conflicts With",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&1){o=a[0].cancels;let u;for(u=0;u<o.length;u+=1){const c=bd(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Fd(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function Fd(i){let e,l,t;return l=new re({props:{id:i[9],type:"mutation"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[9]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Yd(i){let e,l,t,n,o,r=i[1],f=[];for(let s=0;s<r.length;s+=1)f[s]=jd(gd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Post-Threshold Mutations",t=I(),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&2){r=s[1];let c;for(c=0;c<r.length;c+=1){const m=gd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=jd(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),se(f,s)}}}function jd(i){let e,l,t;return l=new re({props:{id:i[4].id,type:"mutation"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function $2(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Hd(hd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Required By",t=I(),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=hd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Hd(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),se(f,s)}}}function Hd(i){let e,l,t;return l=new re({props:{id:i[4].id,type:"mutation"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function k2(i){var Se;let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u=i[0].points+"",c,m,$,v,E,T,w,S,C,R,B,O,N,L,M,X,A,D,J=Ft(i[0].description)+"",H,F,j,G,z,ie=i[0].threshold&&Sd(),W=i[0].category&&Cd(i),K=((Se=i[0].types)==null?void 0:Se.length)>1&&Rd();const Z=[h2,p2],ae=[];function V(be,Te){return be[0].types?0:1}T=V(i),w=ae[T]=Z[T](i);const ne=[b2,g2],_e=[];function Fe(be,Te){return be[0].prereqs?0:1}B=Fe(i),O=_e[B]=ne[B](i);let ke=i[0].threshreq&&Md(i),de=i[0].leads_to&&Ld(i),$e=i[0].changes_to&&Ud(i),ye=i[0].cancels&&Pd(i),ue=i[0].threshold&&i[1].length&&Yd(i),De=i[2].length&&$2(i);return{c(){e=p("h1"),ie&&ie.c(),l=y("Mutation: "),n=y(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Points",s=p("dd"),c=y(u),W&&W.c(),m=p("dt"),$=y("Type"),K&&K.c(),v=I(),E=p("dd"),w.c(),S=I(),C=p("dt"),C.textContent="Prerequisites",R=p("dd"),O.c(),N=I(),ke&&ke.c(),L=le(),de&&de.c(),M=le(),$e&&$e.c(),X=le(),ye&&ye.c(),A=I(),D=p("p"),H=y(J),F=I(),ue&&ue.c(),j=I(),De&&De.c(),G=le(),fe(m,"title","You can't have two mutations that share a type."),Qe(D,"color","var(--cata-color-gray)")},m(be,Te){g(be,e,Te),ie&&ie.m(e,null),d(e,l),d(e,n),g(be,o,Te),g(be,r,Te),d(r,f),d(f,a),d(f,s),d(s,c),W&&W.m(f,null),d(f,m),d(m,$),K&&K.m(m,null),d(m,v),d(f,E),ae[T].m(E,null),d(E,S),d(f,C),d(f,R),_e[B].m(R,null),d(R,N),ke&&ke.m(f,null),d(f,L),de&&de.m(f,null),d(f,M),$e&&$e.m(f,null),d(f,X),ye&&ye.m(f,null),d(r,A),d(r,D),d(D,H),g(be,F,Te),ue&&ue.m(be,Te),g(be,j,Te),De&&De.m(be,Te),g(be,G,Te),z=!0},p(be,[Te]){var me;be[0].threshold?ie||(ie=Sd(),ie.c(),ie.m(e,l)):ie&&(ie.d(1),ie=null),(!z||Te&1)&&t!==(t=ge(be[0])+"")&&Y(n,t),(!z||Te&1)&&u!==(u=be[0].points+"")&&Y(c,u),be[0].category?W?(W.p(be,Te),Te&1&&b(W,1)):(W=Cd(be),W.c(),b(W,1),W.m(f,m)):W&&(Q(),k(W,1,1,()=>{W=null}),x()),((me=be[0].types)==null?void 0:me.length)>1?K||(K=Rd(),K.c(),K.m(m,v)):K&&(K.d(1),K=null);let et=T;T=V(be),T===et?ae[T].p(be,Te):(Q(),k(ae[et],1,1,()=>{ae[et]=null}),x(),w=ae[T],w?w.p(be,Te):(w=ae[T]=Z[T](be),w.c()),b(w,1),w.m(E,S));let Re=B;B=Fe(be),B===Re?_e[B].p(be,Te):(Q(),k(_e[Re],1,1,()=>{_e[Re]=null}),x(),O=_e[B],O?O.p(be,Te):(O=_e[B]=ne[B](be),O.c()),b(O,1),O.m(R,N)),be[0].threshreq?ke?(ke.p(be,Te),Te&1&&b(ke,1)):(ke=Md(be),ke.c(),b(ke,1),ke.m(f,L)):ke&&(Q(),k(ke,1,1,()=>{ke=null}),x()),be[0].leads_to?de?(de.p(be,Te),Te&1&&b(de,1)):(de=Ld(be),de.c(),b(de,1),de.m(f,M)):de&&(Q(),k(de,1,1,()=>{de=null}),x()),be[0].changes_to?$e?($e.p(be,Te),Te&1&&b($e,1)):($e=Ud(be),$e.c(),b($e,1),$e.m(f,X)):$e&&(Q(),k($e,1,1,()=>{$e=null}),x()),be[0].cancels?ye?(ye.p(be,Te),Te&1&&b(ye,1)):(ye=Pd(be),ye.c(),b(ye,1),ye.m(f,null)):ye&&(Q(),k(ye,1,1,()=>{ye=null}),x()),(!z||Te&1)&&J!==(J=Ft(be[0].description)+"")&&Y(H,J),be[0].threshold&&be[1].length?ue?(ue.p(be,Te),Te&1&&b(ue,1)):(ue=Yd(be),ue.c(),b(ue,1),ue.m(j.parentNode,j)):ue&&(Q(),k(ue,1,1,()=>{ue=null}),x()),be[2].length&&De.p(be,Te)},i(be){z||(b(W),b(w),b(O),b(ke),b(de),b($e),b(ye),b(ue),b(De),z=!0)},o(be){k(W),k(w),k(O),k(ke),k(de),k($e),k(ye),k(ue),k(De),z=!1},d(be){be&&h(e),ie&&ie.d(),be&&h(o),be&&h(r),W&&W.d(),K&&K.d(),ae[T].d(),_e[B].d(),ke&&ke.d(),de&&de.d(),$e&&$e.d(),ye&&ye.d(),be&&h(F),ue&&ue.d(be),be&&h(j),De&&De.d(be),be&&h(G)}}}function v2(i,e,l){let{item:t}=e,n=nt("data");const o=n.byType("mutation").filter(f=>{var a;return((a=f.threshreq)!=null?a:[]).includes(t.id)}).sort((f,a)=>ge(f).localeCompare(ge(a))),r=n.byType("mutation").filter(f=>{var a,s;return((a=f.prereqs)!=null?a:[]).includes(t.id)||((s=f.prereqs2)!=null?s:[]).includes(t.id)}).sort((f,a)=>ge(f).localeCompare(ge(a)));return i.$$set=f=>{"item"in f&&l(0,t=f.item)},[t,o,r]}class y2 extends Xe{constructor(e){super(),Ve(this,e,v2,k2,We,{item:0})}}function Er(i,e){const l=[];let t=!0;const n=new Set(i),o=new Set;for(;n.size;){const f=n.values().next().value;if(r(f),!t)throw new Error("Not a DAG")}return l;function r(f){if(!!n.has(f)){if(o.has(f)){t=!1;return}o.add(f);for(const a of e(f))r(a);o.delete(f),n.delete(f),l.push(f)}}}function Wd(i,e,l){const t=i.slice();return t[7]=e[l],t}function zd(i,e,l){const t=i.slice();return t[7]=e[l],t}function Vd(i){let e,l,t=ge(i[0])+"",n;return{c(){e=p("h1"),l=y("Mutation Category: "),n=y(t)},m(o,r){g(o,e,r),d(e,l),d(e,n)},p(o,r){r&1&&t!==(t=ge(o[0])+"")&&Y(n,t)},d(o){o&&h(e)}}}function Xd(i){let e,l=ge(i[0])+"",t;return{c(){e=p("h1"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=ge(n[0])+"")&&Y(t,l)},d(n){n&&h(e)}}}function Jd(i){let e,l,t,n;return t=new re({props:{id:i[0].threshold_mut,type:"mutation"}}),{c(){e=p("dt"),e.textContent="Threshold Mutation",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].threshold_mut),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function w2(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Kd(zd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Pre-Threshold Mutations",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=zd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Kd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Kd(i){let e,l,t;return l=new re({props:{id:i[7].id,type:"mutation"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function E2(i){let e,l,t,n,o=i[3],r=[];for(let a=0;a<o.length;a+=1)r[a]=Zd(Wd(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Post-Threshold Mutations",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=Wd(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Zd(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function Zd(i){let e,l,t;return l=new re({props:{id:i[7].id,type:"mutation"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function T2(i){let e,l,t,n,o,r,f,a=!i[1]&&Vd(i),s=i[1]&&Xd(i),u=i[0].threshold_mut&&Jd(i),c=i[2].length&&w2(i),m=i[3].length&&E2(i);return{c(){a&&a.c(),e=I(),l=p("section"),s&&s.c(),t=I(),n=p("dl"),u&&u.c(),o=le(),c&&c.c(),r=le(),m&&m.c()},m($,v){a&&a.m($,v),g($,e,v),g($,l,v),s&&s.m(l,null),d(l,t),d(l,n),u&&u.m(n,null),d(n,o),c&&c.m(n,null),d(n,r),m&&m.m(n,null),f=!0},p($,[v]){$[1]?a&&(a.d(1),a=null):a?a.p($,v):(a=Vd($),a.c(),a.m(e.parentNode,e)),$[1]?s?s.p($,v):(s=Xd($),s.c(),s.m(l,t)):s&&(s.d(1),s=null),$[0].threshold_mut?u?(u.p($,v),v&1&&b(u,1)):(u=Jd($),u.c(),b(u,1),u.m(n,o)):u&&(Q(),k(u,1,1,()=>{u=null}),x()),$[2].length&&c.p($,v),$[3].length&&m.p($,v)},i($){f||(b(u),b(c),b(m),f=!0)},o($){k(u),k(c),k(m),f=!1},d($){a&&a.d($),$&&h(e),$&&h(l),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d()}}}function S2(i,e,l){let t=nt("data"),{item:n}=e,{inCatalog:o=!1}=e;const r=t.byType("mutation").filter(u=>{var c;return((c=u.category)!=null?c:[]).includes(n.id)});r.sort((u,c)=>ge(u).localeCompare(ge(c)));const f=u=>{var c,m,$;return((c=u.prereqs)!=null?c:[]).concat((m=u.prereqs2)!=null?m:[]).concat(($=u.threshreq)!=null?$:[])},a=Er(r.filter(u=>!u.threshreq||u.threshreq.length===0),u=>f(u).map(c=>t.byId("mutation",c))),s=Er(r.filter(u=>!(!u.threshreq||u.threshreq.length===0)),u=>f(u).map(c=>t.byId("mutation",c)));return i.$$set=u=>{"item"in u&&l(0,n=u.item),"inCatalog"in u&&l(1,o=u.inCatalog)},[n,o,a,s]}class Y1 extends Xe{constructor(e){super(),Ve(this,e,S2,T2,We,{item:0,inCatalog:1})}}function Qd(i,e,l){const t=i.slice();return t[4]=e[l],t}function xd(i){let e,l,t;return l=new re({props:{id:i[4].id,type:"mutation"}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p:ee,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function C2(i){let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u,c,m=i[1],$=[];for(let E=0;E<m.length;E+=1)$[E]=xd(Qd(i,m,E));const v=E=>k($[E],1,1,()=>{$[E]=null});return{c(){e=p("h1"),l=y("Mutation Type: "),n=y(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Mutations",s=p("dd"),u=p("ul");for(let E=0;E<$.length;E+=1)$[E].c()},m(E,T){g(E,e,T),d(e,l),d(e,n),g(E,o,T),g(E,r,T),d(r,f),d(f,a),d(f,s),d(s,u);for(let w=0;w<$.length;w+=1)$[w].m(u,null);c=!0},p(E,[T]){if((!c||T&1)&&t!==(t=ge(E[0])+"")&&Y(n,t),T&2){m=E[1];let w;for(w=0;w<m.length;w+=1){const S=Qd(E,m,w);$[w]?($[w].p(S,T),b($[w],1)):($[w]=xd(S),$[w].c(),b($[w],1),$[w].m(u,null))}for(Q(),w=m.length;w<$.length;w+=1)v(w);x()}},i(E){if(!c){for(let T=0;T<m.length;T+=1)b($[T]);c=!0}},o(E){$=$.filter(Boolean);for(let T=0;T<$.length;T+=1)k($[T]);c=!1},d(E){E&&h(e),E&&h(o),E&&h(r),se($,E)}}}function I2(i,e,l){let{item:t}=e,n=nt("data");const o=f=>{var a,s,u;return((a=f.prereqs)!=null?a:[]).concat((s=f.prereqs2)!=null?s:[]).concat((u=f.threshreq)!=null?u:[])},r=Er(n.byType("mutation").filter(f=>{var a;return((a=f.types)!=null?a:[]).includes(t.id)}).sort((f,a)=>ge(f).localeCompare(ge(a))),f=>o(f).map(a=>n.byId("mutation",a)));return i.$$set=f=>{"item"in f&&l(0,t=f.item)},[t,r]}class R2 extends Xe{constructor(e){super(),Ve(this,e,I2,C2,We,{item:0})}}function em(i,e,l){const t=i.slice();return t[21]=e[l],t}function tm(i,e,l){const t=i.slice();return t[24]=e[l],t}function N2(i){let e=" ",l;return{c(){l=y(e)},m(t,n){g(t,l,n)},p:ee,d(t){t&&h(l)}}}function O2(i){let e,l=i[2](i[24].partId,i[24].variant)+"",t;return{c(){e=p("span"),t=y(l),fe(e,"title",`${i[24].partId}_${i[24].variant}`),fe(e,"class",`c_${i[3](i[24].partId)}`)},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function lm(i){let e;function l(o,r){return o[24]?O2:N2}let n=l(i)(i);return{c(){n.c(),e=le()},m(o,r){n.m(o,r),g(o,e,r)},p(o,r){n.p(o,r)},d(o){n.d(o),o&&h(e)}}}function nm(i){let e=`
`,l,t=i[21],n=[];for(let o=0;o<t.length;o+=1)n[o]=lm(tm(i,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();l=y(e)},m(o,r){for(let f=0;f<n.length;f+=1)n[f].m(o,r);g(o,l,r)},p(o,r){if(r&28){t=o[21];let f;for(f=0;f<t.length;f+=1){const a=tm(o,t,f);n[f]?n[f].p(a,r):(n[f]=lm(a),n[f].c(),n[f].m(l.parentNode,l))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}},d(o){se(n,o),o&&h(l)}}}function B2(i){let e,l,t,n,o;return n=new at({props:{items:i[6],$$slots:{default:[A2,({item:{id:r,count:f}})=>({19:r,20:f}),({item:r})=>(r?524288:0)|(r?1048576:0)]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Parts",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&135790592&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function A2(i){let e,l,t=i[20]+"",n,o,r;return e=new re({props:{id:i[19],type:"vehicle_part"}}),{c(){P(e.$$.fragment),l=y(" ("),n=y(t),o=y(")")},m(f,a){U(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){const s={};a&524288&&(s.id=f[19]),e.$set(s),(!r||a&1048576)&&t!==(t=f[20]+"")&&Y(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){q(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function M2(i){let e,l,t,n,o;return n=new at({props:{items:i[5],$$slots:{default:[D2,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Items",t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),U(n,e,null),o=!0},p(r,f){const a={};f&134217729&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(n)}}}function D2(i){let e,l,t,n,o=$n(i[0].prob)+"",r,f,a;return e=new tt({props:{item:i[1].byId("item",i[0].id)}}),t=new re({props:{id:i[0].id,type:"item"}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment),n=y(`
      (`),r=y(o),f=y(")")},m(s,u){U(e,s,u),g(s,l,u),U(t,s,u),g(s,n,u),g(s,r,u),g(s,f,u),a=!0},p(s,u){const c={};u&1&&(c.item=s[1].byId("item",s[0].id)),e.$set(c);const m={};u&1&&(m.id=s[0].id),t.$set(m),(!a||u&1)&&o!==(o=$n(s[0].prob)+"")&&Y(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){q(e,s),s&&h(l),q(t,s),s&&h(n),s&&h(r),s&&h(f)}}}function L2(i){let e,l=ge(i[0])+"",t,n,o,r,f,a,s,u,c,m,$=i[4],v=[];for(let w=0;w<$.length;w+=1)v[w]=nm(em(i,$,w));let E=i[6].length&&B2(i),T=i[5].length&&M2(i);return{c(){e=p("h1"),t=y(l),n=I(),o=p("section"),r=p("pre"),f=y("    ");for(let w=0;w<v.length;w+=1)v[w].c();a=y(`
  `),s=I(),E&&E.c(),u=I(),T&&T.c(),c=le(),Qe(r,"font-family","Unifont, monospace"),Qe(r,"line-height","1")},m(w,S){g(w,e,S),d(e,t),g(w,n,S),g(w,o,S),d(o,r),d(r,f);for(let C=0;C<v.length;C+=1)v[C].m(r,null);d(r,a),g(w,s,S),E&&E.m(w,S),g(w,u,S),T&&T.m(w,S),g(w,c,S),m=!0},p(w,[S]){if((!m||S&1)&&l!==(l=ge(w[0])+"")&&Y(t,l),S&28){$=w[4];let C;for(C=0;C<$.length;C+=1){const R=em(w,$,C);v[C]?v[C].p(R,S):(v[C]=nm(R),v[C].c(),v[C].m(r,a))}for(;C<v.length;C+=1)v[C].d(1);v.length=$.length}w[6].length&&E.p(w,S),w[5].length&&T.p(w,S)},i(w){m||(b(E),b(T),m=!0)},o(w){k(E),k(T),m=!1},d(w){w&&h(e),w&&h(n),w&&h(o),se(v,w),w&&h(s),E&&E.d(w),w&&h(u),T&&T.d(w),w&&h(c)}}}function G2(i,e,l){let{item:t}=e;const n=nt("data");let o=1/0,r=-1/0,f=1/0,a=-1/0;for(const O of t.parts)O.x<o&&(o=O.x),O.x>r&&(r=O.x),O.y<f&&(f=O.y),O.y>a&&(a=O.y);const s={cover:"^",cross:"c",horizontal:"h",horizontal_2:"=",vertical:"j",vertical_2:"H",ne:"u",nw:"y",se:"n",sw:"b"},u={on_roof:9,on_cargo:8,center:7,under:6,structure:5,engine_block:4,on_battery_mount:3,fuel_source:2,roof:-1,armor:-2},c={XOXO:"\u2502",OXOX:"\u2500",XXOO:"\u2514",OXXO:"\u250C",OOXX:"\u2510",XOOX:"\u2518",XXXO:"\u251C",XXOX:"\u2534",XOXX:"\u2524",OXXX:"\u252C",XXXX:"\u253C"},m=O=>{switch(O){case"j":return c.XOXO;case"h":return c.OXOX;case"c":return c.XXXX;case"y":return c.OXXO;case"u":return c.OOXX;case"n":return c.XOOX;case"b":return c.XXOO;default:return O}},$=(O,N)=>{var A,D;const L=n.byId("vehicle_part",O),M=(A=L.symbol)!=null?A:"=",X={...L.standard_symbols?s:{},...L.symbols};return m((D=X[N])!=null?D:M)},v=O=>n.byId("vehicle_part",O).color,E=t.parts.map(O=>{var L;const N=(O.part?[{part:O.part,fuel:O.fuel}]:(L=O.parts)==null?void 0:L.map(M=>typeof M=="string"?{part:M}:M)).map(({part:M,fuel:X})=>{const[A,D]=N1(n,M);return{partId:A,variant:D,fuel:X}});return{x:O.x,y:O.y,parts:N}}),T=O=>{var X;const L=n.byId("vehicle_part",O).location;return(X=u[L])!=null?X:0},w=[];for(let O=r;O>=o;O--){const N=[];for(let L=f;L<=a;L++){const M=E.filter(D=>D.x===O&&D.y===L).flatMap(D=>D.parts);if(!M.length){N.push(void 0);continue}let X=M[0],A=T(X.partId);for(const D of M){const J=T(D.partId);J>=0&&J>A&&(A=J,X=D)}N.push(X)}w.push(N)}const S=n.flattenItemGroup(O1(t));S.sort((O,N)=>N.prob-O.prob);const C=E.flatMap(O=>O.parts),B=[...Ur(C,O=>[O.partId]).entries()].map(([O,N])=>({id:O,count:N.length}));return B.sort((O,N)=>O.count===N.count?ge(n.byId("vehicle_part",O.id)).localeCompare(ge(n.byId("vehicle_part",N.id))):N.count-O.count),i.$$set=O=>{"item"in O&&l(0,t=O.item)},[t,n,$,v,w,S,B]}class U2 extends Xe{constructor(e){super(),Ve(this,e,G2,L2,We,{item:0})}}function im(i,e,l){const t=i.slice();return t[7]=e[l],t}function rm(i,e,l){const t=i.slice();return t[10]=e[l],t}function om(i,e,l){const t=i.slice();return t[13]=e[l],t}function fm(i,e,l){const t=i.slice();return t[16]=e[l],t}function sm(i,e,l){const t=i.slice();return t[19]=e[l].id,t[20]=e[l].prob,t}function am(i,e,l){const t=i.slice();return t[23]=e[l][0],t[24]=e[l][1],t}function um(i,e,l){const t=i.slice();return t[19]=e[l].id,t[20]=e[l].prob,t[27]=e[l].count,t}function cm(i){let e,l,t,n,o,r,f;return t=new tt({props:{item:i[1].byId("terrain",i[0].transforms_into)}}),o=new re({props:{id:i[0].transforms_into,type:"terrain"}}),{c(){e=p("dt"),e.textContent="Transforms Into",l=p("dd"),P(t.$$.fragment),n=I(),P(o.$$.fragment),r=I()},m(a,s){g(a,e,s),g(a,l,s),U(t,l,null),d(l,n),U(o,l,null),d(l,r),f=!0},p(a,s){const u={};s&1&&(u.item=a[1].byId("terrain",a[0].transforms_into)),t.$set(u);const c={};s&1&&(c.id=a[0].transforms_into),o.$set(c)},i(a){f||(b(t.$$.fragment,a),b(o.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(o.$$.fragment,a),f=!1},d(a){a&&h(e),a&&h(l),q(t),q(o)}}}function q2(i){let e,l=i[23]+"",t,n,o,r,f,a=i[24],s=[];for(let c=0;c<a.length;c+=1)s[c]=_m(um(i,a,c));const u=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){e=p("dt"),t=y(l),n=p("dd"),o=p("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=I(),fe(o,"class","comma-separated")},m(c,m){g(c,e,m),d(e,t),g(c,n,m),d(n,o);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(n,r),f=!0},p(c,m){if(m&4){a=c[24];let $;for($=0;$<a.length;$+=1){const v=um(c,a,$);s[$]?(s[$].p(v,m),b(s[$],1)):(s[$]=_m(v),s[$].c(),b(s[$],1),s[$].m(o,null))}for(Q(),$=a.length;$<s.length;$+=1)u($);x()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)k(s[m]);f=!1},d(c){c&&h(e),c&&h(n),se(s,c)}}}function P2(i){let e,l=i[27][0]+"",t,n,o=i[27][1]+"",r,f;return{c(){e=y("\xA0("),t=y(l),n=y("\u2013"),r=y(o),f=y(")")},m(a,s){g(a,e,s),g(a,t,s),g(a,n,s),g(a,r,s),g(a,f,s)},p:ee,d(a){a&&h(e),a&&h(t),a&&h(n),a&&h(r),a&&h(f)}}}function F2(i){let e,l=i[27][0]!==1&&Y2(i);return{c(){l&&l.c(),e=le()},m(t,n){l&&l.m(t,n),g(t,e,n)},p(t,n){t[27][0]!==1&&l.p(t,n)},d(t){l&&l.d(t),t&&h(e)}}}function Y2(i){let e,l=i[27][0]+"",t,n;return{c(){e=y("\xA0("),t=y(l),n=y(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:ee,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function j2(i){let e,l=$n(i[20])+"",t,n;return{c(){e=y("\xA0("),t=y(l),n=y(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:ee,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function _m(i){let e,l,t,n="",o,r="",f,a;t=new re({props:{type:"item",id:i[19]}});function s($,v){return $[27][0]===$[27][1]?F2:P2}let c=s(i)(i),m=i[20]!==1&&j2(i);return{c(){e=p("li"),l=p("span"),P(t.$$.fragment),o=y(n),c.c(),f=y(r),m&&m.c(),Qe(l,"white-space","nowrap")},m($,v){g($,e,v),d(e,l),U(t,l,null),d(l,o),c.m(l,null),d(l,f),m&&m.m(l,null),a=!0},p($,v){c.p($,v),$[20]!==1&&m.p($,v)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){k(t.$$.fragment,$),a=!1},d($){$&&h(e),q(t),c.d(),m&&m.d()}}}function dm(i){let e,l,t=i[24].length&&q2(i);return{c(){t&&t.c(),e=le()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,o){n[24].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function H2(i){let e,l,t,n,o,r=["winter","spring","summer","autumn"].filter(i[4]),f=[];for(let s=0;s<r.length;s+=1)f[s]=gm(rm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Harvest",l=p("dd"),t=p("dl");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&10){r=["winter","spring","summer","autumn"].filter(s[4]);let c;for(c=0;c<r.length;c+=1){const m=rm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=gm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function W2(i){let e,l,t,n,o;return l=new tt({props:{item:i[1].byId("item",i[16].drop)}}),n=new re({props:{type:"item",id:i[16].drop}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment)},m(r,f){g(r,e,f),U(l,e,null),d(e,t),U(n,e,null),o=!0},p:ee,i(r){o||(b(l.$$.fragment,r),b(n.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),k(n.$$.fragment,r),o=!1},d(r){r&&h(e),q(l),q(n)}}}function z2(i){let e,l,t=i[1].flattenItemGroup(i[1].byId("item_group",i[16].drop)),n=[];for(let r=0;r<t.length;r+=1)n[r]=mm(sm(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=le()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f&10){t=r[1].flattenItemGroup(r[1].byId("item_group",r[16].drop));let a;for(a=0;a<t.length;a+=1){const s=sm(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=mm(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){se(n,r),r&&h(e)}}}function mm(i){let e,l,t,n,o,r=(i[20]*100).toFixed(2)+"",f,a,s;return l=new tt({props:{item:i[1].byId("item",i[19])}}),n=new re({props:{type:"item",id:i[19]}}),{c(){e=p("li"),P(l.$$.fragment),t=I(),P(n.$$.fragment),o=y(" ("),f=y(r),a=y("%)")},m(u,c){g(u,e,c),U(l,e,null),d(e,t),U(n,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:ee,i(u){s||(b(l.$$.fragment,u),b(n.$$.fragment,u),s=!0)},o(u){k(l.$$.fragment,u),k(n.$$.fragment,u),s=!1},d(u){u&&h(e),q(l),q(n)}}}function pm(i){let e,l,t,n;const o=[z2,W2],r=[];function f(a,s){return a[16].type==="bionic_group"?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function hm(i){let e,l,t=i[13].entries,n=[];for(let r=0;r<t.length;r+=1)n[r]=pm(fm(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c()},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f&10){t=r[13].entries;let a;for(a=0;a<t.length;a+=1){const s=fm(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=pm(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){r&&h(e),se(n,r)}}}function gm(i){let e,l=i[10]+"",t,n,o,r,f=[i[1].byId("harvest",i[3].get(i[10]))],a=[];for(let u=0;u<1;u+=1)a[u]=hm(om(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=p("dt"),t=y(l),n=p("dd");for(let u=0;u<1;u+=1)a[u].c();o=I(),Qe(e,"text-transform","capitalize")},m(u,c){g(u,e,c),d(e,t),g(u,n,c);for(let m=0;m<1;m+=1)a[m].m(n,null);d(n,o),r=!0},p(u,c){if(c&10){f=[u[1].byId("harvest",u[3].get(u[10]))];let m;for(m=0;m<1;m+=1){const $=om(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=hm($),a[m].c(),b(a[m],1),a[m].m(n,o))}for(Q(),m=1;m<1;m+=1)s(m);x()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)k(a[c]);r=!1},d(u){u&&h(e),u&&h(n),se(a,u)}}}function bm(i){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function $m(i){let e,l,t;return l=new re({props:{type:"json_flag",id:i[7]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[7]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function V2(i){var K,Z,ae;let e,l,t,n=ge(i[0])+"",o,r,f,a,s,u,c=((K=i[0].move_cost)!=null?K:100)+"",m,$,v,E=((Z=i[0].coverage)!=null?Z:0)+"",T,w,S,C,R,B,O,N,L,M=Ft(i[0].description)+"",X,A;l=new tt({props:{item:i[0]}});let D=i[0].transforms_into&&cm(i),J=i[2],H=[];for(let V=0;V<J.length;V+=1)H[V]=dm(am(i,J,V));const F=V=>k(H[V],1,1,()=>{H[V]=null});let j=i[3].size&&H2(i),G=(ae=i[0].flags)!=null?ae:[],z=[];for(let V=0;V<G.length;V+=1)z[V]=$m(im(i,G,V));const ie=V=>k(z[V],1,1,()=>{z[V]=null});let W=null;return G.length||(W=bm()),{c(){e=p("h1"),P(l.$$.fragment),t=I(),o=y(n),r=I(),f=p("section"),a=p("dl"),s=p("dt"),s.textContent="Move Cost",u=p("dd"),m=y(c),$=p("dt"),$.textContent="Coverage",v=p("dd"),T=y(E),w=y("%"),D&&D.c(),S=le();for(let V=0;V<H.length;V+=1)H[V].c();C=le(),j&&j.c(),R=p("dt"),R.textContent="Flags",B=p("dd"),O=p("ul");for(let V=0;V<z.length;V+=1)z[V].c();W&&W.c(),N=I(),L=p("p"),X=y(M),fe(O,"class","comma-separated"),Qe(L,"color","var(--cata-color-gray)"),Qe(L,"margin-bottom","0")},m(V,ne){g(V,e,ne),U(l,e,null),d(e,t),d(e,o),g(V,r,ne),g(V,f,ne),d(f,a),d(a,s),d(a,u),d(u,m),d(a,$),d(a,v),d(v,T),d(v,w),D&&D.m(a,null),d(a,S);for(let _e=0;_e<H.length;_e+=1)H[_e].m(a,null);d(a,C),j&&j.m(a,null),d(a,R),d(a,B),d(B,O);for(let _e=0;_e<z.length;_e+=1)z[_e].m(O,null);W&&W.m(O,null),d(f,N),d(f,L),d(L,X),A=!0},p(V,[ne]){var Fe,ke,de;const _e={};if(ne&1&&(_e.item=V[0]),l.$set(_e),(!A||ne&1)&&n!==(n=ge(V[0])+"")&&Y(o,n),(!A||ne&1)&&c!==(c=((Fe=V[0].move_cost)!=null?Fe:100)+"")&&Y(m,c),(!A||ne&1)&&E!==(E=((ke=V[0].coverage)!=null?ke:0)+"")&&Y(T,E),V[0].transforms_into?D?(D.p(V,ne),ne&1&&b(D,1)):(D=cm(V),D.c(),b(D,1),D.m(a,S)):D&&(Q(),k(D,1,1,()=>{D=null}),x()),ne&4){J=V[2];let $e;for($e=0;$e<J.length;$e+=1){const ye=am(V,J,$e);H[$e]?(H[$e].p(ye,ne),b(H[$e],1)):(H[$e]=dm(ye),H[$e].c(),b(H[$e],1),H[$e].m(a,C))}for(Q(),$e=J.length;$e<H.length;$e+=1)F($e);x()}if(V[3].size&&j.p(V,ne),ne&1){G=(de=V[0].flags)!=null?de:[];let $e;for($e=0;$e<G.length;$e+=1){const ye=im(V,G,$e);z[$e]?(z[$e].p(ye,ne),b(z[$e],1)):(z[$e]=$m(ye),z[$e].c(),b(z[$e],1),z[$e].m(O,null))}for(Q(),$e=G.length;$e<z.length;$e+=1)ie($e);x(),!G.length&&W?W.p(V,ne):G.length?W&&(W.d(1),W=null):(W=bm(),W.c(),W.m(O,null))}(!A||ne&1)&&M!==(M=Ft(V[0].description)+"")&&Y(X,M)},i(V){if(!A){b(l.$$.fragment,V),b(D);for(let ne=0;ne<J.length;ne+=1)b(H[ne]);b(j);for(let ne=0;ne<G.length;ne+=1)b(z[ne]);A=!0}},o(V){k(l.$$.fragment,V),k(D),H=H.filter(Boolean);for(let ne=0;ne<H.length;ne+=1)k(H[ne]);k(j),z=z.filter(Boolean);for(let ne=0;ne<z.length;ne+=1)k(z[ne]);A=!1},d(V){V&&h(e),q(l),V&&h(r),V&&h(f),D&&D.d(),se(H,V),j&&j.d(),se(z,V),W&&W.d()}}}function X2(i,e,l){var u,c,m;const t=nt("data");let{item:n}=e;const o=(u=n.deconstruct)!=null&&u.items?t.flattenItemGroup({subtype:"collection",entries:typeof n.deconstruct.items=="string"?[{group:n.deconstruct.items}]:n.deconstruct.items}):[],r=(c=n.bash)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof n.bash.items=="string"?[{group:n.bash.items}]:n.bash.items}):[],f=[["Deconstruct",o],["Bash",r]],a=new Map;for(const{seasons:$,id:v}of(m=n.harvest_by_season)!=null?m:[])for(const E of $)a.set(E,v);const s=$=>a.has($);return i.$$set=$=>{"item"in $&&l(0,n=$.item)},[n,t,f,a,s]}class J2 extends Xe{constructor(e){super(),Ve(this,e,X2,V2,We,{item:0})}}function K2(i){let e;return{c(){e=p("p"),e.textContent="There are no weapons in this category.",Qe(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function Z2(i){let e,l;return e=new at({props:{items:i[1],$$slots:{default:[Q2,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&17&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Q2(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function x2(i){let e;return{c(){e=p("p"),e.textContent="There are no martial arts that use this weapon category.",Qe(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function eE(i){let e,l;return e=new at({props:{items:i[2],$$slots:{default:[tE,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&17&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function tE(i){let e,l,t,n;return e=new tt({props:{item:i[0]}}),t=new re({props:{type:"martial_art",id:i[0].id}}),{c(){P(e.$$.fragment),l=I(),P(t.$$.fragment)},m(o,r){U(e,o,r),g(o,l,r),U(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),n=!1},d(o){q(e,o),o&&h(l),q(t,o)}}}function lE(i){let e,l,t=ge(i[0])+"",n,o,r,f,a,s,u,c,m,$,v,E,T,w;const S=[Z2,K2],C=[];function R(L,M){return L[1].length?0:1}s=R(i),u=C[s]=S[s](i);const B=[eE,x2],O=[];function N(L,M){return L[2].length?0:1}return E=N(i),T=O[E]=B[E](i),{c(){e=p("h1"),l=y("Weapon Category: "),n=y(t),o=I(),r=p("section"),f=p("h1"),f.textContent="Weapons",a=I(),u.c(),c=I(),m=p("section"),$=p("h1"),$.textContent="Martial Arts",v=I(),T.c()},m(L,M){g(L,e,M),d(e,l),d(e,n),g(L,o,M),g(L,r,M),d(r,f),d(r,a),C[s].m(r,null),g(L,c,M),g(L,m,M),d(m,$),d(m,v),O[E].m(m,null),w=!0},p(L,[M]){(!w||M&1)&&t!==(t=ge(L[0])+"")&&Y(n,t),u.p(L,M),T.p(L,M)},i(L){w||(b(u),b(T),w=!0)},o(L){k(u),k(T),w=!1},d(L){L&&h(e),L&&h(o),L&&h(r),C[s].d(),L&&h(c),L&&h(m),O[E].d()}}}function nE(i,e,l){let{item:t}=e;const n=nt("data"),o=n.byType("item").filter(f=>f.id).filter(f=>{var a;return((a=f.weapon_category)!=null?a:[]).some(s=>s===t.id)});o.sort((f,a)=>ge(f).localeCompare(ge(a)));const r=n.byType("martial_art").filter(f=>f.id).filter(f=>{var a;return(a=f.weapon_category)==null?void 0:a.some(s=>s===t.id)});return r.sort((f,a)=>ge(f).localeCompare(ge(a))),i.$$set=f=>{"item"in f&&l(0,t=f.item)},[t,o,r]}class iE extends Xe{constructor(e){super(),Ve(this,e,nE,lE,We,{item:0})}}function km(i,e,l){const t=i.slice();return t[3]=e[l],t}function vm(i){let e,l;return e=new q1({props:{construction:i[3]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p:ee,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function rE(i){let e,l=ge(i[0])+"",t,n,o,r,f=i[1],a=[];for(let u=0;u<f.length;u+=1)a[u]=vm(km(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=p("h1"),t=y(l),n=I();for(let u=0;u<a.length;u+=1)a[u].c();o=le()},m(u,c){g(u,e,c),d(e,t),g(u,n,c);for(let m=0;m<a.length;m+=1)a[m].m(u,c);g(u,o,c),r=!0},p(u,[c]){if((!r||c&1)&&l!==(l=ge(u[0])+"")&&Y(t,l),c&2){f=u[1];let m;for(m=0;m<f.length;m+=1){const $=km(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=vm($),a[m].c(),b(a[m],1),a[m].m(o.parentNode,o))}for(Q(),m=f.length;m<a.length;m+=1)s(m);x()}},i(u){if(!r){for(let c=0;c<f.length;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)k(a[c]);r=!1},d(u){u&&h(e),u&&h(n),se(a,u),u&&h(o)}}}function oE(i,e,l){let{item:t}=e;const o=nt("data").byType("construction").filter(r=>r.group===t.id);return i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,o]}class fE extends Xe{constructor(e){super(),Ve(this,e,oE,rE,We,{item:0})}}function ym(i,e,l){const t=i.slice();return t[3]=e[l],t}function wm(i,e,l){const t=i.slice();return t[6]=e[l],t}function Em(i,e,l){const t=i.slice();return t[9]=e[l],t}function Tm(i){let e,l=i[0].description+"",t;return{c(){e=p("p"),t=y(l),Qe(e,"color","var(--cata-color-gray)")},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=n[0].description+"")&&Y(t,l)},d(n){n&&h(e)}}}function Sm(i){let e,l,t,n,o,r=[i[0].hidden_by].flat(),f=[];for(let s=0;s<r.length;s+=1)f[s]=Cm(Em(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Hidden By",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated and")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=[s[0].hidden_by].flat();let c;for(c=0;c<r.length;c+=1){const m=Em(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Cm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Cm(i){let e,l,t;return l=new re({props:{type:i[0].type,id:i[9]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.type=n[0].type),o&1&&(r.id=n[9]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function sE(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Im(wm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Unlocks",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated and")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&5){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=wm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Im(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function Im(i){let e,l,t;return l=new re({props:{type:i[0].type,id:i[6].id}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.type=n[0].type),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function Rm(i){var E;let e,l,t,n,o=i[0].time_constraint.since+"",r,f,a,s=i[0].time_constraint.is+"",u,c,m=((E=i[0].time_constraint.target)!=null?E:"")+"",$,v;return{c(){e=p("dt"),e.textContent="Time Constraint",l=p("dd"),t=y("Time since "),n=p("strong"),r=y(o),f=y(` is
        `),a=p("strong"),u=y(s),c=I(),$=y(m),v=I()},m(T,w){g(T,e,w),g(T,l,w),d(l,t),d(l,n),d(n,r),d(l,f),d(l,a),d(a,u),d(a,c),d(a,$),d(l,v)},p(T,w){var S;w&1&&o!==(o=T[0].time_constraint.since+"")&&Y(r,o),w&1&&s!==(s=T[0].time_constraint.is+"")&&Y(u,s),w&1&&m!==(m=((S=T[0].time_constraint.target)!=null?S:"")+"")&&Y($,m)},d(T){T&&h(e),T&&h(l)}}}function aE(i){var c;let e,l=$r(i[1].byId("event_statistic",i[3].event_statistic).description)+"",t,n,o,r=i[3].is+"",f,a,s=((c=i[3].target)!=null?c:"")+"",u;return{c(){e=p("strong"),t=y(l),n=y(`
              is `),o=p("strong"),f=y(r),a=I(),u=y(s)},m(m,$){g(m,e,$),d(e,t),g(m,n,$),g(m,o,$),d(o,f),d(o,a),d(o,u)},p(m,$){var v;$&1&&l!==(l=$r(m[1].byId("event_statistic",m[3].event_statistic).description)+"")&&Y(t,l),$&1&&r!==(r=m[3].is+"")&&Y(f,r),$&1&&s!==(s=((v=m[3].target)!=null?v:"")+"")&&Y(u,s)},d(m){m&&h(e),m&&h(n),m&&h(o)}}}function uE(i){let e,l=i[3].description+"",t;return{c(){e=p("strong"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=n[3].description+"")&&Y(t,l)},d(n){n&&h(e)}}}function Nm(i){let e,l;function t(r,f){return r[3].description?uE:aE}let n=t(i),o=n(i);return{c(){e=p("li"),o.c(),l=I()},m(r,f){g(r,e,f),o.m(e,null),d(e,l)},p(r,f){n===(n=t(r))&&o?o.p(r,f):(o.d(1),o=n(r),o&&(o.c(),o.m(e,l)))},d(r){r&&h(e),o.d()}}}function cE(i){let e,l=i[0].type==="achievement"?"Achievement":"Conduct",t,n,o=ge(i[0])+"",r,f,a,s,u,c,m,$,v,E,T,w=i[0].description&&Tm(i),S=i[0].hidden_by&&Sm(i),C=i[2].length&&sE(i),R=i[0].time_constraint&&Rm(i),B=i[0].requirements,O=[];for(let N=0;N<B.length;N+=1)O[N]=Nm(ym(i,B,N));return{c(){e=p("h1"),t=y(l),n=y(": "),r=y(o),f=I(),a=p("section"),w&&w.c(),s=I(),u=p("dl"),S&&S.c(),c=le(),C&&C.c(),m=le(),R&&R.c(),$=p("dt"),$.textContent="Requirements",v=p("dd"),E=p("ul");for(let N=0;N<O.length;N+=1)O[N].c()},m(N,L){g(N,e,L),d(e,t),d(e,n),d(e,r),g(N,f,L),g(N,a,L),w&&w.m(a,null),d(a,s),d(a,u),S&&S.m(u,null),d(u,c),C&&C.m(u,null),d(u,m),R&&R.m(u,null),d(u,$),d(u,v),d(v,E);for(let M=0;M<O.length;M+=1)O[M].m(E,null);T=!0},p(N,[L]){if((!T||L&1)&&l!==(l=N[0].type==="achievement"?"Achievement":"Conduct")&&Y(t,l),(!T||L&1)&&o!==(o=ge(N[0])+"")&&Y(r,o),N[0].description?w?w.p(N,L):(w=Tm(N),w.c(),w.m(a,s)):w&&(w.d(1),w=null),N[0].hidden_by?S?(S.p(N,L),L&1&&b(S,1)):(S=Sm(N),S.c(),b(S,1),S.m(u,c)):S&&(Q(),k(S,1,1,()=>{S=null}),x()),N[2].length&&C.p(N,L),N[0].time_constraint?R?R.p(N,L):(R=Rm(N),R.c(),R.m(u,$)):R&&(R.d(1),R=null),L&3){B=N[0].requirements;let M;for(M=0;M<B.length;M+=1){const X=ym(N,B,M);O[M]?O[M].p(X,L):(O[M]=Nm(X),O[M].c(),O[M].m(E,null))}for(;M<O.length;M+=1)O[M].d(1);O.length=B.length}},i(N){T||(b(S),b(C),T=!0)},o(N){k(S),k(C),T=!1},d(N){N&&h(e),N&&h(f),N&&h(a),w&&w.d(),S&&S.d(),C&&C.d(),R&&R.d(),se(O,N)}}}function _E(i,e,l){let{item:t}=e;const n=nt("data"),o=n.byType("achievement").filter(r=>{var f;return r.id!==t.id&&[(f=r.hidden_by)!=null?f:[]].flat().includes(t.id)});return i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,n,o]}class Om extends Xe{constructor(e){super(),Ve(this,e,_E,cE,We,{item:0})}}function dE(i){let e,l,t=$l(i[0].type)+"",n,o,r,f;return{c(){e=p("section"),l=y("\u26A0\uFE0F This "),n=y(t),o=y(" is marked as "),r=p("em"),r.textContent="obsolete",f=y(`, meaning that it
  is likely not possible to obtain in this version.`),fe(e,"class","obsoletion-warning svelte-tb1bo")},m(a,s){g(a,e,s),d(e,l),d(e,n),d(e,o),d(e,r),d(e,f)},p(a,[s]){s&1&&t!==(t=$l(a[0].type)+"")&&Y(n,t)},i:ee,o:ee,d(a){a&&h(e)}}}function mE(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class pE extends Xe{constructor(e){super(),Ve(this,e,mE,dE,We,{item:0})}}function Bm(i,e,l){const t=i.slice();return t[2]=e[l],t}function Am(i,e,l){const t=i.slice();return t[2]=e[l],t}function Mm(i,e,l){const t=i.slice();return t[7]=e[l],t}function Dm(i,e,l){const t=i.slice();return t[7]=e[l],t}function Lm(i,e,l){const t=i.slice();return t[12]=e[l],t}function Gm(i,e,l){const t=i.slice();return t[15]=e[l],t}function Um(i,e,l){const t=i.slice();return t[15]=e[l],t}function qm(i,e,l){const t=i.slice();return t[20]=e[l],t}function Pm(i,e,l){const t=i.slice();return t[23]=e[l][0],t[24]=e[l][1],t}function Fm(i,e,l){const t=i.slice();return t[27]=e[l][0],t[28]=e[l][1],t}function Ym(i,e,l){const t=i.slice();return t[27]=e[l][0],t[31]=e[l][1],t}function hE(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function gE(i){let e,l=i[0].occupied_bodyparts,t=[];for(let n=0;n<l.length;n+=1)t[n]=jm(Ym(i,l,n));return{c(){e=p("ul");for(let n=0;n<t.length;n+=1)t[n].c();fe(e,"class","comma-separated")},m(n,o){g(n,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(n,o){if(o[0]&3){l=n[0].occupied_bodyparts;let r;for(r=0;r<l.length;r+=1){const f=Ym(n,l,r);t[r]?t[r].p(f,o):(t[r]=jm(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){n&&h(e),se(t,n)}}}function jm(i){let e,l=ge(i[1].byId("body_part",i[27]))+"",t,n,o=i[31]+"",r,f,a=i[31]===1?"slot":"slots",s,u;return{c(){e=p("li"),t=y(l),n=y(" ("),r=y(o),f=I(),s=y(a),u=y(`)
            `)},m(c,m){g(c,e,m),d(e,t),d(e,n),d(e,r),d(e,f),d(e,s),d(e,u)},p(c,m){m[0]&1&&l!==(l=ge(c[1].byId("body_part",c[27]))+"")&&Y(t,l),m[0]&1&&o!==(o=c[31]+"")&&Y(r,o),m[0]&1&&a!==(a=c[31]===1?"slot":"slots")&&Y(s,a)},d(c){c&&h(e)}}}function Hm(i){let e,l,t,n,o=i[0].encumbrance,r=[];for(let f=0;f<o.length;f+=1)r[f]=Wm(Fm(i,o,f));return{c(){e=p("dt"),e.textContent="Encumbrance",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&3){o=f[0].encumbrance;let s;for(s=0;s<o.length;s+=1){const u=Fm(f,o,s);r[s]?r[s].p(u,a):(r[s]=Wm(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),se(r,f)}}}function Wm(i){let e,l=ge(i[1].byId("body_part",i[27]))+"",t,n,o=i[28]+"",r,f;return{c(){e=p("li"),t=y(l),n=y(" ("),r=y(o),f=y(")")},m(a,s){g(a,e,s),d(e,t),d(e,n),d(e,r),d(e,f)},p(a,s){s[0]&1&&l!==(l=ge(a[1].byId("body_part",a[27]))+"")&&Y(t,l),s[0]&1&&o!==(o=a[28]+"")&&Y(r,o)},d(a){a&&h(e)}}}function zm(i){let e,l,t,n,o=i[0].stat_bonus,r=[];for(let f=0;f<o.length;f+=1)r[f]=Vm(Pm(i,o,f));return{c(){e=p("dt"),e.textContent="Stat Bonuses",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&1){o=f[0].stat_bonus;let s;for(s=0;s<o.length;s+=1){const u=Pm(f,o,s);r[s]?r[s].p(u,a):(r[s]=Vm(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),se(r,f)}}}function Vm(i){let e,l=i[24]>=0?`+${i[24]}`:`\u2013${-i[24]}`,t,n,o=i[23]+"",r;return{c(){e=p("li"),t=y(l),n=I(),r=y(o)},m(f,a){g(f,e,a),d(e,t),d(e,n),d(e,r)},p(f,a){a[0]&1&&l!==(l=f[24]>=0?`+${f[24]}`:`\u2013${-f[24]}`)&&Y(t,l),a[0]&1&&o!==(o=f[23]+"")&&Y(r,o)},d(f){f&&h(e)}}}function Xm(i){let e,l,t=Ft(i[0].cant_remove_reason)+"",n;return{c(){e=p("dt"),e.textContent="Cannot Be Removed",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=Ft(o[0].cant_remove_reason)+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function Jm(i){let e,l,t=i[0].act_cost+"",n;return{c(){e=p("dt"),e.textContent="Activation Cost",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].act_cost+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function Km(i){let e,l,t=i[0].trigger_cost+"",n;return{c(){e=p("dt"),e.textContent="Trigger Cost",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].trigger_cost+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function Zm(i){let e,l,t=i[0].react_cost+"",n;return{c(){e=p("dt"),e.textContent="Power Over Time",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].react_cost+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function Qm(i){let e,l,t=(i[0].vitamin_absorb_mod*100).toFixed(0)+"",n,o;return{c(){e=p("dt"),e.textContent="Vitamin Absorption Modifier",l=p("dd"),n=y(t),o=y("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f[0]&1&&t!==(t=(r[0].vitamin_absorb_mod*100).toFixed(0)+"")&&Y(n,t)},d(r){r&&h(e),r&&h(l)}}}function xm(i){let e,l,t,n,o,r=i[0].fuel_options,f=[];for(let s=0;s<r.length;s+=1)f[s]=ep(qm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Fuel",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].fuel_options;let c;for(c=0;c<r.length;c+=1){const m=qm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ep(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function ep(i){let e,l,t;return l=new re({props:{type:"material",id:i[20]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[20]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function tp(i){let e,l,t=i[0].fuel_capacity+"",n;return{c(){e=p("dt"),e.textContent="Fuel Capacity",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].fuel_capacity+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function lp(i){let e,l,t=i[0].fuel_efficiency*100+"",n,o;return{c(){e=p("dt"),e.textContent="Fuel Efficiency",l=p("dd"),n=y(t),o=y("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f[0]&1&&t!==(t=r[0].fuel_efficiency*100+"")&&Y(n,t)},d(r){r&&h(e),r&&h(l)}}}function np(i){let e,l,t=i[0].passive_fuel_efficiency*100+"",n,o;return{c(){e=p("dt"),e.textContent="Passive Fuel Efficiency",l=p("dd"),n=y(t),o=y("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f[0]&1&&t!==(t=r[0].passive_fuel_efficiency*100+"")&&Y(n,t)},d(r){r&&h(e),r&&h(l)}}}function ip(i){let e,l;return{c(){e=p("dt"),e.textContent="Emits Heat",l=p("dd"),l.textContent="yes"},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function rp(i){let e,l,t=i[0].power_trickle+"",n;return{c(){e=p("dt"),e.textContent="Power Trickle",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].power_trickle+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function op(i){let e,l,t=i[0].time+"",n,o,r=i[0].time!==1?"s":"",f;return{c(){e=p("dt"),e.textContent="Charge Time",l=p("dd"),n=y(t),o=y(" turn"),f=y(r)},m(a,s){g(a,e,s),g(a,l,s),d(l,n),d(l,o),d(l,f)},p(a,s){s[0]&1&&t!==(t=a[0].time+"")&&Y(n,t),s[0]&1&&r!==(r=a[0].time!==1?"s":"")&&Y(f,r)},d(a){a&&h(e),a&&h(l)}}}function fp(i){let e,l,t=i[0].capacity+"",n;return{c(){e=p("dt"),e.textContent="Capacity",l=p("dd"),n=y(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].capacity+"")&&Y(n,t)},d(o){o&&h(e),o&&h(l)}}}function sp(i){let e,l,t,n;return t=new re({props:{type:"item",id:i[0].fake_weapon}}),{c(){e=p("dt"),e.textContent="Acts As",l=p("dd"),P(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),U(t,l,null),n=!0},p(o,r){const f={};r[0]&1&&(f.id=o[0].fake_weapon),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){k(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),q(t)}}}function ap(i){let e,l,t,n,o,r=i[0].toggled_pseudo_items,f=[];for(let s=0;s<r.length;s+=1)f[s]=up(Um(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Acts As",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].toggled_pseudo_items;let c;for(c=0;c<r.length;c+=1){const m=Um(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=up(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function up(i){let e,l,t;return l=new re({props:{type:"item",id:i[15]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[15]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function cp(i){let e,l,t,n,o,r=i[0].passive_pseudo_items,f=[];for(let s=0;s<r.length;s+=1)f[s]=_p(Gm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Acts As",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].passive_pseudo_items;let c;for(c=0;c<r.length;c+=1){const m=Gm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=_p(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function _p(i){let e,l,t;return l=new re({props:{type:"item",id:i[15]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[15]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function dp(i){let e,l,t,n,o,r=i[0].included_bionics,f=[];for(let s=0;s<r.length;s+=1)f[s]=mp(Lm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Includes",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].included_bionics;let c;for(c=0;c<r.length;c+=1){const m=Lm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=mp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function mp(i){let e,l,t;return l=new re({props:{type:"bionic",id:i[12]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[12]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function bE(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function $E(i){let e,l,t=i[0].flags,n=[];for(let r=0;r<t.length;r+=1)n[r]=pp(Dm(i,t,r));const o=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c();fe(e,"class","comma-separated")},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f[0]&1){t=r[0].flags;let a;for(a=0;a<t.length;a+=1){const s=Dm(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=pp(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Q(),a=t.length;a<n.length;a+=1)o(a);x()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)k(n[f]);l=!1},d(r){r&&h(e),se(n,r)}}}function pp(i){let e,l,t;return l=new re({props:{type:"json_flag",id:i[7]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[7]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function hp(i){let e,l,t,n,o,r=i[0].active_flags,f=[];for(let s=0;s<r.length;s+=1)f[s]=gp(Mm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Flags When Active",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].active_flags;let c;for(c=0;c<r.length;c+=1){const m=Mm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=gp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function gp(i){let e,l,t;return l=new re({props:{type:"json_flag",id:i[7]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[7]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function bp(i){let e,l,t,n,o,r=i[0].mutation_conflicts,f=[];for(let s=0;s<r.length;s+=1)f[s]=kp(Am(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Conflicts With Mutations",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&3){r=s[0].mutation_conflicts;let c;for(c=0;c<r.length;c+=1){const m=Am(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=kp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(l),se(f,s)}}}function $p(i){let e,l,t;return l=new re({props:{type:"mutation",id:i[2]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[2]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function kp(i){let e=i[1].byId("mutation",i[2]),l,t,n=e&&$p(i);return{c(){n&&n.c(),l=le()},m(o,r){n&&n.m(o,r),g(o,l,r),t=!0},p(o,r){r[0]&1&&(e=o[1].byId("mutation",o[2])),e?n?(n.p(o,r),r[0]&1&&b(n,1)):(n=$p(o),n.c(),b(n,1),n.m(l.parentNode,l)):n&&(Q(),k(n,1,1,()=>{n=null}),x())},i(o){t||(b(n),t=!0)},o(o){k(n),t=!1},d(o){n&&n.d(o),o&&h(l)}}}function vp(i){let e,l,t,n,o=i[0].canceled_mutations,r=[];for(let a=0;a<o.length;a+=1)r[a]=wp(Bm(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Removes Mutations",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s[0]&3){o=a[0].canceled_mutations;let u;for(u=0;u<o.length;u+=1){const c=Bm(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=wp(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Q(),u=o.length;u<r.length;u+=1)f(u);x()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);n=!1},d(a){a&&h(e),a&&h(l),se(r,a)}}}function yp(i){let e,l,t;return l=new re({props:{type:"mutation",id:i[2]}}),{c(){e=p("li"),P(l.$$.fragment)},m(n,o){g(n,e,o),U(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[2]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&h(e),q(l)}}}function wp(i){let e=i[1].byId("mutation",i[2]),l,t,n=e&&yp(i);return{c(){n&&n.c(),l=le()},m(o,r){n&&n.m(o,r),g(o,l,r),t=!0},p(o,r){r[0]&1&&(e=o[1].byId("mutation",o[2])),e?n?(n.p(o,r),r[0]&1&&b(n,1)):(n=yp(o),n.c(),b(n,1),n.m(l.parentNode,l)):n&&(Q(),k(n,1,1,()=>{n=null}),x())},i(o){t||(b(n),t=!0)},o(o){k(n),t=!1},d(o){n&&n.d(o),o&&h(l)}}}function kE(i){var Lt,pt,It,He,xe;let e,l=ge(i[0])+"",t,n,o,r,f,a,s,u,c,m,$,v,E,T,w,S,C,R,B,O,N,L,M,X,A,D,J,H,F,j=i[0].dupes_allowed?"yes":"no",G,z,ie,W,K,Z,ae,V,ne,_e,Fe=Ft(i[0].description)+"",ke,de;function $e(we,ze){return we[0].occupied_bodyparts?gE:hE}let ye=$e(i),ue=ye(i),De=i[0].encumbrance&&Hm(i),Se=i[0].stat_bonus&&zm(i),be=i[0].cant_remove_reason&&Xm(i),Te=i[0].act_cost&&Jm(i),et=i[0].trigger_cost&&Km(i),Re=i[0].react_cost&&Zm(i),me=((Lt=i[0].vitamin_absorb_mod)!=null?Lt:1)!==1&&Qm(i),ve=((pt=i[0].fuel_options)==null?void 0:pt.length)&&xm(i),Ye=i[0].fuel_capacity&&tp(i),Me=i[0].fuel_efficiency&&lp(i),Be=i[0].passive_fuel_efficiency&&np(i),Je=i[0].exothermic_power_gen&&ip(),ce=i[0].power_trickle&&rp(i),Ae=i[0].time&&op(i),qe=i[0].capacity&&fp(i),Ie=i[0].fake_weapon&&sp(i),Ee=((It=i[0].toggled_pseudo_items)==null?void 0:It.length)&&ap(i),Ue=((He=i[0].passive_pseudo_items)==null?void 0:He.length)&&cp(i),Le=((xe=i[0].included_bionics)==null?void 0:xe.length)&&dp(i);const Ke=[$E,bE],lt=[];function $t(we,ze){var dt;return(dt=we[0].flags)!=null&&dt.length?0:1}W=$t(i),K=lt[W]=Ke[W](i);let ot=i[0].active_flags&&hp(i),ht=i[0].mutation_conflicts&&bp(i),ct=i[0].canceled_mutations&&vp(i);return{c(){e=p("h1"),t=y(l),n=I(),o=p("section"),r=p("h1"),r.textContent="General",f=I(),a=p("dl"),s=p("dt"),s.textContent="Occupied Body Parts",u=p("dd"),ue.c(),c=I(),De&&De.c(),m=le(),Se&&Se.c(),$=le(),be&&be.c(),v=le(),Te&&Te.c(),E=le(),et&&et.c(),T=le(),Re&&Re.c(),w=le(),me&&me.c(),S=le(),ve&&ve.c(),C=le(),Ye&&Ye.c(),R=le(),Me&&Me.c(),B=le(),Be&&Be.c(),O=le(),Je&&Je.c(),N=le(),ce&&ce.c(),L=le(),Ae&&Ae.c(),M=le(),qe&&qe.c(),X=le(),Ie&&Ie.c(),A=le(),Ee&&Ee.c(),D=le(),Ue&&Ue.c(),J=le(),Le&&Le.c(),H=p("dt"),H.textContent="Duplicates Allowed",F=p("dd"),G=y(j),z=p("dt"),z.textContent="Flags",ie=p("dd"),K.c(),Z=I(),ot&&ot.c(),ae=le(),ht&&ht.c(),V=le(),ct&&ct.c(),ne=I(),_e=p("p"),ke=y(Fe),Qe(_e,"color","var(--cata-color-gray)")},m(we,ze){g(we,e,ze),d(e,t),g(we,n,ze),g(we,o,ze),d(o,r),d(o,f),d(o,a),d(a,s),d(a,u),ue.m(u,null),d(u,c),De&&De.m(a,null),d(a,m),Se&&Se.m(a,null),d(a,$),be&&be.m(a,null),d(a,v),Te&&Te.m(a,null),d(a,E),et&&et.m(a,null),d(a,T),Re&&Re.m(a,null),d(a,w),me&&me.m(a,null),d(a,S),ve&&ve.m(a,null),d(a,C),Ye&&Ye.m(a,null),d(a,R),Me&&Me.m(a,null),d(a,B),Be&&Be.m(a,null),d(a,O),Je&&Je.m(a,null),d(a,N),ce&&ce.m(a,null),d(a,L),Ae&&Ae.m(a,null),d(a,M),qe&&qe.m(a,null),d(a,X),Ie&&Ie.m(a,null),d(a,A),Ee&&Ee.m(a,null),d(a,D),Ue&&Ue.m(a,null),d(a,J),Le&&Le.m(a,null),d(a,H),d(a,F),d(F,G),d(a,z),d(a,ie),lt[W].m(ie,null),d(ie,Z),ot&&ot.m(a,null),d(a,ae),ht&&ht.m(a,null),d(a,V),ct&&ct.m(a,null),d(o,ne),d(o,_e),d(_e,ke),de=!0},p(we,ze){var kt,vt,yt,ut,_t;(!de||ze[0]&1)&&l!==(l=ge(we[0])+"")&&Y(t,l),ye===(ye=$e(we))&&ue?ue.p(we,ze):(ue.d(1),ue=ye(we),ue&&(ue.c(),ue.m(u,c))),we[0].encumbrance?De?De.p(we,ze):(De=Hm(we),De.c(),De.m(a,m)):De&&(De.d(1),De=null),we[0].stat_bonus?Se?Se.p(we,ze):(Se=zm(we),Se.c(),Se.m(a,$)):Se&&(Se.d(1),Se=null),we[0].cant_remove_reason?be?be.p(we,ze):(be=Xm(we),be.c(),be.m(a,v)):be&&(be.d(1),be=null),we[0].act_cost?Te?Te.p(we,ze):(Te=Jm(we),Te.c(),Te.m(a,E)):Te&&(Te.d(1),Te=null),we[0].trigger_cost?et?et.p(we,ze):(et=Km(we),et.c(),et.m(a,T)):et&&(et.d(1),et=null),we[0].react_cost?Re?Re.p(we,ze):(Re=Zm(we),Re.c(),Re.m(a,w)):Re&&(Re.d(1),Re=null),((kt=we[0].vitamin_absorb_mod)!=null?kt:1)!==1?me?me.p(we,ze):(me=Qm(we),me.c(),me.m(a,S)):me&&(me.d(1),me=null),(vt=we[0].fuel_options)!=null&&vt.length?ve?(ve.p(we,ze),ze[0]&1&&b(ve,1)):(ve=xm(we),ve.c(),b(ve,1),ve.m(a,C)):ve&&(Q(),k(ve,1,1,()=>{ve=null}),x()),we[0].fuel_capacity?Ye?Ye.p(we,ze):(Ye=tp(we),Ye.c(),Ye.m(a,R)):Ye&&(Ye.d(1),Ye=null),we[0].fuel_efficiency?Me?Me.p(we,ze):(Me=lp(we),Me.c(),Me.m(a,B)):Me&&(Me.d(1),Me=null),we[0].passive_fuel_efficiency?Be?Be.p(we,ze):(Be=np(we),Be.c(),Be.m(a,O)):Be&&(Be.d(1),Be=null),we[0].exothermic_power_gen?Je||(Je=ip(),Je.c(),Je.m(a,N)):Je&&(Je.d(1),Je=null),we[0].power_trickle?ce?ce.p(we,ze):(ce=rp(we),ce.c(),ce.m(a,L)):ce&&(ce.d(1),ce=null),we[0].time?Ae?Ae.p(we,ze):(Ae=op(we),Ae.c(),Ae.m(a,M)):Ae&&(Ae.d(1),Ae=null),we[0].capacity?qe?qe.p(we,ze):(qe=fp(we),qe.c(),qe.m(a,X)):qe&&(qe.d(1),qe=null),we[0].fake_weapon?Ie?(Ie.p(we,ze),ze[0]&1&&b(Ie,1)):(Ie=sp(we),Ie.c(),b(Ie,1),Ie.m(a,A)):Ie&&(Q(),k(Ie,1,1,()=>{Ie=null}),x()),(yt=we[0].toggled_pseudo_items)!=null&&yt.length?Ee?(Ee.p(we,ze),ze[0]&1&&b(Ee,1)):(Ee=ap(we),Ee.c(),b(Ee,1),Ee.m(a,D)):Ee&&(Q(),k(Ee,1,1,()=>{Ee=null}),x()),(ut=we[0].passive_pseudo_items)!=null&&ut.length?Ue?(Ue.p(we,ze),ze[0]&1&&b(Ue,1)):(Ue=cp(we),Ue.c(),b(Ue,1),Ue.m(a,J)):Ue&&(Q(),k(Ue,1,1,()=>{Ue=null}),x()),(_t=we[0].included_bionics)!=null&&_t.length?Le?(Le.p(we,ze),ze[0]&1&&b(Le,1)):(Le=dp(we),Le.c(),b(Le,1),Le.m(a,H)):Le&&(Q(),k(Le,1,1,()=>{Le=null}),x()),(!de||ze[0]&1)&&j!==(j=we[0].dupes_allowed?"yes":"no")&&Y(G,j);let dt=W;W=$t(we),W===dt?lt[W].p(we,ze):(Q(),k(lt[dt],1,1,()=>{lt[dt]=null}),x(),K=lt[W],K?K.p(we,ze):(K=lt[W]=Ke[W](we),K.c()),b(K,1),K.m(ie,Z)),we[0].active_flags?ot?(ot.p(we,ze),ze[0]&1&&b(ot,1)):(ot=hp(we),ot.c(),b(ot,1),ot.m(a,ae)):ot&&(Q(),k(ot,1,1,()=>{ot=null}),x()),we[0].mutation_conflicts?ht?(ht.p(we,ze),ze[0]&1&&b(ht,1)):(ht=bp(we),ht.c(),b(ht,1),ht.m(a,V)):ht&&(Q(),k(ht,1,1,()=>{ht=null}),x()),we[0].canceled_mutations?ct?(ct.p(we,ze),ze[0]&1&&b(ct,1)):(ct=vp(we),ct.c(),b(ct,1),ct.m(a,null)):ct&&(Q(),k(ct,1,1,()=>{ct=null}),x()),(!de||ze[0]&1)&&Fe!==(Fe=Ft(we[0].description)+"")&&Y(ke,Fe)},i(we){de||(b(ve),b(Ie),b(Ee),b(Ue),b(Le),b(K),b(ot),b(ht),b(ct),de=!0)},o(we){k(ve),k(Ie),k(Ee),k(Ue),k(Le),k(K),k(ot),k(ht),k(ct),de=!1},d(we){we&&h(e),we&&h(n),we&&h(o),ue.d(),De&&De.d(),Se&&Se.d(),be&&be.d(),Te&&Te.d(),et&&et.d(),Re&&Re.d(),me&&me.d(),ve&&ve.d(),Ye&&Ye.d(),Me&&Me.d(),Be&&Be.d(),Je&&Je.d(),ce&&ce.d(),Ae&&Ae.d(),qe&&qe.d(),Ie&&Ie.d(),Ee&&Ee.d(),Ue&&Ue.d(),Le&&Le.d(),lt[W].d(),ot&&ot.d(),ht&&ht.d(),ct&&ct.d()}}}function vE(i,e,l){let{item:t}=e;const n=nt("data");return i.$$set=o=>{"item"in o&&l(0,t=o.item)},[t,n]}class yE extends Xe{constructor(e){super(),Ve(this,e,vE,kE,We,{item:0},null,[-1,-1])}}function wE(i){let e,l,t,n,o,r,f,a;const s=[CE,SE,TE],u=[];function c(m,$){return m[1]?0:globalThis!=null&&globalThis.process?1:2}return e=c(i),l=u[e]=s[e](i),{c(){l.c(),t=I(),n=p("details"),o=p("summary"),o.textContent="Raw JSON",r=I(),f=p("pre"),f.textContent=`${JSON.stringify(i[3],null,2)}`},m(m,$){u[e].m(m,$),g(m,t,$),g(m,n,$),d(n,o),d(n,r),d(n,f),a=!0},p(m,$){let v=e;e=c(m),e===v?u[e].p(m,$):(Q(),k(u[v],1,1,()=>{u[v]=null}),x(),l=u[e],l?l.p(m,$):(l=u[e]=s[e](m),l.c()),b(l,1),l.m(t.parentNode,t))},i(m){a||(b(l),a=!0)},o(m){k(l),a=!1},d(m){u[e].d(m),m&&h(t),m&&h(n)}}}function EE(i){let e,l=i[0].type+"",t,n,o=i[0].id+"",r;return{c(){e=y("Unknown obj: "),t=y(l),n=y("/"),r=y(o)},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),g(f,r,a)},p(f,a){a&1&&l!==(l=f[0].type+"")&&Y(t,l),a&1&&o!==(o=f[0].id+"")&&Y(r,o)},i:ee,o:ee,d(f){f&&h(e),f&&h(t),f&&h(n),f&&h(r)}}}function TE(i){let e,l;return e=new m2({props:{onError:i[2],$$slots:{default:[RE]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function SE(i){var r;let e,l,t;var n=(r=i[4][i[3].type])!=null?r:Gi;function o(f){return{props:{item:f[3]}}}return n&&(e=new n(o(i))),{c(){e&&P(e.$$.fragment),l=le()},m(f,a){e&&U(e,f,a),g(f,l,a),t=!0},p(f,a){var s;if(n!==(n=(s=f[4][f[3].type])!=null?s:Gi)){if(e){Q();const u=e;k(u.$$.fragment,1,0,()=>{q(u,1)}),x()}n?(e=new n(o(f)),P(e.$$.fragment),b(e.$$.fragment,1),U(e,l.parentNode,l)):e=null}},i(f){t||(e&&b(e.$$.fragment,f),t=!0)},o(f){e&&k(e.$$.fragment,f),t=!1},d(f){f&&h(l),e&&q(e,f)}}}function CE(i){let e,l,t,n,o,r,f,a,s=i[1].message+"",u,c,m,$=i[1].stack+"",v;return{c(){e=p("section"),l=p("h1"),l.textContent="Error",t=I(),n=p("p"),n.textContent=`There was a problem displaying this page. Not all versions of Cataclysm
        are supported by the Guide currently. Try selecting a different build.`,o=I(),r=p("p"),f=p("details"),a=p("summary"),u=y(s),c=I(),m=p("pre"),v=y($)},m(E,T){g(E,e,T),d(e,l),d(e,t),d(e,n),d(e,o),d(e,r),d(r,f),d(f,a),d(a,u),d(f,c),d(f,m),d(m,v)},p(E,T){T&2&&s!==(s=E[1].message+"")&&Y(u,s),T&2&&$!==($=E[1].stack+"")&&Y(v,$)},i:ee,o:ee,d(E){E&&h(e)}}}function IE(i){let e,l;return e=new pE({props:{item:i[3]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p:ee,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function RE(i){var s;let e=/obsolet/.test(i[3].__filename),l,t,n,o,r=e&&IE(i);var f=(s=i[4][i[3].type])!=null?s:Gi;function a(u){return{props:{item:u[3]}}}return f&&(t=new f(a(i))),{c(){r&&r.c(),l=I(),t&&P(t.$$.fragment),n=le()},m(u,c){r&&r.m(u,c),g(u,l,c),t&&U(t,u,c),g(u,n,c),o=!0},p(u,c){var m;if(e&&r.p(u,c),f!==(f=(m=u[4][u[3].type])!=null?m:Gi)){if(t){Q();const $=t;k($.$$.fragment,1,0,()=>{q($,1)}),x()}f?(t=new f(a(u)),P(t.$$.fragment),b(t.$$.fragment,1),U(t,n.parentNode,n)):t=null}},i(u){o||(b(r),t&&b(t.$$.fragment,u),o=!0)},o(u){k(r),t&&k(t.$$.fragment,u),o=!1},d(u){r&&r.d(u),u&&h(l),u&&h(n),t&&q(t,u)}}}function NE(i){let e,l,t,n;const o=[EE,wE],r=[];function f(a,s){return a[3]?1:0}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,[s]){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function OE(i,e){return e==="json_flag"?{id:i,type:e}:null}function BE(i,e,l){var s;let{item:t}=e,{data:n}=e;Dr("data",n);let o=null;function r(u){l(1,o=u)}let f=(s=n.byId(t.type,t.id))!=null?s:OE(t.id,t.type);const a={MONSTER:Vg,AMMO:fl,GUN:fl,ARMOR:fl,PET_ARMOR:fl,TOOL:fl,TOOLMOD:fl,TOOL_ARMOR:fl,BOOK:fl,COMESTIBLE:fl,ENGINE:fl,WHEEL:fl,GUNMOD:fl,MAGAZINE:fl,BATTERY:fl,GENERIC:fl,BIONIC_ITEM:fl,material:Rv,ammunition_type:Dv,tool_quality:jv,furniture:ky,skill:Sy,proficiency:Oy,json_flag:Wy,fault:fw,vitamin:cw,vehicle_part:Ew,martial_art:o2,mutation:y2,mutation_category:Y1,mutation_type:R2,vehicle:U2,terrain:J2,weapon_category:iE,construction_group:fE,achievement:Om,conduct:Om,bionic:yE};return i.$$set=u=>{"item"in u&&l(0,t=u.item),"data"in u&&l(5,n=u.data)},[t,o,r,f,a,n]}class AE extends Xe{constructor(e){super(),Ve(this,e,BE,NE,We,{item:0,data:5})}}var ME=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},j1={exports:{}};(function(i){((e,l)=>{i.exports?i.exports=l():e.fuzzysort=l()})(ME,e=>{var l=(F,j)=>{if(F=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!F||!j)return D;var G=u(F);L(j)||(j=s(j));var z=G.bitflags;return(z&j._bitflags)!==z?D:m(G,j)},t=(F,j,G)=>{if(F=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:j?j[0]:D}];if(!F)return G&&G.all?c(F,j,G):A;var z=u(F),ie=z.bitflags;z.containsSpace;var W=G&&G.threshold||X,K=G&&G.limit||M,Z=0,ae=0,V=j.length;if(G&&G.key)for(var ne=G.key,_e=0;_e<V;++_e){var Fe=j[_e],ke=N(Fe,ne);if(!!ke&&(L(ke)||(ke=s(ke)),(ie&ke._bitflags)===ie)){var de=m(z,ke);de!==D&&(de.score<W||(de={target:de.target,_targetLower:"",_targetLowerCodes:D,_nextBeginningIndexes:D,_bitflags:0,score:de.score,_indexes:de._indexes,obj:Fe},Z<K?(H.add(de),++Z):(++ae,de.score>H.peek().score&&H.replaceTop(de))))}}else if(G&&G.keys)for(var $e=G.scoreFn||O,ye=G.keys,ue=ye.length,_e=0;_e<V;++_e){for(var Fe=j[_e],De=new Array(ue),Se=0;Se<ue;++Se){var ne=ye[Se],ke=N(Fe,ne);if(!ke){De[Se]=D;continue}L(ke)||(ke=s(ke)),(ie&ke._bitflags)!==ie?De[Se]=D:De[Se]=m(z,ke)}De.obj=Fe;var be=$e(De);be!==D&&(be<W||(De.score=be,Z<K?(H.add(De),++Z):(++ae,be>H.peek().score&&H.replaceTop(De))))}else for(var _e=0;_e<V;++_e){var ke=j[_e];if(!!ke&&(L(ke)||(ke=s(ke)),(ie&ke._bitflags)===ie)){var de=m(z,ke);de!==D&&(de.score<W||(Z<K?(H.add(de),++Z):(++ae,de.score>H.peek().score&&H.replaceTop(de))))}}if(Z===0)return A;for(var Te=new Array(Z),_e=Z-1;_e>=0;--_e)Te[_e]=H.poll();return Te.total=Z+ae,Te},n=(F,j,G)=>{if(typeof j=="function")return o(F,j);if(F===D)return D;j===void 0&&(j="<b>"),G===void 0&&(G="</b>");var z="",ie=0,W=!1,K=F.target,Z=K.length,ae=F._indexes;ae=ae.slice(0,ae.len).sort((_e,Fe)=>_e-Fe);for(var V=0;V<Z;++V){var ne=K[V];if(ae[ie]===V){if(++ie,W||(W=!0,z+=j),ie===ae.length){z+=ne+G+K.substr(V+1);break}}else W&&(W=!1,z+=G);z+=ne}return z},o=(V,j)=>{if(V===D)return D;var G=V.target,z=G.length,ie=V._indexes;ie=ie.slice(0,ie.len).sort((Fe,ke)=>Fe-ke);for(var W="",K=0,Z=0,ae=!1,V=[],ne=0;ne<z;++ne){var _e=G[ne];if(ie[Z]===ne){if(++Z,ae||(ae=!0,V.push(W),W=""),Z===ie.length){W+=_e,V.push(j(W,K++)),W="",V.push(G.substr(ne+1));break}}else ae&&(ae=!1,V.push(j(W,K++)),W="");W+=_e}return V},r=F=>F._indexes.slice(0,F._indexes.len).sort((j,G)=>j-G),f=F=>{typeof F!="string"&&(F="");var j=v(F);return{target:F,_targetLower:j._lower,_targetLowerCodes:j.lowerCodes,_nextBeginningIndexes:D,_bitflags:j.bitflags,score:D,_indexes:[0],obj:D}},a=F=>{typeof F!="string"&&(F=""),F=F.trim();var j=v(F),G=[];if(j.containsSpace){var z=F.split(/\s+/);z=[...new Set(z)];for(var ie=0;ie<z.length;ie++)if(z[ie]!==""){var W=v(z[ie]);G.push({lowerCodes:W.lowerCodes,_lower:z[ie].toLowerCase(),containsSpace:!1})}}return{lowerCodes:j.lowerCodes,bitflags:j.bitflags,containsSpace:j.containsSpace,_lower:j._lower,spaceSearches:G}},s=F=>{if(F.length>999)return f(F);var j=S.get(F);return j!==void 0||(j=f(F),S.set(F,j)),j},u=F=>{if(F.length>999)return a(F);var j=C.get(F);return j!==void 0||(j=a(F),C.set(F,j)),j},c=(F,j,G)=>{var z=[];z.total=j.length;var ie=G&&G.limit||M;if(G&&G.key)for(var W=0;W<j.length;W++){var K=j[W],Z=N(K,G.key);if(!!Z){L(Z)||(Z=s(Z)),Z.score=X,Z._indexes.len=0;var ae=Z;if(ae={target:ae.target,_targetLower:"",_targetLowerCodes:D,_nextBeginningIndexes:D,_bitflags:0,score:Z.score,_indexes:D,obj:K},z.push(ae),z.length>=ie)return z}}else if(G&&G.keys)for(var W=0;W<j.length;W++){for(var K=j[W],V=new Array(G.keys.length),ne=G.keys.length-1;ne>=0;--ne){var Z=N(K,G.keys[ne]);if(!Z){V[ne]=D;continue}L(Z)||(Z=s(Z)),Z.score=X,Z._indexes.len=0,V[ne]=Z}if(V.obj=K,V.score=X,z.push(V),z.length>=ie)return z}else for(var W=0;W<j.length;W++){var Z=j[W];if(!!Z&&(L(Z)||(Z=s(Z)),Z.score=X,Z._indexes.len=0,z.push(Z),z.length>=ie))return z}return z},m=(F,j)=>{if(F.containsSpace)return $(F,j);for(var G=F._lower,z=F.lowerCodes,ie=z[0],W=j._targetLowerCodes,K=z.length,Z=W.length,_e=0,ae=0,V=0;;){var ne=ie===W[ae];if(ne){if(R[V++]=ae,++_e,_e===K)break;ie=z[_e]}if(++ae,ae>=Z)return D}var _e=0,Fe=!1,ke=0,de=j._nextBeginningIndexes;de===D&&(de=j._nextBeginningIndexes=T(j.target)),ae=R[0]===0?0:de[R[0]-1];var $e=0;if(ae!==Z)for(;;)if(ae>=Z){if(_e<=0||(++$e,$e>200))break;--_e;var ye=B[--ke];ae=de[ye]}else{var ne=z[_e]===W[ae];if(ne){if(B[ke++]=ae,++_e,_e===K){Fe=!0;break}++ae}else ae=de[ae]}var ue=j._targetLower.indexOf(G,R[0]),De=~ue;if(De&&!Fe)for(var Se=0;Se<V;++Se)R[Se]=ue+Se;var be=!1;De&&(be=j._nextBeginningIndexes[ue-1]===ue);{if(Fe)var Te=B,et=ke;else var Te=R,et=V;for(var Re=0,me=0,Se=1;Se<K;++Se)Te[Se]-Te[Se-1]!==1&&(Re-=Te[Se],++me);var ve=Te[K-1]-Te[0]-(K-1);if(Re-=(12+ve)*me,Te[0]!==0&&(Re-=Te[0]*10),!Fe)Re*=1e3;else{for(var Ye=1,Se=de[0];Se<Z;Se=de[Se])++Ye;Ye>24&&(Re*=(Ye-24)*10)}De&&(Re/=10),be&&(Re/=10),Re-=Z-K,j.score=Re;for(var Se=0;Se<et;++Se)j._indexes[Se]=Te[Se];return j._indexes.len=et,j}},$=(F,j)=>{for(var G=new Set,z=0,ie=D,W=0,K=F.spaceSearches,V=0;V<K.length;++V){var Z=K[V];if(ie=m(Z,j),ie===D)return D;z+=ie.score,ie._indexes[0]<W&&(z-=W-ie._indexes[0]),W=ie._indexes[0];for(var ae=0;ae<ie._indexes.len;++ae)G.add(ie._indexes[ae])}ie.score=z;var V=0;for(let ne of G)ie._indexes[V++]=ne;return ie._indexes.len=V,ie},v=F=>{for(var j=F.length,G=F.toLowerCase(),z=[],ie=0,W=!1,K=0;K<j;++K){var Z=z[K]=G.charCodeAt(K);if(Z===32){W=!0;continue}var ae=Z>=97&&Z<=122?Z-97:Z>=48&&Z<=57?26:Z<=127?30:31;ie|=1<<ae}return{lowerCodes:z,bitflags:ie,containsSpace:W,_lower:G}},E=F=>{for(var j=F.length,G=[],z=0,ie=!1,W=!1,K=0;K<j;++K){var Z=F.charCodeAt(K),ae=Z>=65&&Z<=90,V=ae||Z>=97&&Z<=122||Z>=48&&Z<=57,ne=ae&&!ie||!W||!V;ie=ae,W=V,ne&&(G[z++]=K)}return G},T=F=>{for(var j=F.length,G=E(F),z=[],ie=G[0],W=0,K=0;K<j;++K)ie>K?z[K]=ie:(ie=G[++W],z[K]=ie===void 0?j:ie);return z},w=()=>{S.clear(),C.clear(),R=[],B=[]},S=new Map,C=new Map,R=[],B=[],O=F=>{for(var j=X,G=F.length,z=0;z<G;++z){var ie=F[z];if(ie!==D){var W=ie.score;W>j&&(j=W)}}return j===X?D:j},N=(F,j)=>{var G=F[j];if(G!==void 0)return G;var z=j;Array.isArray(j)||(z=j.split("."));for(var ie=z.length,W=-1;F&&++W<ie;)F=F[z[W]];return F},L=F=>typeof F=="object",M=1/0,X=-M,A=[];A.total=0;var D=null,J=F=>{var j=[],G=0,z={},ie=W=>{for(var K=0,Z=j[K],ae=1;ae<G;){var V=ae+1;K=ae,V<G&&j[V].score<j[ae].score&&(K=V),j[K-1>>1]=j[K],ae=1+(K<<1)}for(var ne=K-1>>1;K>0&&Z.score<j[ne].score;ne=(K=ne)-1>>1)j[K]=j[ne];j[K]=Z};return z.add=W=>{var K=G;j[G++]=W;for(var Z=K-1>>1;K>0&&W.score<j[Z].score;Z=(K=Z)-1>>1)j[K]=j[Z];j[K]=W},z.poll=W=>{if(G!==0){var K=j[0];return j[0]=j[--G],ie(),K}},z.peek=W=>{if(G!==0)return j[0]},z.replaceTop=W=>{j[0]=W,ie()},z},H=J();return{single:l,go:t,highlight:n,prepare:f,indexes:r,cleanup:w}})})(j1);function Ep(i,e,l){const t=i.slice();return t[6]=e[l],t}function Tp(i,e,l){const t=i.slice();return t[9]=e[l],t}function DE(i){let e;return{c(){e=p("pre"),e.textContent="..."},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function LE(i){let e,l,t=[...i[1].keys()],n=[];for(let f=0;f<t.length;f+=1)n[f]=Rp(Ep(i,t,f));const o=f=>k(n[f],1,1,()=>{n[f]=null});let r=null;return t.length||(r=Sp()),{c(){for(let f=0;f<n.length;f+=1)n[f].c();e=le(),r&&r.c()},m(f,a){for(let s=0;s<n.length;s+=1)n[s].m(f,a);g(f,e,a),r&&r.m(f,a),l=!0},p(f,a){if(a&3){t=[...f[1].keys()];let s;for(s=0;s<t.length;s+=1){const u=Ep(f,t,s);n[s]?(n[s].p(u,a),b(n[s],1)):(n[s]=Rp(u),n[s].c(),b(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)o(s);x(),!t.length&&r?r.p(f,a):t.length?r&&(r.d(1),r=null):(r=Sp(),r.c(),r.m(e.parentNode,e))}},i(f){if(!l){for(let a=0;a<t.length;a+=1)b(n[a]);l=!0}},o(f){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)k(n[a]);l=!1},d(f){se(n,f),f&&h(e),r&&r.d(f)}}}function Sp(i){let e;return{c(){e=p("em"),e.textContent="No results."},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function Cp(i){let e;return{c(){e=p("em"),e.textContent="(obsolete)",Qe(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Ip(i){let e,l,t,n,o=ge(i[0]._flatten(i[9]))+"",r,f,a,s=/obsolet/.test(i[9].__filename),u;l=new tt({props:{item:i[0]._flatten(i[9])}});let c=s&&Cp();return{c(){e=p("li"),P(l.$$.fragment),t=I(),n=p("a"),r=y(o),a=I(),c&&c.c(),fe(n,"href",f="#/"+$l(i[9].type)+"/"+i[9].id)},m(m,$){g(m,e,$),U(l,e,null),d(e,t),d(e,n),d(n,r),d(e,a),c&&c.m(e,null),u=!0},p(m,$){const v={};$&3&&(v.item=m[0]._flatten(m[9])),l.$set(v),(!u||$&3)&&o!==(o=ge(m[0]._flatten(m[9]))+"")&&Y(r,o),(!u||$&2&&f!==(f="#/"+$l(m[9].type)+"/"+m[9].id))&&fe(n,"href",f),$&2&&(s=/obsolet/.test(m[9].__filename)),s?c||(c=Cp(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(m){u||(b(l.$$.fragment,m),u=!0)},o(m){k(l.$$.fragment,m),u=!1},d(m){m&&h(e),q(l),c&&c.d()}}}function Rp(i){let e,l=i[6].replace(/_/g," ")+"",t,n,o,r,f,a=i[1].get(i[6]),s=[];for(let c=0;c<a.length;c+=1)s[c]=Ip(Tp(i,a,c));const u=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){e=p("h1"),t=y(l),n=I(),o=p("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=I()},m(c,m){g(c,e,m),d(e,t),g(c,n,m),g(c,o,m);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(o,r),f=!0},p(c,m){if((!f||m&2)&&l!==(l=c[6].replace(/_/g," ")+"")&&Y(t,l),m&3){a=c[1].get(c[6]);let $;for($=0;$<a.length;$+=1){const v=Tp(c,a,$);s[$]?(s[$].p(v,m),b(s[$],1)):(s[$]=Ip(v),s[$].c(),b(s[$],1),s[$].m(o,r))}for(Q(),$=a.length;$<s.length;$+=1)u($);x()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)k(s[m]);f=!1},d(c){c&&h(e),c&&h(n),c&&h(o),se(s,c)}}}function GE(i){let e,l,t,n;const o=[LE,DE],r=[];function f(a,s){return a[1]?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(Q(),k(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function UE(i,e,l){let t;const n=new Set(["item","monster","furniture","vehicle_part","tool_quality","martial_art","mutation","vehicle","terrain"]);let{data:o}=e,r,{search:f}=e;function a(s){const u=j1.exports.go(s,r,{limit:100,keys:["id","name"],threshold:-1e4}),c=new Map;for(const{obj:m}of u){const $=m.type;if(!n.has($))continue;c.has($)||c.set($,[]);const v=o.byId($,m.id);if(!v)debugger;c.get($).push(v)}return c}return i.$$set=s=>{"data"in s&&l(0,o=s.data),"search"in s&&l(2,f=s.search)},i.$$.update=()=>{var s;i.$$.dirty&1&&Dr("data",o),i.$$.dirty&1&&(r=[...(s=o==null?void 0:o.all())!=null?s:[]].filter(u=>"id"in u&&typeof u.id=="string"&&n.has($l(u.type))).filter(u=>u.type==="mutation"?!/Fake\d$/.test(u.id):!0).map(u=>({id:u.id,name:ge(u),type:$l(u.type)}))),i.$$.dirty&5&&l(1,t=f&&f.length>1&&o&&a(f)),i.$$.dirty&4&&history.replaceState({search:f},"")},[o,t,f]}class qE extends Xe{constructor(e){super(),Ve(this,e,UE,GE,We,{data:0,search:2})}}function Np(i,e,l){const t=i.slice();return t[8]=e[l],t}function PE(i){let e,l,t,n,o,r=i[8]&&YE(i);return t=new at({props:{items:i[3].get(i[8]).filter(i[5]),limit:i[4].length===1?1/0:10,$$slots:{default:[jE,({item:f})=>({11:f}),({item:f})=>f?2048:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),r&&r.c(),l=I(),P(t.$$.fragment),n=I()},m(f,a){g(f,e,a),r&&r.m(e,null),d(e,l),U(t,e,null),d(e,n),o=!0},p(f,a){f[8]&&r.p(f,a);const s={};a&6145&&(s.$$scope={dirty:a,ctx:f}),t.$set(s)},i(f){o||(b(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&h(e),r&&r.d(),q(t)}}}function FE(i){let e,l;return e=new Y1({props:{item:i[1].byId("mutation_category",i[8]),inCatalog:!0}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.item=t[1].byId("mutation_category",t[8])),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function YE(i){let e,l=i[8]+"",t;return{c(){e=p("h1"),t=y(l)},m(n,o){g(n,e,o),d(e,t)},p:ee,d(n){n&&h(e)}}}function Op(i){let e,l;return e=new tt({props:{item:i[11]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&2048&&(o.item=t[11]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function jE(i){let e,l,t,n=(i[0]==="item"||i[0]==="terrain"||i[0]==="furniture"||i[0]==="monster")&&Op(i);return l=new re({props:{type:i[2],id:i[11].id}}),{c(){n&&n.c(),e=I(),P(l.$$.fragment)},m(o,r){n&&n.m(o,r),g(o,e,r),U(l,o,r),t=!0},p(o,r){o[0]==="item"||o[0]==="terrain"||o[0]==="furniture"||o[0]==="monster"?n?(n.p(o,r),r&1&&b(n,1)):(n=Op(o),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(Q(),k(n,1,1,()=>{n=null}),x());const f={};r&2048&&(f.id=o[11].id),l.$set(f)},i(o){t||(b(n),b(l.$$.fragment,o),t=!0)},o(o){k(n),k(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&h(e),q(l,o)}}}function Bp(i){let e,l,t,n,o;const r=[FE,PE],f=[];function a(s,u){return u&3&&(e=null),e==null&&(e=!!(s[0]==="mutation"&&s[8]&&s[1].byId("mutation_category",s[8]))),e?0:1}return l=a(i,-1),t=f[l]=r[l](i),{c(){t.c(),n=le()},m(s,u){f[l].m(s,u),g(s,n,u),o=!0},p(s,u){let c=l;l=a(s,u),l===c?f[l].p(s,u):(Q(),k(f[c],1,1,()=>{f[c]=null}),x(),t=f[l],t?t.p(s,u):(t=f[l]=r[l](s),t.c()),b(t,1),t.m(n.parentNode,n))},i(s){o||(b(t),o=!0)},o(s){k(t),o=!1},d(s){f[l].d(s),s&&h(n)}}}function HE(i){let e,l,t,n,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=Bp(Np(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=p("h1"),l=y(i[0]),t=I();for(let s=0;s<f.length;s+=1)f[s].c();n=le()},m(s,u){g(s,e,u),d(e,l),g(s,t,u);for(let c=0;c<f.length;c+=1)f[c].m(s,u);g(s,n,u),o=!0},p(s,[u]){if((!o||u&1)&&Y(l,s[0]),u&2111){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=Np(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Bp(m),f[c].c(),b(f[c],1),f[c].m(n.parentNode,n))}for(Q(),c=r.length;c<f.length;c+=1)a(c);x()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&h(e),s&&h(t),se(f,s),s&&h(n)}}}function WE(i,e,l){var c,m;let{type:t}=e,{data:n}=e,o=t;Dr("data",n);const r=n.byType(t).filter($=>$.id);r.sort(($,v)=>ge($).localeCompare(ge(v)));const f=(c={monster:$=>{var v;return[(v=$.default_faction)!=null?v:""]},item:$=>[$.type],vehicle_part:$=>{var v;return(v=$.categories)!=null?v:[""]},mutation:$=>{var v;return(v=$.category)!=null?v:[""]}}[t])!=null?c:()=>[""],a=Ur(r,f),s=[...a.keys()].sort(),u=(m={mutation:$=>!/Fake\d$/.test($.id)}[t])!=null?m:()=>!0;return i.$$set=$=>{"type"in $&&l(0,t=$.type),"data"in $&&l(1,n=$.data)},[t,n,o,a,s,u]}class zE extends Xe{constructor(e){super(),Ve(this,e,WE,HE,We,{type:0,data:1})}}var VE="./assets/dont_panic.c90f0625.png";const{window:Ap}=Hh;function Mp(i,e,l){const t=i.slice();return t[18]=e[l].name,t[10]=e[l].url,t}function Dp(i,e,l){const t=i.slice();return t[21]=e[l],t[23]=l,t}function Lp(i,e,l){const t=i.slice();return t[21]=e[l],t}function XE(i){let e,l,t,n,o,r,f,a,s,u,c,m,$,v,E,T=i[5]&&Gp(i);return{c(){e=p("img"),t=I(),n=p("p"),n.innerHTML=`The <strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the
      zombie survival roguelike game
      <a href="https://cataclysmdda.org/">Cataclysm: Dark Days Ahead</a>. You
      can search for things in the game, like items (e.g. a
      <a href="#/item/flashlight">flashlight</a>), furniture (e.g. a
      <a href="#/furniture/f_table">table</a>), or monsters (e.g. a
      <a href="#/monster/mon_zombie">zombie</a>), and find useful information
      about them. The data in the Guide comes directly from the JSON files in
      the game itself.`,o=I(),r=p("p"),f=y(`The Guide stores all its data locally and is offline-capable, so you can
      take it with you whereever you go. There's nothing to do to make the Guide
      work offline, just visit the page and it will work even without internet
      access, as long as you've visited it once before.
      `),T&&T.c(),a=I(),s=p("p"),s.textContent=`More popular than the Celestial Home Care Omnibus, better selling than
      Fifty-three More Things to do in Zero Gravity, and more controversial than
      Oolon Colluphid's trilogy of philosophical blockbusters Where God Went
      Wrong, Some More of God's Greatest Mistakes and Who is this God Person
      Anyway?`,u=I(),c=p("p"),c.innerHTML=`The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a>
      by <a href="https://www.nornagon.net">nornagon</a>. If you notice any
      problems, please
      <a href="https://github.com/nornagon/cdda-guide/issues">file an issue</a>!`,m=I(),$=p("h2"),$.textContent="Catalogs",v=I(),E=p("ul"),E.innerHTML=`<li><a href="#/item">Items</a></li> 
      <li><a href="#/monster">Monsters</a></li> 
      <li><a href="#/furniture">Furniture</a></li> 
      <li><a href="#/terrain">Terrain</a></li> 
      <li><a href="#/vehicle_part">Vehicle Parts</a></li> 
      <li><a href="#/tool_quality">Qualities</a></li> 
      <li><a href="#/mutation">Mutations</a></li> 
      <li><a href="#/martial_art">Martial Arts</a></li> 
      <li><a href="#/json_flag">Flags</a></li> 
      <li><a href="#/achievement">Achievements</a> /
        <a href="#/conduct">Conducts</a></li>`,Dh(e.src,l=VE)||fe(e,"src",l),fe(e,"height","200"),fe(e,"width","343"),Qe(e,"float","right"),fe(e,"alt","The words 'Don't Panic' in big friendly letters"),Qe(s,"font-style","italic"),Qe(s,"color","var(--cata-color-gray)")},m(w,S){g(w,e,S),g(w,t,S),g(w,n,S),g(w,o,S),g(w,r,S),d(r,f),T&&T.m(r,null),g(w,a,S),g(w,s,S),g(w,u,S),g(w,c,S),g(w,m,S),g(w,$,S),g(w,v,S),g(w,E,S)},p(w,S){w[5]?T?T.p(w,S):(T=Gp(w),T.c(),T.m(r,null)):T&&(T.d(1),T=null)},i:ee,o:ee,d(w){w&&h(e),w&&h(t),w&&h(n),w&&h(o),w&&h(r),T&&T.d(),w&&h(a),w&&h(s),w&&h(u),w&&h(c),w&&h(m),w&&h($),w&&h(v),w&&h(E)}}}function JE(i){let e=i[4],l,t,n=Up(i);return{c(){n.c(),l=le()},m(o,r){n.m(o,r),g(o,l,r),t=!0},p(o,r){r&16&&We(e,e=o[4])?(Q(),k(n,1,1,ee),x(),n=Up(o),n.c(),b(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(b(n),t=!0)},o(o){k(n),t=!1},d(o){o&&h(l),n.d(o)}}}function KE(i){let e,l,t,n;const o=[QE,ZE],r=[];function f(a,s){return a[1]?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(Q(),k(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Gp(i){let e,l,t,n,o;return{c(){e=y("It's also "),l=p("button"),l.textContent="installable",t=y(", so you can pop it out of your browser and use it like a regular app."),fe(l,"class","disclosure")},m(r,f){g(r,e,f),g(r,l,f),g(r,t,f),n||(o=Tl(l,"click",i[14]),n=!0)},p:ee,d(r){r&&h(e),r&&h(l),r&&h(t),n=!1,o()}}}function Up(i){let e,l;return e=new qE({props:{data:i[1],search:i[4]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.data=t[1]),n&16&&(o.search=t[4]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function ZE(i){let e;return{c(){e=p("em"),e.textContent="Loading...",Qe(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function QE(i){let e=i[2],l,t,n=qp(i);return{c(){n.c(),l=le()},m(o,r){n.m(o,r),g(o,l,r),t=!0},p(o,r){r&4&&We(e,e=o[2])?(Q(),k(n,1,1,ee),x(),n=qp(o),n.c(),b(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(b(n),t=!0)},o(o){k(n),t=!1},d(o){o&&h(l),n.d(o)}}}function xE(i){let e,l;return e=new zE({props:{type:i[2].type,data:i[1]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.type=t[2].type),n&2&&(o.data=t[1]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function eT(i){let e,l;return e=new AE({props:{item:i[2],data:i[1]}}),{c(){P(e.$$.fragment)},m(t,n){U(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.item=t[2]),n&2&&(o.data=t[1]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function qp(i){let e,l,t,n;const o=[eT,xE],r=[];function f(a,s){return a[2].id?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=le()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(Q(),k(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){k(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function tT(i){let e;return{c(){e=p("em"),e.textContent="(loading...)",Qe(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},p:ee,d(l){l&&h(e)}}}function lT(i){let e;function l(o,r){if(o[3])return iT;if(o[1])return nT}let t=l(i),n=t&&t(i);return{c(){n&&n.c(),e=le()},m(o,r){n&&n.m(o,r),g(o,e,r)},p(o,r){t===(t=l(o))&&n?n.p(o,r):(n&&n.d(1),n=t&&t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n&&n.d(o),o&&h(e)}}}function nT(i){let e,l,t=i[1].build_number+"",n,o;return{c(){e=p("select"),l=p("option"),n=y(t),l.__value=o=i[1].build_number,l.value=l.__value,e.disabled=!0},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f&2&&t!==(t=r[1].build_number+"")&&Y(n,t),f&10&&o!==(o=r[1].build_number)&&(l.__value=o,l.value=l.__value)},d(r){r&&h(e)}}}function iT(i){let e,l,t,n,o,r,f=i[3].filter(jp),a=[];for(let c=0;c<f.length;c+=1)a[c]=Pp(Lp(i,f,c));let s=i[3].filter(Hp),u=[];for(let c=0;c<s.length;c+=1)u[c]=Fp(Dp(i,s,c));return{c(){e=p("select"),l=p("optgroup");for(let c=0;c<a.length;c+=1)a[c].c();t=p("optgroup");for(let c=0;c<u.length;c+=1)u[c].c();fe(l,"label","Stable"),fe(t,"label","Experimental")},m(c,m){var $,v;g(c,e,m),d(e,l);for(let E=0;E<a.length;E+=1)a[E].m(l,null);d(e,t);for(let E=0;E<u.length;E+=1)u[E].m(t,null);Ri(e,(v=($=i[1])==null?void 0:$.build_number)!=null?v:i[6]==="latest"?i[3][0].build_number:i[6]),o||(r=Tl(e,"change",i[15]),o=!0)},p(c,m){var $,v,E,T;if(m&8){f=c[3].filter(jp);let w;for(w=0;w<f.length;w+=1){const S=Lp(c,f,w);a[w]?a[w].p(S,m):(a[w]=Pp(S),a[w].c(),a[w].m(l,null))}for(;w<a.length;w+=1)a[w].d(1);a.length=f.length}if(m&8){s=c[3].filter(Hp);let w;for(w=0;w<s.length;w+=1){const S=Dp(c,s,w);u[w]?u[w].p(S,m):(u[w]=Fp(S),u[w].c(),u[w].m(t,null))}for(;w<u.length;w+=1)u[w].d(1);u.length=s.length}m&10&&n!==(n=(v=($=c[1])==null?void 0:$.build_number)!=null?v:c[6]==="latest"?c[3][0].build_number:c[6])&&Ri(e,(T=(E=c[1])==null?void 0:E.build_number)!=null?T:c[6]==="latest"?c[3][0].build_number:c[6])},d(c){c&&h(e),se(a,c),se(u,c),o=!1,r()}}}function Pp(i){let e,l=i[21].build_number+"",t,n;return{c(){e=p("option"),t=y(l),e.__value=n=i[21].build_number,e.value=e.__value},m(o,r){g(o,e,r),d(e,t)},p(o,r){r&8&&l!==(l=o[21].build_number+"")&&Y(t,l),r&8&&n!==(n=o[21].build_number)&&(e.__value=n,e.value=e.__value)},d(o){o&&h(e)}}}function rT(i){let e;return{c(){e=y("\xA0(latest)")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Fp(i){let e,l=i[21].build_number+"",t,n,o=i[23]===0&&rT();return{c(){e=p("option"),t=y(l),o&&o.c(),e.__value=n=i[21].build_number,e.value=e.__value},m(r,f){g(r,e,f),d(e,t),o&&o.m(e,null)},p(r,f){f&8&&l!==(l=r[21].build_number+"")&&Y(t,l),f&8&&n!==(n=r[21].build_number)&&(e.__value=n,e.value=e.__value)},d(r){r&&h(e),o&&o.d()}}}function Yp(i){let e,l=i[18]+"",t,n;return{c(){e=p("option"),t=y(l),e.__value=n=i[10],e.value=e.__value},m(o,r){g(o,e,r),d(e,t)},p:ee,d(o){o&&h(e)}}}function oT(i){let e,l,t,n,o,r,f,a,s,u,c,m,$,v,E,T,w,S,C,R,B;const O=[KE,JE,XE],N=[];function L(H,F){return H[2]?0:H[4]?1:2}c=L(i),m=N[c]=O[c](i);function M(H,F){return H[1]||H[3]?lT:tT}let X=M(i),A=X(i),D=i[7],J=[];for(let H=0;H<D.length;H+=1)J[H]=Yp(Mp(i,D,H));return{c(){e=p("header"),l=p("nav"),t=p("div"),n=p("strong"),o=p("a"),o.textContent="Hitchhiker's Guide to the Cataclysm",r=I(),f=p("div"),a=p("input"),s=I(),u=p("main"),m.c(),$=I(),v=p("p"),E=y(`Build:
    `),A.c(),T=y(`
    Tiles:
    
    `),w=p("select"),S=p("option"),S.textContent="None (ASCII)";for(let H=0;H<J.length;H+=1)J[H].c();fe(o,"href","#"),fe(t,"class","title svelte-16u5hjb"),Qe(a,"margin","0"),Qe(a,"width","100%"),fe(a,"placeholder","Search..."),fe(a,"id","search"),fe(f,"class","search svelte-16u5hjb"),fe(l,"class","svelte-16u5hjb"),fe(e,"class","svelte-16u5hjb"),S.__value="",S.value=S.__value,fe(u,"class","svelte-16u5hjb")},m(H,F){g(H,e,F),d(e,l),d(l,t),d(t,n),d(n,o),d(l,r),d(l,f),d(f,a),Ro(a,i[4]),g(H,s,F),g(H,u,F),N[c].m(u,null),d(u,$),d(u,v),d(v,E),A.m(v,null),d(v,T),d(v,w),d(w,S);for(let j=0;j<J.length;j+=1)J[j].m(w,null);Ri(w,i[0]),C=!0,R||(B=[Tl(Ap,"hashchange",i[8]),Tl(Ap,"keydown",sT),Tl(o,"click",i[12]),Tl(a,"input",i[13]),Tl(a,"input",i[9]),Tl(w,"change",i[16])],R=!0)},p(H,[F]){F&16&&a.value!==H[4]&&Ro(a,H[4]);let j=c;if(c=L(H),c===j?N[c].p(H,F):(Q(),k(N[j],1,1,()=>{N[j]=null}),x(),m=N[c],m?m.p(H,F):(m=N[c]=O[c](H),m.c()),b(m,1),m.m(u,$)),X===(X=M(H))&&A?A.p(H,F):(A.d(1),A=X(H),A&&(A.c(),A.m(v,T))),F&128){D=H[7];let G;for(G=0;G<D.length;G+=1){const z=Mp(H,D,G);J[G]?J[G].p(z,F):(J[G]=Yp(z),J[G].c(),J[G].m(w,null))}for(;G<J.length;G+=1)J[G].d(1);J.length=D.length}(!C||F&129)&&Ri(w,H[0])},i(H){C||(b(m),C=!0)},o(H){k(m),C=!1},d(H){H&&h(e),H&&h(s),H&&h(u),N[c].d(),A.d(),se(J,H),R=!1,Cn(B)}}}function fT(i){const e=new URL(location.href);return e.hash=i,e.toString()}function sT(i){i.key==="/"&&document.activeElement.id!=="search"&&(document.getElementById("search").focus(),i.preventDefault())}const jp=i=>!i.prerelease,Hp=i=>i.prerelease;function aT(i,e,l){var B;let t,n;w1(i,Mo,O=>l(1,n=O));let o=null,r=null;fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/builds.json").then(O=>O.json()).then(O=>{l(3,r=O)});const f=new URL(location.href),a=(B=f.searchParams.get("v"))!=null?B:"latest";Mo.setVersion(a);const s=[{name:"AltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Altica"},{name:"BrownLikeBears",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/BrownLikeBears"},{name:"Chibi_Ultica",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/ChibiUltica"},{name:"Cuteclysm(Alpha)",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Cuteclysm"},{name:"Hollow Moon",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/HollowMoon"},{name:"MSXotto+",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/MshockXotto%2B"},{name:"NeoDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/NeoDaysTileset"},{name:"RetroDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/RetroDaysTileset"},{name:"UltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/UltimateCataclysm"}],u=O=>O==="null"||!O?"":O;let c=u(localStorage.getItem("cdda-guide:tileset"));function m(){const O=window.location.hash.slice(1);let N;if(N=/^\/([^\/]+)(?:\/(.+))?$/.exec(O)){const[,L,M]=N;L==="search"?(l(2,o=null),l(4,$=decodeURIComponent(M!=null?M:""))):l(2,o={type:L,id:M?decodeURIComponent(M):""}),window.scrollTo(0,0)}else l(2,o=null),l(4,$="")}Uh(m);let $="";const v=()=>{o?history.pushState(null,"",location.href.replace(/#.*$/,"")):history.replaceState(null,"",fT("/search/"+$)),l(2,o=null)};let E;window.addEventListener("beforeinstallprompt",O=>{l(5,E=O)});const T=()=>l(4,$="");function w(){$=this.value,l(4,$)}const S=O=>{O.preventDefault(),E.prompt()},C=O=>{const N=new URL(location.href),L=O.currentTarget.value;L===r[0].build_number?N.searchParams.delete("v"):N.searchParams.set("v",L),location.href=N.toString()},R=O=>{l(0,c=O.currentTarget.value)};return i.$$.update=()=>{i.$$.dirty&1&&localStorage.setItem("cdda-guide:tileset",u(c)),i.$$.dirty&3&&l(11,t=n?c.replace("{version}",n.build_number):null),i.$$.dirty&2048&&B1.setURL(t)},[c,n,o,r,$,E,a,s,m,v,f,t,T,w,S,C,R]}class uT extends Xe{constructor(e){super(),Ve(this,e,aT,oT,We,{})}}function cT(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function Vi(){return!cT()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Xl(i,e){return i.require(e)}function _T(i){let e;try{e=Xl(Fl,i)}catch{}try{const{cwd:l}=Xl(Fl,"process");e=Xl(Fl,`${l()}/node_modules/${i}`)}catch{}return e}var dT={};function Ct(){return Vi()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:dT}function qr(i,e,l){var t=l||Ct(),n=t.__SENTRY__=t.__SENTRY__||{},o=n[i]||(n[i]=e());return o}var H1=Object.prototype.toString;function W1(i){switch(H1.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Yl(i,Error)}}function In(i,e){return H1.call(i)===`[object ${e}]`}function z1(i){return In(i,"ErrorEvent")}function Wp(i){return In(i,"DOMError")}function mT(i){return In(i,"DOMException")}function yn(i){return In(i,"String")}function V1(i){return i===null||typeof i!="object"&&typeof i!="function"}function wn(i){return In(i,"Object")}function Pr(i){return typeof Event!="undefined"&&Yl(i,Event)}function pT(i){return typeof Element!="undefined"&&Yl(i,Element)}function hT(i){return In(i,"RegExp")}function Fr(i){return Boolean(i&&i.then&&typeof i.then=="function")}function gT(i){return wn(i)&&"nativeEvent"in i&&"preventDefault"in i&&"stopPropagation"in i}function X1(i){return typeof i=="number"&&i!==i}function Yl(i,e){try{return i instanceof e}catch{return!1}}function oi(i,e){try{let f=i;var l=5,t=80,n=[];let a=0,s=0;var o=" > ",r=o.length;let u;for(;f&&a++<l&&(u=bT(f,e),!(u==="html"||a>1&&s+n.length*r+u.length>=t));)n.push(u),s+=u.length,f=f.parentNode;return n.reverse().join(o)}catch{return"<unknown>"}}function bT(i,e){var l=i,t=[];let n,o,r,f,a;if(!l||!l.tagName)return"";t.push(l.tagName.toLowerCase());var s=e&&e.length?e.filter(c=>l.getAttribute(c)).map(c=>[c,l.getAttribute(c)]):null;if(s&&s.length)s.forEach(c=>{t.push(`[${c[0]}="${c[1]}"]`)});else if(l.id&&t.push(`#${l.id}`),n=l.className,n&&yn(n))for(o=n.split(/\s+/),a=0;a<o.length;a++)t.push(`.${o[a]}`);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],f=l.getAttribute(r),f&&t.push(`[${r}="${f}"]`);return t.join("")}function $T(){var i=Ct();try{return i.document.location.href}catch{return""}}class sl extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var kT=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function vT(i){return i==="http"||i==="https"}function Yr(i,e=!1){const{host:l,path:t,pass:n,port:o,projectId:r,protocol:f,publicKey:a}=i;return`${f}://${a}${e&&n?`:${n}`:""}@${l}${o?`:${o}`:""}/${t&&`${t}/`}${r}`}function yT(i){var e=kT.exec(i);if(!e)throw new sl(`Invalid Sentry Dsn: ${i}`);const[l,t,n="",o,r="",f]=e.slice(1);let a="",s=f;var u=s.split("/");if(u.length>1&&(a=u.slice(0,-1).join("/"),s=u.pop()),s){var c=s.match(/^\d+/);c&&(s=c[0])}return J1({host:o,pass:n,path:a,projectId:s,port:r,protocol:l,publicKey:t})}function J1(i){return{protocol:i.protocol,publicKey:i.publicKey||"",pass:i.pass||"",host:i.host,port:i.port||"",path:i.path||"",projectId:i.projectId}}function wT(i){if(!(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__))return;const{port:e,projectId:l,protocol:t}=i;var n=["protocol","publicKey","host","projectId"];if(n.forEach(o=>{if(!i[o])throw new sl(`Invalid Sentry Dsn: ${o} missing`)}),!l.match(/^\d+$/))throw new sl(`Invalid Sentry Dsn: Invalid projectId ${l}`);if(!vT(t))throw new sl(`Invalid Sentry Dsn: Invalid protocol ${t}`);if(e&&isNaN(parseInt(e,10)))throw new sl(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function ET(i){var e=typeof i=="string"?yT(i):J1(i);return wT(e),e}var TT=Ct(),ST="Sentry Logger ",Yi=["debug","info","warn","error","log","assert","trace"];function K1(i){var e=Ct();if(!("console"in e))return i();var l=e.console,t={};Yi.forEach(n=>{var o=l[n]&&l[n].__sentry_original__;n in e.console&&o&&(t[n]=l[n],l[n]=o)});try{return i()}finally{Object.keys(t).forEach(n=>{l[n]=t[n]})}}function zp(){let i=!1;var e={enable:()=>{i=!0},disable:()=>{i=!1}};return typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Yi.forEach(l=>{e[l]=(...t)=>{i&&K1(()=>{TT.console[l](`${ST}[${l}]:`,...t)})}}):Yi.forEach(l=>{e[l]=()=>{}}),e}let Pe;typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Pe=qr("logger",zp):Pe=zp();function li(i,e=0){return typeof i!="string"||e===0||i.length<=e?i:`${i.substr(0,e)}...`}function Vp(i,e){if(!Array.isArray(i))return"";var l=[];for(let n=0;n<i.length;n++){var t=i[n];try{l.push(String(t))}catch{l.push("[value cannot be serialized]")}}return l.join(e)}function fi(i,e){return yn(i)?hT(e)?e.test(i):typeof e=="string"?i.indexOf(e)!==-1:!1:!1}function al(i,e,l){if(e in i){var t=i[e],n=l(t);if(typeof n=="function")try{Z1(n,t)}catch{}i[e]=n}}function jr(i,e,l){Object.defineProperty(i,e,{value:l,writable:!0,configurable:!0})}function Z1(i,e){var l=e.prototype||{};i.prototype=e.prototype=l,jr(i,"__sentry_original__",e)}function Hr(i){return i.__sentry_original__}function CT(i){return Object.keys(i).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`).join("&")}function Q1(i){if(W1(i))return{message:i.message,name:i.name,stack:i.stack,...Jp(i)};if(Pr(i)){var e={type:i.type,target:Xp(i.target),currentTarget:Xp(i.currentTarget),...Jp(i)};return typeof CustomEvent!="undefined"&&Yl(i,CustomEvent)&&(e.detail=i.detail),e}else return i}function Xp(i){try{return pT(i)?oi(i):Object.prototype.toString.call(i)}catch{return"<unknown>"}}function Jp(i){if(typeof i=="object"&&i!==null){var e={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);return e}else return{}}function IT(i,e=40){var l=Object.keys(Q1(i));if(l.sort(),!l.length)return"[object has no keys]";if(l[0].length>=e)return li(l[0],e);for(let n=l.length;n>0;n--){var t=l.slice(0,n).join(", ");if(!(t.length>e))return n===l.length?t:li(t,e)}return""}function rn(i){var e=new Map;return Tr(i,e)}function Tr(i,e){if(wn(i)){var l=e.get(i);if(l!==void 0)return l;var t={};e.set(i,t);for(var n of Object.keys(i))typeof i[n]!="undefined"&&(t[n]=Tr(i[n],e));return t}if(Array.isArray(i)){var l=e.get(i);if(l!==void 0)return l;var t=[];return e.set(i,t),i.forEach(f=>{t.push(Tr(f,e))}),t}return i}var RT=50;function x1(...i){var e=i.sort((l,t)=>l[0]-t[0]).map(l=>l[1]);return(l,t=0)=>{var n=[];for(var o of l.split(`
`).slice(t))for(var r of e){var f=r(o);if(f){n.push(f);break}}return OT(n)}}function NT(i){return Array.isArray(i)?x1(...i):i}function OT(i){if(!i.length)return[];let e=i;var l=e[0].function||"",t=e[e.length-1].function||"";return(l.indexOf("captureMessage")!==-1||l.indexOf("captureException")!==-1)&&(e=e.slice(1)),t.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,RT).map(n=>({...n,filename:n.filename||e[0].filename,function:n.function||"?"})).reverse()}var sr="<anonymous>";function Ql(i){try{return!i||typeof i!="function"?sr:i.name||sr}catch{return sr}}function Wr(){if(!("fetch"in Ct()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Sr(i){return i&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(i.toString())}function BT(){if(!Wr())return!1;var i=Ct();if(Sr(i.fetch))return!0;let e=!1;var l=i.document;if(l&&typeof l.createElement=="function")try{var t=l.createElement("iframe");t.hidden=!0,l.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(e=Sr(t.contentWindow.fetch)),l.head.removeChild(t)}catch(n){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function AT(){var i=Ct(),e=i.chrome,l=e&&e.app&&e.app.runtime,t="history"in i&&!!i.history.pushState&&!!i.history.replaceState;return!l&&t}var Gt=Ct(),ni={},Kp={};function MT(i){if(!Kp[i])switch(Kp[i]=!0,i){case"console":DT();break;case"dom":HT();break;case"xhr":qT();break;case"fetch":LT();break;case"history":PT();break;case"error":WT();break;case"unhandledrejection":zT();break;default:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("unknown instrumentation type:",i);return}}function dl(i,e){ni[i]=ni[i]||[],ni[i].push(e),MT(i)}function yl(i,e){if(!(!i||!ni[i]))for(var l of ni[i]||[])try{l(e)}catch(t){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error(`Error while triggering instrumentation handler.
Type: ${i}
Name: ${Ql(l)}
Error:`,t)}}function DT(){"console"in Gt&&Yi.forEach(function(i){i in Gt.console&&al(Gt.console,i,function(e){return function(...l){yl("console",{args:l,level:i}),e&&e.apply(Gt.console,l)}})})}function LT(){!BT()||al(Gt,"fetch",function(i){return function(...e){var l={args:e,fetchData:{method:GT(e),url:UT(e)},startTimestamp:Date.now()};return yl("fetch",{...l}),i.apply(Gt,e).then(t=>(yl("fetch",{...l,endTimestamp:Date.now(),response:t}),t),t=>{throw yl("fetch",{...l,endTimestamp:Date.now(),error:t}),t})}})}function GT(i=[]){return"Request"in Gt&&Yl(i[0],Request)&&i[0].method?String(i[0].method).toUpperCase():i[1]&&i[1].method?String(i[1].method).toUpperCase():"GET"}function UT(i=[]){return typeof i[0]=="string"?i[0]:"Request"in Gt&&Yl(i[0],Request)?i[0].url:String(i[0])}function qT(){if("XMLHttpRequest"in Gt){var i=XMLHttpRequest.prototype;al(i,"open",function(e){return function(...l){var t=this,n=l[1],o=t.__sentry_xhr__={method:yn(l[0])?l[0].toUpperCase():l[0],url:l[1]};yn(n)&&o.method==="POST"&&n.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var r=function(){if(t.readyState===4){try{o.status_code=t.status}catch{}yl("xhr",{args:l,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:t})}};return"onreadystatechange"in t&&typeof t.onreadystatechange=="function"?al(t,"onreadystatechange",function(f){return function(...a){return r(),f.apply(t,a)}}):t.addEventListener("readystatechange",r),e.apply(t,l)}}),al(i,"send",function(e){return function(...l){return this.__sentry_xhr__&&l[0]!==void 0&&(this.__sentry_xhr__.body=l[0]),yl("xhr",{args:l,startTimestamp:Date.now(),xhr:this}),e.apply(this,l)}})}}let bi;function PT(){if(!AT())return;var i=Gt.onpopstate;Gt.onpopstate=function(...l){var t=Gt.location.href,n=bi;if(bi=t,yl("history",{from:n,to:t}),i)try{return i.apply(this,l)}catch{}};function e(l){return function(...t){var n=t.length>2?t[2]:void 0;if(n){var o=bi,r=String(n);bi=r,yl("history",{from:o,to:r})}return l.apply(this,t)}}al(Gt.history,"pushState",e),al(Gt.history,"replaceState",e)}var FT=1e3;let $i,ki;function YT(i,e){if(!i||i.type!==e.type)return!0;try{if(i.target!==e.target)return!0}catch{}return!1}function jT(i){if(i.type!=="keypress")return!1;try{var e=i.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function Zp(i,e=!1){return l=>{if(!(!l||ki===l)&&!jT(l)){var t=l.type==="keypress"?"input":l.type;$i===void 0?(i({event:l,name:t,global:e}),ki=l):YT(ki,l)&&(i({event:l,name:t,global:e}),ki=l),clearTimeout($i),$i=Gt.setTimeout(()=>{$i=void 0},FT)}}}function HT(){if("document"in Gt){var i=yl.bind(null,"dom"),e=Zp(i,!0);Gt.document.addEventListener("click",e,!1),Gt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(l=>{var t=Gt[l]&&Gt[l].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(al(t,"addEventListener",function(n){return function(o,r,f){if(o==="click"||o=="keypress")try{var a=this,s=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},u=s[o]=s[o]||{refCount:0};if(!u.handler){var c=Zp(i);u.handler=c,n.call(this,o,c,f)}u.refCount+=1}catch{}return n.call(this,o,r,f)}}),al(t,"removeEventListener",function(n){return function(o,r,f){if(o==="click"||o=="keypress")try{var a=this,s=a.__sentry_instrumentation_handlers__||{},u=s[o];u&&(u.refCount-=1,u.refCount<=0&&(n.call(this,o,u.handler,f),u.handler=void 0,delete s[o]),Object.keys(s).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return n.call(this,o,r,f)}}))})}}let ar=null;function WT(){ar=Gt.onerror,Gt.onerror=function(i,e,l,t,n){return yl("error",{column:t,error:n,line:l,msg:i,url:e}),ar?ar.apply(this,arguments):!1}}let ur=null;function zT(){ur=Gt.onunhandledrejection,Gt.onunhandledrejection=function(i){return yl("unhandledrejection",i),ur?ur.apply(this,arguments):!0}}function VT(){var i=typeof WeakSet=="function",e=i?new WeakSet:[];function l(n){if(i)return e.has(n)?!0:(e.add(n),!1);for(let r=0;r<e.length;r++){var o=e[r];if(o===n)return!0}return e.push(n),!1}function t(n){if(i)e.delete(n);else for(let o=0;o<e.length;o++)if(e[o]===n){e.splice(o,1);break}}return[l,t]}function Jl(){var i=Ct(),e=i.crypto||i.msCrypto;if(e!==void 0&&e.getRandomValues){var l=new Uint16Array(8);e.getRandomValues(l),l[3]=l[3]&4095|16384,l[4]=l[4]&16383|32768;var t=n=>{let o=n.toString(16);for(;o.length<4;)o=`0${o}`;return o};return t(l[0])+t(l[1])+t(l[2])+t(l[3])+t(l[4])+t(l[5])+t(l[6])+t(l[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,n=>{var o=Math.random()*16|0,r=n==="x"?o:o&3|8;return r.toString(16)})}function cr(i){if(!i)return{};var e=i.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var l=e[6]||"",t=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+l+t}}function eh(i){return i.exception&&i.exception.values?i.exception.values[0]:void 0}function nn(i){const{message:e,event_id:l}=i;if(e)return e;var t=eh(i);return t?t.type&&t.value?`${t.type}: ${t.value}`:t.type||t.value||l||"<unknown>":l||"<unknown>"}function Cr(i,e,l){var t=i.exception=i.exception||{},n=t.values=t.values||[],o=n[0]=n[0]||{};o.value||(o.value=e||""),o.type||(o.type=l||"Error")}function si(i,e){var l=eh(i);if(!!l){var t={type:"generic",handled:!0},n=l.mechanism;if(l.mechanism={...t,...n,...e},e&&"data"in e){var o={...n&&n.data,...e.data};l.mechanism.data=o}}}function Qp(i){if(i&&i.__sentry_captured__)return!0;try{jr(i,"__sentry_captured__",!0)}catch{}return!1}function en(i,e=1/0,l=1/0){try{return lh("",i,e,l)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function th(i,e=3,l=100*1024){var t=en(i,e);return KT(t)>l?th(i,e-1,l):t}function lh(i,e,l=1/0,t=1/0,n=VT()){const[o,r]=n;var f=e;if(f&&typeof f.toJSON=="function")try{return f.toJSON()}catch{}if(e===null||["number","boolean","string"].includes(typeof e)&&!X1(e))return e;var a=XT(i,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;if(l===0)return a.replace("object ","");if(o(e))return"[Circular ~]";var s=Array.isArray(e)?[]:{};let u=0;var c=Q1(e);for(var m in c)if(!!Object.prototype.hasOwnProperty.call(c,m)){if(u>=t){s[m]="[MaxProperties ~]";break}var $=c[m];s[m]=lh(m,$,l-1,t,n),u+=1}return r(e),s}function XT(i,e){try{return i==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":i==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":gT(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${Ql(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(l){return`**non-serializable** (${l})`}}function JT(i){return~-encodeURI(i).split(/%..|./).length}function KT(i){return JT(JSON.stringify(i))}var ql;(function(i){var e=0;i[i.PENDING=e]="PENDING";var l=1;i[i.RESOLVED=l]="RESOLVED";var t=2;i[i.REJECTED=t]="REJECTED"})(ql||(ql={}));function fn(i){return new cl(e=>{e(i)})}function Ir(i){return new cl((e,l)=>{l(i)})}class cl{__init(){this._state=ql.PENDING}__init2(){this._handlers=[]}constructor(e){cl.prototype.__init.call(this),cl.prototype.__init2.call(this),cl.prototype.__init3.call(this),cl.prototype.__init4.call(this),cl.prototype.__init5.call(this),cl.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(l){this._reject(l)}}then(e,l){return new cl((t,n)=>{this._handlers.push([!1,o=>{if(!e)t(o);else try{t(e(o))}catch(r){n(r)}},o=>{if(!l)n(o);else try{t(l(o))}catch(r){n(r)}}]),this._executeHandlers()})}catch(e){return this.then(l=>l,e)}finally(e){return new cl((l,t)=>{let n,o;return this.then(r=>{o=!1,n=r,e&&e()},r=>{o=!0,n=r,e&&e()}).then(()=>{if(o){t(n);return}l(n)})})}__init3(){this._resolve=e=>{this._setResult(ql.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(ql.REJECTED,e)}}__init5(){this._setResult=(e,l)=>{if(this._state===ql.PENDING){if(Fr(l)){l.then(this._resolve,this._reject);return}this._state=e,this._value=l,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==ql.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(l=>{l[0]||(this._state===ql.RESOLVED&&l[1](this._value),this._state===ql.REJECTED&&l[2](this._value),l[0]=!0)})}}}}function ZT(i){var e=[];function l(){return i===void 0||e.length<i}function t(r){return e.splice(e.indexOf(r),1)[0]}function n(r){if(!l())return Ir(new sl("Not adding Promise due to buffer limit reached."));var f=r();return e.indexOf(f)===-1&&e.push(f),f.then(()=>t(f)).then(null,()=>t(f).then(null,()=>{})),f}function o(r){return new cl((f,a)=>{let s=e.length;if(!s)return f(!0);var u=setTimeout(()=>{r&&r>0&&f(!1)},r);e.forEach(c=>{fn(c).then(()=>{--s||(clearTimeout(u),f(!0))},a)})})}return{$:e,add:n,drain:o}}function zl(i,e){return i!=null?i:e()}function QT(i){let e,l=i[0],t=1;for(;t<i.length;){var n=i[t],o=i[t+1];if(t+=2,(n==="optionalAccess"||n==="optionalCall")&&l==null)return;n==="access"||n==="optionalAccess"?(e=l,l=o(l)):(n==="call"||n==="optionalCall")&&(l=o((...r)=>l.call(e,...r)),e=void 0)}return l}var xT=["fatal","error","warning","log","info","debug"];function eS(i){return i==="warn"?"warning":xT.includes(i)?i:"log"}var Rr={nowSeconds:()=>Date.now()/1e3};function tS(){const{performance:i}=Ct();if(!(!i||!i.now)){var e=Date.now()-i.now();return{now:()=>i.now(),timeOrigin:e}}}function lS(){try{var i=Xl(Fl,"perf_hooks");return i.performance}catch{return}}var _r=Vi()?lS():tS(),xp=_r===void 0?Rr:{nowSeconds:()=>(_r.timeOrigin+_r.now())/1e3},Xi=Rr.nowSeconds.bind(Rr),zr=xp.nowSeconds.bind(xp),ai=zr,ui=(()=>{const{performance:i}=Ct();if(!(!i||!i.now)){var e=3600*1e3,l=i.now(),t=Date.now(),n=i.timeOrigin?Math.abs(i.timeOrigin+l-t):e,o=n<e,r=i.timing&&i.timing.navigationStart,f=typeof r=="number",a=f?Math.abs(r+l-t):e,s=a<e;return o||s?n<=a?i.timeOrigin:r:t}})(),nS=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function iS(i){var e=i.match(nS);if(e){let l;return e[3]==="1"?l=!0:e[3]==="0"&&(l=!1),{traceId:e[1],parentSampled:l,parentSpanId:e[2]}}}function Ji(i,e=[]){return[i,e]}function rS(i,e){const[l,t]=i;return[l,[...t,e]]}function e1(i,e){var l=i[1];l.forEach(t=>{var n=t[0].type;e(t,n)})}function Nr(i,e){var l=e||new TextEncoder;return l.encode(i)}function nh(i,e){const[l,t]=i;let n=JSON.stringify(l);function o(f){typeof n=="string"?n=typeof f=="string"?n+f:[Nr(n,e),f]:n.push(typeof f=="string"?Nr(f,e):f)}for(var r of t){const[f,a]=r;o(`
${JSON.stringify(f)}
`),o(typeof a=="string"||a instanceof Uint8Array?a:JSON.stringify(a))}return typeof n=="string"?n:oS(n)}function oS(i){var e=i.reduce((o,r)=>o+r.length,0),l=new Uint8Array(e);let t=0;for(var n of i)l.set(n,t),t+=n.length;return l}function fS(i,e){var l=typeof i.data=="string"?Nr(i.data,e):i.data;return[rn({type:"attachment",length:l.length,filename:i.filename,content_type:i.contentType,attachment_type:i.attachmentType}),l]}var sS={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function t1(i){return sS[i]}function aS(i,e,l){var t=[{type:"client_report"},{timestamp:l||Xi(),discarded_events:i}];return Ji(e?{dsn:e}:{},[t])}var uS=60*1e3;function cS(i,e=Date.now()){var l=parseInt(`${i}`,10);if(!isNaN(l))return l*1e3;var t=Date.parse(`${i}`);return isNaN(t)?uS:t-e}function _S(i,e){return i[e]||i.all||0}function dS(i,e,l=Date.now()){return _S(i,e)>l}function mS(i,{statusCode:e,headers:l},t=Date.now()){var n={...i},o=l&&l["x-sentry-rate-limits"],r=l&&l["retry-after"];if(o)for(var f of o.trim().split(",")){const[c,m]=f.split(":",2);var a=parseInt(c,10),s=(isNaN(a)?60:a)*1e3;if(!m)n.all=t+s;else for(var u of m.split(";"))n[u]=t+s}else r?n.all=t+cS(r,t):e===429&&(n.all=t+60*1e3);return n}var cn="baggage",pS="sentry-",hS=/^sentry-/,gS=8192;function ih(i,e="",l=!0){return[{...i},e,l]}function l1(i,e,l){rh(i)&&(i[0][e]=l)}function Or(i){return Object.keys(i[0]).length===0}function bS(i){return i[0]}function $S(i){return i[1]}function rh(i){return i[2]}function oh(i){i[2]=!1}function kS(i){return Object.keys(i[0]).reduce((e,l)=>{var t=i[0][l],n=`${pS}${encodeURIComponent(l)}=${encodeURIComponent(t)}`,o=e===""?n:`${e},${n}`;return o.length>gS?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Not adding key: ${l} with val: ${t} to baggage due to exceeding baggage size limits.`),e):o},i[1])}function fh(i){return i.split(",").reduce(([e,l],t)=>{const[n,o]=t.split("=");if(hS.test(n)){var r=decodeURIComponent(n.split("-")[1]);return[{...e,[r]:decodeURIComponent(o)},l,!0]}else return[e,l===""?t:`${l},${t}`,!0]},[{},"",!0])}function ti(i,e){if(!i&&!e)return"";var l=e&&fh(e)||void 0,t=l&&$S(l),n=ih(i&&i[0]||{},t||i&&i[1]||"");return kS(n)}function vS(i,e){var l=fh(i||"");return(!Or(l)||e&&Or(l))&&oh(l),l}function yS(i){var e=zr(),l={sid:Jl(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ES(l)};return i&&En(l,i),l}function En(i,e={}){if(e.user&&(!i.ipAddress&&e.user.ip_address&&(i.ipAddress=e.user.ip_address),!i.did&&!e.did&&(i.did=e.user.id||e.user.email||e.user.username)),i.timestamp=e.timestamp||zr(),e.ignoreDuration&&(i.ignoreDuration=e.ignoreDuration),e.sid&&(i.sid=e.sid.length===32?e.sid:Jl()),e.init!==void 0&&(i.init=e.init),!i.did&&e.did&&(i.did=`${e.did}`),typeof e.started=="number"&&(i.started=e.started),i.ignoreDuration)i.duration=void 0;else if(typeof e.duration=="number")i.duration=e.duration;else{var l=i.timestamp-i.started;i.duration=l>=0?l:0}e.release&&(i.release=e.release),e.environment&&(i.environment=e.environment),!i.ipAddress&&e.ipAddress&&(i.ipAddress=e.ipAddress),!i.userAgent&&e.userAgent&&(i.userAgent=e.userAgent),typeof e.errors=="number"&&(i.errors=e.errors),e.status&&(i.status=e.status)}function wS(i,e){let l={};e?l={status:e}:i.status==="ok"&&(l={status:"exited"}),En(i,l)}function ES(i){return rn({sid:`${i.sid}`,init:i.init,started:new Date(i.started*1e3).toISOString(),timestamp:new Date(i.timestamp*1e3).toISOString(),status:i.status,errors:i.errors,did:typeof i.did=="number"||typeof i.did=="string"?`${i.did}`:void 0,duration:i.duration,attrs:{release:i.release,environment:i.environment,ip_address:i.ipAddress,user_agent:i.userAgent}})}var n1=100;class Vt{constructor(){Vt.prototype.__init.call(this),Vt.prototype.__init2.call(this),Vt.prototype.__init3.call(this),Vt.prototype.__init4.call(this),Vt.prototype.__init5.call(this),Vt.prototype.__init6.call(this),Vt.prototype.__init7.call(this),Vt.prototype.__init8.call(this),Vt.prototype.__init9.call(this),Vt.prototype.__init10.call(this)}__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(e){var l=new Vt;return e&&(l._breadcrumbs=[...e._breadcrumbs],l._tags={...e._tags},l._extra={...e._extra},l._contexts={...e._contexts},l._user=e._user,l._level=e._level,l._span=e._span,l._session=e._session,l._transactionName=e._transactionName,l._fingerprint=e._fingerprint,l._eventProcessors=[...e._eventProcessors],l._requestSession=e._requestSession,l._attachments=[...e._attachments]),l}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&En(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,l){return this._tags={...this._tags,[e]:l},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,l){return this._extra={...this._extra,[e]:l},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,l){return l===null?delete this._contexts[e]:this._contexts={...this._contexts,[e]:l},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){var l=e(this);return l instanceof Vt?l:this}return e instanceof Vt?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):wn(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,l){var t=typeof l=="number"?Math.min(l,n1):n1;if(t<=0)return this;var n={timestamp:Xi(),...e};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-t),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,l={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors([...sh(),...this._eventProcessors],e,l)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,l,t,n=0){return new cl((o,r)=>{var f=e[n];if(l===null||typeof f!="function")o(l);else{var a=f({...l},t);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&f.id&&a===null&&Pe.log(`Event processor "${f.id}" dropped event`),Fr(a)?a.then(s=>this._notifyEventProcessors(e,s,t,n+1).then(o)).then(null,r):this._notifyEventProcessors(e,a,t,n+1).then(o).then(null,r)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function sh(){return qr("globalEventProcessors",()=>[])}function Vr(i){sh().push(i)}var Xr=4,TS=100;class mi{__init(){this._stack=[{}]}constructor(e,l=new Vt,t=Xr){this._version=t,mi.prototype.__init.call(this),this.getStackTop().scope=l,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){var l=this.getStackTop();l.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=Vt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){var l=this.pushScope();try{e(l)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,l){var t=this._lastEventId=l&&l.event_id?l.event_id:Jl(),n=new Error("Sentry syntheticException");return this._withClient((o,r)=>{o.captureException(e,{originalException:e,syntheticException:n,...l,event_id:t},r)}),t}captureMessage(e,l,t){var n=this._lastEventId=t&&t.event_id?t.event_id:Jl(),o=new Error(e);return this._withClient((r,f)=>{r.captureMessage(e,l,{originalException:e,syntheticException:o,...t,event_id:n},f)}),n}captureEvent(e,l){var t=l&&l.event_id?l.event_id:Jl();return e.type!=="transaction"&&(this._lastEventId=t),this._withClient((n,o)=>{n.captureEvent(e,{...l,event_id:t},o)}),t}lastEventId(){return this._lastEventId}addBreadcrumb(e,l){const{scope:t,client:n}=this.getStackTop();if(!t||!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:r=TS}=n.getOptions&&n.getOptions()||{};if(!(r<=0)){var f=Xi(),a={timestamp:f,...e},s=o?K1(()=>o(a,l)):a;s!==null&&t.addBreadcrumb(s,r)}}setUser(e){var l=this.getScope();l&&l.setUser(e)}setTags(e){var l=this.getScope();l&&l.setTags(e)}setExtras(e){var l=this.getScope();l&&l.setExtras(e)}setTag(e,l){var t=this.getScope();t&&t.setTag(e,l)}setExtra(e,l){var t=this.getScope();t&&t.setExtra(e,l)}setContext(e,l){var t=this.getScope();t&&t.setContext(e,l)}configureScope(e){const{scope:l,client:t}=this.getStackTop();l&&t&&e(l)}run(e){var l=i1(this);try{e(this)}finally{i1(l)}}getIntegration(e){var l=this.getClient();if(!l)return null;try{return l.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,l){return this._callExtensionMethod("startTransaction",e,l)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),l=e&&e.scope,t=l&&l.getSession();t&&wS(t),this._sendSessionUpdate(),l&&l.setSession()}startSession(e){const{scope:l,client:t}=this.getStackTop(),{release:n,environment:o}=t&&t.getOptions()||{};var r=Ct();const{userAgent:f}=r.navigator||{};var a=yS({release:n,environment:o,...l&&{user:l.getUser()},...f&&{userAgent:f},...e});if(l){var s=l.getSession&&l.getSession();s&&s.status==="ok"&&En(s,{status:"exited"}),this.endSession(),l.setSession(a)}return a}_sendSessionUpdate(){const{scope:e,client:l}=this.getStackTop();if(!!e){var t=e.getSession();t&&l&&l.captureSession&&l.captureSession(t)}}_withClient(e){const{scope:l,client:t}=this.getStackTop();t&&e(t,l)}_callExtensionMethod(e,...l){var t=Rn(),n=t.__SENTRY__;if(n&&n.extensions&&typeof n.extensions[e]=="function")return n.extensions[e].apply(this,l);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Rn(){var i=Ct();return i.__SENTRY__=i.__SENTRY__||{extensions:{},hub:void 0},i}function i1(i){var e=Rn(),l=Vl(e);return Jr(e,i),l}function Yt(){var i=Rn();return(!ah(i)||Vl(i).isOlderThan(Xr))&&Jr(i,new mi),Vi()?SS(i):Vl(i)}function SS(i){try{var e=Rn().__SENTRY__,l=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!l)return Vl(i);if(!ah(l)||Vl(l).isOlderThan(Xr)){var t=Vl(i).getStackTop();Jr(l,new mi(t.client,Vt.clone(t.scope)))}return Vl(l)}catch{return Vl(i)}}function ah(i){return!!(i&&i.__SENTRY__&&i.__SENTRY__.hub)}function Vl(i){return qr("hub",()=>new mi,i)}function Jr(i,e){if(!i)return!1;var l=i.__SENTRY__=i.__SENTRY__||{};return l.hub=e,!0}function CS(i,e){return Yt().captureException(i,{captureContext:e})}function IS(i){Yt().withScope(i)}var RS="7";function NS(i){var e=i.protocol?`${i.protocol}:`:"",l=i.port?`:${i.port}`:"";return`${e}//${i.host}${l}${i.path?`/${i.path}`:""}/api/`}function OS(i){return`${NS(i)}${i.projectId}/envelope/`}function BS(i){return CT({sentry_key:i.publicKey,sentry_version:RS})}function uh(i,e){return e||`${OS(i)}?${BS(i)}`}function ch(i){if(!i||!i.sdk)return;const{name:e,version:l}=i.sdk;return{name:e,version:l}}function AS(i,e){return e&&(i.sdk=i.sdk||{},i.sdk.name=i.sdk.name||e.name,i.sdk.version=i.sdk.version||e.version,i.sdk.integrations=[...i.sdk.integrations||[],...e.integrations||[]],i.sdk.packages=[...i.sdk.packages||[],...e.packages||[]]),i}function MS(i,e,l,t){var n=ch(l),o={sent_at:new Date().toISOString(),...n&&{sdk:n},...!!t&&{dsn:Yr(e)}},r="aggregates"in i?[{type:"sessions"},i]:[{type:"session"},i];return Ji(o,[r])}function DS(i,e,l,t){var n=ch(l),o=i.type||"event";const{transactionSampling:r}=i.sdkProcessingMetadata||{},{method:f,rate:a}=r||{};AS(i,l&&l.sdk),delete i.sdkProcessingMetadata;var s=LS(i,n,t,e),u=[{type:o,sample_rates:[{id:f,rate:a}]},i];return Ji(s,[u])}function LS(i,e,l,t){var n=i.contexts&&i.contexts.baggage;const{environment:o,release:r,transaction:f,userid:a,usersegment:s}=n||{};return{event_id:i.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!l&&{dsn:Yr(t)},...i.type==="transaction"&&i.contexts&&i.contexts.trace&&{trace:rn({trace_id:i.contexts.trace.trace_id,public_key:t.publicKey,environment:o,release:r,transaction:f,...(a||s)&&{user:{id:a,segment:s}}})}}}var r1=[];function o1(i){return i.reduce((e,l)=>(e.every(t=>l.name!==t.name)&&e.push(l),e),[])}function GS(i){var e=i.defaultIntegrations&&[...i.defaultIntegrations]||[],l=i.integrations;let t=[...o1(e)];Array.isArray(l)?t=[...t.filter(r=>l.every(f=>f.name!==r.name)),...o1(l)]:typeof l=="function"&&(t=l(t),t=Array.isArray(t)?t:[t]);var n=t.map(r=>r.name),o="Debug";return n.indexOf(o)!==-1&&t.push(...t.splice(n.indexOf(o),1)),t}function US(i){var e={};return i.forEach(l=>{e[l.name]=l,r1.indexOf(l.name)===-1&&(l.setupOnce(Vr,Yt),r1.push(l.name),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`Integration installed: ${l.name}`))}),e}var f1="Not capturing exception because it's already been captured.";class _n{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(_n.prototype.__init.call(this),_n.prototype.__init2.call(this),_n.prototype.__init3.call(this),_n.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=ET(e.dsn);var l=uh(this._dsn,e.tunnel);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:l})}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("No DSN provided, client will not do anything.")}captureException(e,l,t){if(Qp(e)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(f1);return}let n=l&&l.event_id;return this._process(this.eventFromException(e,l).then(o=>this._captureEvent(o,l,t)).then(o=>{n=o})),n}captureMessage(e,l,t,n){let o=t&&t.event_id;var r=V1(e)?this.eventFromMessage(String(e),l,t):this.eventFromException(e,t);return this._process(r.then(f=>this._captureEvent(f,t,n)).then(f=>{o=f})),o}captureEvent(e,l,t){if(l&&l.originalException&&Qp(l.originalException)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(f1);return}let n=l&&l.event_id;return this._process(this._captureEvent(e,l,t).then(o=>{n=o})),n}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),En(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var l=this._transport;return l?this._isClientDoneProcessing(e).then(t=>l.flush(e).then(n=>t&&n)):fn(!0)}close(e){return this.flush(e).then(l=>(this.getOptions().enabled=!1,l))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=US(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,l={}){if(this._dsn){let n=DS(e,this._dsn,this._options._metadata,this._options.tunnel);for(var t of l.attachments||[])n=rS(n,fS(t,QT([this,"access",o=>o._options,"access",o=>o.transportOptions,"optionalAccess",o=>o.textEncoder])));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){var l=MS(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(l)}}recordDroppedEvent(e,l){if(this._options.sendClientReports){var t=`${e}:${l}`;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`Adding outcome: "${t}"`),this._outcomes[t]=this._outcomes[t]+1||1}}_updateSessionFromEvent(e,l){let t=!1,n=!1;var o=l.exception&&l.exception.values;if(o){n=!0;for(var r of o){var f=r.mechanism;if(f&&f.handled===!1){t=!0;break}}}var a=e.status==="ok",s=a&&e.errors===0||a&&t;s&&(En(e,{...t&&{status:"crashed"},errors:e.errors||Number(n||t)}),this.captureSession(e))}_isClientDoneProcessing(e){return new cl(l=>{let t=0;var n=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),l(!0)):(t+=n,e&&t>=e&&(clearInterval(o),l(!1)))},n)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,l,t){const{normalizeDepth:n=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var r={...e,event_id:e.event_id||l.event_id||Jl(),timestamp:e.timestamp||Xi()};this._applyClientOptions(r),this._applyIntegrationsMetadata(r);let f=t;l.captureContext&&(f=Vt.clone(f).update(l.captureContext));let a=fn(r);if(f){var s=[...l.attachments||[],...f.getAttachments()];s.length&&(l.attachments=s),a=f.applyToEvent(r,l)}return a.then(u=>typeof n=="number"&&n>0?this._normalizeEvent(u,n,o):u)}_normalizeEvent(e,l,t){if(!e)return null;var n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:en(o.data,l,t)}}))},...e.user&&{user:en(e.user,l,t)},...e.contexts&&{contexts:en(e.contexts,l,t)},...e.extra&&{extra:en(e.extra,l,t)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=en(e.contexts.trace.data,l,t))),e.spans&&(n.spans=e.spans.map(o=>(o.data&&(o.data=en(o.data,l,t)),o))),n}_applyClientOptions(e){var l=this.getOptions();const{environment:t,release:n,dist:o,maxValueLength:r=250}=l;"environment"in e||(e.environment="environment"in l?t:"production"),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=li(e.message,r));var f=e.exception&&e.exception.values&&e.exception.values[0];f&&f.value&&(f.value=li(f.value,r));var a=e.request;a&&a.url&&(a.url=li(a.url,r))}_applyIntegrationsMetadata(e){var l=Object.keys(this._integrations);l.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...l])}_captureEvent(e,l={},t){return this._processEvent(e,l,t).then(n=>n.event_id,n=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(n)})}_processEvent(e,l,t){const{beforeSend:n,sampleRate:o}=this.getOptions();if(!this._isEnabled())return Ir(new sl("SDK not enabled, will not capture event."));var r=e.type==="transaction";return!r&&typeof o=="number"&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),Ir(new sl(`Discarding event because it's not included in the random sample (sampling rate = ${o})`))):this._prepareEvent(e,l,t).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",e.type||"error"),new sl("An event processor returned null, will not send event.");var a=l.data&&l.data.__sentry__===!0;if(a||r||!n)return f;var s=n(f,l);return qS(s)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",e.type||"error"),new sl("`beforeSend` returned `null`, will not send event.");var a=t&&t.getSession();return!r&&a&&this._updateSessionFromEvent(a,f),this.sendEvent(f,l),f}).then(null,f=>{throw f instanceof sl?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new sl(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing+=1,e.then(l=>(this._numProcessing-=1,l),l=>(this._numProcessing-=1,l))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,l=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error("Error while sending event:",l)}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map(l=>{const[t,n]=l.split(":");return{reason:t,category:n,quantity:e[l]}})}}function qS(i){var e="`beforeSend` method has to return `null` or a valid event.";if(Fr(i))return i.then(l=>{if(!(wn(l)||l===null))throw new sl(e);return l},l=>{throw new sl(`beforeSend rejected with ${l}`)});if(!(wn(i)||i===null))throw new sl(e);return i}function PS(i,e){e.debug===!0&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Pe.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var l=Yt(),t=l.getScope();t&&t.update(e.initialScope);var n=new i(e);l.bindClient(n)}var FS=30;function _h(i,e,l=ZT(i.bufferSize||FS)){let t={};var n=r=>l.drain(r);function o(r){var f=[];if(e1(r,(c,m)=>{var $=t1(m);dS(t,$)?i.recordDroppedEvent("ratelimit_backoff",$):f.push(c)}),f.length===0)return fn();var a=Ji(r[0],f),s=c=>{e1(a,(m,$)=>{i.recordDroppedEvent(c,t1($))})},u=()=>e({body:nh(a,i.textEncoder)}).then(c=>{c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),t=mS(t,c)},c=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error("Failed while sending event:",c),s("network_error")});return l.add(u).then(c=>c,c=>{if(c instanceof sl)return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error("Skipped sending event due to full buffer"),s("queue_overflow"),fn();throw c})}return{send:o,flush:n}}var s1="7.2.0";let a1;class ci{constructor(){ci.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=ci.id}setupOnce(){a1=Function.prototype.toString,Function.prototype.toString=function(...e){var l=Hr(this)||this;return a1.apply(l,e)}}}ci.__initStatic();var YS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class pn{static __initStatic(){this.id="InboundFilters"}__init(){this.name=pn.id}constructor(e={}){this._options=e,pn.prototype.__init.call(this)}setupOnce(e,l){var t=n=>{var o=l();if(o){var r=o.getIntegration(pn);if(r){var f=o.getClient(),a=f?f.getOptions():{},s=jS(r._options,a);return HS(n,s)?null:n}}return n};t.id=this.name,e(t)}}pn.__initStatic();function jS(i={},e={}){return{allowUrls:[...i.allowUrls||[],...e.allowUrls||[]],denyUrls:[...i.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...i.ignoreErrors||[],...e.ignoreErrors||[],...YS],ignoreInternal:i.ignoreInternal!==void 0?i.ignoreInternal:!0}}function HS(i,e){return e.ignoreInternal&&JS(i)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Event dropped due to being internal Sentry Error.
Event: ${nn(i)}`),!0):WS(i,e.ignoreErrors)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${nn(i)}`),!0):zS(i,e.denyUrls)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${nn(i)}.
Url: ${ji(i)}`),!0):VS(i,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${nn(i)}.
Url: ${ji(i)}`),!0)}function WS(i,e){return!e||!e.length?!1:XS(i).some(l=>e.some(t=>fi(l,t)))}function zS(i,e){if(!e||!e.length)return!1;var l=ji(i);return l?e.some(t=>fi(l,t)):!1}function VS(i,e){if(!e||!e.length)return!0;var l=ji(i);return l?e.some(t=>fi(l,t)):!0}function XS(i){if(i.message)return[i.message];if(i.exception)try{const{type:e="",value:l=""}=i.exception.values&&i.exception.values[0]||{};return[`${l}`,`${e}: ${l}`]}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error(`Cannot extract message for event ${nn(i)}`),[]}return[]}function JS(i){try{return i.exception.values[0].type==="SentryError"}catch{}return!1}function KS(i=[]){for(let l=i.length-1;l>=0;l--){var e=i[l];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function ji(i){try{let e;try{e=i.exception.values[0].stacktrace.frames}catch{}return e?KS(e):null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error(`Cannot extract url for event ${nn(i)}`),null}}function dh(i,e){var l=Kr(i,e),t={type:e&&e.name,value:eC(e)};return l.length&&(t.stacktrace={frames:l}),t.type===void 0&&t.value===""&&(t.value="Unrecoverable error caught"),t}function ZS(i,e,l,t){var n={exception:{values:[{type:Pr(e)?e.constructor.name:t?"UnhandledRejection":"Error",value:`Non-Error ${t?"promise rejection":"exception"} captured with keys: ${IT(e)}`}]},extra:{__serialized__:th(e)}};if(l){var o=Kr(i,l);o.length&&(n.exception.values[0].stacktrace={frames:o})}return n}function dr(i,e){return{exception:{values:[dh(i,e)]}}}function Kr(i,e){var l=e.stacktrace||e.stack||"",t=xS(e);try{return i(l,t)}catch{}return[]}var QS=/Minified React error #\d+;/i;function xS(i){if(i){if(typeof i.framesToPop=="number")return i.framesToPop;if(QS.test(i.message))return 1}return 0}function eC(i){var e=i&&i.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function tC(i,e,l,t){var n=l&&l.syntheticException||void 0,o=Zr(i,e,n,t);return si(o),o.level="error",l&&l.event_id&&(o.event_id=l.event_id),fn(o)}function lC(i,e,l="info",t,n){var o=t&&t.syntheticException||void 0,r=Br(i,e,o,n);return r.level=l,t&&t.event_id&&(r.event_id=t.event_id),fn(r)}function Zr(i,e,l,t,n){let o;if(z1(e)&&e.error){var r=e;return dr(i,r.error)}if(Wp(e)||mT(e)){var f=e;if("stack"in e)o=dr(i,e);else{var a=f.name||(Wp(f)?"DOMError":"DOMException"),s=f.message?`${a}: ${f.message}`:a;o=Br(i,s,l,t),Cr(o,s)}return"code"in f&&(o.tags={...o.tags,"DOMException.code":`${f.code}`}),o}if(W1(e))return dr(i,e);if(wn(e)||Pr(e)){var u=e;return o=ZS(i,u,l,n),si(o,{synthetic:!0}),o}return o=Br(i,e,l,t),Cr(o,`${e}`,void 0),si(o,{synthetic:!0}),o}function Br(i,e,l,t){var n={message:e};if(t&&l){var o=Kr(i,l);o.length&&(n.exception={values:[{value:e,stacktrace:{frames:o}}]})}return n}var mh="Breadcrumbs";class _i{static __initStatic(){this.id=mh}__init(){this.name=_i.id}constructor(e){_i.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&dl("console",iC),this.options.dom&&dl("dom",nC(this.options.dom)),this.options.xhr&&dl("xhr",rC),this.options.fetch&&dl("fetch",oC),this.options.history&&dl("history",fC)}}_i.__initStatic();function nC(i){function e(l){let t,n=typeof i=="object"?i.serializeAttribute:void 0;typeof n=="string"&&(n=[n]);try{t=l.event.target?oi(l.event.target,n):oi(l.event,n)}catch{t="<unknown>"}t.length!==0&&Yt().addBreadcrumb({category:`ui.${l.name}`,message:t},{event:l.event,name:l.name,global:l.global})}return e}function iC(i){var e={category:"console",data:{arguments:i.args,logger:"console"},level:eS(i.level),message:Vp(i.args," ")};if(i.level==="assert")if(i.args[0]===!1)e.message=`Assertion failed: ${Vp(i.args.slice(1)," ")||"console.assert"}`,e.data.arguments=i.args.slice(1);else return;Yt().addBreadcrumb(e,{input:i.args,level:i.level})}function rC(i){if(i.endTimestamp){if(i.xhr.__sentry_own_request__)return;const{method:e,url:l,status_code:t,body:n}=i.xhr.__sentry_xhr__||{};Yt().addBreadcrumb({category:"xhr",data:{method:e,url:l,status_code:t},type:"http"},{xhr:i.xhr,input:n});return}}function oC(i){!i.endTimestamp||i.fetchData.url.match(/sentry_key/)&&i.fetchData.method==="POST"||(i.error?Yt().addBreadcrumb({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args}):Yt().addBreadcrumb({category:"fetch",data:{...i.fetchData,status_code:i.response.status},type:"http"},{input:i.args,response:i.response}))}function fC(i){var e=Ct();let l=i.from,t=i.to;var n=cr(e.location.href);let o=cr(l);var r=cr(t);o.path||(o=n),n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(l=o.relative),Yt().addBreadcrumb({category:"navigation",data:{from:l,to:t}})}var vl=Ct();let vi;function ph(){if(vi)return vi;if(Sr(vl.fetch))return vi=vl.fetch.bind(vl);var i=vl.document;let e=vl.fetch;if(i&&typeof i.createElement=="function")try{var l=i.createElement("iframe");l.hidden=!0,i.head.appendChild(l);var t=l.contentWindow;t&&t.fetch&&(e=t.fetch),i.head.removeChild(l)}catch(n){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return vi=e.bind(vl)}function sC(i,e){var l=Object.prototype.toString.call(vl&&vl.navigator)==="[object Navigator]",t=l&&typeof vl.navigator.sendBeacon=="function";if(t){var n=vl.navigator.sendBeacon.bind(vl.navigator);n(i,e)}else if(Wr()){var o=ph();o(i,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,r=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error(r)})}}var mr=Ct();class aC extends _n{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:s1}],version:s1},super(e),e.sendClientReports&&mr.document&&mr.document.addEventListener("visibilitychange",()=>{mr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,l){return tC(this._options.stackParser,e,l,this._options.attachStacktrace)}eventFromMessage(e,l="info",t){return lC(this._options.stackParser,e,l,t,this._options.attachStacktrace)}sendEvent(e,l){var t=this.getIntegrationById(mh);t&&t.options&&t.options.sentry&&Yt().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:nn(e)},{event:e}),super.sendEvent(e,l)}_prepareEvent(e,l,t){return e.platform=e.platform||"javascript",super._prepareEvent(e,l,t)}_flushOutcomes(){var e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("Sending outcomes:",e);var l=uh(this._dsn,this._options.tunnel),t=aS(e,this._options.tunnel&&Yr(this._dsn));try{sC(l,nh(t))}catch(n){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.error(n)}}}function uC(i,e=ph()){function l(t){var n={body:t.body,method:"POST",referrerPolicy:"origin",headers:i.headers,...i.fetchOptions};return e(i.url,n).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}return _h(i,l)}var cC=4;function _C(i){function e(l){return new cl((t,n)=>{var o=new XMLHttpRequest;o.onerror=n,o.onreadystatechange=()=>{o.readyState===cC&&t({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",i.url);for(var r in i.headers)Object.prototype.hasOwnProperty.call(i.headers,r)&&o.setRequestHeader(r,i.headers[r]);o.send(l.body)})}return _h(i,e)}var Ki="?",dC=30,mC=40,pC=50;function Qr(i,e,l,t){var n={filename:i,function:e,in_app:!0};return l!==void 0&&(n.lineno=l),t!==void 0&&(n.colno=t),n}var hC=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gC=/\((\S*)(?::(\d+))(?::(\d+))\)/,bC=i=>{var e=hC.exec(i);if(e){var l=e[2]&&e[2].indexOf("eval")===0;if(l){var t=gC.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[n,o]=hh(e[1]||Ki,e[2]);return Qr(o,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},$C=[dC,bC],kC=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,vC=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yC=i=>{var e=kC.exec(i);if(e){var l=e[3]&&e[3].indexOf(" > eval")>-1;if(l){var t=vC.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let n=e[3],o=e[1]||Ki;return[o,n]=hh(o,n),Qr(n,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},wC=[pC,yC],EC=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,TC=i=>{var e=EC.exec(i);return e?Qr(e[2],e[1]||Ki,+e[3],e[4]?+e[4]:void 0):void 0},SC=[mC,TC],CC=[$C,wC,SC],IC=x1(...CC),hh=(i,e)=>{var l=i.indexOf("safari-extension")!==-1,t=i.indexOf("safari-web-extension")!==-1;return l||t?[i.indexOf("@")!==-1?i.split("@")[0]:Ki,l?`safari-extension:${e}`:`safari-web-extension:${e}`]:[i,e]};let Ar=0;function gh(){return Ar>0}function RC(){Ar+=1,setTimeout(()=>{Ar-=1})}function Tn(i,e={},l){if(typeof i!="function")return i;try{var t=i.__sentry_wrapped__;if(t)return t;if(Hr(i))return i}catch{return i}var n=function(){var f=Array.prototype.slice.call(arguments);try{l&&typeof l=="function"&&l.apply(this,arguments);var a=f.map(s=>Tn(s,e));return i.apply(this,a)}catch(s){throw RC(),IS(u=>{u.addEventProcessor(c=>(e.mechanism&&(Cr(c,void 0,void 0),si(c,e.mechanism)),c.extra={...c.extra,arguments:f},c)),CS(s)}),s}};try{for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}catch{}Z1(n,i),jr(i,"__sentry_wrapped__",n);try{var r=Object.getOwnPropertyDescriptor(n,"name");r.configurable&&Object.defineProperty(n,"name",{get(){return i.name}})}catch{}return n}class Kl{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Kl.id}__init2(){this._installFunc={onerror:NC,onunhandledrejection:OC}}constructor(e){Kl.prototype.__init.call(this),Kl.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var l in e){var t=this._installFunc[l];t&&e[l]&&(MC(l),t(),this._installFunc[l]=void 0)}}}Kl.__initStatic();function NC(){dl("error",i=>{const[e,l,t]=kh();if(!e.getIntegration(Kl))return;const{msg:n,url:o,line:r,column:f,error:a}=i;if(!(gh()||a&&a.__sentry_own_request__)){var s=a===void 0&&yn(n)?AC(n,o,r,f):bh(Zr(l,a||n,void 0,t,!1),o,r,f);s.level="error",$h(e,a,s,"onerror")}})}function OC(){dl("unhandledrejection",i=>{const[e,l,t]=kh();if(!e.getIntegration(Kl))return;let n=i;try{"reason"in i?n=i.reason:"detail"in i&&"reason"in i.detail&&(n=i.detail.reason)}catch{}if(gh()||n&&n.__sentry_own_request__)return!0;var o=V1(n)?BC(n):Zr(l,n,void 0,t,!0);o.level="error",$h(e,n,o,"onunhandledrejection")})}function BC(i){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}}function AC(i,e,l,t){var n=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=z1(i)?i.message:i,r="Error";var f=o.match(n);f&&(r=f[1],o=f[2]);var a={exception:{values:[{type:r,value:o}]}};return bh(a,e,l,t)}function bh(i,e,l,t){var n=i.exception=i.exception||{},o=n.values=n.values||[],r=o[0]=o[0]||{},f=r.stacktrace=r.stacktrace||{},a=f.frames=f.frames||[],s=isNaN(parseInt(t,10))?void 0:t,u=isNaN(parseInt(l,10))?void 0:l,c=yn(e)&&e.length>0?e:$T();return a.length===0&&a.push({colno:s,filename:c,function:"?",in_app:!0,lineno:u}),i}function MC(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`Global Handler attached: ${i}`)}function $h(i,e,l,t){si(l,{handled:!1,type:t}),i.captureEvent(l,{originalException:e})}function kh(){var i=Yt(),e=i.getClient(),l=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[i,l.stackParser,l.attachStacktrace]}var DC=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class di{static __initStatic(){this.id="TryCatch"}__init(){this.name=di.id}constructor(e){di.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){var e=Ct();this._options.setTimeout&&al(e,"setTimeout",u1),this._options.setInterval&&al(e,"setInterval",u1),this._options.requestAnimationFrame&&al(e,"requestAnimationFrame",LC),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&al(XMLHttpRequest.prototype,"send",GC);var l=this._options.eventTarget;if(l){var t=Array.isArray(l)?l:DC;t.forEach(UC)}}}di.__initStatic();function u1(i){return function(...e){var l=e[0];return e[0]=Tn(l,{mechanism:{data:{function:Ql(i)},handled:!0,type:"instrument"}}),i.apply(this,e)}}function LC(i){return function(e){return i.apply(this,[Tn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ql(i)},handled:!0,type:"instrument"}})])}}function GC(i){return function(...e){var l=this,t=["onload","onerror","onprogress","onreadystatechange"];return t.forEach(n=>{n in l&&typeof l[n]=="function"&&al(l,n,function(o){var r={mechanism:{data:{function:n,handler:Ql(o)},handled:!0,type:"instrument"}},f=Hr(o);return f&&(r.mechanism.data.handler=Ql(f)),Tn(o,r)})}),i.apply(this,e)}}function UC(i){var e=Ct(),l=e[i]&&e[i].prototype;!l||!l.hasOwnProperty||!l.hasOwnProperty("addEventListener")||(al(l,"addEventListener",function(t){return function(n,o,r){try{typeof o.handleEvent=="function"&&(o.handleEvent=Tn(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ql(o),target:i},handled:!0,type:"instrument"}}))}catch{}return t.apply(this,[n,Tn(o,{mechanism:{data:{function:"addEventListener",handler:Ql(o),target:i},handled:!0,type:"instrument"}}),r])}}),al(l,"removeEventListener",function(t){return function(n,o,r){var f=o;try{var a=f&&f.__sentry_wrapped__;a&&t.call(this,n,a,r)}catch{}return t.call(this,n,f,r)}}))}var qC="cause",PC=5;class hn{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=hn.id}constructor(e={}){hn.prototype.__init.call(this),this._key=e.key||qC,this._limit=e.limit||PC}setupOnce(){var e=Yt().getClient();!e||Vr((l,t)=>{var n=Yt().getIntegration(hn);return n?FC(e.getOptions().stackParser,n._key,n._limit,l,t):l})}}hn.__initStatic();function FC(i,e,l,t,n){if(!t.exception||!t.exception.values||!n||!Yl(n.originalException,Error))return t;var o=vh(i,l,n.originalException,e);return t.exception.values=[...o,...t.exception.values],t}function vh(i,e,l,t,n=[]){if(!Yl(l[t],Error)||n.length+1>=e)return n;var o=dh(i,l[t]);return vh(i,e,l[t],t,[o,...n])}var xl=Ct();class gn{constructor(){gn.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=gn.id}setupOnce(){Vr(e=>{if(Yt().getIntegration(gn)){if(!xl.navigator&&!xl.location&&!xl.document)return e;var l=e.request&&e.request.url||xl.location&&xl.location.href;const{referrer:o}=xl.document||{},{userAgent:r}=xl.navigator||{};var t={...e.request&&e.request.headers,...o&&{Referer:o},...r&&{"User-Agent":r}},n={...l&&{url:l},headers:t};return{...e,request:n}}return e})}}gn.__initStatic();class bn{constructor(){bn.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=bn.id}setupOnce(e,l){var t=n=>{var o=l().getIntegration(bn);if(o){try{if(YC(n,o._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=n}return o._previousEvent=n}return n};t.id=this.name,e(t)}}bn.__initStatic();function YC(i,e){return e?!!(jC(i,e)||HC(i,e)):!1}function jC(i,e){var l=i.message,t=e.message;return!(!l&&!t||l&&!t||!l&&t||l!==t||!wh(i,e)||!yh(i,e))}function HC(i,e){var l=c1(e),t=c1(i);return!(!l||!t||l.type!==t.type||l.value!==t.value||!wh(i,e)||!yh(i,e))}function yh(i,e){let l=_1(i),t=_1(e);if(!l&&!t)return!0;if(l&&!t||!l&&t||(l=l,t=t,t.length!==l.length))return!1;for(let r=0;r<t.length;r++){var n=t[r],o=l[r];if(n.filename!==o.filename||n.lineno!==o.lineno||n.colno!==o.colno||n.function!==o.function)return!1}return!0}function wh(i,e){let l=i.fingerprint,t=e.fingerprint;if(!l&&!t)return!0;if(l&&!t||!l&&t)return!1;l=l,t=t;try{return l.join("")===t.join("")}catch{return!1}}function c1(i){return i.exception&&i.exception.values&&i.exception.values[0]}function _1(i){var e=i.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var WC=[new pn,new ci,new di,new _i,new Kl,new hn,new bn,new gn];function zC(i={}){if(i.defaultIntegrations===void 0&&(i.defaultIntegrations=WC),i.release===void 0){var e=Ct();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(i.release=e.SENTRY_RELEASE.id)}i.autoSessionTracking===void 0&&(i.autoSessionTracking=!0),i.sendClientReports===void 0&&(i.sendClientReports=!0);var l={...i,stackParser:NT(i.stackParser||IC),integrations:GS(i),transport:i.transport||(Wr()?uC:_C)};PS(aC,l),i.autoSessionTracking&&VC()}function d1(i){i.startSession({ignoreDuration:!0}),i.captureSession()}function VC(){var i=Ct(),e=i.document;if(typeof e=="undefined"){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var l=Yt();!l.captureSession||(d1(l),dl("history",({from:t,to:n})=>{t===void 0||t===n||d1(Yt())}))}function xr(i){var e=Yt().getClient(),l=i||e&&e.getOptions();return!!l&&("tracesSampleRate"in l||"tracesSampler"in l)}function Zi(i){var e=i||Yt(),l=e.getScope();return l&&l.getTransaction()}function tl(i){return i/1e3}function XC(){dl("error",m1),dl("unhandledrejection",m1)}function m1(){var i=Zi();if(i){var e="internal_error";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] Transaction: ${e} -> Global error occured`),i.setStatus(e)}}class Qi{__init(){this.spans=[]}constructor(e=1e3){Qi.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Wl{__init2(){this.traceId=Jl()}__init3(){this.spanId=Jl().substring(16)}__init4(){this.startTimestamp=ai()}__init5(){this.tags={}}__init6(){this.data={}}constructor(e){if(Wl.prototype.__init2.call(this),Wl.prototype.__init3.call(this),Wl.prototype.__init4.call(this),Wl.prototype.__init5.call(this),Wl.prototype.__init6.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){var l=new Wl({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return l.spanRecorder=this.spanRecorder,l.spanRecorder&&l.spanRecorder.add(l),l.transaction=this.transaction,l}setTag(e,l){return this.tags={...this.tags,[e]:l},this}setData(e,l){return this.data={...this.data,[e]:l},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));var l=JC(e);return l!=="unknown_error"&&this.setStatus(l),this}isSuccess(){return this.status==="ok"}finish(e){this.endTimestamp=typeof e=="number"?e:ai()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return rn({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=zl(e.data,()=>({})),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=zl(e.spanId,()=>this.spanId),this.startTimestamp=zl(e.startTimestamp,()=>this.startTimestamp),this.status=e.status,this.tags=zl(e.tags,()=>({})),this.traceId=zl(e.traceId,()=>this.traceId),this}getTraceContext(){return rn({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}getBaggage(){var e=this.transaction&&this.transaction.metadata.baggage,l=!e||rh(e)&&Or(e)?this._getBaggageWithSentryValues(e):e;return l}toJSON(){return rn({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}_getBaggageWithSentryValues(e=ih({})){var l=this.transaction&&this.transaction._hub||Yt(),t=l.getClient();const{environment:n,release:o}=t&&t.getOptions()||{};return n&&l1(e,"environment",n),o&&l1(e,"release",o),oh(e),e}}function JC(i){if(i<400&&i>=100)return"ok";if(i>=400&&i<500)switch(i){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(i>=500&&i<600)switch(i){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class xi extends Wl{__init(){this._measurements={}}constructor(e,l){super(e),xi.prototype.__init.call(this),this._hub=l||Yt(),this.name=e.name||"",this.metadata=e.metadata||{},this._trimEnd=e.trimEnd,this.transaction=this}setName(e){this.name=e}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Qi(e)),this.spanRecorder.add(this)}setMeasurement(e,l,t=""){this._measurements[e]={value:l,unit:t}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),this.sampled!==!0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var l=this._hub.getClient();l&&l.recordDroppedEvent("sample_rate","transaction");return}var t=this.spanRecorder?this.spanRecorder.spans.filter(r=>r!==this&&r.endTimestamp):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce((r,f)=>r.endTimestamp&&f.endTimestamp?r.endTimestamp>f.endTimestamp?r:f:r).endTimestamp);var n={contexts:{trace:this.getTraceContext(),baggage:bS(this.getBaggage())},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},o=Object.keys(this._measurements).length>0;return o&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),n.measurements=this._measurements),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(n)}}toContext(){var e=super.toContext();return rn({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=zl(e.name,()=>""),this._trimEnd=e.trimEnd,this}}var Eh=1e3,Th=3e4,KC=5e3;class ZC extends Qi{constructor(e,l,t,n){super(n),this._pushActivity=e,this._popActivity=l,this.transactionSpanId=t}add(e){e.spanId!==this.transactionSpanId&&(e.finish=l=>{e.endTimestamp=typeof l=="number"?l:ai(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class dn extends xi{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,l,t=Eh,n=Th,o=!1){super(e,l),this._idleHub=l,this._idleTimeout=t,this._finalTimeout=n,this._onScope=o,dn.prototype.__init.call(this),dn.prototype.__init2.call(this),dn.prototype.__init3.call(this),dn.prototype.__init4.call(this),o&&(p1(l),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),l.configureScope(r=>r.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(e=ai()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(var l of this._beforeFinishCallbacks)l(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n}),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] No active IdleTransaction");return this._onScope&&p1(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){var l=n=>{this._finished||this._pushActivity(n)},t=n=>{this._finished||this._popActivity(n)};this.spanRecorder=new ZC(l,t,this.spanId,e),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(e)},this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var l=ai()+this._idleTimeout/1e3;this._startIdleTimeout(l)}}_beat(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},KC)}}function p1(i){var e=i.getScope();if(e){var l=e.getTransaction();l&&e.setSpan(void 0)}}function QC(){var i=this.getScope();if(i){var e=i.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function Sh(i,e,l){if(!xr(e))return i.sampled=!1,i;if(i.sampled!==void 0)return i.setMetadata({transactionSampling:{method:"explicitly_set"}}),i;let t;return typeof e.tracesSampler=="function"?(t=e.tracesSampler(l),i.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(t)}})):l.parentSampled!==void 0?(t=l.parentSampled,i.setMetadata({transactionSampling:{method:"inheritance"}})):(t=e.tracesSampleRate,i.setMetadata({transactionSampling:{method:"client_rate",rate:Number(t)}})),xC(t)?t?(i.sampled=Math.random()<t,i.sampled?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] starting ${i.op} transaction - ${i.name}`),i):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(t)})`),i)):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),i.sampled=!1,i):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("[Tracing] Discarding transaction because of invalid sample rate."),i.sampled=!1,i)}function xC(i){return X1(i)||!(typeof i=="number"||typeof i=="boolean")?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),!1):i<0||i>1?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${i}.`),!1):!0}function e3(i,e){var l=this.getClient(),t=l&&l.getOptions()||{};let n=new xi(i,this);return n=Sh(n,t,{parentSampled:i.parentSampled,transactionContext:i,...e}),n.sampled&&n.initSpanRecorder(t._experiments&&t._experiments.maxSpans),n}function t3(i,e,l,t,n,o){var r=i.getClient(),f=r&&r.getOptions()||{};let a=new dn(e,i,l,t,n);return a=Sh(a,f,{parentSampled:e.parentSampled,transactionContext:e,...o}),a.sampled&&a.initSpanRecorder(f._experiments&&f._experiments.maxSpans),a}function l3(){var i=Rn();!i.__SENTRY__||(i.__SENTRY__.extensions=i.__SENTRY__.extensions||{},i.__SENTRY__.extensions.startTransaction||(i.__SENTRY__.extensions.startTransaction=e3),i.__SENTRY__.extensions.traceHeaders||(i.__SENTRY__.extensions.traceHeaders=QC))}function n3(){var i=Rn();if(!!i.__SENTRY__){var e={mongodb(){var t=Xl(Fl,"./integrations/node/mongo");return new t.Mongo},mongoose(){var t=Xl(Fl,"./integrations/node/mongo");return new t.Mongo({mongoose:!0})},mysql(){var t=Xl(Fl,"./integrations/node/mysql");return new t.Mysql},pg(){var t=Xl(Fl,"./integrations/node/postgres");return new t.Postgres}},l=Object.keys(e).filter(t=>!!_T(t)).map(t=>{try{return e[t]()}catch{return}}).filter(t=>t);l.length>0&&(i.__SENTRY__.integrations=[...i.__SENTRY__.integrations||[],...l])}}function i3(){l3(),Vi()&&n3(),XC()}var yi=Ct();function r3(){yi&&yi.document?yi.document.addEventListener("visibilitychange",()=>{var i=Zi();if(yi.document.hidden&&i){var e="cancelled";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${i.op}`),i.status||i.setStatus(e),i.setTag("visibilitychange","document.hidden"),i.finish()}}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var eo=(i,e,l)=>{let t;return n=>{e.value>=0&&(n||l)&&(e.delta=e.value-(t||0),(e.delta||t===void 0)&&(t=e.value,i(e)))}},o3=()=>`v2-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,to=(i,e)=>({name:i,value:zl(e,()=>-1),delta:0,entries:[],id:o3()}),lo=(i,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(i)){if(i==="first-input"&&!("PerformanceEventTiming"in self))return;var l=new PerformanceObserver(t=>t.getEntries().map(e));return l.observe({type:i,buffered:!0}),l}}catch{}},er=(i,e)=>{var l=t=>{(t.type==="pagehide"||Ct().document.visibilityState==="hidden")&&(i(t),e&&(removeEventListener("visibilitychange",l,!0),removeEventListener("pagehide",l,!0)))};addEventListener("visibilitychange",l,!0),addEventListener("pagehide",l,!0)},f3=(i,e)=>{var l=to("CLS",0);let t,n=0,o=[];var r=a=>{if(a&&!a.hadRecentInput){var s=o[0],u=o[o.length-1];n&&o.length!==0&&a.startTime-u.startTime<1e3&&a.startTime-s.startTime<5e3?(n+=a.value,o.push(a)):(n=a.value,o=[a]),n>l.value&&(l.value=n,l.entries=o,t&&t())}},f=lo("layout-shift",r);f&&(t=eo(i,l,e),er(()=>{f.takeRecords().map(r),t(!0)}))};let Ii=-1;var s3=()=>Ct().document.visibilityState==="hidden"?0:1/0,a3=()=>{er(({timeStamp:i})=>{Ii=i},!0)},no=()=>(Ii<0&&(Ii=s3(),a3()),{get firstHiddenTime(){return Ii}}),u3=(i,e)=>{var l=no(),t=to("FID");let n;var o=f=>{n&&f.startTime<l.firstHiddenTime&&(t.value=f.processingStart-f.startTime,t.entries.push(f),n(!0))},r=lo("first-input",o);r&&(n=eo(i,t,e),er(()=>{r.takeRecords().map(o),r.disconnect()},!0))},h1={},c3=(i,e)=>{var l=no(),t=to("LCP");let n;var o=a=>{var s=a.startTime;s<l.firstHiddenTime&&(t.value=s,t.entries.push(a)),n&&n()},r=lo("largest-contentful-paint",o);if(r){n=eo(i,t,e);var f=()=>{h1[t.id]||(r.takeRecords().map(o),r.disconnect(),h1[t.id]=!0,n(!0))};["keydown","click"].forEach(a=>{addEventListener(a,f,{once:!0,capture:!0})}),er(f,!0)}};function wi(i){return typeof i=="number"&&isFinite(i)}function Sn(i,{startTimestamp:e,...l}){return e&&i.startTimestamp>e&&(i.startTimestamp=e),i.startChild({startTimestamp:e,...l})}var on=Ct();function Ch(){return on&&on.addEventListener&&on.performance}let g1=0,Rt={},El,ii;function _3(i=!1){var e=Ch();e&&ui&&(e.mark&&on.performance.mark("sentry-tracing-init"),d3(),m3(i),p3())}function d3(){f3(i=>{var e=i.entries.pop();!e||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding CLS"),Rt.cls={value:i.value,unit:"millisecond"},ii=e)})}function m3(i){c3(e=>{var l=e.entries.pop();if(!!l){var t=tl(ui),n=tl(l.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding LCP"),Rt.lcp={value:e.value,unit:"millisecond"},Rt["mark.lcp"]={value:t+n,unit:"second"},El=l}},i)}function p3(){u3(i=>{var e=i.entries.pop();if(!!e){var l=tl(ui),t=tl(e.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding FID"),Rt.fid={value:i.value,unit:"millisecond"},Rt["mark.fid"]={value:l+t,unit:"second"}}})}function h3(i){var e=Ch();if(!e||!on.performance.getEntries||!ui)return;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Tracing] Adding & adjusting spans using Performance API");var l=tl(ui),t=e.getEntries();let n,o;t.slice(g1).forEach(r=>{var f=tl(r.startTime),a=tl(r.duration);if(!(i.op==="navigation"&&l+f<i.startTimestamp))switch(r.entryType){case"navigation":{b3(i,r,l),n=l+tl(r.responseStart),o=l+tl(r.requestStart);break}case"mark":case"paint":case"measure":{var s=g3(i,r,f,a,l),u=no(),c=r.startTime<u.firstHiddenTime;r.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding FP"),Rt.fp={value:r.startTime,unit:"millisecond"},Rt["mark.fp"]={value:s,unit:"second"}),r.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding FCP"),Rt.fcp={value:r.startTime,unit:"millisecond"},Rt["mark.fcp"]={value:s,unit:"second"});break}case"resource":{var m=r.name.replace(on.location.origin,"");k3(i,r,m,f,a,l);break}}}),g1=Math.max(t.length-1,0),v3(i),i.op==="pageload"&&(typeof n=="number"&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding TTFB"),Rt.ttfb={value:(n-i.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=n&&(Rt["ttfb.requestTime"]={value:(n-o)*1e3,unit:"second"})),["fcp","fp","lcp"].forEach(r=>{if(!(!Rt[r]||l>=i.startTimestamp)){var f=Rt[r].value,a=l+tl(f),s=Math.abs((a-i.startTimestamp)*1e3),u=s-f;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Measurements] Normalized ${r} from ${f} to ${s} (${u})`),Rt[r].value=s}}),Rt["mark.fid"]&&Rt.fid&&Sn(i,{description:"first input delay",endTimestamp:Rt["mark.fid"].value+tl(Rt.fid.value),op:"web.vitals",startTimestamp:Rt["mark.fid"].value}),"fcp"in Rt||delete Rt.cls,Object.keys(Rt).forEach(r=>{i.setMeasurement(r,Rt[r].value,Rt[r].unit)}),y3(i)),El=void 0,ii=void 0,Rt={}}function g3(i,e,l,t,n){var o=n+l,r=o+t;return Sn(i,{description:e.name,endTimestamp:r,op:e.entryType,startTimestamp:o}),o}function b3(i,e,l){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(t=>{Ei(i,e,t,l)}),Ei(i,e,"secureConnection",l,"TLS/SSL","connectEnd"),Ei(i,e,"fetch",l,"cache","domainLookupStart"),Ei(i,e,"domainLookup",l,"DNS"),$3(i,e,l)}function Ei(i,e,l,t,n,o){var r=o?e[o]:e[`${l}End`],f=e[`${l}Start`];!f||!r||Sn(i,{op:"browser",description:zl(n,()=>l),startTimestamp:t+tl(f),endTimestamp:t+tl(r)})}function $3(i,e,l){Sn(i,{op:"browser",description:"request",startTimestamp:l+tl(e.requestStart),endTimestamp:l+tl(e.responseEnd)}),Sn(i,{op:"browser",description:"response",startTimestamp:l+tl(e.responseStart),endTimestamp:l+tl(e.responseEnd)})}function k3(i,e,l,t,n,o){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var r={};"transferSize"in e&&(r["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(r["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(r["Decoded Body Size"]=e.decodedBodySize);var f=o+t,a=f+n;Sn(i,{description:l,endTimestamp:a,op:e.initiatorType?`resource.${e.initiatorType}`:"resource",startTimestamp:f,data:r})}}function v3(i){var e=on.navigator;if(!!e){var l=e.connection;l&&(l.effectiveType&&i.setTag("effectiveConnectionType",l.effectiveType),l.type&&i.setTag("connectionType",l.type),wi(l.rtt)&&(Rt["connection.rtt"]={value:l.rtt,unit:"millisecond"}),wi(l.downlink)&&(Rt["connection.downlink"]={value:l.downlink,unit:""})),wi(e.deviceMemory)&&i.setTag("deviceMemory",`${e.deviceMemory} GB`),wi(e.hardwareConcurrency)&&i.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}}function y3(i){El&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding LCP Data"),El.element&&i.setTag("lcp.element",oi(El.element)),El.id&&i.setTag("lcp.id",El.id),El.url&&i.setTag("lcp.url",El.url.trim().slice(0,200)),i.setTag("lcp.size",El.size)),ii&&ii.sources&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log("[Measurements] Adding CLS Data"),ii.sources.forEach((e,l)=>i.setTag(`cls.source.${l+1}`,oi(e.node))))}var w3=["localhost",/^\//],Hi={traceFetch:!0,traceXHR:!0,tracingOrigins:w3};function E3(i){const{traceFetch:e,traceXHR:l,tracingOrigins:t,shouldCreateSpanForRequest:n}={...Hi,...i};var o={},r=s=>{if(o[s])return o[s];var u=t;return o[s]=u.some(c=>fi(s,c))&&!fi(s,"sentry_key"),o[s]};let f=r;typeof n=="function"&&(f=s=>r(s)&&n(s));var a={};e&&dl("fetch",s=>{T3(s,f,a)}),l&&dl("xhr",s=>{C3(s,f,a)})}function T3(i,e,l){if(!(!xr()||!(i.fetchData&&e(i.fetchData.url)))){if(i.endTimestamp){var t=i.fetchData.__span;if(!t)return;var n=l[t];n&&(i.response?n.setHttpStatus(i.response.status):i.error&&n.setStatus("internal_error"),n.finish(),delete l[t]);return}var o=Zi();if(o){var n=o.startChild({data:{...i.fetchData,type:"fetch"},description:`${i.fetchData.method} ${i.fetchData.url}`,op:"http.client"});i.fetchData.__span=n.spanId,l[n.spanId]=n;var r=i.args[0]=i.args[0],f=i.args[1]=i.args[1]||{};f.headers=S3(r,n,f)}}}function S3(i,e,l){let t=l.headers;Yl(i,Request)&&(t=i.headers);var n=e.getBaggage();if(t)if(typeof t.append=="function")t.append("sentry-trace",e.toTraceparent()),t.append(cn,ti(n,t.get(cn)));else if(Array.isArray(t)){const[,o]=t.find(([r,f])=>r===cn);t=[...t,["sentry-trace",e.toTraceparent()],[cn,ti(n,o)]]}else t={...t,"sentry-trace":e.toTraceparent(),baggage:ti(n,t.baggage)};else t={"sentry-trace":e.toTraceparent(),baggage:ti(n)};return t}function C3(i,e,l){if(!(!xr()||i.xhr&&i.xhr.__sentry_own_request__||!(i.xhr&&i.xhr.__sentry_xhr__&&e(i.xhr.__sentry_xhr__.url)))){var t=i.xhr.__sentry_xhr__;if(i.endTimestamp){var n=i.xhr.__sentry_xhr_span_id__;if(!n)return;var o=l[n];o&&(o.setHttpStatus(t.status_code),o.finish(),delete l[n]);return}var r=Zi();if(r){var o=r.startChild({data:{...t.data,type:"xhr",method:t.method,url:t.url},description:`${t.method} ${t.url}`,op:"http.client"});if(i.xhr.__sentry_xhr_span_id__=o.spanId,l[i.xhr.__sentry_xhr_span_id__]=o,i.xhr.setRequestHeader)try{i.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var f=i.xhr.getRequestHeader&&i.xhr.getRequestHeader(cn);i.xhr.setRequestHeader(cn,ti(o.getBaggage(),f))}catch{}}}}var Qn=Ct();function I3(i,e=!0,l=!0){if(!Qn||!Qn.location){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("Could not initialize routing instrumentation due to invalid location");return}let t=Qn.location.href,n;e&&(n=i({name:Qn.location.pathname,op:"pageload"})),l&&dl("history",({to:o,from:r})=>{if(r===void 0&&t&&t.indexOf(o)!==-1){t=void 0;return}r!==o&&(t=void 0,n&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] Finishing current transaction with op: ${n.op}`),n.finish()),n=i({name:Qn.location.pathname,op:"navigation"}))})}var R3="BrowserTracing",N3={idleTimeout:Eh,finalTimeout:Th,markBackgroundTransactions:!0,routingInstrumentation:I3,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...Hi};class io{__init(){this.name=R3}constructor(e){io.prototype.__init.call(this);let l=Hi.tracingOrigins;e&&(e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?l=e.tracingOrigins:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...N3,...e,tracingOrigins:l};const{_metricOptions:t}=this.options;_3(t&&t._reportAllChanges)}setupOnce(e,l){this._getCurrentHub=l,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`[Tracing] We added a reasonable default for you: ${Hi.tracingOrigins}`));const{routingInstrumentation:t,startTransactionOnLocationChange:n,startTransactionOnPageLoad:o,markBackgroundTransactions:r,traceFetch:f,traceXHR:a,tracingOrigins:s,shouldCreateSpanForRequest:u}=this.options;t(c=>this._createRouteTransaction(c),o,n),r&&r3(),E3({traceFetch:f,traceXHR:a,tracingOrigins:s,shouldCreateSpanForRequest:u})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:l,idleTimeout:t,finalTimeout:n}=this.options;var o=e.op==="pageload"?O3():void 0,r={...e,...o,trimEnd:!0},f=typeof l=="function"?l(r):r,a=f===void 0?{...r,sampled:!1}:f;a.sampled===!1&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] Will not send ${a.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Pe.log(`[Tracing] Starting ${a.op} transaction on scope`);var s=this._getCurrentHub();const{location:u}=Ct();var c=t3(s,a,t,n,!0,{location:u});return c.registerBeforeFinishCallback(m=>{h3(m),m.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),c}}function O3(){var i=b1("sentry-trace"),e=b1("baggage"),l=i?iS(i):void 0,t=vS(e,i);if(l||t)return{...l&&l,...t&&{metadata:{baggage:t}}}}function b1(i){var e=Ct();if(e.document&&e.document.querySelector){var l=e.document.querySelector(`meta[name=${i}]`);return l?l.getAttribute("content"):null}else return null}(typeof __SENTRY_TRACING__=="undefined"||__SENTRY_TRACING__)&&i3();try{self["workbox:window:6.5.2"]&&_()}catch{}function Mr(i,e){return new Promise(function(l){var t=new MessageChannel;t.port1.onmessage=function(n){l(n.data)},i.postMessage(e,[t.port2])})}function B3(i,e){for(var l=0;l<e.length;l++){var t=e[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function $1(i,e){(e==null||e>i.length)&&(e=i.length);for(var l=0,t=new Array(e);l<e;l++)t[l]=i[l];return t}function A3(i,e){var l;if(typeof Symbol=="undefined"||i[Symbol.iterator]==null){if(Array.isArray(i)||(l=function(n,o){if(n){if(typeof n=="string")return $1(n,o);var r=Object.prototype.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$1(n,o):void 0}}(i))||e&&i&&typeof i.length=="number"){l&&(i=l);var t=0;return function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(l=i[Symbol.iterator]()).next.bind(l)}try{self["workbox:core:6.5.2"]&&_()}catch{}var pr=function(){var i=this;this.promise=new Promise(function(e,l){i.resolve=e,i.reject=l})};function hr(i,e){var l=location.href;return new URL(i,l).href===new URL(e,l).href}var xn=function(i,e){this.type=i,Object.assign(this,e)};function Ti(i,e,l){return l?e?e(i):i:(i&&i.then||(i=Promise.resolve(i)),e?i.then(e):i)}function M3(){}var D3={type:"SKIP_WAITING"};function k1(i,e){if(!e)return i&&i.then?i.then(M3):Promise.resolve()}var L3=function(i){var e,l;function t(f,a){var s,u;return a===void 0&&(a={}),(s=i.call(this)||this).nn={},s.tn=0,s.rn=new pr,s.en=new pr,s.on=new pr,s.un=0,s.an=new Set,s.cn=function(){var c=s.fn,m=c.installing;s.tn>0||!hr(m.scriptURL,s.sn.toString())||performance.now()>s.un+6e4?(s.vn=m,c.removeEventListener("updatefound",s.cn)):(s.hn=m,s.an.add(m),s.rn.resolve(m)),++s.tn,m.addEventListener("statechange",s.ln)},s.ln=function(c){var m=s.fn,$=c.target,v=$.state,E=$===s.vn,T={sw:$,isExternal:E,originalEvent:c};!E&&s.mn&&(T.isUpdate=!0),s.dispatchEvent(new xn(v,T)),v==="installed"?s.wn=self.setTimeout(function(){v==="installed"&&m.waiting===$&&s.dispatchEvent(new xn("waiting",T))},200):v==="activating"&&(clearTimeout(s.wn),E||s.en.resolve($))},s.dn=function(c){var m=s.hn,$=m!==navigator.serviceWorker.controller;s.dispatchEvent(new xn("controlling",{isExternal:$,originalEvent:c,sw:m,isUpdate:s.mn})),$||s.on.resolve(m)},s.gn=(u=function(c){var m=c.data,$=c.ports,v=c.source;return Ti(s.getSW(),function(){s.an.has(v)&&s.dispatchEvent(new xn("message",{data:m,originalEvent:c,ports:$,sw:v}))})},function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];try{return Promise.resolve(u.apply(this,c))}catch($){return Promise.reject($)}}),s.sn=f,s.nn=a,navigator.serviceWorker.addEventListener("message",s.gn),s}l=i,(e=t).prototype=Object.create(l.prototype),e.prototype.constructor=e,e.__proto__=l;var n,o,r=t.prototype;return r.register=function(f){var a=(f===void 0?{}:f).immediate,s=a!==void 0&&a;try{var u=this;return function(c,m){var $=c();return $&&$.then?$.then(m):m($)}(function(){if(!s&&document.readyState!=="complete")return k1(new Promise(function(c){return window.addEventListener("load",c)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),Ti(u.bn(),function(c){u.fn=c,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var m=u.fn.waiting;return m&&hr(m.scriptURL,u.sn.toString())&&(u.hn=m,Promise.resolve().then(function(){u.dispatchEvent(new xn("waiting",{sw:m,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(c){return Promise.reject(c)}},r.update=function(){try{return this.fn?k1(this.fn.update()):void 0}catch(f){return Promise.reject(f)}},r.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},r.messageSW=function(f){try{return Ti(this.getSW(),function(a){return Mr(a,f)})}catch(a){return Promise.reject(a)}},r.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Mr(this.fn.waiting,D3)},r.pn=function(){var f=navigator.serviceWorker.controller;return f&&hr(f.scriptURL,this.sn.toString())?f:void 0},r.bn=function(){try{var f=this;return function(a,s){try{var u=a()}catch(c){return s(c)}return u&&u.then?u.then(void 0,s):u}(function(){return Ti(navigator.serviceWorker.register(f.sn,f.nn),function(a){return f.un=performance.now(),a})},function(a){throw a})}catch(a){return Promise.reject(a)}},n=t,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&B3(n.prototype,o),t}(function(){function i(){this.Pn=new Map}var e=i.prototype;return e.addEventListener=function(l,t){this.Sn(l).add(t)},e.removeEventListener=function(l,t){this.Sn(l).delete(t)},e.dispatchEvent=function(l){l.target=this;for(var t,n=A3(this.Sn(l.type));!(t=n()).done;)(0,t.value)(l)},e.Sn=function(l){return this.Pn.has(l)||this.Pn.set(l,new Set),this.Pn.get(l)},i}());function G3(i={}){const{immediate:e=!1,onNeedRefresh:l,onOfflineReady:t,onRegistered:n,onRegisterError:o}=i;let r,f;const a=async(s=!0)=>{s&&(r==null||r.addEventListener("controlling",u=>{u.isUpdate&&window.location.reload()})),f&&f.waiting&&await Mr(f.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new L3("./sw.js",{scope:"./",type:"classic"}),r.addEventListener("activated",s=>{s.isUpdate||t==null||t()});{const s=()=>{l==null||l()};r.addEventListener("waiting",s),r.addEventListener("externalwaiting",s)}r.register({immediate:e}).then(s=>{f=s,n==null||n(s)}).catch(s=>{o==null||o(s)})}return a}location.hostname!=="localhost"&&zC({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new io],tracesSampleRate:.2});G3({});new uT({target:document.body})});export default U3();
