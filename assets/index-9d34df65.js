var B3=Object.defineProperty;var M3=(l,e,n)=>e in l?B3(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n;var D3=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports);var ii=(l,e,n)=>(M3(l,typeof e!="symbol"?e+"":e,n),n),hf=(l,e,n)=>{if(!e.has(l))throw TypeError("Cannot "+n)};var bi=(l,e,n)=>(hf(l,e,"read from private field"),n?n.call(l):e.get(l)),Di=(l,e,n)=>{if(e.has(l))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(l):e.set(l,n)},gf=(l,e,n,t)=>(hf(l,e,"write to private field"),t?t.call(l,n):e.set(l,n),n);var HF=D3((XF,_l)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ie(){}function L3(l,e){for(const n in e)l[n]=e[n];return l}function F3(l){return l&&typeof l=="object"&&typeof l.then=="function"}function M0(l){return l()}function bf(){return Object.create(null)}function gr(l){l.forEach(M0)}function P3(l){return typeof l=="function"}function $t(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let xr;function j3(l,e){return xr||(xr=document.createElement("a")),xr.href=e,l===xr.href}function U3(l){return Object.keys(l).length===0}function D0(l,...e){if(l==null)return ie;const n=l.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function po(l,e,n){l.$$.on_destroy.push(D0(e,n))}function Xi(l,e,n,t){if(l){const i=L0(l,e,n,t);return l[0](i)}}function L0(l,e,n,t){return l[1]&&t?L3(n.ctx.slice(),l[1](t(e))):n.ctx}function Ji(l,e,n,t){if(l[2]&&t){const i=l[2](t(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let s=0;s<r;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function Ki(l,e,n,t,i,o){if(i){const r=L0(e,n,t,o);l.p(r,i)}}function Zi(l){if(l.ctx.length>32){const e=[],n=l.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(l,e){l.appendChild(e)}function h(l,e,n){l.insertBefore(e,n||null)}function p(l){l.parentNode.removeChild(l)}function we(l,e){for(let n=0;n<l.length;n+=1)l[n]&&l[n].d(e)}function m(l){return document.createElement(l)}function w(l){return document.createTextNode(l)}function N(){return w(" ")}function fe(){return w("")}function ji(l,e,n,t){return l.addEventListener(e,n,t),()=>l.removeEventListener(e,n,t)}function _e(l,e,n){n==null?l.removeAttribute(e):l.getAttribute(e)!==n&&l.setAttribute(e,n)}function G3(l){return Array.from(l.childNodes)}function K(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function $f(l,e){l.value=e??""}function Bt(l,e,n,t){n===null?l.style.removeProperty(e):l.style.setProperty(e,n,t?"important":"")}function Dr(l,e){for(let n=0;n<l.options.length;n+=1){const t=l.options[n];if(t.__value===e){t.selected=!0;return}}l.selectedIndex=-1}let Lr;function cl(l){Lr=l}function Fs(){if(!Lr)throw new Error("Function called outside component initialization");return Lr}function Ps(l,e){return Fs().$$.context.set(l,e),e}function qt(l){return Fs().$$.context.get(l)}const Er=[],vf=[],uo=[],yf=[],q3=Promise.resolve();let ys=!1;function Y3(){ys||(ys=!0,q3.then(js))}function ks(l){uo.push(l)}const es=new Set;let eo=0;function js(){const l=Lr;do{for(;eo<Er.length;){const e=Er[eo];eo++,cl(e),H3(e.$$)}for(cl(null),Er.length=0,eo=0;vf.length;)vf.pop()();for(let e=0;e<uo.length;e+=1){const n=uo[e];es.has(n)||(es.add(n),n())}uo.length=0}while(Er.length);for(;yf.length;)yf.pop()();ys=!1,es.clear(),cl(l)}function H3(l){if(l.fragment!==null){l.update(),gr(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(ks)}}const co=new Set;let Pl;function re(){Pl={r:0,c:[],p:Pl}}function oe(){Pl.r||gr(Pl.c),Pl=Pl.p}function b(l,e){l&&l.i&&(co.delete(l),l.i(e))}function $(l,e,n,t){if(l&&l.o){if(co.has(l))return;co.add(l),Pl.c.push(()=>{co.delete(l),t&&(n&&l.d(1),t())}),l.o(e)}}function z3(l,e){const n=e.token={};function t(i,o,r,s){if(e.token!==n)return;e.resolved=s;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=s);const f=i&&(e.current=i)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,_)=>{_!==o&&c&&(re(),$(c,1,1,()=>{e.blocks[_]===c&&(e.blocks[_]=null)}),oe())}):e.block.d(1),f.c(),b(f,1),f.m(e.mount(),e.anchor),u=!0),e.block=f,e.blocks&&(e.blocks[o]=f),u&&js()}if(F3(l)){const i=Fs();if(l.then(o=>{cl(i),t(e.then,1,e.value,o),cl(null)},o=>{if(cl(i),t(e.catch,2,e.error,o),cl(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,l),!0;e.resolved=l}}function W3(l,e,n){const t=e.slice(),{resolved:i}=l;l.current===l.then&&(t[l.value]=i),l.current===l.catch&&(t[l.error]=i),l.block.p(t,n)}const V3=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function X3(l,e){$(l,1,1,()=>{e.delete(l.key)})}function J3(l,e,n,t,i,o,r,s,a,f,u,c){let _=l.length,g=o.length,y=_;const k={};for(;y--;)k[l[y].key]=y;const T=[],R=new Map,C=new Map;for(y=g;y--;){const L=c(i,o,y),P=n(L);let U=r.get(P);U?t&&U.p(L,e):(U=f(P,L),U.c()),R.set(P,T[y]=U),P in k&&C.set(P,Math.abs(y-k[P]))}const B=new Set,D=new Set;function j(L){b(L,1),L.m(s,u),r.set(L.key,L),u=L.first,g--}for(;_&&g;){const L=T[g-1],P=l[_-1],U=L.key,q=P.key;L===P?(u=L.first,_--,g--):R.has(q)?!r.has(U)||B.has(U)?j(L):D.has(q)?_--:C.get(U)>C.get(q)?(D.add(U),j(L)):(B.add(q),_--):(a(P,r),_--)}for(;_--;){const L=l[_];R.has(L.key)||a(L,r)}for(;g;)j(T[g-1]);return T}function W(l){l&&l.c()}function H(l,e,n,t){const{fragment:i,on_mount:o,on_destroy:r,after_update:s}=l.$$;i&&i.m(e,n),t||ks(()=>{const a=o.map(M0).filter(P3);r?r.push(...a):gr(a),l.$$.on_mount=[]}),s.forEach(ks)}function z(l,e){const n=l.$$;n.fragment!==null&&(gr(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K3(l,e){l.$$.dirty[0]===-1&&(Er.push(l),Y3(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function wt(l,e,n,t,i,o,r,s=[-1]){const a=Lr;cl(l);const f=l.$$={fragment:null,ctx:null,props:o,update:ie,not_equal:i,bound:bf(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:bf(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};r&&r(f.root);let u=!1;if(f.ctx=n?n(l,e.props||{},(c,_,...g)=>{const y=g.length?g[0]:_;return f.ctx&&i(f.ctx[c],f.ctx[c]=y)&&(!f.skip_bound&&f.bound[c]&&f.bound[c](y),u&&K3(l,c)),_}):[],f.update(),u=!0,gr(f.before_update),f.fragment=t?t(f.ctx):!1,e.target){if(e.hydrate){const c=G3(e.target);f.fragment&&f.fragment.l(c),c.forEach(p)}else f.fragment&&f.fragment.c();e.intro&&b(l.$$.fragment),H(l,e.target,e.anchor,e.customElement),js()}cl(a)}class Et{$destroy(){z(this,1),this.$destroy=ie}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const i=t.indexOf(n);i!==-1&&t.splice(i,1)}}$set(e){this.$$set&&!U3(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O={},Z3={get exports(){return O},set exports(l){O=l}};/*! For license information please see browser.native.js.LICENSE.txt */(function(l,e){(function(n,t){l.exports=t()})(self,()=>(()=>{var n={160:function(r,s,a){r.exports=function(){function f(v){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(v)}function u(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function c(v,E){for(var S=0;S<E.length;S++){var I=E[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}function _(v,E,S){return E&&c(v.prototype,E),S&&c(v,S),Object.defineProperty(v,"prototype",{writable:!1}),v}function g(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),E&&k(v,E)}function y(v){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},y(v)}function k(v,E){return k=Object.setPrototypeOf||function(S,I){return S.__proto__=I,S},k(v,E)}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(v,E,S){return R=T()?Reflect.construct:function(I,A,Y){var te=[null];te.push.apply(te,A);var de=new(Function.bind.apply(I,te));return Y&&k(de,Y.prototype),de},R.apply(null,arguments)}function C(v){var E=typeof Map=="function"?new Map:void 0;return C=function(S){if(S===null||(I=S,Function.toString.call(I).indexOf("[native code]")===-1))return S;var I;if(typeof S!="function")throw new TypeError("Super expression must either be null or a function");if(E!==void 0){if(E.has(S))return E.get(S);E.set(S,A)}function A(){return R(S,arguments,y(this).constructor)}return A.prototype=Object.create(S.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),k(A,S)},C(v)}function B(v,E){if(E&&(typeof E=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(v)}function D(v){var E=T();return function(){var S,I=y(v);if(E){var A=y(this).constructor;S=Reflect.construct(I,arguments,A)}else S=I.apply(this,arguments);return B(this,S)}}function j(v,E){return function(S){if(Array.isArray(S))return S}(v)||function(S,I){var A=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(A!=null){var Y,te,de=[],ge=!0,Pe=!1;try{for(A=A.call(S);!(ge=(Y=A.next()).done)&&(de.push(Y.value),!I||de.length!==I);ge=!0);}catch(yt){Pe=!0,te=yt}finally{try{ge||A.return==null||A.return()}finally{if(Pe)throw te}}return de}}(v,E)||L(v,E)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(v,E){if(v){if(typeof v=="string")return P(v,E);var S=Object.prototype.toString.call(v).slice(8,-1);return S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set"?Array.from(v):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?P(v,E):void 0}}function P(v,E){(E==null||E>v.length)&&(E=v.length);for(var S=0,I=new Array(E);S<E;S++)I[S]=v[S];return I}function U(v,E){var S=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!S){if(Array.isArray(v)||(S=L(v))||E&&v&&typeof v.length=="number"){S&&(v=S);var I=0,A=function(){};return{s:A,n:function(){return I>=v.length?{done:!0}:{done:!1,value:v[I++]}},e:function(ge){throw ge},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y,te=!0,de=!1;return{s:function(){S=S.call(v)},n:function(){var ge=S.next();return te=ge.done,ge},e:function(ge){de=!0,Y=ge},f:function(){try{te||S.return==null||S.return()}finally{if(de)throw Y}}}}var q=function(){return q=Object.assign||function(v){for(var E,S=1,I=arguments.length;S<I;S++)for(var A in E=arguments[S])Object.prototype.hasOwnProperty.call(E,A)&&(v[A]=E[A]);return v},q.apply(this,arguments)};function G(v){var E=typeof Symbol=="function"&&Symbol.iterator,S=E&&v[E],I=0;if(S)return S.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&I>=v.length&&(v=void 0),{value:v&&v[I++],done:!v}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(v,E){var S=typeof Symbol=="function"&&v[Symbol.iterator];if(!S)return v;var I,A,Y=S.call(v),te=[];try{for(;(E===void 0||E-- >0)&&!(I=Y.next()).done;)te.push(I.value)}catch(de){A={error:de}}finally{try{I&&!I.done&&(S=Y.return)&&S.call(Y)}finally{if(A)throw A.error}}return te}function M(v,E,S){if(S||arguments.length===2)for(var I,A=0,Y=E.length;A<Y;A++)!I&&A in E||(I||(I=Array.prototype.slice.call(E,0,A)),I[A]=E[A]);return v.concat(I||Array.prototype.slice.call(E))}var x=function(v){g(S,v);var E=D(S);function S(I,A,Y){var te;return u(this,S),(te=E.call(this,I)).token=A,te.type=Y||"error",te}return _(S)}(C(Error)),ne=function(v){return v<4?"short":v===4?"long":"narrow"},F=function(v){return v%2==0?"2-digit":"numeric"};function X(v,E){switch(v.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:return void E("".concat(v.desc," is not supported with width ").concat(v.width))}}function J(v,E){var S=v.char,I=v.desc,A=v.width;return S==="d"?F(A):void E("".concat(I," is not supported"))}function V(v,E){var S=v.char,I=v.desc,A=v.width;return(S==="c"||S==="e")&&A<3&&E("Numeric value is not supported for ".concat(I,"; falling back to weekday:short"),x.WARNING),ne(A)}function se(v,E){var S=v.char,I=v.desc,A=v.width;switch(S){case"v":case"z":return A===4?"long":"short";case"V":return A===4?"long":void E("".concat(I," is not supported with width ").concat(A));case"X":return void E("".concat(I," is not supported"))}return"short"}function me(v,E){switch(v.field){case"era":return{era:ne(v.width)};case"year":return function(S,I){switch(S.char){case"y":return{year:F(S.width)};case"r":return{calendar:"gregory",year:"numeric"};default:return I("".concat(S.desc," is not supported; falling back to year:numeric"),x.WARNING),{year:"numeric"}}}(v,E);case"month":return{month:X(v,E)};case"day":return{day:J(v,E)};case"weekday":return{weekday:V(v,E)};case"period":return;case"hour":return function(S){var I,A=F(S.width);switch(S.char){case"h":I="h12";break;case"H":I="h23";break;case"k":I="h24";break;case"K":I="h11"}return I?{hour:A,hourCycle:I}:{hour:A}}(v);case"min":return{minute:F(v.width)};case"sec":return{second:F(v.width)};case"tz":return{timeZoneName:se(v,E)};case"quarter":case"week":case"sec-frac":case"ms":E("".concat(v.desc," is not supported"))}}function Q(v){var E,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(de){throw de},I={},A=[],Y=U(v);try{var te=function(){var de=E.value,ge=de.error,Pe=de.field,yt=de.str;if(ge){var Ot=new x(ge.message,de);Ot.stack=ge.stack,S(Ot)}if(yt){var Mt="Ignoring string part: ".concat(yt);S(new x(Mt,de,x.WARNING))}Pe&&(A.indexOf(Pe)===-1?A.push(Pe):S(new x("Duplicate ".concat(Pe," token"),de)));var _t=me(de,function(Ht,Jt){return S(new x(Ht,de,Jt))});_t&&Object.assign(I,_t)};for(Y.s();!(E=Y.n()).done;)te()}catch(de){Y.e(de)}finally{Y.f()}return I}var ee={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},le=function(v){return v>="A"&&v<="Z"||v>="a"&&v<="z"};function ue(v,E){var S=v[E];if(!S)return null;if(le(S))return function(te,de){for(var ge=te[de],Pe=1;te[++de]===ge;)++Pe;var yt=ee[ge];if(!yt){var Ot="The letter ".concat(ge," is not a valid field identifier");return{char:ge,error:new Error(Ot),width:Pe}}return{char:ge,field:yt.field,desc:yt.desc,width:Pe}}(v,E);if(S==="'")return function(te,de){var ge=te[++de],Pe=2;if(ge==="'")return{char:"'",str:ge,width:Pe};for(;;){var yt=te[++de];if(++Pe,yt===void 0){var Ot="Unterminated quoted literal in pattern: ".concat(ge||te);return{char:"'",error:new Error(Ot),str:ge,width:Pe}}if(yt==="'"){if(te[++de]!=="'")return{char:"'",str:ge,width:Pe};++Pe}ge+=yt}}(v,E);for(var I=S,A=1;;){var Y=v[++E];if(!Y||le(Y)||Y==="'")return{char:S,str:I,width:A};I+=Y,A+=1}}function be(v){for(var E=[],S=0;;){var I=ue(v,S);if(!I)return E;E.push(I),S+=I.width}}var Le=function(v){g(S,v);var E=D(S);function S(I,A){var Y;return u(this,S),(Y=E.call(this,A)).code=I,Y}return _(S)}(C(Error)),ke=function(v){g(S,v);var E=D(S);function S(I,A){var Y;return u(this,S),(Y=E.call(this,"BAD_OPTION","Unknown ".concat(I," option: ").concat(A))).stem=I,Y.option=A,Y}return _(S)}(Le),Ee=function(v){g(S,v);var E=D(S);function S(I){var A;return u(this,S),(A=E.call(this,"BAD_STEM","Unknown stem: ".concat(I))).stem=I,A}return _(S)}(Le),Te=function(v){g(S,v);var E=D(S);function S(I,A){var Y;return u(this,S),(Y=E.call(this,"MASKED_VALUE","Value for ".concat(I," is set multiple times"))).type=I,Y.prev=A,Y}return _(S)}(Le),Re=function(v){g(S,v);var E=D(S);function S(I){var A;return u(this,S),(A=E.call(this,"MISSING_OPTION","Required option missing for ".concat(I))).stem=I,A}return _(S)}(Le),He=function(v){g(S,v);var E=D(S);function S(I,A){var Y;return u(this,S),(Y=E.call(this,"BAD_PATTERN",A)).char=I,Y}return _(S)}(Le),he=function(v){g(S,v);var E=D(S);function S(I,A,Y){var te;u(this,S);var de=Y>1?"".concat(Y," options"):"one option";return(te=E.call(this,"TOO_MANY_OPTIONS","Token ".concat(I," only supports ").concat(de," (got ").concat(A.length,")"))).stem=I,te.options=A,te}return _(S)}(Le),Ce=function(v){g(S,v);var E=D(S);function S(I,A){var Y;return u(this,S),(Y=E.call(this,"UNSUPPORTED","The stem ".concat(I," is not supported"))).stem=I,A&&(Y.message+=" with value ".concat(A),Y.source=A),Y}return _(S)}(Le);function De(v,E){var S=E.numberingSystem;return Array.isArray(v)||(v=[v]),S?v.map(function(I){var A=I.indexOf("-u-")===-1?"u-nu":"nu";return"".concat(I,"-").concat(A,"-").concat(S)}).concat(v):v}function Oe(v){var E=v.scale,S=v.unit,I=typeof E=="number"&&E>=0?E:1;return S&&S.style==="percent"&&(I*=.01),I}function Ke(v,E){var S=v.decimal,I=v.group,A=v.integerWidth,Y=v.notation,te=v.precision,de=v.roundingMode,ge=v.sign,Pe=v.unit,yt=v.unitPer,Ot=v.unitWidth,Mt=function(Wn,sn){E&&E(new Ce(Wn,sn))},_t={};if(Pe)switch(Pe.style){case"base-unit":_t.style="decimal";break;case"currency":_t.style="currency",_t.currency=Pe.currency;break;case"measure-unit":_t.style="unit",_t.unit=Pe.unit.replace(/.*-/,""),yt&&(_t.unit+="-per-"+yt.replace(/.*-/,""));break;case"percent":_t.style="percent";break;case"permille":Mt("permille")}switch(Ot){case"unit-width-full-name":_t.currencyDisplay="name",_t.unitDisplay="long";break;case"unit-width-hidden":Mt(Ot);break;case"unit-width-iso-code":_t.currencyDisplay="code";break;case"unit-width-narrow":_t.currencyDisplay="narrowSymbol",_t.unitDisplay="narrow";break;case"unit-width-short":_t.currencyDisplay="symbol",_t.unitDisplay="short"}switch(I){case"group-off":_t.useGrouping=!1;break;case"group-auto":_t.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":Mt(I),_t.useGrouping=!0}if(te)switch(te.style){case"precision-fraction":var Ht=te.minFraction,Jt=te.maxFraction,Vt=te.minSignificant,yn=te.maxSignificant,ai=te.source;typeof Ht=="number"&&(_t.minimumFractionDigits=Ht,typeof Vt=="number"&&Mt("precision-fraction",ai)),typeof Jt=="number"&&(_t.maximumFractionDigits=Jt),typeof Vt=="number"&&(_t.minimumSignificantDigits=Vt),typeof yn=="number"&&(_t.maximumSignificantDigits=yn);break;case"precision-integer":_t.maximumFractionDigits=0;break;case"precision-unlimited":_t.maximumFractionDigits=20;break;case"precision-increment":case"precision-currency-standard":break;case"precision-currency-cash":Mt(te.style)}if(Y)switch(Y.style){case"compact-short":_t.notation="compact",_t.compactDisplay="short";break;case"compact-long":_t.notation="compact",_t.compactDisplay="long";break;case"notation-simple":_t.notation="standard";break;case"scientific":case"engineering":var Gn=Y.expDigits,Ue=Y.expSign,gt=Y.source,Nt=Y.style;_t.notation=Nt,(Gn&&Gn>1||Ue&&Ue!=="sign-auto")&&Mt(Nt,gt)}if(A){var Ut=A.min,zt=A.max,Gt=A.source;if(Ut>0&&(_t.minimumIntegerDigits=Ut),Number(zt)>0){var tn=_t.notation==="engineering"||_t.notation==="scientific";zt===3&&tn?_t.notation="engineering":Mt("integer-width",Gt)}}switch(ge){case"sign-auto":_t.signDisplay="auto";break;case"sign-always":_t.signDisplay="always";break;case"sign-except-zero":_t.signDisplay="exceptZero";break;case"sign-never":_t.signDisplay="never";break;case"sign-accounting":_t.currencySign="accounting";break;case"sign-accounting-always":_t.currencySign="accounting",_t.signDisplay="always";break;case"sign-accounting-except-zero":_t.currencySign="accounting",_t.signDisplay="exceptZero"}return S==="decimal-always"&&Mt(S),de&&Mt(de),_t}function xe(v,E,S){var I=v[E];switch(I){case"%":return{char:"%",style:"percent",width:1};case"‰":return{char:"%",style:"permille",width:1};case"¤":for(var A=1;v[++E]==="¤";)++A;switch(A){case 1:return{char:I,currency:"default",width:A};case 2:return{char:I,currency:"iso-code",width:A};case 3:return{char:I,currency:"full-name",width:A};case 5:return{char:I,currency:"narrow",width:A};default:var Y="Invalid number (".concat(A,") of ¤ chars in pattern");return S(new He("¤",Y)),null}case"*":var te=v[E+1];if(te)return{char:I,pad:te,width:2};break;case"+":case"-":return{char:I,width:1};case"'":var de=v[++E],ge=2;if(de==="'")return{char:I,str:de,width:ge};for(;;){var Pe=v[++E];if(++ge,Pe===void 0){var yt="Unterminated quoted literal in pattern: ".concat(de);return S(new He("'",yt)),{char:I,str:de,width:ge}}if(Pe==="'"){if(v[++E]!=="'")return{char:I,str:de,width:ge};++ge}de+=Pe}}return null}var mt=function(v){return v>="0"&&v<="9"};function ye(v,E){var S=v[E];if(mt(S))for(var I=S;;){var A=v[++E];if(!mt(A))return{char:"0",digits:I,width:I.length};I+=A}switch(S){case"#":for(var Y=1;v[++E]==="#";)++Y;return{char:S,width:Y};case"@":for(var te=1;v[++E]==="@";)++te;var de=te;for(E-=1;v[++E]==="#";)++de;return{char:S,min:te,width:de};case"E":var ge=v[E+1]==="+";ge&&++E;for(var Pe=0;v[++E]==="0";)++Pe;if(Pe)return{char:S,expDigits:Pe,plus:ge,width:(ge?2:1)+Pe};break;case".":case",":return{char:S,width:1}}return null}function et(v,E,S){var I;(function(Ht){Ht[Ht.Prefix=0]="Prefix",Ht[Ht.Number=1]="Number",Ht[Ht.Suffix=2]="Suffix"})(I||(I={}));for(var A=[],Y=[],te=[],de=I.Prefix,ge="";E<v.length;){var Pe=v[E];if(Pe===";"){E+=1;break}switch(de){case I.Prefix:var yt=xe(v,E,S);if(yt)ge&&(A.push({char:"'",str:ge,width:ge.length}),ge=""),A.push(yt),E+=yt.width;else{var Ot=ye(v,E);Ot?(ge&&(A.push({char:"'",str:ge,width:ge.length}),ge=""),de=I.Number,Y.push(Ot),E+=Ot.width):(ge+=Pe,E+=1)}break;case I.Number:var Mt=ye(v,E);Mt?(Y.push(Mt),E+=Mt.width):de=I.Suffix;break;case I.Suffix:var _t=xe(v,E,S);_t?(ge&&(te.push({char:"'",str:ge,width:ge.length}),ge=""),te.push(_t),E+=_t.width):(ge+=Pe,E+=1)}}return ge&&te.push({char:"'",str:ge,width:ge.length}),{pattern:{prefix:A,number:Y,suffix:te},pos:E}}function je(v,E){var S=et(v,0,E),I=S.pattern,A=S.pos;return A<v.length?{tokens:I,negative:et(v,A,E).pattern}:{tokens:I}}function ct(v,E){for(var S={},I=!1,A=!1,Y=0,te="",de=-1,ge="",Pe=0,yt=0;yt<v.length;++yt){var Ot=v[yt];switch(Ot.char){case"#":de===-1?(te&&E(new He("#","Pattern has # after integer digits")),Y+=Ot.width):Pe+=Ot.width;break;case"0":de===-1?te+=Ot.digits:(Pe&&E(new He("0","Pattern has digits after # in fraction")),ge+=Ot.digits);break;case"@":S.precision&&E(new Te("precision",S.precision)),S.precision={style:"precision-fraction",minSignificant:Ot.min,maxSignificant:Ot.width};break;case",":I=!0;break;case".":de===1&&E(new He(".","Pattern has more than one decimal separator")),de=yt;break;case"E":A&&E(new Te("exponent",S.notation)),I&&E(new He("E","Exponential patterns may not contain grouping separators")),S.notation={style:"scientific"},Ot.expDigits>1&&(S.notation.expDigits=Ot.expDigits),Ot.plus&&(S.notation.expSign="sign-always"),A=!0}}I?S.group="group-auto":Y+te.length>3&&(S.group="group-off");var Mt=Number("".concat(te||"0",".").concat(ge));if(Mt&&(S.precision={style:"precision-increment",increment:Mt}),A)if(S.precision&&!Mt||(S.integerWidth=Y?{min:1,max:Y+te.length}:{min:Math.max(1,te.length)}),S.precision)Mt||(S.integerWidth={min:1,max:1});else{var _t=te.length+ge.length;de===-1?_t>0&&(S.precision={style:"precision-fraction",maxSignificant:_t}):(S.precision={style:"precision-fraction",maxSignificant:Math.max(1,_t)+Pe},_t>1&&(S.precision.minSignificant=_t))}else te.length>1&&(S.integerWidth={min:te.length}),S.precision||!ge.length&&!Pe||(S.precision={style:"precision-fraction",minFraction:ge.length,maxFraction:ge.length+Pe});return S}function We(v,E,S,I,A){var Y,te=!1,de="",ge=U(v);try{for(ge.s();!(Y=ge.n()).done;){var Pe=Y.value;switch(Pe.char){case"%":E.unit={style:Pe.style},A?te=!0:de="";break;case"¤":if(!S){I(new He("¤","The ¤ pattern requires a currency"));break}switch(E.unit={style:"currency",currency:S},Pe.currency){case"iso-code":E.unitWidth="unit-width-iso-code";break;case"full-name":E.unitWidth="unit-width-full-name";break;case"narrow":E.unitWidth="unit-width-narrow"}A?te=!0:de="";break;case"*":break;case"+":te||(de+="+");break;case"'":te||(de+=Pe.str)}}}catch(yt){ge.e(yt)}finally{ge.f()}return de}function qe(v,E){var S,I=!1,A="",Y=U(v);try{for(Y.s();!(S=Y.n()).done;){var te=S.value;switch(te.char){case"%":case"¤":E?I=!0:A="";break;case"-":I||(A+="-");break;case"'":I||(A+=te.str)}}}catch(de){Y.e(de)}finally{Y.f()}return A}function Ve(v,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(Ot){throw Ot},I=je(v,S),A=I.tokens,Y=I.negative,te=ct(A.number,S),de=We(A.prefix,te,E,S,!0),ge=We(A.suffix,te,E,S,!1);if(Y){var Pe=qe(Y.prefix,!0),yt=qe(Y.suffix,!1);te.affix={pos:[de,ge],neg:[Pe,yt]},te.sign="sign-never"}else(de||ge)&&(te.affix={pos:[de,ge]});return te}function kt(v){var E=j(v.split("-",1),1)[0];return["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"].indexOf(E)!==-1}var ht={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":0,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},Rt={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function Ge(v,E,S){if(function(de){return de in ht}(v)){var I=ht[v];if(E.length>I){if(I===0){var A,Y=U(E);try{for(Y.s();!(A=Y.n()).done;){var te=A.value;S(new ke(v,te))}}catch(de){Y.e(de)}finally{Y.f()}}else S(new he(v,E,I));return!1}if(function(de){return de in Rt}(v)&&E.length<Rt[v])return S(new Re(v)),!1}return!0}function pe(v,E){var S=E==="fraction"?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/,I=v&&v.match(S);if(I){var A=I[1].length;switch(I[2].charAt(0)){case"":return{min:A,max:A};case"+":return{min:A,max:null};case"#":return{min:A,max:A+I[2].length}}}return null}var $e=function(){function v(E){u(this,v),this.skeleton={},this.onError=E}return _(v,[{key:"badOption",value:function(E,S){this.onError(new ke(E,S))}},{key:"assertEmpty",value:function(E){var S=this.skeleton[E];S&&this.onError(new Te(E,S))}},{key:"parseToken",value:function(E,S){if(Ge(E,S,this.onError)){var I=S[0],A=this.skeleton;switch(E){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),A.notation={style:E};break;case"scientific":case"engineering":var Y,te=null,de=void 0,ge=U(S);try{for(ge.s();!(Y=ge.n()).done;){var Pe=Y.value;switch(Pe){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":de=Pe;break;default:/^\+e+$/.test(Pe)?te=Pe.length-1:this.badOption(E,Pe)}}}catch(Jt){ge.e(Jt)}finally{ge.f()}this.assertEmpty("notation");var yt=S.join("/");A.notation=te&&de?{style:E,source:yt,expDigits:te,expSign:de}:te?{style:E,source:yt,expDigits:te}:de?{style:E,source:yt,expSign:de}:{style:E,source:yt};break;case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),A.unit={style:E};break;case"currency":/^[A-Z]{3}$/.test(I)?(this.assertEmpty("unit"),A.unit={style:E,currency:I}):this.badOption(E,I);break;case"measure-unit":kt(I)?(this.assertEmpty("unit"),A.unit={style:E,unit:I}):this.badOption(E,I);break;case"per-measure-unit":kt(I)?(this.assertEmpty("unitPer"),A.unitPer=I):this.badOption(E,I);break;case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),A.unitWidth=E;break;case"precision-integer":case"precision-unlimited":case"precision-currency-standard":case"precision-currency-cash":this.assertEmpty("precision"),A.precision={style:E};break;case"precision-increment":var Ot=Number(I);Ot>0?(this.assertEmpty("precision"),A.precision={style:E,increment:Ot}):this.badOption(E,I);break;case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),A.roundingMode=E;break;case"integer-width":if(/^\+0*$/.test(I))this.assertEmpty("integerWidth"),A.integerWidth={source:I,min:I.length-1};else{var Mt=I.match(/^#*(0*)$/);Mt?(this.assertEmpty("integerWidth"),A.integerWidth={source:I,min:Mt[1].length,max:Mt[0].length}):this.badOption(E,I)}break;case"scale":var _t=Number(I);_t>0?(this.assertEmpty("scale"),A.scale=_t):this.badOption(E,I);break;case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),A.group=E;break;case"latin":this.assertEmpty("numberingSystem"),A.numberingSystem="latn";break;case"numbering-system":["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(I)!==-1?(this.assertEmpty("numberingSystem"),A.numberingSystem=I):this.badOption(E,I);break;case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),A.sign=E;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),A.decimal=E;break;default:var Ht=function(Jt,Vt,yn){var ai=pe(Jt,"fraction");if(ai){Vt.length>1&&yn(new he(Jt,Vt,1));var Gn={style:"precision-fraction",source:Jt,minFraction:ai.min};ai.max!=null&&(Gn.maxFraction=ai.max);var Ue=Vt[0],gt=pe(Ue,"significant");return gt?(Gn.source="".concat(Jt,"/").concat(Ue),Gn.minSignificant=gt.min,gt.max!=null&&(Gn.maxSignificant=gt.max)):Ue&&yn(new ke(Jt,Ue)),Gn}var Nt=pe(Jt,"significant");if(Nt){var Ut,zt=U(Vt);try{for(zt.s();!(Ut=zt.n()).done;){var Gt=Ut.value;yn(new ke(Jt,Gt))}}catch(Wn){zt.e(Wn)}finally{zt.f()}var tn={style:"precision-fraction",source:Jt,minSignificant:Nt.min};return Nt.max!=null&&(tn.maxSignificant=Nt.max),tn}return null}(E,S,this.onError);Ht?(this.assertEmpty("precision"),A.precision=Ht):this.onError(new Ee(E))}}}}]),v}();function ae(v){var E,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(Ht){throw Ht},I=[],A=U(v.split(" "));try{for(A.s();!(E=A.n()).done;){var Y=E.value;if(Y){var te=Y.split("/"),de=te.shift()||"";I.push({stem:de,options:te})}}}catch(Ht){A.e(Ht)}finally{A.f()}for(var ge=new $e(S),Pe=0,yt=I;Pe<yt.length;Pe++){var Ot=yt[Pe],Mt=Ot.stem,_t=Ot.options;ge.parseToken(Mt,_t)}return ge.skeleton}function Ye(v,E,S,I){typeof E=="string"&&(E=E.indexOf("::")===0?ae(E.slice(2),I):Ve(E,S,I));var A=De(v,E),Y=Ke(E,I),te=function(Ht){var Jt=Oe(Ht),Vt=Ht.precision;return Vt&&Vt.style==="precision-increment"?function(yn){return function(ai,Gn){var Ue=+ai+Gn/2;return Ue-Ue%+Gn}(yn,Vt.increment)*Jt}:function(yn){return yn*Jt}}(E),de=new Intl.NumberFormat(A,Y);if(E.affix){var ge=j(E.affix.pos,2),Pe=ge[0],yt=ge[1],Ot=j(E.affix.neg||["",""],2),Mt=Ot[0],_t=Ot[1];return function(Ht){var Jt=de.format(te(Ht));return Ht<0?"".concat(Mt).concat(Jt).concat(_t):"".concat(Pe).concat(Jt).concat(yt)}}return function(Ht){return de.format(te(Ht))}}function pt(v,E,S,I){typeof E=="string"&&(E=E.indexOf("::")===0?ae(E.slice(2),I):Ve(E,S,I));var A=De(v,E),Y=Ke(E,I),te=function(Jt){var Vt=Oe(Jt),yn=Jt.precision;if(yn&&yn.style==="precision-increment"){var ai="+n + ".concat(yn.increment/2),Gn="x - (x % +".concat(yn.increment,")");return Vt!==1&&(Gn="(".concat(Gn,") * ").concat(Vt)),"function(n) { var x = ".concat(ai,"; return ").concat(Gn,"; }")}return Vt!==1?"function(n) { return n * ".concat(Vt,"; }"):null}(E),de=["(function() {","var opt = ".concat(JSON.stringify(Y),";"),"var nf = new Intl.NumberFormat(".concat(JSON.stringify(A),", opt);")],ge="nf.format(value)";if(te&&(de.push("var mod = ".concat(te,";")),ge="nf.format(mod(value))"),E.affix){var Pe=j(E.affix.pos.map(function(Jt){return JSON.stringify(Jt)}),2),yt=Pe[0],Ot=Pe[1];if(E.affix.neg){var Mt=j(E.affix.neg.map(function(Jt){return JSON.stringify(Jt)}),2),_t=Mt[0],Ht=Mt[1];ge="value < 0 ? ".concat(_t," + ").concat(ge," + ").concat(Ht," : ").concat(yt," + ").concat(ge," + ").concat(Ot)}else ge="".concat(yt," + ").concat(ge," + ").concat(Ot)}return de.push("return function(value) { return ".concat(ge,"; }")),de.join(`
  `)+`
})()`}var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:a.g!==void 0?a.g:typeof self<"u"?self:{},at={},lt={},ot={exports:{}};(function(v){var E,S;E=ut,S=function(){var I=Object.prototype.hasOwnProperty,A=Object.prototype.toString,Y=typeof new RegExp().sticky=="boolean";function te(Ue){return Ue&&A.call(Ue)==="[object RegExp]"}function de(Ue){return Ue&&f(Ue)==="object"&&!te(Ue)&&!Array.isArray(Ue)}function ge(Ue){return"("+Ue+")"}function Pe(Ue){return Ue.length?"(?:"+Ue.map(function(gt){return"(?:"+gt+")"}).join("|")+")":"(?!)"}function yt(Ue){if(typeof Ue=="string")return"(?:"+Ue.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(te(Ue)){if(Ue.ignoreCase)throw new Error("RegExp /i flag not allowed");if(Ue.global)throw new Error("RegExp /g flag is implied");if(Ue.sticky)throw new Error("RegExp /y flag is implied");if(Ue.multiline)throw new Error("RegExp /m flag is implied");return Ue.source}throw new Error("Not a pattern: "+Ue)}function Ot(Ue,gt){if(de(gt)||(gt={match:gt}),gt.include)throw new Error("Matching rules cannot also include states");var Nt={defaultType:Ue,lineBreaks:!!gt.error||!!gt.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Ut in gt)I.call(gt,Ut)&&(Nt[Ut]=gt[Ut]);if(typeof Nt.type=="string"&&Ue!==Nt.type)throw new Error("Type transform cannot be a string (type '"+Nt.type+"' for token '"+Ue+"')");var zt=Nt.match;return Nt.match=Array.isArray(zt)?zt:zt?[zt]:[],Nt.match.sort(function(Gt,tn){return te(Gt)&&te(tn)?0:te(tn)?-1:te(Gt)?1:tn.length-Gt.length}),Nt}function Mt(Ue){return Array.isArray(Ue)?function(gt){for(var Nt=[],Ut=0;Ut<gt.length;Ut++){var zt=gt[Ut];if(zt.include)for(var Gt=[].concat(zt.include),tn=0;tn<Gt.length;tn++)Nt.push({include:Gt[tn]});else{if(!zt.type)throw new Error("Rule has no type: "+JSON.stringify(zt));Nt.push(Ot(zt.type,zt))}}return Nt}(Ue):function(gt){for(var Nt=Object.getOwnPropertyNames(gt),Ut=[],zt=0;zt<Nt.length;zt++){var Gt=Nt[zt],tn=gt[Gt],Wn=[].concat(tn);if(Gt!=="include"){var sn=[];Wn.forEach(function(gi){de(gi)?(sn.length&&Ut.push(Ot(Gt,sn)),Ut.push(Ot(Gt,gi)),sn=[]):sn.push(gi)}),sn.length&&Ut.push(Ot(Gt,sn))}else for(var pn=0;pn<Wn.length;pn++)Ut.push({include:Wn[pn]})}return Ut}(Ue)}var _t=Ot("error",{lineBreaks:!0,shouldThrow:!0});function Ht(Ue,gt){for(var Nt=null,Ut=Object.create(null),zt=!0,Gt=null,tn=[],Wn=[],sn=0;sn<Ue.length;sn++)Ue[sn].fallback&&(zt=!1);for(sn=0;sn<Ue.length;sn++){var pn=Ue[sn];if(pn.include)throw new Error("Inheritance is not allowed in stateless lexers");if(pn.error||pn.fallback){if(Nt)throw!pn.fallback==!Nt.fallback?new Error("Multiple "+(pn.fallback?"fallback":"error")+" rules not allowed (for token '"+pn.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+pn.defaultType+"')");Nt=pn}var gi=pn.match.slice();if(zt)for(;gi.length&&typeof gi[0]=="string"&&gi[0].length===1;)Ut[gi.shift().charCodeAt(0)]=pn;if(pn.pop||pn.push||pn.next){if(!gt)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+pn.defaultType+"')");if(pn.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+pn.defaultType+"')")}if(gi.length!==0){zt=!1,tn.push(pn);for(var ui=0;ui<gi.length;ui++){var al=gi[ui];if(te(al)){if(Gt===null)Gt=al.unicode;else if(Gt!==al.unicode&&pn.fallback===!1)throw new Error("If one rule is /u then all must be")}}var Xl=Pe(gi.map(yt)),qi=new RegExp(Xl);if(qi.test(""))throw new Error("RegExp matches empty string: "+qi);if(new RegExp("|"+Xl).exec("").length-1>0)throw new Error("RegExp has capture groups: "+qi+`
Use (?: … ) instead`);if(!pn.lineBreaks&&qi.test(`
`))throw new Error("Rule should declare lineBreaks: "+qi);Wn.push(ge(Xl))}}var el=Nt&&Nt.fallback,Jl=Y&&!el?"ym":"gm",yr=Y||el?"":"|";return Gt===!0&&(Jl+="u"),{regexp:new RegExp(Pe(Wn)+yr,Jl),groups:tn,fast:Ut,error:Nt||_t}}function Jt(Ue,gt,Nt){var Ut=Ue&&(Ue.push||Ue.next);if(Ut&&!Nt[Ut])throw new Error("Missing state '"+Ut+"' (in token '"+Ue.defaultType+"' of state '"+gt+"')");if(Ue&&Ue.pop&&+Ue.pop!=1)throw new Error("pop must be 1 (in token '"+Ue.defaultType+"' of state '"+gt+"')")}var Vt=function(Ue,gt){this.startState=gt,this.states=Ue,this.buffer="",this.stack=[],this.reset()};Vt.prototype.reset=function(Ue,gt){return this.buffer=Ue||"",this.index=0,this.line=gt?gt.line:1,this.col=gt?gt.col:1,this.queuedToken=gt?gt.queuedToken:null,this.queuedThrow=gt?gt.queuedThrow:null,this.setState(gt?gt.state:this.startState),this.stack=gt&&gt.stack?gt.stack.slice():[],this},Vt.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},Vt.prototype.setState=function(Ue){if(Ue&&this.state!==Ue){this.state=Ue;var gt=this.states[Ue];this.groups=gt.groups,this.error=gt.error,this.re=gt.regexp,this.fast=gt.fast}},Vt.prototype.popState=function(){this.setState(this.stack.pop())},Vt.prototype.pushState=function(Ue){this.stack.push(this.state),this.setState(Ue)};var yn=Y?function(Ue,gt){return Ue.exec(gt)}:function(Ue,gt){var Nt=Ue.exec(gt);return Nt[0].length===0?null:Nt};function ai(){return this.value}if(Vt.prototype._getGroup=function(Ue){for(var gt=this.groups.length,Nt=0;Nt<gt;Nt++)if(Ue[Nt+1]!==void 0)return this.groups[Nt];throw new Error("Cannot find token type for matched text")},Vt.prototype.next=function(){var Ue=this.index;if(this.queuedGroup){var gt=this._token(this.queuedGroup,this.queuedText,Ue);return this.queuedGroup=null,this.queuedText="",gt}var Nt=this.buffer;if(Ue!==Nt.length){if(tn=this.fast[Nt.charCodeAt(Ue)])return this._token(tn,Nt.charAt(Ue),Ue);var Ut=this.re;Ut.lastIndex=Ue;var zt=yn(Ut,Nt),Gt=this.error;if(zt==null)return this._token(Gt,Nt.slice(Ue,Nt.length),Ue);var tn=this._getGroup(zt),Wn=zt[0];return Gt.fallback&&zt.index!==Ue?(this.queuedGroup=tn,this.queuedText=Wn,this._token(Gt,Nt.slice(Ue,zt.index),Ue)):this._token(tn,Wn,Ue)}},Vt.prototype._token=function(Ue,gt,Nt){var Ut=0;if(Ue.lineBreaks){var zt=/\n/g,Gt=1;if(gt===`
`)Ut=1;else for(;zt.exec(gt);)Ut++,Gt=zt.lastIndex}var tn={type:typeof Ue.type=="function"&&Ue.type(gt)||Ue.defaultType,value:typeof Ue.value=="function"?Ue.value(gt):gt,text:gt,toString:ai,offset:Nt,lineBreaks:Ut,line:this.line,col:this.col},Wn=gt.length;if(this.index+=Wn,this.line+=Ut,Ut!==0?this.col=Wn-Gt+1:this.col+=Wn,Ue.shouldThrow)throw new Error(this.formatError(tn,"invalid syntax"));return Ue.pop?this.popState():Ue.push?this.pushState(Ue.push):Ue.next&&this.setState(Ue.next),tn},typeof Symbol<"u"&&Symbol.iterator){var Gn=function(Ue){this.lexer=Ue};Gn.prototype.next=function(){var Ue=this.lexer.next();return{value:Ue,done:!Ue}},Gn.prototype[Symbol.iterator]=function(){return this},Vt.prototype[Symbol.iterator]=function(){return new Gn(this)}}return Vt.prototype.formatError=function(Ue,gt){if(Ue==null){var Nt=this.buffer.slice(this.index);Ue={text:Nt,offset:this.index,lineBreaks:Nt.indexOf(`
`)===-1?0:1,line:this.line,col:this.col}}var Ut=Math.max(0,Ue.offset-Ue.col+1),zt=Ue.lineBreaks?Ue.text.indexOf(`
`):Ue.text.length,Gt=this.buffer.substring(Ut,Ue.offset+zt);return gt+=" at line "+Ue.line+" col "+Ue.col+`:

`,(gt+="  "+Gt+`
`)+"  "+Array(Ue.col).join(" ")+"^"},Vt.prototype.clone=function(){return new Vt(this.states,this.state)},Vt.prototype.has=function(Ue){return!0},{compile:function(Ue){var gt=Ht(Mt(Ue));return new Vt({start:gt},"start")},states:function(Ue,gt){var Nt=Ue.$all?Mt(Ue.$all):[];delete Ue.$all;var Ut=Object.getOwnPropertyNames(Ue);gt||(gt=Ut[0]);for(var zt=Object.create(null),Gt=0;Gt<Ut.length;Gt++)zt[el=Ut[Gt]]=Mt(Ue[el]).concat(Nt);for(Gt=0;Gt<Ut.length;Gt++)for(var tn=zt[el=Ut[Gt]],Wn=Object.create(null),sn=0;sn<tn.length;sn++){var pn=tn[sn];if(pn.include){var gi=[sn,1];if(pn.include!==el&&!Wn[pn.include]){Wn[pn.include]=!0;var ui=zt[pn.include];if(!ui)throw new Error("Cannot include nonexistent state '"+pn.include+"' (in state '"+el+"')");for(var al=0;al<ui.length;al++){var Xl=ui[al];tn.indexOf(Xl)===-1&&gi.push(Xl)}}tn.splice.apply(tn,gi),sn--}}var qi=Object.create(null);for(Gt=0;Gt<Ut.length;Gt++){var el;qi[el=Ut[Gt]]=Ht(zt[el],!0)}for(Gt=0;Gt<Ut.length;Gt++){var Jl=Ut[Gt],yr=qi[Jl],mf=yr.groups;for(sn=0;sn<mf.length;sn++)Jt(mf[sn],Jl,qi);var pf=Object.getOwnPropertyNames(yr.fast);for(sn=0;sn<pf.length;sn++)Jt(yr.fast[pf[sn]],Jl,qi)}return new Vt(qi,gt)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(Ue){for(var gt=Object.create(null),Nt=Object.create(null),Ut=Object.getOwnPropertyNames(Ue),zt=0;zt<Ut.length;zt++){var Gt=Ut[zt],tn=Ue[Gt];(Array.isArray(tn)?tn:[tn]).forEach(function(ui){if((Nt[ui.length]=Nt[ui.length]||[]).push(ui),typeof ui!="string")throw new Error("keyword must be string (in keyword '"+Gt+"')");gt[ui]=Gt})}function Wn(ui){return JSON.stringify(ui)}var sn="";for(var pn in sn+=`switch (value.length) {
`,Nt){var gi=Nt[pn];sn+="case "+pn+`:
`,sn+=`switch (value) {
`,gi.forEach(function(ui){var al=gt[ui];sn+="case "+Wn(ui)+": return "+Wn(al)+`
`}),sn+=`}
`}return sn+=`}
`,Function("value",sn)}}},v.exports?v.exports=S():E.moo=S()})(ot),function(v){var E=ut&&ut.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(v,"__esModule",{value:!0}),v.lexer=v.states=void 0;var S=E(ot.exports);v.states={body:{doubleapos:{match:"''",value:function(){return"'"}},quoted:{lineBreaks:!0,match:/'[#\{\}](?:(?:(?![])[\s\S])*?(?:(?!')[\s\S]))?'(?!')/,value:function(I){return I.slice(1,-1).replace(/''/g,"'")}},argument:{lineBreaks:!0,match:/\{[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,push:"arg",value:function(I){return I.substring(1).trim()}},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/(?:(?![])[\s\S])(?:(?![#'\{\}])[\s\S])*/}},arg:{select:{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:plural|select|selectordinal)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,next:"select",value:function(I){return I.split(",")[1].trim()}},"func-args":{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,/,next:"body",value:function(I){return I.split(",")[1].trim()}},"func-simple":{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,value:function(I){return I.substring(1).trim()}},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*offset[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*[0-9]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,value:function(I){return I.split(":")[1].trim()}},case:{lineBreaks:!0,match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:=[0-9]+|(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{/,push:"body",value:function(I){return I.substring(0,I.indexOf("{")).trim()}},end:{match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\}/,pop:1}}},v.lexer=S.default.states(v.states)}(lt),Object.defineProperty(at,"__esModule",{value:!0});var rt=at.parse=at.ParseError=void 0,tt=lt,Ne=function(v){return{offset:v.offset,line:v.line,col:v.col,text:v.text,lineBreaks:v.lineBreaks}},Ie=function(v){return v==="plural"||v==="select"||v==="selectordinal"},dt=["number","date","time","spellout","ordinal","duration"],It=["zero","one","two","few","many","other"],Ft=function(v){g(S,v);var E=D(S);function S(I,A){return u(this,S),E.call(this,tt.lexer.formatError(I,A))}return _(S)}(C(Error));at.ParseError=Ft;var jt=function(){function v(E,S){u(this,v),this.lexer=tt.lexer.reset(E),this.cardinalKeys=S&&S.cardinal||It,this.ordinalKeys=S&&S.ordinal||It,this.strict=S&&S.strict||!1}return _(v,[{key:"parse",value:function(){return this.parseBody(!1,!0)}},{key:"checkSelectKey",value:function(E,S,I){if(I[0]==="="){if(S==="select")throw new Ft(E,"The case ".concat(I," is not valid with select"))}else if(S!=="select"){var A=S==="plural"?this.cardinalKeys:this.ordinalKeys;if(A.length>0&&!A.includes(I)){var Y="The ".concat(S," case ").concat(I," is not valid in this locale");throw new Ft(E,Y)}}}},{key:"parseSelect",value:function(E,S,I,A){var Y={type:A,arg:E.value,cases:[],ctx:I};A==="plural"||A==="selectordinal"?S=!0:this.strict&&(S=!1);var te,de=U(this.lexer);try{for(de.s();!(te=de.n()).done;){var ge=te.value;switch(ge.type){case"offset":if(A==="select")throw new Ft(ge,"Unexpected plural offset for select");if(Y.cases.length>0)throw new Ft(ge,"Plural offset must be set before cases");Y.pluralOffset=Number(ge.value),I.text+=ge.text,I.lineBreaks+=ge.lineBreaks;break;case"case":this.checkSelectKey(ge,A,ge.value),Y.cases.push({key:ge.value,tokens:this.parseBody(S),ctx:Ne(ge)});break;case"end":return Y;default:throw new Ft(ge,"Unexpected lexer token: ".concat(ge.type))}}}catch(Pe){de.e(Pe)}finally{de.f()}throw new Ft(null,"Unexpected message end")}},{key:"parseArgToken",value:function(E,S){var I=Ne(E),A=this.lexer.next();if(!A)throw new Ft(null,"Unexpected message end");if(I.text+=A.text,I.lineBreaks+=A.lineBreaks,this.strict&&(A.type==="func-simple"||A.type==="func-args")&&!dt.includes(A.value)){var Y="Invalid strict mode function arg type: ".concat(A.value);throw new Ft(E,Y)}switch(A.type){case"end":return{type:"argument",arg:E.value,ctx:I};case"func-simple":var te=this.lexer.next();if(!te)throw new Ft(null,"Unexpected message end");if(te.type!=="end")throw new Ft(te,"Unexpected lexer token: ".concat(te.type));if(I.text+=te.text,Ie(A.value.toLowerCase()))throw new Ft(A,"Invalid type identifier: ".concat(A.value));return{type:"function",arg:E.value,key:A.value,ctx:I};case"func-args":if(Ie(A.value.toLowerCase())){var de="Invalid type identifier: ".concat(A.value);throw new Ft(A,de)}var ge=this.parseBody(!this.strict&&S);return this.strict&&ge.length>0&&(ge=function(Pe,yt){var Ot,Mt="",_t="",Ht=U(yt);try{for(Ht.s();!(Ot=Ht.n()).done;){var Jt=Ot.value,Vt=Jt.ctx.text;switch(_t+=Vt,Jt.type){case"content":Mt+=Jt.value;break;case"argument":case"function":case"octothorpe":Mt+=Vt;break;default:throw new Ft(Pe,"Unsupported part in strict mode function arg style: ".concat(Vt))}}}catch(yn){Ht.e(yn)}finally{Ht.f()}return[{type:"content",value:Mt.trim(),ctx:Object.assign({},yt[0].ctx,{text:_t})}]}(E,ge)),{type:"function",arg:E.value,key:A.value,param:ge,ctx:I};case"select":if(Ie(A.value))return this.parseSelect(E,S,I,A.value);throw new Ft(A,"Unexpected select type ".concat(A.value));default:throw new Ft(A,"Unexpected lexer token: ".concat(A.type))}}},{key:"parseBody",value:function(E,S){var I,A=[],Y=null,te=U(this.lexer);try{for(te.s();!(I=te.n()).done;){var de=I.value;if(de.type==="argument")Y&&(Y=null),A.push(this.parseArgToken(de,E));else if(de.type==="octothorpe"&&E)Y&&(Y=null),A.push({type:"octothorpe",ctx:Ne(de)});else{if(de.type==="end"&&!S)return A;var ge=de.value;if(!E&&de.type==="quoted"&&ge[0]==="#"){if(ge.includes("{")){var Pe="Unsupported escape pattern: ".concat(ge);throw new Ft(de,Pe)}ge=de.text}Y?(Y.value+=ge,Y.ctx.text+=de.text,Y.ctx.lineBreaks+=de.lineBreaks):(Y={type:"content",value:ge,ctx:Ne(de)},A.push(Y))}}}catch(yt){te.e(yt)}finally{te.f()}if(S)return A;throw new Ft(null,"Unexpected message end")}}]),v}();function Tt(v){return Tt[v]||(Tt[v]=new Intl.NumberFormat(v))}rt=at.parse=function(v){return new jt(v,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).parse()};var Fe=Object.freeze({__proto__:null,_nf:Tt,number:function(v,E,S){return Tt(v).format(E-S)},strictNumber:function(v,E,S,I){var A=E-S;if(isNaN(A))throw new Error("`"+I+"` or its offset is not a number");return Tt(v).format(A)},plural:function(v,E,S,I,A){if({}.hasOwnProperty.call(I,v))return I[v];E&&(v-=E);var Y=S(v,A);return Y in I?I[Y]:I.other},select:function(v,E){return{}.hasOwnProperty.call(E,v)?E[v]:E.other},reqArgs:function(v,E){for(var S=0;S<v.length;++S)if(!E||E[v[S]]===void 0)throw new Error("Message requires argument '".concat(v[S],"'"))}}),ft={};function Xt(v,E){var S=String(v)+JSON.stringify(E);return ft[S]||(ft[S]=new Intl.NumberFormat(v,E)),ft[S]}var an=Object.freeze({__proto__:null,date:function(v,E,S){var I={day:"numeric",month:"short",year:"numeric"};switch(S){case"full":I.weekday="long";case"long":I.month="long";break;case"short":I.month="numeric"}return new Date(v).toLocaleDateString(E,I)},duration:function(v){if(typeof v!="number"&&(v=Number(v)),!isFinite(v))return String(v);var E="";v<0?(E="-",v=Math.abs(v)):v=Number(v);var S=v%60,I=[Math.round(S)===S?S:S.toFixed(3)];return v<60?I.unshift(0):(v=Math.round((v-Number(I[0]))/60),I.unshift(v%60),v>=60&&(v=Math.round((v-Number(I[0]))/60),I.unshift(v))),E+I.shift()+":"+I.map(function(A){return A<10?"0"+String(A):String(A)}).join(":")},numberCurrency:function(v,E,S){return Xt(E,{style:"currency",currency:S,minimumFractionDigits:2,maximumFractionDigits:2}).format(v)},numberFmt:function(v,E,S,I){var A=S&&S.split(":")||[],Y=A[0],te=A[1];return Xt(E,{integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:te&&te.trim()||I,minimumFractionDigits:2,maximumFractionDigits:2}}[Y]||{}).format(v)},numberInteger:function(v,E){return Xt(E,{maximumFractionDigits:0}).format(v)},numberPercent:function(v,E){return Xt(E,{style:"percent"}).format(v)},time:function(v,E,S){var I={second:"numeric",minute:"numeric",hour:"numeric"};switch(S){case"full":case"long":I.timeZoneName="short";break;case"short":delete I.second}return new Date(v).toLocaleTimeString(E,I)}}),Me={break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},Xe={await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0};function Wt(v,E){E&&(v+=" "+function(I){for(var A=0,Y=0;Y<I.length;++Y)A=(A<<5)-A+I.charCodeAt(Y),A|=0;return A}(v).toString(36));var S=v.trim().replace(/\W+/g,"_");return Me[S]||Xe[S]||/^\d/.test(S)?"_"+S:S}function fn(v,E){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(E)&&!Me[E])return v?v+"."+E:E;var S=JSON.stringify(E);return v?v+"["+S+"]":S}var ln=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^")),vn="@messageformat/runtime/lib/plurals",rn=function(){function v(E){this.arguments=[],this.runtime={},this.options=E}return v.prototype.compile=function(E,S,I){var A,Y,te=this;if(typeof E=="object"){var de={};try{for(var ge=G(Object.keys(E)),Pe=ge.next();!Pe.done;Pe=ge.next()){var yt=Pe.value,Ot=I&&I[yt]||S;de[yt]=this.compile(E[yt],Ot,I)}}catch(yn){A={error:yn}}finally{try{Pe&&!Pe.done&&(Y=ge.return)&&Y.call(ge)}finally{if(A)throw A.error}}return de}this.plural=S;var Mt={cardinal:S.cardinals,ordinal:S.ordinals,strict:this.options.strict};this.arguments=[];var _t=rt(E,Mt).map(function(yn){return te.token(yn,null)}),Ht=this.arguments.length>0,Jt=this.concatenate(_t,!0);if(this.options.requireAllArguments&&Ht){this.setRuntimeFn("reqArgs");var Vt=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(Vt,", d); return ").concat(Jt,"; }")}return"(".concat(Ht?"d":"",") => ").concat(Jt)},v.prototype.cases=function(E,S){var I=this,A=!0,Y=E.cases.map(function(yt){var Ot=yt.key,Mt=yt.tokens;Ot==="other"&&(A=!1);var _t=Mt.map(function(Ht){return I.token(Ht,S)});return"".concat(fn(null,Ot.replace(/^=/,"")),": ").concat(I.concatenate(_t,!1))});if(A){var te=E.type,de=this.plural,ge=de.cardinals,Pe=de.ordinals;if(te==="select"||te==="plural"&&ge.includes("other")||te==="selectordinal"&&Pe.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(E)))}return"{ ".concat(Y.join(", ")," }")},v.prototype.concatenate=function(E,S){return this.options.returnType==="values"&&(S||E.length>1)?"["+E.join(", ")+"]":E.join(" + ")||'""'},v.prototype.token=function(E,S){if(E.type==="content")return JSON.stringify(E.value);var I,A,Y,te,de,ge,Pe=this.plural,yt=Pe.id,Ot=Pe.lc;switch("arg"in E?(this.arguments.push(E.arg),I=[fn("d",E.arg)]):I=[],E.type){case"argument":return this.options.biDiSupport?(Y=String(I[0]),te=Ot,de=ln.test(te),ge=JSON.stringify(de?"‏":"‎"),"".concat(ge," + ").concat(Y," + ").concat(ge)):String(I[0]);case"select":A="select",S&&this.options.strict&&(S=null),I.push(this.cases(E,S)),this.setRuntimeFn("select");break;case"selectordinal":A="plural",I.push(E.pluralOffset||0,yt,this.cases(E,E),1),this.setLocale(yt,!0),this.setRuntimeFn("plural");break;case"plural":A="plural",I.push(E.pluralOffset||0,yt,this.cases(E,E)),this.setLocale(yt,!1),this.setRuntimeFn("plural");break;case"function":if(!this.options.customFormatters[E.key]){if(E.key==="date"){A=this.setDateFormatter(E,I,S);break}if(E.key==="number"){A=this.setNumberFormatter(E,I,S);break}}if(I.push(JSON.stringify(this.plural.locale)),E.param){S&&this.options.strict&&(S=null);var Mt=this.getFormatterArg(E,S);Mt&&I.push(Mt)}A=E.key,this.setFormatter(A);break;case"octothorpe":if(!S)return'"#"';I=[JSON.stringify(this.plural.locale),fn("d",S.arg),S.pluralOffset||0],this.options.strict?(A="strictNumber",I.push(JSON.stringify(S.arg)),this.setRuntimeFn("strictNumber")):(A="number",this.setRuntimeFn("number"))}if(!A)throw new Error("Parser error for token "+JSON.stringify(E));return"".concat(A,"(").concat(I.join(", "),")")},v.prototype.runtimeIncludes=function(E,S){if(Wt(E)!==E)throw new SyntaxError("Reserved word used as ".concat(S," identifier: ").concat(E));var I=this.runtime[E];if(!I||I.type===S)return I;throw new TypeError("Cannot override ".concat(I.type," runtime function as ").concat(S,": ").concat(E))},v.prototype.setLocale=function(E,S){var I,A,Y,te=this.runtimeIncludes(E,"locale"),de=this.plural,ge=de.getCardinal,Pe=de.getPlural,yt=de.isDefault;if(!S&&yt&&ge){if(te)return;I=function(Ot){return ge(Ot)},A="@messageformat/runtime/lib/cardinals",Y=function(){return String(ge)}}else{if(te&&(!yt||te.module===vn))return;I=function(Ot,Mt){return Pe(Ot,Mt)},A=yt?vn:Pe.module||null,Y=function(){return String(Pe)}}this.runtime[E]=Object.assign(I,{id:E,module:A,toString:Y,type:"locale"})},v.prototype.setRuntimeFn=function(E){this.runtimeIncludes(E,"runtime")||(this.runtime[E]=Object.assign(Fe[E],{id:E,module:"@messageformat/runtime",type:"runtime"}))},v.prototype.getFormatterArg=function(E,S){var I,A,Y,te,de=this,ge=E.key,Pe=E.param,yt=this.options.customFormatters[ge]||xt(ge)&&an[ge];if(!yt||!Pe)return null;var Ot="arg"in yt&&yt.arg||"string";if(Ot==="options"){var Mt="";try{for(var _t=G(Pe),Ht=_t.next();!Ht.done;Ht=_t.next()){var Jt=Ht.value;if(Jt.type!=="content")throw new SyntaxError("Expected literal options for ".concat(ge," formatter"));Mt+=Jt.value}}catch(tn){I={error:tn}}finally{try{Ht&&!Ht.done&&(A=_t.return)&&A.call(_t)}finally{if(I)throw I.error}}var Vt={};try{for(var yn=G(Mt.split(",")),ai=yn.next();!ai.done;ai=yn.next()){var Gn=ai.value,Ue=Gn.indexOf(":");if(Ue===-1)Vt[Gn.trim()]=null;else{var gt=Gn.substring(0,Ue).trim(),Nt=Gn.substring(Ue+1).trim();if(Nt==="true")Vt[gt]=!0;else if(Nt==="false")Vt[gt]=!1;else if(Nt==="null")Vt[gt]=null;else{var Ut=Number(Nt);Vt[gt]=Number.isFinite(Ut)?Ut:Nt}}}}catch(tn){Y={error:tn}}finally{try{ai&&!ai.done&&(te=yn.return)&&te.call(yn)}finally{if(Y)throw Y.error}}return JSON.stringify(Vt)}var zt=Pe.map(function(tn){return de.token(tn,S)});if(Ot==="raw")return"[".concat(zt.join(", "),"]");var Gt=zt.join(" + ");return Gt?"(".concat(Gt,").trim()"):'""'},v.prototype.setFormatter=function(E){if(!this.runtimeIncludes(E,"formatter")){var S=this.options.customFormatters[E];if(S)typeof S=="function"&&(S={formatter:S}),this.runtime[E]=Object.assign(S.formatter,{type:"formatter"},"module"in S&&S.module&&S.id?{id:Wt(S.id),module:S.module}:{id:null,module:null});else{if(!xt(E))throw new Error("Formatting function not found: ".concat(E));this.runtime[E]=Object.assign(an[E],{type:"formatter"},{id:E,module:"@messageformat/runtime/lib/formatters"})}}},v.prototype.setDateFormatter=function(E,S,I){var A=this,Y=E.param,te=this.plural.locale,de=Y&&Y.length===1&&Y[0];if(de&&de.type==="content"&&/^\s*::/.test(de.value)){var ge=de.value.trim().substr(2),Pe=Wt("date_".concat(te,"_").concat(ge),!0);if(!this.runtimeIncludes(Pe,"formatter")){var yt=function(Mt,_t,Ht){typeof _t=="string"&&(_t=be(_t));var Jt=Q(_t,Ht),Vt=new Intl.DateTimeFormat(Mt,Jt);return function(yn){return Vt.format(yn)}}(te,ge);this.runtime[Pe]=Object.assign(yt,{id:Pe,module:null,toString:function(){return function(Mt,_t,Ht){typeof _t=="string"&&(_t=be(_t));var Jt=Q(_t,Ht);return["(function() {","var opt = ".concat(JSON.stringify(Jt),";"),"var dtf = new Intl.DateTimeFormat(".concat(JSON.stringify(Mt),", opt);"),"return function(value) { return dtf.format(value); }"].join(`
  `)+`
})()`}(te,ge)},type:"formatter"})}return Pe}if(S.push(JSON.stringify(te)),Y&&Y.length>0){I&&this.options.strict&&(I=null);var Ot=Y.map(function(Mt){return A.token(Mt,I)});S.push("("+(Ot.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},v.prototype.setNumberFormatter=function(E,S,I){var A=this,Y=E.param,te=this.plural.locale;if(!Y||Y.length===0)return S.unshift(JSON.stringify(te)),S.push("0"),this.setRuntimeFn("number"),"number";if(S.push(JSON.stringify(te)),Y.length===1&&Y[0].type==="content"){var de=Y[0].value.trim();switch(de){case"currency":return S.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var ge=de.match(/^currency:([A-Z]+)$/);if(ge)return S.push(JSON.stringify(ge[1])),this.setFormatter("numberCurrency"),"numberCurrency";var Pe=Wt("number_".concat(te,"_").concat(de),!0);if(!this.runtimeIncludes(Pe,"formatter")){var yt=this.options.currency,Ot=Ye(te,de,yt);this.runtime[Pe]=Object.assign(Ot,{id:null,module:null,toString:function(){return pt(te,de,yt)},type:"formatter"})}return Pe}I&&this.options.strict&&(I=null);var Mt=Y.map(function(_t){return A.token(_t,I)});return S.push("("+(Mt.join(" + ")||'""')+").trim()"),S.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},v}();function xt(v){return v in an}var ze=function(v){return v==1?"one":"other"},_n=function(v){return v==0||v==1?"one":"other"},Kt=function(v){return v>=0&&v<=1?"one":"other"},At=function(v){var E=!String(v).split(".")[1];return v==1&&E?"one":"other"},Pt=function(v){return"other"},on=function(v){return v==1?"one":v==2?"two":"other"},jn=ze,un=_n,Fn=Kt,wn=ze,nn=Kt,dn=ze,mn=At,Pn=ze,Mn=ze,Dn=ze,Yn=ze,In=ze,Tn=_n,On=Pt,Rn=Kt,oi=Pt,si=ze,fi=At,Ui=ze,Gi=ze,ce=ze,Qe=ze,Ri=At,hn=Kt,Jn=ze,Kn=Pt,Se=ze,st=ze,en=At,Zn=ze,Hn=At,Qn=ze,xn=Kt,ei=At,ti=ze,ni=ze,di=At,mi=At,pi=ze,hi=Kt,Qi=_n,zn=ze,xi=ze,Tl=Kt,Cl=Pt,Je=ze,Dt=At,Il=Pt,Ol=Pt,Rl=Pt,Nl=At,Yt=on,Mi=Pt,Kr=Pt,qb=ze,Yb=ze,Hb=Pt,zb=Pt,Wb=ze,Vb=ze,Xb=ze,Jb=Pt,Kb=Pt,Zb=ze,Qb=ze,xb=ze,e$=Pt,t$=Kt,n$=Pt,i$=ze,l$=ze,r$=ze,o$=ze,s$=ze,f$=ze,a$=At,u$=Pt,c$=_n,_$=Pt,d$=ze,m$=_n,p$=ze,h$=ze,g$=ze,b$=ze,$$=Pt,v$=Pt,y$=ze,k$=on,w$=ze,E$=ze,S$=ze,T$=At,C$=ze,I$=ze,O$=ze,R$=Pt,N$=ze,A$=_n,B$=ze,M$=ze,D$=ze,L$=ze,F$=ze,P$=Pt,j$=_n,U$=ze,G$=Kt,q$=ze,Y$=ze,H$=ze,z$=ze,W$=Pt,V$=ze,X$=on,J$=At,K$=At,Z$=ze,Q$=ze,x$=on,ev=ze,tv=Pt,nv=Pt,iv=on,lv=on,rv=on,ov=on,sv=on,fv=ze,av=ze,uv=ze,cv=ze,_v=ze,dv=ze,mv=Pt,pv=At,hv=At,gv=ze,bv=ze,$v=ze,vv=ze,yv=Pt,kv=_n,wv=ze,Ev=ze,Sv=ze,Tv=Pt,Cv=Pt,Iv=ze,Ov=ze,Rv=ze,Nv=Pt,Av=At,Bv=ze,Mv=ze,Dv=Pt,Lv=ze,Fv=ze,Pv=_n,jv=ze,Uv=Pt,Gv=ze,qv=ze,Yv=At,Hv=Pt,zv=Pt,Wv=Pt,Vv=Kt,Xv=Object.freeze({__proto__:null,af:jn,ak:un,am:Fn,an:wn,ar:function(v){var E=String(v).split("."),S=Number(E[0])==v&&E[0].slice(-2);return v==0?"zero":v==1?"one":v==2?"two":S>=3&&S<=10?"few":S>=11&&S<=99?"many":"other"},ars:function(v){var E=String(v).split("."),S=Number(E[0])==v&&E[0].slice(-2);return v==0?"zero":v==1?"one":v==2?"two":S>=3&&S<=10?"few":S>=11&&S<=99?"many":"other"},as:nn,asa:dn,ast:mn,az:Pn,bal:Mn,be:function(v){var E=String(v).split("."),S=Number(E[0])==v,I=S&&E[0].slice(-1),A=S&&E[0].slice(-2);return I==1&&A!=11?"one":I>=2&&I<=4&&(A<12||A>14)?"few":S&&I==0||I>=5&&I<=9||A>=11&&A<=14?"many":"other"},bem:Dn,bez:Yn,bg:In,bho:Tn,bm:On,bn:Rn,bo:oi,br:function(v){var E=String(v).split("."),S=Number(E[0])==v,I=S&&E[0].slice(-1),A=S&&E[0].slice(-2),Y=S&&E[0].slice(-6);return I==1&&A!=11&&A!=71&&A!=91?"one":I==2&&A!=12&&A!=72&&A!=92?"two":(I==3||I==4||I==9)&&(A<10||A>19)&&(A<70||A>79)&&(A<90||A>99)?"few":v!=0&&S&&Y==0?"many":"other"},brx:si,bs:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-1),te=S.slice(-2),de=I.slice(-1),ge=I.slice(-2);return A&&Y==1&&te!=11||de==1&&ge!=11?"one":A&&Y>=2&&Y<=4&&(te<12||te>14)||de>=2&&de<=4&&(ge<12||ge>14)?"few":"other"},ca:fi,ce:Ui,ceb:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-1),te=I.slice(-1);return A&&(S==1||S==2||S==3)||A&&Y!=4&&Y!=6&&Y!=9||!A&&te!=4&&te!=6&&te!=9?"one":"other"},cgg:Gi,chr:ce,ckb:Qe,cs:function(v){var E=String(v).split("."),S=E[0],I=!E[1];return v==1&&I?"one":S>=2&&S<=4&&I?"few":I?"other":"many"},cy:function(v){return v==0?"zero":v==1?"one":v==2?"two":v==3?"few":v==6?"many":"other"},da:function(v){var E=String(v).split("."),S=E[0],I=Number(E[0])==v;return v!=1&&(I||S!=0&&S!=1)?"other":"one"},de:Ri,doi:hn,dsb:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-2),te=I.slice(-2);return A&&Y==1||te==1?"one":A&&Y==2||te==2?"two":A&&(Y==3||Y==4)||te==3||te==4?"few":"other"},dv:Jn,dz:Kn,ee:Se,el:st,en,eo:Zn,es:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-6);return v==1?"one":S!=0&&A==0&&I?"many":"other"},et:Hn,eu:Qn,fa:xn,ff:function(v){return v>=0&&v<2?"one":"other"},fi:ei,fil:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-1),te=I.slice(-1);return A&&(S==1||S==2||S==3)||A&&Y!=4&&Y!=6&&Y!=9||!A&&te!=4&&te!=6&&te!=9?"one":"other"},fo:ti,fr:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-6);return v>=0&&v<2?"one":S!=0&&A==0&&I?"many":"other"},fur:ni,fy:di,ga:function(v){var E=String(v).split("."),S=Number(E[0])==v;return v==1?"one":v==2?"two":S&&v>=3&&v<=6?"few":S&&v>=7&&v<=10?"many":"other"},gd:function(v){var E=String(v).split("."),S=Number(E[0])==v;return v==1||v==11?"one":v==2||v==12?"two":S&&v>=3&&v<=10||S&&v>=13&&v<=19?"few":"other"},gl:mi,gsw:pi,gu:hi,guw:Qi,gv:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-1),Y=S.slice(-2);return I&&A==1?"one":I&&A==2?"two":!I||Y!=0&&Y!=20&&Y!=40&&Y!=60&&Y!=80?I?"other":"many":"few"},ha:zn,haw:xi,he:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=Number(E[0])==v,Y=A&&E[0].slice(-1);return v==1&&I?"one":S==2&&I?"two":I&&(v<0||v>10)&&A&&Y==0?"many":"other"},hi:Tl,hnj:Cl,hr:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-1),te=S.slice(-2),de=I.slice(-1),ge=I.slice(-2);return A&&Y==1&&te!=11||de==1&&ge!=11?"one":A&&Y>=2&&Y<=4&&(te<12||te>14)||de>=2&&de<=4&&(ge<12||ge>14)?"few":"other"},hsb:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-2),te=I.slice(-2);return A&&Y==1||te==1?"one":A&&Y==2||te==2?"two":A&&(Y==3||Y==4)||te==3||te==4?"few":"other"},hu:Je,hy:function(v){return v>=0&&v<2?"one":"other"},ia:Dt,id:Il,ig:Ol,ii:Rl,io:Nl,is:function(v){var E=String(v).split("."),S=E[0],I=Number(E[0])==v,A=S.slice(-1),Y=S.slice(-2);return I&&A==1&&Y!=11||!I?"one":"other"},it:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-6);return v==1&&I?"one":S!=0&&A==0&&I?"many":"other"},iu:Yt,ja:Mi,jbo:Kr,jgo:qb,jmc:Yb,jv:Hb,jw:zb,ka:Wb,kab:function(v){return v>=0&&v<2?"one":"other"},kaj:Vb,kcg:Xb,kde:Jb,kea:Kb,kk:Zb,kkj:Qb,kl:xb,km:e$,kn:t$,ko:n$,ks:i$,ksb:l$,ksh:function(v){return v==0?"zero":v==1?"one":"other"},ku:r$,kw:function(v){var E=String(v).split("."),S=Number(E[0])==v,I=S&&E[0].slice(-2),A=S&&E[0].slice(-3),Y=S&&E[0].slice(-5),te=S&&E[0].slice(-6);return v==0?"zero":v==1?"one":I==2||I==22||I==42||I==62||I==82||S&&A==0&&(Y>=1e3&&Y<=2e4||Y==4e4||Y==6e4||Y==8e4)||v!=0&&te==1e5?"two":I==3||I==23||I==43||I==63||I==83?"few":v==1||I!=1&&I!=21&&I!=41&&I!=61&&I!=81?"other":"many"},ky:o$,lag:function(v){var E=String(v).split(".")[0];return v==0?"zero":E!=0&&E!=1||v==0?"other":"one"},lb:s$,lg:f$,lij:a$,lkt:u$,ln:c$,lo:_$,lt:function(v){var E=String(v).split("."),S=E[1]||"",I=Number(E[0])==v,A=I&&E[0].slice(-1),Y=I&&E[0].slice(-2);return A==1&&(Y<11||Y>19)?"one":A>=2&&A<=9&&(Y<11||Y>19)?"few":S!=0?"many":"other"},lv:function(v){var E=String(v).split("."),S=E[1]||"",I=S.length,A=Number(E[0])==v,Y=A&&E[0].slice(-1),te=A&&E[0].slice(-2),de=S.slice(-2),ge=S.slice(-1);return A&&Y==0||te>=11&&te<=19||I==2&&de>=11&&de<=19?"zero":Y==1&&te!=11||I==2&&ge==1&&de!=11||I!=2&&ge==1?"one":"other"},mas:d$,mg:m$,mgo:p$,mk:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-1),te=S.slice(-2),de=I.slice(-1),ge=I.slice(-2);return A&&Y==1&&te!=11||de==1&&ge!=11?"one":"other"},ml:h$,mn:g$,mo:function(v){var E=String(v).split("."),S=!E[1],I=Number(E[0])==v&&E[0].slice(-2);return v==1&&S?"one":!S||v==0||I>=2&&I<=19?"few":"other"},mr:b$,ms:$$,mt:function(v){var E=String(v).split("."),S=Number(E[0])==v&&E[0].slice(-2);return v==1?"one":v==0||S>=2&&S<=10?"few":S>=11&&S<=19?"many":"other"},my:v$,nah:y$,naq:k$,nb:w$,nd:E$,ne:S$,nl:T$,nn:C$,nnh:I$,no:O$,nqo:R$,nr:N$,nso:A$,ny:B$,nyn:M$,om:D$,or:L$,os:F$,osa:P$,pa:j$,pap:U$,pcm:G$,pl:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-1),Y=S.slice(-2);return v==1&&I?"one":I&&A>=2&&A<=4&&(Y<12||Y>14)?"few":I&&S!=1&&(A==0||A==1)||I&&A>=5&&A<=9||I&&Y>=12&&Y<=14?"many":"other"},prg:function(v){var E=String(v).split("."),S=E[1]||"",I=S.length,A=Number(E[0])==v,Y=A&&E[0].slice(-1),te=A&&E[0].slice(-2),de=S.slice(-2),ge=S.slice(-1);return A&&Y==0||te>=11&&te<=19||I==2&&de>=11&&de<=19?"zero":Y==1&&te!=11||I==2&&ge==1&&de!=11||I!=2&&ge==1?"one":"other"},ps:q$,pt:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-6);return S==0||S==1?"one":S!=0&&A==0&&I?"many":"other"},pt_PT:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-6);return v==1&&I?"one":S!=0&&A==0&&I?"many":"other"},rm:Y$,ro:function(v){var E=String(v).split("."),S=!E[1],I=Number(E[0])==v&&E[0].slice(-2);return v==1&&S?"one":!S||v==0||I>=2&&I<=19?"few":"other"},rof:H$,ru:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-1),Y=S.slice(-2);return I&&A==1&&Y!=11?"one":I&&A>=2&&A<=4&&(Y<12||Y>14)?"few":I&&A==0||I&&A>=5&&A<=9||I&&Y>=11&&Y<=14?"many":"other"},rwk:z$,sah:W$,saq:V$,sat:X$,sc:J$,scn:K$,sd:Z$,sdh:Q$,se:x$,seh:ev,ses:tv,sg:nv,sh:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-1),te=S.slice(-2),de=I.slice(-1),ge=I.slice(-2);return A&&Y==1&&te!=11||de==1&&ge!=11?"one":A&&Y>=2&&Y<=4&&(te<12||te>14)||de>=2&&de<=4&&(ge<12||ge>14)?"few":"other"},shi:function(v){var E=String(v).split("."),S=Number(E[0])==v;return v>=0&&v<=1?"one":S&&v>=2&&v<=10?"few":"other"},si:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"";return v==0||v==1||S==0&&I==1?"one":"other"},sk:function(v){var E=String(v).split("."),S=E[0],I=!E[1];return v==1&&I?"one":S>=2&&S<=4&&I?"few":I?"other":"many"},sl:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-2);return I&&A==1?"one":I&&A==2?"two":I&&(A==3||A==4)||!I?"few":"other"},sma:iv,smi:lv,smj:rv,smn:ov,sms:sv,sn:fv,so:av,sq:uv,sr:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-1),te=S.slice(-2),de=I.slice(-1),ge=I.slice(-2);return A&&Y==1&&te!=11||de==1&&ge!=11?"one":A&&Y>=2&&Y<=4&&(te<12||te>14)||de>=2&&de<=4&&(ge<12||ge>14)?"few":"other"},ss:cv,ssy:_v,st:dv,su:mv,sv:pv,sw:hv,syr:gv,ta:bv,te:$v,teo:vv,th:yv,ti:kv,tig:wv,tk:Ev,tl:function(v){var E=String(v).split("."),S=E[0],I=E[1]||"",A=!E[1],Y=S.slice(-1),te=I.slice(-1);return A&&(S==1||S==2||S==3)||A&&Y!=4&&Y!=6&&Y!=9||!A&&te!=4&&te!=6&&te!=9?"one":"other"},tn:Sv,to:Tv,tpi:Cv,tr:Iv,ts:Ov,tzm:function(v){var E=String(v).split("."),S=Number(E[0])==v;return v==0||v==1||S&&v>=11&&v<=99?"one":"other"},ug:Rv,uk:function(v){var E=String(v).split("."),S=E[0],I=!E[1],A=S.slice(-1),Y=S.slice(-2);return I&&A==1&&Y!=11?"one":I&&A>=2&&A<=4&&(Y<12||Y>14)?"few":I&&A==0||I&&A>=5&&A<=9||I&&Y>=11&&Y<=14?"many":"other"},und:Nv,ur:Av,uz:Bv,ve:Mv,vi:Dv,vo:Lv,vun:Fv,wa:Pv,wae:jv,wo:Uv,xh:Gv,xog:qv,yi:Yv,yo:Hv,yue:zv,zh:Wv,zu:Vv}),rl="zero",St="one",Un="two",cn="few",gn="many",nt="other",Ze={cardinal:[St,nt],ordinal:[nt]},Al={cardinal:[St,nt],ordinal:[St,nt]},bn={cardinal:[nt],ordinal:[nt]},Wl={cardinal:[St,cn,gn,nt],ordinal:[nt]},ol={cardinal:[St,Un,nt],ordinal:[nt]},Jv=Ze,Kv=Ze,Zv=Ze,Qv=Ze,xv={cardinal:[rl,St,Un,cn,gn,nt],ordinal:[nt]},ey={cardinal:[rl,St,Un,cn,gn,nt],ordinal:[nt]},ty={cardinal:[St,nt],ordinal:[St,Un,cn,gn,nt]},ny=Ze,iy=Ze,ly={cardinal:[St,nt],ordinal:[St,cn,gn,nt]},ry=Al,oy={cardinal:[St,cn,gn,nt],ordinal:[cn,nt]},sy=Ze,fy=Ze,ay=Ze,uy=Ze,cy=bn,_y={cardinal:[St,nt],ordinal:[St,Un,cn,gn,nt]},dy=bn,my={cardinal:[St,Un,cn,gn,nt],ordinal:[nt]},py=Ze,hy={cardinal:[St,cn,nt],ordinal:[nt]},gy={cardinal:[St,nt],ordinal:[St,Un,cn,nt]},by=Ze,$y=Ze,vy=Ze,yy=Ze,ky=Ze,wy=Wl,Ey={cardinal:[rl,St,Un,cn,gn,nt],ordinal:[rl,St,Un,cn,gn,nt]},Sy=Ze,Ty=Ze,Cy=Ze,Iy={cardinal:[St,Un,cn,nt],ordinal:[nt]},Oy=Ze,Ry=bn,Ny=Ze,Ay=Ze,By={cardinal:[St,nt],ordinal:[St,Un,cn,nt]},My=Ze,Dy={cardinal:[St,gn,nt],ordinal:[nt]},Ly=Ze,Fy=Ze,Py=Ze,jy=Ze,Uy=Ze,Gy=Al,qy=Ze,Yy={cardinal:[St,gn,nt],ordinal:[St,nt]},Hy=Ze,zy=Ze,Wy={cardinal:[St,Un,cn,gn,nt],ordinal:[St,nt]},Vy={cardinal:[St,Un,cn,nt],ordinal:[St,Un,cn,nt]},Xy=Ze,Jy=Ze,Ky={cardinal:[St,nt],ordinal:[St,Un,cn,gn,nt]},Zy=Ze,Qy={cardinal:[St,Un,cn,gn,nt],ordinal:[nt]},xy=Ze,ek=Ze,tk={cardinal:[St,Un,gn,nt],ordinal:[nt]},nk={cardinal:[St,nt],ordinal:[St,Un,cn,gn,nt]},ik=bn,lk={cardinal:[St,cn,nt],ordinal:[nt]},rk={cardinal:[St,Un,cn,nt],ordinal:[nt]},ok=Al,sk=Al,fk=Ze,ak=bn,uk=bn,ck=bn,_k=Ze,dk=Ze,mk={cardinal:[St,gn,nt],ordinal:[gn,nt]},pk=ol,hk=bn,gk=bn,bk=Ze,$k=Ze,vk=bn,yk=bn,kk={cardinal:[St,nt],ordinal:[St,gn,nt]},wk=Ze,Ek=Ze,Sk=Ze,Tk=bn,Ck=bn,Ik={cardinal:[St,nt],ordinal:[gn,nt]},Ok=Ze,Rk=Ze,Nk=bn,Ak=Ze,Bk=bn,Mk=Ze,Dk=Ze,Lk={cardinal:[rl,St,nt],ordinal:[nt]},Fk=Ze,Pk={cardinal:[rl,St,Un,cn,gn,nt],ordinal:[St,gn,nt]},jk=Ze,Uk={cardinal:[rl,St,nt],ordinal:[nt]},Gk=Ze,qk=Ze,Yk={cardinal:[St,nt],ordinal:[gn,nt]},Hk=bn,zk=Ze,Wk={cardinal:[nt],ordinal:[St,nt]},Vk=Wl,Xk={cardinal:[rl,St,nt],ordinal:[nt]},Jk=Ze,Kk=Ze,Zk=Ze,Qk={cardinal:[St,nt],ordinal:[St,Un,gn,nt]},xk=Ze,ew=Ze,tw={cardinal:[St,cn,nt],ordinal:[St,nt]},nw={cardinal:[St,nt],ordinal:[St,Un,cn,nt]},iw={cardinal:[nt],ordinal:[St,nt]},lw=Wl,rw=bn,ow=Ze,sw=ol,fw=Ze,aw=Ze,uw=Al,cw=Ze,_w=Ze,dw=Ze,mw=Ze,pw=bn,hw=Ze,gw=Ze,bw=Ze,$w=Ze,vw=Ze,yw={cardinal:[St,nt],ordinal:[St,Un,cn,gn,nt]},kw=Ze,ww=bn,Ew=Ze,Sw=Ze,Tw=Ze,Cw=Wl,Iw={cardinal:[rl,St,nt],ordinal:[nt]},Ow=Ze,Rw={cardinal:[St,gn,nt],ordinal:[nt]},Nw={cardinal:[St,gn,nt],ordinal:[nt]},Aw=Ze,Bw={cardinal:[St,cn,nt],ordinal:[St,nt]},Mw=Ze,Dw=Wl,Lw=Ze,Fw=bn,Pw=Ze,jw=ol,Uw={cardinal:[St,nt],ordinal:[gn,nt]},Gw={cardinal:[St,nt],ordinal:[gn,nt]},qw=Ze,Yw=Ze,Hw=ol,zw=Ze,Ww=bn,Vw=bn,Xw={cardinal:[St,cn,nt],ordinal:[nt]},Jw={cardinal:[St,cn,nt],ordinal:[nt]},Kw=Ze,Zw=Wl,Qw={cardinal:[St,Un,cn,nt],ordinal:[nt]},xw=ol,e2=ol,t2=ol,n2=ol,i2=ol,l2=Ze,r2=Ze,o2={cardinal:[St,nt],ordinal:[St,gn,nt]},s2={cardinal:[St,cn,nt],ordinal:[nt]},f2=Ze,a2=Ze,u2=Ze,c2=bn,_2=Al,d2=Ze,m2=Ze,p2=Ze,h2=Ze,g2=Ze,b2=bn,$2=Ze,v2=Ze,y2={cardinal:[St,nt],ordinal:[cn,nt]},k2=Al,w2=Ze,E2=bn,S2=bn,T2=Ze,C2=Ze,I2=Ze,O2=Ze,R2={cardinal:[St,cn,gn,nt],ordinal:[cn,nt]},N2=bn,A2=Ze,B2=Ze,M2=Ze,D2={cardinal:[nt],ordinal:[St,nt]},L2=Ze,F2=Ze,P2=Ze,j2=Ze,U2=bn,G2=Ze,q2=Ze,Y2=Ze,H2=bn,z2=bn,W2=bn,V2=Ze,df=Object.freeze({__proto__:null,af:Jv,ak:Kv,am:Zv,an:Qv,ar:xv,ars:ey,as:ty,asa:ny,ast:iy,az:ly,bal:ry,be:oy,bem:sy,bez:fy,bg:ay,bho:uy,bm:cy,bn:_y,bo:dy,br:my,brx:py,bs:hy,ca:gy,ce:by,ceb:$y,cgg:vy,chr:yy,ckb:ky,cs:wy,cy:Ey,da:Sy,de:Ty,doi:Cy,dsb:Iy,dv:Oy,dz:Ry,ee:Ny,el:Ay,en:By,eo:My,es:Dy,et:Ly,eu:Fy,fa:Py,ff:jy,fi:Uy,fil:Gy,fo:qy,fr:Yy,fur:Hy,fy:zy,ga:Wy,gd:Vy,gl:Xy,gsw:Jy,gu:Ky,guw:Zy,gv:Qy,ha:xy,haw:ek,he:tk,hi:nk,hnj:ik,hr:lk,hsb:rk,hu:ok,hy:sk,ia:fk,id:ak,ig:uk,ii:ck,io:_k,is:dk,it:mk,iu:pk,ja:hk,jbo:gk,jgo:bk,jmc:$k,jv:vk,jw:yk,ka:kk,kab:wk,kaj:Ek,kcg:Sk,kde:Tk,kea:Ck,kk:Ik,kkj:Ok,kl:Rk,km:Nk,kn:Ak,ko:Bk,ks:Mk,ksb:Dk,ksh:Lk,ku:Fk,kw:Pk,ky:jk,lag:Uk,lb:Gk,lg:qk,lij:Yk,lkt:Hk,ln:zk,lo:Wk,lt:Vk,lv:Xk,mas:Jk,mg:Kk,mgo:Zk,mk:Qk,ml:xk,mn:ew,mo:tw,mr:nw,ms:iw,mt:lw,my:rw,nah:ow,naq:sw,nb:fw,nd:aw,ne:uw,nl:cw,nn:_w,nnh:dw,no:mw,nqo:pw,nr:hw,nso:gw,ny:bw,nyn:$w,om:vw,or:yw,os:kw,osa:ww,pa:Ew,pap:Sw,pcm:Tw,pl:Cw,prg:Iw,ps:Ow,pt:Rw,pt_PT:Nw,rm:Aw,ro:Bw,rof:Mw,ru:Dw,rwk:Lw,sah:Fw,saq:Pw,sat:jw,sc:Uw,scn:Gw,sd:qw,sdh:Yw,se:Hw,seh:zw,ses:Ww,sg:Vw,sh:Xw,shi:Jw,si:Kw,sk:Zw,sl:Qw,sma:xw,smi:e2,smj:t2,smn:n2,sms:i2,sn:l2,so:r2,sq:o2,sr:s2,ss:f2,ssy:a2,st:u2,su:c2,sv:_2,sw:d2,syr:m2,ta:p2,te:h2,teo:g2,th:b2,ti:$2,tig:v2,tk:y2,tl:k2,tn:w2,to:E2,tpi:S2,tr:T2,ts:C2,tzm:I2,ug:O2,uk:R2,und:N2,ur:A2,uz:B2,ve:M2,vi:D2,vo:L2,vun:F2,wa:P2,wae:j2,wo:U2,xh:G2,xog:q2,yi:Y2,yo:H2,yue:z2,zh:W2,zu:V2}),vt=function(v,E){return E?"other":v==1?"one":"other"},sl=function(v,E){return E?"other":v==0||v==1?"one":"other"},Vl=function(v,E){return E?"other":v>=0&&v<=1?"one":"other"},Pi=function(v,E){var S=!String(v).split(".")[1];return E?"other":v==1&&S?"one":"other"},$n=function(v,E){return"other"},fl=function(v,E){return E?"other":v==1?"one":v==2?"two":"other"},X2=vt,J2=sl,K2=Vl,Z2=vt,Q2=vt,x2=Pi,eE=vt,tE=vt,nE=vt,iE=sl,lE=$n,rE=$n,oE=vt,sE=vt,fE=vt,aE=vt,uE=vt,cE=Pi,_E=Vl,dE=vt,mE=$n,pE=vt,hE=vt,gE=vt,bE=Pi,$E=vt,vE=Vl,yE=Pi,kE=vt,wE=vt,EE=Pi,SE=Pi,TE=vt,CE=sl,IE=vt,OE=vt,RE=$n,NE=Pi,AE=$n,BE=$n,ME=$n,DE=Pi,LE=fl,FE=$n,PE=$n,jE=vt,UE=vt,GE=$n,qE=$n,YE=vt,HE=vt,zE=$n,WE=$n,VE=vt,XE=vt,JE=$n,KE=Vl,ZE=$n,QE=vt,xE=vt,eS=vt,tS=vt,nS=vt,iS=vt,lS=$n,rS=sl,oS=vt,sS=sl,fS=vt,aS=vt,uS=vt,cS=$n,_S=vt,dS=fl,mS=vt,pS=vt,hS=Pi,gS=vt,bS=vt,$S=vt,vS=$n,yS=vt,kS=sl,wS=vt,ES=vt,SS=vt,TS=vt,CS=$n,IS=sl,OS=vt,RS=Vl,NS=vt,AS=vt,BS=vt,MS=vt,DS=$n,LS=vt,FS=fl,PS=vt,jS=vt,US=fl,GS=vt,qS=$n,YS=$n,HS=fl,zS=fl,WS=fl,VS=fl,XS=fl,JS=vt,KS=vt,ZS=vt,QS=vt,xS=vt,e3=$n,t3=Pi,n3=vt,i3=vt,l3=vt,r3=vt,o3=$n,s3=sl,f3=vt,a3=vt,u3=$n,c3=$n,_3=vt,d3=vt,m3=vt,p3=$n,h3=Pi,g3=vt,b3=vt,$3=vt,v3=vt,y3=sl,k3=vt,w3=$n,E3=vt,S3=vt,T3=Pi,C3=$n,I3=$n,O3=$n,R3=Vl,Zr=Object.freeze({__proto__:null,af:X2,ak:J2,am:K2,an:Z2,ar:function(v,E){var S=String(v).split("."),I=Number(S[0])==v&&S[0].slice(-2);return E?"other":v==0?"zero":v==1?"one":v==2?"two":I>=3&&I<=10?"few":I>=11&&I<=99?"many":"other"},ars:function(v,E){var S=String(v).split("."),I=Number(S[0])==v&&S[0].slice(-2);return E?"other":v==0?"zero":v==1?"one":v==2?"two":I>=3&&I<=10?"few":I>=11&&I<=99?"many":"other"},as:function(v,E){return E?v==1||v==5||v==7||v==8||v==9||v==10?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v>=0&&v<=1?"one":"other"},asa:Q2,ast:x2,az:function(v,E){var S=String(v).split(".")[0],I=S.slice(-1),A=S.slice(-2),Y=S.slice(-3);return E?I==1||I==2||I==5||I==7||I==8||A==20||A==50||A==70||A==80?"one":I==3||I==4||Y==100||Y==200||Y==300||Y==400||Y==500||Y==600||Y==700||Y==800||Y==900?"few":S==0||I==6||A==40||A==60||A==90?"many":"other":v==1?"one":"other"},bal:function(v,E){return v==1?"one":"other"},be:function(v,E){var S=String(v).split("."),I=Number(S[0])==v,A=I&&S[0].slice(-1),Y=I&&S[0].slice(-2);return E?A!=2&&A!=3||Y==12||Y==13?"other":"few":A==1&&Y!=11?"one":A>=2&&A<=4&&(Y<12||Y>14)?"few":I&&A==0||A>=5&&A<=9||Y>=11&&Y<=14?"many":"other"},bem:eE,bez:tE,bg:nE,bho:iE,bm:lE,bn:function(v,E){return E?v==1||v==5||v==7||v==8||v==9||v==10?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v>=0&&v<=1?"one":"other"},bo:rE,br:function(v,E){var S=String(v).split("."),I=Number(S[0])==v,A=I&&S[0].slice(-1),Y=I&&S[0].slice(-2),te=I&&S[0].slice(-6);return E?"other":A==1&&Y!=11&&Y!=71&&Y!=91?"one":A==2&&Y!=12&&Y!=72&&Y!=92?"two":(A==3||A==4||A==9)&&(Y<10||Y>19)&&(Y<70||Y>79)&&(Y<90||Y>99)?"few":v!=0&&I&&te==0?"many":"other"},brx:oE,bs:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-1),de=I.slice(-2),ge=A.slice(-1),Pe=A.slice(-2);return E?"other":Y&&te==1&&de!=11||ge==1&&Pe!=11?"one":Y&&te>=2&&te<=4&&(de<12||de>14)||ge>=2&&ge<=4&&(Pe<12||Pe>14)?"few":"other"},ca:function(v,E){var S=!String(v).split(".")[1];return E?v==1||v==3?"one":v==2?"two":v==4?"few":"other":v==1&&S?"one":"other"},ce:sE,ceb:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-1),de=A.slice(-1);return E?"other":Y&&(I==1||I==2||I==3)||Y&&te!=4&&te!=6&&te!=9||!Y&&de!=4&&de!=6&&de!=9?"one":"other"},cgg:fE,chr:aE,ckb:uE,cs:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1];return E?"other":v==1&&A?"one":I>=2&&I<=4&&A?"few":A?"other":"many"},cy:function(v,E){return E?v==0||v==7||v==8||v==9?"zero":v==1?"one":v==2?"two":v==3||v==4?"few":v==5||v==6?"many":"other":v==0?"zero":v==1?"one":v==2?"two":v==3?"few":v==6?"many":"other"},da:function(v,E){var S=String(v).split("."),I=S[0],A=Number(S[0])==v;return E||v!=1&&(A||I!=0&&I!=1)?"other":"one"},de:cE,doi:_E,dsb:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-2),de=A.slice(-2);return E?"other":Y&&te==1||de==1?"one":Y&&te==2||de==2?"two":Y&&(te==3||te==4)||de==3||de==4?"few":"other"},dv:dE,dz:mE,ee:pE,el:hE,en:function(v,E){var S=String(v).split("."),I=!S[1],A=Number(S[0])==v,Y=A&&S[0].slice(-1),te=A&&S[0].slice(-2);return E?Y==1&&te!=11?"one":Y==2&&te!=12?"two":Y==3&&te!=13?"few":"other":v==1&&I?"one":"other"},eo:gE,es:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-6);return E?"other":v==1?"one":I!=0&&Y==0&&A?"many":"other"},et:bE,eu:$E,fa:vE,ff:function(v,E){return E?"other":v>=0&&v<2?"one":"other"},fi:yE,fil:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-1),de=A.slice(-1);return E?v==1?"one":"other":Y&&(I==1||I==2||I==3)||Y&&te!=4&&te!=6&&te!=9||!Y&&de!=4&&de!=6&&de!=9?"one":"other"},fo:kE,fr:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-6);return E?v==1?"one":"other":v>=0&&v<2?"one":I!=0&&Y==0&&A?"many":"other"},fur:wE,fy:EE,ga:function(v,E){var S=String(v).split("."),I=Number(S[0])==v;return E?v==1?"one":"other":v==1?"one":v==2?"two":I&&v>=3&&v<=6?"few":I&&v>=7&&v<=10?"many":"other"},gd:function(v,E){var S=String(v).split("."),I=Number(S[0])==v;return E?v==1||v==11?"one":v==2||v==12?"two":v==3||v==13?"few":"other":v==1||v==11?"one":v==2||v==12?"two":I&&v>=3&&v<=10||I&&v>=13&&v<=19?"few":"other"},gl:SE,gsw:TE,gu:function(v,E){return E?v==1?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v>=0&&v<=1?"one":"other"},guw:CE,gv:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-1),te=I.slice(-2);return E?"other":A&&Y==1?"one":A&&Y==2?"two":!A||te!=0&&te!=20&&te!=40&&te!=60&&te!=80?A?"other":"many":"few"},ha:IE,haw:OE,he:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=Number(S[0])==v,te=Y&&S[0].slice(-1);return E?"other":v==1&&A?"one":I==2&&A?"two":A&&(v<0||v>10)&&Y&&te==0?"many":"other"},hi:function(v,E){return E?v==1?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v>=0&&v<=1?"one":"other"},hnj:RE,hr:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-1),de=I.slice(-2),ge=A.slice(-1),Pe=A.slice(-2);return E?"other":Y&&te==1&&de!=11||ge==1&&Pe!=11?"one":Y&&te>=2&&te<=4&&(de<12||de>14)||ge>=2&&ge<=4&&(Pe<12||Pe>14)?"few":"other"},hsb:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-2),de=A.slice(-2);return E?"other":Y&&te==1||de==1?"one":Y&&te==2||de==2?"two":Y&&(te==3||te==4)||de==3||de==4?"few":"other"},hu:function(v,E){return E?v==1||v==5?"one":"other":v==1?"one":"other"},hy:function(v,E){return E?v==1?"one":"other":v>=0&&v<2?"one":"other"},ia:NE,id:AE,ig:BE,ii:ME,io:DE,is:function(v,E){var S=String(v).split("."),I=S[0],A=Number(S[0])==v,Y=I.slice(-1),te=I.slice(-2);return E?"other":A&&Y==1&&te!=11||!A?"one":"other"},it:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-6);return E?v==11||v==8||v==80||v==800?"many":"other":v==1&&A?"one":I!=0&&Y==0&&A?"many":"other"},iu:LE,ja:FE,jbo:PE,jgo:jE,jmc:UE,jv:GE,jw:qE,ka:function(v,E){var S=String(v).split(".")[0],I=S.slice(-2);return E?S==1?"one":S==0||I>=2&&I<=20||I==40||I==60||I==80?"many":"other":v==1?"one":"other"},kab:function(v,E){return E?"other":v>=0&&v<2?"one":"other"},kaj:YE,kcg:HE,kde:zE,kea:WE,kk:function(v,E){var S=String(v).split("."),I=Number(S[0])==v,A=I&&S[0].slice(-1);return E?A==6||A==9||I&&A==0&&v!=0?"many":"other":v==1?"one":"other"},kkj:VE,kl:XE,km:JE,kn:KE,ko:ZE,ks:QE,ksb:xE,ksh:function(v,E){return E?"other":v==0?"zero":v==1?"one":"other"},ku:eS,kw:function(v,E){var S=String(v).split("."),I=Number(S[0])==v,A=I&&S[0].slice(-2),Y=I&&S[0].slice(-3),te=I&&S[0].slice(-5),de=I&&S[0].slice(-6);return E?I&&v>=1&&v<=4||A>=1&&A<=4||A>=21&&A<=24||A>=41&&A<=44||A>=61&&A<=64||A>=81&&A<=84?"one":v==5||A==5?"many":"other":v==0?"zero":v==1?"one":A==2||A==22||A==42||A==62||A==82||I&&Y==0&&(te>=1e3&&te<=2e4||te==4e4||te==6e4||te==8e4)||v!=0&&de==1e5?"two":A==3||A==23||A==43||A==63||A==83?"few":v==1||A!=1&&A!=21&&A!=41&&A!=61&&A!=81?"other":"many"},ky:tS,lag:function(v,E){var S=String(v).split(".")[0];return E?"other":v==0?"zero":S!=0&&S!=1||v==0?"other":"one"},lb:nS,lg:iS,lij:function(v,E){var S=String(v).split("."),I=!S[1],A=Number(S[0])==v;return E?v==11||v==8||A&&v>=80&&v<=89||A&&v>=800&&v<=899?"many":"other":v==1&&I?"one":"other"},lkt:lS,ln:rS,lo:function(v,E){return E&&v==1?"one":"other"},lt:function(v,E){var S=String(v).split("."),I=S[1]||"",A=Number(S[0])==v,Y=A&&S[0].slice(-1),te=A&&S[0].slice(-2);return E?"other":Y==1&&(te<11||te>19)?"one":Y>=2&&Y<=9&&(te<11||te>19)?"few":I!=0?"many":"other"},lv:function(v,E){var S=String(v).split("."),I=S[1]||"",A=I.length,Y=Number(S[0])==v,te=Y&&S[0].slice(-1),de=Y&&S[0].slice(-2),ge=I.slice(-2),Pe=I.slice(-1);return E?"other":Y&&te==0||de>=11&&de<=19||A==2&&ge>=11&&ge<=19?"zero":te==1&&de!=11||A==2&&Pe==1&&ge!=11||A!=2&&Pe==1?"one":"other"},mas:oS,mg:sS,mgo:fS,mk:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-1),de=I.slice(-2),ge=A.slice(-1),Pe=A.slice(-2);return E?te==1&&de!=11?"one":te==2&&de!=12?"two":te!=7&&te!=8||de==17||de==18?"other":"many":Y&&te==1&&de!=11||ge==1&&Pe!=11?"one":"other"},ml:aS,mn:uS,mo:function(v,E){var S=String(v).split("."),I=!S[1],A=Number(S[0])==v&&S[0].slice(-2);return E?v==1?"one":"other":v==1&&I?"one":!I||v==0||A>=2&&A<=19?"few":"other"},mr:function(v,E){return E?v==1?"one":v==2||v==3?"two":v==4?"few":"other":v==1?"one":"other"},ms:function(v,E){return E&&v==1?"one":"other"},mt:function(v,E){var S=String(v).split("."),I=Number(S[0])==v&&S[0].slice(-2);return E?"other":v==1?"one":v==0||I>=2&&I<=10?"few":I>=11&&I<=19?"many":"other"},my:cS,nah:_S,naq:dS,nb:mS,nd:pS,ne:function(v,E){var S=String(v).split("."),I=Number(S[0])==v;return E?I&&v>=1&&v<=4?"one":"other":v==1?"one":"other"},nl:hS,nn:gS,nnh:bS,no:$S,nqo:vS,nr:yS,nso:kS,ny:wS,nyn:ES,om:SS,or:function(v,E){var S=String(v).split("."),I=Number(S[0])==v;return E?v==1||v==5||I&&v>=7&&v<=9?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v==1?"one":"other"},os:TS,osa:CS,pa:IS,pap:OS,pcm:RS,pl:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-1),te=I.slice(-2);return E?"other":v==1&&A?"one":A&&Y>=2&&Y<=4&&(te<12||te>14)?"few":A&&I!=1&&(Y==0||Y==1)||A&&Y>=5&&Y<=9||A&&te>=12&&te<=14?"many":"other"},prg:function(v,E){var S=String(v).split("."),I=S[1]||"",A=I.length,Y=Number(S[0])==v,te=Y&&S[0].slice(-1),de=Y&&S[0].slice(-2),ge=I.slice(-2),Pe=I.slice(-1);return E?"other":Y&&te==0||de>=11&&de<=19||A==2&&ge>=11&&ge<=19?"zero":te==1&&de!=11||A==2&&Pe==1&&ge!=11||A!=2&&Pe==1?"one":"other"},ps:NS,pt:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-6);return E?"other":I==0||I==1?"one":I!=0&&Y==0&&A?"many":"other"},pt_PT:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-6);return E?"other":v==1&&A?"one":I!=0&&Y==0&&A?"many":"other"},rm:AS,ro:function(v,E){var S=String(v).split("."),I=!S[1],A=Number(S[0])==v&&S[0].slice(-2);return E?v==1?"one":"other":v==1&&I?"one":!I||v==0||A>=2&&A<=19?"few":"other"},rof:BS,ru:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-1),te=I.slice(-2);return E?"other":A&&Y==1&&te!=11?"one":A&&Y>=2&&Y<=4&&(te<12||te>14)?"few":A&&Y==0||A&&Y>=5&&Y<=9||A&&te>=11&&te<=14?"many":"other"},rwk:MS,sah:DS,saq:LS,sat:FS,sc:function(v,E){var S=!String(v).split(".")[1];return E?v==11||v==8||v==80||v==800?"many":"other":v==1&&S?"one":"other"},scn:function(v,E){var S=!String(v).split(".")[1];return E?v==11||v==8||v==80||v==800?"many":"other":v==1&&S?"one":"other"},sd:PS,sdh:jS,se:US,seh:GS,ses:qS,sg:YS,sh:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-1),de=I.slice(-2),ge=A.slice(-1),Pe=A.slice(-2);return E?"other":Y&&te==1&&de!=11||ge==1&&Pe!=11?"one":Y&&te>=2&&te<=4&&(de<12||de>14)||ge>=2&&ge<=4&&(Pe<12||Pe>14)?"few":"other"},shi:function(v,E){var S=String(v).split("."),I=Number(S[0])==v;return E?"other":v>=0&&v<=1?"one":I&&v>=2&&v<=10?"few":"other"},si:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"";return E?"other":v==0||v==1||I==0&&A==1?"one":"other"},sk:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1];return E?"other":v==1&&A?"one":I>=2&&I<=4&&A?"few":A?"other":"many"},sl:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=I.slice(-2);return E?"other":A&&Y==1?"one":A&&Y==2?"two":A&&(Y==3||Y==4)||!A?"few":"other"},sma:HS,smi:zS,smj:WS,smn:VS,sms:XS,sn:JS,so:KS,sq:function(v,E){var S=String(v).split("."),I=Number(S[0])==v,A=I&&S[0].slice(-1),Y=I&&S[0].slice(-2);return E?v==1?"one":A==4&&Y!=14?"many":"other":v==1?"one":"other"},sr:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-1),de=I.slice(-2),ge=A.slice(-1),Pe=A.slice(-2);return E?"other":Y&&te==1&&de!=11||ge==1&&Pe!=11?"one":Y&&te>=2&&te<=4&&(de<12||de>14)||ge>=2&&ge<=4&&(Pe<12||Pe>14)?"few":"other"},ss:ZS,ssy:QS,st:xS,su:e3,sv:function(v,E){var S=String(v).split("."),I=!S[1],A=Number(S[0])==v,Y=A&&S[0].slice(-1),te=A&&S[0].slice(-2);return E?Y!=1&&Y!=2||te==11||te==12?"other":"one":v==1&&I?"one":"other"},sw:t3,syr:n3,ta:i3,te:l3,teo:r3,th:o3,ti:s3,tig:f3,tk:function(v,E){var S=String(v).split("."),I=Number(S[0])==v&&S[0].slice(-1);return E?I==6||I==9||v==10?"few":"other":v==1?"one":"other"},tl:function(v,E){var S=String(v).split("."),I=S[0],A=S[1]||"",Y=!S[1],te=I.slice(-1),de=A.slice(-1);return E?v==1?"one":"other":Y&&(I==1||I==2||I==3)||Y&&te!=4&&te!=6&&te!=9||!Y&&de!=4&&de!=6&&de!=9?"one":"other"},tn:a3,to:u3,tpi:c3,tr:_3,ts:d3,tzm:function(v,E){var S=String(v).split("."),I=Number(S[0])==v;return E?"other":v==0||v==1||I&&v>=11&&v<=99?"one":"other"},ug:m3,uk:function(v,E){var S=String(v).split("."),I=S[0],A=!S[1],Y=Number(S[0])==v,te=Y&&S[0].slice(-1),de=Y&&S[0].slice(-2),ge=I.slice(-1),Pe=I.slice(-2);return E?te==3&&de!=13?"few":"other":A&&ge==1&&Pe!=11?"one":A&&ge>=2&&ge<=4&&(Pe<12||Pe>14)?"few":A&&ge==0||A&&ge>=5&&ge<=9||A&&Pe>=11&&Pe<=14?"many":"other"},und:p3,ur:h3,uz:g3,ve:b3,vi:function(v,E){return E&&v==1?"one":"other"},vo:$3,vun:v3,wa:y3,wae:k3,wo:w3,xh:E3,xog:S3,yi:T3,yo:C3,yue:I3,zh:O3,zu:R3});function xo(v){if(typeof v!="string"||v.length<2)throw new RangeError("Invalid language tag: ".concat(v));if(v.startsWith("pt-PT"))return"pt-PT";var E=v.match(/.+?(?=[-_])/);return E?E[0]:v}function Qr(v){if(typeof v=="function"){var E=xo(v.name);return{isDefault:!1,id:Wt(E),lc:E,locale:v.name,getPlural:v,cardinals:v.cardinals||[],ordinals:v.ordinals||[]}}var S=xo(v),I=Wt(S);return function(A){return A in Zr}(I)?{isDefault:!0,id:I,lc:S,locale:v,getCardinal:Xv[I],getPlural:Zr[I],cardinals:df[I].cardinal,ordinals:df[I].ordinal}:null}function N3(v){return Wt(xo(v))in Zr}var A3=function(){function v(E,S){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},requireAllArguments:!1,returnType:"string",strict:S&&S.strictNumberSign||!1},S),E==="*"?this.plurals=(A=v.defaultLocale,(Y=Object.keys(Zr).filter(function(te){return te!==A})).unshift(A),Y.map(Qr)):Array.isArray(E)?this.plurals=E.map(Qr).filter(Boolean):E&&(I=Qr(E))&&(this.plurals=[I]),this.plurals.length===0){var I=Qr(v.defaultLocale);this.plurals=[I]}var A,Y}return v.escape=function(E,S){var I=S?/[#{}]/g:/[{}]/g;return String(E).replace(I,"'$&'")},v.supportedLocalesOf=function(E){return(Array.isArray(E)?E:[E]).filter(N3)},v.prototype.resolvedOptions=function(){return q(q({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},v.prototype.compile=function(E){var S,I,A=new rn(this.options),Y="return "+A.compile(E,this.plurals[0]),te=[],de=[];try{for(var ge=G(Object.entries(A.runtime)),Pe=ge.next();!Pe.done;Pe=ge.next()){var yt=Z(Pe.value,2),Ot=yt[0],Mt=yt[1];te.push(Ot),de.push(Mt)}}catch(_t){S={error:_t}}finally{try{Pe&&!Pe.done&&(I=ge.return)&&I.call(ge)}finally{if(S)throw S.error}}return new(Function.bind.apply(Function,M(M([void 0],Z(te),!1),[Y],!1)))().apply(void 0,M([],Z(de),!1))},v.defaultLocale="en",v}();return A3}()},669:(r,s,a)=>{r.exports=a(609)},448:(r,s,a)=>{var f=a(867),u=a(26),c=a(372),_=a(327),g=a(97),y=a(109),k=a(985),T=a(874),R=a(648),C=a(644),B=a(205);r.exports=function(D){return new Promise(function(j,L){var P,U=D.data,q=D.headers,G=D.responseType;function Z(){D.cancelToken&&D.cancelToken.unsubscribe(P),D.signal&&D.signal.removeEventListener("abort",P)}f.isFormData(U)&&f.isStandardBrowserEnv()&&delete q["Content-Type"];var M=new XMLHttpRequest;if(D.auth){var x=D.auth.username||"",ne=D.auth.password?unescape(encodeURIComponent(D.auth.password)):"";q.Authorization="Basic "+btoa(x+":"+ne)}var F=g(D.baseURL,D.url);function X(){if(M){var se="getAllResponseHeaders"in M?y(M.getAllResponseHeaders()):null,me={data:G&&G!=="text"&&G!=="json"?M.response:M.responseText,status:M.status,statusText:M.statusText,headers:se,config:D,request:M};u(function(Q){j(Q),Z()},function(Q){L(Q),Z()},me),M=null}}if(M.open(D.method.toUpperCase(),_(F,D.params,D.paramsSerializer),!0),M.timeout=D.timeout,"onloadend"in M?M.onloadend=X:M.onreadystatechange=function(){M&&M.readyState===4&&(M.status!==0||M.responseURL&&M.responseURL.indexOf("file:")===0)&&setTimeout(X)},M.onabort=function(){M&&(L(new R("Request aborted",R.ECONNABORTED,D,M)),M=null)},M.onerror=function(){L(new R("Network Error",R.ERR_NETWORK,D,M,M)),M=null},M.ontimeout=function(){var se=D.timeout?"timeout of "+D.timeout+"ms exceeded":"timeout exceeded",me=D.transitional||T;D.timeoutErrorMessage&&(se=D.timeoutErrorMessage),L(new R(se,me.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,D,M)),M=null},f.isStandardBrowserEnv()){var J=(D.withCredentials||k(F))&&D.xsrfCookieName?c.read(D.xsrfCookieName):void 0;J&&(q[D.xsrfHeaderName]=J)}"setRequestHeader"in M&&f.forEach(q,function(se,me){U===void 0&&me.toLowerCase()==="content-type"?delete q[me]:M.setRequestHeader(me,se)}),f.isUndefined(D.withCredentials)||(M.withCredentials=!!D.withCredentials),G&&G!=="json"&&(M.responseType=D.responseType),typeof D.onDownloadProgress=="function"&&M.addEventListener("progress",D.onDownloadProgress),typeof D.onUploadProgress=="function"&&M.upload&&M.upload.addEventListener("progress",D.onUploadProgress),(D.cancelToken||D.signal)&&(P=function(se){M&&(L(!se||se&&se.type?new C:se),M.abort(),M=null)},D.cancelToken&&D.cancelToken.subscribe(P),D.signal&&(D.signal.aborted?P():D.signal.addEventListener("abort",P))),U||(U=null);var V=B(F);V&&["http","https","file"].indexOf(V)===-1?L(new R("Unsupported protocol "+V+":",R.ERR_BAD_REQUEST,D)):M.send(U)})}},609:(r,s,a)=>{var f=a(867),u=a(849),c=a(321),_=a(185),g=function y(k){var T=new c(k),R=u(c.prototype.request,T);return f.extend(R,c.prototype,T),f.extend(R,T),R.create=function(C){return y(_(k,C))},R}(a(546));g.Axios=c,g.CanceledError=a(644),g.CancelToken=a(972),g.isCancel=a(502),g.VERSION=a(288).version,g.toFormData=a(675),g.AxiosError=a(648),g.Cancel=g.CanceledError,g.all=function(y){return Promise.all(y)},g.spread=a(713),g.isAxiosError=a(268),r.exports=g,r.exports.default=g},972:(r,s,a)=>{var f=a(644);function u(c){if(typeof c!="function")throw new TypeError("executor must be a function.");var _;this.promise=new Promise(function(y){_=y});var g=this;this.promise.then(function(y){if(g._listeners){var k,T=g._listeners.length;for(k=0;k<T;k++)g._listeners[k](y);g._listeners=null}}),this.promise.then=function(y){var k,T=new Promise(function(R){g.subscribe(R),k=R}).then(y);return T.cancel=function(){g.unsubscribe(k)},T},c(function(y){g.reason||(g.reason=new f(y),_(g.reason))})}u.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},u.prototype.subscribe=function(c){this.reason?c(this.reason):this._listeners?this._listeners.push(c):this._listeners=[c]},u.prototype.unsubscribe=function(c){if(this._listeners){var _=this._listeners.indexOf(c);_!==-1&&this._listeners.splice(_,1)}},u.source=function(){var c;return{token:new u(function(_){c=_}),cancel:c}},r.exports=u},644:(r,s,a)=>{var f=a(648);function u(c){f.call(this,c??"canceled",f.ERR_CANCELED),this.name="CanceledError"}a(867).inherits(u,f,{__CANCEL__:!0}),r.exports=u},502:r=>{r.exports=function(s){return!(!s||!s.__CANCEL__)}},321:(r,s,a)=>{var f=a(867),u=a(327),c=a(782),_=a(572),g=a(185),y=a(97),k=a(875),T=k.validators;function R(C){this.defaults=C,this.interceptors={request:new c,response:new c}}R.prototype.request=function(C,B){typeof C=="string"?(B=B||{}).url=C:B=C||{},(B=g(this.defaults,B)).method?B.method=B.method.toLowerCase():this.defaults.method?B.method=this.defaults.method.toLowerCase():B.method="get";var D=B.transitional;D!==void 0&&k.assertOptions(D,{silentJSONParsing:T.transitional(T.boolean),forcedJSONParsing:T.transitional(T.boolean),clarifyTimeoutError:T.transitional(T.boolean)},!1);var j=[],L=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(B)===!1||(L=L&&x.synchronous,j.unshift(x.fulfilled,x.rejected))});var P,U=[];if(this.interceptors.response.forEach(function(x){U.push(x.fulfilled,x.rejected)}),!L){var q=[_,void 0];for(Array.prototype.unshift.apply(q,j),q=q.concat(U),P=Promise.resolve(B);q.length;)P=P.then(q.shift(),q.shift());return P}for(var G=B;j.length;){var Z=j.shift(),M=j.shift();try{G=Z(G)}catch(x){M(x);break}}try{P=_(G)}catch(x){return Promise.reject(x)}for(;U.length;)P=P.then(U.shift(),U.shift());return P},R.prototype.getUri=function(C){C=g(this.defaults,C);var B=y(C.baseURL,C.url);return u(B,C.params,C.paramsSerializer)},f.forEach(["delete","get","head","options"],function(C){R.prototype[C]=function(B,D){return this.request(g(D||{},{method:C,url:B,data:(D||{}).data}))}}),f.forEach(["post","put","patch"],function(C){function B(D){return function(j,L,P){return this.request(g(P||{},{method:C,headers:D?{"Content-Type":"multipart/form-data"}:{},url:j,data:L}))}}R.prototype[C]=B(),R.prototype[C+"Form"]=B(!0)}),r.exports=R},648:(r,s,a)=>{var f=a(867);function u(g,y,k,T,R){Error.call(this),this.message=g,this.name="AxiosError",y&&(this.code=y),k&&(this.config=k),T&&(this.request=T),R&&(this.response=R)}f.inherits(u,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var c=u.prototype,_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(g){_[g]={value:g}}),Object.defineProperties(u,_),Object.defineProperty(c,"isAxiosError",{value:!0}),u.from=function(g,y,k,T,R,C){var B=Object.create(c);return f.toFlatObject(g,B,function(D){return D!==Error.prototype}),u.call(B,g.message,y,k,T,R),B.name=g.name,C&&Object.assign(B,C),B},r.exports=u},782:(r,s,a)=>{var f=a(867);function u(){this.handlers=[]}u.prototype.use=function(c,_,g){return this.handlers.push({fulfilled:c,rejected:_,synchronous:!!g&&g.synchronous,runWhen:g?g.runWhen:null}),this.handlers.length-1},u.prototype.eject=function(c){this.handlers[c]&&(this.handlers[c]=null)},u.prototype.forEach=function(c){f.forEach(this.handlers,function(_){_!==null&&c(_)})},r.exports=u},97:(r,s,a)=>{var f=a(793),u=a(303);r.exports=function(c,_){return c&&!f(_)?u(c,_):_}},572:(r,s,a)=>{var f=a(867),u=a(527),c=a(502),_=a(546),g=a(644);function y(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new g}r.exports=function(k){return y(k),k.headers=k.headers||{},k.data=u.call(k,k.data,k.headers,k.transformRequest),k.headers=f.merge(k.headers.common||{},k.headers[k.method]||{},k.headers),f.forEach(["delete","get","head","post","put","patch","common"],function(T){delete k.headers[T]}),(k.adapter||_.adapter)(k).then(function(T){return y(k),T.data=u.call(k,T.data,T.headers,k.transformResponse),T},function(T){return c(T)||(y(k),T&&T.response&&(T.response.data=u.call(k,T.response.data,T.response.headers,k.transformResponse))),Promise.reject(T)})}},185:(r,s,a)=>{var f=a(867);r.exports=function(u,c){c=c||{};var _={};function g(B,D){return f.isPlainObject(B)&&f.isPlainObject(D)?f.merge(B,D):f.isPlainObject(D)?f.merge({},D):f.isArray(D)?D.slice():D}function y(B){return f.isUndefined(c[B])?f.isUndefined(u[B])?void 0:g(void 0,u[B]):g(u[B],c[B])}function k(B){if(!f.isUndefined(c[B]))return g(void 0,c[B])}function T(B){return f.isUndefined(c[B])?f.isUndefined(u[B])?void 0:g(void 0,u[B]):g(void 0,c[B])}function R(B){return B in c?g(u[B],c[B]):B in u?g(void 0,u[B]):void 0}var C={url:k,method:k,data:k,baseURL:T,transformRequest:T,transformResponse:T,paramsSerializer:T,timeout:T,timeoutMessage:T,withCredentials:T,adapter:T,responseType:T,xsrfCookieName:T,xsrfHeaderName:T,onUploadProgress:T,onDownloadProgress:T,decompress:T,maxContentLength:T,maxBodyLength:T,beforeRedirect:T,transport:T,httpAgent:T,httpsAgent:T,cancelToken:T,socketPath:T,responseEncoding:T,validateStatus:R};return f.forEach(Object.keys(u).concat(Object.keys(c)),function(B){var D=C[B]||y,j=D(B);f.isUndefined(j)&&D!==R||(_[B]=j)}),_}},26:(r,s,a)=>{var f=a(648);r.exports=function(u,c,_){var g=_.config.validateStatus;_.status&&g&&!g(_.status)?c(new f("Request failed with status code "+_.status,[f.ERR_BAD_REQUEST,f.ERR_BAD_RESPONSE][Math.floor(_.status/100)-4],_.config,_.request,_)):u(_)}},527:(r,s,a)=>{var f=a(867),u=a(546);r.exports=function(c,_,g){var y=this||u;return f.forEach(g,function(k){c=k.call(y,c,_)}),c}},546:(r,s,a)=>{var f=a(867),u=a(16),c=a(648),_=a(874),g=a(675),y={"Content-Type":"application/x-www-form-urlencoded"};function k(C,B){!f.isUndefined(C)&&f.isUndefined(C["Content-Type"])&&(C["Content-Type"]=B)}var T,R={transitional:_,adapter:((typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(T=a(448)),T),transformRequest:[function(C,B){if(u(B,"Accept"),u(B,"Content-Type"),f.isFormData(C)||f.isArrayBuffer(C)||f.isBuffer(C)||f.isStream(C)||f.isFile(C)||f.isBlob(C))return C;if(f.isArrayBufferView(C))return C.buffer;if(f.isURLSearchParams(C))return k(B,"application/x-www-form-urlencoded;charset=utf-8"),C.toString();var D,j=f.isObject(C),L=B&&B["Content-Type"];if((D=f.isFileList(C))||j&&L==="multipart/form-data"){var P=this.env&&this.env.FormData;return g(D?{"files[]":C}:C,P&&new P)}return j||L==="application/json"?(k(B,"application/json"),function(U,q,G){if(f.isString(U))try{return(0,JSON.parse)(U),f.trim(U)}catch(Z){if(Z.name!=="SyntaxError")throw Z}return(0,JSON.stringify)(U)}(C)):C}],transformResponse:[function(C){var B=this.transitional||R.transitional,D=B&&B.silentJSONParsing,j=B&&B.forcedJSONParsing,L=!D&&this.responseType==="json";if(L||j&&f.isString(C)&&C.length)try{return JSON.parse(C)}catch(P){if(L)throw P.name==="SyntaxError"?c.from(P,c.ERR_BAD_RESPONSE,this,null,this.response):P}return C}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:a(623)},validateStatus:function(C){return C>=200&&C<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};f.forEach(["delete","get","head"],function(C){R.headers[C]={}}),f.forEach(["post","put","patch"],function(C){R.headers[C]=f.merge(y)}),r.exports=R},874:r=>{r.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},288:r=>{r.exports={version:"0.27.2"}},849:r=>{r.exports=function(s,a){return function(){for(var f=new Array(arguments.length),u=0;u<f.length;u++)f[u]=arguments[u];return s.apply(a,f)}}},327:(r,s,a)=>{var f=a(867);function u(c){return encodeURIComponent(c).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}r.exports=function(c,_,g){if(!_)return c;var y;if(g)y=g(_);else if(f.isURLSearchParams(_))y=_.toString();else{var k=[];f.forEach(_,function(R,C){R!=null&&(f.isArray(R)?C+="[]":R=[R],f.forEach(R,function(B){f.isDate(B)?B=B.toISOString():f.isObject(B)&&(B=JSON.stringify(B)),k.push(u(C)+"="+u(B))}))}),y=k.join("&")}if(y){var T=c.indexOf("#");T!==-1&&(c=c.slice(0,T)),c+=(c.indexOf("?")===-1?"?":"&")+y}return c}},303:r=>{r.exports=function(s,a){return a?s.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):s}},372:(r,s,a)=>{var f=a(867);r.exports=f.isStandardBrowserEnv()?{write:function(u,c,_,g,y,k){var T=[];T.push(u+"="+encodeURIComponent(c)),f.isNumber(_)&&T.push("expires="+new Date(_).toGMTString()),f.isString(g)&&T.push("path="+g),f.isString(y)&&T.push("domain="+y),k===!0&&T.push("secure"),document.cookie=T.join("; ")},read:function(u){var c=document.cookie.match(new RegExp("(^|;\\s*)("+u+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(u){this.write(u,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:r=>{r.exports=function(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}},268:(r,s,a)=>{var f=a(867);r.exports=function(u){return f.isObject(u)&&u.isAxiosError===!0}},985:(r,s,a)=>{var f=a(867);r.exports=f.isStandardBrowserEnv()?function(){var u,c=/(msie|trident)/i.test(navigator.userAgent),_=document.createElement("a");function g(y){var k=y;return c&&(_.setAttribute("href",k),k=_.href),_.setAttribute("href",k),{href:_.href,protocol:_.protocol?_.protocol.replace(/:$/,""):"",host:_.host,search:_.search?_.search.replace(/^\?/,""):"",hash:_.hash?_.hash.replace(/^#/,""):"",hostname:_.hostname,port:_.port,pathname:_.pathname.charAt(0)==="/"?_.pathname:"/"+_.pathname}}return u=g(window.location.href),function(y){var k=f.isString(y)?g(y):y;return k.protocol===u.protocol&&k.host===u.host}}():function(){return!0}},16:(r,s,a)=>{var f=a(867);r.exports=function(u,c){f.forEach(u,function(_,g){g!==c&&g.toUpperCase()===c.toUpperCase()&&(u[c]=_,delete u[g])})}},623:r=>{r.exports=null},109:(r,s,a)=>{var f=a(867),u=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];r.exports=function(c){var _,g,y,k={};return c&&f.forEach(c.split(`
`),function(T){if(y=T.indexOf(":"),_=f.trim(T.substr(0,y)).toLowerCase(),g=f.trim(T.substr(y+1)),_){if(k[_]&&u.indexOf(_)>=0)return;k[_]=_==="set-cookie"?(k[_]?k[_]:[]).concat([g]):k[_]?k[_]+", "+g:g}}),k}},205:r=>{r.exports=function(s){var a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}},713:r=>{r.exports=function(s){return function(a){return s.apply(null,a)}}},675:(r,s,a)=>{var f=a(867);r.exports=function(u,c){c=c||new FormData;var _=[];function g(y){return y===null?"":f.isDate(y)?y.toISOString():f.isArrayBuffer(y)||f.isTypedArray(y)?typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}return function y(k,T){if(f.isPlainObject(k)||f.isArray(k)){if(_.indexOf(k)!==-1)throw Error("Circular reference detected in "+T);_.push(k),f.forEach(k,function(R,C){if(!f.isUndefined(R)){var B,D=T?T+"."+C:C;if(R&&!T&&typeof R=="object"){if(f.endsWith(C,"{}"))R=JSON.stringify(R);else if(f.endsWith(C,"[]")&&(B=f.toArray(R)))return void B.forEach(function(j){!f.isUndefined(j)&&c.append(D,g(j))})}y(R,D)}}),_.pop()}else c.append(T,g(k))}(u),c}},875:(r,s,a)=>{var f=a(288).version,u=a(648),c={};["object","boolean","number","function","string","symbol"].forEach(function(g,y){c[g]=function(k){return typeof k===g||"a"+(y<1?"n ":" ")+g}});var _={};c.transitional=function(g,y,k){function T(R,C){return"[Axios v"+f+"] Transitional option '"+R+"'"+C+(k?". "+k:"")}return function(R,C,B){if(g===!1)throw new u(T(C," has been removed"+(y?" in "+y:"")),u.ERR_DEPRECATED);return y&&!_[C]&&(_[C]=!0,console.warn(T(C," has been deprecated since v"+y+" and will be removed in the near future"))),!g||g(R,C,B)}},r.exports={assertOptions:function(g,y,k){if(typeof g!="object")throw new u("options must be an object",u.ERR_BAD_OPTION_VALUE);for(var T=Object.keys(g),R=T.length;R-- >0;){var C=T[R],B=y[C];if(B){var D=g[C],j=D===void 0||B(D,C,g);if(j!==!0)throw new u("option "+C+" must be "+j,u.ERR_BAD_OPTION_VALUE)}else if(k!==!0)throw new u("Unknown option "+C,u.ERR_BAD_OPTION)}},validators:c}},867:(r,s,a)=>{var f,u=a(849),c=Object.prototype.toString,_=(f=Object.create(null),function(M){var x=c.call(M);return f[x]||(f[x]=x.slice(8,-1).toLowerCase())});function g(M){return M=M.toLowerCase(),function(x){return _(x)===M}}function y(M){return Array.isArray(M)}function k(M){return M===void 0}var T=g("ArrayBuffer");function R(M){return M!==null&&typeof M=="object"}function C(M){if(_(M)!=="object")return!1;var x=Object.getPrototypeOf(M);return x===null||x===Object.prototype}var B=g("Date"),D=g("File"),j=g("Blob"),L=g("FileList");function P(M){return c.call(M)==="[object Function]"}var U=g("URLSearchParams");function q(M,x){if(M!=null)if(typeof M!="object"&&(M=[M]),y(M))for(var ne=0,F=M.length;ne<F;ne++)x.call(null,M[ne],ne,M);else for(var X in M)Object.prototype.hasOwnProperty.call(M,X)&&x.call(null,M[X],X,M)}var G,Z=(G=typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array),function(M){return G&&M instanceof G});r.exports={isArray:y,isArrayBuffer:T,isBuffer:function(M){return M!==null&&!k(M)&&M.constructor!==null&&!k(M.constructor)&&typeof M.constructor.isBuffer=="function"&&M.constructor.isBuffer(M)},isFormData:function(M){var x="[object FormData]";return M&&(typeof FormData=="function"&&M instanceof FormData||c.call(M)===x||P(M.toString)&&M.toString()===x)},isArrayBufferView:function(M){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(M):M&&M.buffer&&T(M.buffer)},isString:function(M){return typeof M=="string"},isNumber:function(M){return typeof M=="number"},isObject:R,isPlainObject:C,isUndefined:k,isDate:B,isFile:D,isBlob:j,isFunction:P,isStream:function(M){return R(M)&&P(M.pipe)},isURLSearchParams:U,isStandardBrowserEnv:function(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"},forEach:q,merge:function M(){var x={};function ne(J,V){C(x[V])&&C(J)?x[V]=M(x[V],J):C(J)?x[V]=M({},J):y(J)?x[V]=J.slice():x[V]=J}for(var F=0,X=arguments.length;F<X;F++)q(arguments[F],ne);return x},extend:function(M,x,ne){return q(x,function(F,X){M[X]=ne&&typeof F=="function"?u(F,ne):F}),M},trim:function(M){return M.trim?M.trim():M.replace(/^\s+|\s+$/g,"")},stripBOM:function(M){return M.charCodeAt(0)===65279&&(M=M.slice(1)),M},inherits:function(M,x,ne,F){M.prototype=Object.create(x.prototype,F),M.prototype.constructor=M,ne&&Object.assign(M.prototype,ne)},toFlatObject:function(M,x,ne){var F,X,J,V={};x=x||{};do{for(X=(F=Object.getOwnPropertyNames(M)).length;X-- >0;)V[J=F[X]]||(x[J]=M[J],V[J]=!0);M=Object.getPrototypeOf(M)}while(M&&(!ne||ne(M,x))&&M!==Object.prototype);return x},kindOf:_,kindOfTest:g,endsWith:function(M,x,ne){M=String(M),(ne===void 0||ne>M.length)&&(ne=M.length),ne-=x.length;var F=M.indexOf(x,ne);return F!==-1&&F===ne},toArray:function(M){if(!M)return null;var x=M.length;if(k(x))return null;for(var ne=new Array(x);x-- >0;)ne[x]=M[x];return ne},isTypedArray:Z,isFileList:L}},487:r=>{var s={utf8:{stringToBytes:function(a){return s.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(s.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var f=[],u=0;u<a.length;u++)f.push(255&a.charCodeAt(u));return f},bytesToString:function(a){for(var f=[],u=0;u<a.length;u++)f.push(String.fromCharCode(a[u]));return f.join("")}}};r.exports=s},12:r=>{var s,a;s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(f,u){return f<<u|f>>>32-u},rotr:function(f,u){return f<<32-u|f>>>u},endian:function(f){if(f.constructor==Number)return 16711935&a.rotl(f,8)|4278255360&a.rotl(f,24);for(var u=0;u<f.length;u++)f[u]=a.endian(f[u]);return f},randomBytes:function(f){for(var u=[];f>0;f--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(f){for(var u=[],c=0,_=0;c<f.length;c++,_+=8)u[_>>>5]|=f[c]<<24-_%32;return u},wordsToBytes:function(f){for(var u=[],c=0;c<32*f.length;c+=8)u.push(f[c>>>5]>>>24-c%32&255);return u},bytesToHex:function(f){for(var u=[],c=0;c<f.length;c++)u.push((f[c]>>>4).toString(16)),u.push((15&f[c]).toString(16));return u.join("")},hexToBytes:function(f){for(var u=[],c=0;c<f.length;c+=2)u.push(parseInt(f.substr(c,2),16));return u},bytesToBase64:function(f){for(var u=[],c=0;c<f.length;c+=3)for(var _=f[c]<<16|f[c+1]<<8|f[c+2],g=0;g<4;g++)8*c+6*g<=8*f.length?u.push(s.charAt(_>>>6*(3-g)&63)):u.push("=");return u.join("")},base64ToBytes:function(f){f=f.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],c=0,_=0;c<f.length;_=++c%4)_!=0&&u.push((s.indexOf(f.charAt(c-1))&Math.pow(2,-2*_+8)-1)<<2*_|s.indexOf(f.charAt(c))>>>6-2*_);return u}},r.exports=a},738:r=>{function s(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}r.exports=function(a){return a!=null&&(s(a)||function(f){return typeof f.readFloatLE=="function"&&typeof f.slice=="function"&&s(f.slice(0,0))}(a)||!!a._isBuffer)}},568:(r,s,a)=>{var f,u,c,_,g;f=a(12),u=a(487).utf8,c=a(738),_=a(487).bin,(g=function(y,k){y.constructor==String?y=k&&k.encoding==="binary"?_.stringToBytes(y):u.stringToBytes(y):c(y)?y=Array.prototype.slice.call(y,0):Array.isArray(y)||y.constructor===Uint8Array||(y=y.toString());for(var T=f.bytesToWords(y),R=8*y.length,C=1732584193,B=-271733879,D=-1732584194,j=271733878,L=0;L<T.length;L++)T[L]=16711935&(T[L]<<8|T[L]>>>24)|4278255360&(T[L]<<24|T[L]>>>8);T[R>>>5]|=128<<R%32,T[14+(R+64>>>9<<4)]=R;var P=g._ff,U=g._gg,q=g._hh,G=g._ii;for(L=0;L<T.length;L+=16){var Z=C,M=B,x=D,ne=j;C=P(C,B,D,j,T[L+0],7,-680876936),j=P(j,C,B,D,T[L+1],12,-389564586),D=P(D,j,C,B,T[L+2],17,606105819),B=P(B,D,j,C,T[L+3],22,-1044525330),C=P(C,B,D,j,T[L+4],7,-176418897),j=P(j,C,B,D,T[L+5],12,1200080426),D=P(D,j,C,B,T[L+6],17,-1473231341),B=P(B,D,j,C,T[L+7],22,-45705983),C=P(C,B,D,j,T[L+8],7,1770035416),j=P(j,C,B,D,T[L+9],12,-1958414417),D=P(D,j,C,B,T[L+10],17,-42063),B=P(B,D,j,C,T[L+11],22,-1990404162),C=P(C,B,D,j,T[L+12],7,1804603682),j=P(j,C,B,D,T[L+13],12,-40341101),D=P(D,j,C,B,T[L+14],17,-1502002290),C=U(C,B=P(B,D,j,C,T[L+15],22,1236535329),D,j,T[L+1],5,-165796510),j=U(j,C,B,D,T[L+6],9,-1069501632),D=U(D,j,C,B,T[L+11],14,643717713),B=U(B,D,j,C,T[L+0],20,-373897302),C=U(C,B,D,j,T[L+5],5,-701558691),j=U(j,C,B,D,T[L+10],9,38016083),D=U(D,j,C,B,T[L+15],14,-660478335),B=U(B,D,j,C,T[L+4],20,-405537848),C=U(C,B,D,j,T[L+9],5,568446438),j=U(j,C,B,D,T[L+14],9,-1019803690),D=U(D,j,C,B,T[L+3],14,-187363961),B=U(B,D,j,C,T[L+8],20,1163531501),C=U(C,B,D,j,T[L+13],5,-1444681467),j=U(j,C,B,D,T[L+2],9,-51403784),D=U(D,j,C,B,T[L+7],14,1735328473),C=q(C,B=U(B,D,j,C,T[L+12],20,-1926607734),D,j,T[L+5],4,-378558),j=q(j,C,B,D,T[L+8],11,-2022574463),D=q(D,j,C,B,T[L+11],16,1839030562),B=q(B,D,j,C,T[L+14],23,-35309556),C=q(C,B,D,j,T[L+1],4,-1530992060),j=q(j,C,B,D,T[L+4],11,1272893353),D=q(D,j,C,B,T[L+7],16,-155497632),B=q(B,D,j,C,T[L+10],23,-1094730640),C=q(C,B,D,j,T[L+13],4,681279174),j=q(j,C,B,D,T[L+0],11,-358537222),D=q(D,j,C,B,T[L+3],16,-722521979),B=q(B,D,j,C,T[L+6],23,76029189),C=q(C,B,D,j,T[L+9],4,-640364487),j=q(j,C,B,D,T[L+12],11,-421815835),D=q(D,j,C,B,T[L+15],16,530742520),C=G(C,B=q(B,D,j,C,T[L+2],23,-995338651),D,j,T[L+0],6,-198630844),j=G(j,C,B,D,T[L+7],10,1126891415),D=G(D,j,C,B,T[L+14],15,-1416354905),B=G(B,D,j,C,T[L+5],21,-57434055),C=G(C,B,D,j,T[L+12],6,1700485571),j=G(j,C,B,D,T[L+3],10,-1894986606),D=G(D,j,C,B,T[L+10],15,-1051523),B=G(B,D,j,C,T[L+1],21,-2054922799),C=G(C,B,D,j,T[L+8],6,1873313359),j=G(j,C,B,D,T[L+15],10,-30611744),D=G(D,j,C,B,T[L+6],15,-1560198380),B=G(B,D,j,C,T[L+13],21,1309151649),C=G(C,B,D,j,T[L+4],6,-145523070),j=G(j,C,B,D,T[L+11],10,-1120210379),D=G(D,j,C,B,T[L+2],15,718787259),B=G(B,D,j,C,T[L+9],21,-343485551),C=C+Z>>>0,B=B+M>>>0,D=D+x>>>0,j=j+ne>>>0}return f.endian([C,B,D,j])})._ff=function(y,k,T,R,C,B,D){var j=y+(k&T|~k&R)+(C>>>0)+D;return(j<<B|j>>>32-B)+k},g._gg=function(y,k,T,R,C,B,D){var j=y+(k&R|T&~R)+(C>>>0)+D;return(j<<B|j>>>32-B)+k},g._hh=function(y,k,T,R,C,B,D){var j=y+(k^T^R)+(C>>>0)+D;return(j<<B|j>>>32-B)+k},g._ii=function(y,k,T,R,C,B,D){var j=y+(T^(k|~R))+(C>>>0)+D;return(j<<B|j>>>32-B)+k},g._blocksize=16,g._digestsize=16,r.exports=function(y,k){if(y==null)throw new Error("Illegal argument "+y);var T=f.wordsToBytes(g(y,k));return k&&k.asBytes?T:k&&k.asString?_.bytesToString(T):f.bytesToHex(T)}},61:(r,s,a)=>{var f=a(698).default;function u(){r.exports=u=function(){return c},r.exports.__esModule=!0,r.exports.default=r.exports;var c={},_=Object.prototype,g=_.hasOwnProperty,y=typeof Symbol=="function"?Symbol:{},k=y.iterator||"@@iterator",T=y.asyncIterator||"@@asyncIterator",R=y.toStringTag||"@@toStringTag";function C(Q,ee,le){return Object.defineProperty(Q,ee,{value:le,enumerable:!0,configurable:!0,writable:!0}),Q[ee]}try{C({},"")}catch{C=function(ee,le,ue){return ee[le]=ue}}function B(Q,ee,le,ue){var be=ee&&ee.prototype instanceof L?ee:L,Le=Object.create(be.prototype),ke=new V(ue||[]);return Le._invoke=function(Ee,Te,Re){var He="suspendedStart";return function(he,Ce){if(He==="executing")throw new Error("Generator is already running");if(He==="completed"){if(he==="throw")throw Ce;return{value:void 0,done:!0}}for(Re.method=he,Re.arg=Ce;;){var De=Re.delegate;if(De){var Oe=F(De,Re);if(Oe){if(Oe===j)continue;return Oe}}if(Re.method==="next")Re.sent=Re._sent=Re.arg;else if(Re.method==="throw"){if(He==="suspendedStart")throw He="completed",Re.arg;Re.dispatchException(Re.arg)}else Re.method==="return"&&Re.abrupt("return",Re.arg);He="executing";var Ke=D(Ee,Te,Re);if(Ke.type==="normal"){if(He=Re.done?"completed":"suspendedYield",Ke.arg===j)continue;return{value:Ke.arg,done:Re.done}}Ke.type==="throw"&&(He="completed",Re.method="throw",Re.arg=Ke.arg)}}}(Q,le,ke),Le}function D(Q,ee,le){try{return{type:"normal",arg:Q.call(ee,le)}}catch(ue){return{type:"throw",arg:ue}}}c.wrap=B;var j={};function L(){}function P(){}function U(){}var q={};C(q,k,function(){return this});var G=Object.getPrototypeOf,Z=G&&G(G(se([])));Z&&Z!==_&&g.call(Z,k)&&(q=Z);var M=U.prototype=L.prototype=Object.create(q);function x(Q){["next","throw","return"].forEach(function(ee){C(Q,ee,function(le){return this._invoke(ee,le)})})}function ne(Q,ee){function le(be,Le,ke,Ee){var Te=D(Q[be],Q,Le);if(Te.type!=="throw"){var Re=Te.arg,He=Re.value;return He&&f(He)=="object"&&g.call(He,"__await")?ee.resolve(He.__await).then(function(he){le("next",he,ke,Ee)},function(he){le("throw",he,ke,Ee)}):ee.resolve(He).then(function(he){Re.value=he,ke(Re)},function(he){return le("throw",he,ke,Ee)})}Ee(Te.arg)}var ue;this._invoke=function(be,Le){function ke(){return new ee(function(Ee,Te){le(be,Le,Ee,Te)})}return ue=ue?ue.then(ke,ke):ke()}}function F(Q,ee){var le=Q.iterator[ee.method];if(le===void 0){if(ee.delegate=null,ee.method==="throw"){if(Q.iterator.return&&(ee.method="return",ee.arg=void 0,F(Q,ee),ee.method==="throw"))return j;ee.method="throw",ee.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var ue=D(le,Q.iterator,ee.arg);if(ue.type==="throw")return ee.method="throw",ee.arg=ue.arg,ee.delegate=null,j;var be=ue.arg;return be?be.done?(ee[Q.resultName]=be.value,ee.next=Q.nextLoc,ee.method!=="return"&&(ee.method="next",ee.arg=void 0),ee.delegate=null,j):be:(ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,j)}function X(Q){var ee={tryLoc:Q[0]};1 in Q&&(ee.catchLoc=Q[1]),2 in Q&&(ee.finallyLoc=Q[2],ee.afterLoc=Q[3]),this.tryEntries.push(ee)}function J(Q){var ee=Q.completion||{};ee.type="normal",delete ee.arg,Q.completion=ee}function V(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(X,this),this.reset(!0)}function se(Q){if(Q){var ee=Q[k];if(ee)return ee.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length)){var le=-1,ue=function be(){for(;++le<Q.length;)if(g.call(Q,le))return be.value=Q[le],be.done=!1,be;return be.value=void 0,be.done=!0,be};return ue.next=ue}}return{next:me}}function me(){return{value:void 0,done:!0}}return P.prototype=U,C(M,"constructor",U),C(U,"constructor",P),P.displayName=C(U,R,"GeneratorFunction"),c.isGeneratorFunction=function(Q){var ee=typeof Q=="function"&&Q.constructor;return!!ee&&(ee===P||(ee.displayName||ee.name)==="GeneratorFunction")},c.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,U):(Q.__proto__=U,C(Q,R,"GeneratorFunction")),Q.prototype=Object.create(M),Q},c.awrap=function(Q){return{__await:Q}},x(ne.prototype),C(ne.prototype,T,function(){return this}),c.AsyncIterator=ne,c.async=function(Q,ee,le,ue,be){be===void 0&&(be=Promise);var Le=new ne(B(Q,ee,le,ue),be);return c.isGeneratorFunction(ee)?Le:Le.next().then(function(ke){return ke.done?ke.value:Le.next()})},x(M),C(M,R,"Generator"),C(M,k,function(){return this}),C(M,"toString",function(){return"[object Generator]"}),c.keys=function(Q){var ee=[];for(var le in Q)ee.push(le);return ee.reverse(),function ue(){for(;ee.length;){var be=ee.pop();if(be in Q)return ue.value=be,ue.done=!1,ue}return ue.done=!0,ue}},c.values=se,V.prototype={constructor:V,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(J),!Q)for(var ee in this)ee.charAt(0)==="t"&&g.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=void 0)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var ee=this;function le(Te,Re){return Le.type="throw",Le.arg=Q,ee.next=Te,Re&&(ee.method="next",ee.arg=void 0),!!Re}for(var ue=this.tryEntries.length-1;ue>=0;--ue){var be=this.tryEntries[ue],Le=be.completion;if(be.tryLoc==="root")return le("end");if(be.tryLoc<=this.prev){var ke=g.call(be,"catchLoc"),Ee=g.call(be,"finallyLoc");if(ke&&Ee){if(this.prev<be.catchLoc)return le(be.catchLoc,!0);if(this.prev<be.finallyLoc)return le(be.finallyLoc)}else if(ke){if(this.prev<be.catchLoc)return le(be.catchLoc,!0)}else{if(!Ee)throw new Error("try statement without catch or finally");if(this.prev<be.finallyLoc)return le(be.finallyLoc)}}}},abrupt:function(Q,ee){for(var le=this.tryEntries.length-1;le>=0;--le){var ue=this.tryEntries[le];if(ue.tryLoc<=this.prev&&g.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var be=ue;break}}be&&(Q==="break"||Q==="continue")&&be.tryLoc<=ee&&ee<=be.finallyLoc&&(be=null);var Le=be?be.completion:{};return Le.type=Q,Le.arg=ee,be?(this.method="next",this.next=be.finallyLoc,j):this.complete(Le)},complete:function(Q,ee){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&ee&&(this.next=ee),j},finish:function(Q){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var le=this.tryEntries[ee];if(le.finallyLoc===Q)return this.complete(le.completion,le.afterLoc),J(le),j}},catch:function(Q){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var le=this.tryEntries[ee];if(le.tryLoc===Q){var ue=le.completion;if(ue.type==="throw"){var be=ue.arg;J(le)}return be}}throw new Error("illegal catch attempt")},delegateYield:function(Q,ee,le){return this.delegate={iterator:se(Q),resultName:ee,nextLoc:le},this.method==="next"&&(this.arg=void 0),j}},c}r.exports=u,r.exports.__esModule=!0,r.exports.default=r.exports},698:r=>{function s(a){return r.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},r.exports.__esModule=!0,r.exports.default=r.exports,s(a)}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports},687:(r,s,a)=>{var f=a(61)();r.exports=f;try{regeneratorRuntime=f}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}}},t={};function i(r){var s=t[r];if(s!==void 0)return s.exports;var a=t[r]={exports:{}};return n[r].call(a.exports,a,a.exports,i),a.exports}i.n=r=>{var s=r&&r.__esModule?()=>r.default:()=>r;return i.d(s,{a:s}),s},i.d=(r,s)=>{for(var a in s)i.o(s,a)&&!i.o(r,a)&&Object.defineProperty(r,a,{enumerable:!0,get:s[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(r,s)=>Object.prototype.hasOwnProperty.call(r,s),i.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var o={};return(()=>{function r(pe,$e){($e==null||$e>pe.length)&&($e=pe.length);for(var ae=0,Ye=new Array($e);ae<$e;ae++)Ye[ae]=pe[ae];return Ye}function s(pe,$e){if(pe){if(typeof pe=="string")return r(pe,$e);var ae=Object.prototype.toString.call(pe).slice(8,-1);return ae==="Object"&&pe.constructor&&(ae=pe.constructor.name),ae==="Map"||ae==="Set"?Array.from(pe):ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae)?r(pe,$e):void 0}}function a(pe){return function($e){if(Array.isArray($e))return r($e)}(pe)||function($e){if(typeof Symbol<"u"&&$e[Symbol.iterator]!=null||$e["@@iterator"]!=null)return Array.from($e)}(pe)||s(pe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(pe,$e,ae){return $e in pe?Object.defineProperty(pe,$e,{value:ae,enumerable:!0,configurable:!0,writable:!0}):pe[$e]=ae,pe}function u(pe,$e,ae,Ye,pt,ut,at){try{var lt=pe[ut](at),ot=lt.value}catch(rt){return void ae(rt)}lt.done?$e(ot):Promise.resolve(ot).then(Ye,pt)}function c(pe){return function(){var $e=this,ae=arguments;return new Promise(function(Ye,pt){var ut=pe.apply($e,ae);function at(ot){u(ut,Ye,pt,at,lt,"next",ot)}function lt(ot){u(ut,Ye,pt,at,lt,"throw",ot)}at(void 0)})}}function _(pe,$e){if(!(pe instanceof $e))throw new TypeError("Cannot call a class as a function")}function g(pe,$e){for(var ae=0;ae<$e.length;ae++){var Ye=$e[ae];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(pe,Ye.key,Ye)}}function y(pe,$e,ae){return $e&&g(pe.prototype,$e),ae&&g(pe,ae),Object.defineProperty(pe,"prototype",{writable:!1}),pe}i.r(o),i.d(o,{FETCHING_LOCALES:()=>ee,FETCHING_TRANSLATIONS:()=>V,LOCALES_FETCHED:()=>le,LOCALES_FETCH_FAILED:()=>ue,LOCALE_CHANGED:()=>Q,MessageFormatRenderer:()=>kt,PseudoTranslationPolicy:()=>ct,SourceErrorPolicy:()=>qe,SourceStringPolicy:()=>We,TRANSLATIONS_FETCHED:()=>se,TRANSLATIONS_FETCH_FAILED:()=>me,ThrowErrorPolicy:()=>Ve,createNativeInstance:()=>ht,escape:()=>ne,explodePlurals:()=>Oe,generateHashedKey:()=>x,generateKey:()=>M,implodePlurals:()=>Ke,isPluralized:()=>xe,isString:()=>F,normalizeLocale:()=>X,offEvent:()=>ke,onEvent:()=>Le,sendEvent:()=>Ee,sleep:()=>J,t:()=>Ge,tx:()=>Rt});var k=i(687),T=i.n(k),R=i(669),C=i.n(R),B=function(){function pe(){_(this,pe),this.translationsByLocale={}}return y(pe,[{key:"update",value:function($e,ae){this.translationsByLocale[$e]||(this.translationsByLocale[$e]={}),Object.assign(this.translationsByLocale[$e],ae)}},{key:"getTranslations",value:function($e){return this.translationsByLocale[$e]||{}}},{key:"hasTranslations",value:function($e){return!!this.translationsByLocale[$e]}},{key:"isStale",value:function($e){return!this.hasTranslations($e)}},{key:"get",value:function($e,ae){return this.getTranslations(ae)[$e]||""}}]),pe}(),D=function(){function pe(){_(this,pe)}return y(pe,[{key:"handle",value:function($e,ae,Ye,pt){return ae}}]),pe}(),j=function(){function pe(){_(this,pe)}return y(pe,[{key:"handle",value:function($e,ae){return $e}}]),pe}(),L=i(160),P=i.n(L),U={},q=function(){function pe(){_(this,pe)}return y(pe,[{key:"render",value:function($e,ae,Ye){var pt=(ae||"").split("_")[0];if(!U[pt])try{U[pt]=new(P())(pt)}catch{U[pt]=new(P())}return U[pt].compile($e)(Ye)}}]),pe}(),G=i(568),Z=i.n(G);function M(pe){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $e._key?$e._key:$e._context?"".concat(pe,"::").concat($e._context):"".concat(pe)}function x(pe){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($e._key)return $e._key;var ae="";return $e._context&&(ae=(ae=$e._context).replace(/,/g,":")),Z()("5:".concat(pe,":").concat(ae))}function ne(pe){return pe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function F(pe){return Object.prototype.toString.call(pe)==="[object String]"}function X(pe){var $e=pe.split("-");return $e.length===1?pe:[$e[0],$e[1].toUpperCase()].join("_")}function J(pe){return new Promise(function($e){setTimeout(function(){$e()},pe)})}var V="FETCHING_TRANSLATIONS",se="TRANSLATIONS_FETCHED",me="TRANSLATIONS_FETCH_FAILED",Q="LOCALE_CHANGED",ee="FETCHING_LOCALES",le="LOCALES_FETCHED",ue="LOCALES_FETCH_FAILED",be={};function Le(pe,$e){be[pe]=be[pe]||[],be[pe].push($e)}function ke(pe,$e){var ae=be[pe]||[],Ye=ae.indexOf($e);Ye!==-1&&ae.splice(Ye,1)}function Ee(pe,$e,ae){(be[pe]||[]).forEach(function(Ye){Ye($e,ae)})}function Te(pe,$e){return function(ae){if(Array.isArray(ae))return ae}(pe)||function(ae,Ye){var pt=ae==null?null:typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(pt!=null){var ut,at,lt=[],ot=!0,rt=!1;try{for(pt=pt.call(ae);!(ot=(ut=pt.next()).done)&&(lt.push(ut.value),!Ye||lt.length!==Ye);ot=!0);}catch(tt){rt=!0,at=tt}finally{try{ot||pt.return==null||pt.return()}finally{if(rt)throw at}}return lt}}(pe,$e)||s(pe,$e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Re(pe,$e){var ae=typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(!ae){if(Array.isArray(pe)||(ae=function(ot,rt){if(ot){if(typeof ot=="string")return He(ot,rt);var tt=Object.prototype.toString.call(ot).slice(8,-1);return tt==="Object"&&ot.constructor&&(tt=ot.constructor.name),tt==="Map"||tt==="Set"?Array.from(ot):tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?He(ot,rt):void 0}}(pe))||$e&&pe&&typeof pe.length=="number"){ae&&(pe=ae);var Ye=0,pt=function(){};return{s:pt,n:function(){return Ye>=pe.length?{done:!0}:{done:!1,value:pe[Ye++]}},e:function(ot){throw ot},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ut,at=!0,lt=!1;return{s:function(){ae=ae.call(pe)},n:function(){var ot=ae.next();return at=ot.done,ot},e:function(ot){lt=!0,ut=ot},f:function(){try{at||ae.return==null||ae.return()}finally{if(lt)throw ut}}}}function He(pe,$e){($e==null||$e>pe.length)&&($e=pe.length);for(var ae=0,Ye=new Array($e);ae<$e;ae++)Ye[ae]=pe[ae];return Ye}var he=["zero","one","two","few","many","other"];function Ce(pe){var $e=pe.indexOf("{");if($e===-1)return[null,null];var ae=pe.substring(0,$e).trim();if(ae[0]==="="){if(ae=ae.substring(1),Number.isNaN(parseInt(ae,10))||parseInt(ae,10)!==parseFloat(ae))return[null,null];if(ae=parseInt(ae,10),(ae=he[ae])===void 0)return[null,null]}else if(he.indexOf(ae)===-1)return[null,null];return[ae,pe.substring($e)]}function De(pe){for(var $e=0,ae=!1,Ye=0;Ye<pe.length;){var pt=pe[Ye];if(pt==="'"){var ut=pe[Ye+1];ut==="'"?Ye+=1:ae?ae=!1:ut!=="{"&&ut!=="}"||(ae=!0)}else if(pt==="{")ae||($e+=1);else if(pt==="}"&&(ae||($e-=1),$e===0))return[pe.substring(1,Ye),pe.substring(Ye+1).trim()];Ye+=1}return[null,null]}function Oe(pe){var $e=[null,{other:pe}],ae=function(dt){if(!(dt.length>1&&dt[0]==="{"&&dt[dt.length-1]==="}"))return[null,null];var It=dt.indexOf(",");if(It===-1)return[null,null];var Ft=dt.indexOf(",",It+1);if(Ft===-1)return[null,null];var jt=dt.substring(1,It).trim(),Tt=dt.substring(It+1,Ft).trim();return/^[\w_]+$/.test(jt)&&Tt==="plural"?[jt,dt.substring(Ft+1,dt.length-1).trim()]:[null,null]}(pe),Ye=Te(ae,2),pt=Ye[0],ut=Ye[1];if(pt==null)return $e;var at,lt,ot={},rt=Te(Ce(ut),2);if(at=rt[0],ut=rt[1],at==null)return $e;var tt=Te(De(ut.trim()),2);if(lt=tt[0],ut=tt[1],lt==null)return $e;for(ot[at]=lt;ut.trim();){var Ne=Te(Ce(ut.trim()),2);if(at=Ne[0],ut=Ne[1],at==null)return $e;var Ie=Te(De(ut.trim()),2);if(lt=Ie[0],ut=Ie[1],lt==null)return $e;ot[at]=lt}return(Object.keys(ot).length!==1||"other"in ot)&&"one"in ot&&"other"in ot?[pt,ot]:$e}function Ke(pe){var $e,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"???",Ye=["{".concat(ae,", plural,")],pt=Re(he);try{for(pt.s();!($e=pt.n()).done;){var ut=$e.value;if(ut in pe){var at=pe[ut];Ye.push(" ".concat(ut," {").concat(at,"}"))}}}catch(lt){pt.e(lt)}finally{pt.f()}return Ye.push("}"),Ye.join("")}function xe(pe){var $e=Oe(pe)[1];return Object.keys($e).length>1}function mt(pe,$e){var ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(pe);$e&&(Ye=Ye.filter(function(pt){return Object.getOwnPropertyDescriptor(pe,pt).enumerable})),ae.push.apply(ae,Ye)}return ae}function ye(pe){for(var $e=1;$e<arguments.length;$e++){var ae=arguments[$e]!=null?arguments[$e]:{};$e%2?mt(Object(ae),!0).forEach(function(Ye){f(pe,Ye,ae[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(ae)):mt(Object(ae)).forEach(function(Ye){Object.defineProperty(pe,Ye,Object.getOwnPropertyDescriptor(ae,Ye))})}return pe}var et=function(){function pe(){_(this,pe),this.cdsHost="https://cds.svc.transifex.net",this.token="",this.secret="",this.filterTags="",this.fetchTimeout=0,this.fetchInterval=250,this.cache=new B,this.missingPolicy=new j,this.errorPolicy=new D,this.stringRenderer=new q,this.currentLocale="",this.locales=[],this.languages=[],this.childInstances=[]}var $e,ae,Ye,pt,ut,at,lt,ot;return y(pe,[{key:"init",value:function(rt){var tt=this;["cdsHost","token","secret","cache","filterTags","fetchTimeout","fetchInterval","missingPolicy","errorPolicy","stringRenderer","currentLocale"].forEach(function(Ne){rt[Ne]!==void 0&&(tt[Ne]=rt[Ne])}),this.fetchedTags={}}},{key:"translate",value:function(rt,tt){return this.translateLocale(this.currentLocale,rt,tt)}},{key:"translateLocale",value:function(rt,tt,Ne){try{var Ie=this.cache.get(M(tt,Ne),rt);if(Ie||(Ie=this.cache.get(x(tt,Ne),rt)),Ie&&Ie.startsWith("{???")&&xe(tt)){var dt=tt.substring(1,tt.indexOf(",")).trim();Ie="{".concat(dt).concat(Ie.substring(4))}var It=!1;if(Ie||(It=!0,Ie=tt),Ne&&Ne._escapeVars){var Ft={};Object.keys(Ne).forEach(function(jt){var Tt=Ne[jt];Ft[jt]=F(Tt)?ne(Tt):Tt}),Ie=this.stringRenderer.render(Ie,rt,Ft)}else Ie=this.stringRenderer.render(Ie,rt,Ne);return It&&rt&&(Ie=this.missingPolicy.handle(Ie,rt)),F(Ie)||(Ie="".concat(Ie)),Ie}catch(jt){return this.errorPolicy.handle(jt,"".concat(tt),rt,Ne)}}},{key:"fetchTranslations",value:(ot=c(T().mark(function rt(tt){var Ne,Ie,dt,It,Ft,jt,Tt,Fe,ft,Xt=this,an=arguments;return T().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(Ne=an.length>1&&an[1]!==void 0?an[1]:{},Ie=Ne.filterTags||this.filterTags,Ne.refresh||this.cache.isStale(tt)||!(!Ie&&this.cache.hasTranslations(tt)||Ie&&(this.fetchedTags[tt]||[]).indexOf(Ie)!==-1)){Me.next=4;break}return Me.abrupt("return");case 4:Ie&&(tt in this.fetchedTags||(this.fetchedTags[tt]=[]),this.fetchedTags[tt].indexOf(Ie)===-1&&this.fetchedTags[tt].push(Ie)),dt=function(Xe){return Ee(me,{localeCode:tt,filterTags:Ie},Xt),Xe},Me.prev=6,Ee(V,{localeCode:tt,filterTags:Ie},this),Ft=202,jt=Date.now();case 10:if(Ft!==202){Me.next=24;break}return Tt="".concat(this.cdsHost,"/content/").concat(tt),Ie&&(Tt="".concat(Tt,"?filter[tags]=").concat(Ie)),Me.next=15,C().get(Tt,{headers:{Authorization:"Bearer ".concat(this.token),"Accept-version":"v2","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.2.4")}});case 15:if(It=Me.sent,Ft=It.status,!(this.fetchTimeout>0&&Date.now()-jt>=this.fetchTimeout)){Me.next=19;break}throw dt(new Error("Fetch translations timeout"));case 19:if(!(Ft===202&&this.fetchInterval>0)){Me.next=22;break}return Me.next=22,J(this.fetchInterval);case 22:Me.next=10;break;case 24:if(!(Fe=It.data)||!Fe.data){Me.next=32;break}ft={},Object.keys(Fe.data).forEach(function(Xe){Fe.data[Xe].string&&(ft[Xe]=Fe.data[Xe].string)}),this.cache.update(tt,ft),Ee(se,{localeCode:tt,filterTags:Ie},this),Me.next=33;break;case 32:throw dt(new Error("Could not fetch translations"));case 33:Me.next=38;break;case 35:throw Me.prev=35,Me.t0=Me.catch(6),dt(Me.t0);case 38:case"end":return Me.stop()}},rt,this,[[6,35]])})),function(rt){return ot.apply(this,arguments)})},{key:"invalidateCDS",value:(lt=c(T().mark(function rt(){var tt,Ne,Ie,dt=arguments;return T().wrap(function(It){for(;;)switch(It.prev=It.next){case 0:if(tt=dt.length>0&&dt[0]!==void 0?dt[0]:{},this.token){It.next=3;break}throw new Error("token is not defined");case 3:if(this.secret){It.next=5;break}throw new Error("secret is not defined");case 5:return Ne=tt.purge?"purge":"invalidate",It.next=8,C().post("".concat(this.cdsHost,"/").concat(Ne),{},{headers:{Authorization:"Bearer ".concat(this.token,":").concat(this.secret),"Accept-version":"v2","Content-Type":"application/json;charset=utf-8","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.2.4")}});case 8:return Ie=It.sent,It.abrupt("return",Ie.data);case 10:case"end":return It.stop()}},rt,this)})),function(){return lt.apply(this,arguments)})},{key:"pushSource",value:(at=c(T().mark(function rt(tt){var Ne,Ie,dt,It,Ft,jt,Tt,Fe=arguments;return T().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(Ne=Fe.length>1&&Fe[1]!==void 0?Fe[1]:{},this.token){ft.next=3;break}throw new Error("token is not defined");case 3:if(this.secret){ft.next=5;break}throw new Error("secret is not defined");case 5:return Ie={Authorization:"Bearer ".concat(this.token,":").concat(this.secret),"Accept-version":"v2","Content-Type":"application/json;charset=utf-8","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.2.4")},ft.next=8,C().post("".concat(this.cdsHost,"/content"),{data:tt,meta:{purge:!!Ne.purge,override_tags:!!Ne.overrideTags}},{headers:Ie});case 8:if(dt=ft.sent,It="".concat(this.cdsHost).concat(dt.data.data.links.job),!Ne.noWait){ft.next=12;break}return ft.abrupt("return",{jobUrl:It});case 12:Ft={status:""};case 13:return ft.next=15,J(1500);case 15:return ft.next=17,C().get(It,{headers:Ie});case 17:jt=ft.sent,Tt=jt.data.data,Ft=ye(ye({},Tt.details||{}),{},{errors:Tt.errors||[],status:Tt.status});case 20:if(Ft.status==="pending"||Ft.status==="processing"){ft.next=13;break}case 21:return ft.abrupt("return",ye({jobUrl:It},Ft));case 22:case"end":return ft.stop()}},rt,this)})),function(rt){return at.apply(this,arguments)})},{key:"getLocales",value:(ut=c(T().mark(function rt(){var tt,Ne,Ie,dt,It,Ft=this,jt=arguments;return T().wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:if((jt.length>0&&jt[0]!==void 0?jt[0]:{}).refresh||!(this.locales.length>0)){Tt.next=4;break}return Tt.abrupt("return",a(this.locales));case 4:if(this.token){Tt.next=6;break}return Tt.abrupt("return",[]);case 6:tt=function(Fe){return Ee(ue,null,Ft),Fe},Tt.prev=7,Ee(ee,null,this),Ie=202,dt=Date.now();case 11:if(Ie!==202){Tt.next=23;break}return Tt.next=14,C().get("".concat(this.cdsHost,"/languages"),{headers:{Authorization:"Bearer ".concat(this.token),"Accept-version":"v2","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.2.4")}});case 14:if(Ne=Tt.sent,Ie=Ne.status,!(this.fetchTimeout>0&&Date.now()-dt>=this.fetchTimeout)){Tt.next=18;break}throw tt(new Error("Get locales timeout"));case 18:if(!(Ie===202&&this.fetchInterval>0)){Tt.next=21;break}return Tt.next=21,J(this.fetchInterval);case 21:Tt.next=11;break;case 23:if(!(It=Ne.data)||!It.data){Tt.next=30;break}this.languages=It.data,this.locales=this.languages.map(function(Fe){return Fe.code}),Ee(le,null,this),Tt.next=31;break;case 30:throw tt(new Error("Could not fetch languages"));case 31:Tt.next=36;break;case 33:throw Tt.prev=33,Tt.t0=Tt.catch(7),tt(Tt.t0);case 36:return Tt.abrupt("return",a(this.locales));case 37:case"end":return Tt.stop()}},rt,this,[[7,33]])})),function(){return ut.apply(this,arguments)})},{key:"getCurrentLocale",value:function(){return this.currentLocale}},{key:"isCurrent",value:function(rt){return rt===this.currentLocale}},{key:"setCurrentLocale",value:(pt=c(T().mark(function rt(tt){return T().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(!this.isCurrent(tt)){Ne.next=4;break}return Ne.next=3,this._syncInstances(this.childInstances);case 3:return Ne.abrupt("return");case 4:if(tt){Ne.next=10;break}return this.currentLocale="",Ne.next=8,this._syncInstances(this.childInstances);case 8:return Ee(Q,this.currentLocale,this),Ne.abrupt("return");case 10:return Ne.next=12,this.fetchTranslations(tt);case 12:return this.currentLocale=tt,Ne.next=15,this._syncInstances(this.childInstances);case 15:Ee(Q,tt,this);case 16:case"end":return Ne.stop()}},rt,this)})),function(rt){return pt.apply(this,arguments)})},{key:"getLanguages",value:(Ye=c(T().mark(function rt(){var tt,Ne=arguments;return T().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return tt=Ne.length>0&&Ne[0]!==void 0?Ne[0]:{},Ie.next=3,this.getLocales(tt);case 3:return Ie.abrupt("return",a(this.languages));case 4:case"end":return Ie.stop()}},rt,this)})),function(){return Ye.apply(this,arguments)})},{key:"controllerOf",value:(ae=c(T().mark(function rt(tt){return T().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(tt!==this){Ne.next=2;break}throw new Error("Cannot add self as instance");case 2:if(tt.childInstances.indexOf(this)===-1){Ne.next=4;break}throw new Error("Cycle reference error, instance is controller of this");case 4:return this.childInstances.push(tt),Ne.next=7,this._syncInstances([tt]);case 7:return Ne.abrupt("return",tt);case 8:case"end":return Ne.stop()}},rt,this)})),function(rt){return ae.apply(this,arguments)})},{key:"_syncInstances",value:($e=c(T().mark(function rt(tt){var Ne,Ie;return T().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(!(Ne=this.getCurrentLocale())){dt.next=15;break}Ie=0;case 3:if(!(Ie<tt.length)){dt.next=15;break}if(tt[Ie].getCurrentLocale()===Ne){dt.next=12;break}return dt.prev=5,dt.next=8,tt[Ie].fetchTranslations(Ne);case 8:dt.next=12;break;case 10:dt.prev=10,dt.t0=dt.catch(5);case 12:Ie++,dt.next=3;break;case 15:tt.forEach(function(It){It.getCurrentLocale()!==Ne&&(It.currentLocale=Ne,Ee(Q,Ne,It))});case 16:case"end":return dt.stop()}},rt,this,[[5,10]])})),function(rt){return $e.apply(this,arguments)})}]),pe}(),je={a:"ȧ",A:"Ȧ",b:"ƀ",B:"Ɓ",c:"ƈ",C:"Ƈ",d:"ḓ",D:"Ḓ",e:"ḗ",E:"Ḗ",f:"ƒ",F:"Ƒ",g:"ɠ",G:"Ɠ",h:"ħ",H:"Ħ",i:"ī",I:"Ī",j:"ĵ",J:"Ĵ",k:"ķ",K:"Ķ",l:"ŀ",L:"Ŀ",m:"ḿ",M:"Ḿ",n:"ƞ",N:"Ƞ",o:"ǿ",O:"Ǿ",p:"ƥ",P:"Ƥ",q:"ɋ",Q:"Ɋ",r:"ř",R:"Ř",s:"ş",S:"Ş",t:"ŧ",T:"Ŧ",v:"ṽ",V:"Ṽ",u:"ŭ",U:"Ŭ",w:"ẇ",W:"Ẇ",x:"ẋ",X:"Ẋ",y:"ẏ",Y:"Ẏ",z:"ẑ",Z:"Ẑ"},ct=function(){function pe(){_(this,pe)}return y(pe,[{key:"handle",value:function($e,ae){return $e.split(/__txnative__/).map(function(Ye){for(var pt="",ut=0;ut<Ye.length;ut+=1){var at=Ye.charAt(ut);if(je[at]){var lt=at.toLowerCase();pt+=lt==="a"||lt==="e"||lt==="o"||lt==="u"?je[at]+je[at]:je[at]}else pt+=at}return pt}).join("__txnative__")}}]),pe}(),We=j,qe=D,Ve=function(){function pe(){_(this,pe)}return y(pe,[{key:"handle",value:function($e,ae,Ye,pt){throw $e||new Error('Error translating "'.concat(ae,'"'))}}]),pe}(),kt=q,ht=function(pe){var $e=new et;return $e.t=$e.translate.bind($e),pe&&$e.init(pe),$e},Rt=new et,Ge=Rt.translate.bind(Rt)})(),o})())})(Z3);const Kl=[];function Fr(l,e=ie){let n;const t=new Set;function i(s){if($t(l,s)&&(l=s,n)){const a=!Kl.length;for(const f of t)f[1](),Kl.push(f,l);if(a){for(let f=0;f<Kl.length;f+=2)Kl[f][0](Kl[f+1]);Kl.length=0}}}function o(s){i(s(l))}function r(s,a=ie){const f=[s,a];return t.add(f),t.size===1&&(n=e(i)||ie),s(l),()=>{t.delete(f),t.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:r}}/*! gettext.js - Guillaume Potier - MIT Licensed */var Q3=function(l){l=l||{},this&&(this.__version="1.1.1");var e={domain:"messages",locale:(typeof document<"u"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(k){return{nplurals:2,plural:k!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},n={isObject:function(k){var T=typeof k;return T==="function"||T==="object"&&!!k},isArray:function(k){return toString.call(k)==="[object Array]"}},t={},i=l.locale||e.locale,o=l.domain||e.domain,r={},s={},a=l.ctxt_delimiter||e.ctxt_delimiter;l.messages&&(r[o]={},r[o][i]=l.messages),l.plural_forms&&(s[i]=l.plural_forms);var f=function(k){var T=arguments;return k.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(R,C){return T[C]}).replace(/%% /g,"%")},u=function(k){if(k.indexOf(a)!==-1){var T=k.split(a);return T[1]}return k},c=function(k){for(var T=[k],R=k.lastIndexOf("-");R>0;)k=k.slice(0,R),T.push(k),R=k.lastIndexOf("-");return T},_=function(k){k=k.replace("_","-");var T=k.search(/[.@]/);return T!=-1&&(k=k.slice(0,T)),k},g=function(k){var T=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!T.test(k))throw new Error(f('The plural form "%1" is not valid',k));return new Function("n","var plural, nplurals; "+k+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},y=function(k,T,R){if(!R.plural_form)return f.apply(this,[u(k[0])].concat(Array.prototype.slice.call(arguments,3)));var C;return R.plural_func?C=R.plural_func(T):(t[i]||(t[i]=g(s[i])),C=t[i](T)),(typeof C.plural>"u"||C.plural>C.nplurals||k.length<=C.plural)&&(C.plural=0),f.apply(this,[u(k[C.plural])].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:f,expand_locale:c,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(k,T,R,C){if(!k||!T||!R)throw new Error("You must provide a domain, a locale and messages");if(typeof k!="string"||typeof T!="string"||!n.isObject(R))throw new Error("Invalid arguments");return T=_(T),C&&(s[T]=C),r[k]||(r[k]={}),r[k][T]=R,this},loadJSON:function(k,T){if(n.isObject(k)||(k=JSON.parse(k)),!k[""]||!k[""].language||!k[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var R=k[""];return delete k[""],this.setMessages(T||e.domain,R.language,k,R["plural-forms"])},setLocale:function(k){return i=_(k),this},getLocale:function(){return i},textdomain:function(k){return k?(o=k,this):o},gettext:function(k){return this.dcnpgettext.apply(this,[void 0,void 0,k,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(k,T,R){return this.dcnpgettext.apply(this,[void 0,void 0,k,T,R].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(k,T){return this.dcnpgettext.apply(this,[void 0,k,T,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(k,T,R,C,B){if(k=k||o,typeof R!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',R));var D,j={plural_form:!1},L=T?T+a+R:R,P,U,q=c(i);for(var G in q)if(U=q[G],P=r[k]&&r[k][U]&&r[k][U][L],C?P=P&&typeof r[k][U][L]!="string":P=P&&typeof r[k][U][L]=="string",P)break;return P?D=r[k][U][L]:(D=R,j.plural_func=e.plural_func),C?(j.plural_form=!0,y.apply(this,[P?D:[R,C],B,j].concat(Array.prototype.slice.call(arguments,5)))):y.apply(this,[[D],B,j].concat(Array.prototype.slice.call(arguments,5)))}}};const x3=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["city_building","overmap_special"]]),Ai=l=>x3.get(l)??l;let kn=Q3();const kf=["AMMO","ARMOR","BATTERY","BIONIC_ITEM","BOOK","COMESTIBLE","CONTAINER","ENGINE","GENERIC","GUN","GUNMOD","MAGAZINE","PET_ARMOR","TOOL","TOOLMOD","TOOL_ARMOR","WHEEL","MONSTER","vehicle_part","json_flag"];function eT(l){return typeof l=="string"?l:"str_sp"in l?l.str_sp:l.str}function tT(l){return typeof l=="string"?l+"s":"str_sp"in l?l.str_sp:"str_pl"in l&&l.str_pl?l.str_pl:l.str+"s"}function ho(l,e,n){const t=eT(l),i=e?tT(l):"";return kn.ngettext(t,i,n)||(n===1?t:i??t)}const Qt=l=>ho(l,!1,1),wf=(l,e=2)=>ho(l,!0,e),it=l=>ws(l,1),ws=(l,e=2)=>{const n=l==null?void 0:l.name;if(n==null)return(l==null?void 0:l.id)??(l==null?void 0:l.abstract);const t=Array.isArray(n)?ho(n[0],kf.includes(l.type),e):ho(n,kf.includes(l.type),e);return t.length===0?(l==null?void 0:l.id)??(l==null?void 0:l.abstract):t},Sn=(l,e)=>it(l).localeCompare(it(e));function fr(l){const e=(l*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function Or(l){if(typeof l>"u")return 0;if(typeof l=="number")return l*250;if(l.endsWith("ml"))return parseInt(l);if(l.endsWith("L"))return parseInt(l)*1e3;throw new Error("unknown volume unit: "+l)}function go(l){if(typeof l>"u")return 0;if(typeof l=="number")return l;if(l.endsWith("mg"))return parseInt(l)/1e3;if(l.endsWith("kg"))return parseInt(l)*1e3;if(l.endsWith("g"))return parseInt(l);throw new Error("unknown mass unit: "+l)}function ar(l){if(typeof l=="number")return l/100;const e=1,n=1,t=60,i=t*60,o=i*24,r=[["turns",1*e],["turn",1*e],["t",1*e],["seconds",1*n],["second",1*n],["s",1*n],["minutes",1*t],["minute",1*t],["m",1*t],["hours",1*i],["hour",1*i],["h",1*i],["days",1*o],["day",1*o],["d",1*o]],[s,a]=l.trim().split(/\s+/),f=r.find(u=>u[0]===a);if(!f)throw new Error(`bad duration: ${JSON.stringify(l)}`);return Number(s)*f[1]}function Ef(l){const e=ar(l);return`${Math.round(e/60)} m`}function Sf(l){let e=ar(l),n=e/60|0;e-=n*60;let t=n/60|0;n-=t*60;let i=t/24|0;return t-=i*24,[[i,"d"],[t,"h"],[n,"m"],[e,"s"]].filter(([o])=>o).map(o=>o.join("")).join(" ")}function wl(l){return`${(Or(l)/1e3).toFixed(2)} L`}function ur(l){return`${(go(l)/1e3).toFixed(2)} kg`}var Ro,No,Ao,Bo,Mo,Do,Lo,Fo,Po,jo;class nT{constructor(e,n,t){ii(this,"_raw");ii(this,"_byType",new Map);ii(this,"_byTypeById",new Map);ii(this,"_abstractsByType",new Map);ii(this,"_toolReplacements",null);ii(this,"_craftingPseudoItems",new Map);ii(this,"_migrations",new Map);ii(this,"_flattenCache",new Map);ii(this,"_nestedMapgensById",new Map);ii(this,"release");ii(this,"build_number");ii(this,"_cachedDeathDrops",new Map);ii(this,"_cachedUncraftRecipes",null);ii(this,"_cachedMapgenSpawnItems",new Map);ii(this,"_convertedTopLevelItemGroups",new Map);ii(this,"_flattenItemGroupCache",new WeakMap);ii(this,"_flatRequirementCache",new WeakMap);ii(this,"_flatRequirementCacheExpandSubs",new WeakMap);ii(this,"_flatRequirementCacheOnlyRecoverable",new WeakMap);ii(this,"_normalizeRequirementsCache",new Map);ii(this,"_itemComponentCache",null);Di(this,Ro,new tl(this,"item",e=>{const n=[];for(const t of e.pocket_data??[])(t.pocket_type==="MAGAZINE"||t.pocket_type==="MAGAZINE_WELL")&&(n.push(...t.item_restriction??[]),n.push(...t.allowed_speedloaders??[]));return n}));Di(this,No,new tl(this,"item",e=>{const n=[];for(const t of e.pocket_data??[])(t.pocket_type==="MAGAZINE"||t.pocket_type==="MAGAZINE_WELL")&&n.push(...t.flag_restriction??[]);return n}));Di(this,Ao,new tl(this,"item",e=>{if(!e.id||!e.seed_data)return[];const n=[];return e.seed_data.fruit&&n.push(e.seed_data.fruit),e.seed_data.byproducts&&n.push(...e.seed_data.byproducts),n}));Di(this,Bo,new tl(this,"item",e=>{var n;return e.id?((n=e.brewable)==null?void 0:n.results)??[]:[]}));Di(this,Mo,new tl(this,"item",e=>Pr(e.use_action).flatMap(n=>"target"in n?[n.target]:[])));Di(this,Do,new tl(this,"furniture",e=>{var n;return(n=e.bash)!=null&&n.items?this.flattenItemGroup({subtype:"collection",entries:typeof e.bash.items=="string"?[{group:e.bash.items}]:e.bash.items}).map(t=>t.id):[]}));Di(this,Lo,new tl(this,"terrain",e=>{var n;return(n=e.bash)!=null&&n.items?this.flattenItemGroup({subtype:"collection",entries:typeof e.bash.items=="string"?[{group:e.bash.items}]:e.bash.items}).map(t=>t.id):[]}));Di(this,Fo,new tl(this,"vehicle_part",e=>{if(!e.id)return[];const n=typeof e.breaks_into=="string"?this.convertTopLevelItemGroup(this.byId("item_group",e.breaks_into)):Array.isArray(e.breaks_into)?{subtype:"collection",entries:e.breaks_into}:e.breaks_into?e.breaks_into:null,t=n&&this.flattenItemGroup(n);return(t==null?void 0:t.map(i=>i.id))??[]}));Di(this,Po,new tl(this,"furniture",e=>{var t;return((t=e.deconstruct)!=null&&t.items?this.flattenItemGroup({subtype:"collection",entries:typeof e.deconstruct.items=="string"?[{group:e.deconstruct.items}]:e.deconstruct.items}):[]).map(i=>i.id)}));Di(this,jo,new tl(this,"terrain",e=>{var t;return((t=e.deconstruct)!=null&&t.items?this.flattenItemGroup({subtype:"collection",entries:typeof e.deconstruct.items=="string"?[{group:e.deconstruct.items}]:e.deconstruct.items}):[]).map(i=>i.id)}));this.release=t,this.build_number=n,this._raw=e.filter(i=>typeof i=="object");for(const i of e){if(!Object.hasOwnProperty.call(i,"type"))continue;if(i.type==="MIGRATION"){for(const r of typeof i.id=="string"?[i.id]:i.id){const{replace:s}=i;this._migrations.set(r,s)}continue}const o=Ai(i.type);if(this._byType.has(o)||this._byType.set(o,[]),this._byType.get(o).push(i),Object.hasOwnProperty.call(i,"id")){if(this._byTypeById.has(o)||this._byTypeById.set(o,new Map),typeof i.id=="string")this._byTypeById.get(o).set(i.id,i);else if(Array.isArray(i.id))for(const r of i.id)this._byTypeById.get(o).set(r,i)}if((o==="recipe"||o==="uncraft")&&Object.hasOwnProperty.call(i,"result")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=i.result+(i.id_suffix?"_"+i.id_suffix:"");this._byTypeById.get(o).set(r,i)}if(o==="monstergroup"&&Object.hasOwnProperty.call(i,"name")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=i.name;this._byTypeById.get(o).set(r,i)}Object.hasOwnProperty.call(i,"abstract")&&(this._abstractsByType.has(o)||this._abstractsByType.set(o,new Map),this._abstractsByType.get(o).set(i.abstract,i)),Object.hasOwnProperty.call(i,"crafting_pseudo_item")&&this._craftingPseudoItems.set(i.crafting_pseudo_item,i.id),Object.hasOwnProperty.call(i,"nested_mapgen_id")&&(this._nestedMapgensById.has(i.nested_mapgen_id)||this._nestedMapgensById.set(i.nested_mapgen_id,[]),this._nestedMapgensById.get(i.nested_mapgen_id).push(i))}}byIdMaybe(e,n){if(typeof n!="string")throw new Error("Requested non-string id");const t=this._byTypeById.get(e);if(e==="item"&&!(t!=null&&t.has(n))&&this._migrations.has(n))return this.byIdMaybe(e,this._migrations.get(n));const i=t==null?void 0:t.get(n);if(i)return this._flatten(i)}byId(e,n){const t=this.byIdMaybe(e,n);if(!t)throw new Error('unknown object "'+n+'" of type "'+e+'"');return t}byType(e){var n;return((n=this._byType.get(e))==null?void 0:n.map(t=>this._flatten(t)))??[]}abstractById(e,n){var i;if(typeof n!="string")throw new Error("Requested non-string id");const t=(i=this._abstractsByType.get(e))==null?void 0:i.get(n);if(t)return this._flatten(t)}replacementTools(e){if(!this._toolReplacements){this._toolReplacements=new Map;for(const n of this.byType("item"))n.type==="TOOL"&&Object.hasOwnProperty.call(n,"sub")&&n.sub&&(this._toolReplacements.has(n.sub)||this._toolReplacements.set(n.sub,[]),this._toolReplacements.get(n.sub).push(n.id))}return this._toolReplacements.get(e)??[]}craftingPseudoItem(e){return this._craftingPseudoItems.get(e)}nestedMapgensById(e){return this._nestedMapgensById.get(e)}all(){return this._raw}_flatten(e){var s,a;const n=e;if(this._flattenCache.has(n))return this._flattenCache.get(n);const t="copy-from"in n?((s=this._byTypeById.get(Ai(n.type)))==null?void 0:s.get(n["copy-from"]))??((a=this._abstractsByType.get(Ai(n.type)))==null?void 0:a.get(n["copy-from"])):null;if("copy-from"in n&&!t&&console.error(`Missing parent in ${n.id??n.abstract??n.result??JSON.stringify(n)}`),t===n)return console.warn("Object copied from itself:",n),this._flattenCache.set(n,n),n;if(!t)return this._flattenCache.set(n,n),n;const{abstract:i,...o}=this._flatten(t),r={...o,...n};o.vitamins&&n.vitamins&&(r.vitamins=[...o.vitamins.filter(f=>!n.vitamins.some(u=>u[0]===f[0])),...n.vitamins]);for(const f of Object.keys(r.relative??{}))if(typeof r.relative[f]=="number")if(f==="melee_damage"){const u=nr(JSON.parse(JSON.stringify(r.melee_damage)));for(const c of u)c.amount=(c.amount??0)+r.relative[f];r.melee_damage=u}else r[f]=(r[f]??0)+r.relative[f];else if((f==="damage"||f==="ranged_damage")&&r[f]){r[f]=JSON.parse(JSON.stringify(r[f]));const u=nr(r.relative[f]);for(const c of u){const _=Array.isArray(r[f])?r[f].find(g=>g.damage_type===c.damage_type):r[f].damage_type===c.damage_type?r[f]:null;_&&(_.amount=(_.amount??0)+(c.amount??0),_.armor_penetration=(_.armor_penetration??0)+(c.armor_penetration??0),_.armor_multiplier=(_.armor_multiplier??0)+(c.armor_multiplier??0),_.damage_multiplier=(_.damage_multiplier??0)+(c.damage_multiplier??0),_.constant_armor_multiplier=(_.constant_armor_multiplier??0)+(c.constant_armor_multiplier??0),_.constant_damage_multiplier=(_.constant_damage_multiplier??0)+(c.constant_damage_multiplier??0))}}delete r.relative;for(const f of Object.keys(r.proportional??{}))if(typeof r.proportional[f]=="number")if(f==="attack_cost"&&!(f in r)&&(r[f]=100),typeof r[f]=="string"){const u=/^\s*(\d+)\s*(.+)$/.exec(r[f]);if(u){const[,c,_]=u;r[f]=`${Number(c)*r.proportional[f]} ${_}`}}else r[f]*=r.proportional[f],r[f]=r[f]|0;else if(f==="damage"&&r[f]){r.damage=JSON.parse(JSON.stringify(r.damage));const u=nr(r.proportional.damage);for(const c of u){const _=Array.isArray(r.damage)?r.damage.find(g=>g.damage_type===c.damage_type):r.damage.damage_type===c.damage_type?r.damage:null;_&&(_.amount=(_.amount??0)*(c.amount??1),_.armor_penetration=(_.armor_penetration??0)*(c.armor_penetration??1),_.armor_multiplier=(_.armor_multiplier??0)*(c.armor_multiplier??1),_.damage_multiplier=(_.damage_multiplier??0)*(c.damage_multiplier??1),_.constant_armor_multiplier=(_.constant_armor_multiplier??0)*(c.constant_armor_multiplier??1),_.constant_damage_multiplier=(_.constant_damage_multiplier??0)*(c.constant_damage_multiplier??1))}}delete r.proportional;for(const f of Object.keys(r.extend??{}))Array.isArray(r.extend[f])&&(r[f]=(r[f]??[]).concat(r.extend[f]));delete r.extend;for(const f of Object.keys(r.delete??{}))if(Array.isArray(r.delete[f])){const u=(c,_)=>c===_||Array.isArray(c)&&Array.isArray(_)&&c.length===_.length&&c.every((g,y)=>u(g,_[y]));r[f]=(r[f]??[]).filter(c=>!r.delete[f].some(_=>u(_,c)))}return delete r.delete,this._flattenCache.set(n,r),r}flatDeathDrops(e){if(this._cachedDeathDrops.has(e))return this._cachedDeathDrops.get(e);const n=this.byId("monster",e),t=n.death_drops?this.flattenItemGroup(this.normalizeItemGroup(n.death_drops,"distribution")??{subtype:"collection",entries:[]}):[];return t.sort((i,o)=>o.prob-i.prob),this._cachedDeathDrops.set(e,t),t}uncraftRecipe(e){if(!this._cachedUncraftRecipes){this._cachedUncraftRecipes=new Map;for(const n of this.byType("recipe"))n.result&&n.reversible&&this._cachedUncraftRecipes.set(n.result,n);for(const n of this.byType("uncraft"))n.result&&this._cachedUncraftRecipes.set(n.result,n)}return this._cachedUncraftRecipes.get(e)}mapgenSpawnItems(e){if(this._cachedMapgenSpawnItems.has(e))return this._cachedMapgenSpawnItems.get(e);const n=new Map,t=(f,u)=>{typeof u=="string"&&(n.has(f)||n.set(f,new Set),n.get(f).add(u))},i=(f,u)=>{const c=typeof u=="string"?this.convertTopLevelItemGroup(this.byId("item_group",u)):Array.isArray(u)?{subtype:"collection",entries:u}:u;if(c)for(const{id:_}of this.flattenItemGroup(c))t(f,_);else typeof u=="string"&&this.byId("item",u)&&t(f,u)},o=f=>{var u,c;for(const[_,g]of Object.entries(f.item??{})){const y=Array.isArray(g)?g:[g];for(const k of y)t(_,k.item)}for(const[_,g]of Object.entries(f.items??{})){const y=Array.isArray(g)?g:[g];for(const k of y)i(_,k.item)}for(const[_,g]of Object.entries(f.sealed_item??{})){const y=Array.isArray(g)?g:[g];for(const k of y)(u=k.item)!=null&&u.item&&t(_,k.item.item),(c=k.items)!=null&&c.item&&i(_,k.items.item)}};o(e.object);for(const f of e.object.palettes??[])typeof f=="string"&&o(this.byId("palette",f));const r=new Set,s=new Set;for(const f of e.object.rows??[])for(const u of f)s.add(u);for(const f of s){const u=n.get(f)??new Set;for(const c of u)r.add(c)}for(const f of e.object.place_item??[])typeof f.item=="string"&&r.add(f.item);for(const f of e.object.place_items??[]){const u=typeof f.item=="string"?this.convertTopLevelItemGroup(this.byId("item_group",f.item)):Array.isArray(f.item)?{subtype:"collection",entries:f.item}:f.item;if(u)for(const{id:c}of this.flattenItemGroup(u))r.add(c);else typeof f=="string"&&this.byId("item",f)&&r.add(f)}for(const f of e.object.place_loot??[])if(f.item&&r.add(f.item),f.group)for(const{id:u}of this.flattenTopLevelItemGroup(this.byId("item_group",f.group)))r.add(u);for(const f of e.object.add??[])typeof f.item=="string"&&r.add(f.item);const a=[...r];return this._cachedMapgenSpawnItems.set(e,a),a}convertTopLevelItemGroup(e){if(e.subtype==="distribution"||e.subtype==="collection")return e;if(!("subtype"in e)||!e.subtype||e.subtype==="old"){if(this._convertedTopLevelItemGroups.has(e))return this._convertedTopLevelItemGroups.get(e);const n=[];for(const i of e.items??[])Array.isArray(i)?n.push({item:i[0],prob:i[1]}):n.push(i);const t={subtype:"distribution",entries:n};return this._convertedTopLevelItemGroups.set(e,t),t}else throw new Error("unknown item group subtype: "+e.subtype)}flattenTopLevelItemGroup(e){return this.flattenItemGroup(this.convertTopLevelItemGroup(e))}flattenItemGroup(e){if(this._flattenItemGroupCache.has(e))return this._flattenItemGroupCache.get(e);const n=new Map;function t({id:f,prob:u,count:c}){const{prob:_,count:g}=n.get(f)??{prob:0,count:[0,0]},y=1-(1-_)*(1-u),k=[c[0]+g[0],c[1]+g[1]];n.set(f,{prob:y,count:k})}function i(...f){f.forEach(t)}"container-item"in e&&e["container-item"]&&i({id:e["container-item"],prob:1,count:[1,1]});let o=[];for(const f of"entries"in e&&e.entries?e.entries:[])Array.isArray(f)?o.push({item:f[0],prob:f[1]}):o.push(f);for(const f of e.items??[])Array.isArray(f)?o.push({item:f[0],prob:f[1]}):typeof f=="string"?o.push({item:f,prob:100}):o.push(f);for(const f of"groups"in e&&e.groups?e.groups:[])Array.isArray(f)?o.push({group:f[0],prob:f[1]}):typeof f=="string"?o.push({group:f,prob:100}):o.push(f);o=o.filter(f=>!("event"in f)||!f.event);function r(f,u,c){return{id:f.id,prob:f.prob*u,count:[f.count[0]*c[0],f.count[1]*c[1]]}}function s(f){return f.count?typeof f.count=="number"?[f.count,f.count]:f.count:f.charges?typeof f.charges=="number"?[f.charges,f.charges]:f.charges:[1,1]}if(e.subtype==="collection")for(const f of o){const{prob:u=100}=f,c=Math.min(u,100)/100,_=s(f);if(f["container-item"]&&i({id:f["container-item"],prob:c,count:[1,1]}),"item"in f){i({id:f.item,prob:c,count:_});const g=this.byIdMaybe("item",f.item);g&&g.container&&i({id:g.container,prob:c,count:_})}else if("group"in f)i(...this.flattenTopLevelItemGroup(this.byId("item_group",f.group)).map(g=>r(g,c,_)));else if("collection"in f)i(...this.flattenItemGroup({subtype:"collection",entries:f.collection}).map(g=>r(g,c,_)));else if("distribution"in f)i(...this.flattenItemGroup({subtype:"distribution",entries:f.distribution}).map(g=>r(g,c,_)));else throw new Error(`unknown item group entry: ${JSON.stringify(f)}`)}else{let f=0;for(const u of o)f+=u.prob??100;for(const u of o){const c=(u.prob??100)/f,_=s(u);if(u["container-item"]&&i({id:u["container-item"],prob:c,count:[1,1]}),"item"in u)i({id:u.item,prob:c,count:_});else if("group"in u)i(...this.flattenTopLevelItemGroup(this.byId("item_group",u.group)).map(g=>r(g,c,_)));else if("collection"in u)i(...this.flattenItemGroup({subtype:"collection",entries:u.collection}).map(g=>r(g,c,_)));else if("distribution"in u)i(...this.flattenItemGroup({subtype:"distribution",entries:u.distribution}).map(g=>r(g,c,_)));else throw new Error(`unknown item group entry: ${JSON.stringify(u)}`)}}const a=[...n.entries()].map(([f,u])=>({id:f,...u}));return this._flattenItemGroupCache.set(e,a),a}_flatRequirementCacheForOpts(e){if(e!=null&&e.expandSubstitutes&&(e!=null&&e.onlyRecoverable))throw new Error("didn't expect to see expandSubstitutes && onlyRecoverable");return e!=null&&e.expandSubstitutes?this._flatRequirementCacheExpandSubs:e!=null&&e.onlyRecoverable?this._flatRequirementCacheOnlyRecoverable:this._flatRequirementCache}flattenRequirement(e,n,t){const i=this._flatRequirementCacheForOpts(t);if(i.has(e))return i.get(e);const{expandSubstitutes:o=!1,onlyRecoverable:r=!1}=t??{},s=o?f=>f.flatMap(u=>iT(this,u)):f=>f,a=Tf(e).map(f=>s(F0(this,f,u=>Tf(n(u)??[]),r))).map(f=>r?f.filter(u=>!(this.byId("item",u.id).flags??[]).includes("UNRECOVERABLE")):f).filter(f=>f.length);return i.set(e,a),a}normalizeRequirementsForDisassembly(e){if(this._normalizeRequirementsCache.has(e))return this._normalizeRequirementsCache.get(e);const{tools:n,qualities:t,components:i}=this.normalizeRequirements(e,{onlyRecoverable:!0});let o=!1;const r=[];for(const _ of n)for(const[g,y]of _){if(["welder","welder_crude","oxy_torch","forge","char_forge"].includes(g)){_.length=0,r.push([{id:"SAW_M_FINE",level:1}]);break}if(["sewing_kit","mold_plastic"].includes(g)){_.length=0,r.push([{id:"CUT",level:1}]);break}if(g==="crucible"){_.length=0;break}if(g==="press"){_.length=0,o=!0,r.push([{id:"PULL",level:1}]);break}if(g==="fire"&&o){_.length=0;break}}const s=n.filter(_=>_.length);for(const _ of t)for(const g of _){if(g.id==="SEW"){r.push([{id:"CUT",level:g.level}]),_.length=0;break}if(g.id==="GLARE"||g.id==="KNIT"){_.length=0;break}}const a=t.filter(_=>_.length),f=a.concat(r.filter(_=>!a.some(g=>g[0].id===_[0].id))),u=i.map(_=>_.filter(g=>{var y,k;return!((k=(y=this.byId("item",g[0]))==null?void 0:y.flags)!=null&&k.includes("UNRECOVERABLE"))})).filter(_=>_.length),c={tools:s,qualities:f,components:u};return this._normalizeRequirementsCache.set(e,c),c}normalizeRequirementUsing(e,n){const t=e.flatMap(([r,s])=>this.flattenRequirement(r.tools??[],a=>a.tools,{expandSubstitutes:!0}).map(a=>a.map(f=>[f.id,f.count*s]))),i=e.flatMap(([r,s])=>(r.qualities??[]).map(a=>Array.isArray(a)?a:[a])),o=e.flatMap(([r,s])=>this.flattenRequirement(r.components??[],a=>a.components,n).map(a=>a.map(f=>[f.id,f.count*s])));return{tools:t,qualities:i,components:o}}normalizeRequirements(e,n){const i=((typeof e.using=="string"?[[e.using,1]]:e.using)??[]).map(([o,r])=>[this.byId("requirement",o),r]).concat([[e,1]]).filter(o=>o[0]);return this.normalizeRequirementUsing(i,n)}getItemComponents(){if(this._itemComponentCache)return this._itemComponentCache;const e=new Map,n=new Map;return this.byType("recipe").forEach(t=>{if(!t.result||!this.byIdMaybe("item",t.result))return!1;const o=((typeof t.using=="string"?[[t.using,1]]:t.using)??[]).map(([a,f])=>[this.byId("requirement",a),f]).concat([[t,1]]),r=o.flatMap(([a])=>this.flattenRequirement(a.tools??[],f=>f.tools));for(const a of r)for(const f of a)e.has(f.id)||e.set(f.id,new Set),e.get(f.id).add(t.result);const s=o.flatMap(([a])=>this.flattenRequirement(a.components??[],f=>f.components??[]));for(const a of s)for(const f of a)n.has(f.id)||n.set(f.id,new Set),n.get(f.id).add(t.result)}),this._itemComponentCache={byTool:e,byComponent:n},this._itemComponentCache}normalizeItemGroup(e,n){return e?typeof e=="string"?this.convertTopLevelItemGroup(this.byId("item_group",e)):Array.isArray(e)?{subtype:n,entries:e}:{subtype:n,...e}:{subtype:n,entries:[]}}itemForBionic(e){return this.byType("item").find(n=>"bionic_id"in n&&n.id&&n.bionic_id===e.id)??this.byIdMaybe("item",e.id)}compatibleItems(e){const n=bi(this,Ro).lookup(e.id),t=e.flags?e.flags.flatMap(i=>bi(this,No).lookup(i)):[];return[...new Set([...n,...t])]}grownFrom(e){return bi(this,Ao).lookup(e)}brewedFrom(e){return bi(this,Bo).lookup(e)}transformedFrom(e){return bi(this,Mo).lookup(e)}bashFromFurniture(e){return bi(this,Do).lookup(e).sort(Sn)}bashFromTerrain(e){return bi(this,Lo).lookup(e).sort(Sn)}bashFromVehiclePart(e){return bi(this,Fo).lookup(e)}deconstructFrom(e){return[...bi(this,Po).lookup(e).sort(Sn),...bi(this,jo).lookup(e).sort(Sn)]}}Ro=new WeakMap,No=new WeakMap,Ao=new WeakMap,Bo=new WeakMap,Mo=new WeakMap,Do=new WeakMap,Lo=new WeakMap,Fo=new WeakMap,Po=new WeakMap,jo=new WeakMap;var sr,Ul,Tr;class tl{constructor(e,n,t){Di(this,Ul);Di(this,sr,null);this.data=e,this.objType=n,this.fn=t}lookup(e){return bi(this,Ul,Tr).get(e)??[]}}sr=new WeakMap,Ul=new WeakSet,Tr=function(){if(!bi(this,sr)){gf(this,sr,new Map);for(const e of this.data.byType(this.objType))for(const n of this.fn(e))bi(this,Ul,Tr).has(n)||bi(this,Ul,Tr).set(n,[]),bi(this,Ul,Tr).get(n).push(e)}return bi(this,sr)};function F0(l,e,n,t=!1){const i=[];for(const o of e)if(Array.isArray(o)){const[r,s,...a]=o,f=a.includes("LIST");if(a.includes("NO_RECOVER")&&t)continue;if(f){const c=l.byId("requirement",r);c.type!=="requirement"&&console.error(`Expected a requirement, got ${c.type} (id=${c.id})`);const _=n(c)??[];if(_.length){const g=_[0];i.push(...F0(l,g,n,t).map(y=>({...y,count:y.count*s})))}}else i.push({id:r,count:s})}else if(typeof o=="string")i.push({id:o,count:1});else throw new Error("unexpected choice type");return i}function iT(l,e){const n=l.replacementTools(e.id);return[e,...n.map(t=>({id:t,count:e.count}))]}function Tf(l){return(l==null?void 0:l.map(e=>Array.isArray(e)?e:[e]))??[]}const Zl=l=>l.type==="AMMO"||l.type==="COMESTIBLE"||l.stackable;function nr(l){return Array.isArray(l)?l:"values"in l?l.values:[l]}const lT=["cover_left","cover_right","hatch_wheel_left","hatch_wheel_right","wheel_left","wheel_right","cross_unconnected","cross","horizontal_front_edge","horizontal_front","horizontal_rear_edge","horizontal_rear","horizontal_2_front","horizontal_2_rear","ne_edge","nw_edge","se_edge","sw_edge","vertical_right","vertical_left","vertical_2_right","vertical_2_left","vertical_T_right","vertical_T_left","front_right","front_left","rear_right","rear_left","cover","vertical","horizontal","vertical_2","horizontal_2","ne","nw","se","sw","front","rear","left","right"],P0=(l,e)=>{if(l.byIdMaybe("vehicle_part",e))return[e,""];for(const n of lT)if(e.endsWith("_"+n))return[e.slice(0,e.length-n.length-1),n];return[e,""]},ts=new Map;function j0(l){if(ts.has(l))return ts.get(l);const e={subtype:"collection",entries:(l.items??[]).map(n=>n.items?{collection:(typeof n.items=="string"?[n.items]:n.items).map(t=>({item:t})),prob:n.chance}:n.item_groups?{collection:(typeof n.item_groups=="string"?[n.item_groups]:n.item_groups).map(t=>({group:t})),prob:n.chance}:{distribution:[]})};return ts.set(l,e),e}function Pr(l){return typeof l=="string"?[{type:"__item_action__",id:l}]:Array.isArray(l)?l.map(e=>typeof e=="string"?{type:"__item_action__",id:e}:Array.isArray(e)?{type:"__item_action__",id:e[0]}:e):l?[l]:[]}const U0=(l,e)=>new Promise((n,t)=>{const i=new XMLHttpRequest;i.onload=o=>{i.response?n(i.response):t(`Unknown error fetching JSON from ${l}`)},i.onprogress=o=>{o.lengthComputable&&e(o.loaded,o.total)},i.onerror=()=>{t(`Error ${i.status} (${i.statusText}) fetching ${l}`)},i.onabort=()=>{t(`Aborted while fetching ${l}`)},i.open("GET",l),i.responseType="json",i.send()}),rT=async(l,e)=>U0(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${l}/all.json`,e),oT=async(l,e,n)=>U0(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${l}/lang/${e}.json`,n);async function Cf(l){for(;;)try{return await l()}catch(e){console.error(e),await new Promise(n=>setTimeout(n,2e3))}}const G0=Fr(null),q0={subscribe:G0.subscribe};let If=!1;const{subscribe:sT,set:fT}=Fr(null),ns={subscribe:sT,async setVersion(l,e){if(If)throw new Error("can only set version once");If=!0;let n=[0,0],t=[0,0];const i=()=>{const a=n[0]+n[1],f=t[0]+t[1];G0.set([f,a])},[o,r]=await Promise.all([Cf(()=>rT(l,(a,f)=>{n[0]=f,t[0]=a,i()})),e&&Cf(()=>oT(l,e,(a,f)=>{n[1]=f,t[1]=a,i()}))]);e&&r&&(kn.loadJSON(r),kn.setLocale(e));const s=new nT(o.data,o.build_number,o.release);fT(s)}};function aT(l){let e,n=(l[0].points??0)+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p(o,r){r&1&&n!==(n=(o[0].points??0)+"")&&K(t,n)},d(o){o&&p(e),o&&p(t),o&&p(i)}}}function uT(l){let e,n;const t=l[3].default,i=Xi(t,l,l[2],null),o=i||aT(l);return{c(){e=m("span"),o&&o.c(),_e(e,"style",`color: var(--cata-color-${l[1]})`)},m(r,s){h(r,e,s),o&&o.m(e,null),n=!0},p(r,[s]){i?i.p&&(!n||s&4)&&Ki(i,t,r,r[2],n?Ji(t,r[2],s,null):Zi(r[2]),null):o&&o.p&&(!n||s&1)&&o.p(r,n?s:-1)},i(r){n||(b(o,r),n=!0)},o(r){$(o,r),n=!1},d(r){r&&p(e),o&&o.d(r)}}}function cT(l,e,n){let{$$slots:t={},$$scope:i}=e,{mutation:o}=e,r=o.threshold||o.profession?"white":o.mixed_effect?"light_magenta":o.points>0?"light_green":o.points<0?"light_red":"yellow";return l.$$set=s=>{"mutation"in s&&n(0,o=s.mutation),"$$scope"in s&&n(2,i=s.$$scope)},[o,r,i,t]}class Y0 extends Et{constructor(e){super(),wt(this,e,cT,uT,$t,{mutation:0})}}function _T(l){const e=l.slice(),n=e[5]&&e[4]&&"variants"in e[5]&&e[5].variants?e[5].variants.find(t=>t.id===e[4])??e[5]:e[5];return e[7]=n,e}function dT(l){var a;let e,n=(l[5]?(l[2]?ws:it)(l[7]):l[1])+"",t,i,o,r,s=((a=l[5])==null?void 0:a.type)==="mutation"&&Of(l);return{c(){e=m("a"),t=w(n),s&&s.c(),o=fe(),_e(e,"href",i="/cdda-guide/"+l[0]+"/"+l[1])},m(f,u){h(f,e,u),d(e,t),s&&s.m(f,u),h(f,o,u),r=!0},p(f,u){var c;(!r||u&54)&&n!==(n=(f[5]?(f[2]?ws:it)(f[7]):f[1])+"")&&K(t,n),(!r||u&3&&i!==(i="/cdda-guide/"+f[0]+"/"+f[1]))&&_e(e,"href",i),((c=f[5])==null?void 0:c.type)==="mutation"?s?(s.p(f,u),u&32&&b(s,1)):(s=Of(f),s.c(),b(s,1),s.m(o.parentNode,o)):s&&(re(),$(s,1,1,()=>{s=null}),oe())},i(f){r||(b(s),r=!0)},o(f){$(s),r=!1},d(f){f&&p(e),s&&s.d(f),f&&p(o)}}}function mT(l){let e,n=!Zl(l[5]),t,i,o=Zl(l[5]),r,s=n&&Rf(l);i=new ve({props:{type:l[0],id:l[1],plural:Af(l[3])&&!Zl(l[5])}});let a=o&&Nf(l);return{c(){e=m("span"),s&&s.c(),t=N(),W(i.$$.fragment),a&&a.c(),Bt(e,"white-space","nowrap")},m(f,u){h(f,e,u),s&&s.m(e,null),d(e,t),H(i,e,null),a&&a.m(e,null),r=!0},p(f,u){u&32&&(n=!Zl(f[5])),n?s?s.p(f,u):(s=Rf(f),s.c(),s.m(e,t)):s&&(s.d(1),s=null);const c={};u&1&&(c.type=f[0]),u&2&&(c.id=f[1]),u&40&&(c.plural=Af(f[3])&&!Zl(f[5])),i.$set(c),u&32&&(o=Zl(f[5])),o?a?a.p(f,u):(a=Nf(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){r||(b(i.$$.fragment,f),r=!0)},o(f){$(i.$$.fragment,f),r=!1},d(f){f&&p(e),s&&s.d(),z(i),a&&a.d()}}}function Of(l){let e,n,t;return n=new Y0({props:{mutation:l[5]}}),{c(){e=w(" "),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,i,o),t=!0},p(i,o){const r={};o&32&&(r.mutation=i[5]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n,i)}}}function Rf(l){let e=bo(l[3])+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&8&&e!==(e=bo(t[3])+"")&&K(n,e)},d(t){t&&p(n)}}}function Nf(l){let e=" ",n,t,i=bo(l[3])+"",o,r;return{c(){n=w(e),t=w("("),o=w(i),r=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,r,a)},p(s,a){a&8&&i!==(i=bo(s[3])+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r)}}}function pT(l){let e,n,t,i;const o=[mT,dT],r=[];function s(f,u){return f[3]!=null?0:1}function a(f,u){return u===1?_T(f):f}return e=s(l),n=r[e]=o[e](a(l,e)),{c(){n.c(),t=fe()},m(f,u){r[e].m(f,u),h(f,t,u),i=!0},p(f,[u]){let c=e;e=s(f),e===c?r[e].p(a(f,e),u):(re(),$(r[c],1,1,()=>{r[c]=null}),oe(),n=r[e],n?n.p(a(f,e),u):(n=r[e]=o[e](a(f,e)),n.c()),b(n,1),n.m(t.parentNode,t))},i(f){i||(b(n),i=!0)},o(f){$(n),i=!1},d(f){r[e].d(f),f&&p(t)}}}function bo(l){return typeof l=="number"?l.toString():l[0]===l[1]?l[0].toString():`${l[0]}–${l[1]}`}function Af(l){return typeof l=="number"?l!==1:l[0]===l[1]?l[0]!==1:!0}function hT(l,e,n){let{type:t}=e,{id:i}=e,{plural:o=!1}=e,{count:r=void 0}=e,{variantId:s=void 0}=e;const a=qt("data");let f=a.byIdMaybe(t,i);return(f==null?void 0:f.type)==="vehicle_part"&&!f.name&&f.item&&(f=a.byId("item",f.item)),l.$$set=u=>{"type"in u&&n(0,t=u.type),"id"in u&&n(1,i=u.id),"plural"in u&&n(2,o=u.plural),"count"in u&&n(3,r=u.count),"variantId"in u&&n(4,s=u.variantId)},[t,i,o,r,s,f]}class ve extends Et{constructor(e){super(),wt(this,e,hT,pT,$t,{type:0,id:1,plural:2,count:3,variantId:4})}}const gT=async l=>{const e=await fetch(`${l}/tile_config.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching tile data`);const n=await e.json();return await Promise.all(n["tiles-new"].map(async t=>{const i=await fetch(`${l}/${t.file}`).then(f=>f.blob()),o=URL.createObjectURL(i),r=new Image;r.src=o;try{await new Promise((f,u)=>{r.onload=f,r.onerror=u})}finally{URL.revokeObjectURL(o)}const s=r.width/(t.sprite_width??n.tile_info[0].width)|0,a=r.height/(t.sprite_height??n.tile_info[0].height)|0;t.nx=s,t.ny=a})),n},{subscribe:bT,set:Bf}=Fr(null),H0={subscribe:bT,setURL(l){l?gT(l).then(e=>{Bf({...e,baseUrl:l})},e=>{console.error("Error fetching tiles",e)}):Bf(null)}},Xn=0,Oi=1,vi=2,yi=3,ki=4,wi=5,Ei=6,_i=7,Es={},Ct=(l,e,n)=>{Es[l]=[e,n]};Ct(1,_i,Xn);Ct(2,Oi,Xn);Ct(3,vi,Xn);Ct(4,ki,Xn);Ct(5,Ei,Xn);Ct(6,wi,Xn);Ct(7,yi,Xn);Ct(8,Xn,_i);Ct(9,Xn,Oi);Ct(10,Xn,vi);Ct(11,Xn,ki);Ct(12,Xn,Ei);Ct(13,Xn,wi);Ct(14,Xn,yi);Ct(15,_i,ki);Ct(16,Oi,ki);Ct(17,vi,ki);Ct(18,ki,ki);Ct(19,Ei,ki);Ct(20,Xn,ki);Ct(21,wi,ki);Ct(22,yi,ki);Ct(23,_i,Oi);Ct(24,Oi,Oi);Ct(25,vi,Oi);Ct(26,ki,Oi);Ct(27,Ei,Oi);Ct(28,wi,Oi);Ct(29,yi,Oi);Ct(30,Xn,Xn);Ct(31,_i,Xn);Ct(32,Xn,_i);Ct(33,_i,_i);Ct(34,Oi,_i);Ct(35,vi,_i);Ct(36,yi,_i);Ct(37,ki,_i);Ct(38,wi,_i);Ct(39,Ei,_i);Ct(40,Xn,vi);Ct(41,_i,vi);Ct(42,Oi,vi);Ct(43,vi,vi);Ct(44,yi,vi);Ct(45,ki,vi);Ct(46,wi,vi);Ct(47,Ei,vi);Ct(48,Xn,yi);Ct(49,_i,yi);Ct(50,Oi,yi);Ct(51,vi,yi);Ct(52,yi,yi);Ct(53,ki,yi);Ct(54,wi,yi);Ct(55,Ei,yi);Ct(56,Xn,wi);Ct(57,_i,wi);Ct(58,Oi,wi);Ct(59,vi,wi);Ct(60,yi,wi);Ct(61,ki,wi);Ct(62,wi,wi);Ct(63,Ei,wi);Ct(64,Xn,Ei);Ct(65,_i,Ei);Ct(66,Oi,Ei);Ct(67,vi,Ei);Ct(68,yi,Ei);Ct(69,ki,Ei);Ct(70,wi,Ei);Ct(71,Ei,Ei);function Ae(l){return{fg:Es[l][0],bg:Es[l][1],bold(){return{...this,is_bold:!0}},blink(){return{...this,is_blink:!0}},is_bold:!1,is_blink:!1,color(){let e=this.fg,n=this.bg;return this.is_bold&&(e=e+8),this.is_blink&&(n=n+8),{fg:e,bg:n}}}}function Ss(l){return l?l[1]!="_"?Ss("c_"+l):z0[l]:Ss("c_white")}const z0={};function Be(l,e,n,t){z0[e]={...n.color(),inverse:t}}Be("def_c_black","c_black",Ae(30),"def_i_black");Be("def_c_white","c_white",Ae(1).bold(),"def_i_white");Be("def_c_light_gray","c_light_gray",Ae(1),"def_i_light_gray");Be("def_c_dark_gray","c_dark_gray",Ae(30).bold(),"def_i_dark_gray");Be("def_c_red","c_red",Ae(2),"def_i_red");Be("def_c_green","c_green",Ae(3),"def_i_green");Be("def_c_blue","c_blue",Ae(4),"def_i_blue");Be("def_c_cyan","c_cyan",Ae(5),"def_i_cyan");Be("def_c_magenta","c_magenta",Ae(6),"def_i_magenta");Be("def_c_brown","c_brown",Ae(7),"def_i_brown");Be("def_c_light_red","c_light_red",Ae(2).bold(),"def_i_light_red");Be("def_c_light_green","c_light_green",Ae(3).bold(),"def_i_light_green");Be("def_c_light_blue","c_light_blue",Ae(4).bold(),"def_i_light_blue");Be("def_c_light_cyan","c_light_cyan",Ae(5).bold(),"def_i_light_cyan");Be("def_c_pink","c_pink",Ae(6).bold(),"def_i_pink");Be("def_c_yellow","c_yellow",Ae(7).bold(),"def_i_yellow");Be("def_h_black","h_black",Ae(20),"def_c_blue");Be("def_h_white","h_white",Ae(15).bold(),"def_c_light_blue_white");Be("def_h_light_gray","h_light_gray",Ae(15),"def_c_blue_white");Be("def_h_dark_gray","h_dark_gray",Ae(20).bold(),"def_c_light_blue");Be("def_h_red","h_red",Ae(16),"def_c_blue_red");Be("def_h_green","h_green",Ae(17),"def_c_blue_green");Be("def_h_blue","h_blue",Ae(20),"def_h_blue");Be("def_h_cyan","h_cyan",Ae(19),"def_c_blue_cyan");Be("def_h_magenta","h_magenta",Ae(21),"def_c_blue_magenta");Be("def_h_brown","h_brown",Ae(22),"def_c_blue_yellow");Be("def_h_light_red","h_light_red",Ae(16).bold(),"def_c_light_blue_red");Be("def_h_light_green","h_light_green",Ae(17).bold(),"def_c_light_blue_green");Be("def_h_light_blue","h_light_blue",Ae(18).bold(),"def_h_light_blue");Be("def_h_light_cyan","h_light_cyan",Ae(19).bold(),"def_c_light_blue_cyan");Be("def_h_pink","h_pink",Ae(21).bold(),"def_c_light_blue_magenta");Be("def_h_yellow","h_yellow",Ae(22).bold(),"def_c_light_blue_yellow");Be("def_i_black","i_black",Ae(32),"def_c_black");Be("def_i_white","i_white",Ae(8).blink(),"def_c_white");Be("def_i_light_gray","i_light_gray",Ae(8),"def_c_light_gray");Be("def_i_dark_gray","i_dark_gray",Ae(32).blink(),"def_c_dark_gray");Be("def_i_red","i_red",Ae(9),"def_c_red");Be("def_i_green","i_green",Ae(10),"def_c_green");Be("def_i_blue","i_blue",Ae(11),"def_c_blue");Be("def_i_cyan","i_cyan",Ae(12),"def_c_cyan");Be("def_i_magenta","i_magenta",Ae(13),"def_c_magenta");Be("def_i_brown","i_brown",Ae(14),"def_c_brown");Be("def_i_light_red","i_light_red",Ae(9).blink(),"def_c_light_red");Be("def_i_light_green","i_light_green",Ae(10).blink(),"def_c_light_green");Be("def_i_light_blue","i_light_blue",Ae(11).blink(),"def_c_light_blue");Be("def_i_light_cyan","i_light_cyan",Ae(12).blink(),"def_c_light_cyan");Be("def_i_pink","i_pink",Ae(13).blink(),"def_c_pink");Be("def_i_yellow","i_yellow",Ae(14).blink(),"def_c_yellow");Be("def_c_black_red","c_black_red",Ae(9).bold(),"def_c_red");Be("def_c_white_red","c_white_red",Ae(23).bold(),"def_c_red_white");Be("def_c_light_gray_red","c_light_gray_red",Ae(23),"def_c_light_red_white");Be("def_c_dark_gray_red","c_dark_gray_red",Ae(9),"def_c_dark_gray_red");Be("def_c_red_red","c_red_red",Ae(9),"def_c_red_red");Be("def_c_green_red","c_green_red",Ae(25),"def_c_red_green");Be("def_c_blue_red","c_blue_red",Ae(26),"def_h_red");Be("def_c_cyan_red","c_cyan_red",Ae(27),"def_c_red_cyan");Be("def_c_magenta_red","c_magenta_red",Ae(28),"def_c_red_magenta");Be("def_c_brown_red","c_brown_red",Ae(29),"def_c_red_yellow");Be("def_c_light_red_red","c_light_red_red",Ae(24).bold(),"def_c_red_red");Be("def_c_light_green_red","c_light_green_red",Ae(25).bold(),"def_c_light_red_green");Be("def_c_light_blue_red","c_light_blue_red",Ae(26).bold(),"def_h_light_red");Be("def_c_light_cyan_red","c_light_cyan_red",Ae(27).bold(),"def_c_light_red_cyan");Be("def_c_pink_red","c_pink_red",Ae(28).bold(),"def_c_light_red_magenta");Be("def_c_yellow_red","c_yellow_red",Ae(29).bold(),"def_c_red_yellow");Be("def_c_unset","c_unset",Ae(31),"def_c_unset");Be("def_c_black_white","c_black_white",Ae(32),"def_c_light_gray");Be("def_c_dark_gray_white","c_dark_gray_white",Ae(32).bold(),"def_c_white");Be("def_c_light_gray_white","c_light_gray_white",Ae(33),"def_c_light_gray_white");Be("def_c_white_white","c_white_white",Ae(33).bold(),"def_c_white_white");Be("def_c_red_white","c_red_white",Ae(34),"def_c_white_red");Be("def_c_light_red_white","c_light_red_white",Ae(34).bold(),"def_c_light_gray_red");Be("def_c_green_white","c_green_white",Ae(35),"def_c_light_gray_green");Be("def_c_light_green_white","c_light_green_white",Ae(35).bold(),"def_c_white_green");Be("def_c_brown_white","c_brown_white",Ae(36),"def_c_light_gray_yellow");Be("def_c_yellow_white","c_yellow_white",Ae(36).bold(),"def_c_white_yellow");Be("def_c_blue_white","c_blue_white",Ae(37),"def_h_light_gray");Be("def_c_light_blue_white","c_light_blue_white",Ae(37).bold(),"def_h_white");Be("def_c_magenta_white","c_magenta_white",Ae(38),"def_c_light_gray_magenta");Be("def_c_pink_white","c_pink_white",Ae(38).bold(),"def_c_white_magenta");Be("def_c_cyan_white","c_cyan_white",Ae(39),"def_c_light_gray_cyan");Be("def_c_light_cyan_white","c_light_cyan_white",Ae(39).bold(),"def_c_white_cyan");Be("def_c_black_green","c_black_green",Ae(40),"def_c_green");Be("def_c_dark_gray_green","c_dark_gray_green",Ae(40).bold(),"def_c_light_green");Be("def_c_light_gray_green","c_light_gray_green",Ae(41),"def_c_green_white");Be("def_c_white_green","c_white_green",Ae(41).bold(),"def_c_light_green_white");Be("def_c_red_green","c_red_green",Ae(42),"def_c_green_red");Be("def_c_light_red_green","c_light_red_green",Ae(42).bold(),"def_c_light_green_red");Be("def_c_green_green","c_green_green",Ae(43),"def_c_green_green");Be("def_c_light_green_green","c_light_green_green",Ae(43).bold(),"def_c_light_green_green");Be("def_c_brown_green","c_brown_green",Ae(44),"def_c_green_yellow");Be("def_c_yellow_green","c_yellow_green",Ae(44).bold(),"def_c_light_green_yellow");Be("def_c_blue_green","c_blue_green",Ae(45),"def_h_green");Be("def_c_light_blue_green","c_light_blue_green",Ae(45).bold(),"def_h_light_green");Be("def_c_magenta_green","c_magenta_green",Ae(46),"def_c_green_magenta");Be("def_c_pink_green","c_pink_green",Ae(46).bold(),"def_c_light_green_magenta");Be("def_c_cyan_green","c_cyan_green",Ae(47),"def_c_green_cyan");Be("def_c_light_cyan_green","c_light_cyan_green",Ae(47).bold(),"def_c_light_green_cyan");Be("def_c_black_yellow","c_black_yellow",Ae(48),"def_c_brown");Be("def_c_dark_gray_yellow","c_dark_gray_yellow",Ae(48).bold(),"def_c_yellow");Be("def_c_light_gray_yellow","c_light_gray_yellow",Ae(49),"def_c_brown_white");Be("def_c_white_yellow","c_white_yellow",Ae(49).bold(),"def_c_yellow_white");Be("def_c_red_yellow","c_red_yellow",Ae(50),"def_c_yellow_red");Be("def_c_light_red_yellow","c_light_red_yellow",Ae(50).bold(),"def_c_yellow_red");Be("def_c_green_yellow","c_green_yellow",Ae(51),"def_c_brown_green");Be("def_c_light_green_yellow","c_light_green_yellow",Ae(51).bold(),"def_c_yellow_green");Be("def_c_brown_yellow","c_brown_yellow",Ae(52),"def_c_brown_yellow");Be("def_c_yellow_yellow","c_yellow_yellow",Ae(52).bold(),"def_c_yellow_yellow");Be("def_c_blue_yellow","c_blue_yellow",Ae(53),"def_h_brown");Be("def_c_light_blue_yellow","c_light_blue_yellow",Ae(53).bold(),"def_h_yellow");Be("def_c_magenta_yellow","c_magenta_yellow",Ae(54),"def_c_brown_magenta");Be("def_c_pink_yellow","c_pink_yellow",Ae(54).bold(),"def_c_yellow_magenta");Be("def_c_cyan_yellow","c_cyan_yellow",Ae(55),"def_c_brown_cyan");Be("def_c_light_cyan_yellow","c_light_cyan_yellow",Ae(55).bold(),"def_c_yellow_cyan");Be("def_c_black_magenta","c_black_magenta",Ae(56),"def_c_magenta");Be("def_c_dark_gray_magenta","c_dark_gray_magenta",Ae(56).bold(),"def_c_pink");Be("def_c_light_gray_magenta","c_light_gray_magenta",Ae(57),"def_c_magenta_white");Be("def_c_white_magenta","c_white_magenta",Ae(57).bold(),"def_c_pink_white");Be("def_c_red_magenta","c_red_magenta",Ae(58),"def_c_magenta_red");Be("def_c_light_red_magenta","c_light_red_magenta",Ae(58).bold(),"def_c_pink_red");Be("def_c_green_magenta","c_green_magenta",Ae(59),"def_c_magenta_green");Be("def_c_light_green_magenta","c_light_green_magenta",Ae(59).bold(),"def_c_pink_green");Be("def_c_brown_magenta","c_brown_magenta",Ae(60),"def_c_magenta_yellow");Be("def_c_yellow_magenta","c_yellow_magenta",Ae(60).bold(),"def_c_pink_yellow");Be("def_c_blue_magenta","c_blue_magenta",Ae(61),"def_h_magenta");Be("def_c_light_blue_magenta","c_light_blue_magenta",Ae(61).bold(),"def_h_pink");Be("def_c_magenta_magenta","c_magenta_magenta",Ae(62),"def_c_magenta_magenta");Be("def_c_pink_magenta","c_pink_magenta",Ae(62).bold(),"def_c_pink_magenta");Be("def_c_cyan_magenta","c_cyan_magenta",Ae(63),"def_c_magenta_cyan");Be("def_c_light_cyan_magenta","c_light_cyan_magenta",Ae(63).bold(),"def_c_pink_cyan");Be("def_c_black_cyan","c_black_cyan",Ae(64),"def_c_cyan");Be("def_c_dark_gray_cyan","c_dark_gray_cyan",Ae(64).bold(),"def_c_light_cyan");Be("def_c_light_gray_cyan","c_light_gray_cyan",Ae(65),"def_c_cyan_white");Be("def_c_white_cyan","c_white_cyan",Ae(65).bold(),"def_c_light_cyan_white");Be("def_c_red_cyan","c_red_cyan",Ae(66),"def_c_cyan_red");Be("def_c_light_red_cyan","c_light_red_cyan",Ae(66).bold(),"def_c_light_cyan_red");Be("def_c_green_cyan","c_green_cyan",Ae(67),"def_c_cyan_green");Be("def_c_light_green_cyan","c_light_green_cyan",Ae(67).bold(),"def_c_light_cyan_green");Be("def_c_brown_cyan","c_brown_cyan",Ae(68),"def_c_cyan_yellow");Be("def_c_yellow_cyan","c_yellow_cyan",Ae(68).bold(),"def_c_light_cyan_yellow");Be("def_c_blue_cyan","c_blue_cyan",Ae(69),"def_h_cyan");Be("def_c_light_blue_cyan","c_light_blue_cyan",Ae(69).bold(),"def_h_light_cyan");Be("def_c_magenta_cyan","c_magenta_cyan",Ae(70),"def_c_cyan_magenta");Be("def_c_pink_cyan","c_pink_cyan",Ae(70).bold(),"def_c_light_cyan_magenta");Be("def_c_cyan_cyan","c_cyan_cyan",Ae(71),"def_c_cyan_cyan");Be("def_c_light_cyan_cyan","c_light_cyan_cyan",Ae(71).bold(),"def_c_light_cyan_cyan");function $T(l){let e,n;return{c(){e=m("span"),n=w(l[3]),Bt(e,"font-family","monospace"),_e(e,"class","c_"+l[4]+" svelte-17io91a")},m(t,i){h(t,e,i),d(e,n)},p:ie,d(t){t&&p(e)}}}function vT(l){let e,n,t,i=l[1].bg!=null&&Mf(l),o=l[1].fg!=null&&Df(l);return{c(){e=m("div"),i&&i.c(),n=N(),o&&o.c(),_e(e,"style",t=cr({width:`${l[2].width*l[2].pixelscale}px`,height:`${l[2].height*l[2].pixelscale}px`})),_e(e,"class","tile-icon svelte-17io91a")},m(r,s){h(r,e,s),i&&i.m(e,null),d(e,n),o&&o.m(e,null)},p(r,s){r[1].bg!=null?i?i.p(r,s):(i=Mf(r),i.c(),i.m(e,n)):i&&(i.d(1),i=null),r[1].fg!=null?o?o.p(r,s):(o=Df(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null),s&4&&t!==(t=cr({width:`${r[2].width*r[2].pixelscale}px`,height:`${r[2].height*r[2].pixelscale}px`}))&&_e(e,"style",t)},d(r){r&&p(e),i&&i.d(),o&&o.d()}}}function Mf(l){let e,n;return{c(){e=m("div"),_e(e,"class","icon-layer bg svelte-17io91a"),_e(e,"style",n=cr({width:`${l[1].bg.width}px`,height:`${l[1].bg.height}px`,"background-image":`url(${`${l[0]}/${encodeURIComponent(l[1].bg.file)}`})`,"background-position":`${-l[1].bg.tx*l[1].bg.width}px ${-l[1].bg.ty*l[1].bg.height}px`,transform:`scale(${l[2].pixelscale}) translate(${l[1].bg.offx}px, ${l[1].bg.offy}px)`}))},m(t,i){h(t,e,i)},p(t,i){i&7&&n!==(n=cr({width:`${t[1].bg.width}px`,height:`${t[1].bg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].bg.file)}`})`,"background-position":`${-t[1].bg.tx*t[1].bg.width}px ${-t[1].bg.ty*t[1].bg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].bg.offx}px, ${t[1].bg.offy}px)`}))&&_e(e,"style",n)},d(t){t&&p(e)}}}function Df(l){let e,n;return{c(){e=m("div"),_e(e,"class","icon-layer fg svelte-17io91a"),_e(e,"style",n=cr({width:`${l[1].fg.width}px`,height:`${l[1].fg.height}px`,"background-image":`url(${`${l[0]}/${encodeURIComponent(l[1].fg.file)}`})`,"background-position":`${-l[1].fg.tx*l[1].fg.width}px ${-l[1].fg.ty*l[1].fg.height}px`,transform:`scale(${l[2].pixelscale}) translate(${l[1].fg.offx}px, ${l[1].fg.offy}px)`}))},m(t,i){h(t,e,i)},p(t,i){i&7&&n!==(n=cr({width:`${t[1].fg.width}px`,height:`${t[1].fg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].fg.file)}`})`,"background-position":`${-t[1].fg.tx*t[1].fg.width}px ${-t[1].fg.ty*t[1].fg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].fg.offx}px, ${t[1].fg.offy}px)`}))&&_e(e,"style",n)},d(t){t&&p(e)}}}function yT(l){let e;function n(o,r){return o[1]?vT:$T}let t=n(l),i=t(l);return{c(){i.c(),e=fe()},m(o,r){i.m(o,r),h(o,e,r)},p(o,[r]){t===(t=n(o))&&i?i.p(o,r):(i.d(1),i=t(o),i&&(i.c(),i.m(e.parentNode,e)))},i:ie,o:ie,d(o){i.d(o),o&&p(e)}}}function W0(l){return typeof l=="string"?`i_${l}`:W0(l[0])}function Lf(l,e){if(!l||!e)return;let n=0;const t=[];for(const s of l["tiles-new"])t.push({from:n,to:n+s.nx*s.ny,chunk:s}),n+=s.nx*s.ny;function i(s){for(const a of t)if(s>=a.from&&s<a.to)return a}function o(s){if(s==null)return;const a=i(s);if(!a)return;const f=s-a.from,u=f%a.chunk.nx,c=f/a.chunk.nx|0;return{file:a.chunk.file,width:a.chunk.sprite_width??l.tile_info[0].width,height:a.chunk.sprite_height??l.tile_info[0].height,offx:a.chunk.sprite_offset_x??0,offy:a.chunk.sprite_offset_y??0,tx:u,ty:c}}const r=s=>s&&(s===e||s.startsWith(e)&&/^_season_(autumn|spring|summer|winter)$/.test(s.substring(e.length)));for(const s of l["tiles-new"]){for(const a of s.tiles)if(Array.isArray(a.id)?a.id.some(r):r(a.id)){let f=Array.isArray(a.fg)?a.fg[0]:a.fg,u=Array.isArray(a.bg)?a.bg[0]:a.bg;return f&&typeof f=="object"&&(f=f.sprite),u&&typeof u=="object"&&(u=u.sprite),{fg:o(f),bg:o(u)}}n+=s.nx*s.ny}}function cr(l){let e="";for(const[n,t]of Object.entries(l))e+=`${n}: ${t};`;return e}function kT(l,e,n){let t,i,o,r;po(l,H0,k=>n(6,r=k));let{item:s}=e,a=qt("data");const f=[s.symbol].flat()[0]??" ",u=/^LINE_/.test(f)?"|":f,c=s.color?typeof s.color=="string"?s.color:s.color[0]:s.bgcolor?W0(s.bgcolor):"white";function _(k){return["item","monster","terrain","furniture","vehicle_part"].includes(Ai(k.type))}function g(k,T,R=10){function C(L){return T.type==="vehicle_part"?`vp_${L}`:L}const B=Lf(k,C(T.id??T.abstract));if(B)return B;const D=T.looks_like??T["copy-from"];if(!D)return;const j=Lf(k,C(D));if(j)return j;if(R>0){const L=a.byIdMaybe(Ai(T.type),D)??a.abstractById(Ai(T.type),D);if(L)return g(k,L,R-1)}}function y(k,T,R){if(!k)return;const C=[T].flat()[0],B=C?/^LINE_/.test(C)?"|":C:" ",D=Ss(Array.isArray(R)?R[0]:R).fg;for(const L of k["tiles-new"])for(const P of L.ascii??[])if(j(P.color)+(P.bold?8:0)===D){const q=P.offset+B.charCodeAt(0),G=q%L.nx,Z=q/L.nx|0;return{fg:{file:L.file,tx:G,ty:Z,width:k.tile_info[0].width,height:k.tile_info[0].height,offx:0,offy:0}}}function j(L){return L==="BLACK"?0:L==="RED"?1:L==="GREEN"?2:L==="YELLOW"?3:L==="BLUE"?4:L==="MAGENTA"?5:L==="CYAN"?6:L==="WHITE"?7:-1}}return l.$$set=k=>{"item"in k&&n(5,s=k.item)},l.$$.update=()=>{l.$$.dirty&64&&n(2,t=r==null?void 0:r.tile_info[0]),l.$$.dirty&96&&n(1,i=_(s)?g(r,s)??y(r,s.symbol,s.color??"white"):null),l.$$.dirty&64&&n(0,o=r==null?void 0:r.baseUrl)},[o,i,t,u,c,s,r]}class Lt extends Et{constructor(e){super(),wt(this,e,kT,yT,$t,{item:5})}}function wT(l){let e,n,t=l[0].cooldown+"",i,o,r;return e=new ve({props:{type:"item",id:l[0].gun_type}}),{c(){W(e.$$.fragment),n=w(" (cooldown: "),i=w(t),o=w(")")},m(s,a){H(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),r=!0},p(s,[a]){const f={};a&1&&(f.id=s[0].gun_type),e.$set(f),(!r||a&1)&&t!==(t=s[0].cooldown+"")&&K(i,t)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),r=!1},d(s){z(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function ET(l,e,n){let{attack:t}=e;return l.$$set=i=>{"attack"in i&&n(0,t=i.attack)},[t]}class ST extends Et{constructor(e){super(),wt(this,e,ET,wT,$t,{attack:0})}}function TT(l){let e=l[0].id+"",n,t,i,o="damage_max_instance"in l[0]&&l[0].damage_max_instance&&Ff(l),r=l[0].cooldown&&Pf(l);return{c(){n=w(e),o&&o.c(),t=fe(),r&&r.c(),i=fe()},m(s,a){h(s,n,a),o&&o.m(s,a),h(s,t,a),r&&r.m(s,a),h(s,i,a)},p(s,a){a&1&&e!==(e=s[0].id+"")&&K(n,e),"damage_max_instance"in s[0]&&s[0].damage_max_instance?o?o.p(s,a):(o=Ff(s),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),s[0].cooldown?r?r.p(s,a):(r=Pf(s),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i:ie,o:ie,d(s){s&&p(n),o&&o.d(s),s&&p(t),r&&r.d(s),s&&p(i)}}}function CT(l){let e,n,t,i;const o=[RT,OT],r=[];function s(a,f){return a[0].type==="gun"?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(re(),$(r[u],1,1,()=>{r[u]=null}),oe(),n=r[e],n?n.p(a,f):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function IT(l){let e=l[0][0]+"",n,t,i=l[0].length>1&&Uf(l);return{c(){n=w(e),i&&i.c(),t=fe()},m(o,r){h(o,n,r),i&&i.m(o,r),h(o,t,r)},p(o,r){r&1&&e!==(e=o[0][0]+"")&&K(n,e),o[0].length>1?i?i.p(o,r):(i=Uf(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:ie,o:ie,d(o){o&&p(n),i&&i.d(o),o&&p(t)}}}function Ff(l){let e,n=nr(l[0].damage_max_instance).map(Gf).join(" ")+"",t;return{c(){e=w(`:
    `),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&1&&n!==(n=nr(i[0].damage_max_instance).map(Gf).join(" ")+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function Pf(l){let e=" ",n,t,i=l[0].cooldown+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(i),r=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,r,a)},p(s,a){a&1&&i!==(i=s[0].cooldown+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r)}}}function OT(l){let e=l[0].type+"",n,t,i=l[0].cooldown&&jf(l);return{c(){n=w(e),i&&i.c(),t=fe()},m(o,r){h(o,n,r),i&&i.m(o,r),h(o,t,r)},p(o,r){r&1&&e!==(e=o[0].type+"")&&K(n,e),o[0].cooldown?i?i.p(o,r):(i=jf(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:ie,o:ie,d(o){o&&p(n),i&&i.d(o),o&&p(t)}}}function RT(l){let e,n;return e=new ST({props:{attack:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.attack=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function jf(l){let e=" ",n,t,i=l[0].cooldown+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(i),r=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,r,a)},p(s,a){a&1&&i!==(i=s[0].cooldown+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r)}}}function Uf(l){let e=" ",n,t,i=l[0][1]+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(i),r=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,r,a)},p(s,a){a&1&&i!==(i=s[0][1]+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r)}}}function NT(l){let e,n,t,i,o;const r=[IT,CT,TT],s=[];function a(f,u){return u&1&&(e=null),e==null&&(e=!!Array.isArray(f[0])),e?0:"type"in f[0]?1:"id"in f[0]?2:-1}return~(n=a(l,-1))&&(t=s[n]=r[n](l)),{c(){t&&t.c(),i=fe()},m(f,u){~n&&s[n].m(f,u),h(f,i,u),o=!0},p(f,[u]){let c=n;n=a(f,u),n===c?~n&&s[n].p(f,u):(t&&(re(),$(s[c],1,1,()=>{s[c]=null}),oe()),~n?(t=s[n],t?t.p(f,u):(t=s[n]=r[n](f),t.c()),b(t,1),t.m(i.parentNode,i)):t=null)},i(f){o||(b(t),o=!0)},o(f){$(t),o=!1},d(f){~n&&s[n].d(f),f&&p(i)}}}const Gf=l=>`(${l.damage_type} for ${l.amount} damage)`;function AT(l,e,n){let{special_attack:t}=e;return l.$$set=i=>{"special_attack"in i&&n(0,t=i.special_attack)},[t]}class BT extends Et{constructor(e){super(),wt(this,e,AT,NT,$t,{special_attack:0})}}function qf(l,e,n){const t=l.slice();return t[8]=e[n],t}const MT=l=>({item:l&3}),Yf=l=>({item:l[8]});function Hf(l){let e,n;const t=l[5].default,i=Xi(t,l,l[4],Yf);return{c(){e=m("li"),i&&i.c()},m(o,r){h(o,e,r),i&&i.m(e,null),n=!0},p(o,r){i&&i.p&&(!n||r&19)&&Ki(i,t,o,o[4],n?Ji(t,o[4],r,MT):Zi(o[4]),Yf)},i(o){n||(b(i,o),n=!0)},o(o){$(i,o),n=!1},d(o){o&&p(e),i&&i.d(o)}}}function zf(l){let e,n=O.t("See all {n}...",{n:Number(l[0].length).toLocaleString()})+"",t,i,o;return{c(){e=m("button"),t=w(n),_e(e,"class","disclosure")},m(r,s){h(r,e,s),d(e,t),i||(o=ji(e,"click",l[6]),i=!0)},p(r,s){s&1&&n!==(n=O.t("See all {n}...",{n:Number(r[0].length).toLocaleString()})+"")&&K(t,n)},d(r){r&&p(e),i=!1,o()}}}function DT(l){let e,n,t,i,o=l[0].slice(0,l[1]),r=[];for(let f=0;f<o.length;f+=1)r[f]=Hf(qf(l,o,f));const s=f=>$(r[f],1,1,()=>{r[f]=null});let a=l[0].length>l[1]&&zf(l);return{c(){e=m("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=N(),a&&a.c(),t=fe()},m(f,u){h(f,e,u);for(let c=0;c<r.length;c+=1)r[c].m(e,null);h(f,n,u),a&&a.m(f,u),h(f,t,u),i=!0},p(f,[u]){if(u&19){o=f[0].slice(0,f[1]);let c;for(c=0;c<o.length;c+=1){const _=qf(f,o,c);r[c]?(r[c].p(_,u),b(r[c],1)):(r[c]=Hf(_),r[c].c(),b(r[c],1),r[c].m(e,null))}for(re(),c=o.length;c<r.length;c+=1)s(c);oe()}f[0].length>f[1]?a?a.p(f,u):(a=zf(f),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(f){if(!i){for(let u=0;u<o.length;u+=1)b(r[u]);i=!0}},o(f){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)$(r[u]);i=!1},d(f){f&&p(e),we(r,f),f&&p(n),a&&a.d(f),f&&p(t)}}}function LT(l,e,n){let{$$slots:t={},$$scope:i}=e,{items:o}=e,{limit:r=10}=e,{grace:s=4}=e,f=typeof globalThis!==void 0&&(globalThis==null?void 0:globalThis.__isTesting__)?1/0:o.length<=r+s?r+s:r;const u=c=>{c.preventDefault(),n(1,f=1/0)};return l.$$set=c=>{"items"in c&&n(0,o=c.items),"limit"in c&&n(2,r=c.limit),"grace"in c&&n(3,s=c.grace),"$$scope"in c&&n(4,i=c.$$scope)},[o,f,r,s,i,t,u]}class Zt extends Et{constructor(e){super(),wt(this,e,LT,DT,$t,{items:0,limit:2,grace:3})}}function Wf(l,e,n){const t=l.slice();return t[4]=e[n].color,t[5]=e[n].string,t}function Vf(l){let e,n=l[5]+"",t,i;return{c(){e=m("span"),t=w(n),Bt(e,"color","var(--cata-color-"+l[2](l[4])+")"),_e(e,"class",i=l[0]?"fg_only":"")},m(o,r){h(o,e,r),d(e,t)},p(o,r){r&1&&i!==(i=o[0]?"fg_only":"")&&_e(e,"class",i)},d(o){o&&p(e)}}}function FT(l){let e,n=l[1],t=[];for(let i=0;i<n.length;i+=1)t[i]=Vf(Wf(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=fe()},m(i,o){for(let r=0;r<t.length;r+=1)t[r].m(i,o);h(i,e,o)},p(i,[o]){if(o&7){n=i[1];let r;for(r=0;r<n.length;r+=1){const s=Wf(i,n,r);t[r]?t[r].p(s,o):(t[r]=Vf(s),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:ie,o:ie,d(i){we(t,i),i&&p(e)}}}function PT(l){let e=["gray"];const n=[];let t=l;for(;;){const i=t.match(/<\/?(info|good|bad|color|color_[^>]+)>/);if(i&&i.index!=null)i.index>0&&n.push({string:t.substring(0,i.index),color:e[0]}),i[0][1]==="/"&&e.length>1?e.shift():e.unshift(i[1]),t=t.substring(i.index+i[0].length);else break}return t.length&&n.push({string:t,color:e[0]}),n}function jT(l,e,n){let{text:t}=e,{fgOnly:i=!1}=e;const o=PT(t??""),r=s=>{if(s==="info")return"cyan";if(s==="good")return"green";if(s==="bad")return"red";const a=/^color_(.+)$/.exec(s);return a?a[1]:"gray"};return l.$$set=s=>{"text"in s&&n(3,t=s.text),"fgOnly"in s&&n(0,i=s.fgOnly)},[i,o,r,t]}class V0 extends Et{constructor(e){super(),wt(this,e,jT,FT,$t,{text:3,fgOnly:0})}}function Xf(l,e,n){const t=l.slice();return t[11]=e[n],t}function Jf(l,e,n){const t=l.slice();return t[14]=e[n].id,t[15]=e[n].prob,t}function Kf(l,e,n){const t=l.slice();return t[11]=e[n],t}function Zf(l,e,n){const t=l.slice();return t[14]=e[n].id,t[15]=e[n].prob,t}function Qf(l,e,n){const t=l.slice();return t[22]=e[n],t}function xf(l,e,n){const t=l.slice();return t[25]=e[n],t}function ea(l,e,n){const t=l.slice();return t[28]=e[n],t}function ta(l,e,n){const t=l.slice();return t[28]=e[n],t}function na(l,e,n){const t=l.slice();return t[28]=e[n],t}function ia(l,e,n){const t=l.slice();return t[35]=e[n],t}function la(l,e,n){const t=l.slice();return t[14]=e[n],t}function ra(l){let e,n,t=l[0].bodytype+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Body Type",{_context:En})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].bodytype+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function oa(l){let e,n,t=(l[0].species??[]).join(", ")+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Species",{_context:En})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=(o[0].species??[]).join(", ")+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function UT(l){let e,n,t,i,o,r=l[6],s=[];for(let f=0;f<r.length;f+=1)s[f]=sa(la(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Material")}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&64){r=f[6];let c;for(c=0;c<r.length;c+=1){const _=la(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=sa(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function sa(l){let e,n,t;return n=new ve({props:{type:"material",id:l[14]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function fa(l){let e,n=Qt(l[0].description)+"",t;return{c(){e=m("p"),t=w(n),Bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),d(e,t)},p(i,o){o[0]&1&&n!==(n=Qt(i[0].description)+"")&&K(t,n)},d(i){i&&p(e)}}}function aa(l){let e,n,t,i,o=l[0].special_attacks,r=[];for(let a=0;a<o.length;a+=1)r[a]=ua(ia(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Special Attacks",{_context:En})}`,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c();_e(t,"class","no-bullets")},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f[0]&3){o=a[0].special_attacks;let u;for(u=0;u<o.length;u+=1){const c=ia(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=ua(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function GT(l){let e,n;return e=new BT({props:{special_attack:l[35]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.special_attack=t[35]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function qT(l){let e,n;return e=new ve({props:{type:"monster_attack",id:l[35][0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.id=t[35][0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function ua(l){let e,n,t,i,o,r;const s=[qT,GT],a=[];function f(u,c){return c[0]&1&&(n=null),n==null&&(n=!!(Array.isArray(u[35])&&u[35][0]&&u[1].byIdMaybe("monster_attack",u[35][0]))),n?0:1}return t=f(l,[-1,-1]),i=a[t]=s[t](l),{c(){e=m("li"),i.c(),o=N()},m(u,c){h(u,e,c),a[t].m(e,null),d(e,o),r=!0},p(u,c){let _=t;t=f(u,c),t===_?a[t].p(u,c):(re(),$(a[_],1,1,()=>{a[_]=null}),oe(),i=a[t],i?i.p(u,c):(i=a[t]=s[t](u),i.c()),b(i,1),i.m(e,o))},i(u){r||(b(i),r=!0)},o(u){$(i),r=!1},d(u){u&&p(e),a[t].d()}}}function ca(l){let e,n,t=l[0].regenerates+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Regenerates",{_context:En})}`,n=m("dd"),i=w(t),o=w(" hp/turn")},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p(r,s){s[0]&1&&t!==(t=r[0].regenerates+"")&&K(i,t)},d(r){r&&p(e),r&&p(n)}}}function _a(l){let e,n,t=l[0].special_when_hit[0]+"",i,o,r=l[0].special_when_hit[1]+"",s,a;return{c(){e=m("dt"),e.textContent=`${O.t("When Hit",{_context:En})}`,n=m("dd"),i=w(t),o=w(" ("),s=w(r),a=w("%)")},m(f,u){h(f,e,u),h(f,n,u),d(n,i),d(n,o),d(n,s),d(n,a)},p(f,u){u[0]&1&&t!==(t=f[0].special_when_hit[0]+"")&&K(i,t),u[0]&1&&r!==(r=f[0].special_when_hit[1]+"")&&K(s,r)},d(f){f&&p(e),f&&p(n)}}}function da(l){let e,n,t,i,o=l[0].anger_triggers,r=[];for(let s=0;s<o.length;s+=1)r[s]=ma(na(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Anger Triggers",{_context:En})}`,n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a[0]&33){o=s[0].anger_triggers;let f;for(f=0;f<o.length;f+=1){const u=na(s,o,f);r[f]?r[f].p(u,a):(r[f]=ma(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function ma(l){let e,n,t=l[28]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),_e(n,"title",o=l[5][l[28]])},m(r,s){h(r,e,s),d(e,n),d(n,i)},p(r,s){s[0]&1&&t!==(t=r[28]+"")&&K(i,t),s[0]&1&&o!==(o=r[5][r[28]])&&_e(n,"title",o)},d(r){r&&p(e)}}}function pa(l){let e,n,t,i,o=l[0].placate_triggers,r=[];for(let s=0;s<o.length;s+=1)r[s]=ha(ta(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Placate Triggers",{_context:En})}`,n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a[0]&33){o=s[0].placate_triggers;let f;for(f=0;f<o.length;f+=1){const u=ta(s,o,f);r[f]?r[f].p(u,a):(r[f]=ha(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function ha(l){let e,n,t=l[28]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),_e(n,"title",o=l[5][l[28]])},m(r,s){h(r,e,s),d(e,n),d(n,i)},p(r,s){s[0]&1&&t!==(t=r[28]+"")&&K(i,t),s[0]&1&&o!==(o=r[5][r[28]])&&_e(n,"title",o)},d(r){r&&p(e)}}}function ga(l){let e,n,t,i,o=l[0].fear_triggers,r=[];for(let s=0;s<o.length;s+=1)r[s]=ba(ea(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Fear Triggers",{_context:En})}`,n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a[0]&33){o=s[0].fear_triggers;let f;for(f=0;f<o.length;f+=1){const u=ea(s,o,f);r[f]?r[f].p(u,a):(r[f]=ba(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function ba(l){let e,n,t=l[28]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),_e(n,"title",o=l[5][l[28]])},m(r,s){h(r,e,s),d(e,n),d(n,i)},p(r,s){s[0]&1&&t!==(t=r[28]+"")&&K(i,t),s[0]&1&&o!==(o=r[5][r[28]])&&_e(n,"title",o)},d(r){r&&p(e)}}}function $a(l){let e,n,t,i,o=l[0].flags??[],r=[];for(let s=0;s<o.length;s+=1)r[s]=va(xf(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Flags")}`,n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a[0]&17){o=s[0].flags??[];let f;for(f=0;f<o.length;f+=1){const u=xf(s,o,f);r[f]?r[f].p(u,a):(r[f]=va(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function va(l){let e,n,t=l[25]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),_e(n,"title",o=l[4][l[25]])},m(r,s){h(r,e,s),d(e,n),d(n,i)},p(r,s){s[0]&1&&t!==(t=r[25]+"")&&K(i,t),s[0]&1&&o!==(o=r[4][r[25]])&&_e(n,"title",o)},d(r){r&&p(e)}}}function ya(l){let e,n,t,i;function o(a,f){var u;return f[0]&1&&(t=null),t==null&&(t=!!((u=a[0].death_function.effect)!=null&&u.id&&a[1].byIdMaybe("SPELL",a[0].death_function.effect.id))),t?HT:YT}let r=o(l,[-1,-1]),s=r(l);return{c(){e=m("dt"),e.textContent=`${O.t("On Death",{_context:En})}`,n=m("dd"),s.c(),i=N()},m(a,f){h(a,e,f),h(a,n,f),s.m(n,null),d(n,i)},p(a,f){r===(r=o(a,f))&&s?s.p(a,f):(s.d(1),s=r(a),s&&(s.c(),s.m(n,i)))},d(a){a&&p(e),a&&p(n),s.d()}}}function YT(l){var t;let e=(((t=l[0].death_function.effect)==null?void 0:t.id)??l[0].death_function.corpse_type??"NORMAL")+"",n;return{c(){n=w(e)},m(i,o){h(i,n,o)},p(i,o){var r;o[0]&1&&e!==(e=(((r=i[0].death_function.effect)==null?void 0:r.id)??i[0].death_function.corpse_type??"NORMAL")+"")&&K(n,e)},d(i){i&&p(n)}}}function HT(l){let e=it(l[1].byId("SPELL",l[0].death_function.effect.id))+"",n,t,i=Qt(l[1].byId("SPELL",l[0].death_function.effect.id).description)+"",o,r;return{c(){n=w(e),t=w(" ("),o=w(i),r=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,r,a)},p(s,a){a[0]&1&&e!==(e=it(s[1].byId("SPELL",s[0].death_function.effect.id))+"")&&K(n,e),a[0]&1&&i!==(i=Qt(s[1].byId("SPELL",s[0].death_function.effect.id).description)+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r)}}}function zT(l){let e,n,t,i,o,r=l[10].monsters,s=[];for(let _=0;_<r.length;_+=1)s[_]=ka(Qf(l,r,_));const a=_=>$(s[_],1,1,()=>{s[_]=null});function f(_,g){if(_[10].age_grow)return VT;if(_[10].half_life)return WT}let u=f(l),c=u&&u(l);return{c(){e=m("dt"),e.textContent=`${O.t("Upgrades Into",{_context:En})}`,n=m("dd"),t=m("ul");for(let _=0;_<s.length;_+=1)s[_].c();i=N(),c&&c.c(),_e(t,"class","comma-separated or")},m(_,g){h(_,e,g),h(_,n,g),d(n,t);for(let y=0;y<s.length;y+=1)s[y].m(t,null);d(n,i),c&&c.m(n,null),o=!0},p(_,g){if(g[0]&1024){r=_[10].monsters;let y;for(y=0;y<r.length;y+=1){const k=Qf(_,r,y);s[y]?(s[y].p(k,g),b(s[y],1)):(s[y]=ka(k),s[y].c(),b(s[y],1),s[y].m(t,null))}for(re(),y=r.length;y<s.length;y+=1)a(y);oe()}c&&c.p(_,g)},i(_){if(!o){for(let g=0;g<r.length;g+=1)b(s[g]);o=!0}},o(_){s=s.filter(Boolean);for(let g=0;g<s.length;g+=1)$(s[g]);o=!1},d(_){_&&p(e),_&&p(n),we(s,_),c&&c.d()}}}function ka(l){let e,n,t;return n=new ve({props:{type:"monster",id:l[22]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function WT(l){let e,n=l[10].half_life+"",t,i,o,r=l[10].half_life!==1&&XT();return{c(){e=w("with a half-life of "),t=w(n),i=w(" day"),r&&r.c(),o=fe()},m(s,a){h(s,e,a),h(s,t,a),h(s,i,a),r&&r.m(s,a),h(s,o,a)},p:ie,d(s){s&&p(e),s&&p(t),s&&p(i),r&&r.d(s),s&&p(o)}}}function VT(l){let e,n=l[10].age_grow+"",t,i,o,r=l[10].age_grow!==1&&JT();return{c(){e=w("in "),t=w(n),i=w(" day"),r&&r.c(),o=fe()},m(s,a){h(s,e,a),h(s,t,a),h(s,i,a),r&&r.m(s,a),h(s,o,a)},p:ie,d(s){s&&p(e),s&&p(t),s&&p(i),r&&r.d(s),s&&p(o)}}}function XT(l){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function JT(l){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function KT(l){let e,n,t,i,o;return i=new Zt({props:{items:l[7],$$slots:{default:[ZT,({item:r})=>({0:r}),({item:r})=>[r?1:0]]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Drops",{_context:En})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s[0]&1|s[1]&512&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function ZT(l){let e,n,t,i,o=Ca(l[0].prob)+"",r,s,a;return e=new Lt({props:{item:l[1].byId("item",l[0].id)}}),t=new ve({props:{type:"item",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment),i=w(" ("),r=w(o),s=w(")")},m(f,u){H(e,f,u),h(f,n,u),H(t,f,u),h(f,i,u),h(f,r,u),h(f,s,u),a=!0},p(f,u){const c={};u[0]&1&&(c.item=f[1].byId("item",f[0].id)),e.$set(c);const _={};u[0]&1&&(_.id=f[0].id),t.$set(_),(!a||u[0]&1)&&o!==(o=Ca(f[0].prob)+"")&&K(r,o)},i(f){a||(b(e.$$.fragment,f),b(t.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),a=!1},d(f){z(e,f),f&&p(n),z(t,f),f&&p(i),f&&p(r),f&&p(s)}}}function QT(l){let e,n,t,i,o,r=l[8].entries,s=[];for(let f=0;f<r.length;f+=1)s[f]=Ea(Kf(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Butchering Results",{_context:En})}`,t=N(),i=m("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){h(f,e,u),d(e,n),d(e,t),d(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u[0]&258){r=f[8].entries;let c;for(c=0;c<r.length;c+=1){const _=Kf(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Ea(_),s[c].c(),b(s[c],1),s[c].m(i,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),we(s,f)}}}function xT(l){let e,n,t,i,o,r;return n=new Lt({props:{item:l[1].byId("item",l[11].drop)}}),i=new ve({props:{type:"item",id:l[11].drop}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=N()},m(s,a){h(s,e,a),H(n,e,null),d(e,t),H(i,e,null),d(e,o),r=!0},p:ie,i(s){r||(b(n.$$.fragment,s),b(i.$$.fragment,s),r=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),r=!1},d(s){s&&p(e),z(n),z(i)}}}function eC(l){let e,n,t=l[1].flattenTopLevelItemGroup(l[1].byId("item_group",l[11].drop)),i=[];for(let r=0;r<t.length;r+=1)i[r]=wa(Zf(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=fe()},m(r,s){for(let a=0;a<i.length;a+=1)i[a].m(r,s);h(r,e,s),n=!0},p(r,s){if(s[0]&258){t=r[1].flattenTopLevelItemGroup(r[1].byId("item_group",r[11].drop));let a;for(a=0;a<t.length;a+=1){const f=Zf(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=wa(f),i[a].c(),b(i[a],1),i[a].m(e.parentNode,e))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){we(i,r),r&&p(e)}}}function wa(l){let e,n,t,i,o,r=(l[15]*100).toFixed(2)+"",s,a,f;return n=new Lt({props:{item:l[1].byId("item",l[14])}}),i=new ve({props:{type:"item",id:l[14]}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=w(" ("),s=w(r),a=w(`%)
            `)},m(u,c){h(u,e,c),H(n,e,null),d(e,t),H(i,e,null),d(e,o),d(e,s),d(e,a),f=!0},p:ie,i(u){f||(b(n.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){$(n.$$.fragment,u),$(i.$$.fragment,u),f=!1},d(u){u&&p(e),z(n),z(i)}}}function Ea(l){let e,n,t,i;const o=[eC,xT],r=[];function s(a,f){var u;return a[11].type&&((u=a[1].byIdMaybe("harvest_drop_type",a[11].type))!=null&&u.group)||a[11].type==="bionic_group"?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function tC(l){let e,n,t,i,o,r=l[9].entries,s=[];for(let f=0;f<r.length;f+=1)s[f]=Ta(Xf(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Dissection Results",{_context:En})}`,t=N(),i=m("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){h(f,e,u),d(e,n),d(e,t),d(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u[0]&514){r=f[9].entries;let c;for(c=0;c<r.length;c+=1){const _=Xf(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Ta(_),s[c].c(),b(s[c],1),s[c].m(i,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),we(s,f)}}}function nC(l){let e,n,t,i,o,r;return n=new Lt({props:{item:l[1].byId("item",l[11].drop)}}),i=new ve({props:{type:"item",id:l[11].drop}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=N()},m(s,a){h(s,e,a),H(n,e,null),d(e,t),H(i,e,null),d(e,o),r=!0},p:ie,i(s){r||(b(n.$$.fragment,s),b(i.$$.fragment,s),r=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),r=!1},d(s){s&&p(e),z(n),z(i)}}}function iC(l){let e,n,t=l[1].flattenTopLevelItemGroup(l[1].byId("item_group",l[11].drop)),i=[];for(let r=0;r<t.length;r+=1)i[r]=Sa(Jf(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=fe()},m(r,s){for(let a=0;a<i.length;a+=1)i[a].m(r,s);h(r,e,s),n=!0},p(r,s){if(s[0]&514){t=r[1].flattenTopLevelItemGroup(r[1].byId("item_group",r[11].drop));let a;for(a=0;a<t.length;a+=1){const f=Jf(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Sa(f),i[a].c(),b(i[a],1),i[a].m(e.parentNode,e))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){we(i,r),r&&p(e)}}}function Sa(l){let e,n,t,i,o,r=(l[15]*100).toFixed(2)+"",s,a,f;return n=new Lt({props:{item:l[1].byId("item",l[14])}}),i=new ve({props:{type:"item",id:l[14]}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=w(" ("),s=w(r),a=w(`%)
            `)},m(u,c){h(u,e,c),H(n,e,null),d(e,t),H(i,e,null),d(e,o),d(e,s),d(e,a),f=!0},p:ie,i(u){f||(b(n.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){$(n.$$.fragment,u),$(i.$$.fragment,u),f=!1},d(u){u&&p(e),z(n),z(i)}}}function Ta(l){let e,n,t,i;const o=[iC,nC],r=[];function s(a,f){var u;return a[11].type&&((u=a[1].byId("harvest_drop_type",a[11].type))!=null&&u.group)||a[11].type==="bionic_group"?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function lC(l){var Qi,zn,xi,Tl,Cl;let e,n,t,i=it(l[0])+"",o,r,s,a,f,u,c,_=wl(l[0].volume??0)+"",g,y,k,T=ur(l[0].weight??0)+"",R,C,B,D=to(l[0])+"",j,L,P,U,q,G,Z,M,x,ne,F,X,J,V=(l[0].speed??0)+"",se,me,Q,ee=(l[0].melee_skill??0)+"",le,ue,be,Le=l[3](l[0])+"",ke,Ee,Te,Re,He,he,Ce,De,Oe=l[0].hp+"",Ke,xe,mt,ye=(l[0].dodge??0)+"",et,je,ct,We,qe,Ve,kt=(l[0].armor_bash??0)+"",ht,Rt,Ge,pe=(l[0].armor_cut??0)+"",$e,ae,Ye,pt=(l[0].armor_stab??Math.floor((l[0].armor_cut??0)*.8))+"",ut,at,lt,ot=(l[0].armor_bullet??0)+"",rt,tt,Ne,Ie=(l[0].armor_acid??Math.floor((l[0].armor_cut??0)*.5))+"",dt,It,Ft,jt=(l[0].armor_fire??0)+"",Tt,Fe,ft,Xt,an,Me,Xe,Wt,fn,ln=(l[0].aggression??0)+"",vn,rn,xt,ze=(l[0].morale??0)+"",_n,Kt,At,Pt=(l[0].vision_day??40)+"",on,jn,un=O.t("day",{_context:En})+"",Fn,wn,nn=(l[0].vision_night??1)+"",dn,mn,Pn=O.t("night",{_context:En})+"",Mn,Dn,Yn,In,Tn=l[0].default_faction+"",On,Rn,oi,si,fi,Ui,Gi,ce,Qe,Ri,hn;n=new Lt({props:{item:l[0]}});let Jn=l[0].bodytype&&ra(l),Kn=l[0].species&&l[0].species.length&&oa(l),Se=l[6].length&&UT(l);P=new V0({props:{text:l[2](to(l[0])),fgOnly:!0}});let st=l[0].description&&fa(l),en=l[0].special_attacks&&aa(l),Zn=l[0].regenerates&&ca(l),Hn=l[0].special_when_hit&&_a(l),Qn=((Qi=l[0].anger_triggers)==null?void 0:Qi.length)&&da(l),xn=((zn=l[0].placate_triggers)==null?void 0:zn.length)&&pa(l),ei=((xi=l[0].fear_triggers)==null?void 0:xi.length)&&ga(l),ti=((Tl=l[0].flags)==null?void 0:Tl.length)&&$a(l),ni=l[0].death_function&&ya(l),di=l[10]&&zT(l),mi=((Cl=l[7])==null?void 0:Cl.length)&&KT(l),pi=l[8]&&(l[8].entries??[]).length&&QT(l),hi=l[9]&&(l[9].entries??[]).length&&tC(l);return{c(){e=m("h1"),W(n.$$.fragment),t=N(),o=w(i),r=N(),s=m("section"),a=m("dl"),Jn&&Jn.c(),f=fe(),Kn&&Kn.c(),u=m("dt"),u.textContent=`${O.t("Volume")}`,c=m("dd"),g=w(_),y=m("dt"),y.textContent=`${O.t("Weight")}`,k=m("dd"),R=w(T),Se&&Se.c(),C=m("dt"),C.textContent=`${O.t("Difficulty",{_context:En})}`,B=m("dd"),j=w(D),L=w(`
      (`),W(P.$$.fragment),U=w(")"),q=N(),st&&st.c(),G=N(),Z=m("div"),M=m("section"),x=m("h1"),x.textContent=`${O.t("Attack",{_context:En,_comment:"Section heading"})}`,ne=N(),F=m("dl"),X=m("dt"),X.textContent=`${O.t("Speed",{_context:En})}`,J=m("dd"),se=w(V),me=m("dt"),me.textContent=`${O.t("Melee Skill",{_context:En})}`,Q=m("dd"),le=w(ee),ue=m("dt"),ue.textContent=`${O.t("Damage",{_context:En})}`,be=m("dd"),ke=w(Le),en&&en.c(),Ee=N(),Te=m("section"),Re=m("h1"),Re.textContent=`${O.t("Defense",{_context:En,_comment:"Section heading"})}`,He=N(),he=m("dl"),Ce=m("dt"),Ce.textContent=`${O.t("HP",{_context:En})}`,De=m("dd"),Ke=w(Oe),Zn&&Zn.c(),xe=m("dt"),xe.textContent=`${O.t("Dodge",{_context:En})}`,mt=m("dd"),et=w(ye),je=m("dt"),je.textContent=`${O.t("Armor",{_context:En})}`,ct=m("dd"),We=m("dl"),qe=m("dt"),qe.textContent=`${O.t("Bash",{_context:"Damage Type"})}`,Ve=m("dd"),ht=w(kt),Rt=m("dt"),Rt.textContent=`${O.t("Cut",{_context:"Damage Type"})}`,Ge=m("dd"),$e=w(pe),ae=m("dt"),ae.textContent=`${O.t("Stab",{_context:"Damage Type"})}`,Ye=m("dd"),ut=w(pt),at=m("dt"),at.textContent=`${O.t("Ballistic",{_context:"Damage Type"})}`,lt=m("dd"),rt=w(ot),tt=m("dt"),tt.textContent=`${O.t("Acid",{_context:"Damage Type"})}`,Ne=m("dd"),dt=w(Ie),It=m("dt"),It.textContent=`${O.t("Fire",{_context:"Damage Type"})}`,Ft=m("dd"),Tt=w(jt),Fe=N(),Hn&&Hn.c(),ft=N(),Xt=m("section"),an=m("h1"),an.textContent=`${O.t("Behavior",{_context:En,_comment:"Section heading"})}`,Me=N(),Xe=m("dl"),Wt=m("dt"),Wt.textContent=`${O.t("Aggression",{_context:En})} 
    `,fn=m("dd"),vn=w(ln),rn=m("dt"),rn.textContent=`${O.t("Morale",{_context:En})} 
    `,xt=m("dd"),_n=w(ze),Kt=m("dt"),Kt.textContent=`${O.t("Vision Range",{_context:En})}`,At=m("dd"),on=w(Pt),jn=w(" ("),Fn=w(un),wn=w(") / "),dn=w(nn),mn=w(" ("),Mn=w(Pn),Dn=w(`)
    `),Yn=m("dt"),Yn.textContent=`${O.t("Default Faction",{_context:En})}`,In=m("dd"),On=w(Tn),Qn&&Qn.c(),Rn=fe(),xn&&xn.c(),oi=fe(),ei&&ei.c(),si=fe(),ti&&ti.c(),fi=fe(),ni&&ni.c(),Ui=fe(),di&&di.c(),Gi=N(),mi&&mi.c(),ce=N(),pi&&pi.c(),Qe=N(),hi&&hi.c(),Ri=fe(),Bt(he,"flex","1"),_e(Z,"class","side-by-side"),_e(Wt,"title","Monsters with high aggression are more likely to be hostile. Ranges from -100 to 100"),_e(rn,"title","Morale at spawn. Monsters with low morale will flee.")},m(Je,Dt){h(Je,e,Dt),H(n,e,null),d(e,t),d(e,o),h(Je,r,Dt),h(Je,s,Dt),d(s,a),Jn&&Jn.m(a,null),d(a,f),Kn&&Kn.m(a,null),d(a,u),d(a,c),d(c,g),d(a,y),d(a,k),d(k,R),Se&&Se.m(a,null),d(a,C),d(a,B),d(B,j),d(B,L),H(P,B,null),d(B,U),d(s,q),st&&st.m(s,null),h(Je,G,Dt),h(Je,Z,Dt),d(Z,M),d(M,x),d(M,ne),d(M,F),d(F,X),d(F,J),d(J,se),d(F,me),d(F,Q),d(Q,le),d(F,ue),d(F,be),d(be,ke),en&&en.m(F,null),d(Z,Ee),d(Z,Te),d(Te,Re),d(Te,He),d(Te,he),d(he,Ce),d(he,De),d(De,Ke),Zn&&Zn.m(he,null),d(he,xe),d(he,mt),d(mt,et),d(he,je),d(he,ct),d(ct,We),d(We,qe),d(We,Ve),d(Ve,ht),d(We,Rt),d(We,Ge),d(Ge,$e),d(We,ae),d(We,Ye),d(Ye,ut),d(We,at),d(We,lt),d(lt,rt),d(We,tt),d(We,Ne),d(Ne,dt),d(We,It),d(We,Ft),d(Ft,Tt),d(ct,Fe),Hn&&Hn.m(he,null),h(Je,ft,Dt),h(Je,Xt,Dt),d(Xt,an),d(Xt,Me),d(Xt,Xe),d(Xe,Wt),d(Xe,fn),d(fn,vn),d(Xe,rn),d(Xe,xt),d(xt,_n),d(Xe,Kt),d(Xe,At),d(At,on),d(At,jn),d(At,Fn),d(At,wn),d(At,dn),d(At,mn),d(At,Mn),d(At,Dn),d(Xe,Yn),d(Xe,In),d(In,On),Qn&&Qn.m(Xe,null),d(Xe,Rn),xn&&xn.m(Xe,null),d(Xe,oi),ei&&ei.m(Xe,null),d(Xe,si),ti&&ti.m(Xe,null),d(Xe,fi),ni&&ni.m(Xe,null),d(Xe,Ui),di&&di.m(Xe,null),h(Je,Gi,Dt),mi&&mi.m(Je,Dt),h(Je,ce,Dt),pi&&pi.m(Je,Dt),h(Je,Qe,Dt),hi&&hi.m(Je,Dt),h(Je,Ri,Dt),hn=!0},p(Je,Dt){var Rl,Nl,Yt,Mi,Kr;const Il={};Dt[0]&1&&(Il.item=Je[0]),n.$set(Il),(!hn||Dt[0]&1)&&i!==(i=it(Je[0])+"")&&K(o,i),Je[0].bodytype?Jn?Jn.p(Je,Dt):(Jn=ra(Je),Jn.c(),Jn.m(a,f)):Jn&&(Jn.d(1),Jn=null),Je[0].species&&Je[0].species.length?Kn?Kn.p(Je,Dt):(Kn=oa(Je),Kn.c(),Kn.m(a,u)):Kn&&(Kn.d(1),Kn=null),(!hn||Dt[0]&1)&&_!==(_=wl(Je[0].volume??0)+"")&&K(g,_),(!hn||Dt[0]&1)&&T!==(T=ur(Je[0].weight??0)+"")&&K(R,T),Je[6].length&&Se.p(Je,Dt),(!hn||Dt[0]&1)&&D!==(D=to(Je[0])+"")&&K(j,D);const Ol={};Dt[0]&1&&(Ol.text=Je[2](to(Je[0]))),P.$set(Ol),Je[0].description?st?st.p(Je,Dt):(st=fa(Je),st.c(),st.m(s,null)):st&&(st.d(1),st=null),(!hn||Dt[0]&1)&&V!==(V=(Je[0].speed??0)+"")&&K(se,V),(!hn||Dt[0]&1)&&ee!==(ee=(Je[0].melee_skill??0)+"")&&K(le,ee),(!hn||Dt[0]&1)&&Le!==(Le=Je[3](Je[0])+"")&&K(ke,Le),Je[0].special_attacks?en?(en.p(Je,Dt),Dt[0]&1&&b(en,1)):(en=aa(Je),en.c(),b(en,1),en.m(F,null)):en&&(re(),$(en,1,1,()=>{en=null}),oe()),(!hn||Dt[0]&1)&&Oe!==(Oe=Je[0].hp+"")&&K(Ke,Oe),Je[0].regenerates?Zn?Zn.p(Je,Dt):(Zn=ca(Je),Zn.c(),Zn.m(he,xe)):Zn&&(Zn.d(1),Zn=null),(!hn||Dt[0]&1)&&ye!==(ye=(Je[0].dodge??0)+"")&&K(et,ye),(!hn||Dt[0]&1)&&kt!==(kt=(Je[0].armor_bash??0)+"")&&K(ht,kt),(!hn||Dt[0]&1)&&pe!==(pe=(Je[0].armor_cut??0)+"")&&K($e,pe),(!hn||Dt[0]&1)&&pt!==(pt=(Je[0].armor_stab??Math.floor((Je[0].armor_cut??0)*.8))+"")&&K(ut,pt),(!hn||Dt[0]&1)&&ot!==(ot=(Je[0].armor_bullet??0)+"")&&K(rt,ot),(!hn||Dt[0]&1)&&Ie!==(Ie=(Je[0].armor_acid??Math.floor((Je[0].armor_cut??0)*.5))+"")&&K(dt,Ie),(!hn||Dt[0]&1)&&jt!==(jt=(Je[0].armor_fire??0)+"")&&K(Tt,jt),Je[0].special_when_hit?Hn?Hn.p(Je,Dt):(Hn=_a(Je),Hn.c(),Hn.m(he,null)):Hn&&(Hn.d(1),Hn=null),(!hn||Dt[0]&1)&&ln!==(ln=(Je[0].aggression??0)+"")&&K(vn,ln),(!hn||Dt[0]&1)&&ze!==(ze=(Je[0].morale??0)+"")&&K(_n,ze),(!hn||Dt[0]&1)&&Pt!==(Pt=(Je[0].vision_day??40)+"")&&K(on,Pt),(!hn||Dt[0]&1)&&nn!==(nn=(Je[0].vision_night??1)+"")&&K(dn,nn),(!hn||Dt[0]&1)&&Tn!==(Tn=Je[0].default_faction+"")&&K(On,Tn),(Rl=Je[0].anger_triggers)!=null&&Rl.length?Qn?Qn.p(Je,Dt):(Qn=da(Je),Qn.c(),Qn.m(Xe,Rn)):Qn&&(Qn.d(1),Qn=null),(Nl=Je[0].placate_triggers)!=null&&Nl.length?xn?xn.p(Je,Dt):(xn=pa(Je),xn.c(),xn.m(Xe,oi)):xn&&(xn.d(1),xn=null),(Yt=Je[0].fear_triggers)!=null&&Yt.length?ei?ei.p(Je,Dt):(ei=ga(Je),ei.c(),ei.m(Xe,si)):ei&&(ei.d(1),ei=null),(Mi=Je[0].flags)!=null&&Mi.length?ti?ti.p(Je,Dt):(ti=$a(Je),ti.c(),ti.m(Xe,fi)):ti&&(ti.d(1),ti=null),Je[0].death_function?ni?ni.p(Je,Dt):(ni=ya(Je),ni.c(),ni.m(Xe,Ui)):ni&&(ni.d(1),ni=null),Je[10]&&di.p(Je,Dt),(Kr=Je[7])!=null&&Kr.length&&mi.p(Je,Dt),Je[8]&&(Je[8].entries??[]).length&&pi.p(Je,Dt),Je[9]&&(Je[9].entries??[]).length&&hi.p(Je,Dt)},i(Je){hn||(b(n.$$.fragment,Je),b(Se),b(P.$$.fragment,Je),b(en),b(di),b(mi),b(pi),b(hi),hn=!0)},o(Je){$(n.$$.fragment,Je),$(Se),$(P.$$.fragment,Je),$(en),$(di),$(mi),$(pi),$(hi),hn=!1},d(Je){Je&&p(e),z(n),Je&&p(r),Je&&p(s),Jn&&Jn.d(),Kn&&Kn.d(),Se&&Se.d(),z(P),st&&st.d(),Je&&p(G),Je&&p(Z),en&&en.d(),Zn&&Zn.d(),Hn&&Hn.d(),Je&&p(ft),Je&&p(Xt),Qn&&Qn.d(),xn&&xn.d(),ei&&ei.d(),ti&&ti.d(),ni&&ni.d(),di&&di.d(),Je&&p(Gi),mi&&mi.d(Je),Je&&p(ce),pi&&pi.d(Je),Je&&p(Qe),hi&&hi.d(Je),Je&&p(Ri)}}}const En="Monster";function to(l){const{melee_skill:e=0,melee_dice:n=0,melee_cut:t=0,melee_dice_sides:i=0,dodge:o=0,armor_bash:r=-1,armor_cut:s=-1,diff:a=0,special_attacks:f=[],emit_fields:u=[],hp:c,speed:_=0,attack_cost:g=100,morale:y=0,aggression:k=0,vision_day:T=40,vision_night:R=1}=l;let C=(e+1)*n*(t+i)*.04+(o+1)*(3+r+s)*.04+(a+f.length+8*u.length);return C=Math.floor(C),C*=((c??1)+_-g+(y+k)*.1)*.01+(T+2*R)*.01,Math.floor(C)}function Ca(l){const e=(l*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function rC(l){var e;return[l.default].concat(((e=l.monsters)==null?void 0:e.map(n=>n.monster).filter(n=>n!==l.default))??[]).filter(n=>!!n)}function oC(l,e,n){let{item:t}=e,i=qt("data");function o(y){return y<3?kn.__("<color_light_gray>Minimal threat.</color>"):y<10?kn.__("<color_light_gray>Mildly dangerous.</color>"):y<20?kn.__("<color_light_red>Dangerous.</color>"):y<30?kn.__("<color_red>Very dangerous.</color>"):y<50?kn.__("<color_red>Extremely dangerous.</color>"):kn.__("<color_red>Fatally dangerous!</color>")}function r(y){let{melee_dice:k=0,melee_dice_sides:T=0,melee_damage:R=[],melee_cut:C}=y;const B=nr(R);return C&&B.push({damage_type:"cut",amount:C}),`${k}d${T} bash`+B.map(D=>` + ${D.amount} ${D.damage_type}`).join("")}const s={SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",PATH_AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",PATH_AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",PATH_AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",PATH_AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},a={FIRE:"Triggers if there's a fire within 3 tiles, the strength of the effect equals 5 * the field intensity of the fire.",FRIEND_ATTACKED:"Triggers if the monster sees another monster of the same type being attacked; strength = 15.",FRIEND_DIED:"Triggers if the monster sees another monster of the same type dying; strength = 15.",HURT:"Triggers when the monster is hurt, strength equals 1 + (damage / 3).",MEAT:"Meat or a corpse is nearby.",PLAYER_CLOSE:"Triggers when a potential enemy is within 5 tiles range.",PLAYER_WEAK:"Raises monster aggression by 10 - (percent of hp remaining / 10) if a potential enemy has less than 70% hp remaining",PLAYER_NEAR_BABY:"Increases monster aggression by 8 and morale by 4 if **the player** comes within 3 tiles of its offspring (defined by the baby_monster field in its reproduction data)",SOUND:"Not an actual trigger, monsters above 10 aggression and 0 morale will wander towards, monsters below 0 morale will wander away from the source of the sound for 1 turn (6, if they have the GOODHEARING flag).",STALK:"Raises monster aggresssion by 1, triggers 20% of the time each turn if aggression > 5.",HOSTILE_SEEN:"Increases aggression/decreases morale by a random amount between 0-2 for every potential enemy it can see, up to 20 aggression.",MATING_SEASON:"Increases aggression by 3 if a potential enemy is within 5 tiles range and the season is the same as the monster's mating season (defined by the baby_flags field in its reproduction data)."};let f=t.material??[],u=i.flatDeathDrops(t.id),c=t.harvest?i.byId("harvest",t.harvest):void 0,_=t.dissect?i.byId("harvest",t.dissect):void 0,g=t.upgrades&&(t.upgrades.into||t.upgrades.into_group)?{...t.upgrades,monsters:t.upgrades.into?[t.upgrades.into]:t.upgrades.into_group?rC(i.byId("monstergroup",t.upgrades.into_group)):[]}:null;return l.$$set=y=>{"item"in y&&n(0,t=y.item)},[t,i,o,r,s,a,f,u,c,_,g]}class sC extends Et{constructor(e){super(),wt(this,e,oC,lC,$t,{item:0},null,[-1,-1])}}function Ia(l,e,n){const t=l.slice();return t[3]=e[n],t}function Oa(l,e,n){const t=l.slice();return t[6]=e[n],t}function Ra(l){let e,n=l[6].string+"",t;return{c(){e=m("span"),t=w(n),_e(e,"class","c_"+l[6].color)},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function Na(l){let e=`
`,n,t=l[3],i=[];for(let o=0;o<t.length;o+=1)i[o]=Ra(Oa(l,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=w(e)},m(o,r){for(let s=0;s<i.length;s+=1)i[s].m(o,r);h(o,n,r)},p(o,r){if(r&1){t=o[3];let s;for(s=0;s<t.length;s+=1){const a=Oa(o,t,s);i[s]?i[s].p(a,r):(i[s]=Ra(a),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){we(i,o),o&&p(n)}}}function fC(l){let e,n,t,i=l[0],o=[];for(let r=0;r<i.length;r+=1)o[r]=Na(Ia(l,i,r));return{c(){e=m("pre"),n=w("");for(let r=0;r<o.length;r+=1)o[r].c();t=w(`
`),Bt(e,"font-family","Unifont, monospace"),Bt(e,"line-height","1")},m(r,s){h(r,e,s),d(e,n);for(let a=0;a<o.length;a+=1)o[a].m(e,null);d(e,t)},p(r,[s]){if(s&1){i=r[0];let a;for(a=0;a<i.length;a+=1){const f=Ia(r,i,a);o[a]?o[a].p(f,s):(o[a]=Na(f),o[a].c(),o[a].m(e,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}},i:ie,o:ie,d(r){r&&p(e),we(o,r)}}}function aC(l,e,n){let{picture:t}=e,i=["white"];const o=[];for(const r of t.picture){const s=[];let a=r;for(;;){const u=a.match(/<\/?color([^>]*?)>/);if(u&&u.index!=null)u.index>0&&s.push({string:a.substring(0,u.index),color:i[0]}),u[0][1]==="/"&&i.length>1?i.shift():i.unshift(u[1].substring(1)),a=a.substring(u.index+u[0].length);else break}a.length&&s.push({string:a,color:i[0]});const f=41-s.reduce((u,c)=>u+c.string.length,0);f>0&&s.push({string:" ".repeat(f),color:i[0]}),o.push(s)}return l.$$set=r=>{"picture"in r&&n(1,t=r.picture)},[o,t]}class uC extends Et{constructor(e){super(),wt(this,e,aC,fC,$t,{picture:1})}}function Aa(l){var me;let e,n,t,i,o,r,s,a,f,u,c,_,g,y=(l[0].range??0)+"",k,T,R,C=(l[0].dispersion??0)+"",B,D,j,L=(l[0].recoil??0)+"",P,U,q,G=l[2](l[0]).toFixed(0)+"",Z,M,x,ne=(l[0].critical_multiplier??2)+"",F,X,J;s=new ve({props:{type:"ammunition_type",id:l[0].ammo_type}});let V=l[0].casing&&Ba(l),se=((me=l[0].effects)==null?void 0:me.length)&&Ma(l);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Ammunition",{_context:Yi})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Ammunition Type",{_context:Yi})}`,r=m("dd"),W(s.$$.fragment),a=m("dt"),a.textContent=`${O.t("Damage",{_context:Yi})}`,f=m("dd"),f.textContent=`${l[1].amount??0} (${kn._p("damage_type",l[1].damage_type??"bullet")})
      `,u=m("dt"),u.textContent=`${O.t("Armor Penetration",{_context:Yi})}`,c=m("dd"),c.textContent=`${l[1].armor_penetration??0}`,_=m("dt"),_.textContent=`${O.t("Range",{_context:Yi})}`,g=m("dd"),k=w(y),T=m("dt"),T.textContent=`${O.t("Dispersion",{_context:Yi})}`,R=m("dd"),B=w(C),D=m("dt"),D.textContent=`${O.t("Recoil",{_context:Yi})}`,j=m("dd"),P=w(L),U=m("dt"),U.textContent=`${O.t("Loudness",{_context:Yi})} 
      `,q=m("dd"),Z=w(G),M=m("dt"),M.textContent=`${O.t("Critical Multiplier",{_context:Yi})}`,x=m("dd"),F=w(ne),V&&V.c(),X=fe(),se&&se.c(),_e(U,"title","Base loudness of ammo (possibly modified by gun/gunmods)")},m(Q,ee){h(Q,e,ee),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),H(s,r,null),d(i,a),d(i,f),d(i,u),d(i,c),d(i,_),d(i,g),d(g,k),d(i,T),d(i,R),d(R,B),d(i,D),d(i,j),d(j,P),d(i,U),d(i,q),d(q,Z),d(i,M),d(i,x),d(x,F),V&&V.m(i,null),d(i,X),se&&se.m(i,null),J=!0},p(Q,ee){var ue;const le={};ee&1&&(le.id=Q[0].ammo_type),s.$set(le),(!J||ee&1)&&y!==(y=(Q[0].range??0)+"")&&K(k,y),(!J||ee&1)&&C!==(C=(Q[0].dispersion??0)+"")&&K(B,C),(!J||ee&1)&&L!==(L=(Q[0].recoil??0)+"")&&K(P,L),(!J||ee&1)&&G!==(G=Q[2](Q[0]).toFixed(0)+"")&&K(Z,G),(!J||ee&1)&&ne!==(ne=(Q[0].critical_multiplier??2)+"")&&K(F,ne),Q[0].casing?V?(V.p(Q,ee),ee&1&&b(V,1)):(V=Ba(Q),V.c(),b(V,1),V.m(i,X)):V&&(re(),$(V,1,1,()=>{V=null}),oe()),(ue=Q[0].effects)!=null&&ue.length?se?se.p(Q,ee):(se=Ma(Q),se.c(),se.m(i,null)):se&&(se.d(1),se=null)},i(Q){J||(b(s.$$.fragment,Q),b(V),J=!0)},o(Q){$(s.$$.fragment,Q),$(V),J=!1},d(Q){Q&&p(e),z(s),V&&V.d(),se&&se.d()}}}function Ba(l){let e,n,t,i;return t=new ve({props:{id:l[0].casing,type:"item"}}),{c(){e=m("dt"),e.textContent=`${O.t("Casing",{_context:Yi})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].casing),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function Ma(l){let e,n,t=l[0].effects.join(", ")+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Effects",{_context:Yi})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].effects.join(", ")+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function cC(l){let e,n,t=(l[0].damage||l[0].show_stats)&&Aa(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].damage||i[0].show_stats?t?(t.p(i,o),o&1&&b(t,1)):(t=Aa(i),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(re(),$(t,1,1,()=>{t=null}),oe())},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}const Yi="Item Ammo Info";function _C(l,e,n){let{item:t}=e;const i=Array.isArray(t.damage)?t.damage[0]:t.damage&&"values"in t.damage?t.damage.values[0]:t.damage??{amount:0,damage_type:"bullet",armor_penetration:0};function o(r){return(r.loudness??-1)>=0?r.loudness??0:(r.range??0)*2+(i.amount??0)*(i.armor_penetration??0)}return l.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,i,o]}class dC extends Et{constructor(e){super(),wt(this,e,_C,cC,$t,{item:0})}}function $o(l){const e=(l*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function mC(l){let e=new Map;for(const[n,t]of l){const i=e.get(n)??[];i.push(t),e.set(n,i)}return e}function Us(l,e){const n=new Map;for(const t of l){const i=e(t);for(const o of i)n.has(o)||n.set(o,[]),n.get(o).push(t)}return n}function pC(l,e=n=>n){const n=new Set,t=[];for(const i of l){const o=e(i);n.has(o)||t.push(i),n.add(o)}return t}function Da(l,e,n){const t=l.slice();t[18]=e[n];const i=t[18].apd;return t[19]=i,t}function La(l,e,n){const t=l.slice();t[22]=e[n];const i=t[1].byId("material",t[22].type);return t[23]=i,t}function Fa(l,e,n){const t=l.slice();t[22]=e[n];const i=t[1].byId("material",t[22].type);return t[23]=i,t}function Pa(l,e,n){const t=l.slice();t[22]=e[n];const i=t[1].byId("material",t[22].type);return t[23]=i,t}function ja(l,e,n){const t=l.slice();return t[22]=e[n],t}function Ua(l,e,n){const t=l.slice();return t[22]=e[n],t}function Ga(l,e,n){const t=l.slice();return t[22]=e[n],t}function hC(l){let e=O.t("Normal",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function gC(l){let e=O.t("Outer aura",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function bC(l){let e=O.t("Waist",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function $C(l){let e=O.t("Outer",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function vC(l){let e=O.t("Strapped",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function yC(l){let e=O.t("Close to skin",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function kC(l){let e=O.t("Personal aura",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function qa(l){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Sided",{_context:il})}`,n=m("dd"),n.textContent=`${O.t("Yes")}`},m(t,i){h(t,e,i),h(t,n,i)},p:ie,d(t){t&&p(e),t&&p(n)}}}function wC(l){let e,n=l[2](l[18].apd.specifically_covers).join(", ")+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function EC(l){let e,n,t,i=l[18].apd.coverage+"",o,r,s,a,f=l[18].apd.coverage!==l[18].apd.cover_melee&&TC(l),u=l[18].apd.coverage!==l[18].apd.cover_ranged&&CC(l),c=l[18].apd.cover_vitals&&IC(l);return{c(){e=m("dl"),n=m("dt"),n.textContent=`${O.t("Default",{_context:"Armor Coverage"})}`,t=m("dd"),o=w(i),r=w("%"),f&&f.c(),s=fe(),u&&u.c(),a=fe(),c&&c.c(),_e(e,"class","svelte-1i5r9mc")},m(_,g){h(_,e,g),d(e,n),d(e,t),d(t,o),d(t,r),f&&f.m(e,null),d(e,s),u&&u.m(e,null),d(e,a),c&&c.m(e,null)},p(_,g){_[18].apd.coverage!==_[18].apd.cover_melee&&f.p(_,g),_[18].apd.coverage!==_[18].apd.cover_ranged&&u.p(_,g),_[18].apd.cover_vitals&&c.p(_,g)},d(_){_&&p(e),f&&f.d(),u&&u.d(),c&&c.d()}}}function SC(l){let e=l[18].apd.coverage+"",n,t;return{c(){n=w(e),t=w("%")},m(i,o){h(i,n,o),h(i,t,o)},p:ie,d(i){i&&p(n),i&&p(t)}}}function TC(l){let e,n,t=l[18].apd.cover_melee+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Melee",{_context:"Armor Coverage"})}`,n=m("dd"),i=w(t),o=w("%")},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p:ie,d(r){r&&p(e),r&&p(n)}}}function CC(l){let e,n,t=l[18].apd.cover_ranged+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Ranged",{_context:"Armor Coverage"})}`,n=m("dd"),i=w(t),o=w("%")},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p:ie,d(r){r&&p(e),r&&p(n)}}}function IC(l){let e,n,t=l[18].apd.cover_vitals+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Vitals",{_context:"Armor Coverage"})}`,n=m("dd"),i=w(t),o=w("%")},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p:ie,d(r){r&&p(e),r&&p(n)}}}function OC(l){let e,n,t,i=l[7](l[18].bp_ids[0]).toFixed(2)+"",o,r,s,a=l[8](l[18].bp_ids[0]).toFixed(2)+"",f,u,c;return{c(){e=m("dl"),n=m("dt"),n.textContent=`${O.t("Acid",{_context:"Damage Type"})}`,t=m("dd"),o=w(i),r=m("dt"),r.textContent=`${O.t("Fire",{_context:"Damage Type"})}`,s=m("dd"),f=w(a),u=m("dt"),u.textContent=`${O.t("Environ.",{_context:il})}`,c=m("dd"),c.textContent=`${l[6]()}`,_e(e,"class","protection-env svelte-1i5r9mc")},m(_,g){h(_,e,g),d(e,n),d(e,t),d(t,o),d(e,r),d(e,s),d(s,f),d(e,u),d(e,c)},p:ie,d(_){_&&p(e)}}}function Ya(l){let e,n,t;return n=new ve({props:{type:"material",id:l[22].type}}),{c(){e=m("td"),W(n.$$.fragment),Bt(e,"writing-mode","vertical-rl"),Bt(e,"text-align","right"),Bt(e,"vertical-align","middle"),_e(e,"class","svelte-1i5r9mc")},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function Ha(l){let e,n=(l[22].thickness??0).toFixed(1)+"",t,i;return{c(){e=m("td"),t=w(n),i=w("mm"),_e(e,"class","svelte-1i5r9mc")},m(o,r){h(o,e,r),d(e,t),d(e,i)},p:ie,d(o){o&&p(e)}}}function za(l){let e,n=(l[22].covered_by_mat??100).toFixed(0)+"",t,i;return{c(){e=m("td"),t=w(n),i=w("%"),_e(e,"class","svelte-1i5r9mc")},m(o,r){h(o,e,r),d(e,t),d(e,i)},p:ie,d(o){o&&p(e)}}}function Wa(l){let e,n=(l[23].bash_resist*(l[22].thickness??0)).toFixed(2)+"",t;return{c(){e=m("td"),t=w(n),_e(e,"class","svelte-1i5r9mc")},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function Va(l){let e,n=(l[23].cut_resist*(l[22].thickness??0)).toFixed(2)+"",t;return{c(){e=m("td"),t=w(n),_e(e,"class","svelte-1i5r9mc")},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function Xa(l){let e,n=(l[23].bullet_resist*(l[22].thickness??0)).toFixed(2)+"",t;return{c(){e=m("td"),t=w(n),_e(e,"class","svelte-1i5r9mc")},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function Ja(l){var Rt;let e,n,t=l[4](l[18].bp_ids)+"",i,o,r,s,a,f,u=l[5](l[18])+"",c,_,g,y,k,T,R=l[6](),C,B,D,j,L,P,U,q,G,Z,M,x,ne,F,X,J,V,se,me,Q,ee,le,ue,be,Le,ke,Ee,Te,Re=((Rt=l[18].apd.specifically_covers)==null?void 0:Rt.length)&&wC(l);function He(Ge,pe){return Ge[18].apd.coverage===Ge[18].apd.cover_melee&&Ge[18].apd.coverage===Ge[18].apd.cover_ranged&&Ge[18].apd.cover_vitals===0?SC:EC}let Ce=He(l)(l),De=R&&OC(l),Oe=l[19].material,Ke=[];for(let Ge=0;Ge<Oe.length;Ge+=1)Ke[Ge]=Ya(Ga(l,Oe,Ge));const xe=Ge=>$(Ke[Ge],1,1,()=>{Ke[Ge]=null});let mt=l[19].material,ye=[];for(let Ge=0;Ge<mt.length;Ge+=1)ye[Ge]=Ha(Ua(l,mt,Ge));let et=l[19].material,je=[];for(let Ge=0;Ge<et.length;Ge+=1)je[Ge]=za(ja(l,et,Ge));let ct=l[19].material,We=[];for(let Ge=0;Ge<ct.length;Ge+=1)We[Ge]=Wa(Pa(l,ct,Ge));let qe=l[19].material,Ve=[];for(let Ge=0;Ge<qe.length;Ge+=1)Ve[Ge]=Va(Fa(l,qe,Ge));let kt=l[19].material,ht=[];for(let Ge=0;Ge<kt.length;Ge+=1)ht[Ge]=Xa(La(l,kt,Ge));return{c(){e=m("div"),n=m("h2"),i=w(t),o=N(),Re&&Re.c(),r=N(),s=m("dl"),a=m("dt"),a.textContent=`${O.t("Encumbrance",{_context:il})}`,f=m("dd"),c=w(u),_=m("dt"),_.textContent=`${O.t("Coverage",{_context:il})}`,g=m("dd"),Ce.c(),y=N(),k=m("dt"),k.textContent=`${O.t("Protection",{_context:il})}`,T=m("dd"),De&&De.c(),C=N(),B=m("table"),D=m("tbody"),j=m("tr"),L=m("td"),P=N();for(let Ge=0;Ge<Ke.length;Ge+=1)Ke[Ge].c();U=N(),q=m("tr"),G=m("td"),G.textContent=`${O.t("Thickness",{_context:il})}`,Z=N();for(let Ge=0;Ge<ye.length;Ge+=1)ye[Ge].c();M=N(),x=m("tr"),ne=m("td"),ne.textContent=`${O.t("Coverage",{_context:il})}`,F=N();for(let Ge=0;Ge<je.length;Ge+=1)je[Ge].c();X=N(),J=m("tr"),V=m("td"),V.textContent=`${O.t("Bash",{_context:"Damage Type"})}`,se=N();for(let Ge=0;Ge<We.length;Ge+=1)We[Ge].c();me=N(),Q=m("tr"),ee=m("td"),ee.textContent=`${O.t("Cut",{_context:"Damage Type"})}`,le=N();for(let Ge=0;Ge<Ve.length;Ge+=1)Ve[Ge].c();ue=N(),be=m("tr"),Le=m("td"),Le.textContent=`${O.t("Ballistic",{_context:"Damage Type"})}`,ke=N();for(let Ge=0;Ge<ht.length;Ge+=1)ht[Ge].c();Ee=N(),_e(n,"class","svelte-1i5r9mc"),_e(L,"class","svelte-1i5r9mc"),_e(j,"class","svelte-1i5r9mc"),_e(G,"class","svelte-1i5r9mc"),_e(q,"class","svelte-1i5r9mc"),_e(ne,"class","svelte-1i5r9mc"),_e(x,"class","svelte-1i5r9mc"),_e(V,"class","svelte-1i5r9mc"),_e(J,"class","svelte-1i5r9mc"),_e(ee,"class","svelte-1i5r9mc"),_e(Q,"class","svelte-1i5r9mc"),_e(Le,"class","svelte-1i5r9mc"),_e(be,"class","svelte-1i5r9mc"),Bt(B,"text-align","center"),_e(B,"class","svelte-1i5r9mc"),_e(T,"class","protection svelte-1i5r9mc"),_e(s,"class","svelte-1i5r9mc"),_e(e,"class","body-part svelte-1i5r9mc")},m(Ge,pe){h(Ge,e,pe),d(e,n),d(n,i),d(n,o),Re&&Re.m(n,null),d(e,r),d(e,s),d(s,a),d(s,f),d(f,c),d(s,_),d(s,g),Ce.m(g,null),d(g,y),d(s,k),d(s,T),De&&De.m(T,null),d(T,C),d(T,B),d(B,D),d(D,j),d(j,L),d(j,P);for(let $e=0;$e<Ke.length;$e+=1)Ke[$e].m(j,null);d(D,U),d(D,q),d(q,G),d(q,Z);for(let $e=0;$e<ye.length;$e+=1)ye[$e].m(q,null);d(D,M),d(D,x),d(x,ne),d(x,F);for(let $e=0;$e<je.length;$e+=1)je[$e].m(x,null);d(D,X),d(D,J),d(J,V),d(J,se);for(let $e=0;$e<We.length;$e+=1)We[$e].m(J,null);d(D,me),d(D,Q),d(Q,ee),d(Q,le);for(let $e=0;$e<Ve.length;$e+=1)Ve[$e].m(Q,null);d(D,ue),d(D,be),d(be,Le),d(be,ke);for(let $e=0;$e<ht.length;$e+=1)ht[$e].m(be,null);d(e,Ee),Te=!0},p(Ge,pe){var $e;if(($e=Ge[18].apd.specifically_covers)!=null&&$e.length&&Re.p(Ge,pe),Ce.p(Ge,pe),R&&De.p(Ge,pe),pe[0]&8){Oe=Ge[19].material;let ae;for(ae=0;ae<Oe.length;ae+=1){const Ye=Ga(Ge,Oe,ae);Ke[ae]?(Ke[ae].p(Ye,pe),b(Ke[ae],1)):(Ke[ae]=Ya(Ye),Ke[ae].c(),b(Ke[ae],1),Ke[ae].m(j,null))}for(re(),ae=Oe.length;ae<Ke.length;ae+=1)xe(ae);oe()}if(pe[0]&8){mt=Ge[19].material;let ae;for(ae=0;ae<mt.length;ae+=1){const Ye=Ua(Ge,mt,ae);ye[ae]?ye[ae].p(Ye,pe):(ye[ae]=Ha(Ye),ye[ae].c(),ye[ae].m(q,null))}for(;ae<ye.length;ae+=1)ye[ae].d(1);ye.length=mt.length}if(pe[0]&8){et=Ge[19].material;let ae;for(ae=0;ae<et.length;ae+=1){const Ye=ja(Ge,et,ae);je[ae]?je[ae].p(Ye,pe):(je[ae]=za(Ye),je[ae].c(),je[ae].m(x,null))}for(;ae<je.length;ae+=1)je[ae].d(1);je.length=et.length}if(pe[0]&10){ct=Ge[19].material;let ae;for(ae=0;ae<ct.length;ae+=1){const Ye=Pa(Ge,ct,ae);We[ae]?We[ae].p(Ye,pe):(We[ae]=Wa(Ye),We[ae].c(),We[ae].m(J,null))}for(;ae<We.length;ae+=1)We[ae].d(1);We.length=ct.length}if(pe[0]&10){qe=Ge[19].material;let ae;for(ae=0;ae<qe.length;ae+=1){const Ye=Fa(Ge,qe,ae);Ve[ae]?Ve[ae].p(Ye,pe):(Ve[ae]=Va(Ye),Ve[ae].c(),Ve[ae].m(Q,null))}for(;ae<Ve.length;ae+=1)Ve[ae].d(1);Ve.length=qe.length}if(pe[0]&10){kt=Ge[19].material;let ae;for(ae=0;ae<kt.length;ae+=1){const Ye=La(Ge,kt,ae);ht[ae]?ht[ae].p(Ye,pe):(ht[ae]=Xa(Ye),ht[ae].c(),ht[ae].m(be,null))}for(;ae<ht.length;ae+=1)ht[ae].d(1);ht.length=kt.length}},i(Ge){if(!Te){for(let pe=0;pe<Oe.length;pe+=1)b(Ke[pe]);Te=!0}},o(Ge){Ke=Ke.filter(Boolean);for(let pe=0;pe<Ke.length;pe+=1)$(Ke[pe]);Te=!1},d(Ge){Ge&&p(e),Re&&Re.d(),Ce.d(),De&&De.d(),we(Ke,Ge),we(ye,Ge),we(je,Ge),we(We,Ge),we(Ve,Ge),we(ht,Ge)}}}function RC(l){let e,n,t,i,o,r,s,a,f,u,c,_,g,y,k,T=(l[0].warmth??0)+"",R,C,B,D;function j(M,x){return x[0]&1&&(s=null),x[0]&1&&(a=null),x[0]&1&&(f=null),x[0]&1&&(u=null),x[0]&1&&(c=null),x[0]&1&&(_=null),s==null&&(s=!!(M[0].flags??[]).includes("PERSONAL")),s?kC:(a==null&&(a=!!(M[0].flags??[]).includes("SKINTIGHT")),a?yC:(f==null&&(f=!!(M[0].flags??[]).includes("BELTED")),f?vC:(u==null&&(u=!!(M[0].flags??[]).includes("OUTER")),u?$C:(c==null&&(c=!!(M[0].flags??[]).includes("WAIST")),c?bC:(_==null&&(_=!!(M[0].flags??[]).includes("AURA")),_?gC:hC)))))}let L=j(l,[-1,-1]),P=L(l),U=l[0].sided&&qa(),q=l[3],G=[];for(let M=0;M<q.length;M+=1)G[M]=Ja(Da(l,q,M));const Z=M=>$(G[M],1,1,()=>{G[M]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Armor",{_context:il,_comment:"Section heading"})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Layer",{_context:il})}`,r=m("dd"),P.c(),g=N(),y=m("dt"),y.textContent=`${O.t("Warmth",{_context:il})}`,k=m("dd"),R=w(T),U&&U.c(),C=N(),B=m("div");for(let M=0;M<G.length;M+=1)G[M].c();_e(B,"class","body-parts svelte-1i5r9mc")},m(M,x){h(M,e,x),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),P.m(r,null),d(r,g),d(i,y),d(i,k),d(k,R),U&&U.m(i,null),d(e,C),d(e,B);for(let ne=0;ne<G.length;ne+=1)G[ne].m(B,null);D=!0},p(M,x){if(L===(L=j(M,x))&&P?P.p(M,x):(P.d(1),P=L(M),P&&(P.c(),P.m(r,g))),(!D||x[0]&1)&&T!==(T=(M[0].warmth??0)+"")&&K(R,T),M[0].sided?U?U.p(M,x):(U=qa(),U.c(),U.m(i,null)):U&&(U.d(1),U=null),x[0]&510){q=M[3];let ne;for(ne=0;ne<q.length;ne+=1){const F=Da(M,q,ne);G[ne]?(G[ne].p(F,x),b(G[ne],1)):(G[ne]=Ja(F),G[ne].c(),b(G[ne],1),G[ne].m(B,null))}for(re(),ne=q.length;ne<G.length;ne+=1)Z(ne);oe()}},i(M){if(!D){for(let x=0;x<q.length;x+=1)b(G[x]);D=!0}},o(M){G=G.filter(Boolean);for(let x=0;x<G.length;x+=1)$(G[x]);D=!1},d(M){M&&p(e),P.d(),U&&U.d(),we(G,M)}}}const il="Item Armor Info";function NC(l,e){const[n,t]=typeof l=="number"?[l,l]:l,[i,o]=typeof e=="number"?[e,e]:e;return[n+i,t+o]}function AC(l){return typeof l=="string"?{type:l}:{...l}}function BC(l){return typeof l[0]=="string"}function MC(l,e,n){var j,L;let{item:t}=e,i=qt("data");const o=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:BC(t.material)?t.material.map(P=>({type:P,portion:1})):t.material.map(P=>({portion:1,...P})),r=o.reduce((P,U)=>P+U.portion,0),s=[];for(const P of t.armor??[]){const U=((j=P.material)==null?void 0:j.map(AC))??o.map(q=>({type:q.type,covered_by_mat:100,thickness:q.portion/r*(t.material_thickness??0)}));for(const q of pC(P.covers??[])){const G=i.byId("body_part",q),Z=s.find(M=>M.covers.includes(q));if(Z){Z.encumbrance=NC(Z.encumbrance??0,P.encumbrance??0);const M=k(G,P)/100,x=k(G,Z)/100;Z.coverage+=(P.coverage??0)*M|0,Z.cover_melee+=(P.cover_melee??0)*M|0,Z.cover_ranged+=(P.cover_ranged??0)*M|0,Z.cover_vitals=(Z.cover_vitals??0)+(P.cover_vitals??0),Z.material_thickness=((P.material_thickness??t.material_thickness??0)*M+(Z.material_thickness??t.material_thickness??0)*x)/(M+x),Z.environmental_protection=((P.environmental_protection??t.environmental_protection??0)*M+(Z.environmental_protection??t.environmental_protection??0)*x)/(M+x)|0,Z.environmental_protection_with_filter=((P.environmental_protection_with_filter??t.environmental_protection_with_filter??0)*M+(Z.environmental_protection_with_filter??t.environmental_protection_with_filter??0)*x)/(M+x)|0,Z.layers=Z.layers??[];for(const ne of P.layers??[])Z.layers.includes(ne)||Z.layers.push(ne);for(const ne of U){const F=Z.material.find(X=>X.type===ne.type);if(F){const X=k(G,P),J=k(G,Z);F.covered_by_mat=(F.covered_by_mat??100)+(ne.covered_by_mat??100)*X/100|0,F.thickness=(X*(ne.thickness??0)+J*(F.thickness??0))/(J+X)}else{const X=k(G,P),J=JSON.parse(JSON.stringify(ne));J.covered_by_mat=(ne.covered_by_mat??100)*X/100,Z.material.push(J)}}for(const ne of P.specifically_covers??[])(L=Z.specifically_covers)!=null&&L.includes(ne)||(Z.specifically_covers==null&&(Z.specifically_covers=[]),Z.specifically_covers.push(ne))}else{const M=JSON.parse(JSON.stringify(P));M.covers=[q];const x=k(G,M)/100,ne=M.coverage??0;M.coverage=ne*x|0,M.cover_melee=(M.cover_melee??ne)*x|0,M.cover_ranged=(M.cover_ranged??ne)*x|0,M.material=JSON.parse(JSON.stringify(U));for(const F of M.material??[])F.covered_by_mat=(F.covered_by_mat??100)*M.coverage/100;s.push(M)}}}for(const P of s)for(const U of P.material??[])U.covered_by_mat=(U.covered_by_mat??100)/(P.coverage??0)*100|0;function a(P){const U=new Set,q=[];for(const G of P??[]){if(U.has(G))continue;const Z=i.byId("body_part",G);Z.opposite_part&&P.includes(Z.opposite_part)?(q.push(Qt(Z.heading_multiple)),U.add(Z.opposite_part)):q.push(Qt(Z.heading)),U.add(G)}return q}function f(P){const U=new Set,q=[];for(const G of P??[]){if(U.has(G))continue;const Z=i.byId("sub_body_part",G);Z.opposite&&P.includes(Z.opposite)?(q.push(Qt(Z.name_multiple??Z.name)),U.add(Z.opposite)):q.push(Qt(Z.name)),U.add(G)}return q}const u=[...new Set(s.flatMap(P=>P.covers))],_=[...Us(u,P=>{const{covers:U,...q}=s.find(G=>G.covers.includes(P));return[JSON.stringify(q)]}).values()].map(P=>{const U=s.find(q=>q.covers.includes(P[0]));return{bp_ids:P,apd:U}}),g=P=>a(P).join(", "),y=P=>{const[U,q]=typeof P.apd.encumbrance=="number"?[P.apd.encumbrance,P.apd.encumbrance]:P.apd.encumbrance??[0,0];return U===q?`${U}`:`${U} (${q} when full)`};function k(P,U){var M;if(!((M=P.sub_parts)!=null&&M.length))return 100;let q=0,G=0;const Z=U.specifically_covers&&U.specifically_covers.length?U.specifically_covers.map(x=>i.byId("sub_body_part",x)):i.byType("sub_body_part").filter(x=>x.parent===P.id);for(const x of Z)P.id===x.parent&&(x.secondary?G+=x.max_coverage??0:q+=x.max_coverage??0);return Math.max(q,G)}function T(P){var U;for(const q of s)if((U=q.covers)!=null&&U.includes(P))return q.material;return[]}function R(){return s.length===0?0:s.reduce((U,q)=>U+(q.environmental_protection??t.environmental_protection??0),0)/s.length}function C(P){{const M=T(P);if(M!=null&&M.length){let x=0;for(const F of M)x+=i.byId("material",F.type).acid_resist*(F.covered_by_mat??0)*.01;const ne=R();return ne<10&&(x*=ne/10),x}}let U=0;const{mats:q,total:G}=D();if(q.length){for(const M of q)U+=i.byId("material",M.type).acid_resist;U/=G}const Z=R();return Z<10&&(U*=Z/10),U}function B(P){{const M=T(P);if(M!=null&&M.length){let x=0;for(const F of M)x+=i.byId("material",F.type).fire_resist*(F.covered_by_mat??0)*.01;const ne=R();return ne<10&&(x*=ne/10),x}}let U=0;const{mats:q,total:G}=D();if(q.length){for(const M of q)U+=i.byId("material",M.type).fire_resist;U/=G}const Z=R();return Z<10&&(U*=Z/10),U}function D(){let P=0;const U=[];if(Array.isArray(t.material)){for(const q of t.material)if(typeof q=="string")U.push({type:q,portion:1}),P+=1;else if(typeof q=="object"){const G={type:q.type,portion:q.portion??1};P+=G.portion,U.push(G)}}return{mats:U,total:P}}return l.$$set=P=>{"item"in P&&n(0,t=P.item)},[t,i,f,_,g,y,R,C,B]}class DC extends Et{constructor(e){super(),wt(this,e,MC,RC,$t,{item:0},null,[-1,-1])}}function Ka(l,e,n){const t=l.slice();return t[11]=e[n],t}function Za(l,e,n){const t=l.slice();return t[14]=e[n],t[16]=n,t}function Qa(l,e,n){const t=l.slice();return t[11]=e[n],t}function xa(l,e,n){const t=l.slice();return t[14]=e[n],t[16]=n,t}function eu(l,e,n){const t=l.slice();return t[20]=e[n][0],t[21]=e[n][1],t}function LC(l){let e,n,t;return{c(){e=w("The "),n=m("strong"),n.textContent="head",t=w(".")},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},d(i){i&&p(e),i&&p(n),i&&p(t)}}}function FC(l){let e,n,t;return{c(){e=w("The "),n=m("strong"),n.textContent="eyes",t=w(".")},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},d(i){i&&p(e),i&&p(n),i&&p(t)}}}function PC(l){let e,n,t;return{c(){e=w("The "),n=m("strong"),n.textContent="mouth",t=w(".")},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},d(i){i&&p(e),i&&p(n),i&&p(t)}}}function jC(l){let e,n,t;return{c(){e=w("The "),n=m("strong"),n.textContent="torso",t=w(".")},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},d(i){i&&p(e),i&&p(n),i&&p(t)}}}function UC(l){let e,n,t,i,o;return{c(){e=w("The "),n=m("strong"),t=w("right "),i=w(l[20]),o=w(".")},m(r,s){h(r,e,s),h(r,n,s),d(n,t),d(n,i),h(r,o,s)},d(r){r&&p(e),r&&p(n),r&&p(o)}}}function GC(l){let e,n,t,i,o;return{c(){e=w("The "),n=m("strong"),t=w("left "),i=w(l[20]),o=w(".")},m(r,s){h(r,e,s),h(r,n,s),d(n,t),d(n,i),h(r,o,s)},d(r){r&&p(e),r&&p(n),r&&p(o)}}}function qC(l){let e,n,t,i;return{c(){e=w("The "),n=m("strong"),t=w(l[21]),i=w(".")},m(o,r){h(o,e,r),h(o,n,r),d(n,t),h(o,i,r)},d(o){o&&p(e),o&&p(n),o&&p(i)}}}function YC(l){let e,n,t,i;return{c(){e=w("Either "),n=m("strong"),t=w(l[20]),i=w(".")},m(o,r){h(o,e,r),h(o,n,r),d(n,t),h(o,i,r)},d(o){o&&p(e),o&&p(n),o&&p(i)}}}function tu(l){let e,n,t,i,o,r=" ",s;function a(c,_){if(_&1&&(e=null),e==null&&(e=!!(c[0].sided&&(c[3](`${c[20]}_l`)||c[3](`${c[20]}_r`)))),e)return YC;if(n==null&&(n=!!(c[3](`${c[20]}_l`)&&c[3](`${c[20]}_r`))),n)return qC;if(t==null&&(t=!!c[3](`${c[20]}_l`)),t)return GC;if(i==null&&(i=!!c[3](`${c[20]}_r`)),i)return UC}let f=a(l,-1),u=f&&f(l);return{c(){u&&u.c(),o=N(),s=w(r)},m(c,_){u&&u.m(c,_),h(c,o,_),h(c,s,_)},p(c,_){f!==(f=a(c,_))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(o.parentNode,o)))},d(c){u&&u.d(c),c&&p(o),c&&p(s)}}}function HC(l){let e;return{c(){e=w("Nothing.")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function zC(l){let e;return{c(){e=w("Normal")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function WC(l){let e;return{c(){e=w("Outer aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function VC(l){let e;return{c(){e=w("Waist")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function XC(l){let e;return{c(){e=w("Outer")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function JC(l){let e;return{c(){e=w("Strapped")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function KC(l){let e;return{c(){e=w("Close to skin")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ZC(l){let e;return{c(){e=w("Personal aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function QC(l){let e=(l[0].encumbrance??0)+"",n,t,i=l[0].max_encumbrance&&nu(l);return{c(){n=w(e),i&&i.c(),t=fe()},m(o,r){h(o,n,r),i&&i.m(o,r),h(o,t,r)},p(o,r){r&1&&e!==(e=(o[0].encumbrance??0)+"")&&K(n,e),o[0].max_encumbrance?i?i.p(o,r):(i=nu(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(o){o&&p(n),i&&i.d(o),o&&p(t)}}}function xC(l){let e,n=l[5],t=[];for(let i=0;i<n.length;i+=1)t[i]=lu(Qa(l,n,i));return{c(){e=m("dl");for(let i=0;i<t.length;i+=1)t[i].c()},m(i,o){h(i,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(i,o){if(o&96){n=i[5];let r;for(r=0;r<n.length;r+=1){const s=Qa(i,n,r);t[r]?t[r].p(s,o):(t[r]=lu(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(i){i&&p(e),we(t,i)}}}function nu(l){let e=" ",n,t,i=l[0].max_encumbrance+"",o,r;return{c(){n=w(e),t=w("("),o=w(i),r=w(" when full)")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,r,a)},p(s,a){a&1&&i!==(i=s[0].max_encumbrance+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r)}}}function e4(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function iu(l){let e=l[14]+"",n,t=l[16]!==0&&e4();return{c(){t&&t.c(),n=w(e)},m(i,o){t&&t.m(i,o),h(i,n,o)},p:ie,d(i){t&&t.d(i),i&&p(n)}}}function t4(l){let e=(l[11].encumbrance??0)+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function n4(l){let e=l[11].encumbrance[0]+"",n,t,i,o=l[11].encumbrance[1]!==l[11].encumbrance[0]&&i4(l);return{c(){n=w(e),t=N(),o&&o.c(),i=fe()},m(r,s){h(r,n,s),h(r,t,s),o&&o.m(r,s),h(r,i,s)},p(r,s){r[11].encumbrance[1]!==r[11].encumbrance[0]&&o.p(r,s)},d(r){r&&p(n),r&&p(t),o&&o.d(r),r&&p(i)}}}function i4(l){let e,n=l[11].encumbrance[1]+"",t,i;return{c(){e=w("("),t=w(n),i=w(" when full)")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function lu(l){let e,n,t,i,o=l[6](l[11]),r=[];for(let u=0;u<o.length;u+=1)r[u]=iu(xa(l,o,u));function s(u,c){return Array.isArray(u[11].encumbrance)?n4:t4}let f=s(l)(l);return{c(){e=m("dt");for(let u=0;u<r.length;u+=1)r[u].c();n=N(),t=m("dd"),f.c(),i=N()},m(u,c){h(u,e,c);for(let _=0;_<r.length;_+=1)r[_].m(e,null);d(e,n),h(u,t,c),f.m(t,null),d(t,i)},p(u,c){if(c&96){o=u[6](u[11]);let _;for(_=0;_<o.length;_+=1){const g=xa(u,o,_);r[_]?r[_].p(g,c):(r[_]=iu(g),r[_].c(),r[_].m(e,n))}for(;_<r.length;_+=1)r[_].d(1);r.length=o.length}f.p(u,c)},d(u){u&&p(e),we(r,u),u&&p(t),f.d()}}}function l4(l){let e=(l[0].coverage??0)+"",n,t;return{c(){n=w(e),t=w("%")},m(i,o){h(i,n,o),h(i,t,o)},p(i,o){o&1&&e!==(e=(i[0].coverage??0)+"")&&K(n,e)},d(i){i&&p(n),i&&p(t)}}}function r4(l){let e,n=l[0].armor,t=[];for(let i=0;i<n.length;i+=1)t[i]=ou(Ka(l,n,i));return{c(){e=m("dl");for(let i=0;i<t.length;i+=1)t[i].c()},m(i,o){h(i,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(i,o){if(o&65){n=i[0].armor;let r;for(r=0;r<n.length;r+=1){const s=Ka(i,n,r);t[r]?t[r].p(s,o):(t[r]=ou(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(i){i&&p(e),we(t,i)}}}function o4(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function ru(l){let e=l[14]+"",n,t=l[16]!==0&&o4();return{c(){t&&t.c(),n=w(e)},m(i,o){t&&t.m(i,o),h(i,n,o)},p(i,o){o&1&&e!==(e=i[14]+"")&&K(n,e)},d(i){t&&t.d(i),i&&p(n)}}}function ou(l){let e,n,t,i=(l[11].coverage??0)+"",o,r,s=l[6](l[11]),a=[];for(let f=0;f<s.length;f+=1)a[f]=ru(Za(l,s,f));return{c(){e=m("dt");for(let f=0;f<a.length;f+=1)a[f].c();n=N(),t=m("dd"),o=w(i),r=w("%")},m(f,u){h(f,e,u);for(let c=0;c<a.length;c+=1)a[c].m(e,null);d(e,n),h(f,t,u),d(t,o),d(t,r)},p(f,u){if(u&65){s=f[6](f[11]);let c;for(c=0;c<s.length;c+=1){const _=Za(f,s,c);a[c]?a[c].p(_,u):(a[c]=ru(_),a[c].c(),a[c].m(e,n))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}u&1&&i!==(i=(f[11].coverage??0)+"")&&K(o,i)},d(f){f&&p(e),we(a,f),f&&p(t)}}}function su(l){let e,n,t,i,o,r=(l[0].environmental_protection??0)+"",s,a=l[1].length&&s4(l);return{c(){e=m("dt"),e.textContent="Protection",n=m("dd"),t=m("dl"),a&&a.c(),i=m("dt"),i.textContent="Environ.",o=m("dd"),s=w(r),_e(i,"title","Environmental")},m(f,u){h(f,e,u),h(f,n,u),d(n,t),a&&a.m(t,null),d(t,i),d(t,o),d(o,s)},p(f,u){f[1].length&&a.p(f,u),u&1&&r!==(r=(f[0].environmental_protection??0)+"")&&K(s,r)},d(f){f&&p(e),f&&p(n),a&&a.d()}}}function s4(l){let e,n,t=(l[1].reduce(fu,0)*(l[0].material_thickness??0)/l[2]).toFixed(2)+"",i,o,r,s,a=(l[1].reduce(au,0)*(l[0].material_thickness??0)/l[2]).toFixed(2)+"",f,u,c,_,g=(l[1].reduce(uu,0)*(l[0].material_thickness??0)/l[2]).toFixed(2)+"",y,k,T,R,C=l[7]().toFixed(2)+"",B,D,j,L,P=l[8]().toFixed(2)+"",U,q;return{c(){e=m("dt"),e.textContent="Bash",n=m("dd"),i=w(t),o=N(),r=m("dt"),r.textContent="Cut",s=m("dd"),f=w(a),u=N(),c=m("dt"),c.textContent="Ballistic",_=m("dd"),y=w(g),k=N(),T=m("dt"),T.textContent="Acid",R=m("dd"),B=w(C),D=N(),j=m("dt"),j.textContent="Fire",L=m("dd"),U=w(P),q=N()},m(G,Z){h(G,e,Z),h(G,n,Z),d(n,i),d(n,o),h(G,r,Z),h(G,s,Z),d(s,f),d(s,u),h(G,c,Z),h(G,_,Z),d(_,y),d(_,k),h(G,T,Z),h(G,R,Z),d(R,B),d(R,D),h(G,j,Z),h(G,L,Z),d(L,U),d(L,q)},p(G,Z){Z&1&&t!==(t=(G[1].reduce(fu,0)*(G[0].material_thickness??0)/G[2]).toFixed(2)+"")&&K(i,t),Z&1&&a!==(a=(G[1].reduce(au,0)*(G[0].material_thickness??0)/G[2]).toFixed(2)+"")&&K(f,a),Z&1&&g!==(g=(G[1].reduce(uu,0)*(G[0].material_thickness??0)/G[2]).toFixed(2)+"")&&K(y,g),Z&1&&C!==(C=G[7]().toFixed(2)+"")&&K(B,C),Z&1&&P!==(P=G[8]().toFixed(2)+"")&&K(U,P)},d(G){G&&p(e),G&&p(n),G&&p(r),G&&p(s),G&&p(c),G&&p(_),G&&p(T),G&&p(R),G&&p(j),G&&p(L)}}}function f4(l){let e,n,t,i,o,r,s=l[3]("head"),a,f=l[3]("eyes"),u,c=l[3]("mouth"),_,g=l[3]("torso"),y,k,T,R,C,B,D,j,L,P,U,q,G,Z,M=(l[0].warmth??0)+"",x,ne,F,X,J,V,se,me=s&&LC(),Q=f&&FC(),ee=c&&PC(),le=g&&jC(),ue=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],be=[];for(let xe=0;xe<4;xe+=1)be[xe]=tu(eu(l,ue,xe));let Le=!l[4]&&HC();function ke(xe,mt){return mt&1&&(B=null),mt&1&&(D=null),mt&1&&(j=null),mt&1&&(L=null),mt&1&&(P=null),mt&1&&(U=null),B==null&&(B=!!(xe[0].flags??[]).includes("PERSONAL")),B?ZC:(D==null&&(D=!!(xe[0].flags??[]).includes("SKINTIGHT")),D?KC:(j==null&&(j=!!(xe[0].flags??[]).includes("BELTED")),j?JC:(L==null&&(L=!!(xe[0].flags??[]).includes("OUTER")),L?XC:(P==null&&(P=!!(xe[0].flags??[]).includes("WAIST")),P?VC:(U==null&&(U=!!(xe[0].flags??[]).includes("AURA")),U?WC:zC)))))}let Ee=ke(l,-1),Te=Ee(l);function Re(xe,mt){return xe[5]?xC:QC}let he=Re(l)(l);function Ce(xe,mt){return xe[0].armor?r4:l4}let De=Ce(l),Oe=De(l),Ke=(l[1].length||l[0].environmental_protection)&&su(l);return{c(){e=m("section"),n=m("h1"),n.textContent="Armor",t=N(),i=m("dl"),o=m("dt"),o.textContent="Covers",r=m("dd"),me&&me.c(),a=N(),Q&&Q.c(),u=N(),ee&&ee.c(),_=N(),le&&le.c(),y=N();for(let xe=0;xe<4;xe+=1)be[xe].c();k=N(),Le&&Le.c(),T=N(),R=m("dt"),R.textContent="Layer",C=m("dd"),Te.c(),q=N(),G=m("dt"),G.textContent="Warmth",Z=m("dd"),x=w(M),ne=m("dt"),ne.textContent="Encumbrance",F=m("dd"),he.c(),X=N(),J=m("dt"),J.textContent=`Coverage
    `,V=m("dd"),Oe.c(),se=N(),Ke&&Ke.c(),_e(J,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(xe,mt){h(xe,e,mt),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),me&&me.m(r,null),d(r,a),Q&&Q.m(r,null),d(r,u),ee&&ee.m(r,null),d(r,_),le&&le.m(r,null),d(r,y);for(let ye=0;ye<4;ye+=1)be[ye].m(r,null);d(r,k),Le&&Le.m(r,null),d(r,T),d(i,R),d(i,C),Te.m(C,null),d(C,q),d(i,G),d(i,Z),d(Z,x),d(i,ne),d(i,F),he.m(F,null),d(F,X),d(i,J),d(i,V),Oe.m(V,null),d(V,se),Ke&&Ke.m(i,null)},p(xe,[mt]){if(mt&9){ue=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]];let ye;for(ye=0;ye<4;ye+=1){const et=eu(xe,ue,ye);be[ye]?be[ye].p(et,mt):(be[ye]=tu(et),be[ye].c(),be[ye].m(r,k))}for(;ye<4;ye+=1)be[ye].d(1)}Ee!==(Ee=ke(xe,mt))&&(Te.d(1),Te=Ee(xe),Te&&(Te.c(),Te.m(C,q))),mt&1&&M!==(M=(xe[0].warmth??0)+"")&&K(x,M),he.p(xe,mt),De===(De=Ce(xe))&&Oe?Oe.p(xe,mt):(Oe.d(1),Oe=De(xe),Oe&&(Oe.c(),Oe.m(V,se))),xe[1].length||xe[0].environmental_protection?Ke?Ke.p(xe,mt):(Ke=su(xe),Ke.c(),Ke.m(i,null)):Ke&&(Ke.d(1),Ke=null)},i:ie,o:ie,d(xe){xe&&p(e),me&&me.d(),Q&&Q.d(),ee&&ee.d(),le&&le.d(),we(be,xe),Le&&Le.d(),Te.d(),he.d(),Oe.d(),Ke&&Ke.d()}}}function a4(l){return typeof l[0]=="string"}const fu=(l,e)=>l+(e.material.bash_resist??0)*(e.portion??1),au=(l,e)=>l+(e.material.cut_resist??0)*(e.portion??1),uu=(l,e)=>l+(e.material.bullet_resist??0)*(e.portion??1);function u4(l,e,n){let{item:t}=e,i=qt("data"),r=(t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:a4(t.material)?t.material.map(y=>({type:y,portion:1})):t.material).map(y=>({material:i.byId("material",y.type),portion:y.portion}));const s=r.reduce((y,k)=>y+(k.portion??1),0);function a(y){return(t.covers??[]).includes(y)||(t.armor??[]).some(k=>(k.covers??[]).includes(y))}let f=(t.covers??[]).length||(t.armor??[]).length;const u=t.armor??t.armor_portion_data;function c(y){const k=new Set,T=[];for(const R of y.covers??[]){if(k.has(R))continue;const C=i.byId("body_part",R);C.opposite_part&&y.covers.includes(C.opposite_part)?(T.push(Qt(C.heading_multiple)),k.add(C.opposite_part)):T.push(Qt(C.heading)),k.add(R)}return T}const _=()=>{let y=r.reduce((T,R)=>T+(R.material.acid_resist??0)*(R.portion??1),0)/s;const k=t.environmental_protection??0;return k<10&&(y*=k/10),y},g=()=>{let y=r.reduce((T,R)=>T+(R.material.fire_resist??0)*(R.portion??1),0)/s;const k=t.environmental_protection??0;return k<10&&(y*=k/10),y};return l.$$set=y=>{"item"in y&&n(0,t=y.item)},[t,r,s,a,f,u,c,_,g]}class c4 extends Et{constructor(e){super(),wt(this,e,u4,f4,$t,{item:0})}}function _4(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[d4,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Bash",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function cu(l){let e,n,t=l[3].bash.str_min+"",i,o;return{c(){e=m("span"),n=w("(≥ "),i=w(t),o=w(" STR)"),Bt(e,"color","var(--cata-color-gray)")},m(r,s){h(r,e,s),d(e,n),d(e,i),d(e,o)},p(r,s){s&8&&t!==(t=r[3].bash.str_min+"")&&K(i,t)},d(r){r&&p(e)}}}function d4(l){var a;let e,n,t,i,o,r;e=new Lt({props:{item:l[0].byId(l[3].type,l[3].id)}}),t=new ve({props:{id:l[3].id,type:l[3].type}});let s=((a=l[3].bash)==null?void 0:a.str_min)&&cu(l);return{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment),i=N(),s&&s.c(),o=fe()},m(f,u){H(e,f,u),h(f,n,u),H(t,f,u),h(f,i,u),s&&s.m(f,u),h(f,o,u),r=!0},p(f,u){var g;const c={};u&8&&(c.item=f[0].byId(f[3].type,f[3].id)),e.$set(c);const _={};u&8&&(_.id=f[3].id),u&8&&(_.type=f[3].type),t.$set(_),(g=f[3].bash)!=null&&g.str_min?s?s.p(f,u):(s=cu(f),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i(f){r||(b(e.$$.fragment,f),b(t.$$.fragment,f),r=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),r=!1},d(f){z(e,f),f&&p(n),z(t,f),f&&p(i),s&&s.d(f),f&&p(o)}}}function m4(l){let e,n,t=l[1].length&&_4(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function p4(l,e,n){let{item_id:t}=e;const i=qt("data");let o=i.bashFromFurniture(t).concat(i.bashFromTerrain(t),i.bashFromVehiclePart(t));return l.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[i,o,t]}class h4 extends Et{constructor(e){super(),wt(this,e,p4,m4,$t,{item_id:2})}}function _u(l){let e,n,t,i;return t=new ve({props:{type:"item",id:l[0].installation_data}}),{c(){e=m("dt"),e.textContent=`${O.t("Installation data",{_context:Cr})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].installation_data),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function g4(l){let e,n,t,i,o,r,s,a,f,u=(l[0].difficulty??0)+"",c,_,g,y=(l[0].is_upgrade?O.t("Yes"):O.t("No"))+"",k,T;s=new ve({props:{type:"bionic",id:l[0].bionic_id??l[0].id}});let R=l[0].installation_data&&_u(l);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Bionic",{_context:Cr,_comment:"Section heading"})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Installs as",{_context:Cr})}`,r=m("dd"),W(s.$$.fragment),a=m("dt"),a.textContent=`${O.t("Difficulty",{_context:Cr})}`,f=m("dd"),c=w(u),_=m("dt"),_.textContent=`${O.t("Is upgrade",{_context:Cr})}`,g=m("dd"),k=w(y),R&&R.c()},m(C,B){h(C,e,B),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),H(s,r,null),d(i,a),d(i,f),d(f,c),d(i,_),d(i,g),d(g,k),R&&R.m(i,null),T=!0},p(C,[B]){const D={};B&1&&(D.id=C[0].bionic_id??C[0].id),s.$set(D),(!T||B&1)&&u!==(u=(C[0].difficulty??0)+"")&&K(c,u),(!T||B&1)&&y!==(y=(C[0].is_upgrade?O.t("Yes"):O.t("No"))+"")&&K(k,y),C[0].installation_data?R?(R.p(C,B),B&1&&b(R,1)):(R=_u(C),R.c(),b(R,1),R.m(i,null)):R&&(re(),$(R,1,1,()=>{R=null}),oe())},i(C){T||(b(s.$$.fragment,C),b(R),T=!0)},o(C){$(s.$$.fragment,C),$(R),T=!1},d(C){C&&p(e),z(s),R&&R.d()}}}const Cr="Item Bionic Info";function b4(l,e,n){let{item:t}=e;return l.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class $4 extends Et{constructor(e){super(),wt(this,e,b4,g4,$t,{item:0})}}function du(l,e,n){const t=l.slice();return t[4]=e[n][0],t[5]=e[n][1],t}function mu(l){let e,n,t,i,o,r=(l[0].required_level??0)+"",s,a,f,u=(l[0].max_level??0)+"",c,_;return t=new ve({props:{id:l[0].skill,type:"skill"}}),{c(){e=m("dt"),e.textContent=`${O.t("Skill",{_context:ll})}`,n=m("dd"),W(t.$$.fragment),i=m("dt"),i.textContent=`${O.t("Required Level",{_context:ll})}`,o=m("dd"),s=w(r),a=m("dt"),a.textContent=`${O.t("Maximum Level",{_context:ll})}`,f=m("dd"),c=w(u)},m(g,y){h(g,e,y),h(g,n,y),H(t,n,null),h(g,i,y),h(g,o,y),d(o,s),h(g,a,y),h(g,f,y),d(f,c),_=!0},p(g,y){const k={};y&1&&(k.id=g[0].skill),t.$set(k),(!_||y&1)&&r!==(r=(g[0].required_level??0)+"")&&K(s,r),(!_||y&1)&&u!==(u=(g[0].max_level??0)+"")&&K(c,u)},i(g){_||(b(t.$$.fragment,g),_=!0)},o(g){$(t.$$.fragment,g),_=!1},d(g){g&&p(e),g&&p(n),z(t),g&&p(i),g&&p(o),g&&p(a),g&&p(f)}}}function pu(l){let e,n,t=l[0].chapters+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Chapters",{_context:ll})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].chapters+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function hu(l){let e,n,t,i;return t=new ve({props:{type:"martial_art",id:l[0].martial_art}}),{c(){e=m("dt"),e.textContent=`${O.t("Martial Art",{_context:ll})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].martial_art),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function v4(l){let e,n,t,i,o=[...l[1].entries()].sort(bu),r=[];for(let a=0;a<o.length;a+=1)r[a]=gu(du(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Recipes",{_context:ll})}`,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f&2){o=[...a[1].entries()].sort(bu);let u;for(u=0;u<o.length;u+=1){const c=du(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=gu(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function gu(l){let e,n,t,i=l[5]+"",o,r,s;return n=new ve({props:{id:l[4],type:"item"}}),{c(){e=m("li"),W(n.$$.fragment),t=w(" ("),o=w(i),r=w(")")},m(a,f){h(a,e,f),H(n,e,null),d(e,t),d(e,o),d(e,r),s=!0},p:ie,i(a){s||(b(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),z(n)}}}function y4(l){let e,n,t,i,o,r,s=(l[0].intelligence??0)+"",a,f,u,c=(l[0].time??0)+"",_,g,y,k=(l[0].fun??0)+"",T,R,C,B,D=l[0].skill&&mu(l),j=l[0].chapters&&pu(l),L=l[0].martial_art&&hu(l),P=l[1].size&&v4(l);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Book",{_context:ll,_comment:"Section heading"})}`,t=N(),i=m("dl"),D&&D.c(),o=m("dt"),o.textContent=`${O.t("Required Intelligence",{_context:ll})}`,r=m("dd"),a=w(s),f=m("dt"),f.textContent=`${O.t("Read Time",{_context:ll})}`,u=m("dd"),_=w(c),g=m("dt"),g.textContent=`${O.t("Fun",{_context:ll})}`,y=m("dd"),T=w(k),j&&j.c(),R=fe(),L&&L.c(),C=fe(),P&&P.c()},m(U,q){h(U,e,q),d(e,n),d(e,t),d(e,i),D&&D.m(i,null),d(i,o),d(i,r),d(r,a),d(i,f),d(i,u),d(u,_),d(i,g),d(i,y),d(y,T),j&&j.m(i,null),d(i,R),L&&L.m(i,null),d(i,C),P&&P.m(i,null),B=!0},p(U,[q]){U[0].skill?D?(D.p(U,q),q&1&&b(D,1)):(D=mu(U),D.c(),b(D,1),D.m(i,o)):D&&(re(),$(D,1,1,()=>{D=null}),oe()),(!B||q&1)&&s!==(s=(U[0].intelligence??0)+"")&&K(a,s),(!B||q&1)&&c!==(c=(U[0].time??0)+"")&&K(_,c),(!B||q&1)&&k!==(k=(U[0].fun??0)+"")&&K(T,k),U[0].chapters?j?j.p(U,q):(j=pu(U),j.c(),j.m(i,R)):j&&(j.d(1),j=null),U[0].martial_art?L?(L.p(U,q),q&1&&b(L,1)):(L=hu(U),L.c(),b(L,1),L.m(i,C)):L&&(re(),$(L,1,1,()=>{L=null}),oe()),U[1].size&&P.p(U,q)},i(U){B||(b(D),b(L),b(P),B=!0)},o(U){$(D),$(L),$(P),B=!1},d(U){U&&p(e),D&&D.d(),j&&j.d(),L&&L.d(),P&&P.d()}}}const ll="Item Book Info",bu=(l,e)=>l[1]!==e[1]?l[1]-e[1]:l[0].localeCompare(e[0]);function k4(l,e,n){let{item:t}=e,i=qt("data");const o=new Map;function r(s,a){o.set(s,Math.min(a,o.get(s)??1/0))}for(const s of i.byType("recipe"))if(s.result&&Array.isArray(s.book_learn)){for(const[a,f=0]of s.book_learn)if(a===t.id)r(s.result,f);else if(s.book_learn)for(const[u,c]of Object.entries(s.book_learn))u===t.id&&r(s.result,c.skill_level??0)}return l.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,o]}class w4 extends Et{constructor(e){super(),wt(this,e,k4,y4,$t,{item:0})}}function E4(l){let e,n,t,i,o;return i=new Zt({props:{items:l[0],$$slots:{default:[S4,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Fermented From",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function S4(l){let e,n,t,i,o=(l[3].brewable.time??"1 turn")+"",r,s,a;return e=new Lt({props:{item:l[3]}}),t=new ve({props:{id:l[3].id,type:"item"}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment),i=w(" ("),r=w(o),s=w(")")},m(f,u){H(e,f,u),h(f,n,u),H(t,f,u),h(f,i,u),h(f,r,u),h(f,s,u),a=!0},p(f,u){const c={};u&8&&(c.item=f[3]),e.$set(c);const _={};u&8&&(_.id=f[3].id),t.$set(_),(!a||u&8)&&o!==(o=(f[3].brewable.time??"1 turn")+"")&&K(r,o)},i(f){a||(b(e.$$.fragment,f),b(t.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),a=!1},d(f){z(e,f),f&&p(n),z(t,f),f&&p(i),f&&p(r),f&&p(s)}}}function T4(l){let e,n,t=l[0].length&&E4(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function C4(l,e,n){let{item_id:t}=e;const o=qt("data").brewedFrom(t);return l.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class I4 extends Et{constructor(e){super(),wt(this,e,C4,T4,$t,{item_id:1})}}function $u(l,e,n){const t=l.slice();return t[1]=e[n][0],t[2]=e[n][1],t[4]=n,t}function vu(l){let e,n,t,i=l[0].vitamins,o=[];for(let s=0;s<i.length;s+=1)o[s]=yu($u(l,i,s));const r=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Vitamins (%RDA)",{_context:hl})}`,n=m("dd");for(let s=0;s<o.length;s+=1)o[s].c()},m(s,a){h(s,e,a),h(s,n,a);for(let f=0;f<o.length;f+=1)o[f].m(n,null);t=!0},p(s,a){if(a&1){i=s[0].vitamins;let f;for(f=0;f<i.length;f+=1){const u=$u(s,i,f);o[f]?(o[f].p(u,a),b(o[f],1)):(o[f]=yu(u),o[f].c(),b(o[f],1),o[f].m(n,null))}for(re(),f=i.length;f<o.length;f+=1)r(f);oe()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)b(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),s&&p(n),we(o,s)}}}function O4(l){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function R4(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function yu(l){let e,n,t=l[2]+"",i,o,r,s;e=new ve({props:{id:l[1],type:"vitamin"}});function a(c,_){if(c[4]<c[0].vitamins.length-2)return R4;if(c[4]===c[0].vitamins.length-2)return O4}let f=a(l),u=f&&f(l);return{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w("%)"),u&&u.c(),r=fe()},m(c,_){H(e,c,_),h(c,n,_),h(c,i,_),h(c,o,_),u&&u.m(c,_),h(c,r,_),s=!0},p(c,_){const g={};_&1&&(g.id=c[1]),e.$set(g),(!s||_&1)&&t!==(t=c[2]+"")&&K(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(n),c&&p(i),c&&p(o),u&&u.d(c),c&&p(r)}}}function N4(l){var X;let e,n,t,i,o,r,s=(l[0].calories??0)+"",a,f,u,c,_=(l[0].quench??0)+"",g,y,k,T=(l[0].fun??0)+"",R,C,B,D=(l[0].charges??1)+"",j,L,P,U=(l[0].spoils_in??"never")+"",q,G,Z,M=(l[0].healthy??0)+"",x,ne,F=((X=l[0].vitamins)==null?void 0:X.length)&&vu(l);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Comestible",{_context:hl})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Calories",{_context:hl})}`,r=m("dd"),a=w(s),f=w(" kcal"),u=m("dt"),u.textContent=`${O.t("Quench",{_context:hl})}`,c=m("dd"),g=w(_),y=m("dt"),y.textContent=`${O.t("Enjoyability",{_context:hl})}`,k=m("dd"),R=w(T),C=m("dt"),C.textContent=`${O.t("Portions",{_context:hl})}`,B=m("dd"),j=w(D),L=m("dt"),L.textContent=`${O.t("Spoils In",{_context:hl})}`,P=m("dd"),q=w(U),G=m("dt"),G.textContent=`${O.t("Health",{_context:hl})}`,Z=m("dd"),x=w(M),F&&F.c()},m(J,V){h(J,e,V),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),d(r,a),d(r,f),d(i,u),d(i,c),d(c,g),d(i,y),d(i,k),d(k,R),d(i,C),d(i,B),d(B,j),d(i,L),d(i,P),d(P,q),d(i,G),d(i,Z),d(Z,x),F&&F.m(i,null),ne=!0},p(J,[V]){var se;(!ne||V&1)&&s!==(s=(J[0].calories??0)+"")&&K(a,s),(!ne||V&1)&&_!==(_=(J[0].quench??0)+"")&&K(g,_),(!ne||V&1)&&T!==(T=(J[0].fun??0)+"")&&K(R,T),(!ne||V&1)&&D!==(D=(J[0].charges??1)+"")&&K(j,D),(!ne||V&1)&&U!==(U=(J[0].spoils_in??"never")+"")&&K(q,U),(!ne||V&1)&&M!==(M=(J[0].healthy??0)+"")&&K(x,M),(se=J[0].vitamins)!=null&&se.length?F?(F.p(J,V),V&1&&b(F,1)):(F=vu(J),F.c(),b(F,1),F.m(i,null)):F&&(re(),$(F,1,1,()=>{F=null}),oe())},i(J){ne||(b(F),ne=!0)},o(J){$(F),ne=!1},d(J){J&&p(e),F&&F.d()}}}const hl="Item Comestible Info";function A4(l,e,n){let{item:t}=e;return l.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class B4 extends Et{constructor(e){super(),wt(this,e,A4,N4,$t,{item:0})}}function M4(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[D4,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Provided By Vehicle Parts",{_context:Uo,_comment:"Section heading"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&3072&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function D4(l){let e,n,t,i;return e=new Lt({props:{item:l[10]}}),t=new ve({props:{type:l[10].type,id:l[10].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1024&&(s.item=o[10]),e.$set(s);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function L4(l){let e,n,t,i,o;return i=new Zt({props:{items:l[2],$$slots:{default:[F4,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Provided By Furniture",{_context:Uo,_comment:"Section heading"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&3072&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function F4(l){let e,n,t,i;return e=new Lt({props:{item:l[10]}}),t=new ve({props:{type:l[10].type,id:l[10].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1024&&(s.item=o[10]),e.$set(s);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function P4(l){let e,n,t,i,o;return i=new Zt({props:{items:l[3],$$slots:{default:[j4,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Component Of",{_context:Uo,_comment:"Section heading"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&3072&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function j4(l){let e,n,t,i;return e=new Lt({props:{item:l[0].byId("item",l[10])}}),t=new ve({props:{type:"item",id:l[10]}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1024&&(s.item=o[0].byId("item",o[10])),e.$set(s);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function U4(l){let e,n,t,i,o;return i=new Zt({props:{items:l[4],$$slots:{default:[G4,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Tool For Crafting",{_context:Uo,_comment:"Section heading"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&3072&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function G4(l){let e,n,t,i;return e=new Lt({props:{item:l[0].byId("item",l[10])}}),t=new ve({props:{type:"item",id:l[10]}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1024&&(s.item=o[0].byId("item",o[10])),e.$set(s);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function q4(l){let e,n,t,i,o,r=l[1].length&&M4(l),s=l[2].length&&L4(l),a=l[3].length&&P4(l),f=l[4].length&&U4(l);return{c(){r&&r.c(),e=N(),s&&s.c(),n=N(),t=m("div"),a&&a.c(),i=N(),f&&f.c(),_e(t,"class","side-by-side")},m(u,c){r&&r.m(u,c),h(u,e,c),s&&s.m(u,c),h(u,n,c),h(u,t,c),a&&a.m(t,null),d(t,i),f&&f.m(t,null),o=!0},p(u,[c]){u[1].length&&r.p(u,c),u[2].length&&s.p(u,c),u[3].length&&a.p(u,c),u[4].length&&f.p(u,c)},i(u){o||(b(r),b(s),b(a),b(f),o=!0)},o(u){$(r),$(s),$(a),$(f),o=!1},d(u){r&&r.d(u),u&&p(e),s&&s.d(u),u&&p(n),u&&p(t),a&&a.d(),f&&f.d()}}}const Uo="Item Basic Info";function Y4(l,e,n){let{item_id:t}=e;const i=qt("data"),{byTool:o,byComponent:r}=i.getItemComponents(),s=r.get(t)??new Set,a=o.get(t)??new Set,f=i.byType("vehicle_part").filter(g=>{var y;return g.id&&((y=g.pseudo_tools)==null?void 0:y.some(k=>k.id===t))}),u=i.byType("furniture").filter(g=>g.id&&g.crafting_pseudo_item===t),c=[...s].sort((g,y)=>it(i.byId("item",g)).localeCompare(it(i.byId("item",y)))),_=[...a].sort((g,y)=>it(i.byId("item",g)).localeCompare(it(i.byId("item",y))));return l.$$set=g=>{"item_id"in g&&n(5,t=g.item_id)},[i,f,u,c,_,t]}class H4 extends Et{constructor(e){super(),wt(this,e,Y4,q4,$t,{item_id:5})}}function z4(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[W4,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Construct",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function ku(l){let e,n,t,i,o;return n=new Lt({props:{item:l[0].byId(l[3].pre_terrain.startsWith("f_")?"furniture":"terrain",l[3].pre_terrain)}}),i=new ve({props:{type:l[3].pre_terrain.startsWith("f_")?"furniture":"terrain",id:l[3].pre_terrain}}),{c(){e=w("on "),W(n.$$.fragment),t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),H(n,r,s),h(r,t,s),H(i,r,s),o=!0},p(r,s){const a={};s&8&&(a.item=r[0].byId(r[3].pre_terrain.startsWith("f_")?"furniture":"terrain",r[3].pre_terrain)),n.$set(a);const f={};s&8&&(f.type=r[3].pre_terrain.startsWith("f_")?"furniture":"terrain"),s&8&&(f.id=r[3].pre_terrain),i.$set(f)},i(r){o||(b(n.$$.fragment,r),b(i.$$.fragment,r),o=!0)},o(r){$(n.$$.fragment,r),$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(n,r),r&&p(t),z(i,r)}}}function W4(l){let e,n,t,i;e=new ve({props:{id:l[3].group,type:"construction_group"}});let o=l[3].pre_terrain&&ku(l);return{c(){W(e.$$.fragment),n=N(),o&&o.c(),t=fe()},m(r,s){H(e,r,s),h(r,n,s),o&&o.m(r,s),h(r,t,s),i=!0},p(r,s){const a={};s&8&&(a.id=r[3].group),e.$set(a),r[3].pre_terrain?o?(o.p(r,s),s&8&&b(o,1)):(o=ku(r),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(re(),$(o,1,1,()=>{o=null}),oe())},i(r){i||(b(e.$$.fragment,r),b(o),i=!0)},o(r){$(e.$$.fragment,r),$(o),i=!1},d(r){z(e,r),r&&p(n),o&&o.d(r),r&&p(t)}}}function V4(l){let e,n,t=l[1].length&&z4(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function X4(l,e,n){let{item_id:t}=e;const i=qt("data"),o=i.byType("construction").filter(r=>i.flattenItemGroup(i.normalizeItemGroup(r.byproducts,"collection")).some(a=>a.id===t)).sort(Sn);return l.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[i,o,t]}class J4 extends Et{constructor(e){super(),wt(this,e,X4,V4,$t,{item_id:2})}}function K4(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[Z4,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Deconstruct",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function Z4(l){let e,n,t,i;return e=new Lt({props:{item:l[0].byId(l[3].type,l[3].id)}}),t=new ve({props:{id:l[3].id,type:l[3].type}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&8&&(s.item=o[0].byId(o[3].type,o[3].id)),e.$set(s);const a={};r&8&&(a.id=o[3].id),r&8&&(a.type=o[3].type),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function Q4(l){let e,n,t=l[1].length&&K4(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function x4(l,e,n){let{item_id:t}=e;const i=qt("data");let o=i.deconstructFrom(t);return l.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[i,o,t]}class eI extends Et{constructor(e){super(),wt(this,e,x4,Q4,$t,{item_id:2})}}function tI(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[nI,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Disassemble",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&96&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function nI(l){let e,n,t,i;return e=new Lt({props:{item:l[0].byId("item",l[5])}}),t=new ve({props:{type:"item",id:l[5]}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&32&&(s.item=o[0].byId("item",o[5])),e.$set(s);const a={};r&32&&(a.id=o[5]),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function iI(l){let e,n,t=l[1].length&&tI(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function lI(l,e,n){let{item_id:t}=e,i=qt("data");const o=new Set,r=i.byType("recipe").concat(i.byType("uncraft")).map(a=>a.result).filter(a=>!!a);for(const a of r){const f=i.uncraftRecipe(a);if(f&&f.result){const{components:u}=i.normalizeRequirementsForDisassembly(f);u.map(_=>_[0]).some(([_])=>_===t)&&o.add(f.result)}}const s=[...o].sort((a,f)=>it(i.byId("item",a)).localeCompare(it(i.byId("item",f))));return l.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[i,s,t]}class rI extends Et{constructor(e){super(),wt(this,e,lI,iI,$t,{item_id:2})}}function oI(l){let e,n,t,i,o;return i=new Zt({props:{items:l[0],$$slots:{default:[sI,({item:r})=>({8:r}),({item:r})=>r?256:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Dropped By",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&768&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function sI(l){let e,n,t,i,o=fr(l[8].prob)+"",r,s,a;return e=new Lt({props:{item:l[8]}}),t=new ve({props:{type:"monster",id:l[8].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment),i=w(" ("),r=w(o),s=w(")")},m(f,u){H(e,f,u),h(f,n,u),H(t,f,u),h(f,i,u),h(f,r,u),h(f,s,u),a=!0},p(f,u){const c={};u&256&&(c.item=f[8]),e.$set(c);const _={};u&256&&(_.id=f[8].id),t.$set(_),(!a||u&256)&&o!==(o=fr(f[8].prob)+"")&&K(r,o)},i(f){a||(b(e.$$.fragment,f),b(t.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),a=!1},d(f){z(e,f),f&&p(n),z(t,f),f&&p(i),f&&p(r),f&&p(s)}}}function fI(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[aI,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Butcher",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&640&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function aI(l){let e,n,t,i;return e=new Lt({props:{item:l[7]}}),t=new ve({props:{id:l[7].id,type:"monster"}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&128&&(s.item=o[7]),e.$set(s);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function uI(l){let e,n,t,i,o;return i=new Zt({props:{items:l[2],$$slots:{default:[cI,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Dissect",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&640&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function cI(l){let e,n,t,i;return e=new Lt({props:{item:l[7]}}),t=new ve({props:{id:l[7].id,type:"monster"}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&128&&(s.item=o[7]),e.$set(s);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function _I(l){let e,n,t,i,o=l[0].length&&oI(l),r=l[1].length&&fI(l),s=l[2].length&&uI(l);return{c(){o&&o.c(),e=N(),r&&r.c(),n=N(),s&&s.c(),t=fe()},m(a,f){o&&o.m(a,f),h(a,e,f),r&&r.m(a,f),h(a,n,f),s&&s.m(a,f),h(a,t,f),i=!0},p(a,[f]){a[0].length&&o.p(a,f),a[1].length&&r.p(a,f),a[2].length&&s.p(a,f)},i(a){i||(b(o),b(r),b(s),i=!0)},o(a){$(o),$(r),$(s),i=!1},d(a){o&&o.d(a),a&&p(e),r&&r.d(a),a&&p(n),s&&s.d(a),a&&p(t)}}}function dI(l,e,n){let{item_id:t}=e,i=qt("data");const o=i.byType("monster").flatMap(u=>{if(!u.id)return[];const _=i.flatDeathDrops(u.id).find(g=>g.id===t);return _?[{id:u.id,prob:_.prob}]:[]});o.sort((u,c)=>c.prob-u.prob);const r=u=>{var c;return((c=u.entries)==null?void 0:c.flatMap(_=>{var g;return _.type&&((g=i.byIdMaybe("harvest_drop_type",_.type))!=null&&g.group)?i.flattenTopLevelItemGroup(i.byId("item_group",_.drop)).map(y=>y.id):[_.drop]}))??[]},s=i.byType("harvest").filter(u=>r(u).some(c=>c===t)),a=i.byType("monster").filter(u=>u.id&&s.some(c=>c.id===u.harvest)),f=i.byType("monster").filter(u=>u.id&&s.some(c=>c.id===u.dissect));return l.$$set=u=>{"item_id"in u&&n(3,t=u.item_id)},[o,a,f,t]}class mI extends Et{constructor(e){super(),wt(this,e,dI,_I,$t,{item_id:3})}}function wu(l,e,n){const t=l.slice();return t[6]=e[n][0],t[7]=e[n][1],t}function pI(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[hI,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Forage",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&1056&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function Eu(l){let e,n=l[6]+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function hI(l){let e,n,t,i,o,r;e=new Lt({props:{item:l[5]}}),t=new ve({props:{type:"terrain",id:l[5].id}});let s=l[0],a=[];for(let f=0;f<s.length;f+=1)a[f]=Eu(wu(l,s,f));return{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment),i=w(` in
      `),o=m("ul");for(let f=0;f<a.length;f+=1)a[f].c();_e(o,"class","comma-separated or")},m(f,u){H(e,f,u),h(f,n,u),H(t,f,u),h(f,i,u),h(f,o,u);for(let c=0;c<a.length;c+=1)a[c].m(o,null);r=!0},p(f,u){const c={};u&32&&(c.item=f[5]),e.$set(c);const _={};if(u&32&&(_.id=f[5].id),t.$set(_),u&1){s=f[0];let g;for(g=0;g<s.length;g+=1){const y=wu(f,s,g);a[g]?a[g].p(y,u):(a[g]=Eu(y),a[g].c(),a[g].m(o,null))}for(;g<a.length;g+=1)a[g].d(1);a.length=s.length}},i(f){r||(b(e.$$.fragment,f),b(t.$$.fragment,f),r=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),r=!1},d(f){z(e,f),f&&p(n),z(t,f),f&&p(i),f&&p(o),we(a,f)}}}function gI(l){let e,n,t=l[0].length&&pI(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function bI(l,e,n){let{item_id:t}=e,i=qt("data");const r=Object.entries({Spring:"forage_spring",Summer:"forage_summer",Autumn:"forage_autumn",Winter:"forage_winter","any season":"trash_forest"}).map(([a,f])=>{var c;const u=i.flattenTopLevelItemGroup(i.byId("item_group",f));return[a,(c=u.find(_=>_.id===t))==null?void 0:c.prob]}).filter(a=>a[1]),s=i.byType("terrain").filter(a=>a.examine_action==="shrub_wildveggies");return l.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[r,s,t]}class $I extends Et{constructor(e){super(),wt(this,e,bI,gI,$t,{item_id:2})}}function vI(l){let e,n,t,i,o;return i=new Zt({props:{items:l[0],$$slots:{default:[yI,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Grown From",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function yI(l){let e,n,t,i,o=(l[3].seed_data.grow??"1 day")+"",r,s,a;return e=new Lt({props:{item:l[3]}}),t=new ve({props:{id:l[3].id,type:"item"}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment),i=w(" ("),r=w(o),s=w(")")},m(f,u){H(e,f,u),h(f,n,u),H(t,f,u),h(f,i,u),h(f,r,u),h(f,s,u),a=!0},p(f,u){const c={};u&8&&(c.item=f[3]),e.$set(c);const _={};u&8&&(_.id=f[3].id),t.$set(_),(!a||u&8)&&o!==(o=(f[3].seed_data.grow??"1 day")+"")&&K(r,o)},i(f){a||(b(e.$$.fragment,f),b(t.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),a=!1},d(f){z(e,f),f&&p(n),z(t,f),f&&p(i),f&&p(r),f&&p(s)}}}function kI(l){let e,n,t=l[0].length&&vI(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function wI(l,e,n){let{item_id:t}=e;const o=qt("data").grownFrom(t);return l.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class EI extends Et{constructor(e){super(),wt(this,e,wI,kI,$t,{item_id:1})}}function Su(l){let e,n,t=l[0].min_strength+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Min Strength",{_context:l[1]})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].min_strength+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Tu(l){let e,n,t=l[0].valid_mod_locations.map(Cu).join(", ")+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Mod Slots",{_context:l[1]})}`,n=m("dd"),i=w(t),o=N()},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p(r,s){s&1&&t!==(t=r[0].valid_mod_locations.map(Cu).join(", ")+"")&&K(i,t)},d(r){r&&p(e),r&&p(n)}}}function SI(l){var Ce;let e,n,t,i,o,r,s,a,f,u,c,_,g,y=(l[0].range??0)+"",k,T,R,C=(l[0].dispersion??0)+"",B,D,j,L=((l[0].flags??[]).includes("DISABLE_SIGHTS")?90:l[0].sight_dispersion??30)+"",P,U,q,G,Z=(l[0].recoil??0)+"",M,x,ne,F=(l[0].loudness??0).toFixed(0)+"",X,J,V,se=(l[0].reload??100)+"",me,Q,ee,le,ue=(l[0].reload_noise_volume??0)+"",be,Le,ke,Ee=(l[0].durability??0)+"",Te,Re;s=new ve({props:{type:"skill",id:l[0].skill}});let He=l[0].min_strength&&Su(l),he=((Ce=l[0].valid_mod_locations)==null?void 0:Ce.length)&&Tu(l);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Ranged",{_context:l[1],_comment:"Section heading"})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Skill",{_context:l[1]})}`,r=m("dd"),W(s.$$.fragment),He&&He.c(),a=m("dt"),a.textContent=`${O.t("Base Damage",{_context:l[1]})}`,f=m("dd"),f.textContent=`${l[2].amount??0} (${l[2].damage_type??"bullet"})
    `,u=m("dt"),u.textContent=`${O.t("Armor Penetration",{_context:l[1]})}`,c=m("dd"),c.textContent=`${l[2].armor_penetration??0}`,_=m("dt"),_.textContent=`${O.t("Range Bonus",{_context:l[1]})}`,g=m("dd"),k=w(y),T=m("dt"),T.textContent=`${O.t("Base Dispersion",{_context:l[1]})} 
    `,R=m("dd"),B=w(C),D=m("dt"),D.textContent=`${O.t("Sight Dispersion",{_context:l[1]})}`,j=m("dd"),P=w(L),U=N(),q=m("dt"),q.textContent=`${O.t("Base Recoil",{_context:l[1]})}`,G=m("dd"),M=w(Z),x=m("dt"),x.textContent=`${O.t("Loudness Modifier",{_context:l[1]})} 
    `,ne=m("dd"),X=w(F),J=m("dt"),J.textContent=`${O.t("Reload Time",{_context:l[1]})}`,V=m("dd"),me=w(se),Q=w(" moves"),ee=m("dt"),ee.textContent=`${O.t("Reload Noise Volume",{_context:l[1]})} 
    `,le=m("dd"),be=w(ue),he&&he.c(),Le=m("dt"),Le.textContent=`${O.t("Durability",{_context:l[1]})}`,ke=m("dd"),Te=w(Ee),_e(_,"title","Added to ammo range"),_e(T,"title","Added to ammo dispersion"),_e(x,"title","Modifies base loudness as provided by the currently loaded ammo"),_e(ee,"title","Volume of the noise made when reloading this weapon")},m(De,Oe){h(De,e,Oe),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),H(s,r,null),He&&He.m(i,null),d(i,a),d(i,f),d(i,u),d(i,c),d(i,_),d(i,g),d(g,k),d(i,T),d(i,R),d(R,B),d(i,D),d(i,j),d(j,P),d(j,U),d(i,q),d(i,G),d(G,M),d(i,x),d(i,ne),d(ne,X),d(i,J),d(i,V),d(V,me),d(V,Q),d(i,ee),d(i,le),d(le,be),he&&he.m(i,null),d(i,Le),d(i,ke),d(ke,Te),Re=!0},p(De,[Oe]){var xe;const Ke={};Oe&1&&(Ke.id=De[0].skill),s.$set(Ke),De[0].min_strength?He?He.p(De,Oe):(He=Su(De),He.c(),He.m(i,a)):He&&(He.d(1),He=null),(!Re||Oe&1)&&y!==(y=(De[0].range??0)+"")&&K(k,y),(!Re||Oe&1)&&C!==(C=(De[0].dispersion??0)+"")&&K(B,C),(!Re||Oe&1)&&L!==(L=((De[0].flags??[]).includes("DISABLE_SIGHTS")?90:De[0].sight_dispersion??30)+"")&&K(P,L),(!Re||Oe&1)&&Z!==(Z=(De[0].recoil??0)+"")&&K(M,Z),(!Re||Oe&1)&&F!==(F=(De[0].loudness??0).toFixed(0)+"")&&K(X,F),(!Re||Oe&1)&&se!==(se=(De[0].reload??100)+"")&&K(me,se),(!Re||Oe&1)&&ue!==(ue=(De[0].reload_noise_volume??0)+"")&&K(be,ue),(xe=De[0].valid_mod_locations)!=null&&xe.length?he?he.p(De,Oe):(he=Tu(De),he.c(),he.m(i,Le)):he&&(he.d(1),he=null),(!Re||Oe&1)&&Ee!==(Ee=(De[0].durability??0)+"")&&K(Te,Ee)},i(De){Re||(b(s.$$.fragment,De),Re=!0)},o(De){$(s.$$.fragment,De),Re=!1},d(De){De&&p(e),z(s),He&&He.d(),he&&he.d()}}}const Cu=([l,e])=>`${l} (${e})`;function TI(l,e,n){let{item:t}=e;const i="Item Gun Info",o=Array.isArray(t.ranged_damage)?t.ranged_damage[0]:typeof t.ranged_damage=="number"?t.ranged_damage:t.ranged_damage&&"values"in t.ranged_damage?t.ranged_damage.values[0]:t.ranged_damage??{amount:0,damage_type:"bullet",armor_penetration:0};return l.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,i,o]}class CI extends Et{constructor(e){super(),wt(this,e,TI,SI,$t,{item:0,_context:1})}get _context(){return this.$$.ctx[1]}}function II(l){let e,n,t,i,o;return i=new Zt({props:{items:l[0],$$slots:{default:[OI,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Harvest",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function OI(l){let e,n,t,i;return e=new Lt({props:{item:l[3]}}),t=new ve({props:{type:l[3].type,id:l[3].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&8&&(s.item=o[3]),e.$set(s);const a={};r&8&&(a.type=o[3].type),r&8&&(a.id=o[3].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function RI(l){let e,n,t=l[0].length&&II(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function NI(l,e,n){let{item_id:t}=e;const i=qt("data"),o=i.byType("terrain").concat(i.byType("furniture")).filter(r=>(r.harvest_by_season??[]).some(s=>s.id?i.byId("harvest",s.id).entries.some(f=>f.type==="bionic_group"?i.flattenTopLevelItemGroup(i.byId("item_group",f.drop)).some(u=>u.id===t):f.drop===t):!1));return o.sort(Sn),l.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class AI extends Et{constructor(e){super(),wt(this,e,NI,RI,$t,{item_id:1})}}function BI(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[MI,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Compatible Items",{_context:"Item Magazine Info"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&9&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function MI(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"item",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function DI(l){let e,n,t=l[1].length&&BI(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function LI(l,e,n){let{item:t}=e;const o=qt("data").compatibleItems(t);return o.sort(Sn),l.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,o]}class FI extends Et{constructor(e){super(),wt(this,e,LI,DI,$t,{item:0})}}function Iu(l,e,n){const t=l.slice();return t[11]=e[n],t}function Ou(l){let e,n,t,i,o,r,s=(l[0].bashing??0)+"",a,f,u,c=(l[0].cutting??0)+"",_,g,y,k,T,R=l[3](l[0])+"",C,B,D=l[1].length&&PI(l);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Melee",{_context:_o,_comment:"Section heading"})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Bash",{_context:"Damage Type"})}`,r=m("dd"),a=w(s),f=m("dt"),f.textContent=`${O.t(l[4]?"Pierce":"Cut",{_context:"Damage Type"})} 
      `,u=m("dd"),_=w(c),g=m("dt"),g.textContent=`${O.t("To Hit",{_context:_o})}`,y=m("dd"),y.textContent=`${l[2]}`,k=m("dt"),k.textContent=`${O.t("Moves Per Attack",{_context:_o})}`,T=m("dd"),C=w(R),D&&D.c()},m(j,L){h(j,e,L),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),d(r,a),d(i,f),d(i,u),d(u,_),d(i,g),d(i,y),d(i,k),d(i,T),d(T,C),D&&D.m(i,null),B=!0},p(j,L){(!B||L&1)&&s!==(s=(j[0].bashing??0)+"")&&K(a,s),(!B||L&1)&&c!==(c=(j[0].cutting??0)+"")&&K(_,c),(!B||L&1)&&R!==(R=j[3](j[0])+"")&&K(C,R),j[1].length&&D.p(j,L)},i(j){B||(b(D),B=!0)},o(j){$(D),B=!1},d(j){j&&p(e),D&&D.d()}}}function PI(l){let e,n,t,i,o=l[1],r=[];for(let a=0;a<o.length;a+=1)r[a]=Ru(Iu(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Techniques",{_context:_o})}`,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c();_e(t,"class","no-bullets")},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f&2){o=a[1];let u;for(u=0;u<o.length;u+=1){const c=Iu(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=Ru(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function jI(l){let e,n=Qt(l[11].description)+"",t;return{c(){e=w(": "),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p:ie,d(i){i&&p(e),i&&p(t)}}}function Ru(l){let e,n,t,i,o;t=new ve({props:{type:"technique",id:l[11].id}});let r=l[11].description&&jI(l);return{c(){e=m("li"),n=m("strong"),W(t.$$.fragment),r&&r.c(),i=N()},m(s,a){h(s,e,a),d(e,n),H(t,n,null),r&&r.m(e,null),d(e,i),o=!0},p(s,a){s[11].description&&r.p(s,a)},i(s){o||(b(t.$$.fragment,s),o=!0)},o(s){$(t.$$.fragment,s),o=!1},d(s){s&&p(e),z(t),r&&r.d()}}}function UI(l){let e,n,t=(l[0].bashing||l[0].cutting)&&Ou(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].bashing||i[0].cutting?t?(t.p(i,o),o&1&&b(t,1)):(t=Ou(i),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(re(),$(t,1,1,()=>{t=null}),oe())},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}const _o="Item Melee Info";function GI(l,e,n){let t=qt("data"),{item:i}=e,o=(i.techniques??[]).map(y=>t.byId("technique",y));const r={bad:0,none:1,solid:2,weapon:3},s={hand:0,short:1,long:2},a={point:0,line:1,any:2,every:3},f={clumsy:0,uneven:1,neutral:2,good:3},u=({grip:y="weapon",length:k="hand",surface:T="any",balance:R="neutral"})=>{const C=r[y],B=s[k],D=a[T],j=f[R],L=-2,P=-1,U=-2,q=-2;return L+P+U+q+C+B+D+j},c=typeof i.to_hit=="object"?u(i.to_hit):i.to_hit??0;function _(y){return Math.floor(65+(Math.floor(Or(y.volume??"1 ml")/62.5)+Math.floor(go(y.weight??0)/60)))}const g=(i.flags??[]).includes("SPEAR")||(i.flags??[]).includes("STAB");return l.$$set=y=>{"item"in y&&n(0,i=y.item)},[i,o,c,_,g]}class qI extends Et{constructor(e){super(),wt(this,e,GI,UI,$t,{item:0})}}function Nu(l){let e,n,t,i,o,r,s;return{c(){e=m("a"),n=w("View"),i=w(`
  /
  `),o=m("a"),r=w("Edit on GitHub"),_e(e,"href",t=`https://github.com/CleverRaven/Cataclysm-DDA/blob/${l[1]??"master"}/${l[0].__filename}`),_e(e,"target","_blank"),_e(o,"href",s=`https://github.dev/CleverRaven/Cataclysm-DDA/blob/${l[1]??"master"}/${l[0].__filename}`),_e(o,"target","_blank")},m(a,f){h(a,e,f),d(e,n),h(a,i,f),h(a,o,f),d(o,r)},p(a,f){f&3&&t!==(t=`https://github.com/CleverRaven/Cataclysm-DDA/blob/${a[1]??"master"}/${a[0].__filename}`)&&_e(e,"href",t),f&3&&s!==(s=`https://github.dev/CleverRaven/Cataclysm-DDA/blob/${a[1]??"master"}/${a[0].__filename}`)&&_e(o,"href",s)},d(a){a&&p(e),a&&p(i),a&&p(o)}}}function YI(l){let e,n=JSON.stringify(l[0],l[2],2)+"",t,i,o,r=l[0].__filename&&Nu(l);return{c(){e=m("pre"),t=w(n),i=N(),r&&r.c(),o=fe()},m(s,a){h(s,e,a),d(e,t),h(s,i,a),r&&r.m(s,a),h(s,o,a)},p(s,[a]){a&1&&n!==(n=JSON.stringify(s[0],s[2],2)+"")&&K(t,n),s[0].__filename?r?r.p(s,a):(r=Nu(s),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},i:ie,o:ie,d(s){s&&p(e),s&&p(i),r&&r.d(s),s&&p(o)}}}function HI(l,e,n){let{obj:t}=e,{buildNumber:i}=e;const o=(r,s)=>r==="__filename"?void 0:s;return l.$$set=r=>{"obj"in r&&n(0,t=r.obj),"buildNumber"in r&&n(1,i=r.buildNumber)},[t,i,o]}class Gs extends Et{constructor(e){super(),wt(this,e,HI,YI,$t,{obj:0,buildNumber:1})}}function Au(l,e,n){const t=l.slice();return t[15]=e[n],t}const zI=l=>({}),Bu=l=>({}),WI=l=>({}),Mu=l=>({}),VI=l=>({}),Du=l=>({}),XI=l=>({}),Lu=l=>({}),JI=l=>({}),Fu=l=>({}),KI=l=>({}),Pu=l=>({}),ZI=l=>({}),ju=l=>({}),QI=l=>({}),Uu=l=>({});function xI(l){let e;const n=l[11][7],t=Xi(n,l,l[10],Bu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&Ki(t,n,i,i[10],e?Ji(n,i[10],o,zI):Zi(i[10]),Bu)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function eO(l){let e;const n=l[11][6],t=Xi(n,l,l[10],Mu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&Ki(t,n,i,i[10],e?Ji(n,i[10],o,WI):Zi(i[10]),Mu)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function tO(l){let e;const n=l[11][5],t=Xi(n,l,l[10],Du);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&Ki(t,n,i,i[10],e?Ji(n,i[10],o,VI):Zi(i[10]),Du)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function nO(l){let e;const n=l[11][4],t=Xi(n,l,l[10],Lu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&Ki(t,n,i,i[10],e?Ji(n,i[10],o,XI):Zi(i[10]),Lu)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function iO(l){let e;const n=l[11][3],t=Xi(n,l,l[10],Fu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&Ki(t,n,i,i[10],e?Ji(n,i[10],o,JI):Zi(i[10]),Fu)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function lO(l){let e;const n=l[11][2],t=Xi(n,l,l[10],Pu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&Ki(t,n,i,i[10],e?Ji(n,i[10],o,KI):Zi(i[10]),Pu)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function rO(l){let e;const n=l[11][1],t=Xi(n,l,l[10],ju);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&Ki(t,n,i,i[10],e?Ji(n,i[10],o,ZI):Zi(i[10]),ju)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function oO(l){let e;const n=l[11][0],t=Xi(n,l,l[10],Uu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&Ki(t,n,i,i[10],e?Ji(n,i[10],o,QI):Zi(i[10]),Uu)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function sO(l){let e=l[15].text+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,i:ie,o:ie,d(t){t&&p(n)}}}function Gu(l){let e,n,t,i;const o=[sO,oO,rO,lO,iO,nO,tO,eO,xI],r=[];function s(a,f){return"text"in a[15]?0:a[15].slot===0?1:a[15].slot===1?2:a[15].slot===2?3:a[15].slot===3?4:a[15].slot===4?5:a[15].slot===5?6:a[15].slot===6?7:a[15].slot===7?8:-1}return~(e=s(l))&&(n=r[e]=o[e](l)),{c(){n&&n.c(),t=fe()},m(a,f){~e&&r[e].m(a,f),h(a,t,f),i=!0},p(a,f){n&&n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){~e&&r[e].d(a),a&&p(t)}}}function fO(l){let e,n,t=l[0],i=[];for(let r=0;r<t.length;r+=1)i[r]=Gu(Au(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=fe()},m(r,s){for(let a=0;a<i.length;a+=1)i[a].m(r,s);h(r,e,s),n=!0},p(r,[s]){if(s&1025){t=r[0];let a;for(a=0;a<t.length;a+=1){const f=Au(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Gu(f),i[a].c(),b(i[a],1),i[a].m(e.parentNode,e))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){we(i,r),r&&p(e)}}}const aO=/\{([^}]+)\}/gms;function uO(l,e,n){let{$$slots:t={},$$scope:i}=e,{str:o}=e,{slot0:r=null}=e,{slot1:s=null}=e,{slot2:a=null}=e,{slot3:f=null}=e,{slot4:u=null}=e,{slot5:c=null}=e,{slot6:_=null}=e,{slot7:g=null}=e;const y=new Map;r&&y.set(r,0),s&&y.set(s,1),a&&y.set(a,2),f&&y.set(f,3),u&&y.set(u,4),c&&y.set(c,5),_&&y.set(_,6),g&&y.set(g,7);const k=[];let T,R=0;for(;T=aO.exec(o);){const C=o.substring(R,T.index);C.length&&k.push({text:C}),k.push({slot:y.get(T[1])}),R=T.index+T[0].length}return R<o.length&&k.push({text:o.substring(R)}),l.$$set=C=>{"str"in C&&n(1,o=C.str),"slot0"in C&&n(2,r=C.slot0),"slot1"in C&&n(3,s=C.slot1),"slot2"in C&&n(4,a=C.slot2),"slot3"in C&&n(5,f=C.slot3),"slot4"in C&&n(6,u=C.slot4),"slot5"in C&&n(7,c=C.slot5),"slot6"in C&&n(8,_=C.slot6),"slot7"in C&&n(9,g=C.slot7),"$$scope"in C&&n(10,i=C.$$scope)},[k,o,r,s,a,f,u,c,_,g,i,t]}class Gl extends Et{constructor(e){super(),wt(this,e,uO,fO,$t,{str:1,slot0:2,slot1:3,slot2:4,slot3:5,slot4:6,slot5:7,slot6:8,slot7:9})}}function qu(l,e,n){const t=l.slice();return t[5]=e[n],t}function Yu(l,e,n){const t=l.slice();return t[8]=e[n][0],t[9]=e[n][1],t[11]=n,t}function Hu(l,e,n){const t=l.slice();return t[12]=e[n],t}function zu(l,e,n){const t=l.slice();return t[15]=e[n],t[11]=n,t}function cO(l){let e,n,t,i,o,r,s=l[2]??[],a=[];for(let g=0;g<s.length;g+=1)a[g]=Vu(Hu(l,s,g));const f=g=>$(a[g],1,1,()=>{a[g]=null});let u=l[1],c=[];for(let g=0;g<u.length;g+=1)c[g]=Ju(qu(l,u,g));const _=g=>$(c[g],1,1,()=>{c[g]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Tools Required",{_context:wO})}`,n=N(),t=m("dd"),i=m("ul");for(let g=0;g<a.length;g+=1)a[g].c();o=N();for(let g=0;g<c.length;g+=1)c[g].c()},m(g,y){h(g,e,y),h(g,n,y),h(g,t,y),d(t,i);for(let k=0;k<a.length;k+=1)a[k].m(i,null);d(i,o);for(let k=0;k<c.length;k+=1)c[k].m(i,null);r=!0},p(g,y){if(y&4){s=g[2]??[];let k;for(k=0;k<s.length;k+=1){const T=Hu(g,s,k);a[k]?(a[k].p(T,y),b(a[k],1)):(a[k]=Vu(T),a[k].c(),b(a[k],1),a[k].m(i,o))}for(re(),k=s.length;k<a.length;k+=1)f(k);oe()}if(y&3){u=g[1];let k;for(k=0;k<u.length;k+=1){const T=qu(g,u,k);c[k]?(c[k].p(T,y),b(c[k],1)):(c[k]=Ju(T),c[k].c(),b(c[k],1),c[k].m(i,null))}for(re(),k=u.length;k<c.length;k+=1)_(k);oe()}},i(g){if(!r){for(let y=0;y<s.length;y+=1)b(a[y]);for(let y=0;y<u.length;y+=1)b(c[y]);r=!0}},o(g){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)$(a[y]);c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)$(c[y]);r=!1},d(g){g&&p(e),g&&p(n),g&&p(t),we(a,g),we(c,g)}}}function _O(l){let e=" OR ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function dO(l){let e,n;return e=new ve({props:{type:"tool_quality",id:l[15].id,slot:"0"}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p:ie,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Wu(l){let e,n,t,i=l[11]!==0&&_O();return n=new Gl({props:{str:kn._n("%1$d tool with %2$s of %3$d or more.","%1$d tools with %2$s of %3$d or more.",l[15].amount??1,l[15].amount??1,"{tool_quality}",l[15].level).replace(/\$./g,""),slot0:"tool_quality",$$slots:{0:[dO]},$$scope:{ctx:l}}}),{c(){i&&i.c(),e=N(),W(n.$$.fragment)},m(o,r){i&&i.m(o,r),h(o,e,r),H(n,o,r),t=!0},p(o,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),z(n,o)}}}function Vu(l){let e,n,t=l[12],i=[];for(let r=0;r<t.length;r+=1)i[r]=Wu(zu(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){e=m("li");for(let r=0;r<i.length;r+=1)i[r].c()},m(r,s){h(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(r,s){if(s&4){t=r[12];let a;for(a=0;a<t.length;a+=1){const f=zu(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Wu(f),i[a].c(),b(i[a],1),i[a].m(e,null))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){r&&p(e),we(i,r)}}}function mO(l){let e=kn.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function pO(l){let e,n;return e=new Gl({props:{str:kn.dcnpgettext(null,"requirement","%1$s (%2$d charge)","%1$s (%2$d charges)",l[9],"{item}",l[9]).replace(/\$./g,""),slot0:"item",$$slots:{0:[$O]},$$scope:{ctx:l}}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&131072&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function hO(l){let e,n,t,i;const o=[yO,vO],r=[];function s(a,f){return a[0].craftingPseudoItem(a[8])?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function gO(l){let e,n;return e=new ve({props:{type:"item",id:l[8]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p:ie,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function bO(l){let e,n=it(l[0].byId("item",l[8]))+"",t;return{c(){e=m("a"),t=w(n),_e(e,"href","/cdda-guide/furniture/"+l[0].craftingPseudoItem(l[8]))},m(i,o){h(i,e,o),d(e,t)},p:ie,i:ie,o:ie,d(i){i&&p(e)}}}function $O(l){let e,n,t,i;const o=[bO,gO],r=[];function s(a,f){return a[0].craftingPseudoItem(a[8])?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function vO(l){let e,n;return e=new ve({props:{type:"item",id:l[8]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p:ie,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function yO(l){let e,n=it(l[0].byId("item",l[8]))+"",t;return{c(){e=m("a"),t=w(n),_e(e,"href","/cdda-guide/furniture/"+l[0].craftingPseudoItem(l[8]))},m(i,o){h(i,e,o),d(e,t)},p:ie,i:ie,o:ie,d(i){i&&p(e)}}}function Xu(l){let e,n,t,i,o,r=l[11]!==0&&mO();const s=[hO,pO],a=[];function f(u,c){return u[9]<=0?0:1}return n=f(l),t=a[n]=s[n](l),{c(){r&&r.c(),e=N(),t.c(),i=fe()},m(u,c){r&&r.m(u,c),h(u,e,c),a[n].m(u,c),h(u,i,c),o=!0},p(u,c){u[11]!==0&&r.p(u,c),t.p(u,c)},i(u){o||(b(t),o=!0)},o(u){$(t),o=!1},d(u){r&&r.d(u),u&&p(e),a[n].d(u),u&&p(i)}}}function Ju(l){let e,n,t,i=l[5],o=[];for(let s=0;s<i.length;s+=1)o[s]=Xu(Yu(l,i,s));const r=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=N()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);d(e,n),t=!0},p(s,a){if(a&3){i=s[5];let f;for(f=0;f<i.length;f+=1){const u=Yu(s,i,f);o[f]?(o[f].p(u,a),b(o[f],1)):(o[f]=Xu(u),o[f].c(),b(o[f],1),o[f].m(e,n))}for(re(),f=i.length;f<o.length;f+=1)r(f);oe()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)b(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),we(o,s)}}}function kO(l){var i;let e,n,t=(((i=l[2])==null?void 0:i.length)||l[1].length)&&cO(l);return{c(){t&&t.c(),e=fe()},m(o,r){t&&t.m(o,r),h(o,e,r),n=!0},p(o,[r]){var s;((s=o[2])!=null&&s.length||o[1].length)&&t.p(o,r)},i(o){n||(b(t),n=!0)},o(o){$(t),n=!1},d(o){t&&t.d(o),o&&p(e)}}}const wO="Requirement";function EO(l,e,n){let{requirement:t}=e,{direction:i="craft"}=e;const o=qt("data");let{tools:r,qualities:s}=i==="craft"?o.normalizeRequirements(t):o.normalizeRequirementsForDisassembly(t);return l.$$set=a=>{"requirement"in a&&n(3,t=a.requirement),"direction"in a&&n(4,i=a.direction)},[o,r,s,t,i]}class Go extends Et{constructor(e){super(),wt(this,e,EO,kO,$t,{requirement:3,direction:4})}}function Ku(l,e,n){const t=l.slice();return t[6]=e[n],t}function Zu(l,e,n){const t=l.slice();return t[9]=e[n].id,t[10]=e[n].count,t[12]=n,t}function SO(l){let e,n;return e=new Go({props:{requirement:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.requirement=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function TO(l){let e,n,t,i,o,r=l[4],s=[];for(let f=0;f<r.length;f+=1)s[f]=xu(Ku(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Components",{_context:OO})}`,n=N(),t=m("dd"),i=m("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){h(f,e,u),h(f,n,u),h(f,t,u),d(t,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&18){r=f[4];let c;for(c=0;c<r.length;c+=1){const _=Ku(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=xu(_),s[c].c(),b(s[c],1),s[c].m(i,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),f&&p(t),we(s,f)}}}function CO(l){let e=" OR ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function Qu(l){let e,n,t,i=l[12]!==0&&CO();return n=new ve({props:{type:"item",id:l[9],count:l[10]}}),{c(){i&&i.c(),e=N(),W(n.$$.fragment)},m(o,r){i&&i.m(o,r),h(o,e,r),H(n,o,r),t=!0},p:ie,i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),z(n,o)}}}function xu(l){let e,n,t,i=l[6].map(l[5]).filter(ec),o=[];for(let s=0;s<i.length;s+=1)o[s]=Qu(Zu(l,i,s));const r=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=N()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);d(e,n),t=!0},p(s,a){if(a&18){i=s[6].map(s[5]).filter(ec);let f;for(f=0;f<i.length;f+=1){const u=Zu(s,i,f);o[f]?(o[f].p(u,a),b(o[f],1)):(o[f]=Qu(u),o[f].c(),b(o[f],1),o[f].m(e,n))}for(re(),f=i.length;f<o.length;f+=1)r(f);oe()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)b(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),we(o,s)}}}function IO(l){var r,s;let e,n,t,i=(((r=l[3])==null?void 0:r.length)||((s=l[2])==null?void 0:s.length))&&SO(l),o=l[4].length&&TO(l);return{c(){i&&i.c(),e=N(),o&&o.c(),n=fe()},m(a,f){i&&i.m(a,f),h(a,e,f),o&&o.m(a,f),h(a,n,f),t=!0},p(a,[f]){var u,c;((u=a[3])!=null&&u.length||(c=a[2])!=null&&c.length)&&i.p(a,f),a[4].length&&o.p(a,f)},i(a){t||(b(i),b(o),t=!0)},o(a){$(i),$(o),t=!1},d(a){i&&i.d(a),a&&p(e),o&&o.d(a),a&&p(n)}}}const OO="Requirement",ec=l=>l.item;function RO(l,e,n){let{requirement:t}=e;const i=qt("data");let{tools:o,qualities:r,components:s}=i.normalizeRequirements(t);const a=([f,u])=>({id:f,count:u,item:i.byId("item",f)});return l.$$set=f=>{"requirement"in f&&n(0,t=f.requirement)},[t,i,o,r,s,a]}class qo extends Et{constructor(e){super(),wt(this,e,RO,IO,$t,{requirement:0})}}function tc(l,e,n){const t=l.slice();return t[8]=e[n][0],t[9]=e[n][1]!==void 0?e[n][1]:0,t}function nc(l,e,n){const t=l.slice();return t[12]=e[n][0],t[9]=e[n][1],t}function ic(l,e,n){const t=l.slice();return t[12]=e[n][0],t[9]=e[n][1],t}function lc(l,e,n){const t=l.slice();return t[17]=e[n],t}function rc(l,e,n){const t=l.slice();t[20]=e[n];const i={_context:Bi,_comment:"proficiency multiplier"};t[21]=i;const o=[t[20].time_multiplier!==1?`${t[20].time_multiplier}× ${O.t("time",t[21])}`:null,t[20].fail_multiplier!=null&&t[20].fail_multiplier!==1?`${t[20].fail_multiplier}× ${O.t("fail",t[21])}`:null,t[20].skill_penalty!=null&&t[20].skill_penalty!==0?`${t[20].skill_penalty} ${O.t("skill bonus",t[21])}`:null,t[20].learning_time_multiplier!==1?`${t[20].learning_time_multiplier}× ${O.t("learning speed",t[21])}`:null].filter(r=>r);return t[22]=o,t}function oc(l,e,n){const t=l.slice();return t[12]=e[n][0],t[9]=e[n][1],t[26]=n,t}function NO(l){let e=O.t("Craft",{_context:Bi,_comment:"Section heading"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function AO(l){let e=O.t("Byproduct",{_context:Bi,_comment:"Section heading"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function sc(l){let e,n,t,i;return t=new ve({props:{id:l[0].result,type:"item"}}),{c(){e=m("dt"),e.textContent=`${O.t("Result",{_context:Bi})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].result),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function BO(l){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,i:ie,o:ie,d(t){t&&p(n)}}}function MO(l){let e,n,t=(l[0].difficulty??0)+"",i,o,r;return e=new ve({props:{type:"skill",id:l[0].skill_used}}),{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){H(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),r=!0},p(s,a){const f={};a&1&&(f.id=s[0].skill_used),e.$set(f),(!r||a&1)&&t!==(t=(s[0].difficulty??0)+"")&&K(i,t)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),r=!1},d(s){z(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function DO(l){let e,n,t,i,o=l[3],r=[];for(let f=0;f<o.length;f+=1)r[f]=ac(oc(l,o,f));const s=f=>$(r[f],1,1,()=>{r[f]=null});let a=null;return o.length||(a=fc()),{c(){e=m("dt"),e.textContent=`${O.t("Other Skills",{_context:Bi})}`,n=m("dd");for(let f=0;f<r.length;f+=1)r[f].c();a&&a.c(),t=N()},m(f,u){h(f,e,u),h(f,n,u);for(let c=0;c<r.length;c+=1)r[c].m(n,null);a&&a.m(n,null),d(n,t),i=!0},p(f,u){if(u&8){o=f[3];let c;for(c=0;c<o.length;c+=1){const _=oc(f,o,c);r[c]?(r[c].p(_,u),b(r[c],1)):(r[c]=ac(_),r[c].c(),b(r[c],1),r[c].m(n,t))}for(re(),c=o.length;c<r.length;c+=1)s(c);oe(),!o.length&&a?a.p(f,u):o.length?a&&(a.d(1),a=null):(a=fc(),a.c(),a.m(n,t))}},i(f){if(!i){for(let u=0;u<o.length;u+=1)b(r[u]);i=!0}},o(f){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)$(r[u]);i=!1},d(f){f&&p(e),f&&p(n),we(r,f),a&&a.d()}}}function fc(l){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function LO(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function FO(l){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function ac(l){let e,n,t=l[9]+"",i,o,r,s;e=new ve({props:{type:"skill",id:l[12]}});function a(c,_){if(c[26]===c[3].length-2)return FO;if(c[26]!==c[3].length-1)return LO}let f=a(l),u=f&&f(l);return{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),u&&u.c(),r=fe()},m(c,_){H(e,c,_),h(c,n,_),h(c,i,_),h(c,o,_),u&&u.m(c,_),h(c,r,_),s=!0},p:ie,i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(n),c&&p(i),c&&p(o),u&&u.d(c),c&&p(r)}}}function PO(l){let e,n,t,i,o,r=l[5],s=[];for(let f=0;f<r.length;f+=1)s[f]=uc(rc(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Proficiencies",{_context:Bi})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&32){r=f[5];let c;for(c=0;c<r.length;c+=1){const _=rc(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=uc(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function jO(l){let e,n=l[22].join(", ")+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function uc(l){let e,n,t,i,o;n=new ve({props:{type:"proficiency",id:l[20].proficiency}});let r=l[22].length&&jO(l);return{c(){e=m("li"),W(n.$$.fragment),t=N(),r&&r.c(),i=N()},m(s,a){h(s,e,a),H(n,e,null),d(e,t),r&&r.m(e,null),d(e,i),o=!0},p(s,a){s[22].length&&r.p(s,a)},i(s){o||(b(n.$$.fragment,s),o=!0)},o(s){$(n.$$.fragment,s),o=!1},d(s){s&&p(e),z(n),r&&r.d()}}}function UO(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function GO(l){let e=l[0].batch_time_factors[0]+"",n,t,i=l[0].batch_time_factors[1]+"",o,r,s=l[0].batch_time_factors[1]===1?"":"s",a;return{c(){n=w(e),t=w("% at >"),o=w(i),r=w(" unit"),a=w(s)},m(f,u){h(f,n,u),h(f,t,u),h(f,o,u),h(f,r,u),h(f,a,u)},p(f,u){u&1&&e!==(e=f[0].batch_time_factors[0]+"")&&K(n,e),u&1&&i!==(i=f[0].batch_time_factors[1]+"")&&K(o,i),u&1&&s!==(s=f[0].batch_time_factors[1]===1?"":"s")&&K(a,s)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r),f&&p(a)}}}function cc(l){let e,n,t=l[0].charges+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Recipe Makes",{_context:Bi})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].charges+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function _c(l){let e,n,t,i,o,r=l[0].byproducts,s=[];for(let f=0;f<r.length;f+=1)s[f]=dc(lc(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Byproducts",{_context:Bi})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&1){r=f[0].byproducts;let c;for(c=0;c<r.length;c+=1){const _=lc(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=dc(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function dc(l){let e,n,t;return n=new ve({props:{type:"item",id:l[17][0],count:l[17][1]??1}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o&1&&(r.id=i[17][0]),o&1&&(r.count=i[17][1]??1),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function qO(l){let e;return{c(){e=w("no")},m(n,t){h(n,e,t)},p:ie,i:ie,o:ie,d(n){n&&p(e)}}}function YO(l){let e,n,t,i,o;const r=[zO,HO],s=[];function a(f,u){return u&1&&(n=null),n==null&&(n=!!Array.isArray(f[0].autolearn)),n?0:1}return t=a(l,-1),i=s[t]=r[t](l),{c(){e=m("ul"),i.c(),_e(e,"class","comma-separated")},m(f,u){h(f,e,u),s[t].m(e,null),o=!0},p(f,u){let c=t;t=a(f,u),t===c?s[t].p(f,u):(re(),$(s[c],1,1,()=>{s[c]=null}),oe(),i=s[t],i?i.p(f,u):(i=s[t]=r[t](f),i.c()),b(i,1),i.m(e,null))},i(f){o||(b(i),o=!0)},o(f){$(i),o=!1},d(f){f&&p(e),s[t].d()}}}function HO(l){let e,n,t,i,o=l[0].skill_used&&mc(l),r=l[3].length&&WO(l),s=!l[0].skill_used&&!l[3].length&&hc();return{c(){o&&o.c(),e=N(),r&&r.c(),n=N(),s&&s.c(),t=fe()},m(a,f){o&&o.m(a,f),h(a,e,f),r&&r.m(a,f),h(a,n,f),s&&s.m(a,f),h(a,t,f),i=!0},p(a,f){a[0].skill_used?o?(o.p(a,f),f&1&&b(o,1)):(o=mc(a),o.c(),b(o,1),o.m(e.parentNode,e)):o&&(re(),$(o,1,1,()=>{o=null}),oe()),a[3].length&&r.p(a,f),!a[0].skill_used&&!a[3].length?s?s.p(a,f):(s=hc(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(a){i||(b(o),b(r),i=!0)},o(a){$(o),$(r),i=!1},d(a){o&&o.d(a),a&&p(e),r&&r.d(a),a&&p(n),s&&s.d(a),a&&p(t)}}}function zO(l){let e,n,t=l[0].autolearn,i=[];for(let r=0;r<t.length;r+=1)i[r]=gc(ic(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=fe()},m(r,s){for(let a=0;a<i.length;a+=1)i[a].m(r,s);h(r,e,s),n=!0},p(r,s){if(s&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const f=ic(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=gc(f),i[a].c(),b(i[a],1),i[a].m(e.parentNode,e))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){we(i,r),r&&p(e)}}}function mc(l){let e,n,t,i=(l[0].difficulty??0)+"",o,r,s;return n=new ve({props:{type:"skill",id:l[0].skill_used}}),{c(){e=m("li"),W(n.$$.fragment),t=w(" ("),o=w(i),r=w(")")},m(a,f){h(a,e,f),H(n,e,null),d(e,t),d(e,o),d(e,r),s=!0},p(a,f){const u={};f&1&&(u.id=a[0].skill_used),n.$set(u),(!s||f&1)&&i!==(i=(a[0].difficulty??0)+"")&&K(o,i)},i(a){s||(b(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),z(n)}}}function WO(l){let e,n,t=l[3],i=[];for(let r=0;r<t.length;r+=1)i[r]=pc(nc(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=fe()},m(r,s){for(let a=0;a<i.length;a+=1)i[a].m(r,s);h(r,e,s),n=!0},p(r,s){if(s&8){t=r[3];let a;for(a=0;a<t.length;a+=1){const f=nc(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=pc(f),i[a].c(),b(i[a],1),i[a].m(e.parentNode,e))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){we(i,r),r&&p(e)}}}function pc(l){let e,n,t,i=l[9]+"",o,r,s;return n=new ve({props:{type:"skill",id:l[12]}}),{c(){e=m("li"),W(n.$$.fragment),t=w(" ("),o=w(i),r=w(")")},m(a,f){h(a,e,f),H(n,e,null),d(e,t),d(e,o),d(e,r),s=!0},p:ie,i(a){s||(b(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),z(n)}}}function hc(l){let e;return{c(){e=m("li"),e.textContent=`${O.t("At birth",{_context:Bi})}`},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function gc(l){let e,n,t,i=l[9]+"",o,r,s;return n=new ve({props:{type:"skill",id:l[12]}}),{c(){e=m("li"),W(n.$$.fragment),t=w(" ("),o=w(i),r=w(")")},m(a,f){h(a,e,f),H(n,e,null),d(e,t),d(e,o),d(e,r),s=!0},p(a,f){const u={};f&1&&(u.id=a[12]),n.$set(u),(!s||f&1)&&i!==(i=a[9]+"")&&K(o,i)},i(a){s||(b(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),z(n)}}}function VO(l){let e,n,t,i,o=l[4],r=[];for(let a=0;a<o.length;a+=1)r[a]=bc(tc(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Written In",{_context:Bi,_comment:"List of books that contain the recipe"})} 
      `,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c();_e(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f&16){o=a[4];let u;for(u=0;u<o.length;u+=1){const c=tc(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=bc(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function bc(l){let e,n,t,i,o=l[9]+"",r,s,a;return t=new ve({props:{id:l[8],type:"item"}}),{c(){e=m("li"),n=m("span"),W(t.$$.fragment),i=w(" ("),r=w(o),s=w(")"),Bt(n,"white-space","nowrap")},m(f,u){h(f,e,u),d(e,n),H(t,n,null),d(n,i),d(n,r),d(n,s),a=!0},p:ie,i(f){a||(b(t.$$.fragment,f),a=!0)},o(f){$(t.$$.fragment,f),a=!1},d(f){f&&p(e),z(t)}}}function XO(l){var mt;let e,n,t,i,o,r,s,a,f,u,c,_,g=(l[0].time??"0 m")+"",y,k,T,R=O.t(l[7](l[6][l[0].activity_level??"MODERATE_EXERCISE"]))+"",C,B,D,j,L,P,U,q,G,Z,M,x,ne,F,X,J,V,se;function me(ye,et){return ye[1]?AO:NO}let Q=me(l),ee=Q(l),le=l[1]&&l[0].result&&sc(l);const ue=[MO,BO],be=[];function Le(ye,et){return ye[0].skill_used?0:1}s=Le(l),a=be[s]=ue[s](l);let ke=l[3].length&&DO(l),Ee=l[5].length&&PO(l);function Te(ye,et){return ye[0].batch_time_factors?GO:UO}let Re=Te(l),He=Re(l),he=l[0].charges&&cc(l);U=new qo({props:{requirement:l[0]}});let Ce=((mt=l[0].byproducts)==null?void 0:mt.length)&&_c(l);const De=[YO,qO],Oe=[];function Ke(ye,et){return ye[0].autolearn?0:1}Z=Ke(l),M=Oe[Z]=De[Z](l);let xe=l[4].length&&VO(l);return V=new Gs({props:{obj:l[0],buildNumber:l[2].build_number}}),{c(){e=m("section"),n=m("h1"),ee.c(),t=N(),i=m("dl"),le&&le.c(),o=m("dt"),o.textContent=`${O.t("Primary Skill",{_context:Bi})}`,r=m("dd"),a.c(),f=N(),ke&&ke.c(),u=fe(),Ee&&Ee.c(),c=m("dt"),c.textContent=`${O.t("Time to Complete")}`,_=m("dd"),y=w(g),k=m("dt"),k.textContent=`${O.t("Activity Level",{_context:Bi})}`,T=m("dd"),C=w(R),B=N(),D=m("dt"),D.textContent=`${O.t("Batch Time Savings",{_context:Bi})}`,j=m("dd"),He.c(),L=N(),he&&he.c(),P=fe(),W(U.$$.fragment),Ce&&Ce.c(),q=m("dt"),q.textContent=`${O.t("Autolearn",{_context:Bi})} 
    `,G=m("dd"),M.c(),x=N(),xe&&xe.c(),ne=N(),F=m("details"),X=m("summary"),X.textContent=`${O.t("Recipe JSON")}`,J=N(),W(V.$$.fragment),_e(q,"title","Learned at these skill levels, otherwise only learnable from a book"),_e(e,"class","recipe")},m(ye,et){h(ye,e,et),d(e,n),ee.m(n,null),d(e,t),d(e,i),le&&le.m(i,null),d(i,o),d(i,r),be[s].m(r,null),d(r,f),ke&&ke.m(i,null),d(i,u),Ee&&Ee.m(i,null),d(i,c),d(i,_),d(_,y),d(i,k),d(i,T),d(T,C),d(T,B),d(i,D),d(i,j),He.m(j,null),d(j,L),he&&he.m(i,null),d(i,P),H(U,i,null),Ce&&Ce.m(i,null),d(i,q),d(i,G),Oe[Z].m(G,null),d(G,x),xe&&xe.m(i,null),d(e,ne),d(e,F),d(F,X),d(F,J),H(V,F,null),se=!0},p(ye,[et]){var Ve;Q===(Q=me(ye))&&ee?ee.p(ye,et):(ee.d(1),ee=Q(ye),ee&&(ee.c(),ee.m(n,null))),ye[1]&&ye[0].result?le?(le.p(ye,et),et&3&&b(le,1)):(le=sc(ye),le.c(),b(le,1),le.m(i,o)):le&&(re(),$(le,1,1,()=>{le=null}),oe());let je=s;s=Le(ye),s===je?be[s].p(ye,et):(re(),$(be[je],1,1,()=>{be[je]=null}),oe(),a=be[s],a?a.p(ye,et):(a=be[s]=ue[s](ye),a.c()),b(a,1),a.m(r,f)),ye[3].length&&ke.p(ye,et),ye[5].length&&Ee.p(ye,et),(!se||et&1)&&g!==(g=(ye[0].time??"0 m")+"")&&K(y,g),(!se||et&1)&&R!==(R=O.t(ye[7](ye[6][ye[0].activity_level??"MODERATE_EXERCISE"]))+"")&&K(C,R),Re===(Re=Te(ye))&&He?He.p(ye,et):(He.d(1),He=Re(ye),He&&(He.c(),He.m(j,L))),ye[0].charges?he?he.p(ye,et):(he=cc(ye),he.c(),he.m(i,P)):he&&(he.d(1),he=null);const ct={};et&1&&(ct.requirement=ye[0]),U.$set(ct),(Ve=ye[0].byproducts)!=null&&Ve.length?Ce?(Ce.p(ye,et),et&1&&b(Ce,1)):(Ce=_c(ye),Ce.c(),b(Ce,1),Ce.m(i,q)):Ce&&(re(),$(Ce,1,1,()=>{Ce=null}),oe());let We=Z;Z=Ke(ye),Z===We?Oe[Z].p(ye,et):(re(),$(Oe[We],1,1,()=>{Oe[We]=null}),oe(),M=Oe[Z],M?M.p(ye,et):(M=Oe[Z]=De[Z](ye),M.c()),b(M,1),M.m(G,x)),ye[4].length&&xe.p(ye,et);const qe={};et&1&&(qe.obj=ye[0]),V.$set(qe)},i(ye){se||(b(le),b(a),b(ke),b(Ee),b(U.$$.fragment,ye),b(Ce),b(M),b(xe),b(V.$$.fragment,ye),se=!0)},o(ye){$(le),$(a),$(ke),$(Ee),$(U.$$.fragment,ye),$(Ce),$(M),$(xe),$(V.$$.fragment,ye),se=!1},d(ye){ye&&p(e),ee.d(),le&&le.d(),be[s].d(),ke&&ke.d(),Ee&&Ee.d(),He.d(),he&&he.d(),z(U),Ce&&Ce.d(),Oe[Z].d(),xe&&xe.d(),z(V)}}}const Bi="Recipe";function JO(l){return l===void 0?[]:l.length===0?[]:Array.isArray(l[0])?l:[l]}function KO(l,e,n){let{recipe:t}=e,{showResult:i=!1}=e;const o=qt("data");let r=JO(t.skills_required);const s=Array.isArray(t.book_learn)?[...t.book_learn]:[...Object.entries(t.book_learn??{})].map(([c,_])=>[c,_.skill_level]);s.sort((c,_)=>(c[1]??0)-(_[1]??0));const a=(t.proficiencies??[]).map(c=>{const _=o.byId("proficiency",c.proficiency),g=c.skill_penalty??_.default_skill_penalty??0,y=c.fail_multiplier??_.default_fail_multiplier??1;return{skill_penalty:g,fail_multiplier:y,time_multiplier:_.default_time_multiplier??2,learning_time_multiplier:1,...c}}),f={SLEEP_EXERCISE:.85,NO_EXERCISE:1,LIGHT_EXERCISE:2,fake:4,MODERATE_EXERCISE:4,BRISK_EXERCISE:6,ACTIVE_EXERCISE:8,EXTRA_EXERCISE:10};function u(c){const _=["None","Light","Moderate","Brisk","Active","Extreme"],g=Math.floor(c/2);return kn.pgettext("activity description",_[g])}return l.$$set=c=>{"recipe"in c&&n(0,t=c.recipe),"showResult"in c&&n(1,i=c.showResult)},[t,i,o,r,s,a,f,u]}class ZO extends Et{constructor(e){super(),wt(this,e,KO,XO,$t,{recipe:0,showResult:1})}}function $c(l,e,n){const t=l.slice();return t[5]=e[n],t}function QO(l){let e=[],n=new Map,t,i,o=l[2];const r=s=>s[5];for(let s=0;s<o.length;s+=1){let a=$c(l,o,s),f=r(a);n.set(f,e[s]=vc(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=fe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f].m(s,a);h(s,t,a),i=!0},p(s,a){a&5&&(o=s[2],re(),e=J3(e,a,r,1,s,o,n,t.parentNode,X3,vc,t,$c),oe())},i(s){if(!i){for(let a=0;a<o.length;a+=1)b(e[a]);i=!0}},o(s){for(let a=0;a<e.length;a+=1)$(e[a]);i=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&p(t)}}}function vc(l,e){let n,t,i;return t=new ZO({props:{recipe:e[5],showResult:e[5].result!==e[0]}}),{key:l,first:null,c(){n=fe(),W(t.$$.fragment),this.first=n},m(o,r){h(o,n,r),H(t,o,r),i=!0},p(o,r){e=o;const s={};r&1&&(s.showResult=e[5].result!==e[0]),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(n),z(t,o)}}}function xO(l){let e,n,t,i,o;return i=new Zt({props:{items:l[3],$$slots:{default:[eR,({item:r})=>({4:r}),({item:r})=>r?16:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Byproduct when crafting",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&272&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function eR(l){let e,n,t,i;return e=new Lt({props:{item:l[1].byId("item",l[4].result)}}),t=new ve({props:{type:"item",id:l[4].result}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&16&&(s.item=o[1].byId("item",o[4].result)),e.$set(s);const a={};r&16&&(a.id=o[4].result),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function tR(l){let e,n,t,i=l[2].length&&QO(l),o=l[3].length&&xO(l);return{c(){i&&i.c(),e=N(),o&&o.c(),n=fe()},m(r,s){i&&i.m(r,s),h(r,e,s),o&&o.m(r,s),h(r,n,s),t=!0},p(r,[s]){r[2].length&&i.p(r,s),r[3].length&&o.p(r,s)},i(r){t||(b(i),b(o),t=!0)},o(r){$(i),$(o),t=!1},d(r){i&&i.d(r),r&&p(e),o&&o.d(r),r&&p(n)}}}let Ql;function nR(l){if(!Ql){Ql={};for(const e of l.byType("recipe"))e.result&&!e.obsolete&&(Ql[e.result]||(Ql[e.result]=[]),Ql[e.result].push(e))}return Ql}let Bl;function iR(l){if(!Bl){Bl={};for(const e of l.byType("recipe"))if(e.result)for(const n of e.byproducts??[])Bl[n[0]]||(Bl[n[0]]=[]),Bl[n[0]].push(e);for(const e of Object.values(Bl))e.sort((n,t)=>{const i=l.byId("item",n.result),o=l.byId("item",t.result);return it(i).localeCompare(it(o))})}return Bl}function lR(l,e,n){let{item_id:t}=e,i=qt("data");const o=nR(i)[t]??[],r=iR(i)[t]??[];return l.$$set=s=>{"item_id"in s&&n(0,t=s.item_id)},[t,i,o,r]}class rR extends Et{constructor(e){super(),wt(this,e,lR,tR,$t,{item_id:0})}}function oR(l){let e,n,t,i,o;return i=new Zt({props:{items:l[0],$$slots:{default:[sR,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Salvage",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&34&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function sR(l){let e,n,t,i;return e=new Lt({props:{item:l[1]}}),t=new ve({props:{type:"item",id:l[1].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&2&&(s.item=o[1]),e.$set(s);const a={};r&2&&(a.id=o[1].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function fR(l){let e,n,t=l[0].length&&oR(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function aR(l,e,n){let{item_id:t}=e,i=qt("data");const o=i.byId("item",t);function r(a){return i.byType("item").filter(f=>f.id).filter(f=>{const u=typeof f.material=="string"?[f.material]:f.material??[];return u.length===1&&u[0]===a.id})}const s=i.byType("material").filter(a=>a.id).filter(a=>a.salvaged_into===t).flatMap(a=>r(a)).filter(a=>!(a.flags??[]).includes("NO_SALVAGE")).filter(a=>go(a.weight??0)>=go(o.weight??0)).sort(Sn);return l.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[s,o,t]}class uR extends Et{constructor(e){super(),wt(this,e,aR,fR,$t,{item_id:2})}}function jr(l,e){let n=[l??1].flat();n.length===1&&(n=[n[0],n[0]]);let t=0,i=0;for(let o=n[0];o<=n[1];++o)t+=1-Math.pow(1-e,o),++i;return t/i}function vo(l){if(l.length===1&&(l[0].chance??1)===1)return l[0].loot;const e=new Map;for(const{loot:n,chance:t=1}of l)for(const[i,o]of n.entries()){const r=e.get(i)??0,s=o*t,a=1-(1-r)*(1-s);e.set(i,a)}return e}function cR(l,e,n){const t={...l.object,rows:(l.object.rows??[]).slice(n*24,(n+1)*24).map(s=>s.slice(e*24,(e+1)*24))},i=s=>Array.isArray(s)?s[0]:s,o=e*24,r=n*24;return t.place_items&&(t.place_items=t.place_items.filter(s=>i(s.x)>=o&&i(s.y)>=r&&i(s.x)<o+24&&i(s.y)<r+24)),t.place_item&&(t.place_item=t.place_item.filter(s=>i(s.x)>=o&&i(s.y)>=r&&i(s.x)<o+24&&i(s.y)<r+24)),t.add&&(t.add=t.add.filter(s=>i(s.x)>=o&&i(s.y)>=r&&i(s.x)<o+24&&i(s.y)<r+24)),t.place_loot&&(t.place_loot=t.place_loot.filter(s=>i(s.x)>=o&&i(s.y)>=r&&i(s.x)<o+24&&i(s.y)<r+24)),t.place_nested&&(t.place_nested=t.place_nested.filter(s=>i(s.x)>=o&&i(s.y)>=r&&i(s.x)<o+24&&i(s.y)<r+24)),{...l,object:t}}const _R=typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback:function(l){var e=Date.now();return setTimeout(function(){l({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},0)};function yc(){return new Promise(l=>{_R(l,{timeout:100})})}async function X0(l){let e=await yc();return l(async()=>{e.timeRemaining()<=0&&(e=await yc())})}const is=new WeakMap;async function dR(l){if(is.has(l))return is.get(l);const e=new Map,n=(o,r)=>{e.has(o)||e.set(o,[]),e.get(o).push(r)};for(const o of l.byType("mapgen"))if(o.om_terrain)if(typeof o.om_terrain=="string")n(o.om_terrain,o);else if(typeof o.om_terrain[0]=="string")for(const r of o.om_terrain)n(r,o);else for(let r=0;r<o.om_terrain.length;r++)for(let s=0;s<o.om_terrain[r].length;s++)n(o.om_terrain[r][s],cR(o,s,r));const t=l.byType("overmap_special"),i=new Map;return await X0(async o=>{for(const r of t){if(r.subtype==="mutable")continue;const s=[];for(const a of r.overmaps??[]){const f=a.overmap.replace(/_(north|east|west|south)$/,""),u=e.get(f)??[],c=yo(u.map(_=>({weight:_.weight??1e3,loot:K0(l,_)})));s.push(c),await o()}i.set(r.id,vR(s))}}),is.set(l,i),i}function mR(l,e){if(e.subtype==="mutable")return;const n=[...e.overmaps??[]];let t=1/0,i=1/0,o=-1/0,r=-1/0;const s=new Map;for(const u of n){const c=u.overmap.replace(/_(north|south|east|west)$/,"");if(!l.byIdMaybe("overmap_terrain",c))continue;const[_,g,y]=u.point;y===0&&(_<t&&(t=_),g<i&&(i=g),_>o&&(o=_),g>r&&(r=g),s.set(`${_}|${g}`,u))}if(t===1/0||i===1/0)return;const a=[r-i,o-t];for(let u=i;u<=r;u++)for(let c=t;c<=o;c++){const _=s.get(`${c}|${u}`);if(_){const g=_.overmap.replace(/_(north|south|east|west)$/,""),y=f(g);a.push(y)}else a.push("no_om")}return a.join("\0");function f(u){const c=l.byId("overmap_terrain",u);return c?`${c.sym}${c.color}${c.name}`:"appearance_unk"}}const pR=new Set(["Necropolis","Isherwood Farms","lab_mutagen_6_level","Lab_SECURITY_1x1x6","Lab_CARGO_Surface","hub_01","aircraft_carrier","airliner_crashed","farm_abandoned","ranch_camp","mil_base","valhalla_cult","nuclear power plant","tutorial"]),ls=new WeakMap;function hR(l){return ls.has(l)||ls.set(l,gR(l)),ls.get(l)}async function gR(l){const e=await dR(l),n=new Map;return await X0(async t=>{for(const[i,o]of e.entries()){if(pR.has(i))continue;const r=mR(l,l.byId("overmap_special",i));if(!r)continue;n.has(r)||n.set(r,{loot:void 0,ids:[]});const s=n.get(r);s.loot?s.loot=yo([{loot:s.loot,weight:1},{loot:o,weight:1}]):s.loot=o,await t(),s.ids.push(i)}}),n}function yo(l){const e=l.map(t=>t.weight).reduce((t,i)=>t+i,0),n=new Map;for(const{loot:t,weight:i}of l){const o=(i??1e3)/e;for(const[r,s]of t.entries())n.set(r,(n.get(r)??0)+s*o)}return n}function bR(l,e){const n=new Map;for(const[t,i]of l.entries())n.set(t,i*e);return n}function $R(l,e){const n=new Map;for(const[t,i]of l.entries())n.set(t,bR(i,e));return n}function vR(l){const e=new Map;for(const n of l)for(const[t,i]of n.entries()){const o=e.get(t)??0;e.set(t,1-(1-i)*(1-o))}return e}let rs=0;function J0(l,e){if(rs+=1,rs>4)return new Map;const n=(e??[]).map(i=>typeof i=="string"?[i,100]:i),t=yo(n.map(([i,o])=>{const r=l.nestedMapgensById(i)??[];return{loot:yo(r.map(a=>{const f=K0(l,a),u=a.weight??1e3;return{loot:f,weight:u}})),weight:o}}));return rs-=1,t}const os=new WeakMap;function K0(l,e){if(os.has(e))return os.get(e);const n=Ts(l,e.object),t=(e.object.place_items??[]).map(({item:c,chance:_=100,repeat:g})=>({loot:ko(l,c,g,_/100)})),i=[...e.object.place_item??[],...e.object.add??[]].map(({item:c,chance:_=100,repeat:g})=>({loot:new Map([[c,jr(g,_/100)]])})),o=(e.object.place_loot??[]).map(({item:c,group:_,chance:g=100,repeat:y})=>({loot:c?new Map([[c,1]]):_?ko(l,_,y,g/100):new Map})),r=(e.object.place_nested??[]).map(c=>{const _=J0(l,c.chunks??[]),g=new Map;for(const[y,k]of _.entries())g.set(y,jr(c.repeat,k));return{loot:g}}),s=vo([...t,...i,...o,...r]),a=new Map;for(const c of e.object.rows??[])for(const _ of c)n.has(_)&&a.set(_,(a.get(_)??0)+1);const f=[];for(const[c,_]of a.entries()){const g=n.get(c),y=new Map;for(const[k,T]of g.entries())y.set(k,1-Math.pow(1-T,_));f.push({loot:y})}f.push({loot:s});const u=vo(f);return os.set(e,u),u}function yR(l,e,n){return l.map(([t,i])=>[t,jr(e,n*i)])}function ko(l,e,n,t){const i=typeof e=="string"?l.convertTopLevelItemGroup(l.byId("item_group",e)):Array.isArray(e)?{subtype:"collection",entries:e}:e,o=l.flattenItemGroup(i);return new Map(yR(o.map(({id:r,prob:s})=>[r,s]),n,t))}function kR(l){return[l].map(e=>e.flatMap(n=>[...n])).map(e=>[...mC(e)]).map(e=>e.map(([n,t])=>[n,vo(t.map(i=>({loot:i})))])).map(e=>new Map(e))[0]}function no(l,e){return new Map(Object.entries(l??{}).map(([n,t])=>[n,vo((Array.isArray(t)?t:[t]).flatMap(i=>[...e(i)]))]))}const ss=new WeakMap;function Ts(l,e){if(ss.has(e))return ss.get(e);const n=no(e.sealed_item,function*({item:a,items:f,chance:u=100}){f&&(yield{loot:ko(l,f.item,f.repeat,u/100*(f.chance??100)/100),chance:1}),a&&typeof a.item=="string"&&(yield{loot:new Map([[a.item,1]]),chance:jr(a.repeat,u/100*((a.chance??100)/100))})}),t=no(e.item,function*({item:a,chance:f=100,repeat:u}){typeof a=="string"&&(yield{loot:new Map([[a,1]]),chance:jr(u,f/100)})}),i=no(e.items,function*({item:a,chance:f=100,repeat:u}){yield{loot:ko(l,a,u,f/100),chance:1}}),o=no(e.nested,function*({chunks:a}){yield{loot:J0(l,a??[]),chance:1}}),r=(e.palettes??[]).flatMap(a=>{if(typeof a=="string")return[Ts(l,l.byId("palette",a))];if("distribution"in a){let f=function(g){return Array.isArray(g)?g[1]:1},u=function(g){return Array.isArray(g)?g[0]:g};const c=a.distribution,_=c.reduce((g,y)=>g+f(y),0);return c.map(g=>$R(Ts(l,l.byId("palette",u(g))),f(g)/_))}else return[]}),s=kR([t,i,n,o,...r]);return ss.set(e,s),s}function kc(l,e,n){const t=l.slice();return t[11]=e[n],t}function wc(l,e,n){const t=l.slice();return t[14]=e[n],t}function Ec(l){let e,n=(l[14].sym??" ")+"",t;return{c(){e=m("span"),t=w(n),_e(e,"class","c_"+l[14].color),_e(e,"title",l[14].name)},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function Sc(l){let e,n,t=l[11],i=[];for(let o=0;o<t.length;o+=1)i[o]=Ec(wc(l,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=N(),n=m("br")},m(o,r){for(let s=0;s<i.length;s+=1)i[s].m(o,r);h(o,e,r),h(o,n,r)},p(o,r){if(r&1){t=o[11];let s;for(s=0;s<t.length;s+=1){const a=wc(o,t,s);i[s]?i[s].p(a,r):(i[s]=Ec(a),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){we(i,o),o&&p(e),o&&p(n)}}}function wR(l){let e,n=l[0],t=[];for(let i=0;i<n.length;i+=1)t[i]=Sc(kc(l,n,i));return{c(){e=m("div");for(let i=0;i<t.length;i+=1)t[i].c();Bt(e,"font-family","Unifont, monospace"),Bt(e,"line-height","1"),Bt(e,"display","inline-block"),Bt(e,"white-space","pre")},m(i,o){h(i,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(i,[o]){if(o&1){n=i[0];let r;for(r=0;r<n.length;r+=1){const s=kc(i,n,r);t[r]?t[r].p(s,o):(t[r]=Sc(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:ie,o:ie,d(i){i&&p(e),we(t,i)}}}function Tc(l){return l.every(e=>e.sym===" ")}function ER(l,e,n){const t=qt("data");let{overmapSpecial:i}=e;const o=[...i.overmaps??[]];let r=1/0,s=1/0,a=-1/0,f=-1/0;const u=new Map;for(const y of o){const[k,T,R]=y.point;R===0&&(k<r&&(r=k),T<s&&(s=T),k>a&&(a=k),T>f&&(f=T),u.set(`${k}|${T}`,y))}const c=[];for(let y=s;y<=f;y++){const k=[];for(let T=r;T<=a;T++){const R=u.get(`${T}|${y}`);if(R){const[,C,B]=/^(.+?)(?:_(north|south|east|west))?$/.exec(R.overmap),D=g(C,B||"north");k.push(D)}else k.push({color:"black",sym:" ",name:""})}c.push(k)}for(;c.length;){const y=c[0];if(!Tc(y))break;c.shift()}for(;c.length;){const y=c[c.length-1];if(!Tc(y))break;c.pop()}function _(y,k){const T=k==="north"?0:k==="east"?1:k==="south"?2:k==="west"?3:0;if(T===0)return y;const R=t.byType("rotatable_symbol").find(C=>C.tuple.some(B=>B===y));return R?R.tuple[(R.tuple.indexOf(y)+T)%R.tuple.length]:y}function g(y,k="north"){const T=t.byIdMaybe("overmap_terrain",y);return T?{color:T.color,sym:_(T.sym??" ",k),name:Qt(T.name)}:{color:"black",sym:" ",name:""}}return l.$$set=y=>{"overmapSpecial"in y&&n(1,i=y.overmapSpecial)},[c,i]}class SR extends Et{constructor(e){super(),wt(this,e,ER,wR,$t,{overmapSpecial:1})}}function Cc(l,e,n){const t=l.slice();return t[7]=e[n],t}function TR(l){return{c:ie,m:ie,p:ie,i:ie,o:ie,d:ie}}function CR(l){let e,n,t=l[6].length&&IR(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,o){i[6].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function IR(l){let e,n,t,i,o,r,s,a=l[6].slice(0,l[0]),f=[];for(let _=0;_<a.length;_+=1)f[_]=Ic(Cc(l,a,_));const u=_=>$(f[_],1,1,()=>{f[_]=null});let c=l[6].length>l[0]&&Oc(l);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Loot",{_context:"Obtaining"})}`,t=N(),i=m("table"),o=m("tbody");for(let _=0;_<f.length;_+=1)f[_].c();r=N(),c&&c.c(),_e(i,"class","alternating")},m(_,g){h(_,e,g),d(e,n),d(e,t),d(e,i),d(i,o);for(let y=0;y<f.length;y+=1)f[y].m(o,null);d(e,r),c&&c.m(e,null),s=!0},p(_,g){if(g&7){a=_[6].slice(0,_[0]);let y;for(y=0;y<a.length;y+=1){const k=Cc(_,a,y);f[y]?(f[y].p(k,g),b(f[y],1)):(f[y]=Ic(k),f[y].c(),b(f[y],1),f[y].m(o,null))}for(re(),y=a.length;y<f.length;y+=1)u(y);oe()}_[6].length>_[0]?c?c.p(_,g):(c=Oc(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(_){if(!s){for(let g=0;g<a.length;g+=1)b(f[g]);s=!0}},o(_){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)$(f[g]);s=!1},d(_){_&&p(e),we(f,_),c&&c.d()}}}function Ic(l){let e,n,t,i,o,r,s=l[2](l[7].overmap_special)+"",a,f,u,c=$o(l[7].chance)+"",_,g,y,k;return t=new SR({props:{overmapSpecial:l[7].overmap_special}}),{c(){e=m("tr"),n=m("td"),W(t.$$.fragment),i=N(),o=m("td"),r=m("span"),a=w(s),u=w(`
                (`),_=w(c),g=w(")"),y=N(),Bt(n,"text-align","center"),_e(r,"title",f=l[7].ids.join(", ")),Bt(o,"vertical-align","middle")},m(T,R){h(T,e,R),d(e,n),H(t,n,null),d(e,i),d(e,o),d(o,r),d(r,a),d(o,u),d(o,_),d(o,g),d(e,y),k=!0},p(T,R){const C={};R&1&&(C.overmapSpecial=T[7].overmap_special),t.$set(C),(!k||R&1)&&s!==(s=T[2](T[7].overmap_special)+"")&&K(a,s),(!k||R&1&&f!==(f=T[7].ids.join(", ")))&&_e(r,"title",f),(!k||R&1)&&c!==(c=$o(T[7].chance)+"")&&K(_,c)},i(T){k||(b(t.$$.fragment,T),k=!0)},o(T){$(t.$$.fragment,T),k=!1},d(T){T&&p(e),z(t)}}}function Oc(l){let e,n,t=Number(l[6].length).toLocaleString()+"",i,o,r,s;return{c(){e=m("button"),n=w("See all "),i=w(t),o=w("..."),_e(e,"class","disclosure")},m(a,f){h(a,e,f),d(e,n),d(e,i),d(e,o),r||(s=ji(e,"click",l[4]),r=!0)},p:ie,d(a){a&&p(e),r=!1,s()}}}function OR(l){let e,n,t,i;return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Loot",{_context:"Obtaining"})}`,t=N(),i=m("p"),i.innerHTML="<em>Loading...</em>",Bt(i,"color","var(--cata-color-gray)")},m(o,r){h(o,e,r),d(e,n),d(e,t),d(e,i)},p:ie,i:ie,o:ie,d(o){o&&p(e)}}}function RR(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!1,pending:OR,then:CR,catch:TR,value:6,blocks:[,,,]};return z3(l[1],t),{c(){e=fe(),t.block.c()},m(i,o){h(i,e,o),t.block.m(i,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,[o]){l=i,W3(t,l,o)},i(i){n||(b(t.block),n=!0)},o(i){for(let o=0;o<3;o+=1){const r=t.blocks[o];$(r)}n=!1},d(i){i&&p(e),t.block.d(i),t.token=null,t=null}}}let fs=10,Rc=4;function NR(l,e,n){let{item_id:t}=e;const i=qt("data"),o=hR(i).then(f=>{const u=[];for(const{loot:c,ids:_}of f.values())if(c.has(t)){const g=c.get(t),y=i.byId("overmap_special",_[0]);u.push({overmap_special:y,ids:_,chance:g})}return u.sort((c,_)=>_.chance-c.chance),n(0,s=u.length<=fs+Rc?fs+Rc:fs),u});function r(f){if(f.subtype==="mutable")return f.id;const u=(f.overmaps??[]).filter(B=>B.point[2]===0);let c=1/0,_=1/0,g=-1/0,y=-1/0;const k=new Map;for(const B of u){const[D,j]=B.point;i.byIdMaybe("overmap_terrain",B.overmap.replace(/_(north|south|east|west)$/,""))&&(D<c&&(c=D),j<_&&(_=j),D>g&&(g=D),j>y&&(y=j),k.set(`${D}|${j}`,B))}const T=c+Math.floor((g-c)/2),R=_+Math.floor((y-_)/2),C=k.get(`${T}|${R}`);if(C){const B=i.byId("overmap_terrain",C.overmap.replace(/_(north|south|east|west)$/,""));if(B)return it(B)}return f.id}let s=0;const a=f=>{f.preventDefault(),n(0,s=1/0)};return l.$$set=f=>{"item_id"in f&&n(3,t=f.item_id)},[s,o,r,t,a]}class AR extends Et{constructor(e){super(),wt(this,e,NR,RR,$t,{item_id:3})}}function BR(l){let e,n,t,i,o;return i=new Zt({props:{items:l[0],$$slots:{default:[MR,({item:{vehicle:r,prob:s}})=>({3:r,4:s}),({item:r})=>(r?8:0)|(r?16:0)]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("In Vehicle",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&56&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function MR(l){let e,n,t=$o(l[4])+"",i,o,r;return e=new ve({props:{id:l[3].id,type:"vehicle"}}),{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){H(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),r=!0},p(s,a){const f={};a&8&&(f.id=s[3].id),e.$set(f),(!r||a&16)&&t!==(t=$o(s[4])+"")&&K(i,t)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),r=!1},d(s){z(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function DR(l){let e,n,t=l[0].length&&BR(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function LR(l,e,n){let{item_id:t}=e;const i=qt("data"),o=i.byType("vehicle").flatMap(r=>{const s=j0(r),f=i.flattenItemGroup(s).find(u=>u.id===t);return f?[{vehicle:r,prob:f.prob,count:f.count}]:[]});return o.sort((r,s)=>s.prob-r.prob),l.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class FR extends Et{constructor(e){super(),wt(this,e,LR,DR,$t,{item_id:1})}}function Nc(l,e,n){const t=l.slice();return t[1]=e[n],t}function Ac(l){var k;let e,n,t,i,o,r,s,a,f,u=((k=l[0].ammo)==null?void 0:k.length)&&Bc(l),c=l[0].charges_per_use&&Dc(l),_=l[0].power_draw&&Lc(l),g=l[0].turns_per_charge&&Fc(l),y=l[0].sub&&Pc(l);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Tool",{_context:br,_comment:"Section heading"})}`,t=N(),i=m("dl"),u&&u.c(),o=fe(),c&&c.c(),r=fe(),_&&_.c(),s=fe(),g&&g.c(),a=fe(),y&&y.c()},m(T,R){h(T,e,R),d(e,n),d(e,t),d(e,i),u&&u.m(i,null),d(i,o),c&&c.m(i,null),d(i,r),_&&_.m(i,null),d(i,s),g&&g.m(i,null),d(i,a),y&&y.m(i,null),f=!0},p(T,R){var C;(C=T[0].ammo)!=null&&C.length?u?(u.p(T,R),R&1&&b(u,1)):(u=Bc(T),u.c(),b(u,1),u.m(i,o)):u&&(re(),$(u,1,1,()=>{u=null}),oe()),T[0].charges_per_use?c?c.p(T,R):(c=Dc(T),c.c(),c.m(i,r)):c&&(c.d(1),c=null),T[0].power_draw?_?_.p(T,R):(_=Lc(T),_.c(),_.m(i,s)):_&&(_.d(1),_=null),T[0].turns_per_charge?g?g.p(T,R):(g=Fc(T),g.c(),g.m(i,a)):g&&(g.d(1),g=null),T[0].sub?y?(y.p(T,R),R&1&&b(y,1)):(y=Pc(T),y.c(),b(y,1),y.m(i,null)):y&&(re(),$(y,1,1,()=>{y=null}),oe())},i(T){f||(b(u),b(y),f=!0)},o(T){$(u),$(y),f=!1},d(T){T&&p(e),u&&u.d(),c&&c.d(),_&&_.d(),g&&g.d(),y&&y.d()}}}function Bc(l){let e,n,t,i,o,r=l[0].ammo,s=[];for(let f=0;f<r.length;f+=1)s[f]=Mc(Nc(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Ammo",{_context:br})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&1){r=f[0].ammo;let c;for(c=0;c<r.length;c+=1){const _=Nc(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Mc(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Mc(l){let e,n,t;return n=new ve({props:{type:"ammunition_type",id:l[1]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o&1&&(r.id=i[1]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function Dc(l){let e,n,t=l[0].charges_per_use+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Charges Per Use",{_context:br})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].charges_per_use+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Lc(l){let e,n,t=l[0].power_draw+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Power Draw",{_context:br})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].power_draw+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Fc(l){let e,n,t=l[0].turns_per_charge+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Turns Per Charge",{_context:br})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].turns_per_charge+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Pc(l){let e,n,t,i;return t=new ve({props:{type:"item",id:l[0].sub}}),{c(){e=m("dt"),e.textContent=`${O.t("Substitute",{_context:br})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].sub),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function PR(l){let e,n,t=(l[0].charges_per_use||l[0].sub||l[0].power_draw||l[0].turns_per_charge)&&Ac(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].charges_per_use||i[0].sub||i[0].power_draw||i[0].turns_per_charge?t?(t.p(i,o),o&1&&b(t,1)):(t=Ac(i),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(re(),$(t,1,1,()=>{t=null}),oe())},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}const br="Item Tool Info";function jR(l,e,n){let{item:t}=e;return l.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class UR extends Et{constructor(e){super(),wt(this,e,jR,PR,$t,{item:0})}}function jc(l){const e=l[2](l[4]);l[5]=e}function GR(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[qR,({item:r})=>({4:r}),({item:r})=>r?16:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Transformed From",{_context:"Obtaining"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&80&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function Uc(l){let e=" ",n,t,i=Sf(l[5].transform_age*100)+"",o,r;return{c(){n=w(e),t=w("("),o=w(i),r=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,r,a)},p(s,a){a&16&&i!==(i=Sf(s[5].transform_age*100)+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r)}}}function qR(l){jc(l);let e,n,t,i,o;e=new Lt({props:{item:l[0].byId("item",l[4].id)}}),t=new ve({props:{type:"item",id:l[4].id}});let r=l[5].type==="delayed_transform"&&l[5].transform_age&&Uc(l);return{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment),r&&r.c(),i=fe()},m(s,a){H(e,s,a),h(s,n,a),H(t,s,a),r&&r.m(s,a),h(s,i,a),o=!0},p(s,a){jc(s);const f={};a&16&&(f.item=s[0].byId("item",s[4].id)),e.$set(f);const u={};a&16&&(u.id=s[4].id),t.$set(u),s[5].type==="delayed_transform"&&s[5].transform_age?r?r.p(s,a):(r=Uc(s),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(s){o||(b(e.$$.fragment,s),b(t.$$.fragment,s),o=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),o=!1},d(s){z(e,s),s&&p(n),z(t,s),r&&r.d(s),s&&p(i)}}}function YR(l){let e,n,t=l[1].length&&GR(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function HR(l,e,n){let{item_id:t}=e;const i=qt("data"),o=i.transformedFrom(t),r=s=>Pr(s.use_action).find(a=>"target"in a&&a.target===t);return l.$$set=s=>{"item_id"in s&&n(3,t=s.item_id)},[i,o,r,t]}class zR extends Et{constructor(e){super(),wt(this,e,HR,YR,$t,{item_id:3})}}function WR(l){let e,n,t,i,o,r,s=(l[0].diameter??0)+"",a,f,u,c,_=(l[0].width??0)+"",g,y;return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Wheel",{_context:as})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Diameter",{_context:as})}`,r=m("dd"),a=w(s),f=w('"'),u=m("dt"),u.textContent=`${O.t("Width",{_context:as})}`,c=m("dd"),g=w(_),y=w('"')},m(k,T){h(k,e,T),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),d(r,a),d(r,f),d(i,u),d(i,c),d(c,g),d(c,y)},p(k,[T]){T&1&&s!==(s=(k[0].diameter??0)+"")&&K(a,s),T&1&&_!==(_=(k[0].width??0)+"")&&K(g,_)},i:ie,o:ie,d(k){k&&p(e)}}}const as="Item Wheel Info";function VR(l,e,n){let{item:t}=e;return l.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class XR extends Et{constructor(e){super(),wt(this,e,VR,WR,$t,{item:0})}}function Gc(l,e,n){const t=l.slice();t[4]=e[n][0],t[5]=e[n][1],t[6]=e[n][2],t[9]=n;const i=t[1].byId("vitamin",t[4]);return t[7]=i,t}function qc(l,e,n){const t=l.slice();return t[10]=e[n][0],t[9]=n,t}function JR(l){let e=" ",n,t,i=Object.keys(l[0].tools_needed??{}).length,o,r,s,a=i&&Yc(l),f=l[0].vitamins??[],u=[];for(let _=0;_<f.length;_+=1)u[_]=Wc(Gc(l,f,_));const c=_=>$(u[_],1,1,()=>{u[_]=null});return{c(){n=w(e),t=w("("),a&&a.c(),o=fe();for(let _=0;_<u.length;_+=1)u[_].c();r=w(")")},m(_,g){h(_,n,g),h(_,t,g),a&&a.m(_,g),h(_,o,g);for(let y=0;y<u.length;y+=1)u[y].m(_,g);h(_,r,g),s=!0},p(_,g){if(g&1&&(i=Object.keys(_[0].tools_needed??{}).length),i?a?(a.p(_,g),g&1&&b(a,1)):(a=Yc(_),a.c(),b(a,1),a.m(o.parentNode,o)):a&&(re(),$(a,1,1,()=>{a=null}),oe()),g&3){f=_[0].vitamins??[];let y;for(y=0;y<f.length;y+=1){const k=Gc(_,f,y);u[y]?(u[y].p(k,g),b(u[y],1)):(u[y]=Wc(k),u[y].c(),b(u[y],1),u[y].m(r.parentNode,r))}for(re(),y=f.length;y<u.length;y+=1)c(y);oe()}},i(_){if(!s){b(a);for(let g=0;g<f.length;g+=1)b(u[g]);s=!0}},o(_){$(a),u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)$(u[g]);s=!1},d(_){_&&p(n),_&&p(t),a&&a.d(_),_&&p(o),we(u,_),_&&p(r)}}}function KR(l){let e=" ",n,t,i,o,r;return i=new ve({props:{type:"item",id:l[0].target}}),{c(){n=w(e),t=w(`(⟹
  `),W(i.$$.fragment),o=w(")")},m(s,a){h(s,n,a),h(s,t,a),H(i,s,a),h(s,o,a),r=!0},p(s,a){const f={};a&1&&(f.id=s[0].target),i.$set(f)},i(s){r||(b(i.$$.fragment,s),r=!0)},o(s){$(i.$$.fragment,s),r=!1},d(s){s&&p(n),s&&p(t),z(i,s),s&&p(o)}}}function Yc(l){var f;let e,n,t,i,o=Object.entries(l[0].tools_needed??{}),r=[];for(let u=0;u<o.length;u+=1)r[u]=Hc(qc(l,o,u));const s=u=>$(r[u],1,1,()=>{r[u]=null});let a=((f=l[0].vitamins)==null?void 0:f.length)&&zc();return{c(){e=w(`with
    `);for(let u=0;u<r.length;u+=1)r[u].c();n=fe(),a&&a.c(),t=fe()},m(u,c){h(u,e,c);for(let _=0;_<r.length;_+=1)r[_].m(u,c);h(u,n,c),a&&a.m(u,c),h(u,t,c),i=!0},p(u,c){var _;if(c&1){o=Object.entries(u[0].tools_needed??{});let g;for(g=0;g<o.length;g+=1){const y=qc(u,o,g);r[g]?(r[g].p(y,c),b(r[g],1)):(r[g]=Hc(y),r[g].c(),b(r[g],1),r[g].m(n.parentNode,n))}for(re(),g=o.length;g<r.length;g+=1)s(g);oe()}(_=u[0].vitamins)!=null&&_.length?a||(a=zc(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(u){if(!i){for(let c=0;c<o.length;c+=1)b(r[c]);i=!0}},o(u){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)$(r[c]);i=!1},d(u){u&&p(e),we(r,u),u&&p(n),a&&a.d(u),u&&p(t)}}}function ZR(l){let e;return{c(){e=w(`,
      `)},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Hc(l){let e,n,t,i=l[9]!==0&&ZR();return n=new ve({props:{type:"item",id:l[10]}}),{c(){i&&i.c(),e=fe(),W(n.$$.fragment)},m(o,r){i&&i.m(o,r),h(o,e,r),H(n,o,r),t=!0},p(o,r){const s={};r&1&&(s.id=o[10]),n.$set(s)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),z(n,o)}}}function zc(l){let e;return{c(){e=w(`:
    `)},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function QR(l){let e;return{c(){e=w(", ")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Wc(l){let e,n,t,i=l[5]+"",o,r=l[6]&&l[6]!==l[5]?`–${l[6]}`:"",s,a=l[7].vit_type==="counter"?" U":"%",f,u,c,_=l[9]!==0&&QR();return n=new ve({props:{type:l[7].type,id:l[7].id}}),{c(){_&&_.c(),e=fe(),W(n.$$.fragment),t=w(" ("),o=w(i),s=w(r),f=w(a),u=w(")")},m(g,y){_&&_.m(g,y),h(g,e,y),H(n,g,y),h(g,t,y),h(g,o,y),h(g,s,y),h(g,f,y),h(g,u,y),c=!0},p(g,y){const k={};y&1&&(k.type=g[7].type),y&1&&(k.id=g[7].id),n.$set(k),(!c||y&1)&&i!==(i=g[5]+"")&&K(o,i),(!c||y&1)&&r!==(r=g[6]&&g[6]!==g[5]?`–${g[6]}`:"")&&K(s,r),(!c||y&1)&&a!==(a=g[7].vit_type==="counter"?" U":"%")&&K(f,a)},i(g){c||(b(n.$$.fragment,g),c=!0)},o(g){$(n.$$.fragment,g),c=!1},d(g){_&&_.d(g),g&&p(e),z(n,g),g&&p(t),g&&p(o),g&&p(s),g&&p(f),g&&p(u)}}}function xR(l){let e,n,t,i,o,r;const s=[KR,JR],a=[];function f(u,c){var _;return c&1&&(n=null),u[0].type==="transform"||u[0].type==="delayed_transform"?0:(n==null&&(n=!!(u[0].type==="consume_drug"&&((_=u[0].vitamins)!=null&&_.length||Object.keys(u[0].tools_needed??{}).length))),n?1:-1)}return~(t=f(l,-1))&&(i=a[t]=s[t](l)),{c(){e=w(l[2]),i&&i.c(),o=fe()},m(u,c){h(u,e,c),~t&&a[t].m(u,c),h(u,o,c),r=!0},p(u,[c]){let _=t;t=f(u,c),t===_?~t&&a[t].p(u,c):(i&&(re(),$(a[_],1,1,()=>{a[_]=null}),oe()),~t?(i=a[t],i?i.p(u,c):(i=a[t]=s[t](u),i.c()),b(i,1),i.m(o.parentNode,o)):i=null)},i(u){r||(b(i),r=!0)},o(u){$(i),r=!1},d(u){u&&p(e),~t&&a[t].d(u),u&&p(o)}}}function eN(l,e,n){const t=qt("data");let{usage:i}=e,o=i.type==="__item_action__"?t.byId("item_action",i.id):t.byId("item_action",i.type),r=("menu_text"in i?i.menu_text:null)??it(o);return l.$$set=s=>{"usage"in s&&n(0,i=s.usage)},[i,t,r]}class tN extends Et{constructor(e){super(),wt(this,e,eN,xR,$t,{usage:0})}}function Vc(l,e,n){const t=l.slice();return t[28]=e[n],t}function Xc(l,e,n){const t=l.slice();return t[0]=e[n],t}function Jc(l,e,n){const t=l.slice();return t[33]=e[n],t}function Kc(l,e,n){const t=l.slice();return t[36]=e[n][0],t[37]=e[n][1],t}function Zc(l,e,n){const t=l.slice();return t[36]=e[n],t}function Qc(l,e,n){const t=l.slice();return t[36]=e[n].id,t}function xc(l,e,n){const t=l.slice();return t[44]=e[n],t}function e_(l,e,n){const t=l.slice();return t[47]=e[n],t}function t_(l,e,n){const t=l.slice();return t[36]=e[n][0],t[37]=e[n][1],t}function n_(l,e,n){const t=l.slice();return t[52]=e[n],t}function i_(l,e,n){const t=l.slice();return t[55]=e[n].quality,t[56]=e[n].level,t}function l_(l,e,n){const t=l.slice();return t[55]=e[n].quality,t[56]=e[n].level,t}function r_(l,e,n){const t=l.slice();return t[61]=e[n],t}function o_(l,e,n){const t=l.slice();return t[64]=e[n],t}function s_(l,e,n){const t=l.slice();return t[67]=e[n],t}function f_(l,e,n){const t=l.slice();return t[70]=e[n].type,t[36]=e[n].id,t}function a_(l,e,n){const t=l.slice();return t[73]=e[n].id,t[74]=e[n].max_charges,t}function u_(l,e,n){const t=l.slice();return t[77]=e[n],t}function c_(l,e,n){const t=l.slice();t[80]=e[n];const i=Qt(t[80].name);return t[81]=i,t}function __(l){let e,n,t,i,o=l[0].variants,r=[];for(let s=0;s<o.length;s+=1)r[s]=m_(c_(l,o,s));return{c(){e=m("dt"),e.textContent="AKA",n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a[0]&1){o=s[0].variants;let f;for(f=0;f<o.length;f+=1){const u=c_(s,o,f);r[f]?r[f].p(u,a):(r[f]=m_(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function d_(l){let e,n=Qt(l[80].name)+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p(i,o){o[0]&1&&n!==(n=Qt(i[80].name)+"")&&K(t,n)},d(i){i&&p(e)}}}function m_(l){let e=l[81]!==it(l[0]),n,t=e&&d_(l);return{c(){t&&t.c(),n=fe()},m(i,o){t&&t.m(i,o),h(i,n,o)},p(i,o){o[0]&1&&(e=i[81]!==it(i[0])),e?t?t.p(i,o):(t=d_(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&p(n)}}}function nN(l){let e,n,t,i,o,r=l[5],s=[];for(let f=0;f<r.length;f+=1)s[f]=p_(u_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Material")}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&96){r=f[5];let c;for(c=0;c<r.length;c+=1){const _=u_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=p_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function iN(l){let e=" ",n,t,i=(l[77].portion/l[6]*100).toFixed(0)+"",o,r;return{c(){n=w(e),t=w("("),o=w(i),r=w("%)")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,r,a)},p:ie,d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r)}}}function p_(l){let e,n,t;n=new ve({props:{type:"material",id:l[77].type}});let i=l[5].length>1&&iN(l);return{c(){e=m("li"),W(n.$$.fragment),i&&i.c()},m(o,r){h(o,e,r),H(n,e,null),i&&i.m(e,null),t=!0},p(o,r){o[5].length>1&&i.p(o,r)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){o&&p(e),z(n),i&&i.d()}}}function lN(l){let e,n,t,i,o,r=l[12].map(l[22]),s=[];for(let f=0;f<r.length;f+=1)s[f]=h_(a_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Ammo",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","no-bullets")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&6145){r=f[12].map(f[22]);let c;for(c=0;c<r.length;c+=1){const _=a_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=h_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function h_(l){let e,n=l[74]+"",t,i,o=l[0].type==="GUN"?"round":"charge",r,s=l[74]===1?"":"s",a,f,u,c,_;return u=new ve({props:{type:"ammunition_type",id:l[73]}}),{c(){e=m("li"),t=w(n),i=N(),r=w(o),a=w(s),f=w(` of
                  `),W(u.$$.fragment),c=N()},m(g,y){h(g,e,y),d(e,t),d(e,i),d(e,r),d(e,a),d(e,f),H(u,e,null),d(e,c),_=!0},p(g,y){(!_||y[0]&1)&&o!==(o=g[0].type==="GUN"?"round":"charge")&&K(r,o)},i(g){_||(b(u.$$.fragment,g),_=!0)},o(g){$(u.$$.fragment,g),_=!1},d(g){g&&p(e),z(u)}}}function rN(l){let e,n,t,i,o,r=l[10],s=[];for(let f=0;f<r.length;f+=1)s[f]=g_(f_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Compatible Magazines",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1024){r=f[10];let c;for(c=0;c<r.length;c+=1){const _=f_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=g_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function g_(l){let e,n,t;return n=new ve({props:{type:l[70],id:l[36]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function b_(l){let e,n,t,i,o,r=l[0].weapon_category,s=[];for(let f=0;f<r.length;f+=1)s[f]=$_(s_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Category",{_context:Bn,_comment:"Weapon category for martial arts"})} 
          `,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const _=s_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=$_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function $_(l){let e,n,t;return n=new ve({props:{type:"weapon_category",id:l[67]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[67]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function v_(l){let e,n;return{c(){e=m("li"),n=m("em"),n.textContent=`${O.t("none")}`},m(t,i){h(t,e,i),d(e,n)},p:ie,d(t){t&&p(e)}}}function y_(l){let e,n,t;return n=new ve({props:{type:"json_flag",id:l[64].id}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function oN(l){let e,n,t,i,o,r=l[8],s=[];for(let f=0;f<r.length;f+=1)s[f]=k_(r_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Possible Faults",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&256){r=f[8];let c;for(c=0;c<r.length;c+=1){const _=r_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=k_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function k_(l){let e,n,t;return n=new ve({props:{type:"fault",id:l[61].id}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function sN(l){let e,n,t,i,o,r,s=l[3],a=[];for(let g=0;g<s.length;g+=1)a[g]=w_(l_(l,s,g));const f=g=>$(a[g],1,1,()=>{a[g]=null});let u=l[4],c=[];for(let g=0;g<u.length;g+=1)c[g]=E_(i_(l,u,g));const _=g=>$(c[g],1,1,()=>{c[g]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Qualities",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let g=0;g<a.length;g+=1)a[g].c();i=N();for(let g=0;g<c.length;g+=1)c[g].c();o=N(),_e(t,"class","no-bullets")},m(g,y){h(g,e,y),h(g,n,y),d(n,t);for(let k=0;k<a.length;k+=1)a[k].m(t,null);d(t,i);for(let k=0;k<c.length;k+=1)c[k].m(t,null);d(n,o),r=!0},p(g,y){if(y[0]&8){s=g[3];let k;for(k=0;k<s.length;k+=1){const T=l_(g,s,k);a[k]?(a[k].p(T,y),b(a[k],1)):(a[k]=w_(T),a[k].c(),b(a[k],1),a[k].m(t,i))}for(re(),k=s.length;k<a.length;k+=1)f(k);oe()}if(y[0]&16){u=g[4];let k;for(k=0;k<u.length;k+=1){const T=i_(g,u,k);c[k]?(c[k].p(T,y),b(c[k],1)):(c[k]=E_(T),c[k].c(),b(c[k],1),c[k].m(t,null))}for(re(),k=u.length;k<c.length;k+=1)_(k);oe()}},i(g){if(!r){for(let y=0;y<s.length;y+=1)b(a[y]);for(let y=0;y<u.length;y+=1)b(c[y]);r=!0}},o(g){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)$(a[y]);c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)$(c[y]);r=!1},d(g){g&&p(e),g&&p(n),we(a,g),we(c,g)}}}function w_(l){let e,n,t,i=l[56]+"",o,r,s,a,f;return s=new ve({props:{type:"tool_quality",id:l[55].id}}),{c(){e=m("li"),n=w("Has level "),t=m("strong"),o=w(i),r=N(),W(s.$$.fragment),a=w(" quality.")},m(u,c){h(u,e,c),d(e,n),d(e,t),d(t,o),d(t,r),H(s,t,null),d(e,a),f=!0},p:ie,i(u){f||(b(s.$$.fragment,u),f=!0)},o(u){$(s.$$.fragment,u),f=!1},d(u){u&&p(e),z(s)}}}function E_(l){let e,n,t,i=l[56]+"",o,r,s,a,f;return s=new ve({props:{type:"tool_quality",id:l[55].id}}),{c(){e=m("li"),n=w("Has level "),t=m("strong"),o=w(i),r=N(),W(s.$$.fragment),a=w(` quality
                  (when charged).
                `)},m(u,c){h(u,e,c),d(e,n),d(e,t),d(t,o),d(t,r),H(s,t,null),d(e,a),f=!0},p:ie,i(u){f||(b(s.$$.fragment,u),f=!0)},o(u){$(s.$$.fragment,u),f=!1},d(u){u&&p(e),z(s)}}}function fN(l){let e,n,t,i,o,r=l[15],s=[];for(let f=0;f<r.length;f+=1)s[f]=S_(n_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Vehicle Parts",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&32768){r=f[15];let c;for(c=0;c<r.length;c+=1){const _=n_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=S_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function S_(l){let e,n,t;return n=new ve({props:{type:"vehicle_part",id:l[52].id}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function aN(l){var c,_;let e,n,t,i,o,r,s=l[14].components,a=[];for(let g=0;g<s.length;g+=1)a[g]=T_(t_(l,s,g));const f=g=>$(a[g],1,1,()=>{a[g]=null});let u=(((c=l[14].qualities)==null?void 0:c.length)||((_=l[14].tools)==null?void 0:_.length))&&uN(l);return{c(){e=m("dt"),e.textContent=`${O.t("Disassembles Into",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let g=0;g<a.length;g+=1)a[g].c();i=N(),u&&u.c(),o=N(),_e(t,"class","comma-separated")},m(g,y){h(g,e,y),h(g,n,y),d(n,t);for(let k=0;k<a.length;k+=1)a[k].m(t,null);d(n,i),u&&u.m(n,null),d(n,o),r=!0},p(g,y){var k,T;if(y[0]&16384){s=g[14].components;let R;for(R=0;R<s.length;R+=1){const C=t_(g,s,R);a[R]?(a[R].p(C,y),b(a[R],1)):(a[R]=T_(C),a[R].c(),b(a[R],1),a[R].m(t,null))}for(re(),R=s.length;R<a.length;R+=1)f(R);oe()}((k=g[14].qualities)!=null&&k.length||(T=g[14].tools)!=null&&T.length)&&u.p(g,y)},i(g){if(!r){for(let y=0;y<s.length;y+=1)b(a[y]);b(u),r=!0}},o(g){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)$(a[y]);$(u),r=!1},d(g){g&&p(e),g&&p(n),we(a,g),u&&u.d()}}}function T_(l){let e,n,t;return n=new ve({props:{id:l[36],count:l[37],type:"item"}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function uN(l){let e,n,t;return n=new Go({props:{requirement:l[13],direction:"uncraft"}}),{c(){e=m("dl"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function cN(l){let e,n,t,i,o,r=l[16],s=[];for(let f=0;f<r.length;f+=1)s[f]=C_(e_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Usage",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&65536){r=f[16];let c;for(c=0;c<r.length;c+=1){const _=e_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=C_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function C_(l){let e,n,t;return n=new tN({props:{usage:l[47]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function I_(l){let e,n,t,i,o=(l[0].brewable.time??"1 turn")+"",r,s,a,f=l[0].brewable.results,u=[];for(let _=0;_<f.length;_+=1)u[_]=O_(xc(l,f,_));const c=_=>$(u[_],1,1,()=>{u[_]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Ferments Into",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let _=0;_<u.length;_+=1)u[_].c();i=w(`
            (`),r=w(o),s=w(`)
          `),_e(t,"class","comma-separated")},m(_,g){h(_,e,g),h(_,n,g),d(n,t);for(let y=0;y<u.length;y+=1)u[y].m(t,null);d(n,i),d(n,r),d(n,s),a=!0},p(_,g){if(g[0]&1){f=_[0].brewable.results;let y;for(y=0;y<f.length;y+=1){const k=xc(_,f,y);u[y]?(u[y].p(k,g),b(u[y],1)):(u[y]=O_(k),u[y].c(),b(u[y],1),u[y].m(t,null))}for(re(),y=f.length;y<u.length;y+=1)c(y);oe()}(!a||g[0]&1)&&o!==(o=(_[0].brewable.time??"1 turn")+"")&&K(r,o)},i(_){if(!a){for(let g=0;g<f.length;g+=1)b(u[g]);a=!0}},o(_){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)$(u[g]);a=!1},d(_){_&&p(e),_&&p(n),we(u,_)}}}function O_(l){let e,n,t;return n=new ve({props:{type:"item",id:l[44]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[44]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function _N(l){let e,n,t,i,o=l[20],r=[];for(let a=0;a<o.length;a+=1)r[a]=R_(Qc(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("From Mutation",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c();_e(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f[0]&1048576){o=a[20];let u;for(u=0;u<o.length;u+=1){const c=Qc(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=R_(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function R_(l){let e,n,t;return n=new ve({props:{type:"mutation",id:l[36]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function N_(l){let e,n=Qt(l[0].description)+"",t;return{c(){e=m("p"),t=w(n),Bt(e,"color","var(--cata-color-gray)"),Bt(e,"margin-bottom","0")},m(i,o){h(i,e,o),d(e,t)},p(i,o){o[0]&1&&n!==(n=Qt(i[0].description)+"")&&K(t,n)},d(i){i&&p(e)}}}function dN(l){let e,n;return e=new uC({props:{picture:l[17]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p:ie,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function A_(l){let e,n;return e=new w4({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function B_(l){let e,n,t,i;const o=[pN,mN],r=[];function s(a,f){var u;return(u=a[1].build_number)!=null&&u.startsWith("0.F")?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function mN(l){let e,n;return e=new DC({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function pN(l){let e,n;return e=new c4({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function M_(l){let e,n;return e=new $4({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function D_(l){let e,n;return e=new UR({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function L_(l){let e,n,t,i,o,r,s=l[0].displacement+"",a,f;return{c(){e=m("section"),n=m("h1"),n.textContent="Engine",t=N(),i=m("dl"),o=m("dt"),o.textContent="Displacement",r=m("dd"),a=w(s),f=w(" cc")},m(u,c){h(u,e,c),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),d(r,a),d(r,f)},p(u,c){c[0]&1&&s!==(s=u[0].displacement+"")&&K(a,s)},d(u){u&&p(e)}}}function F_(l){let e,n;return e=new B4({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function P_(l){let e,n;return e=new XR({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function j_(l){let e,n,t,i,o,r,s,a,f,u,c=l[0].seed_data.grow+"",_,g,y=[l[0].seed_data.fruit].concat(l[0].seed_data.byproducts??[]),k=[];for(let R=0;R<y.length;R+=1)k[R]=U_(Zc(l,y,R));const T=R=>$(k[R],1,1,()=>{k[R]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Grows Into",{_context:"Seed Data"})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Harvest Results",{_context:"Seed Data"})}`,r=m("dd"),s=m("ul");for(let R=0;R<k.length;R+=1)k[R].c();a=N(),f=m("dt"),f.textContent=`${O.t("Growing Time",{_context:"Seed Data"})}`,u=m("dd"),_=w(c),_e(s,"class","comma-separated")},m(R,C){h(R,e,C),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r),d(r,s);for(let B=0;B<k.length;B+=1)k[B].m(s,null);d(r,a),d(i,f),d(i,u),d(u,_),g=!0},p(R,C){if(C[0]&1){y=[R[0].seed_data.fruit].concat(R[0].seed_data.byproducts??[]);let B;for(B=0;B<y.length;B+=1){const D=Zc(R,y,B);k[B]?(k[B].p(D,C),b(k[B],1)):(k[B]=U_(D),k[B].c(),b(k[B],1),k[B].m(s,null))}for(re(),B=y.length;B<k.length;B+=1)T(B);oe()}(!g||C[0]&1)&&c!==(c=R[0].seed_data.grow+"")&&K(_,c)},i(R){if(!g){for(let C=0;C<y.length;C+=1)b(k[C]);g=!0}},o(R){k=k.filter(Boolean);for(let C=0;C<k.length;C+=1)$(k[C]);g=!1},d(R){R&&p(e),we(k,R)}}}function U_(l){let e,n,t;return n=new ve({props:{type:"item",id:l[36]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[36]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function G_(l){let e,n,t,i,o,r;n=new qI({props:{item:l[0]}});const s=[gN,hN],a=[];function f(u,c){return u[0].type==="GUN"?0:u[0].type==="AMMO"?1:-1}return~(i=f(l))&&(o=a[i]=s[i](l)),{c(){e=m("div"),W(n.$$.fragment),t=N(),o&&o.c(),_e(e,"class","side-by-side")},m(u,c){h(u,e,c),H(n,e,null),d(e,t),~i&&a[i].m(e,null),r=!0},p(u,c){const _={};c[0]&1&&(_.item=u[0]),n.$set(_);let g=i;i=f(u),i===g?~i&&a[i].p(u,c):(o&&(re(),$(a[g],1,1,()=>{a[g]=null}),oe()),~i?(o=a[i],o?o.p(u,c):(o=a[i]=s[i](u),o.c()),b(o,1),o.m(e,null)):o=null)},i(u){r||(b(n.$$.fragment,u),b(o),r=!0)},o(u){$(n.$$.fragment,u),$(o),r=!1},d(u){u&&p(e),z(n),~i&&a[i].d()}}}function hN(l){let e,n;return e=new dC({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function gN(l){let e,n;return e=new CI({props:{item:l[0]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function bN(l){let e,n,t,i,o=l[9].filter(W_),r=[];for(let a=0;a<o.length;a+=1)r[a]=z_(Vc(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Pockets",{_context:Bn})}`,t=N();for(let a=0;a<r.length;a+=1)r[a].c()},m(a,f){h(a,e,f),d(e,n),d(e,t);for(let u=0;u<r.length;u+=1)r[u].m(e,null);i=!0},p(a,f){if(f[0]&512){o=a[9].filter(W_);let u;for(u=0;u<o.length;u+=1){const c=Vc(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=z_(c),r[u].c(),b(r[u],1),r[u].m(e,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),we(r,a)}}}function $N(l){let e,n,t=l[28].name+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Name",{_context:Bn})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function vN(l){let e,n,t=l[28].description+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Description",{_context:Bn})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function yN(l){let e,n,t=l[28].max_contains_volume+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Volume Capacity",{_context:Bn})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function kN(l){let e,n,t=l[28].max_contains_weight+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Weight Capacity",{_context:Bn})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function wN(l){let e,n,t,i,o,r=[...Object.entries(l[28].ammo_restriction)],s=[];for(let f=0;f<r.length;f+=1)s[f]=q_(Kc(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Ammo Restriction",{_context:Bn,_comment:"For a pocket"})} 
          `,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&512){r=[...Object.entries(f[28].ammo_restriction)];let c;for(c=0;c<r.length;c+=1){const _=Kc(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=q_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function q_(l){let e,n=l[37]+"",t,i,o=l[37]===1?"":"s",r,s,a,f,u;return a=new ve({props:{id:l[36],type:"ammunition_type"}}),{c(){e=m("li"),t=w(n),i=w(" round"),r=w(o),s=w(" of "),W(a.$$.fragment),f=N()},m(c,_){h(c,e,_),d(e,t),d(e,i),d(e,r),d(e,s),H(a,e,null),d(e,f),u=!0},p:ie,i(c){u||(b(a.$$.fragment,c),u=!0)},o(c){$(a.$$.fragment,c),u=!1},d(c){c&&p(e),z(a)}}}function EN(l){let e,n,t=l[28].max_item_length+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Max Item Length",{_context:Bn})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function SN(l){let e,n,t=l[28].min_item_volume+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Min Item Volume",{_context:Bn})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function TN(l){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Max Items",{_context:Bn,_comment:"Maximum number of items allowed in the pocket. 1 for holsters, not shown for anything else."})} 
          `,n=m("dd"),n.textContent="1"},m(t,i){h(t,e,i),h(t,n,i)},p:ie,d(t){t&&p(e),t&&p(n)}}}function CN(l){let e,n,t=l[28].sealed_data.spoil_multiplier+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Spoil Multiplier",{_context:Bn,_comment:"Items contained in this pocket will spoil faster or slower according to this multiplier."})} 
          `,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function IN(l){let e,n,t,i,o,r=l[28].flag_restriction,s=[];for(let f=0;f<r.length;f+=1)s[f]=Y_(Jc(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Flag Restriction",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&512){r=f[28].flag_restriction;let c;for(c=0;c<r.length;c+=1){const _=Jc(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Y_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Y_(l){let e,n,t;return n=new ve({props:{type:"json_flag",id:l[33]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function ON(l){let e,n,t,i,o,r=l[28].item_restriction,s=[];for(let f=0;f<r.length;f+=1)s[f]=H_(Xc(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Item Restriction",{_context:Bn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&512){r=f[28].item_restriction;let c;for(c=0;c<r.length;c+=1){const _=Xc(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=H_(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function H_(l){let e,n,t;return n=new ve({props:{type:"item",id:l[0]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function z_(l){let e,n,t,i,o,r,s,a,f,u=l[28].moves+"",c,_,g,y,k,T=l[28].name&&$N(l),R=l[28].description&&vN(l),C=l[28].max_contains_volume!=null&&yN(l),B=l[28].max_contains_weight!=null&&kN(l),D=l[28].ammo_restriction&&wN(l),j=l[28].max_item_length&&EN(l),L=l[28].min_item_volume!=="0 ml"&&SN(l),P=l[28].holster&&TN(),U=l[28].sealed_data&&(l[28].sealed_data.spoil_multiplier??1)!==1&&CN(l),q=l[28].flag_restriction&&IN(l),G=l[28].item_restriction&&ON(l);return{c(){e=m("dl"),T&&T.c(),n=fe(),R&&R.c(),t=fe(),C&&C.c(),i=fe(),B&&B.c(),o=fe(),D&&D.c(),r=fe(),j&&j.c(),s=fe(),L&&L.c(),a=m("dt"),a.textContent=`${O.t("Moves to Remove Item",{_context:Bn})}`,f=m("dd"),c=w(u),P&&P.c(),_=fe(),U&&U.c(),g=fe(),q&&q.c(),y=fe(),G&&G.c()},m(Z,M){h(Z,e,M),T&&T.m(e,null),d(e,n),R&&R.m(e,null),d(e,t),C&&C.m(e,null),d(e,i),B&&B.m(e,null),d(e,o),D&&D.m(e,null),d(e,r),j&&j.m(e,null),d(e,s),L&&L.m(e,null),d(e,a),d(e,f),d(f,c),P&&P.m(e,null),d(e,_),U&&U.m(e,null),d(e,g),q&&q.m(e,null),d(e,y),G&&G.m(e,null),k=!0},p(Z,M){Z[28].name&&T.p(Z,M),Z[28].description&&R.p(Z,M),Z[28].max_contains_volume!=null&&C.p(Z,M),Z[28].max_contains_weight!=null&&B.p(Z,M),Z[28].ammo_restriction&&D.p(Z,M),Z[28].max_item_length&&j.p(Z,M),Z[28].min_item_volume!=="0 ml"&&L.p(Z,M),Z[28].holster&&P.p(Z,M),Z[28].sealed_data&&(Z[28].sealed_data.spoil_multiplier??1)!==1&&U.p(Z,M),Z[28].flag_restriction&&q.p(Z,M),Z[28].item_restriction&&G.p(Z,M)},i(Z){k||(b(D),b(q),b(G),k=!0)},o(Z){$(D),$(q),$(G),k=!1},d(Z){Z&&p(e),T&&T.d(),R&&R.d(),C&&C.d(),B&&B.d(),D&&D.d(),j&&j.d(),L&&L.d(),P&&P.d(),U&&U.d(),q&&q.d(),G&&G.d()}}}function RN(l){let e,n,t,i,o;return i=new Zt({props:{items:l[18],$$slots:{default:[NN,({item:r})=>({0:r}),({item:r})=>[r?1:0]]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Fuel For",{_context:Bn})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s[0]&1|s[2]&4194304&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function NN(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:l[0].type,id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r[0]&1&&(s.item=o[0]),e.$set(s);const a={};r[0]&1&&(a.type=o[0].type),r[0]&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function AN(l){let e,n,t,i,o;return i=new Zt({props:{items:l[19],$$slots:{default:[BN,({item:r})=>({0:r}),({item:r})=>[r?1:0]]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Used to Repair",{_context:Bn})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s[0]&1|s[2]&4194304&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function BN(l){let e,n;return e=new ve({props:{type:"fault",id:l[0].id}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function MN(l){var Ui,Gi;let e,n,t,i=it(l[0])+"",o,r,s,a,f,u,c,_,g,y,k,T=wl(l[21](l[0])??"1 ml")+"",R,C,B,D=ur(l[0].weight??0)+"",j,L,P,U=l[2](l[0])+"",q,G,Z,M,x,ne,F,X,J,V,se,me,Q,ee,le,ue,be,Le,ke,Ee,Te,Re,He,he,Ce,De,Oe,Ke,xe=l[9].filter(LN).length,mt,ye,et,je,ct,We,qe,Ve,kt,ht,Rt,Ge,pe,$e,ae,Ye,pt,ut,at,lt,ot,rt,tt,Ne,Ie,dt,It,Ft,jt,Tt,Fe,ft,Xt,an,Me,Xe;n=new Lt({props:{item:l[0]}});let Wt=((Ui=l[0].variants)==null?void 0:Ui.length)&&__(l),fn=l[5].length&&nN(l),ln=l[12].length&&lN(l),vn=l[10].length&&rN(l),rn=((Gi=l[0].weapon_category)==null?void 0:Gi.length)&&b_(l),xt=l[7],ze=[];for(let ce=0;ce<xt.length;ce+=1)ze[ce]=y_(o_(l,xt,ce));const _n=ce=>$(ze[ce],1,1,()=>{ze[ce]=null});let Kt=null;xt.length||(Kt=v_());let At=l[8].length&&oN(l),Pt=(l[3].length||l[4].length)&&sN(l),on=l[15].length&&fN(l),jn=l[14]&&l[13]&&aN(l),un=l[16].length&&cN(l),Fn=l[0].brewable&&I_(l),wn=l[20].length&&_N(l),nn=l[0].description&&N_(l),dn=l[17]&&dN(l),mn=l[0].type==="BOOK"&&A_(l),Pn=(l[0].type==="ARMOR"||l[0].type==="TOOL_ARMOR")&&B_(l),Mn=l[0].type==="BIONIC_ITEM"&&M_(l),Dn=(l[0].type==="TOOL"||l[0].type==="TOOL_ARMOR")&&D_(l),Yn=l[0].type==="ENGINE"&&l[0].displacement&&L_(l),In=l[0].type==="COMESTIBLE"&&F_(l),Tn=l[0].type==="WHEEL"&&P_(l);Ce=new FI({props:{item:l[0]}});let On=l[0].seed_data&&j_(l),Rn=(l[0].bashing||l[0].cutting||l[0].type==="GUN"||l[0].type==="AMMO"&&(l[0].show_stats||l[0].damage))&&G_(l),oi=xe&&bN(l),si=l[18].length&&RN(l),fi=l[19].length&&AN(l);return je=new H4({props:{item_id:l[0].id}}),kt=new rR({props:{item_id:l[0].id}}),Rt=new mI({props:{item_id:l[0].id}}),pe=new $I({props:{item_id:l[0].id}}),ae=new EI({props:{item_id:l[0].id}}),pt=new I4({props:{item_id:l[0].id}}),at=new AI({props:{item_id:l[0].id}}),ot=new zR({props:{item_id:l[0].id}}),tt=new rI({props:{item_id:l[0].id}}),Ie=new uR({props:{item_id:l[0].id}}),It=new J4({props:{item_id:l[0].id}}),jt=new eI({props:{item_id:l[0].id}}),Fe=new h4({props:{item_id:l[0].id}}),Xt=new AR({props:{item_id:l[0].id}}),Me=new FR({props:{item_id:l[0].id}}),{c(){e=m("h1"),W(n.$$.fragment),t=N(),o=w(i),r=N(),s=m("section"),a=m("h1"),a.textContent=`${O.t("General",{_context:Bn})}`,f=N(),u=m("div"),c=m("div"),_=m("dl"),Wt&&Wt.c(),g=fe(),fn&&fn.c(),y=m("dt"),y.textContent=`${O.t("Volume")}`,k=m("dd"),R=w(T),C=m("dt"),C.textContent=`${O.t("Weight")}`,B=m("dd"),j=w(D),L=m("dt"),L.textContent=`${O.t("Length")}`,P=m("dd"),q=w(U),ln&&ln.c(),G=fe(),vn&&vn.c(),Z=fe(),rn&&rn.c(),M=m("dt"),M.textContent=`${O.t("Flags")}`,x=m("dd"),ne=m("ul");for(let ce=0;ce<ze.length;ce+=1)ze[ce].c();Kt&&Kt.c(),F=N(),At&&At.c(),X=fe(),Pt&&Pt.c(),J=fe(),on&&on.c(),V=fe(),jn&&jn.c(),se=fe(),un&&un.c(),me=fe(),Fn&&Fn.c(),Q=fe(),wn&&wn.c(),ee=N(),nn&&nn.c(),le=N(),ue=m("div"),dn&&dn.c(),be=N(),mn&&mn.c(),Le=N(),Pn&&Pn.c(),ke=N(),Mn&&Mn.c(),Ee=N(),Dn&&Dn.c(),Te=N(),Yn&&Yn.c(),Re=N(),In&&In.c(),He=N(),Tn&&Tn.c(),he=N(),W(Ce.$$.fragment),De=N(),On&&On.c(),Oe=N(),Rn&&Rn.c(),Ke=N(),oi&&oi.c(),mt=N(),si&&si.c(),ye=N(),fi&&fi.c(),et=N(),W(je.$$.fragment),ct=N(),We=m("div"),qe=m("h2"),qe.textContent=`${O.t("Obtaining",{_context:Bn})}`,Ve=N(),W(kt.$$.fragment),ht=N(),W(Rt.$$.fragment),Ge=N(),W(pe.$$.fragment),$e=N(),W(ae.$$.fragment),Ye=N(),W(pt.$$.fragment),ut=N(),W(at.$$.fragment),lt=N(),W(ot.$$.fragment),rt=N(),W(tt.$$.fragment),Ne=N(),W(Ie.$$.fragment),dt=N(),W(It.$$.fragment),Ft=N(),W(jt.$$.fragment),Tt=N(),W(Fe.$$.fragment),ft=N(),W(Xt.$$.fragment),an=N(),W(Me.$$.fragment),_e(ne,"class","comma-separated"),_e(u,"class","side-by-side no-margin"),_e(qe,"class","svelte-18ijh8q"),_e(We,"class","hide-header-if-no-sections svelte-18ijh8q")},m(ce,Qe){h(ce,e,Qe),H(n,e,null),d(e,t),d(e,o),h(ce,r,Qe),h(ce,s,Qe),d(s,a),d(s,f),d(s,u),d(u,c),d(c,_),Wt&&Wt.m(_,null),d(_,g),fn&&fn.m(_,null),d(_,y),d(_,k),d(k,R),d(_,C),d(_,B),d(B,j),d(_,L),d(_,P),d(P,q),ln&&ln.m(_,null),d(_,G),vn&&vn.m(_,null),d(_,Z),rn&&rn.m(_,null),d(_,M),d(_,x),d(x,ne);for(let Ri=0;Ri<ze.length;Ri+=1)ze[Ri].m(ne,null);Kt&&Kt.m(ne,null),d(x,F),At&&At.m(_,null),d(_,X),Pt&&Pt.m(_,null),d(_,J),on&&on.m(_,null),d(_,V),jn&&jn.m(_,null),d(_,se),un&&un.m(_,null),d(_,me),Fn&&Fn.m(_,null),d(_,Q),wn&&wn.m(_,null),d(c,ee),nn&&nn.m(c,null),d(u,le),d(u,ue),dn&&dn.m(ue,null),h(ce,be,Qe),mn&&mn.m(ce,Qe),h(ce,Le,Qe),Pn&&Pn.m(ce,Qe),h(ce,ke,Qe),Mn&&Mn.m(ce,Qe),h(ce,Ee,Qe),Dn&&Dn.m(ce,Qe),h(ce,Te,Qe),Yn&&Yn.m(ce,Qe),h(ce,Re,Qe),In&&In.m(ce,Qe),h(ce,He,Qe),Tn&&Tn.m(ce,Qe),h(ce,he,Qe),H(Ce,ce,Qe),h(ce,De,Qe),On&&On.m(ce,Qe),h(ce,Oe,Qe),Rn&&Rn.m(ce,Qe),h(ce,Ke,Qe),oi&&oi.m(ce,Qe),h(ce,mt,Qe),si&&si.m(ce,Qe),h(ce,ye,Qe),fi&&fi.m(ce,Qe),h(ce,et,Qe),H(je,ce,Qe),h(ce,ct,Qe),h(ce,We,Qe),d(We,qe),d(We,Ve),H(kt,We,null),d(We,ht),H(Rt,We,null),d(We,Ge),H(pe,We,null),d(We,$e),H(ae,We,null),d(We,Ye),H(pt,We,null),d(We,ut),H(at,We,null),d(We,lt),H(ot,We,null),d(We,rt),H(tt,We,null),d(We,Ne),H(Ie,We,null),d(We,dt),H(It,We,null),d(We,Ft),H(jt,We,null),d(We,Tt),H(Fe,We,null),d(We,ft),H(Xt,We,null),d(We,an),H(Me,We,null),Xe=!0},p(ce,Qe){var hi,Qi;const Ri={};if(Qe[0]&1&&(Ri.item=ce[0]),n.$set(Ri),(!Xe||Qe[0]&1)&&i!==(i=it(ce[0])+"")&&K(o,i),(hi=ce[0].variants)!=null&&hi.length?Wt?Wt.p(ce,Qe):(Wt=__(ce),Wt.c(),Wt.m(_,g)):Wt&&(Wt.d(1),Wt=null),ce[5].length&&fn.p(ce,Qe),(!Xe||Qe[0]&1)&&T!==(T=wl(ce[21](ce[0])??"1 ml")+"")&&K(R,T),(!Xe||Qe[0]&1)&&D!==(D=ur(ce[0].weight??0)+"")&&K(j,D),(!Xe||Qe[0]&1)&&U!==(U=ce[2](ce[0])+"")&&K(q,U),ce[12].length&&ln.p(ce,Qe),ce[10].length&&vn.p(ce,Qe),(Qi=ce[0].weapon_category)!=null&&Qi.length?rn?(rn.p(ce,Qe),Qe[0]&1&&b(rn,1)):(rn=b_(ce),rn.c(),b(rn,1),rn.m(_,M)):rn&&(re(),$(rn,1,1,()=>{rn=null}),oe()),Qe[0]&128){xt=ce[7];let zn;for(zn=0;zn<xt.length;zn+=1){const xi=o_(ce,xt,zn);ze[zn]?(ze[zn].p(xi,Qe),b(ze[zn],1)):(ze[zn]=y_(xi),ze[zn].c(),b(ze[zn],1),ze[zn].m(ne,null))}for(re(),zn=xt.length;zn<ze.length;zn+=1)_n(zn);oe(),!xt.length&&Kt?Kt.p(ce,Qe):xt.length?Kt&&(Kt.d(1),Kt=null):(Kt=v_(),Kt.c(),Kt.m(ne,null))}ce[8].length&&At.p(ce,Qe),(ce[3].length||ce[4].length)&&Pt.p(ce,Qe),ce[15].length&&on.p(ce,Qe),ce[14]&&ce[13]&&jn.p(ce,Qe),ce[16].length&&un.p(ce,Qe),ce[0].brewable?Fn?(Fn.p(ce,Qe),Qe[0]&1&&b(Fn,1)):(Fn=I_(ce),Fn.c(),b(Fn,1),Fn.m(_,Q)):Fn&&(re(),$(Fn,1,1,()=>{Fn=null}),oe()),ce[20].length&&wn.p(ce,Qe),ce[0].description?nn?nn.p(ce,Qe):(nn=N_(ce),nn.c(),nn.m(c,null)):nn&&(nn.d(1),nn=null),ce[17]&&dn.p(ce,Qe),ce[0].type==="BOOK"?mn?(mn.p(ce,Qe),Qe[0]&1&&b(mn,1)):(mn=A_(ce),mn.c(),b(mn,1),mn.m(Le.parentNode,Le)):mn&&(re(),$(mn,1,1,()=>{mn=null}),oe()),ce[0].type==="ARMOR"||ce[0].type==="TOOL_ARMOR"?Pn?(Pn.p(ce,Qe),Qe[0]&1&&b(Pn,1)):(Pn=B_(ce),Pn.c(),b(Pn,1),Pn.m(ke.parentNode,ke)):Pn&&(re(),$(Pn,1,1,()=>{Pn=null}),oe()),ce[0].type==="BIONIC_ITEM"?Mn?(Mn.p(ce,Qe),Qe[0]&1&&b(Mn,1)):(Mn=M_(ce),Mn.c(),b(Mn,1),Mn.m(Ee.parentNode,Ee)):Mn&&(re(),$(Mn,1,1,()=>{Mn=null}),oe()),ce[0].type==="TOOL"||ce[0].type==="TOOL_ARMOR"?Dn?(Dn.p(ce,Qe),Qe[0]&1&&b(Dn,1)):(Dn=D_(ce),Dn.c(),b(Dn,1),Dn.m(Te.parentNode,Te)):Dn&&(re(),$(Dn,1,1,()=>{Dn=null}),oe()),ce[0].type==="ENGINE"&&ce[0].displacement?Yn?Yn.p(ce,Qe):(Yn=L_(ce),Yn.c(),Yn.m(Re.parentNode,Re)):Yn&&(Yn.d(1),Yn=null),ce[0].type==="COMESTIBLE"?In?(In.p(ce,Qe),Qe[0]&1&&b(In,1)):(In=F_(ce),In.c(),b(In,1),In.m(He.parentNode,He)):In&&(re(),$(In,1,1,()=>{In=null}),oe()),ce[0].type==="WHEEL"?Tn?(Tn.p(ce,Qe),Qe[0]&1&&b(Tn,1)):(Tn=P_(ce),Tn.c(),b(Tn,1),Tn.m(he.parentNode,he)):Tn&&(re(),$(Tn,1,1,()=>{Tn=null}),oe());const hn={};Qe[0]&1&&(hn.item=ce[0]),Ce.$set(hn),ce[0].seed_data?On?(On.p(ce,Qe),Qe[0]&1&&b(On,1)):(On=j_(ce),On.c(),b(On,1),On.m(Oe.parentNode,Oe)):On&&(re(),$(On,1,1,()=>{On=null}),oe()),ce[0].bashing||ce[0].cutting||ce[0].type==="GUN"||ce[0].type==="AMMO"&&(ce[0].show_stats||ce[0].damage)?Rn?(Rn.p(ce,Qe),Qe[0]&1&&b(Rn,1)):(Rn=G_(ce),Rn.c(),b(Rn,1),Rn.m(Ke.parentNode,Ke)):Rn&&(re(),$(Rn,1,1,()=>{Rn=null}),oe()),xe&&oi.p(ce,Qe),ce[18].length&&si.p(ce,Qe),ce[19].length&&fi.p(ce,Qe);const Jn={};Qe[0]&1&&(Jn.item_id=ce[0].id),je.$set(Jn);const Kn={};Qe[0]&1&&(Kn.item_id=ce[0].id),kt.$set(Kn);const Se={};Qe[0]&1&&(Se.item_id=ce[0].id),Rt.$set(Se);const st={};Qe[0]&1&&(st.item_id=ce[0].id),pe.$set(st);const en={};Qe[0]&1&&(en.item_id=ce[0].id),ae.$set(en);const Zn={};Qe[0]&1&&(Zn.item_id=ce[0].id),pt.$set(Zn);const Hn={};Qe[0]&1&&(Hn.item_id=ce[0].id),at.$set(Hn);const Qn={};Qe[0]&1&&(Qn.item_id=ce[0].id),ot.$set(Qn);const xn={};Qe[0]&1&&(xn.item_id=ce[0].id),tt.$set(xn);const ei={};Qe[0]&1&&(ei.item_id=ce[0].id),Ie.$set(ei);const ti={};Qe[0]&1&&(ti.item_id=ce[0].id),It.$set(ti);const ni={};Qe[0]&1&&(ni.item_id=ce[0].id),jt.$set(ni);const di={};Qe[0]&1&&(di.item_id=ce[0].id),Fe.$set(di);const mi={};Qe[0]&1&&(mi.item_id=ce[0].id),Xt.$set(mi);const pi={};Qe[0]&1&&(pi.item_id=ce[0].id),Me.$set(pi)},i(ce){if(!Xe){b(n.$$.fragment,ce),b(fn),b(ln),b(vn),b(rn);for(let Qe=0;Qe<xt.length;Qe+=1)b(ze[Qe]);b(At),b(Pt),b(on),b(jn),b(un),b(Fn),b(wn),b(dn),b(mn),b(Pn),b(Mn),b(Dn),b(In),b(Tn),b(Ce.$$.fragment,ce),b(On),b(Rn),b(oi),b(si),b(fi),b(je.$$.fragment,ce),b(kt.$$.fragment,ce),b(Rt.$$.fragment,ce),b(pe.$$.fragment,ce),b(ae.$$.fragment,ce),b(pt.$$.fragment,ce),b(at.$$.fragment,ce),b(ot.$$.fragment,ce),b(tt.$$.fragment,ce),b(Ie.$$.fragment,ce),b(It.$$.fragment,ce),b(jt.$$.fragment,ce),b(Fe.$$.fragment,ce),b(Xt.$$.fragment,ce),b(Me.$$.fragment,ce),Xe=!0}},o(ce){$(n.$$.fragment,ce),$(fn),$(ln),$(vn),$(rn),ze=ze.filter(Boolean);for(let Qe=0;Qe<ze.length;Qe+=1)$(ze[Qe]);$(At),$(Pt),$(on),$(jn),$(un),$(Fn),$(wn),$(dn),$(mn),$(Pn),$(Mn),$(Dn),$(In),$(Tn),$(Ce.$$.fragment,ce),$(On),$(Rn),$(oi),$(si),$(fi),$(je.$$.fragment,ce),$(kt.$$.fragment,ce),$(Rt.$$.fragment,ce),$(pe.$$.fragment,ce),$(ae.$$.fragment,ce),$(pt.$$.fragment,ce),$(at.$$.fragment,ce),$(ot.$$.fragment,ce),$(tt.$$.fragment,ce),$(Ie.$$.fragment,ce),$(It.$$.fragment,ce),$(jt.$$.fragment,ce),$(Fe.$$.fragment,ce),$(Xt.$$.fragment,ce),$(Me.$$.fragment,ce),Xe=!1},d(ce){ce&&p(e),z(n),ce&&p(r),ce&&p(s),Wt&&Wt.d(),fn&&fn.d(),ln&&ln.d(),vn&&vn.d(),rn&&rn.d(),we(ze,ce),Kt&&Kt.d(),At&&At.d(),Pt&&Pt.d(),on&&on.d(),jn&&jn.d(),un&&un.d(),Fn&&Fn.d(),wn&&wn.d(),nn&&nn.d(),dn&&dn.d(),ce&&p(be),mn&&mn.d(ce),ce&&p(Le),Pn&&Pn.d(ce),ce&&p(ke),Mn&&Mn.d(ce),ce&&p(Ee),Dn&&Dn.d(ce),ce&&p(Te),Yn&&Yn.d(ce),ce&&p(Re),In&&In.d(ce),ce&&p(He),Tn&&Tn.d(ce),ce&&p(he),z(Ce,ce),ce&&p(De),On&&On.d(ce),ce&&p(Oe),Rn&&Rn.d(ce),ce&&p(Ke),oi&&oi.d(ce),ce&&p(mt),si&&si.d(ce),ce&&p(ye),fi&&fi.d(ce),ce&&p(et),z(je,ce),ce&&p(ct),ce&&p(We),z(kt),z(Rt),z(pe),z(ae),z(pt),z(at),z(ot),z(tt),z(Ie),z(It),z(jt),z(Fe),z(Xt),z(Me)}}}const Bn="Item Basic Info";function DN(l){return typeof l[0]=="string"}const LN=l=>l.pocket_type==="CONTAINER",W_=l=>l.pocket_type==="CONTAINER";function FN(l,e,n){let{item:t}=e,i=qt("data");function o(F){return F.longest_side?F.longest_side:`${Math.round(Math.cbrt(Or(F.volume??"1 ml")))} cm`}let r=(t.qualities??[]).map(([F,X])=>({quality:i.byId("tool_quality",F),level:X})),s=(t.charged_qualities??[]).map(([F,X])=>({quality:i.byId("tool_quality",F),level:X}));const a=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:DN(t.material)?t.material.map(F=>({type:F,portion:1})):t.material.map(F=>({type:F.type,portion:F.portion??1})),f=a.reduce((F,X)=>F+X.portion,0),u=a.reduce((F,X)=>!F||X.portion>F.portion?X:F,null);let c=(t.flags??[]).map(F=>i.byIdMaybe("json_flag",F)??{id:F}),_=(t.faults??[]).map(F=>i.byId("fault",F));const g={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let y=(t.pocket_data??[]).map(F=>({...g,...F})),k=y.filter(F=>F.pocket_type==="MAGAZINE_WELL").flatMap(F=>{var X,J;return((X=F.item_restriction)==null?void 0:X.map(V=>({type:"item",id:V})))??((J=F.flag_restriction)==null?void 0:J.map(V=>({type:"json_flag",id:V})))??[]});function T(F){let X=0;for(const J of y)J.pocket_type==="MAGAZINE"&&J.ammo_restriction&&(X+=J.ammo_restriction[F]??0);return X}let R=y.flatMap(F=>F.pocket_type==="MAGAZINE"?Object.keys(F.ammo_restriction??{}):[]);const C=i.uncraftRecipe(t.id),B=C?(()=>{const{components:F,qualities:X,tools:J}=i.normalizeRequirementsForDisassembly(C);return{components:F.map(se=>se[0]),qualities:X,tools:J}})():void 0,D=i.byType("vehicle_part").filter(F=>F.id&&F.item===t.id),j=Pr(t.use_action).map(F=>F.type==="repair_item"?{type:F.item_action_type}:F),L=t.ascii_picture&&i.byId("ascii_art",t.ascii_picture),P=(F,X)=>it(F).localeCompare(it(X)),U=i.byType("vehicle_part").filter(F=>{var X;return F.id&&(((X=F.fuel_options)==null?void 0:X.includes(t.id))||F.fuel_type===t.id)}),q=u!=null&&u.type?i.byType("bionic").filter(F=>{var X;return F.id&&((X=F.fuel_options)==null?void 0:X.includes(u==null?void 0:u.type))}):[],G=U.sort(P).concat(q.sort(P)),Z=i.byType("fault").filter(F=>(F.mending_methods??[]).map(J=>{const V=typeof J.requirements=="string"?[[i.byId("requirement",J.requirements),1]]:Array.isArray(J.requirements)?J.requirements.map(([Q,ee])=>[i.byId("requirement",Q),ee]):[[J.requirements,1]],se=i.normalizeRequirementUsing(V),me=i.flattenRequirement(se.components,Q=>Q.components);return{mending_method:J,components:me,requirement:se}}).some(J=>J.components.some(V=>V.some(se=>se.id===t.id)))),M=i.byType("mutation").filter(F=>{var X;return F.id&&((X=F.integrated_armor)==null?void 0:X.some(J=>J===t.id))});function x(F){if(F.type==="AMMO"){const{count:X}=F;return`${Or(F.volume??"1 ml")/(X??1)} ml`}if(F.type==="COMESTIBLE"){const{charges:X}=F;return`${Or(F.volume??"1 ml")/(X??1)} ml`}return F.volume}const ne=F=>({id:F,max_charges:T(F)});return l.$$set=F=>{"item"in F&&n(0,t=F.item)},[t,i,o,r,s,a,f,c,_,y,k,T,R,C,B,D,j,L,G,Z,M,x,ne]}class Ti extends Et{constructor(e){super(),wt(this,e,FN,MN,$t,{item:0},null,[-1,-1,-1])}}function PN(l){let e,n=JSON.stringify(l[0],null,2)+"",t;return{c(){e=m("pre"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p(i,[o]){o&1&&n!==(n=JSON.stringify(i[0],null,2)+"")&&K(t,n)},i:ie,o:ie,d(i){i&&p(e)}}}function jN(l,e,n){let{item:t}=e;return l.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class UN extends Et{constructor(e){super(),wt(this,e,jN,PN,$t,{item:0})}}function V_(l){let e,n,t,i;return t=new ve({props:{type:"item",id:l[0].repaired_with}}),{c(){e=m("dt"),e.textContent=`${O.t("Repaired With",{_context:Li})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].repaired_with),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function X_(l){let e,n,t,i;return t=new ve({props:{type:"item",id:l[0].salvaged_into}}),{c(){e=m("dt"),e.textContent=`${O.t("Salvaged Into",{_context:Li})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].salvaged_into),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function GN(l){let e,n,t=O.t("Items Made From {material}",{material:it(l[0])})+"",i,o,r,s;return r=new Zt({props:{items:l[1],$$slots:{default:[qN,({item:a})=>({0:a}),({item:a})=>a?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),i=w(t),o=N(),W(r.$$.fragment)},m(a,f){h(a,e,f),d(e,n),d(n,i),d(e,o),H(r,e,null),s=!0},p(a,f){(!s||f&1)&&t!==(t=O.t("Items Made From {material}",{material:it(a[0])})+"")&&K(i,t);const u={};f&9&&(u.$$scope={dirty:f,ctx:a}),r.$set(u)},i(a){s||(b(r.$$.fragment,a),s=!0)},o(a){$(r.$$.fragment,a),s=!1},d(a){a&&p(e),z(r)}}}function qN(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{id:l[0].id,type:"item"}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function YN(l){let e,n=O.t("Material")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g,y=l[0].density+"",k,T,R,C=(l[0].specific_heat_liquid??4.186)+"",B,D,j=O.t("liquid",{_context:Li})+"",L,P,U=(l[0].specific_heat_solid??2.108)+"",q,G,Z=O.t("solid",{_context:Li})+"",M,x,ne,F,X=(l[0].latent_heat??334)+"",J,V,se,me,Q,ee,le=(l[0].bash_resist??0)+"",ue,be,Le,ke=(l[0].cut_resist??0)+"",Ee,Te,Re,He=(l[0].bullet_resist??0)+"",he,Ce,De,Oe=(l[0].acid_resist??0)+"",Ke,xe,mt,ye=(l[0].chip_resist??0)+"",et,je,ct,We=(l[0].elec_resist===0||l[0].elec_resist===1||l[0].conductive?O.t("Yes"):O.t("No"))+"",qe,Ve,kt,ht,Rt,Ge=(l[0].edible?O.t("Yes"):O.t("No"))+"",pe,$e,ae,Ye=(l[0].rotting?O.t("Yes"):O.t("No"))+"",pt,ut,at,lt,ot=l[0].repaired_with&&V_(l),rt=l[0].salvaged_into&&X_(l),tt=l[1].length&&GN(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("h1"),f.textContent=`${O.t("Properties",{_context:Li})}`,u=N(),c=m("dl"),_=m("dt"),_.textContent=`${O.t("Density",{_context:Li})} 
    `,g=m("dd"),k=w(y),T=m("dt"),T.textContent=`${O.t("Specific Heat",{_context:Li})}`,R=m("dd"),B=w(C),D=w(" ("),L=w(j),P=w(") / "),q=w(U),G=w(" ("),M=w(Z),x=w(`)
    `),ne=m("dt"),ne.textContent=`${O.t("Latent Heat",{_context:Li})}`,F=m("dd"),J=w(X),V=m("dt"),V.textContent=`${O.t("Resistance",{_context:Li})}`,se=m("dd"),me=m("dl"),Q=m("dt"),Q.textContent=`${O.t("Bash",{_context:"Damage Type"})}`,ee=m("dd"),ue=w(le),be=m("dt"),be.textContent=`${O.t("Cut",{_context:"Damage Type"})}`,Le=m("dd"),Ee=w(ke),Te=m("dt"),Te.textContent=`${O.t("Ballistic",{_context:"Damage Type"})}`,Re=m("dd"),he=w(He),Ce=m("dt"),Ce.textContent=`${O.t("Acid",{_context:"Damage Type"})}`,De=m("dd"),Ke=w(Oe),xe=m("dt"),xe.textContent=`${O.t("Chip",{_context:Li})} 
        `,mt=m("dd"),et=w(ye),je=m("dt"),je.textContent=`${O.t("Conductive",{_context:Li})}`,ct=m("dd"),qe=w(We),Ve=N(),ot&&ot.c(),kt=fe(),rt&&rt.c(),ht=m("dt"),ht.textContent=`${O.t("Edible",{_context:Li})}`,Rt=m("dd"),pe=w(Ge),$e=m("dt"),$e.textContent=`${O.t("Rots",{_context:Li})} 
    `,ae=m("dd"),pt=w(Ye),ut=N(),tt&&tt.c(),at=fe(),_e(_,"title","Relative to 'powder', which is 1"),_e(xe,"title","Resistance to physical damage of the item itself"),_e($e,"title","Corpses made of this material will go bad")},m(Ne,Ie){h(Ne,e,Ie),d(e,t),d(e,i),d(e,r),h(Ne,s,Ie),h(Ne,a,Ie),d(a,f),d(a,u),d(a,c),d(c,_),d(c,g),d(g,k),d(c,T),d(c,R),d(R,B),d(R,D),d(R,L),d(R,P),d(R,q),d(R,G),d(R,M),d(R,x),d(c,ne),d(c,F),d(F,J),d(c,V),d(c,se),d(se,me),d(me,Q),d(me,ee),d(ee,ue),d(me,be),d(me,Le),d(Le,Ee),d(me,Te),d(me,Re),d(Re,he),d(me,Ce),d(me,De),d(De,Ke),d(me,xe),d(me,mt),d(mt,et),d(me,je),d(me,ct),d(ct,qe),d(se,Ve),ot&&ot.m(c,null),d(c,kt),rt&&rt.m(c,null),d(c,ht),d(c,Rt),d(Rt,pe),d(c,$e),d(c,ae),d(ae,pt),h(Ne,ut,Ie),tt&&tt.m(Ne,Ie),h(Ne,at,Ie),lt=!0},p(Ne,[Ie]){(!lt||Ie&1)&&o!==(o=it(Ne[0])+"")&&K(r,o),(!lt||Ie&1)&&y!==(y=Ne[0].density+"")&&K(k,y),(!lt||Ie&1)&&C!==(C=(Ne[0].specific_heat_liquid??4.186)+"")&&K(B,C),(!lt||Ie&1)&&U!==(U=(Ne[0].specific_heat_solid??2.108)+"")&&K(q,U),(!lt||Ie&1)&&X!==(X=(Ne[0].latent_heat??334)+"")&&K(J,X),(!lt||Ie&1)&&le!==(le=(Ne[0].bash_resist??0)+"")&&K(ue,le),(!lt||Ie&1)&&ke!==(ke=(Ne[0].cut_resist??0)+"")&&K(Ee,ke),(!lt||Ie&1)&&He!==(He=(Ne[0].bullet_resist??0)+"")&&K(he,He),(!lt||Ie&1)&&Oe!==(Oe=(Ne[0].acid_resist??0)+"")&&K(Ke,Oe),(!lt||Ie&1)&&ye!==(ye=(Ne[0].chip_resist??0)+"")&&K(et,ye),(!lt||Ie&1)&&We!==(We=(Ne[0].elec_resist===0||Ne[0].elec_resist===1||Ne[0].conductive?O.t("Yes"):O.t("No"))+"")&&K(qe,We),Ne[0].repaired_with?ot?(ot.p(Ne,Ie),Ie&1&&b(ot,1)):(ot=V_(Ne),ot.c(),b(ot,1),ot.m(c,kt)):ot&&(re(),$(ot,1,1,()=>{ot=null}),oe()),Ne[0].salvaged_into?rt?(rt.p(Ne,Ie),Ie&1&&b(rt,1)):(rt=X_(Ne),rt.c(),b(rt,1),rt.m(c,ht)):rt&&(re(),$(rt,1,1,()=>{rt=null}),oe()),(!lt||Ie&1)&&Ge!==(Ge=(Ne[0].edible?O.t("Yes"):O.t("No"))+"")&&K(pe,Ge),(!lt||Ie&1)&&Ye!==(Ye=(Ne[0].rotting?O.t("Yes"):O.t("No"))+"")&&K(pt,Ye),Ne[1].length&&tt.p(Ne,Ie)},i(Ne){lt||(b(ot),b(rt),b(tt),lt=!0)},o(Ne){$(ot),$(rt),$(tt),lt=!1},d(Ne){Ne&&p(e),Ne&&p(s),Ne&&p(a),ot&&ot.d(),rt&&rt.d(),Ne&&p(ut),tt&&tt.d(Ne),Ne&&p(at)}}}const Li="Material";function HN(l){return typeof l[0]=="string"}function zN(l,e,n){const t=qt("data");let{item:i}=e,o=t.byType("item").filter(r=>{const s=r.material==null?[]:typeof r.material=="string"?[r.material]:HN(r.material)?r.material:r.material.map(a=>a.type);return r.id&&s.some(a=>a===i.id)}).sort(Sn);return l.$$set=r=>{"item"in r&&n(0,i=r.item)},[i,o]}class WN extends Et{constructor(e){super(),wt(this,e,zN,YN,$t,{item:0})}}function J_(l,e,n){const t=l.slice();return t[5]=e[n],t}function K_(l){let e,n=O.t("default",{_context:wo})+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function Z_(l){let e,n,t,i,o,r,s;n=new Lt({props:{item:l[5]}}),i=new ve({props:{type:"item",id:l[5].id}});let a=l[5].id===l[0].default&&K_();return{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=N(),a&&a.c(),r=N()},m(f,u){h(f,e,u),H(n,e,null),d(e,t),H(i,e,null),d(e,o),a&&a.m(e,null),d(e,r),s=!0},p(f,u){f[5].id===f[0].default?a?a.p(f,u):(a=K_(),a.c(),a.m(e,r)):a&&(a.d(1),a=null)},i(f){s||(b(n.$$.fragment,f),b(i.$$.fragment,f),s=!0)},o(f){$(n.$$.fragment,f),$(i.$$.fragment,f),s=!1},d(f){f&&p(e),z(n),z(i),a&&a.d()}}}function VN(l){let e,n;return{c(){e=m("p"),n=m("em"),n.textContent=`${O.t("No items use this ammo.",{_context:wo})}`,Bt(n,"color","var(--cata-color-gray)")},m(t,i){h(t,e,i),d(e,n)},p:ie,i:ie,o:ie,d(t){t&&p(e)}}}function XN(l){let e,n;return e=new Zt({props:{items:l[2],$$slots:{default:[JN,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:l}}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&257&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function JN(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"item",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function KN(l){let e,n=O.t("Ammunition Type")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g,y,k,T,R,C,B=l[1],D=[];for(let q=0;q<B.length;q+=1)D[q]=Z_(J_(l,B,q));const j=q=>$(D[q],1,1,()=>{D[q]=null}),L=[XN,VN],P=[];function U(q,G){return q[2].length>0?0:1}return T=U(l),R=P[T]=L[T](l),{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("h1"),f.textContent=`${O.t("Compatible Variants",{_context:wo})}`,u=N(),c=m("ul");for(let q=0;q<D.length;q+=1)D[q].c();_=N(),g=m("section"),y=m("h1"),y.textContent=`${O.t("Used By",{_context:wo})}`,k=N(),R.c()},m(q,G){h(q,e,G),d(e,t),d(e,i),d(e,r),h(q,s,G),h(q,a,G),d(a,f),d(a,u),d(a,c);for(let Z=0;Z<D.length;Z+=1)D[Z].m(c,null);h(q,_,G),h(q,g,G),d(g,y),d(g,k),P[T].m(g,null),C=!0},p(q,[G]){if((!C||G&1)&&o!==(o=it(q[0])+"")&&K(r,o),G&3){B=q[1];let Z;for(Z=0;Z<B.length;Z+=1){const M=J_(q,B,Z);D[Z]?(D[Z].p(M,G),b(D[Z],1)):(D[Z]=Z_(M),D[Z].c(),b(D[Z],1),D[Z].m(c,null))}for(re(),Z=B.length;Z<D.length;Z+=1)j(Z);oe()}R.p(q,G)},i(q){if(!C){for(let G=0;G<B.length;G+=1)b(D[G]);b(R),C=!0}},o(q){D=D.filter(Boolean);for(let G=0;G<D.length;G+=1)$(D[G]);$(R),C=!1},d(q){q&&p(e),q&&p(s),q&&p(a),we(D,q),q&&p(_),q&&p(g),P[T].d()}}}const wo="Ammunition Type";function ZN(l,e){return(n,t)=>{const i=l(n,t);return i!==0?i:e(n,t)}}function QN(l,e){return l.type.localeCompare(e.type)}function xN(l,e,n){let{item:t}=e;const i=qt("data"),o=i.byType("item").flatMap(a=>a.type!=="AMMO"||!a.id?[]:a.ammo_type===t.id?[a]:[]);o.sort(Sn);const r=(a,f)=>{var u,c;return"ammo"in a&&((u=a.ammo)!=null&&u.includes(f.id))?!0:!!((c=a.pocket_data)!=null&&c.some(_=>_.pocket_type==="MAGAZINE"&&_.ammo_restriction&&Object.prototype.hasOwnProperty.call(_.ammo_restriction,f.id)))},s=i.byType("item").filter(a=>a.id&&r(a,t));return s.sort(ZN(QN,Sn)),l.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,o,s]}class eA extends Et{constructor(e){super(),wt(this,e,xN,KN,$t,{item:0})}}function Q_(l,e,n){const t=l.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function x_(l,e,n){const t=l.slice();return t[9]=e[n][0],t[13]=e[n][1],t}function ed(l,e,n){const t=l.slice();return t[9]=e[n][0],t[16]=e[n][1],t}function td(l,e,n){const t=l.slice();return t[9]=e[n][0],t[19]=e[n][1],t}function nd(l,e,n){const t=l.slice();return t[22]=e[n],t}function id(l){let e,n,t,i,o=l[0].usages,r=[];for(let s=0;s<o.length;s+=1)r[s]=rd(td(l,o,s));return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Usages",{_context:Hl})}`,t=N(),i=m("dl");for(let s=0;s<r.length;s+=1)r[s].c()},m(s,a){h(s,e,a),d(e,n),d(e,t),d(e,i);for(let f=0;f<r.length;f+=1)r[f].m(i,null)},p(s,a){if(a&3){o=s[0].usages;let f;for(f=0;f<o.length;f+=1){const u=td(s,o,f);r[f]?r[f].p(u,a):(r[f]=rd(u),r[f].c(),r[f].m(i,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),we(r,s)}}}function ld(l){let e,n=it(l[1].byId("item_action",l[22]))+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p(i,o){o&1&&n!==(n=it(i[1].byId("item_action",i[22]))+"")&&K(t,n)},d(i){i&&p(e)}}}function rd(l){let e,n=O.t("Level {level}",{level:l[9],_context:Hl})+"",t,i,o,r,s,a=l[19],f=[];for(let u=0;u<a.length;u+=1)f[u]=ld(nd(l,a,u));return{c(){e=m("dt"),t=w(n),i=N(),o=m("dd"),r=m("ul");for(let u=0;u<f.length;u+=1)f[u].c();s=N(),Bt(e,"font-variant","tabular-nums"),_e(r,"class","comma-separated")},m(u,c){h(u,e,c),d(e,t),d(e,i),h(u,o,c),d(o,r);for(let _=0;_<f.length;_+=1)f[_].m(r,null);d(o,s)},p(u,c){if(c&1&&n!==(n=O.t("Level {level}",{level:u[9],_context:Hl})+"")&&K(t,n),c&3){a=u[19];let _;for(_=0;_<a.length;_+=1){const g=nd(u,a,_);f[_]?f[_].p(g,c):(f[_]=ld(g),f[_].c(),f[_].m(r,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=a.length}},d(u){u&&p(e),u&&p(o),we(f,u)}}}function tA(l){let e,n,t,i,o,r=l[2],s=[];for(let f=0;f<r.length;f+=1)s[f]=od(ed(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Tools",{_context:Hl})}`,t=N(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){h(f,e,u),d(e,n),d(e,t),d(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&5){r=f[2];let c;for(c=0;c<r.length;c+=1){const _=ed(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=od(_),s[c].c(),b(s[c],1),s[c].m(i,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),we(s,f)}}}function nA(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"item",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function od(l){let e,n=O.t("Level {level}",{level:l[9],_context:Hl})+"",t,i,o,r,s,a;return r=new Zt({props:{items:l[16],limit:20,$$slots:{default:[nA,({item:f})=>({0:f}),({item:f})=>f?1:0]},$$scope:{ctx:l}}}),{c(){e=m("dt"),t=w(n),i=N(),o=m("dd"),W(r.$$.fragment),s=N(),Bt(e,"font-variant","tabular-nums")},m(f,u){h(f,e,u),d(e,t),d(e,i),h(f,o,u),H(r,o,null),d(o,s),a=!0},p(f,u){const c={};u&33554433&&(c.$$scope={dirty:u,ctx:f}),r.$set(c)},i(f){a||(b(r.$$.fragment,f),a=!0)},o(f){$(r.$$.fragment,f),a=!1},d(f){f&&p(e),f&&p(o),z(r)}}}function iA(l){let e,n,t,i,o,r=l[3],s=[];for(let f=0;f<r.length;f+=1)s[f]=sd(x_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Vehicle Parts")}`,t=N(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){h(f,e,u),d(e,n),d(e,t),d(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&9){r=f[3];let c;for(c=0;c<r.length;c+=1){const _=x_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=sd(_),s[c].c(),b(s[c],1),s[c].m(i,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),we(s,f)}}}function lA(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"vehicle_part",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function sd(l){let e,n=O.t("Level {level}",{level:l[9],_context:Hl})+"",t,i,o,r,s,a;return r=new Zt({props:{items:l[13].sort(Sn),limit:20,$$slots:{default:[lA,({item:f})=>({0:f}),({item:f})=>f?1:0]},$$scope:{ctx:l}}}),{c(){e=m("dt"),t=w(n),i=N(),o=m("dd"),W(r.$$.fragment),s=N(),Bt(e,"font-variant","tabular-nums")},m(f,u){h(f,e,u),d(e,t),d(e,i),h(f,o,u),H(r,o,null),d(o,s),a=!0},p(f,u){const c={};u&33554433&&(c.$$scope={dirty:u,ctx:f}),r.$set(c)},i(f){a||(b(r.$$.fragment,f),a=!0)},o(f){$(r.$$.fragment,f),a=!1},d(f){f&&p(e),f&&p(o),z(r)}}}function rA(l){let e,n,t,i,o,r=l[4],s=[];for(let f=0;f<r.length;f+=1)s[f]=fd(Q_(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Recipes")}`,t=N(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){h(f,e,u),d(e,n),d(e,t),d(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&19){r=f[4];let c;for(c=0;c<r.length;c+=1){const _=Q_(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=fd(_),s[c].c(),b(s[c],1),s[c].m(i,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),we(s,f)}}}function oA(l){let e,n,t,i;return e=new Lt({props:{item:l[1].byId("item",l[0])}}),t=new ve({props:{type:"item",id:l[0]}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[1].byId("item",o[0])),e.$set(s);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function fd(l){let e,n=O.t("Level {level}",{level:l[9],_context:Hl})+"",t,i,o,r,s,a;return r=new Zt({props:{items:l[10],limit:20,$$slots:{default:[oA,({item:f})=>({0:f}),({item:f})=>f?1:0]},$$scope:{ctx:l}}}),{c(){e=m("dt"),t=w(n),i=N(),o=m("dd"),W(r.$$.fragment),s=N(),Bt(e,"font-variant","tabular-nums")},m(f,u){h(f,e,u),d(e,t),d(e,i),h(f,o,u),H(r,o,null),d(o,s),a=!0},p(f,u){const c={};u&33554433&&(c.$$scope={dirty:u,ctx:f}),r.$set(c)},i(f){a||(b(r.$$.fragment,f),a=!0)},o(f){$(r.$$.fragment,f),a=!1},d(f){f&&p(e),f&&p(o),z(r)}}}function sA(l){let e,n=O.t("Quality",{_comment:"Tool Quality"})+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g=l[0].usages&&id(l),y=l[2].length&&tA(l),k=l[3].length&&iA(l),T=l[4].length&&rA(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),g&&g.c(),a=N(),y&&y.c(),f=N(),k&&k.c(),u=N(),T&&T.c(),c=fe()},m(R,C){h(R,e,C),d(e,t),d(e,i),d(e,r),h(R,s,C),g&&g.m(R,C),h(R,a,C),y&&y.m(R,C),h(R,f,C),k&&k.m(R,C),h(R,u,C),T&&T.m(R,C),h(R,c,C),_=!0},p(R,[C]){(!_||C&1)&&o!==(o=it(R[0])+"")&&K(r,o),R[0].usages?g?g.p(R,C):(g=id(R),g.c(),g.m(a.parentNode,a)):g&&(g.d(1),g=null),R[2].length&&y.p(R,C),R[3].length&&k.p(R,C),R[4].length&&T.p(R,C)},i(R){_||(b(y),b(k),b(T),_=!0)},o(R){$(y),$(k),$(T),_=!1},d(R){R&&p(e),R&&p(s),g&&g.d(R),R&&p(a),y&&y.d(R),R&&p(f),k&&k.d(R),R&&p(u),T&&T.d(R),R&&p(c)}}}const Hl="Tool Quality";function fA(l,e,n){let{item:t}=e,i=qt("data"),o=new Map;for(const _ of i.byType("item")){if(!_.id)continue;const g=(_.qualities??[]).concat(_.charged_qualities??[]).find(([y,k])=>y===t.id);if(g){const[,y]=g;o.has(y)||o.set(y,[]),o.get(y).push(_)}}const r=[...o.entries()].sort((_,g)=>_[0]-g[0]);r.forEach(([,_])=>{_.sort(Sn)});const s=new Map;for(const _ of i.byType("vehicle_part")){if(!_.id)continue;const g=(_.qualities??[]).find(([y,k])=>y===t.id);if(g){const[,y]=g;s.has(y)||s.set(y,[]),s.get(y).push(_)}}const a=[...s.entries()].sort((_,g)=>_[0]-g[0]);a.forEach(([,_])=>{_.sort(Sn)});const f=new Map;for(const _ of i.byType("recipe")){if(!_.result||_.construction_blueprint||!i.byIdMaybe("item",_.result))continue;const{qualities:g}=i.normalizeRequirements(_);for(const y of g)for(const{id:k,level:T=1}of y)k===t.id&&(f.has(T)||f.set(T,new Set),f.get(T).add(_.result))}const u=new Map;for(const[_,g]of f)u.set(_,[...g].sort((y,k)=>it(i.byId("item",y)).localeCompare(it(i.byId("item",k)))));const c=[...u.entries()].sort((_,g)=>_[0]-g[0]);return l.$$set=_=>{"item"in _&&n(0,t=_.item)},[t,i,r,a,c]}class aA extends Et{constructor(e){super(),wt(this,e,fA,sA,$t,{item:0})}}function ad(l,e,n){const t=l.slice();return t[9]=e[n].id,t[10]=e[n].count,t}function ud(l,e,n){const t=l.slice();return t[13]=e[n],t}function cd(l,e,n){const t=l.slice();return t[9]=e[n].id,t[10]=e[n].count,t[17]=n,t}function _d(l,e,n){const t=l.slice();return t[18]=e[n].flag,t}function dd(l,e,n){const t=l.slice();return t[9]=e[n][0],t[21]=e[n][1],t[17]=n,t}function md(l){let e,n=it(l[2].byId("construction_group",l[0].group))+"",t;return{c(){e=m("h1"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p(i,o){o&1&&n!==(n=it(i[2].byId("construction_group",i[0].group))+"")&&K(t,n)},d(i){i&&p(e)}}}function pd(l){let e,n,t,i;const o=[cA,uA],r=[];function s(a,f){return a[0].skill?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(re(),$(r[u],1,1,()=>{r[u]=null}),oe(),n=r[e],n?n.p(a,f):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function uA(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:ie,i:ie,o:ie,d(n){n&&p(e)}}}function cA(l){let e,n,t=(l[0].difficulty??0)+"",i,o,r;return e=new ve({props:{type:"skill",id:l[0].skill}}),{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){H(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),r=!0},p(s,a){const f={};a&1&&(f.id=s[0].skill),e.$set(f),(!r||a&1)&&t!==(t=(s[0].difficulty??0)+"")&&K(i,t)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),r=!1},d(s){z(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function _A(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function dA(l){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function hd(l){let e,n,t=l[21]+"",i,o,r,s;e=new ve({props:{type:"skill",id:l[9]}});function a(c,_){var g,y;if(c[17]+2===((g=c[0].required_skills)==null?void 0:g.length))return dA;if(c[17]+1!==((y=c[0].required_skills)==null?void 0:y.length))return _A}let f=a(l),u=f&&f(l);return{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),u&&u.c(),r=fe()},m(c,_){H(e,c,_),h(c,n,_),h(c,i,_),h(c,o,_),u&&u.m(c,_),h(c,r,_),s=!0},p(c,_){const g={};_&1&&(g.id=c[9]),e.$set(g),(!s||_&1)&&t!==(t=c[21]+"")&&K(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(n),c&&p(i),c&&p(o),u&&u.d(c),c&&p(r)}}}function gd(l){let e,n,t,i,o,r,s;return t=new Lt({props:{item:l[2].byId(l[0].pre_terrain.startsWith("f_")?"furniture":"terrain",l[0].pre_terrain)}}),o=new ve({props:{type:l[0].pre_terrain.startsWith("f_")?"furniture":"terrain",id:l[0].pre_terrain}}),{c(){e=m("dt"),e.textContent=`${O.t("Requires",{_context:Ur})}`,n=m("dd"),W(t.$$.fragment),i=N(),W(o.$$.fragment),r=N()},m(a,f){h(a,e,f),h(a,n,f),H(t,n,null),d(n,i),H(o,n,null),d(n,r),s=!0},p(a,f){const u={};f&1&&(u.item=a[2].byId(a[0].pre_terrain.startsWith("f_")?"furniture":"terrain",a[0].pre_terrain)),t.$set(u);const c={};f&1&&(c.type=a[0].pre_terrain.startsWith("f_")?"furniture":"terrain"),f&1&&(c.id=a[0].pre_terrain),o.$set(c)},i(a){s||(b(t.$$.fragment,a),b(o.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),$(o.$$.fragment,a),s=!1},d(a){a&&p(e),a&&p(n),z(t),z(o)}}}function mA(l){let e,n,t,i,o,r=l[5],s=[];for(let f=0;f<r.length;f+=1)s[f]=bd(_d(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Requires Flags",{_context:Ur})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&32){r=f[5];let c;for(c=0;c<r.length;c+=1){const _=_d(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=bd(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function bd(l){let e,n,t;return n=new ve({props:{type:"json_flag",id:l[18]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function pA(l){let e,n,t,i,o,r=l[3],s=[];for(let f=0;f<r.length;f+=1)s[f]=vd(ud(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Components",{_context:"Requirement"})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&12){r=f[3];let c;for(c=0;c<r.length;c+=1){const _=ud(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=vd(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function hA(l){let e=kn.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function $d(l){let e,n,t,i=l[17]!==0&&hA();return n=new ve({props:{id:l[9],count:l[10],type:"item"}}),{c(){i&&i.c(),e=N(),W(n.$$.fragment)},m(o,r){i&&i.m(o,r),h(o,e,r),H(n,o,r),t=!0},p(o,r){o[17]!==0&&i.p(o,r)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),z(n,o)}}}function vd(l){let e,n,t,i=l[13].map(l[6]),o=[];for(let s=0;s<i.length;s+=1)o[s]=$d(cd(l,i,s));const r=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=N()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);d(e,n),t=!0},p(s,a){if(a&12){i=s[13].map(s[6]);let f;for(f=0;f<i.length;f+=1){const u=cd(s,i,f);o[f]?(o[f].p(u,a),b(o[f],1)):(o[f]=$d(u),o[f].c(),b(o[f],1),o[f].m(e,n))}for(re(),f=i.length;f<o.length;f+=1)r(f);oe()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)b(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),we(o,s)}}}function gA(l){let e,n,t,i,o=l[4],r=[];for(let a=0;a<o.length;a+=1)r[a]=yd(ad(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Byproducts",{_context:Ur})}`,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c();_e(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f&20){o=a[4];let u;for(u=0;u<o.length;u+=1){const c=ad(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=yd(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function yd(l){let e,n,t,i,o,r;return n=new Lt({props:{item:l[2].byId("item",l[9])}}),i=new ve({props:{type:"item",id:l[9],count:l[10]}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=N()},m(s,a){h(s,e,a),H(n,e,null),d(e,t),H(i,e,null),d(e,o),r=!0},p:ie,i(s){r||(b(n.$$.fragment,s),b(i.$$.fragment,s),r=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),r=!1},d(s){s&&p(e),z(n),z(i)}}}function kd(l){let e,n=Qt(l[0].pre_note)+"",t;return{c(){e=m("p"),t=w(n),Bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),d(e,t)},p(i,o){o&1&&n!==(n=Qt(i[0].pre_note)+"")&&K(t,n)},d(i){i&&p(e)}}}function bA(l){let e,n,t,i,o,r,s,a,f=(typeof l[0].time=="number"?`${l[0].time} m`:l[0].time??"0 m")+"",u,c,_,g,y,k,T,R,C,B,D,j,L,P=l[1]&&md(l),U=l[0].required_skills??[],q=[];for(let J=0;J<U.length;J+=1)q[J]=hd(dd(l,U,J));const G=J=>$(q[J],1,1,()=>{q[J]=null});let Z=null;U.length||(Z=pd(l));let M=l[0].pre_terrain&&gd(l),x=l[5].length&&mA(l);y=new Go({props:{requirement:l[0]}});let ne=l[3].length&&pA(l),F=l[4].length&&gA(l),X=l[0].pre_note&&kd(l);return j=new Gs({props:{obj:l[0],buildNumber:l[2].build_number}}),{c(){e=m("section"),P&&P.c(),n=N(),t=m("dl"),i=m("dt"),i.textContent=`${O.t("Required Skills")}`,o=m("dd");for(let J=0;J<q.length;J+=1)q[J].c();Z&&Z.c(),r=N(),s=m("dt"),s.textContent=`${O.t("Time",{_context:Ur})}`,a=m("dd"),u=w(f),c=N(),M&&M.c(),_=fe(),x&&x.c(),g=fe(),W(y.$$.fragment),ne&&ne.c(),k=fe(),F&&F.c(),T=N(),X&&X.c(),R=N(),C=m("details"),B=m("summary"),B.textContent=`${O.t("Construction JSON",{_context:Ur})}`,D=N(),W(j.$$.fragment)},m(J,V){h(J,e,V),P&&P.m(e,null),d(e,n),d(e,t),d(t,i),d(t,o);for(let se=0;se<q.length;se+=1)q[se].m(o,null);Z&&Z.m(o,null),d(o,r),d(t,s),d(t,a),d(a,u),d(a,c),M&&M.m(t,null),d(t,_),x&&x.m(t,null),d(t,g),H(y,t,null),ne&&ne.m(t,null),d(t,k),F&&F.m(t,null),d(e,T),X&&X.m(e,null),d(e,R),d(e,C),d(C,B),d(C,D),H(j,C,null),L=!0},p(J,[V]){if(J[1]?P?P.p(J,V):(P=md(J),P.c(),P.m(e,n)):P&&(P.d(1),P=null),V&1){U=J[0].required_skills??[];let Q;for(Q=0;Q<U.length;Q+=1){const ee=dd(J,U,Q);q[Q]?(q[Q].p(ee,V),b(q[Q],1)):(q[Q]=hd(ee),q[Q].c(),b(q[Q],1),q[Q].m(o,r))}for(re(),Q=U.length;Q<q.length;Q+=1)G(Q);oe(),!U.length&&Z?Z.p(J,V):U.length?Z&&(re(),$(Z,1,1,()=>{Z=null}),oe()):(Z=pd(J),Z.c(),b(Z,1),Z.m(o,r))}(!L||V&1)&&f!==(f=(typeof J[0].time=="number"?`${J[0].time} m`:J[0].time??"0 m")+"")&&K(u,f),J[0].pre_terrain?M?(M.p(J,V),V&1&&b(M,1)):(M=gd(J),M.c(),b(M,1),M.m(t,_)):M&&(re(),$(M,1,1,()=>{M=null}),oe()),J[5].length&&x.p(J,V);const se={};V&1&&(se.requirement=J[0]),y.$set(se),J[3].length&&ne.p(J,V),J[4].length&&F.p(J,V),J[0].pre_note?X?X.p(J,V):(X=kd(J),X.c(),X.m(e,R)):X&&(X.d(1),X=null);const me={};V&1&&(me.obj=J[0]),j.$set(me)},i(J){if(!L){for(let V=0;V<U.length;V+=1)b(q[V]);b(M),b(x),b(y.$$.fragment,J),b(ne),b(F),b(j.$$.fragment,J),L=!0}},o(J){q=q.filter(Boolean);for(let V=0;V<q.length;V+=1)$(q[V]);$(M),$(x),$(y.$$.fragment,J),$(ne),$(F),$(j.$$.fragment,J),L=!1},d(J){J&&p(e),P&&P.d(),we(q,J),Z&&Z.d(),M&&M.d(),x&&x.d(),z(y),ne&&ne.d(),F&&F.d(),X&&X.d(),z(j)}}}const Ur="Construction";function $A(l,e,n){const t=qt("data");let{construction:i}=e,{includeTitle:o=!1}=e;const a=(typeof i.using=="string"?[[i.using,1]]:i.using??[]).map(([_,g])=>[t.byId("requirement",_),g]).concat([[i,1]]).flatMap(([_,g])=>t.flattenRequirement(_.components??[],y=>y.components).map(y=>y.map(k=>({...k,count:k.count*g})))),f=t.flattenItemGroup(t.normalizeItemGroup(i.byproducts,"collection")),u=[];if(i.pre_flags)for(const _ of[i.pre_flags].flat())typeof _=="string"?u.push({flag:_}):u.push(_);const c=_=>({..._,item:t.byId("item",_.id)});return l.$$set=_=>{"construction"in _&&n(0,i=_.construction),"includeTitle"in _&&n(1,o=_.includeTitle)},[i,o,t,a,f,u,c]}class qs extends Et{constructor(e){super(),wt(this,e,$A,bA,$t,{construction:0,includeTitle:1})}}function wd(l,e,n){const t=l.slice();return t[3]=e[n].item,t[4]=e[n].count,t}function vA(l){let e,n=l[4][0]+"",t,i,o=l[4][1]+"",r,s;return{c(){e=w(" ("),t=w(n),i=w("–"),r=w(o),s=w(")")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,r,f),h(a,s,f)},p(a,f){f&1&&n!==(n=a[4][0]+"")&&K(t,n),f&1&&o!==(o=a[4][1]+"")&&K(r,o)},d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(r),a&&p(s)}}}function yA(l){let e,n=l[4]+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p(o,r){r&1&&n!==(n=o[4]+"")&&K(t,n)},d(o){o&&p(e),o&&p(t),o&&p(i)}}}function Ed(l){let e,n,t,i,o;n=new ve({props:{id:l[3],type:"item"}});function r(f,u){if(u&1&&(t=null),typeof f[4]=="number")return yA;if(t==null&&(t=!!Array.isArray(f[4])),t)return vA}let s=r(l,-1),a=s&&s(l);return{c(){e=m("li"),W(n.$$.fragment),a&&a.c(),i=N()},m(f,u){h(f,e,u),H(n,e,null),a&&a.m(e,null),d(e,i),o=!0},p(f,u){const c={};u&1&&(c.id=f[3]),n.$set(c),s===(s=r(f,u))&&a?a.p(f,u):(a&&a.d(1),a=s&&s(f),a&&(a.c(),a.m(e,i)))},i(f){o||(b(n.$$.fragment,f),o=!0)},o(f){$(n.$$.fragment,f),o=!1},d(f){f&&p(e),z(n),a&&a.d()}}}function Sd(l){let e,n,t=(l[0].prying_data.difficulty??0)+"",i,o,r,s,a,f=(l[0].prying_data.prying_level??0)+"",u,c,_,g,y=(l[0].prying_data.noisy?O.t("Yes"):O.t("No"))+"",k,T,R,C=(l[0].prying_data.alarm?O.t("Yes"):O.t("No"))+"",B,D,j,L=(l[0].prying_data.breakable?O.t("Yes"):O.t("No"))+"",P,U;s=new ve({props:{id:"PRY",type:"tool_quality"}});let q=l[0].prying_data.prying_nails&&Td();return{c(){e=m("dt"),e.textContent=`${O.t("Difficulty",{_context:Ll,_comment:Fl})}`,n=m("dd"),i=w(t),o=m("dt"),o.textContent=`${O.t("Requires",{_context:Ll,_comment:Fl})}`,r=m("dd"),W(s.$$.fragment),a=N(),u=w(f),q&&q.c(),c=N(),_=m("dt"),_.textContent=`${O.t("Noisy",{_context:Ll,_comment:Fl})}`,g=m("dd"),k=w(y),T=m("dt"),T.textContent=`${O.t("Alarm",{_context:Ll,_comment:Fl})}`,R=m("dd"),B=w(C),D=m("dt"),D.textContent=`${O.t("Breakable",{_context:Ll,_comment:Fl})}`,j=m("dd"),P=w(L)},m(G,Z){h(G,e,Z),h(G,n,Z),d(n,i),h(G,o,Z),h(G,r,Z),H(s,r,null),d(r,a),d(r,u),q&&q.m(r,null),d(r,c),h(G,_,Z),h(G,g,Z),d(g,k),h(G,T,Z),h(G,R,Z),d(R,B),h(G,D,Z),h(G,j,Z),d(j,P),U=!0},p(G,Z){(!U||Z&1)&&t!==(t=(G[0].prying_data.difficulty??0)+"")&&K(i,t),(!U||Z&1)&&f!==(f=(G[0].prying_data.prying_level??0)+"")&&K(u,f),G[0].prying_data.prying_nails?q?Z&1&&b(q,1):(q=Td(),q.c(),b(q,1),q.m(r,c)):q&&(re(),$(q,1,1,()=>{q=null}),oe()),(!U||Z&1)&&y!==(y=(G[0].prying_data.noisy?O.t("Yes"):O.t("No"))+"")&&K(k,y),(!U||Z&1)&&C!==(C=(G[0].prying_data.alarm?O.t("Yes"):O.t("No"))+"")&&K(B,C),(!U||Z&1)&&L!==(L=(G[0].prying_data.breakable?O.t("Yes"):O.t("No"))+"")&&K(P,L)},i(G){U||(b(s.$$.fragment,G),b(q),U=!0)},o(G){$(s.$$.fragment,G),$(q),U=!1},d(G){G&&p(e),G&&p(n),G&&p(o),G&&p(r),z(s),q&&q.d(),G&&p(_),G&&p(g),G&&p(T),G&&p(R),G&&p(D),G&&p(j)}}}function Td(l){let e,n,t,i;return n=new ve({props:{id:"PRYING_NAIL",type:"tool_quality"}}),{c(){e=w(", "),W(n.$$.fragment),t=w(" 1")},m(o,r){h(o,e,r),H(n,o,r),h(o,t,r),i=!0},i(o){i||(b(n.$$.fragment,o),i=!0)},o(o){$(n.$$.fragment,o),i=!1},d(o){o&&p(e),z(n,o),o&&p(t)}}}function Cd(l){let e,n,t,i,o,r;return t=new Lt({props:{item:l[2].byId(l[1],l[0].result)}}),o=new ve({props:{id:l[0].result,type:l[1]}}),{c(){e=m("dt"),e.textContent=`${O.t("Result",{_context:Ll,_comment:Fl})}`,n=m("dd"),W(t.$$.fragment),i=N(),W(o.$$.fragment)},m(s,a){h(s,e,a),h(s,n,a),H(t,n,null),d(n,i),H(o,n,null),r=!0},p(s,a){const f={};a&3&&(f.item=s[2].byId(s[1],s[0].result)),t.$set(f);const u={};a&1&&(u.id=s[0].result),a&2&&(u.type=s[1]),o.$set(u)},i(s){r||(b(t.$$.fragment,s),b(o.$$.fragment,s),r=!0)},o(s){$(t.$$.fragment,s),$(o.$$.fragment,s),r=!1},d(s){s&&p(e),s&&p(n),z(t),z(o)}}}function kA(l){let e,n,t,i,o,r=(l[0].duration??"1 s")+"",s,a,f,u=l[0].byproducts??[],c=[];for(let k=0;k<u.length;k+=1)c[k]=Ed(wd(l,u,k));const _=k=>$(c[k],1,1,()=>{c[k]=null});let g=l[0].prying_data&&Sd(l),y=l[0].result&&Cd(l);return{c(){e=m("ul");for(let k=0;k<c.length;k+=1)c[k].c();n=N(),t=m("dl"),i=m("dt"),i.textContent=`${O.t("Duration",{_context:Ll,_comment:Fl})}`,o=m("dd"),s=w(r),g&&g.c(),a=fe(),y&&y.c(),_e(e,"class","comma-separated")},m(k,T){h(k,e,T);for(let R=0;R<c.length;R+=1)c[R].m(e,null);h(k,n,T),h(k,t,T),d(t,i),d(t,o),d(o,s),g&&g.m(t,null),d(t,a),y&&y.m(t,null),f=!0},p(k,[T]){if(T&1){u=k[0].byproducts??[];let R;for(R=0;R<u.length;R+=1){const C=wd(k,u,R);c[R]?(c[R].p(C,T),b(c[R],1)):(c[R]=Ed(C),c[R].c(),b(c[R],1),c[R].m(e,null))}for(re(),R=u.length;R<c.length;R+=1)_(R);oe()}(!f||T&1)&&r!==(r=(k[0].duration??"1 s")+"")&&K(s,r),k[0].prying_data?g?(g.p(k,T),T&1&&b(g,1)):(g=Sd(k),g.c(),b(g,1),g.m(t,a)):g&&(re(),$(g,1,1,()=>{g=null}),oe()),k[0].result?y?(y.p(k,T),T&1&&b(y,1)):(y=Cd(k),y.c(),b(y,1),y.m(t,null)):y&&(re(),$(y,1,1,()=>{y=null}),oe())},i(k){if(!f){for(let T=0;T<u.length;T+=1)b(c[T]);b(g),b(y),f=!0}},o(k){c=c.filter(Boolean);for(let T=0;T<c.length;T+=1)$(c[T]);$(g),$(y),f=!1},d(k){k&&p(e),we(c,k),k&&p(n),k&&p(t),g&&g.d(),y&&y.d()}}}const Ll="Terrain / Furniture",Fl="activity (prying, hacksawing, etc.)";function wA(l,e,n){let{act:t}=e,{resultType:i}=e;const o=qt("data");return l.$$set=r=>{"act"in r&&n(0,t=r.act),"resultType"in r&&n(1,i=r.resultType)},[t,i,o]}class Sl extends Et{constructor(e){super(),wt(this,e,wA,kA,$t,{act:0,resultType:1})}}function Id(l,e,n){const t=l.slice();return t[8]=e[n],t}function Od(l,e,n){const t=l.slice();return t[11]=e[n],t}function Rd(l,e,n){const t=l.slice();return t[14]=e[n][0],t[15]=e[n][1],t}function Nd(l,e,n){const t=l.slice();return t[18]=e[n],t}function Ad(l,e,n){const t=l.slice();return t[21]=e[n],t}function Bd(l,e,n){const t=l.slice();return t[24]=e[n].id,t[25]=e[n].prob,t}function us(l){const e=l.slice(),n=e[0].bash.furn_set;return e[28]=n,e}function Md(l,e,n){const t=l.slice();return t[24]=e[n].id,t[25]=e[n].prob,t[29]=e[n].count,t}function cs(l){const e=l.slice(),n=e[0].deconstruct.furn_set;return e[28]=n,e}function Dd(l,e,n){const t=l.slice();return t[24]=e[n].id,t[25]=e[n].prob,t[29]=e[n].count,t}function EA(l){let e,n=l[0].move_cost_mod*50+"",t;return{c(){e=w("+"),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o[0]&1&&n!==(n=i[0].move_cost_mod*50+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function SA(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("impassable",{_context:ri})}`},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function Ld(l){let e,n,t=l[0].comfort+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Comfort",{_context:ri})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].comfort+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Fd(l){let e,n,t=l[0].max_volume+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Max Volume",{_context:ri})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].max_volume+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Pd(l){let e,n,t,i;return t=new ve({props:{type:"item",id:l[0].crafting_pseudo_item}}),{c(){e=m("dt"),e.textContent=`${O.t("Provides",{_context:ri})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r[0]&1&&(s.id=o[0].crafting_pseudo_item),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function jd(l){let e,n,t,i,o;return t=new Sl({props:{act:l[0].boltcut,resultType:"furniture"}}),{c(){e=m("dt"),e.textContent=`${O.t("Boltcut",{_context:ri})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.act=r[0].boltcut),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function Ud(l){let e,n,t,i,o;return t=new Sl({props:{act:l[0].hacksaw,resultType:"furniture"}}),{c(){e=m("dt"),e.textContent=`${O.t("Hacksaw",{_context:ri})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.act=r[0].hacksaw),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function Gd(l){let e,n,t,i,o;return t=new Sl({props:{act:l[0].oxytorch,resultType:"furniture"}}),{c(){e=m("dt"),e.textContent=`${O.t("Oxytorch",{_context:ri})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.act=r[0].oxytorch),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function qd(l){let e,n,t,i,o;return t=new Sl({props:{act:l[0].prying,resultType:"furniture"}}),{c(){e=m("dt"),e.textContent=`${O.t("Prying",{_context:ri})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.act=r[0].prying),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function TA(l){var c;let e,n,t,i,o,r,s=l[2],a=[];for(let _=0;_<s.length;_+=1)a[_]=Yd(Dd(l,s,_));const f=_=>$(a[_],1,1,()=>{a[_]=null});let u=((c=l[0].deconstruct)==null?void 0:c.furn_set)&&Hd(cs(l));return{c(){e=m("dt"),e.textContent=`${O.t("Deconstruct",{_context:ri})}`,n=m("dd"),t=m("ul");for(let _=0;_<a.length;_+=1)a[_].c();i=N(),u&&u.c(),o=N(),_e(t,"class","comma-separated")},m(_,g){h(_,e,g),h(_,n,g),d(n,t);for(let y=0;y<a.length;y+=1)a[y].m(t,null);d(n,i),u&&u.m(n,null),d(n,o),r=!0},p(_,g){var y;if(g[0]&4){s=_[2];let k;for(k=0;k<s.length;k+=1){const T=Dd(_,s,k);a[k]?(a[k].p(T,g),b(a[k],1)):(a[k]=Yd(T),a[k].c(),b(a[k],1),a[k].m(t,null))}for(re(),k=s.length;k<a.length;k+=1)f(k);oe()}(y=_[0].deconstruct)!=null&&y.furn_set?u?(u.p(cs(_),g),g[0]&1&&b(u,1)):(u=Hd(cs(_)),u.c(),b(u,1),u.m(n,o)):u&&(re(),$(u,1,1,()=>{u=null}),oe())},i(_){if(!r){for(let g=0;g<s.length;g+=1)b(a[g]);b(u),r=!0}},o(_){a=a.filter(Boolean);for(let g=0;g<a.length;g+=1)$(a[g]);$(u),r=!1},d(_){_&&p(e),_&&p(n),we(a,_),u&&u.d()}}}function CA(l){let e,n=l[29][0]+"",t,i,o=l[29][1]+"",r,s;return{c(){e=w(" ("),t=w(n),i=w("–"),r=w(o),s=w(")")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,r,f),h(a,s,f)},p:ie,d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(r),a&&p(s)}}}function IA(l){let e,n=l[29][0]!==1&&OA(l);return{c(){n&&n.c(),e=fe()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,i){t[29][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&p(e)}}}function OA(l){let e,n=l[29][0]+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function RA(l){let e,n=Z0(l[25])+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function Yd(l){let e,n,t,i="",o,r="",s,a;t=new ve({props:{type:"item",id:l[24]}});function f(g,y){return g[29][0]===g[29][1]?IA:CA}let c=f(l)(l),_=l[25]!==1&&RA(l);return{c(){e=m("li"),n=m("span"),W(t.$$.fragment),o=w(i),c.c(),s=w(r),_&&_.c(),Bt(n,"white-space","nowrap")},m(g,y){h(g,e,y),d(e,n),H(t,n,null),d(n,o),c.m(n,null),d(n,s),_&&_.m(n,null),a=!0},p(g,y){c.p(g,y),g[25]!==1&&_.p(g,y)},i(g){a||(b(t.$$.fragment,g),a=!0)},o(g){$(t.$$.fragment,g),a=!1},d(g){g&&p(e),z(t),c.d(),_&&_.d()}}}function Hd(l){let e,n,t,i,o,r,s;return i=new Lt({props:{item:l[1].byId("furniture",l[28])}}),r=new ve({props:{type:"furniture",id:l[28]}}),{c(){e=m("dl"),n=m("dt"),n.textContent=`${O.t("Becomes",{_context:ri})}`,t=m("dd"),W(i.$$.fragment),o=N(),W(r.$$.fragment)},m(a,f){h(a,e,f),d(e,n),d(e,t),H(i,t,null),d(t,o),H(r,t,null),s=!0},p(a,f){const u={};f[0]&1&&(u.item=a[1].byId("furniture",a[28])),i.$set(u);const c={};f[0]&1&&(c.id=a[28]),r.$set(c)},i(a){s||(b(i.$$.fragment,a),b(r.$$.fragment,a),s=!0)},o(a){$(i.$$.fragment,a),$(r.$$.fragment,a),s=!1},d(a){a&&p(e),z(i),z(r)}}}function NA(l){var T,R;let e,n,t,i,o,r,s,a=(((T=l[0].bash)==null?void 0:T.str_min)??0)+"",f,u,c,_=l[3],g=[];for(let C=0;C<_.length;C+=1)g[C]=zd(Md(l,_,C));const y=C=>$(g[C],1,1,()=>{g[C]=null});let k=((R=l[0].bash)==null?void 0:R.furn_set)&&Wd(us(l));return{c(){e=m("dt"),e.textContent=`${O.t("Bash",{_context:ri})}`,n=m("dd"),t=m("ul");for(let C=0;C<g.length;C+=1)g[C].c();i=N(),o=m("dl"),r=m("dt"),r.textContent=`${O.t("Strength Required",{_context:ri})}`,s=m("dd"),f=w(a),k&&k.c(),u=N(),_e(t,"class","comma-separated")},m(C,B){h(C,e,B),h(C,n,B),d(n,t);for(let D=0;D<g.length;D+=1)g[D].m(t,null);d(n,i),d(n,o),d(o,r),d(o,s),d(s,f),k&&k.m(o,null),d(n,u),c=!0},p(C,B){var D,j;if(B[0]&8){_=C[3];let L;for(L=0;L<_.length;L+=1){const P=Md(C,_,L);g[L]?(g[L].p(P,B),b(g[L],1)):(g[L]=zd(P),g[L].c(),b(g[L],1),g[L].m(t,null))}for(re(),L=_.length;L<g.length;L+=1)y(L);oe()}(!c||B[0]&1)&&a!==(a=(((D=C[0].bash)==null?void 0:D.str_min)??0)+"")&&K(f,a),(j=C[0].bash)!=null&&j.furn_set?k?(k.p(us(C),B),B[0]&1&&b(k,1)):(k=Wd(us(C)),k.c(),b(k,1),k.m(o,null)):k&&(re(),$(k,1,1,()=>{k=null}),oe())},i(C){if(!c){for(let B=0;B<_.length;B+=1)b(g[B]);b(k),c=!0}},o(C){g=g.filter(Boolean);for(let B=0;B<g.length;B+=1)$(g[B]);$(k),c=!1},d(C){C&&p(e),C&&p(n),we(g,C),k&&k.d()}}}function AA(l){let e,n=l[29][0]+"",t,i,o=l[29][1]+"",r,s;return{c(){e=w(" ("),t=w(n),i=w("–"),r=w(o),s=w(")")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,r,f),h(a,s,f)},p:ie,d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(r),a&&p(s)}}}function BA(l){let e,n=l[29][0]!==1&&MA(l);return{c(){n&&n.c(),e=fe()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,i){t[29][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&p(e)}}}function MA(l){let e,n=l[29][0]+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function DA(l){let e,n=Z0(l[25])+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function zd(l){let e,n,t,i="",o,r="",s,a;t=new ve({props:{type:"item",id:l[24]}});function f(g,y){return g[29][0]===g[29][1]?BA:AA}let c=f(l)(l),_=l[25]!==1&&DA(l);return{c(){e=m("li"),n=m("span"),W(t.$$.fragment),o=w(i),c.c(),s=w(r),_&&_.c(),Bt(n,"white-space","nowrap")},m(g,y){h(g,e,y),d(e,n),H(t,n,null),d(n,o),c.m(n,null),d(n,s),_&&_.m(n,null),a=!0},p(g,y){c.p(g,y),g[25]!==1&&_.p(g,y)},i(g){a||(b(t.$$.fragment,g),a=!0)},o(g){$(t.$$.fragment,g),a=!1},d(g){g&&p(e),z(t),c.d(),_&&_.d()}}}function Wd(l){let e,n,t,i,o,r;return t=new Lt({props:{item:l[1].byId("furniture",l[28])}}),o=new ve({props:{type:"furniture",id:l[28]}}),{c(){e=m("dt"),e.textContent=`${O.t("Becomes",{_context:ri})}`,n=m("dd"),W(t.$$.fragment),i=N(),W(o.$$.fragment)},m(s,a){h(s,e,a),h(s,n,a),H(t,n,null),d(n,i),H(o,n,null),r=!0},p(s,a){const f={};a[0]&1&&(f.item=s[1].byId("furniture",s[28])),t.$set(f);const u={};a[0]&1&&(u.id=s[28]),o.$set(u)},i(s){r||(b(t.$$.fragment,s),b(o.$$.fragment,s),r=!0)},o(s){$(t.$$.fragment,s),$(o.$$.fragment,s),r=!1},d(s){s&&p(e),s&&p(n),z(t),z(o)}}}function LA(l){let e,n,t,i,o,r=l[5],s=[];for(let f=0;f<r.length;f+=1)s[f]=Kd(Rd(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Harvest",{_context:ri})}`,n=m("dd"),t=m("dl");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&34){r=f[5];let c;for(c=0;c<r.length;c+=1){const _=Rd(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Kd(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function FA(l){let e,n,t,i,o;return n=new Lt({props:{item:l[1].byId("item",l[21].drop)}}),i=new ve({props:{type:"item",id:l[21].drop}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),H(n,e,null),d(e,t),H(i,e,null),o=!0},p:ie,i(r){o||(b(n.$$.fragment,r),b(i.$$.fragment,r),o=!0)},o(r){$(n.$$.fragment,r),$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(n),z(i)}}}function PA(l){let e,n,t=l[1].flattenTopLevelItemGroup(l[1].byId("item_group",l[21].drop)),i=[];for(let r=0;r<t.length;r+=1)i[r]=Vd(Bd(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=fe()},m(r,s){for(let a=0;a<i.length;a+=1)i[a].m(r,s);h(r,e,s),n=!0},p(r,s){if(s[0]&34){t=r[1].flattenTopLevelItemGroup(r[1].byId("item_group",r[21].drop));let a;for(a=0;a<t.length;a+=1){const f=Bd(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Vd(f),i[a].c(),b(i[a],1),i[a].m(e.parentNode,e))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){we(i,r),r&&p(e)}}}function Vd(l){let e,n,t,i,o,r=(l[25]*100).toFixed(2)+"",s,a,f;return n=new Lt({props:{item:l[1].byId("item",l[24])}}),i=new ve({props:{type:"item",id:l[24]}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=w(" ("),s=w(r),a=w("%)")},m(u,c){h(u,e,c),H(n,e,null),d(e,t),H(i,e,null),d(e,o),d(e,s),d(e,a),f=!0},p:ie,i(u){f||(b(n.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){$(n.$$.fragment,u),$(i.$$.fragment,u),f=!1},d(u){u&&p(e),z(n),z(i)}}}function Xd(l){let e,n,t,i;const o=[PA,FA],r=[];function s(a,f){return a[21].type==="bionic_group"?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function Jd(l){let e,n,t=l[18].entries,i=[];for(let r=0;r<t.length;r+=1)i[r]=Xd(Ad(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){e=m("ul");for(let r=0;r<i.length;r+=1)i[r].c()},m(r,s){h(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(r,s){if(s[0]&34){t=r[18].entries;let a;for(a=0;a<t.length;a+=1){const f=Ad(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Xd(f),i[a].c(),b(i[a],1),i[a].m(e,null))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){r&&p(e),we(i,r)}}}function Kd(l){let e,n=kn.__(l[14].replace(/^(.)/,GA))+"",t,i,o,r,s=[l[1].byId("harvest",l[15])],a=[];for(let u=0;u<1;u+=1)a[u]=Jd(Nd(l,s,u));const f=u=>$(a[u],1,1,()=>{a[u]=null});return{c(){e=m("dt"),t=w(n),i=m("dd");for(let u=0;u<1;u+=1)a[u].c();o=N()},m(u,c){h(u,e,c),d(e,t),h(u,i,c);for(let _=0;_<1;_+=1)a[_].m(i,null);d(i,o),r=!0},p(u,c){if(c[0]&34){s=[u[1].byId("harvest",u[15])];let _;for(_=0;_<1;_+=1){const g=Nd(u,s,_);a[_]?(a[_].p(g,c),b(a[_],1)):(a[_]=Jd(g),a[_].c(),b(a[_],1),a[_].m(i,o))}for(re(),_=1;_<1;_+=1)f(_);oe()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)$(a[c]);r=!1},d(u){u&&p(e),u&&p(i),we(a,u)}}}function Zd(l){let e,n;return{c(){e=m("li"),n=m("em"),n.textContent=`${O.t("none")}`},m(t,i){h(t,e,i),d(e,n)},p:ie,d(t){t&&p(e)}}}function Qd(l){let e,n,t;return n=new ve({props:{type:"json_flag",id:l[11]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[11]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function jA(l){let e,n,t,i,o=l[4],r=[];for(let a=0;a<o.length;a+=1)r[a]=xd(Id(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("h2"),e.textContent=`${O.t("Construction",{_context:ri})}`,n=N();for(let a=0;a<r.length;a+=1)r[a].c();t=fe()},m(a,f){h(a,e,f),h(a,n,f);for(let u=0;u<r.length;u+=1)r[u].m(a,f);h(a,t,f),i=!0},p(a,f){if(f[0]&16){o=a[4];let u;for(u=0;u<o.length;u+=1){const c=Id(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=xd(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a),a&&p(t)}}}function xd(l){let e,n;return e=new qs({props:{construction:l[8],includeTitle:!0}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p:ie,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function UA(l){let e,n,t,i=it(l[0])+"",o,r,s,a,f,u,c,_,g,y,k,T=(l[0].required_str>=0?l[0].required_str:"not movable")+"",R,C,B,D=(l[0].coverage??0)+"",j,L,P,U,q,G,Z,M,x,ne,F,X,J,V,se,me,Q=Qt(l[0].description)+"",ee,le,ue,be;n=new Lt({props:{item:l[0]}});function Le(qe,Ve){return qe[0].move_cost_mod<0?SA:EA}let ke=Le(l),Ee=ke(l),Te=l[0].comfort&&Ld(l),Re=l[0].max_volume&&Fd(l),He=l[0].crafting_pseudo_item&&Pd(l),he=l[0].boltcut&&jd(l),Ce=l[0].hacksaw&&Ud(l),De=l[0].oxytorch&&Gd(l),Oe=l[0].prying&&qd(l),Ke=l[2].length&&TA(l),xe=l[3].length&&NA(l),mt=l[5].length&&LA(l),ye=l[0].flags??[],et=[];for(let qe=0;qe<ye.length;qe+=1)et[qe]=Qd(Od(l,ye,qe));const je=qe=>$(et[qe],1,1,()=>{et[qe]=null});let ct=null;ye.length||(ct=Zd());let We=l[4].length&&jA(l);return{c(){e=m("h1"),W(n.$$.fragment),t=N(),o=w(i),r=N(),s=m("section"),a=m("h1"),a.textContent=`${O.t("General",{_context:ri})}`,f=N(),u=m("dl"),c=m("dt"),c.textContent=`${O.t("Move Cost Modifier",{_context:ri})}`,_=m("dd"),Ee.c(),g=N(),y=m("dt"),y.textContent=`${O.t("Strength Required to Drag",{_context:ri})}`,k=m("dd"),R=w(T),C=m("dt"),C.textContent=`${O.t("Coverage",{_context:ri})}`,B=m("dd"),j=w(D),L=w("%"),Te&&Te.c(),P=fe(),Re&&Re.c(),U=fe(),He&&He.c(),q=fe(),he&&he.c(),G=fe(),Ce&&Ce.c(),Z=fe(),De&&De.c(),M=fe(),Oe&&Oe.c(),x=fe(),Ke&&Ke.c(),ne=fe(),xe&&xe.c(),F=fe(),mt&&mt.c(),X=m("dt"),X.textContent=`${O.t("Flags")}`,J=m("dd"),V=m("ul");for(let qe=0;qe<et.length;qe+=1)et[qe].c();ct&&ct.c(),se=N(),me=m("p"),ee=w(Q),le=N(),We&&We.c(),ue=fe(),_e(V,"class","comma-separated"),Bt(me,"color","var(--cata-color-gray)")},m(qe,Ve){h(qe,e,Ve),H(n,e,null),d(e,t),d(e,o),h(qe,r,Ve),h(qe,s,Ve),d(s,a),d(s,f),d(s,u),d(u,c),d(u,_),Ee.m(_,null),d(_,g),d(u,y),d(u,k),d(k,R),d(u,C),d(u,B),d(B,j),d(B,L),Te&&Te.m(u,null),d(u,P),Re&&Re.m(u,null),d(u,U),He&&He.m(u,null),d(u,q),he&&he.m(u,null),d(u,G),Ce&&Ce.m(u,null),d(u,Z),De&&De.m(u,null),d(u,M),Oe&&Oe.m(u,null),d(u,x),Ke&&Ke.m(u,null),d(u,ne),xe&&xe.m(u,null),d(u,F),mt&&mt.m(u,null),d(u,X),d(u,J),d(J,V);for(let kt=0;kt<et.length;kt+=1)et[kt].m(V,null);ct&&ct.m(V,null),d(s,se),d(s,me),d(me,ee),h(qe,le,Ve),We&&We.m(qe,Ve),h(qe,ue,Ve),be=!0},p(qe,Ve){const kt={};if(Ve[0]&1&&(kt.item=qe[0]),n.$set(kt),(!be||Ve[0]&1)&&i!==(i=it(qe[0])+"")&&K(o,i),ke===(ke=Le(qe))&&Ee?Ee.p(qe,Ve):(Ee.d(1),Ee=ke(qe),Ee&&(Ee.c(),Ee.m(_,g))),(!be||Ve[0]&1)&&T!==(T=(qe[0].required_str>=0?qe[0].required_str:"not movable")+"")&&K(R,T),(!be||Ve[0]&1)&&D!==(D=(qe[0].coverage??0)+"")&&K(j,D),qe[0].comfort?Te?Te.p(qe,Ve):(Te=Ld(qe),Te.c(),Te.m(u,P)):Te&&(Te.d(1),Te=null),qe[0].max_volume?Re?Re.p(qe,Ve):(Re=Fd(qe),Re.c(),Re.m(u,U)):Re&&(Re.d(1),Re=null),qe[0].crafting_pseudo_item?He?(He.p(qe,Ve),Ve[0]&1&&b(He,1)):(He=Pd(qe),He.c(),b(He,1),He.m(u,q)):He&&(re(),$(He,1,1,()=>{He=null}),oe()),qe[0].boltcut?he?(he.p(qe,Ve),Ve[0]&1&&b(he,1)):(he=jd(qe),he.c(),b(he,1),he.m(u,G)):he&&(re(),$(he,1,1,()=>{he=null}),oe()),qe[0].hacksaw?Ce?(Ce.p(qe,Ve),Ve[0]&1&&b(Ce,1)):(Ce=Ud(qe),Ce.c(),b(Ce,1),Ce.m(u,Z)):Ce&&(re(),$(Ce,1,1,()=>{Ce=null}),oe()),qe[0].oxytorch?De?(De.p(qe,Ve),Ve[0]&1&&b(De,1)):(De=Gd(qe),De.c(),b(De,1),De.m(u,M)):De&&(re(),$(De,1,1,()=>{De=null}),oe()),qe[0].prying?Oe?(Oe.p(qe,Ve),Ve[0]&1&&b(Oe,1)):(Oe=qd(qe),Oe.c(),b(Oe,1),Oe.m(u,x)):Oe&&(re(),$(Oe,1,1,()=>{Oe=null}),oe()),qe[2].length&&Ke.p(qe,Ve),qe[3].length&&xe.p(qe,Ve),qe[5].length&&mt.p(qe,Ve),Ve[0]&1){ye=qe[0].flags??[];let ht;for(ht=0;ht<ye.length;ht+=1){const Rt=Od(qe,ye,ht);et[ht]?(et[ht].p(Rt,Ve),b(et[ht],1)):(et[ht]=Qd(Rt),et[ht].c(),b(et[ht],1),et[ht].m(V,null))}for(re(),ht=ye.length;ht<et.length;ht+=1)je(ht);oe(),!ye.length&&ct?ct.p(qe,Ve):ye.length?ct&&(ct.d(1),ct=null):(ct=Zd(),ct.c(),ct.m(V,null))}(!be||Ve[0]&1)&&Q!==(Q=Qt(qe[0].description)+"")&&K(ee,Q),qe[4].length&&We.p(qe,Ve)},i(qe){if(!be){b(n.$$.fragment,qe),b(He),b(he),b(Ce),b(De),b(Oe),b(Ke),b(xe),b(mt);for(let Ve=0;Ve<ye.length;Ve+=1)b(et[Ve]);b(We),be=!0}},o(qe){$(n.$$.fragment,qe),$(He),$(he),$(Ce),$(De),$(Oe),$(Ke),$(xe),$(mt),et=et.filter(Boolean);for(let Ve=0;Ve<et.length;Ve+=1)$(et[Ve]);$(We),be=!1},d(qe){qe&&p(e),z(n),qe&&p(r),qe&&p(s),Ee.d(),Te&&Te.d(),Re&&Re.d(),He&&He.d(),he&&he.d(),Ce&&Ce.d(),De&&De.d(),Oe&&Oe.d(),Ke&&Ke.d(),xe&&xe.d(),mt&&mt.d(),we(et,qe),ct&&ct.d(),qe&&p(le),We&&We.d(qe),qe&&p(ue)}}}const ri="Terrain / Furniture";function Z0(l){const e=(l*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}const GA=l=>l.toUpperCase();function qA(l,e,n){var c,_;const t=qt("data");let{item:i}=e;const o=(c=i.deconstruct)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.deconstruct.items=="string"?[{group:i.deconstruct.items}]:i.deconstruct.items}):[],r=(_=i.bash)!=null&&_.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.bash.items=="string"?[{group:i.bash.items}]:i.bash.items}):[],s=t.byType("construction").filter(g=>g.post_terrain===i.id),a=new Map;for(const{seasons:g,id:y}of i.harvest_by_season??[])for(const k of g)a.set(k,y);const f=["winter","spring","summer","autumn"],u=[...a.entries()];return u.sort((g,y)=>f.indexOf(g[0])-f.indexOf(y[0])),l.$$set=g=>{"item"in g&&n(0,i=g.item)},[i,t,o,r,s,u]}class YA extends Et{constructor(e){super(),wt(this,e,qA,UA,$t,{item:0},null,[-1,-1])}}function em(l,e,n){const t=l.slice();return t[6]=e[n][0],t[7]=e[n][1],t}function tm(l,e,n){const t=l.slice();return t[10]=e[n],t}function HA(l){let e,n,t,i,o,r=l[2],s=[];for(let f=0;f<r.length;f+=1)s[f]=im(em(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Books",{_context:"Skill"})}`,t=N(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){h(f,e,u),d(e,n),d(e,t),d(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&4){r=f[2];let c;for(c=0;c<r.length;c+=1){const _=em(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=im(_),s[c].c(),b(s[c],1),s[c].m(i,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),we(s,f)}}}function nm(l){let e,n,t;return n=new ve({props:{id:l[10].id,type:"item"}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function im(l){let e,n,t=l[6]+"",i,o,r,s,a,f=l[7],u=[];for(let _=0;_<f.length;_+=1)u[_]=nm(tm(l,f,_));const c=_=>$(u[_],1,1,()=>{u[_]=null});return{c(){e=m("dt"),n=w("Level "),i=w(t),o=m("dd"),r=m("ul");for(let _=0;_<u.length;_+=1)u[_].c();s=N(),Bt(e,"font-variant","tabular-nums")},m(_,g){h(_,e,g),d(e,n),d(e,i),h(_,o,g),d(o,r);for(let y=0;y<u.length;y+=1)u[y].m(r,null);d(o,s),a=!0},p(_,g){if(g&4){f=_[7];let y;for(y=0;y<f.length;y+=1){const k=tm(_,f,y);u[y]?(u[y].p(k,g),b(u[y],1)):(u[y]=nm(k),u[y].c(),b(u[y],1),u[y].m(r,null))}for(re(),y=f.length;y<u.length;y+=1)c(y);oe()}},i(_){if(!a){for(let g=0;g<f.length;g+=1)b(u[g]);a=!0}},o(_){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)$(u[g]);a=!1},d(_){_&&p(e),_&&p(o),we(u,_)}}}function zA(l){let e,n,t,i,o;return i=new Zt({props:{items:l[3],$$slots:{default:[WA,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Used By",{_context:"Skill"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&8193&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function WA(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"item",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function VA(l){let e,n=O.t("Skill")+"",t,i,o=it(l[0])+"",r,s,a,f,u=l[0].description+"",c,_,g,y,k,T=l[1].length&&HA(l),R=l[3].length&&zA(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("p"),c=w(u),_=N(),T&&T.c(),g=N(),R&&R.c(),y=fe(),Bt(f,"color","var(--cata-color-gray)")},m(C,B){h(C,e,B),d(e,t),d(e,i),d(e,r),h(C,s,B),h(C,a,B),d(a,f),d(f,c),h(C,_,B),T&&T.m(C,B),h(C,g,B),R&&R.m(C,B),h(C,y,B),k=!0},p(C,[B]){(!k||B&1)&&o!==(o=it(C[0])+"")&&K(r,o),(!k||B&1)&&u!==(u=C[0].description+"")&&K(c,u),C[1].length&&T.p(C,B),C[3].length&&R.p(C,B)},i(C){k||(b(T),b(R),k=!0)},o(C){$(T),$(R),k=!1},d(C){C&&p(e),C&&p(s),C&&p(a),C&&p(_),T&&T.d(C),C&&p(g),R&&R.d(C),C&&p(y)}}}function XA(l,e,n){let{item:t}=e;const i=qt("data"),o=i.byType("item").filter(f=>f.id&&f.type==="BOOK"&&f.skill===t.id).sort((f,u)=>it(f).localeCompare(it(u))),r=new Map;for(const f of o)r.has(f.max_level??0)||r.set(f.max_level??0,[]),r.get(f.max_level??0).push(f);const s=[...r.entries()].sort((f,u)=>f[0]-u[0]);s.forEach(([,f])=>{f.sort((u,c)=>(u.required_level??0)-(c.required_level??0))});const a=i.byType("item").filter(f=>f.id&&f.type==="GUN"&&f.skill===t.id);return a.sort(Sn),l.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,o,s,a]}class JA extends Et{constructor(e){super(),wt(this,e,XA,VA,$t,{item:0})}}function lm(l,e,n){const t=l.slice();return t[3]=e[n],t}function rm(l){let e,n,t,i,o=l[0].required_proficiencies,r=[];for(let a=0;a<o.length;a+=1)r[a]=om(lm(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Required Proficiencies",{_context:Rr})}`,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c();_e(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f&1){o=a[0].required_proficiencies;let u;for(u=0;u<o.length;u+=1){const c=lm(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=om(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function om(l){let e,n,t;return n=new ve({props:{id:l[3],type:"proficiency"}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o&1&&(r.id=i[3]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function KA(l){let e,n,t,i,o;return i=new Zt({props:{items:l[2],$$slots:{default:[ZA,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Recipes",{_context:Rr})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&65&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function ZA(l){let e,n,t,i;return e=new Lt({props:{item:l[1].byId("item",l[0])}}),t=new ve({props:{type:"item",id:l[0]}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[1].byId("item",o[0])),e.$set(s);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function QA(l){let e,n=O.t("Proficiency")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_=(l[0].can_learn?l[0].time_to_learn:"not learnable")+"",g,y,k,T=(l[0].default_time_multiplier??2)+"",R,C,B,D,j=(l[0].default_fail_multiplier??2)+"",L,P,U,q,G=l[0].description+"",Z,M,x,ne,F=l[0].required_proficiencies&&rm(l),X=l[2].length&&KA(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("dl"),u=m("dt"),u.textContent=`${O.t("Time to Learn",{_context:Rr})}`,c=m("dd"),g=w(_),y=m("dt"),y.textContent=`${O.t("Default Time Multiplier",{_context:Rr})}`,k=m("dd"),R=w(T),C=w("×"),B=m("dt"),B.textContent=`${O.t("Default Fail Multiplier",{_context:Rr})}`,D=m("dd"),L=w(j),P=w("×"),F&&F.c(),U=N(),q=m("p"),Z=w(G),M=N(),X&&X.c(),x=fe(),Bt(q,"color","var(--cata-color-gray)")},m(J,V){h(J,e,V),d(e,t),d(e,i),d(e,r),h(J,s,V),h(J,a,V),d(a,f),d(f,u),d(f,c),d(c,g),d(f,y),d(f,k),d(k,R),d(k,C),d(f,B),d(f,D),d(D,L),d(D,P),F&&F.m(f,null),d(a,U),d(a,q),d(q,Z),h(J,M,V),X&&X.m(J,V),h(J,x,V),ne=!0},p(J,[V]){(!ne||V&1)&&o!==(o=it(J[0])+"")&&K(r,o),(!ne||V&1)&&_!==(_=(J[0].can_learn?J[0].time_to_learn:"not learnable")+"")&&K(g,_),(!ne||V&1)&&T!==(T=(J[0].default_time_multiplier??2)+"")&&K(R,T),(!ne||V&1)&&j!==(j=(J[0].default_fail_multiplier??2)+"")&&K(L,j),J[0].required_proficiencies?F?(F.p(J,V),V&1&&b(F,1)):(F=rm(J),F.c(),b(F,1),F.m(f,null)):F&&(re(),$(F,1,1,()=>{F=null}),oe()),(!ne||V&1)&&G!==(G=J[0].description+"")&&K(Z,G),J[2].length&&X.p(J,V)},i(J){ne||(b(F),b(X),ne=!0)},o(J){$(F),$(X),ne=!1},d(J){J&&p(e),J&&p(s),J&&p(a),F&&F.d(),J&&p(M),X&&X.d(J),J&&p(x)}}}const Rr="Proficiency";function xA(l,e,n){let{item:t}=e;const i=qt("data"),o=[...new Set(i.byType("recipe").filter(r=>(r.proficiencies??[]).some(s=>s.proficiency===t.id)).map(r=>r.result).filter(r=>!!r))].sort((r,s)=>it(i.byId("item",r)).localeCompare(it(i.byId("item",s))));return l.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,i,o]}class e5 extends Et{constructor(e){super(),wt(this,e,xA,QA,$t,{item:0})}}function sm(l){let e,n,t,i;return t=new V0({props:{text:Qt(l[0].info)}}),{c(){e=m("section"),n=m("p"),W(t.$$.fragment)},m(o,r){h(o,e,r),d(e,n),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.text=Qt(o[0].info)),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),z(t)}}}function t5(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1].sort(Sn),$$slots:{default:[n5,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Items",{_comment:"Section heading"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function n5(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"item",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function i5(l){let e,n,t,i,o;return i=new Zt({props:{items:l[2].sort(Sn),$$slots:{default:[l5,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Vehicle Parts")}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function l5(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"vehicle_part",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function r5(l){let e,n,t,i,o;return i=new Zt({props:{items:l[4].sort(Sn),$$slots:{default:[o5,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Terrain")}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function o5(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"terrain",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function s5(l){let e,n,t,i,o;return i=new Zt({props:{items:l[3].sort(Sn),$$slots:{default:[f5,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Furniture")}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function f5(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"furniture",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function a5(l){let e,n,t,i,o;return i=new Zt({props:{items:l[5].sort(Sn),$$slots:{default:[u5,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Bionics")}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function u5(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"bionic",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function c5(l){let e,n=O.t("Flag",{_comment:"Section heading"})+"",t,i,o=l[0].id+"",r,s,a,f,u,c,_,g,y,k=l[0].info&&sm(l),T=l[1].length&&t5(l),R=l[2].length&&i5(l),C=l[4].length&&r5(l),B=l[3].length&&s5(l),D=l[5].length&&a5(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),k&&k.c(),a=N(),T&&T.c(),f=N(),R&&R.c(),u=N(),C&&C.c(),c=N(),B&&B.c(),_=N(),D&&D.c(),g=fe()},m(j,L){h(j,e,L),d(e,t),d(e,i),d(e,r),h(j,s,L),k&&k.m(j,L),h(j,a,L),T&&T.m(j,L),h(j,f,L),R&&R.m(j,L),h(j,u,L),C&&C.m(j,L),h(j,c,L),B&&B.m(j,L),h(j,_,L),D&&D.m(j,L),h(j,g,L),y=!0},p(j,[L]){(!y||L&1)&&o!==(o=j[0].id+"")&&K(r,o),j[0].info?k?(k.p(j,L),L&1&&b(k,1)):(k=sm(j),k.c(),b(k,1),k.m(a.parentNode,a)):k&&(re(),$(k,1,1,()=>{k=null}),oe()),j[1].length&&T.p(j,L),j[2].length&&R.p(j,L),j[4].length&&C.p(j,L),j[3].length&&B.p(j,L),j[5].length&&D.p(j,L)},i(j){y||(b(k),b(T),b(R),b(C),b(B),b(D),y=!0)},o(j){$(k),$(T),$(R),$(C),$(B),$(D),y=!1},d(j){j&&p(e),j&&p(s),k&&k.d(j),j&&p(a),T&&T.d(j),j&&p(f),R&&R.d(j),j&&p(u),C&&C.d(j),j&&p(c),B&&B.d(j),j&&p(_),D&&D.d(j),j&&p(g)}}}function _5(l,e,n){let{item:t}=e,i=qt("data");const o=i.byType("item").filter(u=>{var c;return u.id&&((c=u.flags)==null?void 0:c.includes(t.id))}),r=i.byType("vehicle_part").filter(u=>{var c;return u.id&&((c=u.flags)==null?void 0:c.includes(t.id))}),s=i.byType("furniture").filter(u=>{var c;return u.id&&((c=u.flags)==null?void 0:c.includes(t.id))}),a=i.byType("terrain").filter(u=>{var c;return u.id&&((c=u.flags)==null?void 0:c.includes(t.id))}),f=i.byType("bionic").filter(u=>{var c,_,g;return u.id&&(((c=u.flags)==null?void 0:c.includes(t.id))||((_=u.active_flags)==null?void 0:_.includes(t.id))||((g=u.inactive_flags)==null?void 0:g.includes(t.id)))});return l.$$set=u=>{"item"in u&&n(0,t=u.item)},[t,o,r,s,a,f]}class d5 extends Et{constructor(e){super(),wt(this,e,_5,c5,$t,{item:0})}}function fm(l,e,n){const t=l.slice();return t[5]=e[n].components,t[6]=e[n].requirement,t[7]=e[n].mending_method,t}function am(l,e,n){const t=l.slice();return t[10]=e[n],t}function um(l,e,n){const t=l.slice();return t[13]=e[n].id,t[14]=e[n].count,t[16]=n,t}function cm(l,e,n){const t=l.slice();return t[13]=e[n].id,t[17]=e[n].level,t[16]=n,t}function _m(l,e,n){const t=l.slice();return t[19]=e[n],t}function dm(l){let e,n;return{c(){e=m("li"),n=m("em"),n.textContent=`${O.t("none")}`},m(t,i){h(t,e,i),d(e,n)},p:ie,d(t){t&&p(e)}}}function mm(l){let e,n,t=l[19]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),_e(n,"title",o=l[3][l[19]])},m(r,s){h(r,e,s),d(e,n),d(n,i)},p(r,s){s&1&&t!==(t=r[19]+"")&&K(i,t),s&1&&o!==(o=r[3][r[19]])&&_e(n,"title",o)},d(r){r&&p(e)}}}function m5(l){let e;return{c(){e=m("h2"),e.textContent=`${O.t("Mending Methods",{_context:Ys})}`},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function pm(l){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function p5(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function h5(l){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function hm(l){let e,n,t=l[17]+"",i,o,r,s;e=new ve({props:{type:"skill",id:l[13]}});function a(c,_){if(c[16]===c[7].skills.length-2)return h5;if(c[16]!==c[7].skills.length-1)return p5}let f=a(l),u=f&&f(l);return{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),u&&u.c(),r=fe()},m(c,_){H(e,c,_),h(c,n,_),h(c,i,_),h(c,o,_),u&&u.m(c,_),h(c,r,_),s=!0},p:ie,i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(n),c&&p(i),c&&p(o),u&&u.d(c),c&&p(r)}}}function g5(l){let e,n,t,i,o,r=l[5],s=[];for(let f=0;f<r.length;f+=1)s[f]=bm(am(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Components",{_context:"Requirement"})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&6){r=f[5];let c;for(c=0;c<r.length;c+=1){const _=am(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=bm(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function b5(l){let e=kn.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function gm(l){let e,n,t,i=l[16]!==0&&b5();return n=new ve({props:{id:l[13],count:l[14],type:"item"}}),{c(){i&&i.c(),e=N(),W(n.$$.fragment)},m(o,r){i&&i.m(o,r),h(o,e,r),H(n,o,r),t=!0},p(o,r){o[16]!==0&&i.p(o,r)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),z(n,o)}}}function bm(l){let e,n,t,i=l[10].map(l[4]),o=[];for(let s=0;s<i.length;s+=1)o[s]=gm(um(l,i,s));const r=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=N()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);d(e,n),t=!0},p(s,a){if(a&6){i=s[10].map(s[4]);let f;for(f=0;f<i.length;f+=1){const u=um(s,i,f);o[f]?(o[f].p(u,a),b(o[f],1)):(o[f]=gm(u),o[f].c(),b(o[f],1),o[f].m(e,n))}for(re(),f=i.length;f<o.length;f+=1)r(f);oe()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)b(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),we(o,s)}}}function $5(l){let e,n,t,i;return t=new ve({props:{type:"fault",id:l[7].turns_into}}),{c(){e=m("dt"),e.textContent=`${O.t("Turns Into",{_context:Ys})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p:ie,i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function $m(l){let e,n,t=it(l[7])+"",i,o,r,s,a,f,u,c,_=l[7].time+"",g,y,k,T,R,C=l[7].skills,B=[];for(let U=0;U<C.length;U+=1)B[U]=hm(cm(l,C,U));const D=U=>$(B[U],1,1,()=>{B[U]=null});let j=null;C.length||(j=pm()),y=new Go({props:{requirement:l[6]}});let L=l[5].length&&g5(l),P=l[7].turns_into&&$5(l);return{c(){e=m("section"),n=m("h1"),i=w(t),o=N(),r=m("dl"),s=m("dt"),s.textContent=`${O.t("Skills Used",{_context:Ys})}`,a=m("dd");for(let U=0;U<B.length;U+=1)B[U].c();j&&j.c(),f=N(),u=m("dt"),u.textContent=`${O.t("Time to Complete")}`,c=m("dd"),g=w(_),W(y.$$.fragment),L&&L.c(),k=fe(),P&&P.c(),T=N()},m(U,q){h(U,e,q),d(e,n),d(n,i),d(e,o),d(e,r),d(r,s),d(r,a);for(let G=0;G<B.length;G+=1)B[G].m(a,null);j&&j.m(a,null),d(a,f),d(r,u),d(r,c),d(c,g),H(y,r,null),L&&L.m(r,null),d(r,k),P&&P.m(r,null),d(e,T),R=!0},p(U,q){if(q&4){C=U[7].skills;let G;for(G=0;G<C.length;G+=1){const Z=cm(U,C,G);B[G]?(B[G].p(Z,q),b(B[G],1)):(B[G]=hm(Z),B[G].c(),b(B[G],1),B[G].m(a,f))}for(re(),G=C.length;G<B.length;G+=1)D(G);oe(),!C.length&&j?j.p(U,q):C.length?j&&(j.d(1),j=null):(j=pm(),j.c(),j.m(a,f))}U[5].length&&L.p(U,q),U[7].turns_into&&P.p(U,q)},i(U){if(!R){for(let q=0;q<C.length;q+=1)b(B[q]);b(y.$$.fragment,U),b(L),b(P),R=!0}},o(U){B=B.filter(Boolean);for(let q=0;q<B.length;q+=1)$(B[q]);$(y.$$.fragment,U),$(L),$(P),R=!1},d(U){U&&p(e),we(B,U),j&&j.d(),z(y),L&&L.d(),P&&P.d()}}}function v5(l){let e,n=O.t("Fault")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g,y,k=Qt(l[0].description)+"",T,R,C,B,D,j=l[0].flags??[],L=[];for(let M=0;M<j.length;M+=1)L[M]=mm(_m(l,j,M));let P=null;j.length||(P=dm());let U=l[2].length&&m5(),q=l[2],G=[];for(let M=0;M<q.length;M+=1)G[M]=$m(fm(l,q,M));const Z=M=>$(G[M],1,1,()=>{G[M]=null});return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("dl"),u=m("dt"),u.textContent=`${O.t("Flags")}`,c=m("dd"),_=m("ul");for(let M=0;M<L.length;M+=1)L[M].c();P&&P.c(),g=N(),y=m("p"),T=w(k),R=N(),U&&U.c(),C=N();for(let M=0;M<G.length;M+=1)G[M].c();B=fe(),_e(_,"class","comma-separated"),Bt(y,"color","var(--cata-color-gray)")},m(M,x){h(M,e,x),d(e,t),d(e,i),d(e,r),h(M,s,x),h(M,a,x),d(a,f),d(f,u),d(f,c),d(c,_);for(let ne=0;ne<L.length;ne+=1)L[ne].m(_,null);P&&P.m(_,null),d(a,g),d(a,y),d(y,T),h(M,R,x),U&&U.m(M,x),h(M,C,x);for(let ne=0;ne<G.length;ne+=1)G[ne].m(M,x);h(M,B,x),D=!0},p(M,[x]){if((!D||x&1)&&o!==(o=it(M[0])+"")&&K(r,o),x&9){j=M[0].flags??[];let ne;for(ne=0;ne<j.length;ne+=1){const F=_m(M,j,ne);L[ne]?L[ne].p(F,x):(L[ne]=mm(F),L[ne].c(),L[ne].m(_,null))}for(;ne<L.length;ne+=1)L[ne].d(1);L.length=j.length,!j.length&&P?P.p(M,x):j.length?P&&(P.d(1),P=null):(P=dm(),P.c(),P.m(_,null))}if((!D||x&1)&&k!==(k=Qt(M[0].description)+"")&&K(T,k),M[2].length&&U.p(M,x),x&6){q=M[2];let ne;for(ne=0;ne<q.length;ne+=1){const F=fm(M,q,ne);G[ne]?(G[ne].p(F,x),b(G[ne],1)):(G[ne]=$m(F),G[ne].c(),b(G[ne],1),G[ne].m(B.parentNode,B))}for(re(),ne=q.length;ne<G.length;ne+=1)Z(ne);oe()}},i(M){if(!D){for(let x=0;x<q.length;x+=1)b(G[x]);D=!0}},o(M){G=G.filter(Boolean);for(let x=0;x<G.length;x+=1)$(G[x]);D=!1},d(M){M&&p(e),M&&p(s),M&&p(a),we(L,M),P&&P.d(),M&&p(R),U&&U.d(M),M&&p(C),we(G,M),M&&p(B)}}}const Ys="Fault";function y5(l,e,n){const t=qt("data");let{item:i}=e;const o=(i.mending_methods??[]).map(a=>{const f=typeof a.requirements=="string"?[[t.byId("requirement",a.requirements),1]]:Array.isArray(a.requirements)?a.requirements.map(([_,g])=>[t.byId("requirement",_),g]):[[a.requirements,1]],u=t.normalizeRequirementUsing(f),c=t.flattenRequirement(u.components,_=>_.components);return{mending_method:a,components:c,requirement:u}}),r={NO_ALTERNATOR_CHARGE:"The alternator connected to this engine does not work.",BAD_COLD_START:"The engine starts as if the temperature was 20 F colder. Does not stack with multiples of itself.",IMMOBILIZER:"Prevents engine from starting and makes it beep.",BAD_FUEL_PUMP:"Prevents engine from starting and makes it stutter.",BAD_STARTER:"Prevents engine from starting and makes click noise.",DOUBLE_FUEL_CONSUMPTION:"Doubles fuel consumption of the engine. Does not stack with multiples of itself.",EXTRA_EXHAUST:"Makes the engine emit more exhaust smoke. Does not stack with multiples of itself.",REDUCE_ENG_POWER:"Multiplies engine power by 0.6. Does not stack with multiples of itself.",ENG_BACKFIRE:"Causes the engine to backfire as if it had zero hp.",BLACKPOWDER_FOULING_DAMAGE:"Causes the gun to take random acid damage over time.",NO_DIRTYING:"Prevents the gun from receiving `fault_gun_dirt` fault.",JAMMED_GUN:"Stops burst fire. Adds delay on next shot.",UNLUBRICATED:"Randomly causes screeching noise when firing and applies damage when that happens.",BAD_CYCLING:"One in 16 chance that the gun fails to cycle when fired resulting in `fault_gun_chamber_spent` fault."},s=a=>({...a,item:t.byId("item",a.id)});return l.$$set=a=>{"item"in a&&n(0,i=a.item)},[i,t,o,r,s]}class k5 extends Et{constructor(e){super(),wt(this,e,y5,v5,$t,{item:0})}}function vm(l,e,n){const t=l.slice();return t[8]=e[n],t}function ym(l,e,n){const t=l.slice();return t[11]=e[n],t[13]=n,t}function km(l,e,n){const t=l.slice();return t[11]=e[n],t[13]=n,t}function wm(l){let e,n,t,i,o=l[2],r=[];for(let s=0;s<o.length;s+=1)r[s]=Em(km(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Excess",{_context:dl})}`,n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a&5){o=s[2];let f;for(f=0;f<o.length;f+=1){const u=km(s,o,f);r[f]?r[f].p(u,a):(r[f]=Em(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function Em(l){let e,n=Qt(l[11])+"",t,i,o=l[0].disease_excess[l[13]][0]+"",r,s,a=l[0].disease_excess[l[13]][1]+"",f,u;return{c(){e=m("li"),t=w(n),i=w(" ("),r=w(o),s=w("→"),f=w(a),u=w(")")},m(c,_){h(c,e,_),d(e,t),d(e,i),d(e,r),d(e,s),d(e,f),d(e,u)},p(c,_){_&1&&o!==(o=c[0].disease_excess[c[13]][0]+"")&&K(r,o),_&1&&a!==(a=c[0].disease_excess[c[13]][1]+"")&&K(f,a)},d(c){c&&p(e)}}}function Sm(l){let e,n,t,i,o=l[3],r=[];for(let s=0;s<o.length;s+=1)r[s]=Tm(ym(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Deficiency",{_context:dl})}`,n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a&9){o=s[3];let f;for(f=0;f<o.length;f+=1){const u=ym(s,o,f);r[f]?r[f].p(u,a):(r[f]=Tm(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function Tm(l){let e,n=Qt(l[11])+"",t,i,o=l[0].disease[l[13]][0]+"",r,s,a=l[0].disease[l[13]][1]+"",f,u;return{c(){e=m("li"),t=w(n),i=w(" ("),r=w(o),s=w("→"),f=w(a),u=w(")")},m(c,_){h(c,e,_),d(e,t),d(e,i),d(e,r),d(e,s),d(e,f),d(e,u)},p(c,_){_&1&&o!==(o=c[0].disease[c[13]][0]+"")&&K(r,o),_&1&&a!==(a=c[0].disease[c[13]][1]+"")&&K(f,a)},d(c){c&&p(e)}}}function w5(l){let e,n,t,i=(typeof l[0].rate=="string"?l[0].rate.replace(/-/,""):-(l[0].rate??0))+"",o,r;return{c(){e=m("dt"),e.textContent=`${O.t("Generation Rate",{_context:dl})}`,n=m("dd"),t=w("1 / "),o=w(i),r=N()},m(s,a){h(s,e,a),h(s,n,a),d(n,t),d(n,o),d(n,r)},p(s,a){a&1&&i!==(i=(typeof s[0].rate=="string"?s[0].rate.replace(/-/,""):-(s[0].rate??0))+"")&&K(o,i)},d(s){s&&p(e),s&&p(n)}}}function E5(l){let e,n,t,i=(l[0].rate??"0 m")+"",o;return{c(){e=m("dt"),e.textContent=`${O.t("Decay Rate",{_context:dl})}`,n=m("dd"),t=w("–1 / "),o=w(i)},m(r,s){h(r,e,s),h(r,n,s),d(n,t),d(n,o)},p(r,s){s&1&&i!==(i=(r[0].rate??"0 m")+"")&&K(o,i)},d(r){r&&p(e),r&&p(n)}}}function Cm(l){let e,n,t,i,o=l[0].decays_into,r=[];for(let a=0;a<o.length;a+=1)r[a]=Om(vm(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Decays Into",{_context:dl})}`,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c();_e(t,"class","comma-separated and")},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f&1){o=a[0].decays_into;let u;for(u=0;u<o.length;u+=1){const c=vm(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=Om(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function Im(l){let e,n=l[8][1]+"",t;return{c(){e=w("×"),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&1&&n!==(n=i[8][1]+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function Om(l){let e,n,t;n=new ve({props:{id:l[8][0],type:"vitamin"}});let i=l[8][1]!==1&&Im(l);return{c(){e=m("li"),W(n.$$.fragment),i&&i.c()},m(o,r){h(o,e,r),H(n,e,null),i&&i.m(e,null),t=!0},p(o,r){const s={};r&1&&(s.id=o[8][0]),n.$set(s),o[8][1]!==1?i?i.p(o,r):(i=Im(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){o&&p(e),z(n),i&&i.d()}}}function S5(l){let e,n,t,i,o;return i=new Zt({props:{items:l[1],$$slots:{default:[T5,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Comestibles",{_context:dl})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&32897&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function T5(l){let e,n,t=l[7].pct+"",i,o=l[0].vit_type==="counter"?" U":"% RDA",r,s,a;return e=new ve({props:{id:l[7].comestible.id,type:"item"}}),{c(){W(e.$$.fragment),n=w(" ("),i=w(t),r=w(o),s=w(")")},m(f,u){H(e,f,u),h(f,n,u),h(f,i,u),h(f,r,u),h(f,s,u),a=!0},p(f,u){const c={};u&128&&(c.id=f[7].comestible.id),e.$set(c),(!a||u&128)&&t!==(t=f[7].pct+"")&&K(i,t),(!a||u&1)&&o!==(o=f[0].vit_type==="counter"?" U":"% RDA")&&K(r,o)},i(f){a||(b(e.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),a=!1},d(f){z(e,f),f&&p(n),f&&p(i),f&&p(r),f&&p(s)}}}function C5(l){var me,Q,ee;let e,n=O.t("Vitamin")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_=l[0].vit_type+"",g,y,k,T,R=(l[0].min??0)+"",C,B,D,j=(l[0].max??0)+"",L,P,U,q,G,Z,M,x=l[0].excess&&((me=l[0].disease_excess)==null?void 0:me.length)&&wm(l),ne=l[0].deficiency&&((Q=l[0].disease)==null?void 0:Q.length)&&Sm(l);function F(le,ue){if(ue&1&&(P=null),ue&1&&(U=null),P==null&&(P=ar(le[0].rate??"0 m")>0),P)return E5;if(U==null&&(U=ar(le[0].rate??"0 m")<0),U)return w5}let X=F(l,-1),J=X&&X(l),V=((ee=l[0].decays_into)==null?void 0:ee.length)&&Cm(l),se=l[1].length&&S5(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("dl"),u=m("dt"),u.textContent=`${O.t("Type",{_context:dl})}`,c=m("dd"),g=w(_),x&&x.c(),y=fe(),ne&&ne.c(),k=m("dt"),k.textContent=`${O.t("Min",{_context:dl})}`,T=m("dd"),C=w(R),B=m("dt"),B.textContent=`${O.t("Max",{_context:dl})}`,D=m("dd"),L=w(j),J&&J.c(),q=fe(),V&&V.c(),G=N(),se&&se.c(),Z=fe()},m(le,ue){h(le,e,ue),d(e,t),d(e,i),d(e,r),h(le,s,ue),h(le,a,ue),d(a,f),d(f,u),d(f,c),d(c,g),x&&x.m(f,null),d(f,y),ne&&ne.m(f,null),d(f,k),d(f,T),d(T,C),d(f,B),d(f,D),d(D,L),J&&J.m(f,null),d(f,q),V&&V.m(f,null),h(le,G,ue),se&&se.m(le,ue),h(le,Z,ue),M=!0},p(le,[ue]){var be,Le,ke;(!M||ue&1)&&o!==(o=it(le[0])+"")&&K(r,o),(!M||ue&1)&&_!==(_=le[0].vit_type+"")&&K(g,_),le[0].excess&&((be=le[0].disease_excess)!=null&&be.length)?x?x.p(le,ue):(x=wm(le),x.c(),x.m(f,y)):x&&(x.d(1),x=null),le[0].deficiency&&((Le=le[0].disease)!=null&&Le.length)?ne?ne.p(le,ue):(ne=Sm(le),ne.c(),ne.m(f,k)):ne&&(ne.d(1),ne=null),(!M||ue&1)&&R!==(R=(le[0].min??0)+"")&&K(C,R),(!M||ue&1)&&j!==(j=(le[0].max??0)+"")&&K(L,j),X===(X=F(le,ue))&&J?J.p(le,ue):(J&&J.d(1),J=X&&X(le),J&&(J.c(),J.m(f,q))),(ke=le[0].decays_into)!=null&&ke.length?V?(V.p(le,ue),ue&1&&b(V,1)):(V=Cm(le),V.c(),b(V,1),V.m(f,null)):V&&(re(),$(V,1,1,()=>{V=null}),oe()),le[1].length&&se.p(le,ue)},i(le){M||(b(V),b(se),M=!0)},o(le){$(V),$(se),M=!1},d(le){le&&p(e),le&&p(s),le&&p(a),x&&x.d(),ne&&ne.d(),J&&J.d(),V&&V.d(),le&&p(G),se&&se.d(le),le&&p(Z)}}}const dl="Vitamin";function I5(l,e,n){let{item:t}=e;const i=qt("data"),o=i.byType("item").filter(u=>u.type==="COMESTIBLE"&&u.id&&(u.vitamins??[]).some(c=>c[0]===t.id)).map(u=>({comestible:u,pct:u.vitamins.find(_=>_[0]===t.id)[1]})),r=i.byType("item").filter(u=>Pr(u.use_action).some(c=>c.type==="consume_drug"&&(c.vitamins??[]).some(_=>_[0]===t.id))).map(u=>({comestible:u,pct:Pr(u.use_action).filter(c=>c.type==="consume_drug").map(c=>c.vitamins??[]).flat().find(c=>c[0]===t.id)[1]})),s=o.concat(r);s.sort((u,c)=>c.pct-u.pct===0?it(u.comestible).localeCompare(it(c.comestible)):c.pct-u.pct);const a=t.excess?i.byId("effect_type",t.excess).name??[]:[],f=t.deficiency?i.byId("effect_type",t.deficiency).name??[]:[];return l.$$set=u=>{"item"in u&&n(0,t=u.item)},[t,s,a,f]}class O5 extends Et{constructor(e){super(),wt(this,e,I5,C5,$t,{item:0})}}function Rm(l,e,n){const t=l.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function Nm(l,e,n){const t=l.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function Am(l,e,n){const t=l.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function Bm(l,e,n){const t=l.slice();return t[12]=e[n],t}function Mm(l,e,n){const t=l.slice();return t[15]=e[n].id,t[16]=e[n].count,t[17]=e[n].prob,t}function Dm(l,e,n){const t=l.slice();return t[15]=e[n].id,t}function Lm(l,e,n){const t=l.slice();return t[22]=e[n][0],t[7]=e[n][1],t}function Fm(l,e,n){const t=l.slice();return t[25]=e[n],t}function R5(l){let e,n,t,i;return t=new ve({props:{type:"item",id:l[0].fuel_type}}),{c(){e=m("dt"),e.textContent=`${O.t("Charge",{_context:An})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].fuel_type),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function N5(l){let e,n,t,i,o,r=l[0].fuel_options,s=[];for(let f=0;f<r.length;f+=1)s[f]=Pm(Fm(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Charge",{_context:An})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated or")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&1){r=f[0].fuel_options;let c;for(c=0;c<r.length;c+=1){const _=Fm(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Pm(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Pm(l){let e,n,t;return n=new ve({props:{type:"item",id:l[25]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o&1&&(r.id=i[25]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function jm(l){let e,n,t=(l[0].contact_area??1)+"",i,o,r,s,a=(l[0].rolling_resistance??1)+"",f,u=l[0].wheel_type&&Um(l);return{c(){u&&u.c(),e=m("dt"),e.textContent="Contact Area",n=m("dd"),i=w(t),o=w(" cm²"),r=m("dt"),r.textContent="Rolling Resistance",s=m("dd"),f=w(a)},m(c,_){u&&u.m(c,_),h(c,e,_),h(c,n,_),d(n,i),d(n,o),h(c,r,_),h(c,s,_),d(s,f)},p(c,_){c[0].wheel_type?u?u.p(c,_):(u=Um(c),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),_&1&&t!==(t=(c[0].contact_area??1)+"")&&K(i,t),_&1&&a!==(a=(c[0].rolling_resistance??1)+"")&&K(f,a)},d(c){u&&u.d(c),c&&p(e),c&&p(n),c&&p(r),c&&p(s)}}}function Um(l){let e,n,t=l[0].wheel_type+"",i;return{c(){e=m("dt"),e.textContent="Wheel Type",n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].wheel_type+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Gm(l){let e,n,t=wl(l[0].size)+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Capacity",{_context:An})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=wl(o[0].size)+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function qm(l){let e,n,t=wl(l[0].folded_volume)+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Folded Volume",{_context:An})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=wl(o[0].folded_volume)+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Ym(l){let e,n,t,i,o,r=l[0].qualities,s=[];for(let f=0;f<r.length;f+=1)s[f]=Hm(Lm(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Qualities",{_context:An})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","no-bullets")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&1){r=f[0].qualities;let c;for(c=0;c<r.length;c+=1){const _=Lm(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Hm(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Hm(l){let e,n,t,i=(l[7]??1)+"",o,r,s,a,f;return s=new ve({props:{type:"tool_quality",id:l[22]}}),{c(){e=m("li"),n=w("Has level "),t=m("strong"),o=w(i),r=N(),W(s.$$.fragment),a=w(` quality.
            `)},m(u,c){h(u,e,c),d(e,n),d(e,t),d(t,o),d(t,r),H(s,t,null),d(e,a),f=!0},p(u,c){(!f||c&1)&&i!==(i=(u[7]??1)+"")&&K(o,i);const _={};c&1&&(_.id=u[22]),s.$set(_)},i(u){f||(b(s.$$.fragment,u),f=!0)},o(u){$(s.$$.fragment,u),f=!1},d(u){u&&p(e),z(s)}}}function zm(l){let e,n,t=l[0].comfort+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Comfort",{_context:An})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].comfort+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Wm(l){let e,n,t=l[0].floor_bedding_warmth+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Bedding Warmth",{_context:An})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].floor_bedding_warmth+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Vm(l){let e,n,t=l[0].epower+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Electric Power",{_context:An})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&1&&t!==(t=o[0].epower+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Xm(l){let e,n,t=l[0].energy_consumption+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Energy Consumption",{_context:An})}`,n=m("dd"),i=w(t),o=w(" / sec")},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p(r,s){s&1&&t!==(t=r[0].energy_consumption+"")&&K(i,t)},d(r){r&&p(e),r&&p(n)}}}function Jm(l){let e,n,t=l[0].power+"",i,o,r,s=l[0].muscle_power_factor&&Km(l);return{c(){e=m("dt"),e.textContent=`${O.t("Power",{_context:An})}`,n=m("dd"),i=w(t),o=N(),s&&s.c(),r=N()},m(a,f){h(a,e,f),h(a,n,f),d(n,i),d(n,o),s&&s.m(n,null),d(n,r)},p(a,f){f&1&&t!==(t=a[0].power+"")&&K(i,t),a[0].muscle_power_factor?s?s.p(a,f):(s=Km(a),s.c(),s.m(n,r)):s&&(s.d(1),s=null)},d(a){a&&p(e),a&&p(n),s&&s.d()}}}function Km(l){let e,n=l[0].muscle_power_factor+"",t;return{c(){e=w("+ (str − 8) × "),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&1&&n!==(n=i[0].muscle_power_factor+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function Zm(l){let e,n=l[1](l[0])+"",t,i,o=l[0].bonus+"",r;return{c(){e=m("dt"),t=w(n),i=m("dd"),r=w(o)},m(s,a){h(s,e,a),d(e,t),h(s,i,a),d(i,r)},p(s,a){a&1&&n!==(n=s[1](s[0])+"")&&K(t,n),a&1&&o!==(o=s[0].bonus+"")&&K(r,o)},d(s){s&&p(e),s&&p(i)}}}function Qm(l){let e,n,t,i,o,r=l[0].pseudo_tools,s=[];for(let f=0;f<r.length;f+=1)s[f]=xm(Dm(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Provides",{_context:An,_comment:"List of tools that the vehicle part acts as"})} 
      `,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&1){r=f[0].pseudo_tools;let c;for(c=0;c<r.length;c+=1){const _=Dm(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=xm(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function xm(l){let e,n;return e=new ve({props:{type:"item",id:l[15]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[15]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function A5(l){let e,n,t,i,o,r=l[3],s=[];for(let f=0;f<r.length;f+=1)s[f]=ep(Mm(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Breaks Into",{_context:An,_comment:"List of possible parts obtained by bashing the vehicle part"})} 
      `,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&8){r=f[3];let c;for(c=0;c<r.length;c+=1){const _=Mm(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=ep(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function B5(l){let e,n=fr(l[17])+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function ep(l){let e,n,t;n=new ve({props:{id:l[15],count:l[16],type:"item"}});let i=l[17]!==1&&B5(l);return{c(){e=m("li"),W(n.$$.fragment),i&&i.c()},m(o,r){h(o,e,r),H(n,e,null),i&&i.m(e,null),t=!0},p(o,r){o[17]!==1&&i.p(o,r)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){o&&p(e),z(n),i&&i.d()}}}function tp(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function np(l){let e,n,t;return n=new ve({props:{type:"json_flag",id:l[12]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o&1&&(r.id=i[12]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function ip(l){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function M5(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function D5(l){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function lp(l){let e,n,t=l[7]+"",i,o,r,s;e=new ve({props:{type:"skill",id:l[6]}});function a(c,_){var g,y,k,T,R,C;if(c[9]+2===((k=(y=(g=c[0].requirements)==null?void 0:g.install)==null?void 0:y.skills)==null?void 0:k.length))return D5;if(c[9]+1!==((C=(R=(T=c[0].requirements)==null?void 0:T.install)==null?void 0:R.skills)==null?void 0:C.length))return M5}let f=a(l),u=f&&f(l);return{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),u&&u.c(),r=fe()},m(c,_){H(e,c,_),h(c,n,_),h(c,i,_),h(c,o,_),u&&u.m(c,_),h(c,r,_),s=!0},p(c,_){const g={};_&1&&(g.id=c[6]),e.$set(g),(!s||_&1)&&t!==(t=c[7]+"")&&K(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(n),c&&p(i),c&&p(o),u&&u.d(c),c&&p(r)}}}function rp(l){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function L5(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function F5(l){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function op(l){let e,n,t=l[7]+"",i,o,r,s;e=new ve({props:{type:"skill",id:l[6]}});function a(c,_){var g,y,k,T,R,C;if(c[9]+2===((k=(y=(g=c[0].requirements)==null?void 0:g.removal)==null?void 0:y.skills)==null?void 0:k.length))return F5;if(c[9]+1!==((C=(R=(T=c[0].requirements)==null?void 0:T.removal)==null?void 0:R.skills)==null?void 0:C.length))return L5}let f=a(l),u=f&&f(l);return{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),u&&u.c(),r=fe()},m(c,_){H(e,c,_),h(c,n,_),h(c,i,_),h(c,o,_),u&&u.m(c,_),h(c,r,_),s=!0},p(c,_){const g={};_&1&&(g.id=c[6]),e.$set(g),(!s||_&1)&&t!==(t=c[7]+"")&&K(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(n),c&&p(i),c&&p(o),u&&u.d(c),c&&p(r)}}}function sp(l){let e,n;return e=new qo({props:{requirement:l[0].requirements.removal}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.requirement=t[0].requirements.removal),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function fp(l){var D,j,L;let e,n,t,i,o,r,s,a,f,u=(((j=(D=l[0].requirements)==null?void 0:D.repair)==null?void 0:j.time)??"1 hour")+"",c,_,g,y,k,T=((L=l[0].requirements.repair)==null?void 0:L.skills)??[],R=[];for(let P=0;P<T.length;P+=1)R[P]=up(Rm(l,T,P));const C=P=>$(R[P],1,1,()=>{R[P]=null});let B=null;return T.length||(B=ap()),_=new qo({props:{requirement:l[0].requirements.repair}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Repair",{_context:An})}`,t=N(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Skills Required")}`,r=m("dd");for(let P=0;P<R.length;P+=1)R[P].c();B&&B.c(),s=N(),a=m("dt"),a.textContent=`${O.t("Time",{_context:An,_comment:"Time taken to perform the action"})} 
      `,f=m("dd"),c=w(u),W(_.$$.fragment),g=N(),y=m("p"),y.textContent=`${O.t("Repair time and requirements are lower for parts that are less damaged.")}`,_e(a,"title","Time required goes down with better skills"),Bt(y,"color","var(--cata-color-gray)"),Bt(y,"font-style","italic")},m(P,U){h(P,e,U),d(e,n),d(e,t),d(e,i),d(i,o),d(i,r);for(let q=0;q<R.length;q+=1)R[q].m(r,null);B&&B.m(r,null),d(r,s),d(i,a),d(i,f),d(f,c),H(_,i,null),d(e,g),d(e,y),k=!0},p(P,U){var G,Z,M;if(U&1){T=((G=P[0].requirements.repair)==null?void 0:G.skills)??[];let x;for(x=0;x<T.length;x+=1){const ne=Rm(P,T,x);R[x]?(R[x].p(ne,U),b(R[x],1)):(R[x]=up(ne),R[x].c(),b(R[x],1),R[x].m(r,s))}for(re(),x=T.length;x<R.length;x+=1)C(x);oe(),!T.length&&B?B.p(P,U):T.length?B&&(B.d(1),B=null):(B=ap(),B.c(),B.m(r,s))}(!k||U&1)&&u!==(u=(((M=(Z=P[0].requirements)==null?void 0:Z.repair)==null?void 0:M.time)??"1 hour")+"")&&K(c,u);const q={};U&1&&(q.requirement=P[0].requirements.repair),_.$set(q)},i(P){if(!k){for(let U=0;U<T.length;U+=1)b(R[U]);b(_.$$.fragment,P),k=!0}},o(P){R=R.filter(Boolean);for(let U=0;U<R.length;U+=1)$(R[U]);$(_.$$.fragment,P),k=!1},d(P){P&&p(e),we(R,P),B&&B.d(),z(_)}}}function ap(l){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function P5(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function j5(l){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function up(l){let e,n,t=l[7]+"",i,o,r,s;e=new ve({props:{type:"skill",id:l[6]}});function a(c,_){var g,y,k,T,R,C;if(c[9]+2===((k=(y=(g=c[0].requirements)==null?void 0:g.repair)==null?void 0:y.skills)==null?void 0:k.length))return j5;if(c[9]+1!==((C=(R=(T=c[0].requirements)==null?void 0:T.repair)==null?void 0:R.skills)==null?void 0:C.length))return P5}let f=a(l),u=f&&f(l);return{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),u&&u.c(),r=fe()},m(c,_){H(e,c,_),h(c,n,_),h(c,i,_),h(c,o,_),u&&u.m(c,_),h(c,r,_),s=!0},p(c,_){const g={};_&1&&(g.id=c[6]),e.$set(g),(!s||_&1)&&t!==(t=c[7]+"")&&K(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(n),c&&p(i),c&&p(o),u&&u.d(c),c&&p(r)}}}function U5(l){let e,n,t,i,o;return i=new Zt({props:{items:l[4],$$slots:{default:[G5,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Vehicles",{_context:An,_comment:"Heading for list of vehicles which contain this vehicle part"})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&268435457&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function G5(l){let e,n;return e=new ve({props:{type:"vehicle",id:l[0].id}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function q5(l){var Pn,Mn,Dn,Yn,In,Tn,On,Rn,oi,si,fi,Ui,Gi,ce,Qe,Ri,hn,Jn,Kn;let e,n,t,i=(l[0].name?it(l[0]):l[0].item?it(l[2].byId("item",l[0].item)):l[0].id)+"",o,r,s,a,f,u,c,_,g,y,k,T=ur(l[2].byId("item",l[0].item).weight??0)+"",R,C,B,D,j,L=(l[0].durability??0)+"",P,U=(Pn=l[0].flags)==null?void 0:Pn.includes("WHEEL"),q,G,Z,M,x,ne,F,X=(l[0].damage_modifier??100)+"",J,V,se,me,Q,ee=l[0].bonus&&l[1](l[0]),le,ue,be,Le,ke,Ee,Te,Re=Qt(l[0].description??l[2].byId("item",l[0].item).description??"")+"",He,he,Ce,De,Oe,Ke,xe,mt,ye,et,je,ct,We=(((Dn=(Mn=l[0].requirements)==null?void 0:Mn.install)==null?void 0:Dn.time)??"1 hour")+"",qe,Ve,kt,ht,Rt,Ge,pe,$e,ae,Ye,pt,ut,at=(((In=(Yn=l[0].requirements)==null?void 0:Yn.removal)==null?void 0:In.time)??Ef(`${ar(((On=(Tn=l[0].requirements)==null?void 0:Tn.install)==null?void 0:On.time)??"1 hour")/2} s`))+"",lt,ot,rt,tt,Ne,Ie;n=new Lt({props:{item:l[0]}}),g=new ve({props:{id:l[0].item,type:"item"}});const dt=[N5,R5],It=[];function Ft(Se,st){var en;return(en=Se[0].fuel_options)!=null&&en.length?0:Se[0].fuel_type?1:-1}~(C=Ft(l))&&(B=It[C]=dt[C](l));let jt=U&&jm(l),Tt=l[0].size&&Gm(l),Fe=l[0].folded_volume&&qm(l),ft=((Rn=l[0].qualities)==null?void 0:Rn.length)&&Ym(l),Xt=l[0].comfort&&zm(l),an=l[0].floor_bedding_warmth&&Wm(l),Me=l[0].epower&&Vm(l),Xe=l[0].energy_consumption&&Xm(l),Wt=l[0].power&&Jm(l),fn=ee&&Zm(l),ln=((oi=l[0].pseudo_tools)==null?void 0:oi.length)&&Qm(l),vn=((si=l[3])==null?void 0:si.length)&&A5(l),rn=l[0].flags??[],xt=[];for(let Se=0;Se<rn.length;Se+=1)xt[Se]=np(Bm(l,rn,Se));const ze=Se=>$(xt[Se],1,1,()=>{xt[Se]=null});let _n=null;rn.length||(_n=tp());let Kt=((Ui=(fi=l[0].requirements)==null?void 0:fi.install)==null?void 0:Ui.skills)??[],At=[];for(let Se=0;Se<Kt.length;Se+=1)At[Se]=lp(Am(l,Kt,Se));const Pt=Se=>$(At[Se],1,1,()=>{At[Se]=null});let on=null;Kt.length||(on=ip()),Ve=new qo({props:{requirement:{...((Gi=l[0].requirements)==null?void 0:Gi.install)??{},components:(((Qe=(ce=l[0].requirements)==null?void 0:ce.install)==null?void 0:Qe.components)??[]).concat([[[l[0].item,1]]])}}});let jn=((hn=(Ri=l[0].requirements)==null?void 0:Ri.removal)==null?void 0:hn.skills)??[],un=[];for(let Se=0;Se<jn.length;Se+=1)un[Se]=op(Nm(l,jn,Se));const Fn=Se=>$(un[Se],1,1,()=>{un[Se]=null});let wn=null;jn.length||(wn=rp());let nn=((Jn=l[0].requirements)==null?void 0:Jn.removal)&&sp(l),dn=((Kn=l[0].requirements)==null?void 0:Kn.repair)&&fp(l),mn=l[4].length&&U5(l);return{c(){e=m("h1"),W(n.$$.fragment),t=N(),o=w(i),r=N(),s=m("section"),a=m("h1"),a.textContent=`${O.t("Vehicle Part")}`,f=N(),u=m("dl"),c=m("dt"),c.textContent=`${O.t("Item")}`,_=m("dd"),W(g.$$.fragment),y=m("dt"),y.textContent=`${O.t("Weight")}`,k=m("dd"),R=w(T),B&&B.c(),D=m("dt"),D.textContent=`${O.t("Durability",{_context:An})} 
    `,j=m("dd"),P=w(L),jt&&jt.c(),q=fe(),Tt&&Tt.c(),G=fe(),Fe&&Fe.c(),Z=fe(),ft&&ft.c(),M=fe(),Xt&&Xt.c(),x=fe(),an&&an.c(),ne=m("dt"),ne.textContent=`${O.t("Damage",{_context:An})}`,F=m("dd"),J=w(X),V=w("%"),Me&&Me.c(),se=fe(),Xe&&Xe.c(),me=fe(),Wt&&Wt.c(),Q=fe(),fn&&fn.c(),le=fe(),ln&&ln.c(),ue=fe(),vn&&vn.c(),be=m("dt"),be.textContent=`${O.t("Flags")}`,Le=m("dd"),ke=m("ul");for(let Se=0;Se<xt.length;Se+=1)xt[Se].c();_n&&_n.c(),Ee=N(),Te=m("p"),He=w(Re),he=N(),Ce=m("div"),De=m("section"),Oe=m("h1"),Oe.textContent=`${O.t("Install",{_context:An})}`,Ke=N(),xe=m("dl"),mt=m("dt"),mt.textContent=`${O.t("Skills Required")}`,ye=m("dd");for(let Se=0;Se<At.length;Se+=1)At[Se].c();on&&on.c(),et=N(),je=m("dt"),je.textContent=`${O.t("Time",{_context:An,_comment:"Time taken to perform the action"})} 
      `,ct=m("dd"),qe=w(We),W(Ve.$$.fragment),kt=N(),ht=m("section"),Rt=m("h1"),Rt.textContent=`${O.t("Remove",{_context:An})}`,Ge=N(),pe=m("dl"),$e=m("dt"),$e.textContent=`${O.t("Skills Required")}`,ae=m("dd");for(let Se=0;Se<un.length;Se+=1)un[Se].c();wn&&wn.c(),Ye=N(),pt=m("dt"),pt.textContent=`${O.t("Time",{_context:An,_comment:"Time taken to perform the action"})} 
      `,ut=m("dd"),lt=w(at),ot=N(),nn&&nn.c(),rt=N(),dn&&dn.c(),tt=N(),mn&&mn.c(),Ne=fe(),_e(D,"title","Maximum damage part can sustain before being destroyed"),_e(ke,"class","comma-separated"),Bt(Te,"color","var(--cata-color-gray)"),_e(je,"title","Time required goes down with better skills"),_e(pt,"title","Time required goes down with better skills"),_e(Ce,"class","side-by-side")},m(Se,st){h(Se,e,st),H(n,e,null),d(e,t),d(e,o),h(Se,r,st),h(Se,s,st),d(s,a),d(s,f),d(s,u),d(u,c),d(u,_),H(g,_,null),d(u,y),d(u,k),d(k,R),~C&&It[C].m(u,null),d(u,D),d(u,j),d(j,P),jt&&jt.m(u,null),d(u,q),Tt&&Tt.m(u,null),d(u,G),Fe&&Fe.m(u,null),d(u,Z),ft&&ft.m(u,null),d(u,M),Xt&&Xt.m(u,null),d(u,x),an&&an.m(u,null),d(u,ne),d(u,F),d(F,J),d(F,V),Me&&Me.m(u,null),d(u,se),Xe&&Xe.m(u,null),d(u,me),Wt&&Wt.m(u,null),d(u,Q),fn&&fn.m(u,null),d(u,le),ln&&ln.m(u,null),d(u,ue),vn&&vn.m(u,null),d(u,be),d(u,Le),d(Le,ke);for(let en=0;en<xt.length;en+=1)xt[en].m(ke,null);_n&&_n.m(ke,null),d(s,Ee),d(s,Te),d(Te,He),h(Se,he,st),h(Se,Ce,st),d(Ce,De),d(De,Oe),d(De,Ke),d(De,xe),d(xe,mt),d(xe,ye);for(let en=0;en<At.length;en+=1)At[en].m(ye,null);on&&on.m(ye,null),d(ye,et),d(xe,je),d(xe,ct),d(ct,qe),H(Ve,xe,null),d(Ce,kt),d(Ce,ht),d(ht,Rt),d(ht,Ge),d(ht,pe),d(pe,$e),d(pe,ae);for(let en=0;en<un.length;en+=1)un[en].m(ae,null);wn&&wn.m(ae,null),d(ae,Ye),d(pe,pt),d(pe,ut),d(ut,lt),d(ut,ot),nn&&nn.m(pe,null),h(Se,rt,st),dn&&dn.m(Se,st),h(Se,tt,st),mn&&mn.m(Se,st),h(Se,Ne,st),Ie=!0},p(Se,[st]){var xn,ei,ti,ni,di,mi,pi,hi,Qi,zn,xi,Tl,Cl,Je,Dt,Il,Ol,Rl,Nl;const en={};st&1&&(en.item=Se[0]),n.$set(en),(!Ie||st&1)&&i!==(i=(Se[0].name?it(Se[0]):Se[0].item?it(Se[2].byId("item",Se[0].item)):Se[0].id)+"")&&K(o,i);const Zn={};st&1&&(Zn.id=Se[0].item),g.$set(Zn),(!Ie||st&1)&&T!==(T=ur(Se[2].byId("item",Se[0].item).weight??0)+"")&&K(R,T);let Hn=C;if(C=Ft(Se),C===Hn?~C&&It[C].p(Se,st):(B&&(re(),$(It[Hn],1,1,()=>{It[Hn]=null}),oe()),~C?(B=It[C],B?B.p(Se,st):(B=It[C]=dt[C](Se),B.c()),b(B,1),B.m(u,D)):B=null),(!Ie||st&1)&&L!==(L=(Se[0].durability??0)+"")&&K(P,L),st&1&&(U=(xn=Se[0].flags)==null?void 0:xn.includes("WHEEL")),U?jt?jt.p(Se,st):(jt=jm(Se),jt.c(),jt.m(u,q)):jt&&(jt.d(1),jt=null),Se[0].size?Tt?Tt.p(Se,st):(Tt=Gm(Se),Tt.c(),Tt.m(u,G)):Tt&&(Tt.d(1),Tt=null),Se[0].folded_volume?Fe?Fe.p(Se,st):(Fe=qm(Se),Fe.c(),Fe.m(u,Z)):Fe&&(Fe.d(1),Fe=null),(ei=Se[0].qualities)!=null&&ei.length?ft?(ft.p(Se,st),st&1&&b(ft,1)):(ft=Ym(Se),ft.c(),b(ft,1),ft.m(u,M)):ft&&(re(),$(ft,1,1,()=>{ft=null}),oe()),Se[0].comfort?Xt?Xt.p(Se,st):(Xt=zm(Se),Xt.c(),Xt.m(u,x)):Xt&&(Xt.d(1),Xt=null),Se[0].floor_bedding_warmth?an?an.p(Se,st):(an=Wm(Se),an.c(),an.m(u,ne)):an&&(an.d(1),an=null),(!Ie||st&1)&&X!==(X=(Se[0].damage_modifier??100)+"")&&K(J,X),Se[0].epower?Me?Me.p(Se,st):(Me=Vm(Se),Me.c(),Me.m(u,se)):Me&&(Me.d(1),Me=null),Se[0].energy_consumption?Xe?Xe.p(Se,st):(Xe=Xm(Se),Xe.c(),Xe.m(u,me)):Xe&&(Xe.d(1),Xe=null),Se[0].power?Wt?Wt.p(Se,st):(Wt=Jm(Se),Wt.c(),Wt.m(u,Q)):Wt&&(Wt.d(1),Wt=null),st&1&&(ee=Se[0].bonus&&Se[1](Se[0])),ee?fn?fn.p(Se,st):(fn=Zm(Se),fn.c(),fn.m(u,le)):fn&&(fn.d(1),fn=null),(ti=Se[0].pseudo_tools)!=null&&ti.length?ln?(ln.p(Se,st),st&1&&b(ln,1)):(ln=Qm(Se),ln.c(),b(ln,1),ln.m(u,ue)):ln&&(re(),$(ln,1,1,()=>{ln=null}),oe()),(ni=Se[3])!=null&&ni.length&&vn.p(Se,st),st&1){rn=Se[0].flags??[];let Yt;for(Yt=0;Yt<rn.length;Yt+=1){const Mi=Bm(Se,rn,Yt);xt[Yt]?(xt[Yt].p(Mi,st),b(xt[Yt],1)):(xt[Yt]=np(Mi),xt[Yt].c(),b(xt[Yt],1),xt[Yt].m(ke,null))}for(re(),Yt=rn.length;Yt<xt.length;Yt+=1)ze(Yt);oe(),!rn.length&&_n?_n.p(Se,st):rn.length?_n&&(_n.d(1),_n=null):(_n=tp(),_n.c(),_n.m(ke,null))}if((!Ie||st&1)&&Re!==(Re=Qt(Se[0].description??Se[2].byId("item",Se[0].item).description??"")+"")&&K(He,Re),st&1){Kt=((mi=(di=Se[0].requirements)==null?void 0:di.install)==null?void 0:mi.skills)??[];let Yt;for(Yt=0;Yt<Kt.length;Yt+=1){const Mi=Am(Se,Kt,Yt);At[Yt]?(At[Yt].p(Mi,st),b(At[Yt],1)):(At[Yt]=lp(Mi),At[Yt].c(),b(At[Yt],1),At[Yt].m(ye,et))}for(re(),Yt=Kt.length;Yt<At.length;Yt+=1)Pt(Yt);oe(),!Kt.length&&on?on.p(Se,st):Kt.length?on&&(on.d(1),on=null):(on=ip(),on.c(),on.m(ye,et))}(!Ie||st&1)&&We!==(We=(((hi=(pi=Se[0].requirements)==null?void 0:pi.install)==null?void 0:hi.time)??"1 hour")+"")&&K(qe,We);const Qn={};if(st&1&&(Qn.requirement={...((Qi=Se[0].requirements)==null?void 0:Qi.install)??{},components:(((xi=(zn=Se[0].requirements)==null?void 0:zn.install)==null?void 0:xi.components)??[]).concat([[[Se[0].item,1]]])}),Ve.$set(Qn),st&1){jn=((Cl=(Tl=Se[0].requirements)==null?void 0:Tl.removal)==null?void 0:Cl.skills)??[];let Yt;for(Yt=0;Yt<jn.length;Yt+=1){const Mi=Nm(Se,jn,Yt);un[Yt]?(un[Yt].p(Mi,st),b(un[Yt],1)):(un[Yt]=op(Mi),un[Yt].c(),b(un[Yt],1),un[Yt].m(ae,Ye))}for(re(),Yt=jn.length;Yt<un.length;Yt+=1)Fn(Yt);oe(),jn.length?wn&&(wn.d(1),wn=null):wn||(wn=rp(),wn.c(),wn.m(ae,Ye))}(!Ie||st&1)&&at!==(at=(((Dt=(Je=Se[0].requirements)==null?void 0:Je.removal)==null?void 0:Dt.time)??Ef(`${ar(((Ol=(Il=Se[0].requirements)==null?void 0:Il.install)==null?void 0:Ol.time)??"1 hour")/2} s`))+"")&&K(lt,at),(Rl=Se[0].requirements)!=null&&Rl.removal?nn?(nn.p(Se,st),st&1&&b(nn,1)):(nn=sp(Se),nn.c(),b(nn,1),nn.m(pe,null)):nn&&(re(),$(nn,1,1,()=>{nn=null}),oe()),(Nl=Se[0].requirements)!=null&&Nl.repair?dn?(dn.p(Se,st),st&1&&b(dn,1)):(dn=fp(Se),dn.c(),b(dn,1),dn.m(tt.parentNode,tt)):dn&&(re(),$(dn,1,1,()=>{dn=null}),oe()),Se[4].length&&mn.p(Se,st)},i(Se){if(!Ie){b(n.$$.fragment,Se),b(g.$$.fragment,Se),b(B),b(ft),b(ln),b(vn);for(let st=0;st<rn.length;st+=1)b(xt[st]);for(let st=0;st<Kt.length;st+=1)b(At[st]);b(Ve.$$.fragment,Se);for(let st=0;st<jn.length;st+=1)b(un[st]);b(nn),b(dn),b(mn),Ie=!0}},o(Se){$(n.$$.fragment,Se),$(g.$$.fragment,Se),$(B),$(ft),$(ln),$(vn),xt=xt.filter(Boolean);for(let st=0;st<xt.length;st+=1)$(xt[st]);At=At.filter(Boolean);for(let st=0;st<At.length;st+=1)$(At[st]);$(Ve.$$.fragment,Se),un=un.filter(Boolean);for(let st=0;st<un.length;st+=1)$(un[st]);$(nn),$(dn),$(mn),Ie=!1},d(Se){Se&&p(e),z(n),Se&&p(r),Se&&p(s),z(g),~C&&It[C].d(),jt&&jt.d(),Tt&&Tt.d(),Fe&&Fe.d(),ft&&ft.d(),Xt&&Xt.d(),an&&an.d(),Me&&Me.d(),Xe&&Xe.d(),Wt&&Wt.d(),fn&&fn.d(),ln&&ln.d(),vn&&vn.d(),we(xt,Se),_n&&_n.d(),Se&&p(he),Se&&p(Ce),we(At,Se),on&&on.d(),z(Ve),we(un,Se),wn&&wn.d(),nn&&nn.d(),Se&&p(rt),dn&&dn.d(Se),Se&&p(tt),mn&&mn.d(Se),Se&&p(Ne)}}}const An="Vehicle Part";function Y5(l,e,n){let{item:t}=e;function i(f){const u=["LIGHT","CONE_LIGHT","WIDE_CONE_LIGHT","CIRCLE_LIGHT","DOME_LIGHT","AISLE_LIGHT","EVENTURN","ODDTURN","ATOMIC_LIGHT"],c=f.flags??[];if(c.includes("SEATBELT"))return O.t("Strength",{_context:An});if(c.includes("HORN"))return O.t("Noise",{_context:An});if(c.includes("MUFFLER"))return O.t("Noise Reduction",{_context:An});if(c.includes("VISION"))return O.t("Range",{_context:An});if(u.some(_=>c.includes(_)))return O.t("Light",{_context:An});if(c.includes("REAPER"))return O.t("Plant Harvested",{_context:An})}const o=qt("data"),r=typeof t.breaks_into=="string"?o.convertTopLevelItemGroup(o.byId("item_group",t.breaks_into)):Array.isArray(t.breaks_into)?{subtype:"collection",entries:t.breaks_into}:t.breaks_into?t.breaks_into:null,s=r&&o.flattenItemGroup(r),a=o.byType("vehicle").filter(f=>f.parts.some(u=>{var _;return(u.part?[{part:u.part,fuel:u.fuel}]:((_=u.parts)==null?void 0:_.map(g=>typeof g=="string"?{part:g}:g))??[]).some(g=>P0(o,g.part)[0]===t.id)}));return a.sort((f,u)=>it(f).localeCompare(it(u))),l.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,i,o,s,a]}class H5 extends Et{constructor(e){super(),wt(this,e,Y5,q5,$t,{item:0})}}function cp(l,e,n){const t=l.slice();return t[1]=e[n],t}function _p(l,e,n){const t=l.slice();return t[1]=e[n],t}function dp(l){let e,n,t,i,o,r=l[0].mult_bonuses??[],s=[];for(let u=0;u<r.length;u+=1)s[u]=hp(_p(l,r,u));let a=l[0].flat_bonuses??[],f=[];for(let u=0;u<a.length;u+=1)f[u]=bp(cp(l,a,u));return{c(){e=m("dt"),e.textContent=`${O.t("Bonus")}`,n=N(),t=m("dd"),i=m("ul");for(let u=0;u<s.length;u+=1)s[u].c();o=N();for(let u=0;u<f.length;u+=1)f[u].c()},m(u,c){h(u,e,c),h(u,n,c),h(u,t,c),d(t,i);for(let _=0;_<s.length;_+=1)s[_].m(i,null);d(i,o);for(let _=0;_<f.length;_+=1)f[_].m(i,null)},p(u,c){if(c&1){r=u[0].mult_bonuses??[];let _;for(_=0;_<r.length;_+=1){const g=_p(u,r,_);s[_]?s[_].p(g,c):(s[_]=hp(g),s[_].c(),s[_].m(i,o))}for(;_<s.length;_+=1)s[_].d(1);s.length=r.length}if(c&1){a=u[0].flat_bonuses??[];let _;for(_=0;_<a.length;_+=1){const g=cp(u,a,_);f[_]?f[_].p(g,c):(f[_]=bp(g),f[_].c(),f[_].m(i,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=a.length}},d(u){u&&p(e),u&&p(n),u&&p(t),we(s,u),we(f,u)}}}function mp(l){let e=l[1].type+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&1&&e!==(e=t[1].type+"")&&K(n,e)},d(t){t&&p(n)}}}function pp(l){let e,n=kn.__(So(l[1]["scaling-stat"]))+"",t;return{c(){e=w("of "),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&1&&n!==(n=kn.__(So(i[1]["scaling-stat"]))+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function hp(l){let e,n=To(l[1].stat),t,i=kn.__(Eo(l[1].stat))+"",o,r,s=(l[1].scale*100).toFixed(0)+"",a,f,u=n&&mp(l),c=l[1]["scaling-stat"]&&pp(l);return{c(){e=m("li"),u&&u.c(),t=N(),o=w(i),r=w(": "),a=w(s),f=w("% "),c&&c.c()},m(_,g){h(_,e,g),u&&u.m(e,null),d(e,t),d(e,o),d(e,r),d(e,a),d(e,f),c&&c.m(e,null)},p(_,g){g&1&&(n=To(_[1].stat)),n?u?u.p(_,g):(u=mp(_),u.c(),u.m(e,t)):u&&(u.d(1),u=null),g&1&&i!==(i=kn.__(Eo(_[1].stat))+"")&&K(o,i),g&1&&s!==(s=(_[1].scale*100).toFixed(0)+"")&&K(a,s),_[1]["scaling-stat"]?c?c.p(_,g):(c=pp(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(_){_&&p(e),u&&u.d(),c&&c.d()}}}function gp(l){let e=l[1].type+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&1&&e!==(e=t[1].type+"")&&K(n,e)},d(t){t&&p(n)}}}function z5(l){let e=l[1].scale<0?"":"+",n,t=l[1].scale+"",i;return{c(){n=w(e),i=w(t)},m(o,r){h(o,n,r),h(o,i,r)},p(o,r){r&1&&e!==(e=o[1].scale<0?"":"+")&&K(n,e),r&1&&t!==(t=o[1].scale+"")&&K(i,t)},d(o){o&&p(n),o&&p(i)}}}function W5(l){let e=l[1].scale<0?"":"+",n,t=(l[1].scale*100).toFixed(0)+"",i,o,r=kn.__(So(l[1]["scaling-stat"]))+"",s;return{c(){n=w(e),i=w(t),o=w("% of "),s=w(r)},m(a,f){h(a,n,f),h(a,i,f),h(a,o,f),h(a,s,f)},p(a,f){f&1&&e!==(e=a[1].scale<0?"":"+")&&K(n,e),f&1&&t!==(t=(a[1].scale*100).toFixed(0)+"")&&K(i,t),f&1&&r!==(r=kn.__(So(a[1]["scaling-stat"]))+"")&&K(s,r)},d(a){a&&p(n),a&&p(i),a&&p(o),a&&p(s)}}}function bp(l){let e,n=To(l[1].stat),t,i=kn.__(Eo(l[1].stat))+"",o,r,s,a=n&&gp(l);function f(_,g){return _[1]["scaling-stat"]?W5:z5}let u=f(l),c=u(l);return{c(){e=m("li"),a&&a.c(),t=N(),o=w(i),r=w(`:
          `),c.c(),s=N()},m(_,g){h(_,e,g),a&&a.m(e,null),d(e,t),d(e,o),d(e,r),c.m(e,null),d(e,s)},p(_,g){g&1&&(n=To(_[1].stat)),n?a?a.p(_,g):(a=gp(_),a.c(),a.m(e,t)):a&&(a.d(1),a=null),g&1&&i!==(i=kn.__(Eo(_[1].stat))+"")&&K(o,i),u===(u=f(_))&&c?c.p(_,g):(c.d(1),c=u(_),c&&(c.c(),c.m(e,s)))},d(_){_&&p(e),a&&a.d(),c.d()}}}function V5(l){let e,n=(l[0].mult_bonuses||l[0].flat_bonuses)&&dp(l);return{c(){n&&n.c(),e=fe()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,[i]){t[0].mult_bonuses||t[0].flat_bonuses?n?n.p(t,i):(n=dp(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ie,o:ie,d(t){n&&n.d(t),t&&p(e)}}}function Eo(l){switch(l){case"hit":return"Accuracy";case"crit_chance":return"Critical Hit Chance";case"dodge":return"Dodge";case"block":return"Block";case"block_effectiveness":return"Block effectiveness";case"speed":return"Speed";case"movecost":return"Move cost";case"damage":return"damage";case"armor":return"Armor";case"arpen":return"Armor penetration";case"target_armor_multiplier":return"Target armor multiplier";default:return""}}function So(l){switch(l){case"str":return"strength";case"dex":return"dexterity";case"int":return"intelligence";case"per":return"perception";default:return""}}function To(l){return l==="damage"||l==="armor"||l==="arpen"}function X5(l,e,n){let{item:t}=e;return l.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class Q0 extends Et{constructor(e){super(),wt(this,e,X5,V5,$t,{item:0})}}function $p(l,e,n){const t=l.slice();return t[3]=e[n],t}function vp(l,e,n){const t=l.slice();return t[6]=e[n].name,t[7]=e[n].level,t[9]=n,t}function yp(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function J5(l){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function K5(l){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function kp(l){let e,n,t=l[7]+"",i,o,r,s;e=new ve({props:{type:"skill",id:l[6]}});function a(c,_){var g,y;if(c[9]+2===((g=c[0].skill_requirements)==null?void 0:g.length))return K5;if(c[9]+1!==((y=c[0].skill_requirements)==null?void 0:y.length))return J5}let f=a(l),u=f&&f(l);return{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),u&&u.c(),r=fe()},m(c,_){H(e,c,_),h(c,n,_),h(c,i,_),h(c,o,_),u&&u.m(c,_),h(c,r,_),s=!0},p(c,_){const g={};_&1&&(g.id=c[6]),e.$set(g),(!s||_&1)&&t!==(t=c[7]+"")&&K(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),s=!1},d(c){z(e,c),c&&p(n),c&&p(i),c&&p(o),u&&u.d(c),c&&p(r)}}}function Z5(l){let e,n,t,i,o=l[2],r=[];for(let s=0;s<o.length;s+=1)r[s]=wp($p(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Required Buffs",{_context:Nr})}`,n=N(),t=m("dd"),i=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();_e(i,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),h(s,t,a),d(t,i);for(let f=0;f<r.length;f+=1)r[f].m(i,null)},p(s,a){if(a&6){o=s[2];let f;for(f=0;f<o.length;f+=1){const u=$p(s,o,f);r[f]?r[f].p(u,a):(r[f]=wp(u),r[f].c(),r[f].m(i,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),s&&p(t),we(r,s)}}}function Q5(l){let e,n=l[3]+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function x5(l){let e,n=it(l[1].get(l[3]))+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p(i,o){o&2&&n!==(n=it(i[1].get(i[3]))+"")&&K(t,n)},d(i){i&&p(e)}}}function wp(l){let e,n;function t(r,s){return s&2&&(e=null),e==null&&(e=!!r[1].has(r[3])),e?x5:Q5}let i=t(l,-1),o=i(l);return{c(){o.c(),n=fe()},m(r,s){o.m(r,s),h(r,n,s)},p(r,s){i===(i=t(r,s))&&o?o.p(r,s):(o.d(1),o=i(r),o&&(o.c(),o.m(n.parentNode,n)))},d(r){o.d(r),r&&p(n)}}}function Ep(l){let e,n,t;return{c(){e=m("dt"),e.textContent=`${O.t("Requires Adjacent Wall",{_context:Nr})}`,n=N(),t=m("dd"),t.textContent=`${O.t("Yes")}`},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},p:ie,d(i){i&&p(e),i&&p(n),i&&p(t)}}}function eB(l){let e,n,t,i,o,r,s,a,f,u=(l[0].melee_allowed?O.t("Yes"):O.t("No"))+"",c,_,g,y,k,T=(l[0].unarmed_allowed?O.t("Yes"):O.t("No"))+"",R,C,B,D,j,L=(l[0].unarmed_weapons_allowed??!0?O.t("Yes"):O.t("No"))+"",P,U,q=l[0].skill_requirements??[],G=[];for(let F=0;F<q.length;F+=1)G[F]=kp(vp(l,q,F));const Z=F=>$(G[F],1,1,()=>{G[F]=null});let M=null;q.length||(M=yp());let x=l[2].length&&Z5(l),ne=l[0].wall_adjacent&&Ep();return{c(){e=m("dt"),e.textContent=`${O.t("Required Skills")}`,n=N(),t=m("dd");for(let F=0;F<G.length;F+=1)G[F].c();M&&M.c(),i=N(),x&&x.c(),o=N(),ne&&ne.c(),r=N(),s=m("dt"),s.textContent=`${O.t("Melee Weapon Allowed",{_context:Nr})}`,a=N(),f=m("dd"),c=w(u),_=N(),g=m("dt"),g.textContent=`${O.t("Unarmed Allowed",{_context:Nr})}`,y=N(),k=m("dd"),R=w(T),C=N(),B=m("dt"),B.textContent=`${O.t("Unarmed Weapon Allowed",{_context:Nr})}`,D=N(),j=m("dd"),P=w(L)},m(F,X){h(F,e,X),h(F,n,X),h(F,t,X);for(let J=0;J<G.length;J+=1)G[J].m(t,null);M&&M.m(t,null),h(F,i,X),x&&x.m(F,X),h(F,o,X),ne&&ne.m(F,X),h(F,r,X),h(F,s,X),h(F,a,X),h(F,f,X),d(f,c),h(F,_,X),h(F,g,X),h(F,y,X),h(F,k,X),d(k,R),h(F,C,X),h(F,B,X),h(F,D,X),h(F,j,X),d(j,P),U=!0},p(F,[X]){if(X&1){q=F[0].skill_requirements??[];let J;for(J=0;J<q.length;J+=1){const V=vp(F,q,J);G[J]?(G[J].p(V,X),b(G[J],1)):(G[J]=kp(V),G[J].c(),b(G[J],1),G[J].m(t,null))}for(re(),J=q.length;J<G.length;J+=1)Z(J);oe(),!q.length&&M?M.p(F,X):q.length?M&&(M.d(1),M=null):(M=yp(),M.c(),M.m(t,null))}F[2].length&&x.p(F,X),F[0].wall_adjacent?ne?ne.p(F,X):(ne=Ep(),ne.c(),ne.m(r.parentNode,r)):ne&&(ne.d(1),ne=null),(!U||X&1)&&u!==(u=(F[0].melee_allowed?O.t("Yes"):O.t("No"))+"")&&K(c,u),(!U||X&1)&&T!==(T=(F[0].unarmed_allowed?O.t("Yes"):O.t("No"))+"")&&K(R,T),(!U||X&1)&&L!==(L=(F[0].unarmed_weapons_allowed??!0?O.t("Yes"):O.t("No"))+"")&&K(P,L)},i(F){if(!U){for(let X=0;X<q.length;X+=1)b(G[X]);U=!0}},o(F){G=G.filter(Boolean);for(let X=0;X<G.length;X+=1)$(G[X]);U=!1},d(F){F&&p(e),F&&p(n),F&&p(t),we(G,F),M&&M.d(),F&&p(i),x&&x.d(F),F&&p(o),ne&&ne.d(F),F&&p(r),F&&p(s),F&&p(a),F&&p(f),F&&p(_),F&&p(g),F&&p(y),F&&p(k),F&&p(C),F&&p(B),F&&p(D),F&&p(j)}}}const Nr="Martial Art";function tB(l,e,n){let{item:t}=e,{buffMap:i=new Map}=e;const o=typeof t.req_buffs=="string"?[t.req_buffs]:t.req_buffs??[];return l.$$set=r=>{"item"in r&&n(0,t=r.item),"buffMap"in r&&n(1,i=r.buffMap)},[t,i,o]}class x0 extends Et{constructor(e){super(),wt(this,e,tB,eB,$t,{item:0,buffMap:1})}}function Sp(l){let e,n,t;function i(s,a){if(s[1].weighting>1)return iB;if(s[1].weighting<-1)return nB}let o=i(l),r=o&&o(l);return{c(){e=m("dt"),e.textContent=`${O.t("Chance to Activate",{_context:zi})}`,n=m("dd"),r&&r.c(),t=N()},m(s,a){h(s,e,a),h(s,n,a),r&&r.m(n,null),d(n,t)},p(s,a){o===(o=i(s))&&r?r.p(s,a):(r&&r.d(1),r=o&&o(s),r&&(r.c(),r.m(n,t)))},d(s){s&&p(e),s&&p(n),r&&r.d()}}}function nB(l){let e,n=Math.abs(l[1].weighting)+"",t;return{c(){e=w("1/"),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&2&&n!==(n=Math.abs(i[1].weighting)+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function iB(l){let e,n=((l[1].weighting-1)*100).toFixed(0)+"",t,i;return{c(){e=w("+"),t=w(n),i=w("%")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p(o,r){r&2&&n!==(n=((o[1].weighting-1)*100).toFixed(0)+"")&&K(t,n)},d(o){o&&p(e),o&&p(t),o&&p(i)}}}function lB(l){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Target Requirements",{_context:zi})}`,n=m("dd"),n.textContent=`${l[4].join(", ")} 
      `},m(t,i){h(t,e,i),h(t,n,i)},p:ie,d(t){t&&p(e),t&&p(n)}}}function Tp(l){let e,n,t=l[1].aoe+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("AoE Shape",{_context:zi})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&2&&t!==(t=o[1].aoe+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Cp(l){let e,n,t=l[1].stun_dur+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Stun Duration",{_context:zi})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&2&&t!==(t=o[1].stun_dur+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Ip(l){let e,n,t=l[1].down_dur+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Down Duration",{_context:zi})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&2&&t!==(t=o[1].down_dur+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Op(l){let e,n,t=l[1].knockback_dist+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Knockback Distance",{_context:zi})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r&2&&t!==(t=o[1].knockback_dist+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Rp(l){let e,n=Qt(l[1].description)+"",t;return{c(){e=m("p"),t=w(n),Bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),d(e,t)},p(i,o){o&2&&n!==(n=Qt(i[1].description)+"")&&K(t,n)},d(i){i&&p(e)}}}function rB(l){let e,n,t,i,o;return i=new Zt({props:{items:l[2],limit:20,$$slots:{default:[oB,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Weapons",{_context:zi})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&130&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function oB(l){let e,n;return e=new ve({props:{type:"item",id:l[1].id}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&2&&(o.id=t[1].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function sB(l){let e,n,t=O.t("Technique",{_context:zi})+"",i,o,r=l[1].name+"",s,a,f,u,c,_,g,y,k=(l[1].crit_ok?O.t("Yes"):l[1].crit_tec?O.t("Only",{_context:"Martial Art",_comment:"Activate on Crit?"}):O.t("No"))+"",T,R,C,B,D,j,L,P,U,q,G,Z,M,x,ne=JSON.stringify(l[1],null,2)+"",F,X,J,V;_=new x0({props:{item:l[1],buffMap:l[0]}});let se=l[1].weighting&&l[1].weighting!==1&&Sp(l),me=l[4].length&&lB(l),Q=l[1].aoe&&Tp(l);j=new Q0({props:{item:l[1]}});let ee=l[1].stun_dur&&Cp(l),le=l[1].down_dur&&Ip(l),ue=l[1].knockback_dist&&Op(l),be=l[1].description&&Rp(l),Le=l[2].length&&rB(l);return{c(){e=m("section"),n=m("h1"),i=w(t),o=w(": "),s=w(r),a=N(),f=m("dl"),u=m("dt"),u.textContent=`${O.t("Type",{_context:zi})}`,c=m("dd"),c.textContent=`${l[3]}`,W(_.$$.fragment),g=m("dt"),g.textContent=`${O.t("Activate on Crit?",{_context:zi})}`,y=m("dd"),T=w(k),R=N(),se&&se.c(),C=fe(),me&&me.c(),B=fe(),Q&&Q.c(),D=fe(),W(j.$$.fragment),ee&&ee.c(),L=fe(),le&&le.c(),P=fe(),ue&&ue.c(),U=N(),be&&be.c(),q=N(),G=m("details"),Z=m("summary"),Z.textContent=`${O.t("Technique JSON",{_context:zi})}`,M=N(),x=m("pre"),F=w(ne),X=N(),Le&&Le.c(),J=fe()},m(ke,Ee){h(ke,e,Ee),d(e,n),d(n,i),d(n,o),d(n,s),d(e,a),d(e,f),d(f,u),d(f,c),H(_,f,null),d(f,g),d(f,y),d(y,T),d(y,R),se&&se.m(f,null),d(f,C),me&&me.m(f,null),d(f,B),Q&&Q.m(f,null),d(f,D),H(j,f,null),ee&&ee.m(f,null),d(f,L),le&&le.m(f,null),d(f,P),ue&&ue.m(f,null),d(e,U),be&&be.m(e,null),d(e,q),d(e,G),d(G,Z),d(G,M),d(G,x),d(x,F),h(ke,X,Ee),Le&&Le.m(ke,Ee),h(ke,J,Ee),V=!0},p(ke,[Ee]){(!V||Ee&2)&&r!==(r=ke[1].name+"")&&K(s,r);const Te={};Ee&2&&(Te.item=ke[1]),Ee&1&&(Te.buffMap=ke[0]),_.$set(Te),(!V||Ee&2)&&k!==(k=(ke[1].crit_ok?O.t("Yes"):ke[1].crit_tec?O.t("Only",{_context:"Martial Art",_comment:"Activate on Crit?"}):O.t("No"))+"")&&K(T,k),ke[1].weighting&&ke[1].weighting!==1?se?se.p(ke,Ee):(se=Sp(ke),se.c(),se.m(f,C)):se&&(se.d(1),se=null),ke[4].length&&me.p(ke,Ee),ke[1].aoe?Q?Q.p(ke,Ee):(Q=Tp(ke),Q.c(),Q.m(f,D)):Q&&(Q.d(1),Q=null);const Re={};Ee&2&&(Re.item=ke[1]),j.$set(Re),ke[1].stun_dur?ee?ee.p(ke,Ee):(ee=Cp(ke),ee.c(),ee.m(f,L)):ee&&(ee.d(1),ee=null),ke[1].down_dur?le?le.p(ke,Ee):(le=Ip(ke),le.c(),le.m(f,P)):le&&(le.d(1),le=null),ke[1].knockback_dist?ue?ue.p(ke,Ee):(ue=Op(ke),ue.c(),ue.m(f,null)):ue&&(ue.d(1),ue=null),ke[1].description?be?be.p(ke,Ee):(be=Rp(ke),be.c(),be.m(e,q)):be&&(be.d(1),be=null),(!V||Ee&2)&&ne!==(ne=JSON.stringify(ke[1],null,2)+"")&&K(F,ne),ke[2].length&&Le.p(ke,Ee)},i(ke){V||(b(_.$$.fragment,ke),b(j.$$.fragment,ke),b(Le),V=!0)},o(ke){$(_.$$.fragment,ke),$(j.$$.fragment,ke),$(Le),V=!1},d(ke){ke&&p(e),z(_),se&&se.d(),me&&me.d(),Q&&Q.d(),z(j),ee&&ee.d(),le&&le.d(),ue&&ue.d(),be&&be.d(),ke&&p(X),Le&&Le.d(ke),ke&&p(J)}}}const zi="Martial Art";function fB(l,e,n){let{item:t}=e,{buffMap:i=new Map}=e;const r=qt("data").byType("item").filter(u=>u.id&&(u.techniques??[]).includes(t.id)).sort((u,c)=>u.id.localeCompare(c.id)),s=kn.__(t.block_counter?"Block Counter":t.dodge_counter?"Dodge Counter":t.miss_recovery?"Miss Recovery":t.grab_break?"Grab Break":t.defensive?"Defensive":"Offensive"),a=u=>{var c;return((c=/<info>(.+?)<\/info>/.exec(u))==null?void 0:c[1])??u},f=[];return t.human_target&&f.push(a(kn.__("* Only works on a <info>humanoid</info> target"))),t.downed_target&&f.push(a(kn.__("* Only works on a <info>downed</info> target"))),t.stunned_target&&f.push(a(kn.__("* Only works on a <info>stunned</info> target"))),l.$$set=u=>{"item"in u&&n(1,t=u.item),"buffMap"in u&&n(0,i=u.buffMap)},[i,t,r,s,f]}class aB extends Et{constructor(e){super(),wt(this,e,fB,sB,$t,{item:1,buffMap:0})}}function Np(l,e,n){const t=l.slice();return t[6]=e[n],t}function Ap(l,e,n){const t=l.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function Bp(l,e,n){const t=l.slice();return t[13]=e[n],t}function Mp(l,e,n){const t=l.slice();return t[16]=e[n],t}function Dp(l,e,n){const t=l.slice();return t[19]=e[n],t}function Lp(l,e,n){const t=l.slice();return t[22]=e[n][0],t[23]=e[n][1],t}function Fp(l){var y;let e,n,t,i,o,r,s,a=l[0].learn_difficulty!=null&&Pp(l),f=((y=l[0].autolearn)==null?void 0:y.length)&&jp(l),u=l[2].length&&uB(l),c=l[0].weapon_category&&Yp(l),_=((l[0].arm_block??99)!=99||l[0].arm_block_with_bio_armor_arms)&&zp(l),g=((l[0].leg_block??99)!==99||l[0].leg_block_with_bio_armor_legs)&&Wp(l);return{c(){e=m("dl"),a&&a.c(),n=fe(),f&&f.c(),t=fe(),u&&u.c(),i=fe(),c&&c.c(),o=fe(),_&&_.c(),r=fe(),g&&g.c()},m(k,T){h(k,e,T),a&&a.m(e,null),d(e,n),f&&f.m(e,null),d(e,t),u&&u.m(e,null),d(e,i),c&&c.m(e,null),d(e,o),_&&_.m(e,null),d(e,r),g&&g.m(e,null),s=!0},p(k,T){var R;k[0].learn_difficulty!=null?a?a.p(k,T):(a=Pp(k),a.c(),a.m(e,n)):a&&(a.d(1),a=null),(R=k[0].autolearn)!=null&&R.length?f?(f.p(k,T),T&1&&b(f,1)):(f=jp(k),f.c(),b(f,1),f.m(e,t)):f&&(re(),$(f,1,1,()=>{f=null}),oe()),k[2].length&&u.p(k,T),k[0].weapon_category?c?(c.p(k,T),T&1&&b(c,1)):(c=Yp(k),c.c(),b(c,1),c.m(e,o)):c&&(re(),$(c,1,1,()=>{c=null}),oe()),(k[0].arm_block??99)!=99||k[0].arm_block_with_bio_armor_arms?_?(_.p(k,T),T&1&&b(_,1)):(_=zp(k),_.c(),b(_,1),_.m(e,r)):_&&(re(),$(_,1,1,()=>{_=null}),oe()),(k[0].leg_block??99)!==99||k[0].leg_block_with_bio_armor_legs?g?(g.p(k,T),T&1&&b(g,1)):(g=Wp(k),g.c(),b(g,1),g.m(e,null)):g&&(re(),$(g,1,1,()=>{g=null}),oe())},i(k){s||(b(f),b(u),b(c),b(_),b(g),s=!0)},o(k){$(f),$(u),$(c),$(_),$(g),s=!1},d(k){k&&p(e),a&&a.d(),f&&f.d(),u&&u.d(),c&&c.d(),_&&_.d(),g&&g.d()}}}function Pp(l){let e,n,t=l[0].learn_difficulty+"",i,o,r=Qp(l[0].learn_difficulty)+"",s,a;return{c(){e=m("dt"),e.textContent=`${O.t("Difficulty to Learn",{_context:Si})}`,n=m("dd"),i=w(t),o=w(" ("),s=w(r),a=w(`)
        `)},m(f,u){h(f,e,u),h(f,n,u),d(n,i),d(n,o),d(n,s),d(n,a)},p(f,u){u&1&&t!==(t=f[0].learn_difficulty+"")&&K(i,t),u&1&&r!==(r=Qp(f[0].learn_difficulty)+"")&&K(s,r)},d(f){f&&p(e),f&&p(n)}}}function jp(l){let e,n,t,i,o=l[0].autolearn&&Up(l);return{c(){e=m("dt"),e.textContent=`${O.t("Autolearn",{_context:Si})} 
        `,n=m("dd"),o&&o.c(),t=N(),_e(e,"title","Learned at these skill levels, otherwise only learnable from a book")},m(r,s){h(r,e,s),h(r,n,s),o&&o.m(n,null),d(n,t),i=!0},p(r,s){r[0].autolearn?o?(o.p(r,s),s&1&&b(o,1)):(o=Up(r),o.c(),b(o,1),o.m(n,t)):o&&(re(),$(o,1,1,()=>{o=null}),oe())},i(r){i||(b(o),i=!0)},o(r){$(o),i=!1},d(r){r&&p(e),r&&p(n),o&&o.d()}}}function Up(l){let e,n,t=l[0].autolearn,i=[];for(let r=0;r<t.length;r+=1)i[r]=Gp(Lp(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){e=m("ul");for(let r=0;r<i.length;r+=1)i[r].c();_e(e,"class","comma-separated")},m(r,s){h(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(r,s){if(s&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const f=Lp(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Gp(f),i[a].c(),b(i[a],1),i[a].m(e,null))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){r&&p(e),we(i,r)}}}function Gp(l){let e,n,t,i=l[23]+"",o,r,s;return n=new ve({props:{type:"skill",id:l[22]}}),{c(){e=m("li"),W(n.$$.fragment),t=w(" ("),o=w(i),r=w(")")},m(a,f){h(a,e,f),H(n,e,null),d(e,t),d(e,o),d(e,r),s=!0},p(a,f){const u={};f&1&&(u.id=a[22]),n.$set(u),(!s||f&1)&&i!==(i=a[23]+"")&&K(o,i)},i(a){s||(b(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),z(n)}}}function uB(l){let e,n,t,i,o,r=l[2],s=[];for(let f=0;f<r.length;f+=1)s[f]=qp(Dp(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Found In",{_context:Si})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&4){r=f[2];let c;for(c=0;c<r.length;c+=1){const _=Dp(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=qp(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function qp(l){let e,n,t;return n=new ve({props:{type:"item",id:l[19].id}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function Yp(l){let e,n,t,i,o,r=l[0].weapon_category,s=[];for(let f=0;f<r.length;f+=1)s[f]=Hp(Mp(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Weapon Category",{_context:Si})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&1){r=f[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const _=Mp(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Hp(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Hp(l){let e,n,t;return n=new ve({props:{type:"weapon_category",id:l[16]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o&1&&(r.id=i[16]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function zp(l){let e,n,t,i,o,r;const s=[_B,cB],a=[];function f(u,c){return u[0].arm_block_with_bio_armor_arms?0:1}return t=f(l),i=a[t]=s[t](l),{c(){e=m("dt"),e.textContent=`${O.t("Arm Block",{_context:Si})}`,n=m("dd"),i.c(),o=N()},m(u,c){h(u,e,c),h(u,n,c),a[t].m(n,null),d(n,o),r=!0},p(u,c){let _=t;t=f(u),t===_?a[t].p(u,c):(re(),$(a[_],1,1,()=>{a[_]=null}),oe(),i=a[t],i?i.p(u,c):(i=a[t]=s[t](u),i.c()),b(i,1),i.m(n,o))},i(u){r||(b(i),r=!0)},o(u){$(i),r=!1},d(u){u&&p(e),u&&p(n),a[t].d()}}}function cB(l){let e,n,t=l[0].arm_block+"",i,o,r;return e=new ve({props:{type:"skill",id:"unarmed"}}),{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){H(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),r=!0},p(s,a){(!r||a&1)&&t!==(t=s[0].arm_block+"")&&K(i,t)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),r=!1},d(s){z(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function _B(l){let e,n,t;return n=new ve({props:{type:"item",id:"bio_armor_arms"}}),{c(){e=w("with "),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,i,o),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n,i)}}}function Wp(l){let e,n,t,i,o;const r=[mB,dB],s=[];function a(f,u){return f[0].leg_block_with_bio_armor_legs?0:1}return t=a(l),i=s[t]=r[t](l),{c(){e=m("dt"),e.textContent=`${O.t("Leg Block",{_context:Si})}`,n=m("dd"),i.c()},m(f,u){h(f,e,u),h(f,n,u),s[t].m(n,null),o=!0},p(f,u){let c=t;t=a(f),t===c?s[t].p(f,u):(re(),$(s[c],1,1,()=>{s[c]=null}),oe(),i=s[t],i?i.p(f,u):(i=s[t]=r[t](f),i.c()),b(i,1),i.m(n,null))},i(f){o||(b(i),o=!0)},o(f){$(i),o=!1},d(f){f&&p(e),f&&p(n),s[t].d()}}}function dB(l){let e,n,t=l[0].leg_block+"",i,o,r;return e=new ve({props:{type:"skill",id:"unarmed"}}),{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){H(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),r=!0},p(s,a){(!r||a&1)&&t!==(t=s[0].leg_block+"")&&K(i,t)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),r=!1},d(s){z(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function mB(l){let e,n,t;return n=new ve({props:{type:"item",id:"bio_armor_legs"}}),{c(){e=w("with "),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,i,o),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n,i)}}}function Vp(l){let e,n,t,i,o;return i=new Zt({props:{items:[...l[0].weapons].sort(l[5]),$$slots:{default:[pB,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Weapons",{_context:Si})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&1&&(a.items=[...r[0].weapons].sort(r[5])),s&67108865&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function pB(l){let e,n;return e=new ve({props:{id:l[0],type:"item"}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function hB(l){let e,n,t=l[13].buff_duration+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Duration",{_context:Si})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function gB(l){let e,n,t=l[13].max_stacks+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Max Stacks",{_context:Si})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function bB(l){let e,n,t=l[13].bonus_dodges+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Bonus Dodges",{_context:Si})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function $B(l){let e,n,t=l[13].bonus_blocks+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Bonus Blocks",{_context:Si})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p:ie,d(o){o&&p(e),o&&p(n)}}}function vB(l){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Silent",{_context:Si})} 
          `,n=m("dd"),n.textContent=`${O.t("Yes")}`,_e(e,"title","Attacks will be completely silent")},m(t,i){h(t,e,i),h(t,n,i)},p:ie,d(t){t&&p(e),t&&p(n)}}}function yB(l){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Stealthy",{_context:Si})} 
          `,n=m("dd"),n.textContent=`${O.t("Yes")}`,_e(e,"title","Movement will make less noise")},m(t,i){h(t,e,i),h(t,n,i)},p:ie,d(t){t&&p(e),t&&p(n)}}}function kB(l){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Throw Immune",{_context:Si})} 
          `,n=m("dd"),n.textContent=`${O.t("Yes")}`,_e(e,"title","Immune to throws/grabs")},m(t,i){h(t,e,i),h(t,n,i)},p:ie,d(t){t&&p(e),t&&p(n)}}}function wB(l){let e,n=Qt(l[13].description)+"",t;return{c(){e=m("p"),t=w(n),Bt(e,"color","var(--cata-color-gray)"),Bt(e,"white-space","pre-wrap")},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function Xp(l){let e,n,t=l[9]+"",i,o,r=l[13].name+"",s,a,f,u,c,_,g,y,k,T,R,C,B;u=new x0({props:{item:l[13],buffMap:l[4]}}),c=new Q0({props:{item:l[13]}});let D=l[13].buff_duration&&hB(l),j=l[13].max_stacks&&gB(l),L=l[13].bonus_dodges&&bB(l),P=l[13].bonus_blocks&&$B(l),U=l[13].quiet&&vB(),q=l[13].stealthy&&yB(),G=l[13].throw_immune&&kB(),Z=l[13].description&&wB(l);return{c(){e=m("section"),n=m("h1"),i=w(t),o=w(": "),s=w(r),a=N(),f=m("dl"),W(u.$$.fragment),W(c.$$.fragment),D&&D.c(),_=fe(),j&&j.c(),g=fe(),L&&L.c(),y=fe(),P&&P.c(),k=fe(),U&&U.c(),T=fe(),q&&q.c(),R=fe(),G&&G.c(),C=N(),Z&&Z.c()},m(M,x){h(M,e,x),d(e,n),d(n,i),d(n,o),d(n,s),d(e,a),d(e,f),H(u,f,null),H(c,f,null),D&&D.m(f,null),d(f,_),j&&j.m(f,null),d(f,g),L&&L.m(f,null),d(f,y),P&&P.m(f,null),d(f,k),U&&U.m(f,null),d(f,T),q&&q.m(f,null),d(f,R),G&&G.m(f,null),d(e,C),Z&&Z.m(e,null),B=!0},p(M,x){M[13].buff_duration&&D.p(M,x),M[13].max_stacks&&j.p(M,x),M[13].bonus_dodges&&L.p(M,x),M[13].bonus_blocks&&P.p(M,x),M[13].quiet&&U.p(M,x),M[13].stealthy&&q.p(M,x),M[13].throw_immune&&G.p(M,x),M[13].description&&Z.p(M,x)},i(M){B||(b(u.$$.fragment,M),b(c.$$.fragment,M),B=!0)},o(M){$(u.$$.fragment,M),$(c.$$.fragment,M),B=!1},d(M){M&&p(e),z(u),z(c),D&&D.d(),j&&j.d(),L&&L.d(),P&&P.d(),U&&U.d(),q&&q.d(),G&&G.d(),Z&&Z.d()}}}function Jp(l){let e,n,t=l[10],i=[];for(let r=0;r<t.length;r+=1)i[r]=Xp(Bp(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=fe()},m(r,s){for(let a=0;a<i.length;a+=1)i[a].m(r,s);h(r,e,s),n=!0},p(r,s){if(s&24){t=r[10];let a;for(a=0;a<t.length;a+=1){const f=Bp(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Xp(f),i[a].c(),b(i[a],1),i[a].m(e.parentNode,e))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){we(i,r),r&&p(e)}}}function Kp(l){let e,n,t,i,o=l[0].techniques,r=[];for(let a=0;a<o.length;a+=1)r[a]=Zp(Np(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("h1"),e.textContent=`${O.t("Techniques",{_context:Si})}`,n=N();for(let a=0;a<r.length;a+=1)r[a].c();t=fe()},m(a,f){h(a,e,f),h(a,n,f);for(let u=0;u<r.length;u+=1)r[u].m(a,f);h(a,t,f),i=!0},p(a,f){if(f&19){o=a[0].techniques;let u;for(u=0;u<o.length;u+=1){const c=Np(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=Zp(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a),a&&p(t)}}}function Zp(l){let e,n;return e=new aB({props:{item:l[1].byId("technique",l[6]),buffMap:l[4]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.item=t[1].byId("technique",t[6])),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function EB(l){var M,x,ne;let e,n=O.t("Martial Art")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g=Qt(l[0].description)+"",y,k,T,R,C,B,D,j,L=(l[0].learn_difficulty!=null||((M=l[0].autolearn)==null?void 0:M.length)||(l[0].arm_block??99)!==99||(l[0].leg_block??99)!==99||l[0].arm_block_with_bio_armor_arms||l[0].leg_block_with_bio_armor_legs||l[2].length)&&Fp(l),P=((x=l[0].weapons)==null?void 0:x.length)&&Vp(l),U=l[3],q=[];for(let F=0;F<U.length;F+=1)q[F]=Jp(Ap(l,U,F));const G=F=>$(q[F],1,1,()=>{q[F]=null});let Z=((ne=l[0].techniques)==null?void 0:ne.length)&&Kp(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("h1"),f.textContent=`${O.t("General",{_context:Si})}`,u=N(),L&&L.c(),c=N(),_=m("p"),y=w(g),k=N(),P&&P.c(),T=N(),R=m("h1"),R.textContent=`${O.t("Buffs",{_context:Si})}`,C=N();for(let F=0;F<q.length;F+=1)q[F].c();B=N(),Z&&Z.c(),D=fe(),Bt(_,"color","var(--cata-color-gray)")},m(F,X){h(F,e,X),d(e,t),d(e,i),d(e,r),h(F,s,X),h(F,a,X),d(a,f),d(a,u),L&&L.m(a,null),d(a,c),d(a,_),d(_,y),h(F,k,X),P&&P.m(F,X),h(F,T,X),h(F,R,X),h(F,C,X);for(let J=0;J<q.length;J+=1)q[J].m(F,X);h(F,B,X),Z&&Z.m(F,X),h(F,D,X),j=!0},p(F,[X]){var J,V,se;if((!j||X&1)&&o!==(o=it(F[0])+"")&&K(r,o),F[0].learn_difficulty!=null||(J=F[0].autolearn)!=null&&J.length||(F[0].arm_block??99)!==99||(F[0].leg_block??99)!==99||F[0].arm_block_with_bio_armor_arms||F[0].leg_block_with_bio_armor_legs||F[2].length?L?(L.p(F,X),X&1&&b(L,1)):(L=Fp(F),L.c(),b(L,1),L.m(a,c)):L&&(re(),$(L,1,1,()=>{L=null}),oe()),(!j||X&1)&&g!==(g=Qt(F[0].description)+"")&&K(y,g),(V=F[0].weapons)!=null&&V.length?P?(P.p(F,X),X&1&&b(P,1)):(P=Vp(F),P.c(),b(P,1),P.m(T.parentNode,T)):P&&(re(),$(P,1,1,()=>{P=null}),oe()),X&24){U=F[3];let me;for(me=0;me<U.length;me+=1){const Q=Ap(F,U,me);q[me]?(q[me].p(Q,X),b(q[me],1)):(q[me]=Jp(Q),q[me].c(),b(q[me],1),q[me].m(B.parentNode,B))}for(re(),me=U.length;me<q.length;me+=1)G(me);oe()}(se=F[0].techniques)!=null&&se.length?Z?(Z.p(F,X),X&1&&b(Z,1)):(Z=Kp(F),Z.c(),b(Z,1),Z.m(D.parentNode,D)):Z&&(re(),$(Z,1,1,()=>{Z=null}),oe())},i(F){if(!j){b(L),b(P);for(let X=0;X<U.length;X+=1)b(q[X]);b(Z),j=!0}},o(F){$(L),$(P),q=q.filter(Boolean);for(let X=0;X<q.length;X+=1)$(q[X]);$(Z),j=!1},d(F){F&&p(e),F&&p(s),F&&p(a),L&&L.d(),F&&p(k),P&&P.d(F),F&&p(T),F&&p(R),F&&p(C),we(q,F),F&&p(B),Z&&Z.d(F),F&&p(D)}}}const Si="Martial Art";function Qp(l){return l<=2?"easy":l<=4?"moderately hard":l<=6?"hard":l<=8?"very hard":"extremely hard"}function SB(l,e,n){const t=qt("data");let{item:i}=e;const o=t.byType("item").filter(f=>f.type==="BOOK"&&f.martial_art===i.id),r=[["Passive",i.static_buffs??[]],["Move",i.onmove_buffs??[]],["Pause",i.onpause_buffs??[]],["Hit",i.onhit_buffs??[]],["Miss",i.onmiss_buffs??[]],["Attack",i.onattack_buffs??[]],["Crit",i.oncrit_buffs??[]],["Kill",i.onkill_buffs??[]],["Dodge",i.ondodge_buffs??[]],["Block",i.onblock_buffs??[]],["Get hit",i.ongethit_buffs??[]]],s=new Map(r.flatMap(f=>f[1]).map(f=>[f.id,f])),a=(f,u)=>it(t.byId("item",f)).localeCompare(it(t.byId("item",u)));return l.$$set=f=>{"item"in f&&n(0,i=f.item)},[i,t,o,r,s,a]}class TB extends Et{constructor(e){super(),wt(this,e,SB,EB,$t,{item:0})}}function CB(l){let e;const n=l[5].default,t=Xi(n,l,l[4],null);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&16)&&Ki(t,n,i,i[4],e?Ji(n,i[4],o,null):Zi(i[4]),null)},i(i){e||(b(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function IB(l){let e,n,t=l[1].message+"",i,o,r,s,a=(l[2]?l[1].stack:"")+"",f,u;return{c(){e=m("div"),n=m("b"),i=w(t),o=N(),r=m("pre"),s=w("      "),f=w(a),u=w(`
    `),_e(r,"class","trace svelte-1nrekyi"),_e(e,"class","error svelte-1nrekyi")},m(c,_){h(c,e,_),d(e,n),d(n,i),d(e,o),d(e,r),d(r,s),d(r,f),d(r,u)},p(c,_){_&2&&t!==(t=c[1].message+"")&&K(i,t),_&2&&a!==(a=(c[2]?c[1].stack:"")+"")&&K(f,a)},i:ie,o:ie,d(c){c&&p(e)}}}function OB(l){let e,n,t,i;const o=[IB,CB],r=[];function s(a,f){return a[1]?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(re(),$(r[u],1,1,()=>{r[u]=null}),oe(),n=r[e],n?n.p(a,f):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function RB(l,e,n){let t,i=ie,o=()=>(i(),i=D0(a,_=>n(1,t=_)),a);l.$$.on_destroy.push(()=>i());let{$$slots:r={},$$scope:s}=e,{error:a}=e;o();let{onError:f=null}=e,c=(typeof process<"u"&&process.env&&"production")!=="production";return l.$$set=_=>{"error"in _&&o(n(0,a=_.error)),"onError"in _&&n(3,f=_.onError),"$$scope"in _&&n(4,s=_.$$scope)},l.$$.update=()=>{l.$$.dirty&10&&t&&f&&f(t)},[a,t,c,f,s,r]}let NB=class extends Et{constructor(e){super(),wt(this,e,RB,OB,$t,{error:0,onError:3})}};const AB=["c","l","h","m","p","a","i","o","d"];function BB(l){if(l.$$render){let n=l.$$render;return l.$$render=(t,i,o,r)=>{const s=Fr(void 0);try{return n(t,{error:s,...i},o,r)}catch(a){return s.set(a),n(t,{error:s,...i},o,{})}},l}function e(n,t){return function(...o){try{return n(...o)}catch(r){t(r)}}}return class extends l{constructor(t){const i=Fr(void 0);t.props.$$slots.default=t.props.$$slots.default.map(o=>(...r)=>{let a=e(o,i.set)(...r);if(a)for(let f of AB)a[f]&&(a[f]=e(a[f],i.set));return a}),super(t),this.$$set({error:i})}}}const MB=BB(NB);function DB(l,e){const n=[];let t=!0;const i=new Set(l),o=new Set;for(;i.size;){const s=i.values().next().value;if(r(s),!t)throw new Error("Not a DAG")}return n;function r(s){if(i.has(s)){if(o.has(s)){t=!1;return}o.add(s);for(const a of e(s))r(a);o.delete(s),i.delete(s),n.push(s)}}}function LB(l,e){return UB(l,e).map(n=>FB(n,e))}function FB(l,e){const n=new Map,t=r=>{if(n.has(r))return n.get(r);const s=Math.max(0,...e(r).map(t))+1;return n.set(r,s),s};l.forEach(r=>t(r));const i=[],o=DB(l,e);for(const r of o){const s=n.get(r);i[s]||(i[s]=[]),i[s].push(r)}return i.filter(r=>r)}function PB(l,e){return n=>e(n).filter(t=>l.includes(t))}function jB(l,e){const n=PB(l,e),t=new Map,i=(o,r)=>{t.has(o)||t.set(o,new Set),t.get(o).add(r),t.has(r)||t.set(r,new Set),t.get(r).add(o)};for(const o of l)for(const r of n(o))i(o,r);return o=>[...t.get(o)??[]]}function UB(l,e){const n=jB(l,e),t=[],i=new Set(l);for(;i.size;){const o=i.values().next().value;i.delete(o);const r=[],s=[o];for(;s.length;){const a=s.shift();r.includes(a)||(r.push(a),i.delete(a),s.push(...n(a)))}t.push(r)}return t}function xp(l,e,n){const t=l.slice();return t[4]=e[n],t}function e1(l,e,n){const t=l.slice();return t[7]=e[n],t[9]=n,t}function t1(l,e,n){const t=l.slice();return t[10]=e[n],t[9]=n,t}function GB(l){let e;return{c(){e=w(" →")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function qB(l){let e;return{c(){e=w(",")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function n1(l){let e,n,t,i=l[9]>0&&qB();return n=new ve({props:{id:l[10].id,type:"mutation"}}),{c(){i&&i.c(),e=N(),W(n.$$.fragment)},m(o,r){i&&i.m(o,r),h(o,e,r),H(n,o,r),t=!0},p:ie,i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),z(n,o)}}}function i1(l){let e,n,t,i=l[9]>0&&GB(),o=l[7],r=[];for(let a=0;a<o.length;a+=1)r[a]=n1(t1(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){i&&i.c(),e=N();for(let a=0;a<r.length;a+=1)r[a].c();n=fe()},m(a,f){i&&i.m(a,f),h(a,e,f);for(let u=0;u<r.length;u+=1)r[u].m(a,f);h(a,n,f),t=!0},p(a,f){if(f&1){o=a[7];let u;for(u=0;u<o.length;u+=1){const c=t1(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=n1(c),r[u].c(),b(r[u],1),r[u].m(n.parentNode,n))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!t){for(let f=0;f<o.length;f+=1)b(r[f]);t=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);t=!1},d(a){i&&i.d(a),a&&p(e),we(r,a),a&&p(n)}}}function l1(l){let e,n,t,i=l[4],o=[];for(let s=0;s<i.length;s+=1)o[s]=i1(e1(l,i,s));const r=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=N()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);d(e,n),t=!0},p(s,a){if(a&1){i=s[4];let f;for(f=0;f<i.length;f+=1){const u=e1(s,i,f);o[f]?(o[f].p(u,a),b(o[f],1)):(o[f]=i1(u),o[f].c(),b(o[f],1),o[f].m(e,n))}for(re(),f=i.length;f<o.length;f+=1)r(f);oe()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)b(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),we(o,s)}}}function YB(l){let e,n,t=l[0],i=[];for(let r=0;r<t.length;r+=1)i[r]=l1(xp(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){e=m("ul");for(let r=0;r<i.length;r+=1)i[r].c()},m(r,s){h(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(r,[s]){if(s&1){t=r[0];let a;for(a=0;a<t.length;a+=1){const f=xp(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=l1(f),i[a].c(),b(i[a],1),i[a].m(e,null))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){r&&p(e),we(i,r)}}}function HB(l,e,n){let t=qt("data"),{mutations:i}=e;const o=s=>(s.prereqs??[]).concat(s.prereqs2??[]).concat(s.threshreq??[]);let r=LB(i,s=>o(s).map(a=>t.byId("mutation",a))).sort((s,a)=>it(s[0][0]).localeCompare(it(a[0][0])));return l.$$set=s=>{"mutations"in s&&n(1,i=s.mutations)},[r,i]}class ml extends Et{constructor(e){super(),wt(this,e,HB,YB,$t,{mutations:1})}}function r1(l,e,n){const t=l.slice();return t[10]=e[n],t}function o1(l,e,n){const t=l.slice();return t[13]=e[n],t}function s1(l,e,n){const t=l.slice();return t[13]=e[n].id,t}function f1(l,e,n){const t=l.slice();return t[13]=e[n].id,t}function a1(l,e,n){const t=l.slice();return t[13]=e[n],t}function u1(l,e,n){const t=l.slice();return t[22]=e[n],t}function c1(l,e,n){const t=l.slice();return t[22]=e[n],t}function _1(l,e,n){const t=l.slice();return t[22]=e[n],t}function d1(l,e,n){const t=l.slice();return t[29]=e[n],t}function m1(l,e,n){const t=l.slice();return t[32]=e[n][0],t[33]=e[n][1],t}function p1(l,e,n){const t=l.slice();return t[36]=e[n],t}function h1(l,e,n){const t=l.slice();return t[36]=e[n][0],t[39]=e[n][1],t}function g1(l,e,n){const t=l.slice();return t[36]=e[n][0],t[39]=e[n][1],t}function b1(l,e,n){const t=l.slice();return t[47]=e[n],t}function $1(l,e,n){const t=l.slice();return t[44]=e[n],t}function zB(l){let e=l[0].points+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i[0]&1&&e!==(e=t[0].points+"")&&K(n,e)},d(t){t&&p(n)}}}function WB(l){let e,n,t,i,o,r=l[1].byType("mutation_category").filter(l[7]),s=[];for(let f=0;f<r.length;f+=1)s[f]=v1(b1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Category",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&3){r=f[1].byType("mutation_category").filter(f[7]);let c;for(c=0;c<r.length;c+=1){const _=b1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=v1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function VB(l){let e,n,t,i,o,r=l[0].category,s=[];for(let f=0;f<r.length;f+=1)s[f]=y1($1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Category",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].category;let c;for(c=0;c<r.length;c+=1){const _=$1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=y1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function v1(l){let e,n,t;return n=new ve({props:{type:"mutation_category",id:l[47].id}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[47].id),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function y1(l){let e,n,t;return n=new ve({props:{type:"mutation_category",id:l[44]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[44]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function k1(l){let e,n,t,i,o,r=l[0].encumbrance_always,s=[];for(let f=0;f<r.length;f+=1)s[f]=w1(g1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Encumbrance",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].encumbrance_always;let c;for(c=0;c<r.length;c+=1){const _=g1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=w1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function w1(l){let e,n,t,i=l[39]+"",o,r,s;return n=new ve({props:{type:"body_part",id:l[36]}}),{c(){e=m("li"),W(n.$$.fragment),t=w(" ("),o=w(i),r=w(")")},m(a,f){h(a,e,f),H(n,e,null),d(e,t),d(e,o),d(e,r),s=!0},p(a,f){const u={};f[0]&1&&(u.id=a[36]),n.$set(u),(!s||f[0]&1)&&i!==(i=a[39]+"")&&K(o,i)},i(a){s||(b(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),z(n)}}}function E1(l){let e,n,t,i,o,r=l[0].encumbrance_covered,s=[];for(let f=0;f<r.length;f+=1)s[f]=S1(h1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Encumbrance (covered)",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].encumbrance_covered;let c;for(c=0;c<r.length;c+=1){const _=h1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=S1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function S1(l){let e,n,t,i=l[39]+"",o,r,s;return n=new ve({props:{type:"body_part",id:l[36]}}),{c(){e=m("li"),W(n.$$.fragment),t=w(" ("),o=w(i),r=w(")")},m(a,f){h(a,e,f),H(n,e,null),d(e,t),d(e,o),d(e,r),s=!0},p(a,f){const u={};f[0]&1&&(u.id=a[36]),n.$set(u),(!s||f[0]&1)&&i!==(i=a[39]+"")&&K(o,i)},i(a){s||(b(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),z(n)}}}function T1(l){let e,n=O.t("Restricts Gear",{_context:Vn})+"",t,i,o,r,s,a,f=l[0].restricts_gear,u=[];for(let _=0;_<f.length;_+=1)u[_]=C1(p1(l,f,_));const c=_=>$(u[_],1,1,()=>{u[_]=null});return{c(){e=m("dt"),t=w(n),i=N(),o=m("dd"),r=m("ul");for(let _=0;_<u.length;_+=1)u[_].c();s=N(),_e(e,"title",O.t("Gear worn on this body part must be large enough to accommodate abnormally large mutated anatomy.")),_e(r,"class","comma-separated")},m(_,g){h(_,e,g),d(e,t),d(e,i),h(_,o,g),d(o,r);for(let y=0;y<u.length;y+=1)u[y].m(r,null);d(o,s),a=!0},p(_,g){if(g[0]&1){f=_[0].restricts_gear;let y;for(y=0;y<f.length;y+=1){const k=p1(_,f,y);u[y]?(u[y].p(k,g),b(u[y],1)):(u[y]=C1(k),u[y].c(),b(u[y],1),u[y].m(r,null))}for(re(),y=f.length;y<u.length;y+=1)c(y);oe()}},i(_){if(!a){for(let g=0;g<f.length;g+=1)b(u[g]);a=!0}},o(_){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)$(u[g]);a=!1},d(_){_&&p(e),_&&p(o),we(u,_)}}}function C1(l){let e,n,t;return n=new ve({props:{type:"body_part",id:l[36]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[36]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function I1(l){let e,n,t,i,o,r=l[0].craft_skill_bonus,s=[];for(let f=0;f<r.length;f+=1)s[f]=O1(m1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Crafting Skill Modifier",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].craft_skill_bonus;let c;for(c=0;c<r.length;c+=1){const _=m1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=O1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function O1(l){let e,n,t,i=(l[33]>0?"+"+l[33]:l[33])+"",o,r,s;return n=new ve({props:{type:"skill",id:l[32]}}),{c(){e=m("li"),W(n.$$.fragment),t=w(" ("),o=w(i),r=w(`)
            `)},m(a,f){h(a,e,f),H(n,e,null),d(e,t),d(e,o),d(e,r),s=!0},p(a,f){const u={};f[0]&1&&(u.id=a[32]),n.$set(u),(!s||f[0]&1)&&i!==(i=(a[33]>0?"+"+a[33]:a[33])+"")&&K(o,i)},i(a){s||(b(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),z(n)}}}function XB(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:ie,i:ie,o:ie,d(n){n&&p(e)}}}function JB(l){let e,n,t=l[0].types,i=[];for(let r=0;r<t.length;r+=1)i[r]=R1(d1(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){e=m("ul");for(let r=0;r<i.length;r+=1)i[r].c();_e(e,"class","comma-separated")},m(r,s){h(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(r,s){if(s[0]&1){t=r[0].types;let a;for(a=0;a<t.length;a+=1){const f=d1(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=R1(f),i[a].c(),b(i[a],1),i[a].m(e,null))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){r&&p(e),we(i,r)}}}function R1(l){let e,n,t;return n=new ve({props:{type:"mutation_type",id:l[29]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[29]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function KB(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:ie,i:ie,o:ie,d(n){n&&p(e)}}}function ZB(l){let e,n,t,i,o,r=l[0].prereqs,s=[];for(let u=0;u<r.length;u+=1)s[u]=N1(_1(l,r,u));const a=u=>$(s[u],1,1,()=>{s[u]=null});let f=l[0].prereqs2&&A1(l);return{c(){e=m("ul"),n=m("li"),t=m("ul");for(let u=0;u<s.length;u+=1)s[u].c();i=N(),f&&f.c(),_e(t,"class","comma-separated or")},m(u,c){h(u,e,c),d(e,n),d(n,t);for(let _=0;_<s.length;_+=1)s[_].m(t,null);d(e,i),f&&f.m(e,null),o=!0},p(u,c){if(c[0]&1){r=u[0].prereqs;let _;for(_=0;_<r.length;_+=1){const g=_1(u,r,_);s[_]?(s[_].p(g,c),b(s[_],1)):(s[_]=N1(g),s[_].c(),b(s[_],1),s[_].m(t,null))}for(re(),_=r.length;_<s.length;_+=1)a(_);oe()}u[0].prereqs2?f?(f.p(u,c),c[0]&1&&b(f,1)):(f=A1(u),f.c(),b(f,1),f.m(e,null)):f&&(re(),$(f,1,1,()=>{f=null}),oe())},i(u){if(!o){for(let c=0;c<r.length;c+=1)b(s[c]);b(f),o=!0}},o(u){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);$(f),o=!1},d(u){u&&p(e),we(s,u),f&&f.d()}}}function N1(l){let e,n,t;return n=new ve({props:{type:"mutation",id:l[22]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[22]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function A1(l){let e,n,t,i=l[0].prereqs2,o=[];for(let s=0;s<i.length;s+=1)o[s]=B1(c1(l,i,s));const r=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li"),n=m("ul");for(let s=0;s<o.length;s+=1)o[s].c();_e(n,"class","comma-separated or")},m(s,a){h(s,e,a),d(e,n);for(let f=0;f<o.length;f+=1)o[f].m(n,null);t=!0},p(s,a){if(a[0]&1){i=s[0].prereqs2;let f;for(f=0;f<i.length;f+=1){const u=c1(s,i,f);o[f]?(o[f].p(u,a),b(o[f],1)):(o[f]=B1(u),o[f].c(),b(o[f],1),o[f].m(n,null))}for(re(),f=i.length;f<o.length;f+=1)r(f);oe()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)b(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),we(o,s)}}}function B1(l){let e,n,t;return n=new ve({props:{type:"mutation",id:l[22]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[22]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function M1(l){let e,n,t,i,o,r=l[0].threshreq,s=[];for(let f=0;f<r.length;f+=1)s[f]=D1(u1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Threshold Requirement",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated or")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].threshreq;let c;for(c=0;c<r.length;c+=1){const _=u1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=D1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function D1(l){let e,n,t;return n=new ve({props:{type:"mutation",id:l[22]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[22]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function L1(l){let e,n,t,i,o,r=l[0].leads_to,s=[];for(let f=0;f<r.length;f+=1)s[f]=F1(a1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Leads To",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].leads_to;let c;for(c=0;c<r.length;c+=1){const _=a1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=F1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function F1(l){let e,n,t;return n=new ve({props:{id:l[13],type:"mutation"}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[13]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function P1(l){let e,n,t,i,o;return t=new ml({props:{mutations:l[0].changes_to.map(l[8])}}),{c(){e=m("dt"),e.textContent=`${O.t("Changes To",{_context:Vn})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.mutations=r[0].changes_to.map(r[8])),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function j1(l){let e,n,t,i,o;return t=new ml({props:{mutations:l[0].cancels.map(l[9])}}),{c(){e=m("dt"),e.textContent=`${O.t("Cancels",{_context:Vn})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.mutations=r[0].cancels.map(r[9])),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function QB(l){let e,n,t,i,o;return t=new ml({props:{mutations:l[4]}}),{c(){e=m("dt"),e.textContent=`${O.t("Canceled By",{_context:Vn})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p:ie,i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function xB(l){let e,n,t,i,o,r=l[6],s=[];for(let f=0;f<r.length;f+=1)s[f]=U1(f1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Incompatible With",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&64){r=f[6];let c;for(c=0;c<r.length;c+=1){const _=f1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=U1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function U1(l){let e,n,t;return n=new ve({props:{id:l[13],type:"bionic"}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function e6(l){let e,n,t,i,o,r=l[5],s=[];for(let f=0;f<r.length;f+=1)s[f]=G1(s1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Canceled By Bionics",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&32){r=f[5];let c;for(c=0;c<r.length;c+=1){const _=s1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=G1(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function G1(l){let e,n,t;return n=new ve({props:{id:l[13],type:"bionic"}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function q1(l){let e,n,t,i,o=l[0].integrated_armor,r=[];for(let a=0;a<o.length;a+=1)r[a]=Y1(o1(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Integrated Armor",{_context:Vn})}`,n=m("dd"),t=m("ul");for(let a=0;a<r.length;a+=1)r[a].c();_e(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);i=!0},p(a,f){if(f[0]&1){o=a[0].integrated_armor;let u;for(u=0;u<o.length;u+=1){const c=o1(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=Y1(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a)}}}function Y1(l){let e,n,t;return n=new ve({props:{id:l[13],type:"item"}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[13]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function H1(l){let e,n,t,i,o;return i=new ml({props:{mutations:l[2]}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Post-Threshold Mutations",{_context:Vn})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p:ie,i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function t6(l){let e,n,t,i,o,r=l[3],s=[];for(let f=0;f<r.length;f+=1)s[f]=z1(r1(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Required By",{_context:Vn})}`,t=N(),i=m("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){h(f,e,u),d(e,n),d(e,t),d(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u[0]&8){r=f[3];let c;for(c=0;c<r.length;c+=1){const _=r1(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=z1(_),s[c].c(),b(s[c],1),s[c].m(i,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),we(s,f)}}}function z1(l){let e,n,t;return n=new ve({props:{id:l[10].id,type:"mutation"}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function n6(l){var Ft,jt,Tt,Fe,ft,Xt,an;let e,n=(l[0].threshold?O.t("Threshold Mutation"):O.t("Mutation"))+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g,y,k,T,R=(l[0].purifiable??!0?O.t("Yes"):O.t("No"))+"",C,B,D,j=(l[0].visibility??0)+"",L,P,U,q=(l[0].ugliness??0)+"",G,Z,M,x,ne,F=O.t("{n, plural, =1 {Type} other {Types}}",{n:((Ft=l[0].types)==null?void 0:Ft.length)??0,_context:Vn})+"",X,J,V,se,me,Q,ee,le,ue,be,Le,ke,Ee,Te,Re,He,he,Ce,De,Oe,Ke=Qt(l[0].description)+"",xe,mt,ye,et,je;_=new Y0({props:{mutation:l[0],$$slots:{default:[zB]},$$scope:{ctx:l}}});const ct=[VB,WB],We=[];function qe(Me,Xe){return Me[0].category?0:Me[0].threshold?1:-1}~(g=qe(l))&&(y=We[g]=ct[g](l));let Ve=((jt=l[0].encumbrance_always)==null?void 0:jt.length)&&k1(l),kt=((Tt=l[0].encumbrance_covered)==null?void 0:Tt.length)&&E1(l),ht=((Fe=l[0].restricts_gear)==null?void 0:Fe.length)&&T1(l),Rt=((ft=l[0].craft_skill_bonus)==null?void 0:ft.length)&&I1(l);const Ge=[JB,XB],pe=[];function $e(Me,Xe){return Me[0].types?0:1}se=$e(l),me=pe[se]=Ge[se](l);const ae=[ZB,KB],Ye=[];function pt(Me,Xe){return Me[0].prereqs?0:1}ue=pt(l),be=Ye[ue]=ae[ue](l);let ut=l[0].threshreq&&M1(l),at=l[0].leads_to&&L1(l),lt=((Xt=l[0].changes_to)==null?void 0:Xt.length)&&P1(l),ot=((an=l[0].cancels)==null?void 0:an.length)&&j1(l),rt=l[4].length&&QB(l),tt=l[6].length&&xB(l),Ne=l[5].length&&e6(l),Ie=l[0].integrated_armor&&q1(l),dt=l[0].threshold&&l[2].length&&H1(l),It=l[3].length&&t6(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("dl"),u=m("dt"),u.textContent=`${O.t("Points",{_context:Vn})}`,c=m("dd"),W(_.$$.fragment),y&&y.c(),k=m("dt"),k.textContent=`${O.t("Purifiable",{_context:Vn})}`,T=m("dd"),C=w(R),B=m("dt"),B.textContent=`${O.t("Visibility",{_context:Vn})}`,D=m("dd"),L=w(j),P=m("dt"),P.textContent=`${O.t("Ugliness",{_context:Vn})}`,U=m("dd"),G=w(q),Ve&&Ve.c(),Z=fe(),kt&&kt.c(),M=fe(),ht&&ht.c(),x=fe(),Rt&&Rt.c(),ne=m("dt"),X=w(F),J=N(),V=m("dd"),me.c(),Q=N(),ee=m("dt"),ee.textContent=`${O.t("Prerequisites",{_context:Vn})}`,le=m("dd"),be.c(),Le=N(),ut&&ut.c(),ke=fe(),at&&at.c(),Ee=fe(),lt&&lt.c(),Te=fe(),ot&&ot.c(),Re=fe(),rt&&rt.c(),He=fe(),tt&&tt.c(),he=fe(),Ne&&Ne.c(),Ce=fe(),Ie&&Ie.c(),De=N(),Oe=m("p"),xe=w(Ke),mt=N(),dt&&dt.c(),ye=N(),It&&It.c(),et=fe(),_e(ne,"title",O.t("You can't have two mutations that share a type.")),Bt(Oe,"color","var(--cata-color-gray)")},m(Me,Xe){h(Me,e,Xe),d(e,t),d(e,i),d(e,r),h(Me,s,Xe),h(Me,a,Xe),d(a,f),d(f,u),d(f,c),H(_,c,null),~g&&We[g].m(f,null),d(f,k),d(f,T),d(T,C),d(f,B),d(f,D),d(D,L),d(f,P),d(f,U),d(U,G),Ve&&Ve.m(f,null),d(f,Z),kt&&kt.m(f,null),d(f,M),ht&&ht.m(f,null),d(f,x),Rt&&Rt.m(f,null),d(f,ne),d(ne,X),d(ne,J),d(f,V),pe[se].m(V,null),d(V,Q),d(f,ee),d(f,le),Ye[ue].m(le,null),d(le,Le),ut&&ut.m(f,null),d(f,ke),at&&at.m(f,null),d(f,Ee),lt&&lt.m(f,null),d(f,Te),ot&&ot.m(f,null),d(f,Re),rt&&rt.m(f,null),d(f,He),tt&&tt.m(f,null),d(f,he),Ne&&Ne.m(f,null),d(f,Ce),Ie&&Ie.m(f,null),d(a,De),d(a,Oe),d(Oe,xe),h(Me,mt,Xe),dt&&dt.m(Me,Xe),h(Me,ye,Xe),It&&It.m(Me,Xe),h(Me,et,Xe),je=!0},p(Me,Xe){var rn,xt,ze,_n,Kt,At,Pt;(!je||Xe[0]&1)&&n!==(n=(Me[0].threshold?O.t("Threshold Mutation"):O.t("Mutation"))+"")&&K(t,n),(!je||Xe[0]&1)&&o!==(o=it(Me[0])+"")&&K(r,o);const Wt={};Xe[0]&1&&(Wt.mutation=Me[0]),Xe[0]&1|Xe[1]&524288&&(Wt.$$scope={dirty:Xe,ctx:Me}),_.$set(Wt);let fn=g;g=qe(Me),g===fn?~g&&We[g].p(Me,Xe):(y&&(re(),$(We[fn],1,1,()=>{We[fn]=null}),oe()),~g?(y=We[g],y?y.p(Me,Xe):(y=We[g]=ct[g](Me),y.c()),b(y,1),y.m(f,k)):y=null),(!je||Xe[0]&1)&&R!==(R=(Me[0].purifiable??!0?O.t("Yes"):O.t("No"))+"")&&K(C,R),(!je||Xe[0]&1)&&j!==(j=(Me[0].visibility??0)+"")&&K(L,j),(!je||Xe[0]&1)&&q!==(q=(Me[0].ugliness??0)+"")&&K(G,q),(rn=Me[0].encumbrance_always)!=null&&rn.length?Ve?(Ve.p(Me,Xe),Xe[0]&1&&b(Ve,1)):(Ve=k1(Me),Ve.c(),b(Ve,1),Ve.m(f,Z)):Ve&&(re(),$(Ve,1,1,()=>{Ve=null}),oe()),(xt=Me[0].encumbrance_covered)!=null&&xt.length?kt?(kt.p(Me,Xe),Xe[0]&1&&b(kt,1)):(kt=E1(Me),kt.c(),b(kt,1),kt.m(f,M)):kt&&(re(),$(kt,1,1,()=>{kt=null}),oe()),(ze=Me[0].restricts_gear)!=null&&ze.length?ht?(ht.p(Me,Xe),Xe[0]&1&&b(ht,1)):(ht=T1(Me),ht.c(),b(ht,1),ht.m(f,x)):ht&&(re(),$(ht,1,1,()=>{ht=null}),oe()),(_n=Me[0].craft_skill_bonus)!=null&&_n.length?Rt?(Rt.p(Me,Xe),Xe[0]&1&&b(Rt,1)):(Rt=I1(Me),Rt.c(),b(Rt,1),Rt.m(f,ne)):Rt&&(re(),$(Rt,1,1,()=>{Rt=null}),oe()),(!je||Xe[0]&1)&&F!==(F=O.t("{n, plural, =1 {Type} other {Types}}",{n:((Kt=Me[0].types)==null?void 0:Kt.length)??0,_context:Vn})+"")&&K(X,F);let ln=se;se=$e(Me),se===ln?pe[se].p(Me,Xe):(re(),$(pe[ln],1,1,()=>{pe[ln]=null}),oe(),me=pe[se],me?me.p(Me,Xe):(me=pe[se]=Ge[se](Me),me.c()),b(me,1),me.m(V,Q));let vn=ue;ue=pt(Me),ue===vn?Ye[ue].p(Me,Xe):(re(),$(Ye[vn],1,1,()=>{Ye[vn]=null}),oe(),be=Ye[ue],be?be.p(Me,Xe):(be=Ye[ue]=ae[ue](Me),be.c()),b(be,1),be.m(le,Le)),Me[0].threshreq?ut?(ut.p(Me,Xe),Xe[0]&1&&b(ut,1)):(ut=M1(Me),ut.c(),b(ut,1),ut.m(f,ke)):ut&&(re(),$(ut,1,1,()=>{ut=null}),oe()),Me[0].leads_to?at?(at.p(Me,Xe),Xe[0]&1&&b(at,1)):(at=L1(Me),at.c(),b(at,1),at.m(f,Ee)):at&&(re(),$(at,1,1,()=>{at=null}),oe()),(At=Me[0].changes_to)!=null&&At.length?lt?(lt.p(Me,Xe),Xe[0]&1&&b(lt,1)):(lt=P1(Me),lt.c(),b(lt,1),lt.m(f,Te)):lt&&(re(),$(lt,1,1,()=>{lt=null}),oe()),(Pt=Me[0].cancels)!=null&&Pt.length?ot?(ot.p(Me,Xe),Xe[0]&1&&b(ot,1)):(ot=j1(Me),ot.c(),b(ot,1),ot.m(f,Re)):ot&&(re(),$(ot,1,1,()=>{ot=null}),oe()),Me[4].length&&rt.p(Me,Xe),Me[6].length&&tt.p(Me,Xe),Me[5].length&&Ne.p(Me,Xe),Me[0].integrated_armor?Ie?(Ie.p(Me,Xe),Xe[0]&1&&b(Ie,1)):(Ie=q1(Me),Ie.c(),b(Ie,1),Ie.m(f,null)):Ie&&(re(),$(Ie,1,1,()=>{Ie=null}),oe()),(!je||Xe[0]&1)&&Ke!==(Ke=Qt(Me[0].description)+"")&&K(xe,Ke),Me[0].threshold&&Me[2].length?dt?(dt.p(Me,Xe),Xe[0]&1&&b(dt,1)):(dt=H1(Me),dt.c(),b(dt,1),dt.m(ye.parentNode,ye)):dt&&(re(),$(dt,1,1,()=>{dt=null}),oe()),Me[3].length&&It.p(Me,Xe)},i(Me){je||(b(_.$$.fragment,Me),b(y),b(Ve),b(kt),b(ht),b(Rt),b(me),b(be),b(ut),b(at),b(lt),b(ot),b(rt),b(tt),b(Ne),b(Ie),b(dt),b(It),je=!0)},o(Me){$(_.$$.fragment,Me),$(y),$(Ve),$(kt),$(ht),$(Rt),$(me),$(be),$(ut),$(at),$(lt),$(ot),$(rt),$(tt),$(Ne),$(Ie),$(dt),$(It),je=!1},d(Me){Me&&p(e),Me&&p(s),Me&&p(a),z(_),~g&&We[g].d(),Ve&&Ve.d(),kt&&kt.d(),ht&&ht.d(),Rt&&Rt.d(),pe[se].d(),Ye[ue].d(),ut&&ut.d(),at&&at.d(),lt&&lt.d(),ot&&ot.d(),rt&&rt.d(),tt&&tt.d(),Ne&&Ne.d(),Ie&&Ie.d(),Me&&p(mt),dt&&dt.d(Me),Me&&p(ye),It&&It.d(Me),Me&&p(et)}}}const Vn="Mutation";function i6(l,e,n){let{item:t}=e,i=qt("data");const o=i.byType("mutation").filter(g=>(g.threshreq??[]).includes(t.id)).sort(Sn),r=i.byType("mutation").filter(g=>(g.prereqs??[]).includes(t.id)||(g.prereqs2??[]).includes(t.id)).sort(Sn),s=i.byType("mutation").filter(g=>(g.cancels??[]).includes(t.id)).sort(Sn),a=i.byType("bionic").filter(g=>(g.canceled_mutations??[]).includes(t.id)).sort(Sn),f=i.byType("bionic").filter(g=>(g.mutation_conflicts??[]).includes(t.id)).sort(Sn),u=g=>g.threshold_mut===t.id,c=g=>i.byId("mutation",g),_=g=>i.byId("mutation",g);return l.$$set=g=>{"item"in g&&n(0,t=g.item)},[t,i,o,r,s,a,f,u,c,_]}class l6 extends Et{constructor(e){super(),wt(this,e,i6,n6,$t,{item:0},null,[-1,-1])}}function W1(l){let e,n=O.t("Mutation Category")+"",t,i,o=it(l[0])+"",r;return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o)},m(s,a){h(s,e,a),d(e,t),d(e,i),d(e,r)},p(s,a){a&1&&o!==(o=it(s[0])+"")&&K(r,o)},d(s){s&&p(e)}}}function V1(l){let e,n=it(l[0])+"",t;return{c(){e=m("h1"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p(i,o){o&1&&n!==(n=it(i[0])+"")&&K(t,n)},d(i){i&&p(e)}}}function X1(l){let e,n,t,i;return t=new ve({props:{id:l[0].vitamin,type:"vitamin"}}),{c(){e=m("dt"),e.textContent=`${O.t("Vitamin",{_context:Yo})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].vitamin),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function r6(l){let e,n,t,i,o;return t=new ml({props:{mutations:l[2]}}),{c(){e=m("dt"),e.textContent=`${O.t("Pre-Threshold Mutations",{_context:Yo})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p:ie,i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function J1(l){let e,n,t,i;return t=new ve({props:{id:l[0].threshold_mut,type:"mutation"}}),{c(){e=m("dt"),e.textContent=`${O.t("Threshold Mutation",{_context:Yo})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r&1&&(s.id=o[0].threshold_mut),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function o6(l){let e,n,t,i;return t=new ml({props:{mutations:l[3]}}),{c(){e=m("dt"),e.textContent=`${O.t("Post-Threshold Mutations",{_context:Yo})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p:ie,i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function s6(l){let e,n,t,i,o,r,s,a,f=!l[1]&&W1(l),u=l[1]&&V1(l),c=l[0].vitamin&&X1(l),_=l[2].length&&r6(l),g=l[0].threshold_mut&&J1(l),y=l[3].length&&o6(l);return{c(){f&&f.c(),e=N(),n=m("section"),u&&u.c(),t=N(),i=m("dl"),c&&c.c(),o=fe(),_&&_.c(),r=fe(),g&&g.c(),s=fe(),y&&y.c()},m(k,T){f&&f.m(k,T),h(k,e,T),h(k,n,T),u&&u.m(n,null),d(n,t),d(n,i),c&&c.m(i,null),d(i,o),_&&_.m(i,null),d(i,r),g&&g.m(i,null),d(i,s),y&&y.m(i,null),a=!0},p(k,[T]){k[1]?f&&(f.d(1),f=null):f?f.p(k,T):(f=W1(k),f.c(),f.m(e.parentNode,e)),k[1]?u?u.p(k,T):(u=V1(k),u.c(),u.m(n,t)):u&&(u.d(1),u=null),k[0].vitamin?c?(c.p(k,T),T&1&&b(c,1)):(c=X1(k),c.c(),b(c,1),c.m(i,o)):c&&(re(),$(c,1,1,()=>{c=null}),oe()),k[2].length&&_.p(k,T),k[0].threshold_mut?g?(g.p(k,T),T&1&&b(g,1)):(g=J1(k),g.c(),b(g,1),g.m(i,s)):g&&(re(),$(g,1,1,()=>{g=null}),oe()),k[3].length&&y.p(k,T)},i(k){a||(b(c),b(_),b(g),b(y),a=!0)},o(k){$(c),$(_),$(g),$(y),a=!1},d(k){f&&f.d(k),k&&p(e),k&&p(n),u&&u.d(),c&&c.d(),_&&_.d(),g&&g.d(),y&&y.d()}}}const Yo="Mutation";function f6(l,e,n){let t=qt("data"),{item:i}=e,{inCatalog:o=!1}=e;const r=t.byType("mutation").filter(f=>(f.category??[]).includes(i.id)).sort(Sn),s=r.filter(f=>!f.threshreq||f.threshreq.length===0),a=r.filter(f=>!(!f.threshreq||f.threshreq.length===0));return l.$$set=f=>{"item"in f&&n(0,i=f.item),"inCatalog"in f&&n(1,o=f.inCatalog)},[i,o,s,a]}class eb extends Et{constructor(e){super(),wt(this,e,f6,s6,$t,{item:0,inCatalog:1})}}function a6(l){let e,n=O.t("Mutation Type")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g;return _=new ml({props:{mutations:l[1]}}),{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("dl"),u=m("dt"),u.textContent=`${O.t("Mutations")}`,c=m("dd"),W(_.$$.fragment)},m(y,k){h(y,e,k),d(e,t),d(e,i),d(e,r),h(y,s,k),h(y,a,k),d(a,f),d(f,u),d(f,c),H(_,c,null),g=!0},p(y,[k]){(!g||k&1)&&o!==(o=it(y[0])+"")&&K(r,o)},i(y){g||(b(_.$$.fragment,y),g=!0)},o(y){$(_.$$.fragment,y),g=!1},d(y){y&&p(e),y&&p(s),y&&p(a),z(_)}}}function u6(l,e,n){let{item:t}=e;const o=qt("data").byType("mutation").filter(r=>(r.types??[]).includes(t.id));return l.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,o]}class c6 extends Et{constructor(e){super(),wt(this,e,u6,a6,$t,{item:0})}}function _6(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Ho(){return!_6()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function vl(l,e){return l.require(e)}function d6(l){let e;try{e=vl(_l,l)}catch{}try{const{cwd:n}=vl(_l,"process");e=vl(_l,`${n()}/node_modules/${l}`)}catch{}return e}var m6={};function Cn(){return Ho()?global:typeof window<"u"?window:typeof self<"u"?self:m6}function Hs(l,e,n){var t=n||Cn(),i=t.__SENTRY__=t.__SENTRY__||{},o=i[l]||(i[l]=e());return o}var tb=Object.prototype.toString;function nb(l){switch(tb.call(l)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return pl(l,Error)}}function $r(l,e){return tb.call(l)===`[object ${e}]`}function ib(l){return $r(l,"ErrorEvent")}function K1(l){return $r(l,"DOMError")}function p6(l){return $r(l,"DOMException")}function _r(l){return $r(l,"String")}function lb(l){return l===null||typeof l!="object"&&typeof l!="function"}function dr(l){return $r(l,"Object")}function zs(l){return typeof Event<"u"&&pl(l,Event)}function h6(l){return typeof Element<"u"&&pl(l,Element)}function g6(l){return $r(l,"RegExp")}function Ws(l){return!!(l&&l.then&&typeof l.then=="function")}function b6(l){return dr(l)&&"nativeEvent"in l&&"preventDefault"in l&&"stopPropagation"in l}function rb(l){return typeof l=="number"&&l!==l}function pl(l,e){try{return l instanceof e}catch{return!1}}function Gr(l,e){try{let s=l;var n=5,t=80,i=[];let a=0,f=0;var o=" > ",r=o.length;let u;for(;s&&a++<n&&(u=$6(s,e),!(u==="html"||a>1&&f+i.length*r+u.length>=t));)i.push(u),f+=u.length,s=s.parentNode;return i.reverse().join(o)}catch{return"<unknown>"}}function $6(l,e){var n=l,t=[];let i,o,r,s,a;if(!n||!n.tagName)return"";t.push(n.tagName.toLowerCase());var f=e&&e.length?e.filter(c=>n.getAttribute(c)).map(c=>[c,n.getAttribute(c)]):null;if(f&&f.length)f.forEach(c=>{t.push(`[${c[0]}="${c[1]}"]`)});else if(n.id&&t.push(`#${n.id}`),i=n.className,i&&_r(i))for(o=i.split(/\s+/),a=0;a<o.length;a++)t.push(`.${o[a]}`);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],s=n.getAttribute(r),s&&t.push(`[${r}="${s}"]`);return t.join("")}function v6(){var l=Cn();try{return l.document.location.href}catch{return""}}class Ci extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var y6=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function k6(l){return l==="http"||l==="https"}function Vs(l,e=!1){const{host:n,path:t,pass:i,port:o,projectId:r,protocol:s,publicKey:a}=l;return`${s}://${a}${e&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${t&&`${t}/`}${r}`}function w6(l){var e=y6.exec(l);if(!e)throw new Ci(`Invalid Sentry Dsn: ${l}`);const[n,t,i="",o,r="",s]=e.slice(1);let a="",f=s;var u=f.split("/");if(u.length>1&&(a=u.slice(0,-1).join("/"),f=u.pop()),f){var c=f.match(/^\d+/);c&&(f=c[0])}return ob({host:o,pass:i,path:a,projectId:f,port:r,protocol:n,publicKey:t})}function ob(l){return{protocol:l.protocol,publicKey:l.publicKey||"",pass:l.pass||"",host:l.host,port:l.port||"",path:l.path||"",projectId:l.projectId}}function E6(l){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:e,projectId:n,protocol:t}=l;var i=["protocol","publicKey","host","projectId"];if(i.forEach(o=>{if(!l[o])throw new Ci(`Invalid Sentry Dsn: ${o} missing`)}),!n.match(/^\d+$/))throw new Ci(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!k6(t))throw new Ci(`Invalid Sentry Dsn: Invalid protocol ${t}`);if(e&&isNaN(parseInt(e,10)))throw new Ci(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function S6(l){var e=typeof l=="string"?w6(l):ob(l);return E6(e),e}var T6=Cn(),C6="Sentry Logger ",Co=["debug","info","warn","error","log","assert","trace"];function sb(l){var e=Cn();if(!("console"in e))return l();var n=e.console,t={};Co.forEach(i=>{var o=n[i]&&n[i].__sentry_original__;i in e.console&&o&&(t[i]=n[i],n[i]=o)});try{return l()}finally{Object.keys(t).forEach(i=>{n[i]=t[i]})}}function Z1(){let l=!1;var e={enable:()=>{l=!0},disable:()=>{l=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Co.forEach(n=>{e[n]=(...t)=>{l&&sb(()=>{T6.console[n](`${C6}[${n}]:`,...t)})}}):Co.forEach(n=>{e[n]=()=>{}}),e}let bt;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?bt=Hs("logger",Z1):bt=Z1();function Ar(l,e=0){return typeof l!="string"||e===0||l.length<=e?l:`${l.substr(0,e)}...`}function Q1(l,e){if(!Array.isArray(l))return"";var n=[];for(let i=0;i<l.length;i++){var t=l[i];try{n.push(String(t))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function qr(l,e){return _r(l)?g6(e)?e.test(l):typeof e=="string"?l.indexOf(e)!==-1:!1:!1}function Ii(l,e,n){if(e in l){var t=l[e],i=n(t);if(typeof i=="function")try{fb(i,t)}catch{}l[e]=i}}function Xs(l,e,n){Object.defineProperty(l,e,{value:n,writable:!0,configurable:!0})}function fb(l,e){var n=e.prototype||{};l.prototype=e.prototype=n,Xs(l,"__sentry_original__",e)}function Js(l){return l.__sentry_original__}function I6(l){return Object.keys(l).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(l[e])}`).join("&")}function ab(l){if(nb(l))return{message:l.message,name:l.name,stack:l.stack,...eh(l)};if(zs(l)){var e={type:l.type,target:x1(l.target),currentTarget:x1(l.currentTarget),...eh(l)};return typeof CustomEvent<"u"&&pl(l,CustomEvent)&&(e.detail=l.detail),e}else return l}function x1(l){try{return h6(l)?Gr(l):Object.prototype.toString.call(l)}catch{return"<unknown>"}}function eh(l){if(typeof l=="object"&&l!==null){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);return e}else return{}}function O6(l,e=40){var n=Object.keys(ab(l));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Ar(n[0],e);for(let i=n.length;i>0;i--){var t=n.slice(0,i).join(", ");if(!(t.length>e))return i===n.length?t:Ar(t,e)}return""}function ql(l){var e=new Map;return Cs(l,e)}function Cs(l,e){if(dr(l)){var n=e.get(l);if(n!==void 0)return n;var t={};e.set(l,t);for(var i of Object.keys(l))typeof l[i]<"u"&&(t[i]=Cs(l[i],e));return t}if(Array.isArray(l)){var n=e.get(l);if(n!==void 0)return n;var t=[];return e.set(l,t),l.forEach(s=>{t.push(Cs(s,e))}),t}return l}var R6=50;function ub(...l){var e=l.sort((n,t)=>n[0]-t[0]).map(n=>n[1]);return(n,t=0)=>{var i=[];for(var o of n.split(`
`).slice(t))for(var r of e){var s=r(o);if(s){i.push(s);break}}return A6(i)}}function N6(l){return Array.isArray(l)?ub(...l):l}function A6(l){if(!l.length)return[];let e=l;var n=e[0].function||"",t=e[e.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(e=e.slice(1)),t.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,R6).map(i=>({...i,filename:i.filename||e[0].filename,function:i.function||"?"})).reverse()}var _s="<anonymous>";function El(l){try{return!l||typeof l!="function"?_s:l.name||_s}catch{return _s}}function Ks(){if(!("fetch"in Cn()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Is(l){return l&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(l.toString())}function B6(){if(!Ks())return!1;var l=Cn();if(Is(l.fetch))return!0;let e=!1;var n=l.document;if(n&&typeof n.createElement=="function")try{var t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(e=Is(t.contentWindow.fetch)),n.head.removeChild(t)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function M6(){var l=Cn(),e=l.chrome,n=e&&e.app&&e.app.runtime,t="history"in l&&!!l.history.pushState&&!!l.history.replaceState;return!n&&t}var qn=Cn(),Br={},th={};function D6(l){if(!th[l])switch(th[l]=!0,l){case"console":L6();break;case"dom":z6();break;case"xhr":U6();break;case"fetch":F6();break;case"history":G6();break;case"error":W6();break;case"unhandledrejection":V6();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("unknown instrumentation type:",l);return}}function Fi(l,e){Br[l]=Br[l]||[],Br[l].push(e),D6(l)}function Wi(l,e){if(!(!l||!Br[l]))for(var n of Br[l]||[])try{n(e)}catch(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error(`Error while triggering instrumentation handler.
Type: ${l}
Name: ${El(n)}
Error:`,t)}}function L6(){"console"in qn&&Co.forEach(function(l){l in qn.console&&Ii(qn.console,l,function(e){return function(...n){Wi("console",{args:n,level:l}),e&&e.apply(qn.console,n)}})})}function F6(){B6()&&Ii(qn,"fetch",function(l){return function(...e){var n={args:e,fetchData:{method:P6(e),url:j6(e)},startTimestamp:Date.now()};return Wi("fetch",{...n}),l.apply(qn,e).then(t=>(Wi("fetch",{...n,endTimestamp:Date.now(),response:t}),t),t=>{throw Wi("fetch",{...n,endTimestamp:Date.now(),error:t}),t})}})}function P6(l=[]){return"Request"in qn&&pl(l[0],Request)&&l[0].method?String(l[0].method).toUpperCase():l[1]&&l[1].method?String(l[1].method).toUpperCase():"GET"}function j6(l=[]){return typeof l[0]=="string"?l[0]:"Request"in qn&&pl(l[0],Request)?l[0].url:String(l[0])}function U6(){if("XMLHttpRequest"in qn){var l=XMLHttpRequest.prototype;Ii(l,"open",function(e){return function(...n){var t=this,i=n[1],o=t.__sentry_xhr__={method:_r(n[0])?n[0].toUpperCase():n[0],url:n[1]};_r(i)&&o.method==="POST"&&i.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var r=function(){if(t.readyState===4){try{o.status_code=t.status}catch{}Wi("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:t})}};return"onreadystatechange"in t&&typeof t.onreadystatechange=="function"?Ii(t,"onreadystatechange",function(s){return function(...a){return r(),s.apply(t,a)}}):t.addEventListener("readystatechange",r),e.apply(t,n)}}),Ii(l,"send",function(e){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),Wi("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}}let io;function G6(){if(!M6())return;var l=qn.onpopstate;qn.onpopstate=function(...n){var t=qn.location.href,i=io;if(io=t,Wi("history",{from:i,to:t}),l)try{return l.apply(this,n)}catch{}};function e(n){return function(...t){var i=t.length>2?t[2]:void 0;if(i){var o=io,r=String(i);io=r,Wi("history",{from:o,to:r})}return n.apply(this,t)}}Ii(qn.history,"pushState",e),Ii(qn.history,"replaceState",e)}var q6=1e3;let lo,ro;function Y6(l,e){if(!l||l.type!==e.type)return!0;try{if(l.target!==e.target)return!0}catch{}return!1}function H6(l){if(l.type!=="keypress")return!1;try{var e=l.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function nh(l,e=!1){return n=>{if(!(!n||ro===n)&&!H6(n)){var t=n.type==="keypress"?"input":n.type;lo===void 0?(l({event:n,name:t,global:e}),ro=n):Y6(ro,n)&&(l({event:n,name:t,global:e}),ro=n),clearTimeout(lo),lo=qn.setTimeout(()=>{lo=void 0},q6)}}}function z6(){if("document"in qn){var l=Wi.bind(null,"dom"),e=nh(l,!0);qn.document.addEventListener("click",e,!1),qn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{var t=qn[n]&&qn[n].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(Ii(t,"addEventListener",function(i){return function(o,r,s){if(o==="click"||o=="keypress")try{var a=this,f=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},u=f[o]=f[o]||{refCount:0};if(!u.handler){var c=nh(l);u.handler=c,i.call(this,o,c,s)}u.refCount+=1}catch{}return i.call(this,o,r,s)}}),Ii(t,"removeEventListener",function(i){return function(o,r,s){if(o==="click"||o=="keypress")try{var a=this,f=a.__sentry_instrumentation_handlers__||{},u=f[o];u&&(u.refCount-=1,u.refCount<=0&&(i.call(this,o,u.handler,s),u.handler=void 0,delete f[o]),Object.keys(f).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,r,s)}}))})}}let ds=null;function W6(){ds=qn.onerror,qn.onerror=function(l,e,n,t,i){return Wi("error",{column:t,error:i,line:n,msg:l,url:e}),ds?ds.apply(this,arguments):!1}}let ms=null;function V6(){ms=qn.onunhandledrejection,qn.onunhandledrejection=function(l){return Wi("unhandledrejection",l),ms?ms.apply(this,arguments):!0}}function X6(){var l=typeof WeakSet=="function",e=l?new WeakSet:[];function n(i){if(l)return e.has(i)?!0:(e.add(i),!1);for(let r=0;r<e.length;r++){var o=e[r];if(o===i)return!0}return e.push(i),!1}function t(i){if(l)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[n,t]}function yl(){var l=Cn(),e=l.crypto||l.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var t=i=>{let o=i.toString(16);for(;o.length<4;)o=`0${o}`;return o};return t(n[0])+t(n[1])+t(n[2])+t(n[3])+t(n[4])+t(n[5])+t(n[6])+t(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,i=>{var o=Math.random()*16|0,r=i==="x"?o:o&3|8;return r.toString(16)})}function ps(l){if(!l)return{};var e=l.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",t=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+t}}function cb(l){return l.exception&&l.exception.values?l.exception.values[0]:void 0}function jl(l){const{message:e,event_id:n}=l;if(e)return e;var t=cb(l);return t?t.type&&t.value?`${t.type}: ${t.value}`:t.type||t.value||n||"<unknown>":n||"<unknown>"}function Os(l,e,n){var t=l.exception=l.exception||{},i=t.values=t.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function Yr(l,e){var n=cb(l);if(n){var t={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...t,...i,...e},e&&"data"in e){var o={...i&&i.data,...e.data};n.mechanism.data=o}}}function ih(l){if(l&&l.__sentry_captured__)return!0;try{Xs(l,"__sentry_captured__",!0)}catch{}return!1}function Dl(l,e=1/0,n=1/0){try{return db("",l,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function _b(l,e=3,n=100*1024){var t=Dl(l,e);return Z6(t)>n?_b(l,e-1,n):t}function db(l,e,n=1/0,t=1/0,i=X6()){const[o,r]=i;var s=e;if(s&&typeof s.toJSON=="function")try{return s.toJSON()}catch{}if(e===null||["number","boolean","string"].includes(typeof e)&&!rb(e))return e;var a=J6(l,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;if(n===0)return a.replace("object ","");if(o(e))return"[Circular ~]";var f=Array.isArray(e)?[]:{};let u=0;var c=ab(e);for(var _ in c)if(Object.prototype.hasOwnProperty.call(c,_)){if(u>=t){f[_]="[MaxProperties ~]";break}var g=c[_];f[_]=db(_,g,n-1,t,i),u+=1}return r(e),f}function J6(l,e){try{return l==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":l==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&e===global?"[Global]":typeof window<"u"&&e===window?"[Window]":typeof document<"u"&&e===document?"[Document]":b6(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${El(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(n){return`**non-serializable** (${n})`}}function K6(l){return~-encodeURI(l).split(/%..|./).length}function Z6(l){return K6(JSON.stringify(l))}var ul;(function(l){var e=0;l[l.PENDING=e]="PENDING";var n=1;l[l.RESOLVED=n]="RESOLVED";var t=2;l[l.REJECTED=t]="REJECTED"})(ul||(ul={}));function zl(l){return new Ni(e=>{e(l)})}function Rs(l){return new Ni((e,n)=>{n(l)})}class Ni{__init(){this._state=ul.PENDING}__init2(){this._handlers=[]}constructor(e){Ni.prototype.__init.call(this),Ni.prototype.__init2.call(this),Ni.prototype.__init3.call(this),Ni.prototype.__init4.call(this),Ni.prototype.__init5.call(this),Ni.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new Ni((t,i)=>{this._handlers.push([!1,o=>{if(!e)t(o);else try{t(e(o))}catch(r){i(r)}},o=>{if(!n)i(o);else try{t(n(o))}catch(r){i(r)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Ni((n,t)=>{let i,o;return this.then(r=>{o=!1,i=r,e&&e()},r=>{o=!0,i=r,e&&e()}).then(()=>{if(o){t(i);return}n(i)})})}__init3(){this._resolve=e=>{this._setResult(ul.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(ul.REJECTED,e)}}__init5(){this._setResult=(e,n)=>{if(this._state===ul.PENDING){if(Ws(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==ul.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===ul.RESOLVED&&n[1](this._value),this._state===ul.REJECTED&&n[2](this._value),n[0]=!0)})}}}}function Q6(l){var e=[];function n(){return l===void 0||e.length<l}function t(r){return e.splice(e.indexOf(r),1)[0]}function i(r){if(!n())return Rs(new Ci("Not adding Promise due to buffer limit reached."));var s=r();return e.indexOf(s)===-1&&e.push(s),s.then(()=>t(s)).then(null,()=>t(s).then(null,()=>{})),s}function o(r){return new Ni((s,a)=>{let f=e.length;if(!f)return s(!0);var u=setTimeout(()=>{r&&r>0&&s(!1)},r);e.forEach(c=>{zl(c).then(()=>{--f||(clearTimeout(u),s(!0))},a)})})}return{$:e,add:i,drain:o}}function bl(l,e){return l??e()}function x6(l){let e,n=l[0],t=1;for(;t<l.length;){var i=l[t],o=l[t+1];if(t+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...r)=>n.call(e,...r)),e=void 0)}return n}var e8=["fatal","error","warning","log","info","debug"];function t8(l){return l==="warn"?"warning":e8.includes(l)?l:"log"}var Ns={nowSeconds:()=>Date.now()/1e3};function n8(){const{performance:l}=Cn();if(!(!l||!l.now)){var e=Date.now()-l.now();return{now:()=>l.now(),timeOrigin:e}}}function i8(){try{var l=vl(_l,"perf_hooks");return l.performance}catch{return}}var hs=Ho()?i8():n8(),lh=hs===void 0?Ns:{nowSeconds:()=>(hs.timeOrigin+hs.now())/1e3},zo=Ns.nowSeconds.bind(Ns),Zs=lh.nowSeconds.bind(lh),Hr=Zs,zr=(()=>{const{performance:l}=Cn();if(!(!l||!l.now)){var e=3600*1e3,n=l.now(),t=Date.now(),i=l.timeOrigin?Math.abs(l.timeOrigin+n-t):e,o=i<e,r=l.timing&&l.timing.navigationStart,s=typeof r=="number",a=s?Math.abs(r+n-t):e,f=a<e;return o||f?i<=a?l.timeOrigin:r:t}})(),l8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function r8(l){var e=l.match(l8);if(e){let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}function Wo(l,e=[]){return[l,e]}function o8(l,e){const[n,t]=l;return[n,[...t,e]]}function rh(l,e){var n=l[1];n.forEach(t=>{var i=t[0].type;e(t,i)})}function As(l,e){var n=e||new TextEncoder;return n.encode(l)}function mb(l,e){const[n,t]=l;let i=JSON.stringify(n);function o(s){typeof i=="string"?i=typeof s=="string"?i+s:[As(i,e),s]:i.push(typeof s=="string"?As(s,e):s)}for(var r of t){const[s,a]=r;o(`
${JSON.stringify(s)}
`),o(typeof a=="string"||a instanceof Uint8Array?a:JSON.stringify(a))}return typeof i=="string"?i:s8(i)}function s8(l){var e=l.reduce((o,r)=>o+r.length,0),n=new Uint8Array(e);let t=0;for(var i of l)n.set(i,t),t+=i.length;return n}function f8(l,e){var n=typeof l.data=="string"?As(l.data,e):l.data;return[ql({type:"attachment",length:n.length,filename:l.filename,content_type:l.contentType,attachment_type:l.attachmentType}),n]}var a8={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function oh(l){return a8[l]}function u8(l,e,n){var t=[{type:"client_report"},{timestamp:n||zo(),discarded_events:l}];return Wo(e?{dsn:e}:{},[t])}var c8=60*1e3;function _8(l,e=Date.now()){var n=parseInt(`${l}`,10);if(!isNaN(n))return n*1e3;var t=Date.parse(`${l}`);return isNaN(t)?c8:t-e}function d8(l,e){return l[e]||l.all||0}function m8(l,e,n=Date.now()){return d8(l,e)>n}function p8(l,{statusCode:e,headers:n},t=Date.now()){var i={...l},o=n&&n["x-sentry-rate-limits"],r=n&&n["retry-after"];if(o)for(var s of o.trim().split(",")){const[c,_]=s.split(":",2);var a=parseInt(c,10),f=(isNaN(a)?60:a)*1e3;if(!_)i.all=t+f;else for(var u of _.split(";"))i[u]=t+f}else r?i.all=t+_8(r,t):e===429&&(i.all=t+60*1e3);return i}var xl="baggage",h8="sentry-",g8=/^sentry-/,b8=8192;function pb(l,e="",n=!0){return[{...l},e,n]}function sh(l,e,n){hb(l)&&(l[0][e]=n)}function Bs(l){return Object.keys(l[0]).length===0}function $8(l){return l[0]}function v8(l){return l[1]}function hb(l){return l[2]}function gb(l){l[2]=!1}function y8(l){return Object.keys(l[0]).reduce((e,n)=>{var t=l[0][n],i=`${h8}${encodeURIComponent(n)}=${encodeURIComponent(t)}`,o=e===""?i:`${e},${i}`;return o.length>b8?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Not adding key: ${n} with val: ${t} to baggage due to exceeding baggage size limits.`),e):o},l[1])}function bb(l){return l.split(",").reduce(([e,n],t)=>{const[i,o]=t.split("=");if(g8.test(i)){var r=decodeURIComponent(i.split("-")[1]);return[{...e,[r]:decodeURIComponent(o)},n,!0]}else return[e,n===""?t:`${n},${t}`,!0]},[{},"",!0])}function Ir(l,e){if(!l&&!e)return"";var n=e&&bb(e)||void 0,t=n&&v8(n),i=pb(l&&l[0]||{},t||l&&l[1]||"");return y8(i)}function k8(l,e){var n=bb(l||"");return(!Bs(n)||e&&Bs(n))&&gb(n),n}function w8(l){var e=Zs(),n={sid:yl(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>S8(n)};return l&&mr(n,l),n}function mr(l,e={}){if(e.user&&(!l.ipAddress&&e.user.ip_address&&(l.ipAddress=e.user.ip_address),!l.did&&!e.did&&(l.did=e.user.id||e.user.email||e.user.username)),l.timestamp=e.timestamp||Zs(),e.ignoreDuration&&(l.ignoreDuration=e.ignoreDuration),e.sid&&(l.sid=e.sid.length===32?e.sid:yl()),e.init!==void 0&&(l.init=e.init),!l.did&&e.did&&(l.did=`${e.did}`),typeof e.started=="number"&&(l.started=e.started),l.ignoreDuration)l.duration=void 0;else if(typeof e.duration=="number")l.duration=e.duration;else{var n=l.timestamp-l.started;l.duration=n>=0?n:0}e.release&&(l.release=e.release),e.environment&&(l.environment=e.environment),!l.ipAddress&&e.ipAddress&&(l.ipAddress=e.ipAddress),!l.userAgent&&e.userAgent&&(l.userAgent=e.userAgent),typeof e.errors=="number"&&(l.errors=e.errors),e.status&&(l.status=e.status)}function E8(l,e){let n={};e?n={status:e}:l.status==="ok"&&(n={status:"exited"}),mr(l,n)}function S8(l){return ql({sid:`${l.sid}`,init:l.init,started:new Date(l.started*1e3).toISOString(),timestamp:new Date(l.timestamp*1e3).toISOString(),status:l.status,errors:l.errors,did:typeof l.did=="number"||typeof l.did=="string"?`${l.did}`:void 0,duration:l.duration,attrs:{release:l.release,environment:l.environment,ip_address:l.ipAddress,user_agent:l.userAgent}})}var fh=100;class ci{constructor(){ci.prototype.__init.call(this),ci.prototype.__init2.call(this),ci.prototype.__init3.call(this),ci.prototype.__init4.call(this),ci.prototype.__init5.call(this),ci.prototype.__init6.call(this),ci.prototype.__init7.call(this),ci.prototype.__init8.call(this),ci.prototype.__init9.call(this),ci.prototype.__init10.call(this)}__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(e){var n=new ci;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments]),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&mr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts={...this._contexts,[e]:n},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof ci?n:this}return e instanceof ci?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):dr(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,n){var t=typeof n=="number"?Math.min(n,fh):fh;if(t<=0)return this;var i={timestamp:zo(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-t),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors([...$b(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,n,t,i=0){return new Ni((o,r)=>{var s=e[i];if(n===null||typeof s!="function")o(n);else{var a=s({...n},t);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&s.id&&a===null&&bt.log(`Event processor "${s.id}" dropped event`),Ws(a)?a.then(f=>this._notifyEventProcessors(e,f,t,i+1).then(o)).then(null,r):this._notifyEventProcessors(e,a,t,i+1).then(o).then(null,r)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function $b(){return Hs("globalEventProcessors",()=>[])}function Qs(l){$b().push(l)}var xs=4,T8=100;class Jr{__init(){this._stack=[{}]}constructor(e,n=new ci,t=xs){this._version=t,Jr.prototype.__init.call(this),this.getStackTop().scope=n,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=ci.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){var t=this._lastEventId=n&&n.event_id?n.event_id:yl(),i=new Error("Sentry syntheticException");return this._withClient((o,r)=>{o.captureException(e,{originalException:e,syntheticException:i,...n,event_id:t},r)}),t}captureMessage(e,n,t){var i=this._lastEventId=t&&t.event_id?t.event_id:yl(),o=new Error(e);return this._withClient((r,s)=>{r.captureMessage(e,n,{originalException:e,syntheticException:o,...t,event_id:i},s)}),i}captureEvent(e,n){var t=n&&n.event_id?n.event_id:yl();return e.type!=="transaction"&&(this._lastEventId=t),this._withClient((i,o)=>{i.captureEvent(e,{...n,event_id:t},o)}),t}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:t,client:i}=this.getStackTop();if(!t||!i)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:r=T8}=i.getOptions&&i.getOptions()||{};if(!(r<=0)){var s=zo(),a={timestamp:s,...e},f=o?sb(()=>o(a,n)):a;f!==null&&t.addBreadcrumb(f,r)}}setUser(e){var n=this.getScope();n&&n.setUser(e)}setTags(e){var n=this.getScope();n&&n.setTags(e)}setExtras(e){var n=this.getScope();n&&n.setExtras(e)}setTag(e,n){var t=this.getScope();t&&t.setTag(e,n)}setExtra(e,n){var t=this.getScope();t&&t.setExtra(e,n)}setContext(e,n){var t=this.getScope();t&&t.setContext(e,n)}configureScope(e){const{scope:n,client:t}=this.getStackTop();n&&t&&e(n)}run(e){var n=ah(this);try{e(this)}finally{ah(n)}}getIntegration(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){return this._callExtensionMethod("startTransaction",e,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),n=e&&e.scope,t=n&&n.getSession();t&&E8(t),this._sendSessionUpdate(),n&&n.setSession()}startSession(e){const{scope:n,client:t}=this.getStackTop(),{release:i,environment:o}=t&&t.getOptions()||{};var r=Cn();const{userAgent:s}=r.navigator||{};var a=w8({release:i,environment:o,...n&&{user:n.getUser()},...s&&{userAgent:s},...e});if(n){var f=n.getSession&&n.getSession();f&&f.status==="ok"&&mr(f,{status:"exited"}),this.endSession(),n.setSession(a)}return a}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop();if(e){var t=e.getSession();t&&n&&n.captureSession&&n.captureSession(t)}}_withClient(e){const{scope:n,client:t}=this.getStackTop();t&&e(t,n)}_callExtensionMethod(e,...n){var t=vr(),i=t.__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function vr(){var l=Cn();return l.__SENTRY__=l.__SENTRY__||{extensions:{},hub:void 0},l}function ah(l){var e=vr(),n=$l(e);return ef(e,l),n}function li(){var l=vr();return(!vb(l)||$l(l).isOlderThan(xs))&&ef(l,new Jr),Ho()?C8(l):$l(l)}function C8(l){try{var e=vr().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return $l(l);if(!vb(n)||$l(n).isOlderThan(xs)){var t=$l(l).getStackTop();ef(n,new Jr(t.client,ci.clone(t.scope)))}return $l(n)}catch{return $l(l)}}function vb(l){return!!(l&&l.__SENTRY__&&l.__SENTRY__.hub)}function $l(l){return Hs("hub",()=>new Jr,l)}function ef(l,e){if(!l)return!1;var n=l.__SENTRY__=l.__SENTRY__||{};return n.hub=e,!0}function tf(l,e){return li().captureException(l,{captureContext:e})}function I8(l){li().withScope(l)}var O8="7";function R8(l){var e=l.protocol?`${l.protocol}:`:"",n=l.port?`:${l.port}`:"";return`${e}//${l.host}${n}${l.path?`/${l.path}`:""}/api/`}function N8(l){return`${R8(l)}${l.projectId}/envelope/`}function A8(l){return I6({sentry_key:l.publicKey,sentry_version:O8})}function yb(l,e){return e||`${N8(l)}?${A8(l)}`}function kb(l){if(!l||!l.sdk)return;const{name:e,version:n}=l.sdk;return{name:e,version:n}}function B8(l,e){return e&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||e.name,l.sdk.version=l.sdk.version||e.version,l.sdk.integrations=[...l.sdk.integrations||[],...e.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...e.packages||[]]),l}function M8(l,e,n,t){var i=kb(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!t&&{dsn:Vs(e)}},r="aggregates"in l?[{type:"sessions"},l]:[{type:"session"},l];return Wo(o,[r])}function D8(l,e,n,t){var i=kb(n),o=l.type||"event";const{transactionSampling:r}=l.sdkProcessingMetadata||{},{method:s,rate:a}=r||{};B8(l,n&&n.sdk),delete l.sdkProcessingMetadata;var f=L8(l,i,t,e),u=[{type:o,sample_rates:[{id:s,rate:a}]},l];return Wo(f,[u])}function L8(l,e,n,t){var i=l.contexts&&l.contexts.baggage;const{environment:o,release:r,transaction:s,userid:a,usersegment:f}=i||{};return{event_id:l.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:Vs(t)},...l.type==="transaction"&&l.contexts&&l.contexts.trace&&{trace:ql({trace_id:l.contexts.trace.trace_id,public_key:t.publicKey,environment:o,release:r,transaction:s,...(a||f)&&{user:{id:a,segment:f}}})}}}var uh=[];function ch(l){return l.reduce((e,n)=>(e.every(t=>n.name!==t.name)&&e.push(n),e),[])}function F8(l){var e=l.defaultIntegrations&&[...l.defaultIntegrations]||[],n=l.integrations;let t=[...ch(e)];Array.isArray(n)?t=[...t.filter(r=>n.every(s=>s.name!==r.name)),...ch(n)]:typeof n=="function"&&(t=n(t),t=Array.isArray(t)?t:[t]);var i=t.map(r=>r.name),o="Debug";return i.indexOf(o)!==-1&&t.push(...t.splice(i.indexOf(o),1)),t}function P8(l){var e={};return l.forEach(n=>{e[n.name]=n,uh.indexOf(n.name)===-1&&(n.setupOnce(Qs,li),uh.push(n.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`Integration installed: ${n.name}`))}),e}var _h="Not capturing exception because it's already been captured.";class er{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(er.prototype.__init.call(this),er.prototype.__init2.call(this),er.prototype.__init3.call(this),er.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=S6(e.dsn);var n=yb(this._dsn,e.tunnel);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("No DSN provided, client will not do anything.")}captureException(e,n,t){if(ih(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(_h);return}let i=n&&n.event_id;return this._process(this.eventFromException(e,n).then(o=>this._captureEvent(o,n,t)).then(o=>{i=o})),i}captureMessage(e,n,t,i){let o=t&&t.event_id;var r=lb(e)?this.eventFromMessage(String(e),n,t):this.eventFromException(e,t);return this._process(r.then(s=>this._captureEvent(s,t,i)).then(s=>{o=s})),o}captureEvent(e,n,t){if(n&&n.originalException&&ih(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(_h);return}let i=n&&n.event_id;return this._process(this._captureEvent(e,n,t).then(o=>{i=o})),i}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),mr(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var n=this._transport;return n?this._isClientDoneProcessing(e).then(t=>n.flush(e).then(i=>t&&i)):zl(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=P8(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,n={}){if(this._dsn){let i=D8(e,this._dsn,this._options._metadata,this._options.tunnel);for(var t of n.attachments||[])i=o8(i,f8(t,x6([this,"access",o=>o._options,"access",o=>o.transportOptions,"optionalAccess",o=>o.textEncoder])));this._sendEnvelope(i)}}sendSession(e){if(this._dsn){var n=M8(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n){if(this._options.sendClientReports){var t=`${e}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`Adding outcome: "${t}"`),this._outcomes[t]=this._outcomes[t]+1||1}}_updateSessionFromEvent(e,n){let t=!1,i=!1;var o=n.exception&&n.exception.values;if(o){i=!0;for(var r of o){var s=r.mechanism;if(s&&s.handled===!1){t=!0;break}}}var a=e.status==="ok",f=a&&e.errors===0||a&&t;f&&(mr(e,{...t&&{status:"crashed"},errors:e.errors||Number(i||t)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ni(n=>{let t=0;var i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(t+=i,e&&t>=e&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,t){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var r={...e,event_id:e.event_id||n.event_id||yl(),timestamp:e.timestamp||zo()};this._applyClientOptions(r),this._applyIntegrationsMetadata(r);let s=t;n.captureContext&&(s=ci.clone(s).update(n.captureContext));let a=zl(r);if(s){var f=[...n.attachments||[],...s.getAttachments()];f.length&&(n.attachments=f),a=s.applyToEvent(r,n)}return a.then(u=>typeof i=="number"&&i>0?this._normalizeEvent(u,i,o):u)}_normalizeEvent(e,n,t){if(!e)return null;var i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Dl(o.data,n,t)}}))},...e.user&&{user:Dl(e.user,n,t)},...e.contexts&&{contexts:Dl(e.contexts,n,t)},...e.extra&&{extra:Dl(e.extra,n,t)}};return e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=Dl(e.contexts.trace.data,n,t))),e.spans&&(i.spans=e.spans.map(o=>(o.data&&(o.data=Dl(o.data,n,t)),o))),i}_applyClientOptions(e){var n=this.getOptions();const{environment:t,release:i,dist:o,maxValueLength:r=250}=n;"environment"in e||(e.environment="environment"in n?t:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=Ar(e.message,r));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Ar(s.value,r));var a=e.request;a&&a.url&&(a.url=Ar(a.url,r))}_applyIntegrationsMetadata(e){var n=Object.keys(this._integrations);n.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...n])}_captureEvent(e,n={},t){return this._processEvent(e,n,t).then(i=>i.event_id,i=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(i)})}_processEvent(e,n,t){const{beforeSend:i,sampleRate:o}=this.getOptions();if(!this._isEnabled())return Rs(new Ci("SDK not enabled, will not capture event."));var r=e.type==="transaction";return!r&&typeof o=="number"&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),Rs(new Ci(`Discarding event because it's not included in the random sample (sampling rate = ${o})`))):this._prepareEvent(e,n,t).then(s=>{if(s===null)throw this.recordDroppedEvent("event_processor",e.type||"error"),new Ci("An event processor returned null, will not send event.");var a=n.data&&n.data.__sentry__===!0;if(a||r||!i)return s;var f=i(s,n);return j8(f)}).then(s=>{if(s===null)throw this.recordDroppedEvent("before_send",e.type||"error"),new Ci("`beforeSend` returned `null`, will not send event.");var a=t&&t.getSession();return!r&&a&&this._updateSessionFromEvent(a,s),this.sendEvent(s,n),s}).then(null,s=>{throw s instanceof Ci?s:(this.captureException(s,{data:{__sentry__:!0},originalException:s}),new Ci(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${s}`))})}_process(e){this._numProcessing+=1,e.then(n=>(this._numProcessing-=1,n),n=>(this._numProcessing-=1,n))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[t,i]=n.split(":");return{reason:t,category:i,quantity:e[n]}})}}function j8(l){var e="`beforeSend` method has to return `null` or a valid event.";if(Ws(l))return l.then(n=>{if(!(dr(n)||n===null))throw new Ci(e);return n},n=>{throw new Ci(`beforeSend rejected with ${n}`)});if(!(dr(l)||l===null))throw new Ci(e);return l}function U8(l,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?bt.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=li(),t=n.getScope();t&&t.update(e.initialScope);var i=new l(e);n.bindClient(i)}var G8=30;function wb(l,e,n=Q6(l.bufferSize||G8)){let t={};var i=r=>n.drain(r);function o(r){var s=[];if(rh(r,(c,_)=>{var g=oh(_);m8(t,g)?l.recordDroppedEvent("ratelimit_backoff",g):s.push(c)}),s.length===0)return zl();var a=Wo(r[0],s),f=c=>{rh(a,(_,g)=>{l.recordDroppedEvent(c,oh(g))})},u=()=>e({body:mb(a,l.textEncoder)}).then(c=>{c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),t=p8(t,c)},c=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error("Failed while sending event:",c),f("network_error")});return n.add(u).then(c=>c,c=>{if(c instanceof Ci)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error("Skipped sending event due to full buffer"),f("queue_overflow"),zl();throw c})}return{send:o,flush:i}}var dh="7.2.0";let mh;class Wr{constructor(){Wr.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Wr.id}setupOnce(){mh=Function.prototype.toString,Function.prototype.toString=function(...e){var n=Js(this)||this;return mh.apply(n,e)}}}Wr.__initStatic();var q8=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class ir{static __initStatic(){this.id="InboundFilters"}__init(){this.name=ir.id}constructor(e={}){this._options=e,ir.prototype.__init.call(this)}setupOnce(e,n){var t=i=>{var o=n();if(o){var r=o.getIntegration(ir);if(r){var s=o.getClient(),a=s?s.getOptions():{},f=Y8(r._options,a);return H8(i,f)?null:i}}return i};t.id=this.name,e(t)}}ir.__initStatic();function Y8(l={},e={}){return{allowUrls:[...l.allowUrls||[],...e.allowUrls||[]],denyUrls:[...l.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...l.ignoreErrors||[],...e.ignoreErrors||[],...q8],ignoreInternal:l.ignoreInternal!==void 0?l.ignoreInternal:!0}}function H8(l,e){return e.ignoreInternal&&J8(l)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Event dropped due to being internal Sentry Error.
Event: ${jl(l)}`),!0):z8(l,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${jl(l)}`),!0):W8(l,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${jl(l)}.
Url: ${Io(l)}`),!0):V8(l,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${jl(l)}.
Url: ${Io(l)}`),!0)}function z8(l,e){return!e||!e.length?!1:X8(l).some(n=>e.some(t=>qr(n,t)))}function W8(l,e){if(!e||!e.length)return!1;var n=Io(l);return n?e.some(t=>qr(n,t)):!1}function V8(l,e){if(!e||!e.length)return!0;var n=Io(l);return n?e.some(t=>qr(n,t)):!0}function X8(l){if(l.message)return[l.message];if(l.exception)try{const{type:e="",value:n=""}=l.exception.values&&l.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error(`Cannot extract message for event ${jl(l)}`),[]}return[]}function J8(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}function K8(l=[]){for(let n=l.length-1;n>=0;n--){var e=l[n];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function Io(l){try{let e;try{e=l.exception.values[0].stacktrace.frames}catch{}return e?K8(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error(`Cannot extract url for event ${jl(l)}`),null}}function Eb(l,e){var n=nf(l,e),t={type:e&&e.name,value:eM(e)};return n.length&&(t.stacktrace={frames:n}),t.type===void 0&&t.value===""&&(t.value="Unrecoverable error caught"),t}function Z8(l,e,n,t){var i={exception:{values:[{type:zs(e)?e.constructor.name:t?"UnhandledRejection":"Error",value:`Non-Error ${t?"promise rejection":"exception"} captured with keys: ${O6(e)}`}]},extra:{__serialized__:_b(e)}};if(n){var o=nf(l,n);o.length&&(i.exception.values[0].stacktrace={frames:o})}return i}function gs(l,e){return{exception:{values:[Eb(l,e)]}}}function nf(l,e){var n=e.stacktrace||e.stack||"",t=x8(e);try{return l(n,t)}catch{}return[]}var Q8=/Minified React error #\d+;/i;function x8(l){if(l){if(typeof l.framesToPop=="number")return l.framesToPop;if(Q8.test(l.message))return 1}return 0}function eM(l){var e=l&&l.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function tM(l,e,n,t){var i=n&&n.syntheticException||void 0,o=lf(l,e,i,t);return Yr(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),zl(o)}function nM(l,e,n="info",t,i){var o=t&&t.syntheticException||void 0,r=Ms(l,e,o,i);return r.level=n,t&&t.event_id&&(r.event_id=t.event_id),zl(r)}function lf(l,e,n,t,i){let o;if(ib(e)&&e.error){var r=e;return gs(l,r.error)}if(K1(e)||p6(e)){var s=e;if("stack"in e)o=gs(l,e);else{var a=s.name||(K1(s)?"DOMError":"DOMException"),f=s.message?`${a}: ${s.message}`:a;o=Ms(l,f,n,t),Os(o,f)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}if(nb(e))return gs(l,e);if(dr(e)||zs(e)){var u=e;return o=Z8(l,u,n,i),Yr(o,{synthetic:!0}),o}return o=Ms(l,e,n,t),Os(o,`${e}`,void 0),Yr(o,{synthetic:!0}),o}function Ms(l,e,n,t){var i={message:e};if(t&&n){var o=nf(l,n);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]})}return i}var Sb="Breadcrumbs";class Vr{static __initStatic(){this.id=Sb}__init(){this.name=Vr.id}constructor(e){Vr.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&Fi("console",lM),this.options.dom&&Fi("dom",iM(this.options.dom)),this.options.xhr&&Fi("xhr",rM),this.options.fetch&&Fi("fetch",oM),this.options.history&&Fi("history",sM)}}Vr.__initStatic();function iM(l){function e(n){let t,i=typeof l=="object"?l.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{t=n.event.target?Gr(n.event.target,i):Gr(n.event,i)}catch{t="<unknown>"}t.length!==0&&li().addBreadcrumb({category:`ui.${n.name}`,message:t},{event:n.event,name:n.name,global:n.global})}return e}function lM(l){var e={category:"console",data:{arguments:l.args,logger:"console"},level:t8(l.level),message:Q1(l.args," ")};if(l.level==="assert")if(l.args[0]===!1)e.message=`Assertion failed: ${Q1(l.args.slice(1)," ")||"console.assert"}`,e.data.arguments=l.args.slice(1);else return;li().addBreadcrumb(e,{input:l.args,level:l.level})}function rM(l){if(l.endTimestamp){if(l.xhr.__sentry_own_request__)return;const{method:e,url:n,status_code:t,body:i}=l.xhr.__sentry_xhr__||{};li().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:t},type:"http"},{xhr:l.xhr,input:i});return}}function oM(l){l.endTimestamp&&(l.fetchData.url.match(/sentry_key/)&&l.fetchData.method==="POST"||(l.error?li().addBreadcrumb({category:"fetch",data:l.fetchData,level:"error",type:"http"},{data:l.error,input:l.args}):li().addBreadcrumb({category:"fetch",data:{...l.fetchData,status_code:l.response.status},type:"http"},{input:l.args,response:l.response})))}function sM(l){var e=Cn();let n=l.from,t=l.to;var i=ps(e.location.href);let o=ps(n);var r=ps(t);o.path||(o=i),i.protocol===r.protocol&&i.host===r.host&&(t=r.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),li().addBreadcrumb({category:"navigation",data:{from:n,to:t}})}var Hi=Cn();let oo;function Tb(){if(oo)return oo;if(Is(Hi.fetch))return oo=Hi.fetch.bind(Hi);var l=Hi.document;let e=Hi.fetch;if(l&&typeof l.createElement=="function")try{var n=l.createElement("iframe");n.hidden=!0,l.head.appendChild(n);var t=n.contentWindow;t&&t.fetch&&(e=t.fetch),l.head.removeChild(n)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return oo=e.bind(Hi)}function fM(l,e){var n=Object.prototype.toString.call(Hi&&Hi.navigator)==="[object Navigator]",t=n&&typeof Hi.navigator.sendBeacon=="function";if(t){var i=Hi.navigator.sendBeacon.bind(Hi.navigator);i(l,e)}else if(Ks()){var o=Tb();o(l,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error(r)})}}var bs=Cn();class aM extends er{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:dh}],version:dh},super(e),e.sendClientReports&&bs.document&&bs.document.addEventListener("visibilitychange",()=>{bs.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return tM(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",t){return nM(this._options.stackParser,e,n,t,this._options.attachStacktrace)}sendEvent(e,n){var t=this.getIntegrationById(Sb);t&&t.options&&t.options.sentry&&li().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:jl(e)},{event:e}),super.sendEvent(e,n)}_prepareEvent(e,n,t){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,t)}_flushOutcomes(){var e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("Sending outcomes:",e);var n=yb(this._dsn,this._options.tunnel),t=u8(e,this._options.tunnel&&Vs(this._dsn));try{fM(n,mb(t))}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.error(i)}}}function uM(l,e=Tb()){function n(t){var i={body:t.body,method:"POST",referrerPolicy:"origin",headers:l.headers,...l.fetchOptions};return e(l.url,i).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}return wb(l,n)}var cM=4;function _M(l){function e(n){return new Ni((t,i)=>{var o=new XMLHttpRequest;o.onerror=i,o.onreadystatechange=()=>{o.readyState===cM&&t({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",l.url);for(var r in l.headers)Object.prototype.hasOwnProperty.call(l.headers,r)&&o.setRequestHeader(r,l.headers[r]);o.send(n.body)})}return wb(l,e)}var Vo="?",dM=30,mM=40,pM=50;function rf(l,e,n,t){var i={filename:l,function:e,in_app:!0};return n!==void 0&&(i.lineno=n),t!==void 0&&(i.colno=t),i}var hM=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gM=/\((\S*)(?::(\d+))(?::(\d+))\)/,bM=l=>{var e=hM.exec(l);if(e){var n=e[2]&&e[2].indexOf("eval")===0;if(n){var t=gM.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[i,o]=Cb(e[1]||Vo,e[2]);return rf(o,i,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},$M=[dM,bM],vM=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,yM=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,kM=l=>{var e=vM.exec(l);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1;if(n){var t=yM.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let i=e[3],o=e[1]||Vo;return[o,i]=Cb(o,i),rf(i,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},wM=[pM,kM],EM=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,SM=l=>{var e=EM.exec(l);return e?rf(e[2],e[1]||Vo,+e[3],e[4]?+e[4]:void 0):void 0},TM=[mM,SM],CM=[$M,wM,TM],IM=ub(...CM),Cb=(l,e)=>{var n=l.indexOf("safari-extension")!==-1,t=l.indexOf("safari-web-extension")!==-1;return n||t?[l.indexOf("@")!==-1?l.split("@")[0]:Vo,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[l,e]};let Ds=0;function Ib(){return Ds>0}function OM(){Ds+=1,setTimeout(()=>{Ds-=1})}function pr(l,e={},n){if(typeof l!="function")return l;try{var t=l.__sentry_wrapped__;if(t)return t;if(Js(l))return l}catch{return l}var i=function(){var s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var a=s.map(f=>pr(f,e));return l.apply(this,a)}catch(f){throw OM(),I8(u=>{u.addEventProcessor(c=>(e.mechanism&&(Os(c,void 0,void 0),Yr(c,e.mechanism)),c.extra={...c.extra,arguments:s},c)),tf(f)}),f}};try{for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])}catch{}fb(i,l),Xs(l,"__sentry_wrapped__",i);try{var r=Object.getOwnPropertyDescriptor(i,"name");r.configurable&&Object.defineProperty(i,"name",{get(){return l.name}})}catch{}return i}class kl{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=kl.id}__init2(){this._installFunc={onerror:RM,onunhandledrejection:NM}}constructor(e){kl.prototype.__init.call(this),kl.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var n in e){var t=this._installFunc[n];t&&e[n]&&(MM(n),t(),this._installFunc[n]=void 0)}}}kl.__initStatic();function RM(){Fi("error",l=>{const[e,n,t]=Nb();if(!e.getIntegration(kl))return;const{msg:i,url:o,line:r,column:s,error:a}=l;if(!(Ib()||a&&a.__sentry_own_request__)){var f=a===void 0&&_r(i)?BM(i,o,r,s):Ob(lf(n,a||i,void 0,t,!1),o,r,s);f.level="error",Rb(e,a,f,"onerror")}})}function NM(){Fi("unhandledrejection",l=>{const[e,n,t]=Nb();if(!e.getIntegration(kl))return;let i=l;try{"reason"in l?i=l.reason:"detail"in l&&"reason"in l.detail&&(i=l.detail.reason)}catch{}if(Ib()||i&&i.__sentry_own_request__)return!0;var o=lb(i)?AM(i):lf(n,i,void 0,t,!0);o.level="error",Rb(e,i,o,"onunhandledrejection")})}function AM(l){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}}function BM(l,e,n,t){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=ib(l)?l.message:l,r="Error";var s=o.match(i);s&&(r=s[1],o=s[2]);var a={exception:{values:[{type:r,value:o}]}};return Ob(a,e,n,t)}function Ob(l,e,n,t){var i=l.exception=l.exception||{},o=i.values=i.values||[],r=o[0]=o[0]||{},s=r.stacktrace=r.stacktrace||{},a=s.frames=s.frames||[],f=isNaN(parseInt(t,10))?void 0:t,u=isNaN(parseInt(n,10))?void 0:n,c=_r(e)&&e.length>0?e:v6();return a.length===0&&a.push({colno:f,filename:c,function:"?",in_app:!0,lineno:u}),l}function MM(l){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`Global Handler attached: ${l}`)}function Rb(l,e,n,t){Yr(n,{handled:!1,type:t}),l.captureEvent(n,{originalException:e})}function Nb(){var l=li(),e=l.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[l,n.stackParser,n.attachStacktrace]}var DM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Xr{static __initStatic(){this.id="TryCatch"}__init(){this.name=Xr.id}constructor(e){Xr.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){var e=Cn();this._options.setTimeout&&Ii(e,"setTimeout",ph),this._options.setInterval&&Ii(e,"setInterval",ph),this._options.requestAnimationFrame&&Ii(e,"requestAnimationFrame",LM),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Ii(XMLHttpRequest.prototype,"send",FM);var n=this._options.eventTarget;if(n){var t=Array.isArray(n)?n:DM;t.forEach(PM)}}}Xr.__initStatic();function ph(l){return function(...e){var n=e[0];return e[0]=pr(n,{mechanism:{data:{function:El(l)},handled:!0,type:"instrument"}}),l.apply(this,e)}}function LM(l){return function(e){return l.apply(this,[pr(e,{mechanism:{data:{function:"requestAnimationFrame",handler:El(l)},handled:!0,type:"instrument"}})])}}function FM(l){return function(...e){var n=this,t=["onload","onerror","onprogress","onreadystatechange"];return t.forEach(i=>{i in n&&typeof n[i]=="function"&&Ii(n,i,function(o){var r={mechanism:{data:{function:i,handler:El(o)},handled:!0,type:"instrument"}},s=Js(o);return s&&(r.mechanism.data.handler=El(s)),pr(o,r)})}),l.apply(this,e)}}function PM(l){var e=Cn(),n=e[l]&&e[l].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ii(n,"addEventListener",function(t){return function(i,o,r){try{typeof o.handleEvent=="function"&&(o.handleEvent=pr(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:El(o),target:l},handled:!0,type:"instrument"}}))}catch{}return t.apply(this,[i,pr(o,{mechanism:{data:{function:"addEventListener",handler:El(o),target:l},handled:!0,type:"instrument"}}),r])}}),Ii(n,"removeEventListener",function(t){return function(i,o,r){var s=o;try{var a=s&&s.__sentry_wrapped__;a&&t.call(this,i,a,r)}catch{}return t.call(this,i,s,r)}}))}var jM="cause",UM=5;class lr{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=lr.id}constructor(e={}){lr.prototype.__init.call(this),this._key=e.key||jM,this._limit=e.limit||UM}setupOnce(){var e=li().getClient();e&&Qs((n,t)=>{var i=li().getIntegration(lr);return i?GM(e.getOptions().stackParser,i._key,i._limit,n,t):n})}}lr.__initStatic();function GM(l,e,n,t,i){if(!t.exception||!t.exception.values||!i||!pl(i.originalException,Error))return t;var o=Ab(l,n,i.originalException,e);return t.exception.values=[...o,...t.exception.values],t}function Ab(l,e,n,t,i=[]){if(!pl(n[t],Error)||i.length+1>=e)return i;var o=Eb(l,n[t]);return Ab(l,e,n[t],t,[o,...i])}var Ml=Cn();class rr{constructor(){rr.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=rr.id}setupOnce(){Qs(e=>{if(li().getIntegration(rr)){if(!Ml.navigator&&!Ml.location&&!Ml.document)return e;var n=e.request&&e.request.url||Ml.location&&Ml.location.href;const{referrer:o}=Ml.document||{},{userAgent:r}=Ml.navigator||{};var t={...e.request&&e.request.headers,...o&&{Referer:o},...r&&{"User-Agent":r}},i={...n&&{url:n},headers:t};return{...e,request:i}}return e})}}rr.__initStatic();class or{constructor(){or.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=or.id}setupOnce(e,n){var t=i=>{var o=n().getIntegration(or);if(o){try{if(qM(i,o._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=i}return o._previousEvent=i}return i};t.id=this.name,e(t)}}or.__initStatic();function qM(l,e){return e?!!(YM(l,e)||HM(l,e)):!1}function YM(l,e){var n=l.message,t=e.message;return!(!n&&!t||n&&!t||!n&&t||n!==t||!Mb(l,e)||!Bb(l,e))}function HM(l,e){var n=hh(e),t=hh(l);return!(!n||!t||n.type!==t.type||n.value!==t.value||!Mb(l,e)||!Bb(l,e))}function Bb(l,e){let n=gh(l),t=gh(e);if(!n&&!t)return!0;if(n&&!t||!n&&t||(n=n,t=t,t.length!==n.length))return!1;for(let r=0;r<t.length;r++){var i=t[r],o=n[r];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Mb(l,e){let n=l.fingerprint,t=e.fingerprint;if(!n&&!t)return!0;if(n&&!t||!n&&t)return!1;n=n,t=t;try{return n.join("")===t.join("")}catch{return!1}}function hh(l){return l.exception&&l.exception.values&&l.exception.values[0]}function gh(l){var e=l.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var zM=[new ir,new Wr,new Xr,new Vr,new kl,new lr,new or,new rr];function WM(l={}){if(l.defaultIntegrations===void 0&&(l.defaultIntegrations=zM),l.release===void 0){var e=Cn();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(l.release=e.SENTRY_RELEASE.id)}l.autoSessionTracking===void 0&&(l.autoSessionTracking=!0),l.sendClientReports===void 0&&(l.sendClientReports=!0);var n={...l,stackParser:N6(l.stackParser||IM),integrations:F8(l),transport:l.transport||(Ks()?uM:_M)};U8(aM,n),l.autoSessionTracking&&VM()}function bh(l){l.startSession({ignoreDuration:!0}),l.captureSession()}function VM(){var l=Cn(),e=l.document;if(typeof e>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var n=li();n.captureSession&&(bh(n),Fi("history",({from:t,to:i})=>{t===void 0||t===i||bh(li())}))}function $h(l,e,n){const t=l.slice();return t[21]=e[n],t}function vh(l,e,n){const t=l.slice();return t[24]=e[n],t}function XM(l){let e=" ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:ie,d(t){t&&p(n)}}}function JM(l){let e,n=l[2](l[24].partId,l[24].variant)+"",t;return{c(){e=m("span"),t=w(n),_e(e,"title",`${l[24].partId}_${l[24].variant}`),_e(e,"class",`c_${l[3](l[24].partId)}`)},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function yh(l){let e;function n(o,r){return o[24]?JM:XM}let i=n(l)(l);return{c(){i.c(),e=fe()},m(o,r){i.m(o,r),h(o,e,r)},p(o,r){i.p(o,r)},d(o){i.d(o),o&&p(e)}}}function kh(l){let e=`
`,n,t=l[21],i=[];for(let o=0;o<t.length;o+=1)i[o]=yh(vh(l,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=w(e)},m(o,r){for(let s=0;s<i.length;s+=1)i[s].m(o,r);h(o,n,r)},p(o,r){if(r&28){t=o[21];let s;for(s=0;s<t.length;s+=1){const a=vh(o,t,s);i[s]?i[s].p(a,r):(i[s]=yh(a),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){we(i,o),o&&p(n)}}}function KM(l){let e,n,t,i,o;return i=new Zt({props:{items:l[6],$$slots:{default:[ZM,({item:{id:r,count:s}})=>({19:r,20:s}),({item:r})=>(r?524288:0)|(r?1048576:0)]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Parts",{_context:tD})}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&135790592&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function ZM(l){let e,n,t=l[20]+"",i,o,r;return e=new ve({props:{id:l[19],type:"vehicle_part"}}),{c(){W(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){H(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),r=!0},p(s,a){const f={};a&524288&&(f.id=s[19]),e.$set(f),(!r||a&1048576)&&t!==(t=s[20]+"")&&K(i,t)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),r=!1},d(s){z(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function QM(l){let e,n,t,i,o;return i=new Zt({props:{items:l[5],$$slots:{default:[xM,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Items")}`,t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),d(e,n),d(e,t),H(i,e,null),o=!0},p(r,s){const a={};s&134217729&&(a.$$scope={dirty:s,ctx:r}),i.$set(a)},i(r){o||(b(i.$$.fragment,r),o=!0)},o(r){$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(i)}}}function xM(l){let e,n,t,i,o=fr(l[0].prob)+"",r,s,a;return e=new Lt({props:{item:l[1].byId("item",l[0].id)}}),t=new ve({props:{id:l[0].id,type:"item"}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment),i=w(`
      (`),r=w(o),s=w(")")},m(f,u){H(e,f,u),h(f,n,u),H(t,f,u),h(f,i,u),h(f,r,u),h(f,s,u),a=!0},p(f,u){const c={};u&1&&(c.item=f[1].byId("item",f[0].id)),e.$set(c);const _={};u&1&&(_.id=f[0].id),t.$set(_),(!a||u&1)&&o!==(o=fr(f[0].prob)+"")&&K(r,o)},i(f){a||(b(e.$$.fragment,f),b(t.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),a=!1},d(f){z(e,f),f&&p(n),z(t,f),f&&p(i),f&&p(r),f&&p(s)}}}function eD(l){let e,n=it(l[0])+"",t,i,o,r,s,a,f,u,c=l[4],_=[];for(let k=0;k<c.length;k+=1)_[k]=kh($h(l,c,k));let g=l[6].length&&KM(l),y=l[5].length&&QM(l);return{c(){e=m("h1"),t=w(n),i=N(),o=m("section"),r=m("pre");for(let k=0;k<_.length;k+=1)_[k].c();s=N(),g&&g.c(),a=N(),y&&y.c(),f=fe(),Bt(r,"font-family","Unifont, monospace"),Bt(r,"line-height","1")},m(k,T){h(k,e,T),d(e,t),h(k,i,T),h(k,o,T),d(o,r);for(let R=0;R<_.length;R+=1)_[R].m(r,null);h(k,s,T),g&&g.m(k,T),h(k,a,T),y&&y.m(k,T),h(k,f,T),u=!0},p(k,[T]){if((!u||T&1)&&n!==(n=it(k[0])+"")&&K(t,n),T&28){c=k[4];let R;for(R=0;R<c.length;R+=1){const C=$h(k,c,R);_[R]?_[R].p(C,T):(_[R]=kh(C),_[R].c(),_[R].m(r,null))}for(;R<_.length;R+=1)_[R].d(1);_.length=c.length}k[6].length&&g.p(k,T),k[5].length&&y.p(k,T)},i(k){u||(b(g),b(y),u=!0)},o(k){$(g),$(y),u=!1},d(k){k&&p(e),k&&p(i),k&&p(o),we(_,k),k&&p(s),g&&g.d(k),k&&p(a),y&&y.d(k),k&&p(f)}}}const tD="Vehicle";function nD(l,e,n){let{item:t}=e;const i=qt("data");let o=1/0,r=-1/0,s=1/0,a=-1/0;for(const L of t.parts)L.x<o&&(o=L.x),L.x>r&&(r=L.x),L.y<s&&(s=L.y),L.y>a&&(a=L.y);const f={cover:"^",cross:"c",horizontal:"h",horizontal_2:"=",vertical:"j",vertical_2:"H",ne:"u",nw:"y",se:"n",sw:"b"},u={on_roof:9,on_cargo:8,center:7,under:6,structure:5,engine_block:4,on_battery_mount:3,fuel_source:2,roof:-1,armor:-2},c={XOXO:"│",OXOX:"─",XXOO:"└",OXXO:"┌",OOXX:"┐",XOOX:"┘",XXXO:"├",XXOX:"┴",XOXX:"┤",OXXX:"┬",XXXX:"┼"},_=L=>{switch(L){case"j":return c.XOXO;case"h":return c.OXOX;case"c":return c.XXXX;case"y":return c.OXXO;case"u":return c.OOXX;case"n":return c.XOOX;case"b":return c.XXOO;default:return L}},g=(L,P)=>{const U=i.byIdMaybe("vehicle_part",L)??(L.startsWith("turret_")?i.byIdMaybe("vehicle_part","turret_generic"):null);if(!U)return"?";const q=U.symbol??"=",G={...U.standard_symbols?f:{},...U.symbols};return _(G[P]??q)},y=L=>{const P=i.byIdMaybe("vehicle_part",L)??(L.startsWith("turret_")?i.byIdMaybe("vehicle_part","turret_generic"):null);return P?P.color:"white"},k=t.parts.map(L=>{var U,q;const P=((q=L.part?[{part:L.part,fuel:L.fuel}]:(U=L.parts)==null?void 0:U.map(G=>typeof G=="string"?{part:G}:G))==null?void 0:q.map(({part:G,fuel:Z})=>{const[M,x]=P0(i,G);return{partId:M,variant:x,fuel:Z}}))??[];return{x:L.x,y:L.y,parts:P}}),T=L=>{const P=i.byIdMaybe("vehicle_part",L);if(!P){if(L.startsWith("turret_"))return T("turret_generic");tf(new Error("Vehicle referenced unknown part"),{contexts:{item:{id:t.id,partId:L}}})}const U=(P==null?void 0:P.location)??"";return u[U]??0},R=[];for(let L=r;L>=o;L--){const P=[];for(let U=s;U<=a;U++){const q=k.filter(M=>M.x===L&&M.y===U).flatMap(M=>M.parts);if(!q.length){P.push(void 0);continue}let G=q[0],Z=T(G.partId);for(const M of q){const x=T(M.partId);x>=0&&x>Z&&(Z=x,G=M)}P.push(G)}R.push(P)}const C=i.flattenItemGroup(j0(t));C.sort((L,P)=>P.prob-L.prob);const B=k.flatMap(L=>L.parts).filter(L=>i.byIdMaybe("vehicle_part",L.partId)),j=[...Us(B,L=>[L.partId]).entries()].map(([L,P])=>({id:L,count:P.length}));return j.sort((L,P)=>L.count===P.count?it(i.byId("vehicle_part",L.id)).localeCompare(it(i.byId("vehicle_part",P.id))):P.count-L.count),l.$$set=L=>{"item"in L&&n(0,t=L.item)},[t,i,g,y,R,C,j]}class iD extends Et{constructor(e){super(),wt(this,e,nD,eD,$t,{item:0})}}function wh(l,e,n){const t=l.slice();return t[9]=e[n],t}function Eh(l,e,n){const t=l.slice();return t[12]=e[n],t}function Sh(l,e,n){const t=l.slice();return t[15]=e[n][0],t[16]=e[n][1],t}function Th(l,e,n){const t=l.slice();return t[19]=e[n],t}function Ch(l,e,n){const t=l.slice();return t[22]=e[n],t}function Ih(l,e,n){const t=l.slice();return t[25]=e[n].id,t[26]=e[n].prob,t}function Oh(l,e,n){const t=l.slice();return t[29]=e[n][0],t[30]=e[n][1],t}function Rh(l,e,n){const t=l.slice();return t[25]=e[n].id,t[26]=e[n].prob,t[33]=e[n].count,t}function Nh(l){let e,n,t,i,o,r,s;return t=new Lt({props:{item:l[1].byId("terrain",l[0].transforms_into)}}),o=new ve({props:{id:l[0].transforms_into,type:"terrain"}}),{c(){e=m("dt"),e.textContent=`${O.t("Transforms Into",{_context:Vi})}`,n=m("dd"),W(t.$$.fragment),i=N(),W(o.$$.fragment),r=N()},m(a,f){h(a,e,f),h(a,n,f),H(t,n,null),d(n,i),H(o,n,null),d(n,r),s=!0},p(a,f){const u={};f[0]&1&&(u.item=a[1].byId("terrain",a[0].transforms_into)),t.$set(u);const c={};f[0]&1&&(c.id=a[0].transforms_into),o.$set(c)},i(a){s||(b(t.$$.fragment,a),b(o.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),$(o.$$.fragment,a),s=!1},d(a){a&&p(e),a&&p(n),z(t),z(o)}}}function Ah(l){let e,n,t,i,o;return t=new Sl({props:{act:l[0].boltcut,resultType:"terrain"}}),{c(){e=m("dt"),e.textContent=`${O.t("Boltcut",{_context:Vi})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.act=r[0].boltcut),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function Bh(l){let e,n,t,i,o;return t=new Sl({props:{act:l[0].hacksaw,resultType:"terrain"}}),{c(){e=m("dt"),e.textContent=`${O.t("Hacksaw",{_context:Vi})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.act=r[0].hacksaw),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function Mh(l){let e,n,t,i,o;return t=new Sl({props:{act:l[0].oxytorch,resultType:"terrain"}}),{c(){e=m("dt"),e.textContent=`${O.t("Oxytorch",{_context:Vi})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.act=r[0].oxytorch),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function Dh(l){let e,n,t,i,o;return t=new Sl({props:{act:l[0].prying,resultType:"terrain"}}),{c(){e=m("dt"),e.textContent=`${O.t("Prying",{_context:Vi})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.act=r[0].prying),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function lD(l){let e,n=l[29]+"",t,i,o,r,s,a=l[30],f=[];for(let c=0;c<a.length;c+=1)f[c]=Lh(Rh(l,a,c));const u=c=>$(f[c],1,1,()=>{f[c]=null});return{c(){e=m("dt"),t=w(n),i=m("dd"),o=m("ul");for(let c=0;c<f.length;c+=1)f[c].c();r=N(),_e(o,"class","comma-separated")},m(c,_){h(c,e,_),d(e,t),h(c,i,_),d(i,o);for(let g=0;g<f.length;g+=1)f[g].m(o,null);d(i,r),s=!0},p(c,_){if(_[0]&4){a=c[30];let g;for(g=0;g<a.length;g+=1){const y=Rh(c,a,g);f[g]?(f[g].p(y,_),b(f[g],1)):(f[g]=Lh(y),f[g].c(),b(f[g],1),f[g].m(o,null))}for(re(),g=a.length;g<f.length;g+=1)u(g);oe()}},i(c){if(!s){for(let _=0;_<a.length;_+=1)b(f[_]);s=!0}},o(c){f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)$(f[_]);s=!1},d(c){c&&p(e),c&&p(i),we(f,c)}}}function rD(l){let e,n=l[33][0]+"",t,i,o=l[33][1]+"",r,s;return{c(){e=w(" ("),t=w(n),i=w("–"),r=w(o),s=w(")")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,r,f),h(a,s,f)},p:ie,d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(r),a&&p(s)}}}function oD(l){let e,n=l[33][0]!==1&&sD(l);return{c(){n&&n.c(),e=fe()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,i){t[33][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&p(e)}}}function sD(l){let e,n=l[33][0]+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function fD(l){let e,n=fr(l[26])+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,i,r)},p:ie,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function Lh(l){let e,n,t,i="",o,r="",s,a;t=new ve({props:{type:"item",id:l[25]}});function f(g,y){return g[33][0]===g[33][1]?oD:rD}let c=f(l)(l),_=l[26]!==1&&fD(l);return{c(){e=m("li"),n=m("span"),W(t.$$.fragment),o=w(i),c.c(),s=w(r),_&&_.c(),Bt(n,"white-space","nowrap")},m(g,y){h(g,e,y),d(e,n),H(t,n,null),d(n,o),c.m(n,null),d(n,s),_&&_.m(n,null),a=!0},p(g,y){c.p(g,y),g[26]!==1&&_.p(g,y)},i(g){a||(b(t.$$.fragment,g),a=!0)},o(g){$(t.$$.fragment,g),a=!1},d(g){g&&p(e),z(t),c.d(),_&&_.d()}}}function Fh(l){let e,n,t=l[30].length&&lD(l);return{c(){t&&t.c(),e=fe()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,o){i[30].length&&t.p(i,o)},i(i){n||(b(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function aD(l){let e,n,t,i,o,r=l[3],s=[];for(let f=0;f<r.length;f+=1)s[f]=Gh(Sh(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Harvest",{_context:Vi})}`,n=m("dd"),t=m("dl");for(let f=0;f<s.length;f+=1)s[f].c();i=N()},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&10){r=f[3];let c;for(c=0;c<r.length;c+=1){const _=Sh(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Gh(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function uD(l){let e,n,t,i,o;return n=new Lt({props:{item:l[1].byId("item",l[22].drop)}}),i=new ve({props:{type:"item",id:l[22].drop}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment)},m(r,s){h(r,e,s),H(n,e,null),d(e,t),H(i,e,null),o=!0},p:ie,i(r){o||(b(n.$$.fragment,r),b(i.$$.fragment,r),o=!0)},o(r){$(n.$$.fragment,r),$(i.$$.fragment,r),o=!1},d(r){r&&p(e),z(n),z(i)}}}function cD(l){let e,n,t=l[1].flattenTopLevelItemGroup(l[1].byId("item_group",l[22].drop)),i=[];for(let r=0;r<t.length;r+=1)i[r]=Ph(Ih(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=fe()},m(r,s){for(let a=0;a<i.length;a+=1)i[a].m(r,s);h(r,e,s),n=!0},p(r,s){if(s[0]&10){t=r[1].flattenTopLevelItemGroup(r[1].byId("item_group",r[22].drop));let a;for(a=0;a<t.length;a+=1){const f=Ih(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Ph(f),i[a].c(),b(i[a],1),i[a].m(e.parentNode,e))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){we(i,r),r&&p(e)}}}function Ph(l){let e,n,t,i,o,r=(l[26]*100).toFixed(2)+"",s,a,f;return n=new Lt({props:{item:l[1].byId("item",l[25])}}),i=new ve({props:{type:"item",id:l[25]}}),{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=w(" ("),s=w(r),a=w("%)")},m(u,c){h(u,e,c),H(n,e,null),d(e,t),H(i,e,null),d(e,o),d(e,s),d(e,a),f=!0},p:ie,i(u){f||(b(n.$$.fragment,u),b(i.$$.fragment,u),f=!0)},o(u){$(n.$$.fragment,u),$(i.$$.fragment,u),f=!1},d(u){u&&p(e),z(n),z(i)}}}function jh(l){let e,n,t,i;const o=[cD,uD],r=[];function s(a,f){return a[22].type==="bionic_group"?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function Uh(l){let e,n,t=l[19].entries,i=[];for(let r=0;r<t.length;r+=1)i[r]=jh(Ch(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){e=m("ul");for(let r=0;r<i.length;r+=1)i[r].c()},m(r,s){h(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(r,s){if(s[0]&10){t=r[19].entries;let a;for(a=0;a<t.length;a+=1){const f=Ch(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=jh(f),i[a].c(),b(i[a],1),i[a].m(e,null))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){r&&p(e),we(i,r)}}}function Gh(l){let e,n=kn.__(l[15].replace(/^(.)/,mD))+"",t,i,o,r,s=[l[1].byId("harvest",l[16])],a=[];for(let u=0;u<1;u+=1)a[u]=Uh(Th(l,s,u));const f=u=>$(a[u],1,1,()=>{a[u]=null});return{c(){e=m("dt"),t=w(n),i=m("dd");for(let u=0;u<1;u+=1)a[u].c();o=N()},m(u,c){h(u,e,c),d(e,t),h(u,i,c);for(let _=0;_<1;_+=1)a[_].m(i,null);d(i,o),r=!0},p(u,c){if(c[0]&10){s=[u[1].byId("harvest",u[16])];let _;for(_=0;_<1;_+=1){const g=Th(u,s,_);a[_]?(a[_].p(g,c),b(a[_],1)):(a[_]=Uh(g),a[_].c(),b(a[_],1),a[_].m(i,o))}for(re(),_=1;_<1;_+=1)f(_);oe()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)$(a[c]);r=!1},d(u){u&&p(e),u&&p(i),we(a,u)}}}function qh(l){let e,n;return{c(){e=m("li"),n=m("em"),n.textContent=`${O.t("none")}`},m(t,i){h(t,e,i),d(e,n)},p:ie,d(t){t&&p(e)}}}function Yh(l){let e,n,t;return n=new ve({props:{type:"json_flag",id:l[12]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[12]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function _D(l){let e,n,t,i,o=l[4],r=[];for(let a=0;a<o.length;a+=1)r[a]=Hh(wh(l,o,a));const s=a=>$(r[a],1,1,()=>{r[a]=null});return{c(){e=m("h2"),e.textContent=`${O.t("Construction",{_context:Vi})}`,n=N();for(let a=0;a<r.length;a+=1)r[a].c();t=fe()},m(a,f){h(a,e,f),h(a,n,f);for(let u=0;u<r.length;u+=1)r[u].m(a,f);h(a,t,f),i=!0},p(a,f){if(f[0]&16){o=a[4];let u;for(u=0;u<o.length;u+=1){const c=wh(a,o,u);r[u]?(r[u].p(c,f),b(r[u],1)):(r[u]=Hh(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(re(),u=o.length;u<r.length;u+=1)s(u);oe()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)b(r[f]);i=!0}},o(a){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)$(r[f]);i=!1},d(a){a&&p(e),a&&p(n),we(r,a),a&&p(t)}}}function Hh(l){let e,n;return e=new qs({props:{construction:l[9],includeTitle:!0}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p:ie,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function dD(l){let e,n,t,i=it(l[0])+"",o,r,s,a,f,u,c=(l[0].move_cost??100)+"",_,g,y,k=(l[0].coverage??0)+"",T,R,C,B,D,j,L,P,U,q,G,Z,M,x=Qt(l[0].description)+"",ne,F,X,J;n=new Lt({props:{item:l[0]}});let V=l[0].transforms_into&&Nh(l),se=l[0].boltcut&&Ah(l),me=l[0].hacksaw&&Bh(l),Q=l[0].oxytorch&&Mh(l),ee=l[0].prying&&Dh(l),le=l[2],ue=[];for(let he=0;he<le.length;he+=1)ue[he]=Fh(Oh(l,le,he));const be=he=>$(ue[he],1,1,()=>{ue[he]=null});let Le=l[3].length&&aD(l),ke=l[0].flags??[],Ee=[];for(let he=0;he<ke.length;he+=1)Ee[he]=Yh(Eh(l,ke,he));const Te=he=>$(Ee[he],1,1,()=>{Ee[he]=null});let Re=null;ke.length||(Re=qh());let He=l[4].length&&_D(l);return{c(){e=m("h1"),W(n.$$.fragment),t=N(),o=w(i),r=N(),s=m("section"),a=m("dl"),f=m("dt"),f.textContent=`${O.t("Move Cost",{_context:Vi})}`,u=m("dd"),_=w(c),g=m("dt"),g.textContent=`${O.t("Coverage",{_context:Vi})}`,y=m("dd"),T=w(k),R=w("%"),V&&V.c(),C=fe(),se&&se.c(),B=fe(),me&&me.c(),D=fe(),Q&&Q.c(),j=fe(),ee&&ee.c(),L=fe();for(let he=0;he<ue.length;he+=1)ue[he].c();P=fe(),Le&&Le.c(),U=m("dt"),U.textContent=`${O.t("Flags")}`,q=m("dd"),G=m("ul");for(let he=0;he<Ee.length;he+=1)Ee[he].c();Re&&Re.c(),Z=N(),M=m("p"),ne=w(x),F=N(),He&&He.c(),X=fe(),_e(G,"class","comma-separated"),Bt(M,"color","var(--cata-color-gray)"),Bt(M,"margin-bottom","0")},m(he,Ce){h(he,e,Ce),H(n,e,null),d(e,t),d(e,o),h(he,r,Ce),h(he,s,Ce),d(s,a),d(a,f),d(a,u),d(u,_),d(a,g),d(a,y),d(y,T),d(y,R),V&&V.m(a,null),d(a,C),se&&se.m(a,null),d(a,B),me&&me.m(a,null),d(a,D),Q&&Q.m(a,null),d(a,j),ee&&ee.m(a,null),d(a,L);for(let De=0;De<ue.length;De+=1)ue[De].m(a,null);d(a,P),Le&&Le.m(a,null),d(a,U),d(a,q),d(q,G);for(let De=0;De<Ee.length;De+=1)Ee[De].m(G,null);Re&&Re.m(G,null),d(s,Z),d(s,M),d(M,ne),h(he,F,Ce),He&&He.m(he,Ce),h(he,X,Ce),J=!0},p(he,Ce){const De={};if(Ce[0]&1&&(De.item=he[0]),n.$set(De),(!J||Ce[0]&1)&&i!==(i=it(he[0])+"")&&K(o,i),(!J||Ce[0]&1)&&c!==(c=(he[0].move_cost??100)+"")&&K(_,c),(!J||Ce[0]&1)&&k!==(k=(he[0].coverage??0)+"")&&K(T,k),he[0].transforms_into?V?(V.p(he,Ce),Ce[0]&1&&b(V,1)):(V=Nh(he),V.c(),b(V,1),V.m(a,C)):V&&(re(),$(V,1,1,()=>{V=null}),oe()),he[0].boltcut?se?(se.p(he,Ce),Ce[0]&1&&b(se,1)):(se=Ah(he),se.c(),b(se,1),se.m(a,B)):se&&(re(),$(se,1,1,()=>{se=null}),oe()),he[0].hacksaw?me?(me.p(he,Ce),Ce[0]&1&&b(me,1)):(me=Bh(he),me.c(),b(me,1),me.m(a,D)):me&&(re(),$(me,1,1,()=>{me=null}),oe()),he[0].oxytorch?Q?(Q.p(he,Ce),Ce[0]&1&&b(Q,1)):(Q=Mh(he),Q.c(),b(Q,1),Q.m(a,j)):Q&&(re(),$(Q,1,1,()=>{Q=null}),oe()),he[0].prying?ee?(ee.p(he,Ce),Ce[0]&1&&b(ee,1)):(ee=Dh(he),ee.c(),b(ee,1),ee.m(a,L)):ee&&(re(),$(ee,1,1,()=>{ee=null}),oe()),Ce[0]&4){le=he[2];let Oe;for(Oe=0;Oe<le.length;Oe+=1){const Ke=Oh(he,le,Oe);ue[Oe]?(ue[Oe].p(Ke,Ce),b(ue[Oe],1)):(ue[Oe]=Fh(Ke),ue[Oe].c(),b(ue[Oe],1),ue[Oe].m(a,P))}for(re(),Oe=le.length;Oe<ue.length;Oe+=1)be(Oe);oe()}if(he[3].length&&Le.p(he,Ce),Ce[0]&1){ke=he[0].flags??[];let Oe;for(Oe=0;Oe<ke.length;Oe+=1){const Ke=Eh(he,ke,Oe);Ee[Oe]?(Ee[Oe].p(Ke,Ce),b(Ee[Oe],1)):(Ee[Oe]=Yh(Ke),Ee[Oe].c(),b(Ee[Oe],1),Ee[Oe].m(G,null))}for(re(),Oe=ke.length;Oe<Ee.length;Oe+=1)Te(Oe);oe(),!ke.length&&Re?Re.p(he,Ce):ke.length?Re&&(Re.d(1),Re=null):(Re=qh(),Re.c(),Re.m(G,null))}(!J||Ce[0]&1)&&x!==(x=Qt(he[0].description)+"")&&K(ne,x),he[4].length&&He.p(he,Ce)},i(he){if(!J){b(n.$$.fragment,he),b(V),b(se),b(me),b(Q),b(ee);for(let Ce=0;Ce<le.length;Ce+=1)b(ue[Ce]);b(Le);for(let Ce=0;Ce<ke.length;Ce+=1)b(Ee[Ce]);b(He),J=!0}},o(he){$(n.$$.fragment,he),$(V),$(se),$(me),$(Q),$(ee),ue=ue.filter(Boolean);for(let Ce=0;Ce<ue.length;Ce+=1)$(ue[Ce]);$(Le),Ee=Ee.filter(Boolean);for(let Ce=0;Ce<Ee.length;Ce+=1)$(Ee[Ce]);$(He),J=!1},d(he){he&&p(e),z(n),he&&p(r),he&&p(s),V&&V.d(),se&&se.d(),me&&me.d(),Q&&Q.d(),ee&&ee.d(),we(ue,he),Le&&Le.d(),we(Ee,he),Re&&Re.d(),he&&p(F),He&&He.d(he),he&&p(X)}}}const Vi="Terrain / Furniture",mD=l=>l.toUpperCase();function pD(l,e,n){var _,g;const t=qt("data");let{item:i}=e;const o=(_=i.deconstruct)!=null&&_.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.deconstruct.items=="string"?[{group:i.deconstruct.items}]:i.deconstruct.items}):[],r=(g=i.bash)!=null&&g.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.bash.items=="string"?[{group:i.bash.items}]:i.bash.items}):[],s=[[O.t("Deconstruct",{_context:Vi}),o],[O.t("Bash",{_context:Vi}),r]],a=new Map;for(const{seasons:y,id:k}of i.harvest_by_season??[])for(const T of y)a.set(T,k);const f=["winter","spring","summer","autumn"],u=[...a.entries()];u.sort((y,k)=>f.indexOf(y[0])-f.indexOf(k[0]));const c=t.byType("construction").filter(y=>y.post_terrain===i.id);return l.$$set=y=>{"item"in y&&n(0,i=y.item)},[i,t,s,u,c]}class hD extends Et{constructor(e){super(),wt(this,e,pD,dD,$t,{item:0},null,[-1,-1])}}function gD(l){let e;return{c(){e=m("p"),e.textContent=`${O.t("There are no weapons in this category.")}`,Bt(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:ie,i:ie,o:ie,d(n){n&&p(e)}}}function bD(l){let e,n;return e=new Zt({props:{items:l[1],$$slots:{default:[$D,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:l}}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&17&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function $D(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"item",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function vD(l){let e;return{c(){e=m("p"),e.textContent=`${O.t("There are no martial arts that use this weapon category.")}`,Bt(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:ie,i:ie,o:ie,d(n){n&&p(e)}}}function yD(l){let e,n;return e=new Zt({props:{items:l[2],$$slots:{default:[kD,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:l}}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&17&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function kD(l){let e,n,t,i;return e=new Lt({props:{item:l[0]}}),t=new ve({props:{type:"martial_art",id:l[0].id}}),{c(){W(e.$$.fragment),n=N(),W(t.$$.fragment)},m(o,r){H(e,o,r),h(o,n,r),H(t,o,r),i=!0},p(o,r){const s={};r&1&&(s.item=o[0]),e.$set(s);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(b(e.$$.fragment,o),b(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){z(e,o),o&&p(n),z(t,o)}}}function wD(l){let e,n=O.t("Weapon Category")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g,y,k,T,R,C,B;const D=[bD,gD],j=[];function L(G,Z){return G[1].length?0:1}c=L(l),_=j[c]=D[c](l);const P=[yD,vD],U=[];function q(G,Z){return G[2].length?0:1}return R=q(l),C=U[R]=P[R](l),{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("h1"),f.textContent=`${O.t("Weapons",{_context:"Martial Art"})}`,u=N(),_.c(),g=N(),y=m("section"),k=m("h1"),k.textContent=`${O.t("Martial Arts")}`,T=N(),C.c()},m(G,Z){h(G,e,Z),d(e,t),d(e,i),d(e,r),h(G,s,Z),h(G,a,Z),d(a,f),d(a,u),j[c].m(a,null),h(G,g,Z),h(G,y,Z),d(y,k),d(y,T),U[R].m(y,null),B=!0},p(G,[Z]){(!B||Z&1)&&o!==(o=it(G[0])+"")&&K(r,o),_.p(G,Z),C.p(G,Z)},i(G){B||(b(_),b(C),B=!0)},o(G){$(_),$(C),B=!1},d(G){G&&p(e),G&&p(s),G&&p(a),j[c].d(),G&&p(g),G&&p(y),U[R].d()}}}function ED(l,e,n){let{item:t}=e;const i=qt("data"),o=i.byType("item").filter(s=>s.id).filter(s=>(s.weapon_category??[]).some(a=>a===t.id));o.sort(Sn);const r=i.byType("martial_art").filter(s=>s.id).filter(s=>{var a;return(a=s.weapon_category)==null?void 0:a.some(f=>f===t.id)});return r.sort(Sn),l.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,o,r]}class SD extends Et{constructor(e){super(),wt(this,e,ED,wD,$t,{item:0})}}function zh(l,e,n){const t=l.slice();return t[3]=e[n],t}function Wh(l){let e,n;return e=new qs({props:{construction:l[3]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p:ie,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function TD(l){let e,n=it(l[0])+"",t,i,o,r,s=l[1],a=[];for(let u=0;u<s.length;u+=1)a[u]=Wh(zh(l,s,u));const f=u=>$(a[u],1,1,()=>{a[u]=null});return{c(){e=m("h1"),t=w(n),i=N();for(let u=0;u<a.length;u+=1)a[u].c();o=fe()},m(u,c){h(u,e,c),d(e,t),h(u,i,c);for(let _=0;_<a.length;_+=1)a[_].m(u,c);h(u,o,c),r=!0},p(u,[c]){if((!r||c&1)&&n!==(n=it(u[0])+"")&&K(t,n),c&2){s=u[1];let _;for(_=0;_<s.length;_+=1){const g=zh(u,s,_);a[_]?(a[_].p(g,c),b(a[_],1)):(a[_]=Wh(g),a[_].c(),b(a[_],1),a[_].m(o.parentNode,o))}for(re(),_=s.length;_<a.length;_+=1)f(_);oe()}},i(u){if(!r){for(let c=0;c<s.length;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)$(a[c]);r=!1},d(u){u&&p(e),u&&p(i),we(a,u),u&&p(o)}}}function CD(l,e,n){let{item:t}=e;const o=qt("data").byType("construction").filter(r=>r.group===t.id);return l.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,o]}class ID extends Et{constructor(e){super(),wt(this,e,CD,TD,$t,{item:0})}}function Vh(l,e,n){const t=l.slice();return t[3]=e[n],t}function OD(l){const e=l.slice(),n=e[1].byId("event_statistic",e[3].event_statistic);return e[6]=n,e}function Xh(l,e,n){const t=l.slice();return t[7]=e[n],t}function Jh(l,e,n){const t=l.slice();return t[10]=e[n],t}function Kh(l){let e,n=Qt(l[0].description)+"",t;return{c(){e=m("p"),t=w(n),Bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),d(e,t)},p(i,o){o&1&&n!==(n=Qt(i[0].description)+"")&&K(t,n)},d(i){i&&p(e)}}}function Zh(l){let e,n,t,i,o,r=[l[0].hidden_by].flat(),s=[];for(let f=0;f<r.length;f+=1)s[f]=Qh(Jh(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Hidden By",{_context:Xo})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated and")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&1){r=[f[0].hidden_by].flat();let c;for(c=0;c<r.length;c+=1){const _=Jh(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Qh(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Qh(l){let e,n,t;return n=new ve({props:{type:l[0].type,id:l[10]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o&1&&(r.type=i[0].type),o&1&&(r.id=i[10]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function RD(l){let e,n,t,i,o,r=l[2],s=[];for(let f=0;f<r.length;f+=1)s[f]=xh(Xh(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Unlocks",{_context:Xo})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated and")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u&5){r=f[2];let c;for(c=0;c<r.length;c+=1){const _=Xh(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=xh(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function xh(l){let e,n,t;return n=new ve({props:{type:l[0].type,id:l[7].id}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o&1&&(r.type=i[0].type),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function eg(l){let e,n,t,i,o=l[0].time_constraint.since+"",r,s,a,f=l[0].time_constraint.is+"",u,c,_=(l[0].time_constraint.target??"")+"",g,y;return{c(){e=m("dt"),e.textContent=`${O.t("Time Constraint",{_context:Xo})}`,n=m("dd"),t=w("Time since "),i=m("strong"),r=w(o),s=w(` is
        `),a=m("strong"),u=w(f),c=N(),g=w(_),y=N()},m(k,T){h(k,e,T),h(k,n,T),d(n,t),d(n,i),d(i,r),d(n,s),d(n,a),d(a,u),d(a,c),d(a,g),d(n,y)},p(k,T){T&1&&o!==(o=k[0].time_constraint.since+"")&&K(r,o),T&1&&f!==(f=k[0].time_constraint.is+"")&&K(u,f),T&1&&_!==(_=(k[0].time_constraint.target??"")+"")&&K(g,_)},d(k){k&&p(e),k&&p(n)}}}function tg(l){let e,n=(l[6].description?wf(l[6].description):l[6].id)+"",t,i,o,r=l[3].is+"",s,a,f=(l[3].target??"")+"",u;return{c(){e=m("strong"),t=w(n),i=w(`
              is `),o=m("strong"),s=w(r),a=N(),u=w(f)},m(c,_){h(c,e,_),d(e,t),h(c,i,_),h(c,o,_),d(o,s),d(o,a),d(o,u)},p(c,_){_&1&&n!==(n=(c[6].description?wf(c[6].description):c[6].id)+"")&&K(t,n),_&1&&r!==(r=c[3].is+"")&&K(s,r),_&1&&f!==(f=(c[3].target??"")+"")&&K(u,f)},d(c){c&&p(e),c&&p(i),c&&p(o)}}}function ND(l){let e,n=l[3].description+"",t;return{c(){e=m("strong"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p(i,o){o&1&&n!==(n=i[3].description+"")&&K(t,n)},d(i){i&&p(e)}}}function ng(l){let e,n;function t(s,a){return s[3].description?ND:tg}function i(s,a){return a===tg?OD(s):s}let o=t(l),r=o(i(l,o));return{c(){e=m("li"),r.c(),n=N()},m(s,a){h(s,e,a),r.m(e,null),d(e,n)},p(s,a){o===(o=t(s))&&r?r.p(i(s,o),a):(r.d(1),r=o(i(s,o)),r&&(r.c(),r.m(e,n)))},d(s){s&&p(e),r.d()}}}function AD(l){let e,n=l[0].type==="achievement"?"Achievement":"Conduct",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g,y,k,T,R=l[0].description&&Kh(l),C=l[0].hidden_by&&Zh(l),B=l[2].length&&RD(l),D=l[0].time_constraint&&eg(l),j=l[0].requirements,L=[];for(let P=0;P<j.length;P+=1)L[P]=ng(Vh(l,j,P));return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),R&&R.c(),f=N(),u=m("dl"),C&&C.c(),c=fe(),B&&B.c(),_=fe(),D&&D.c(),g=m("dt"),g.textContent=`${O.t("Requirements",{_context:Xo})}`,y=m("dd"),k=m("ul");for(let P=0;P<L.length;P+=1)L[P].c()},m(P,U){h(P,e,U),d(e,t),d(e,i),d(e,r),h(P,s,U),h(P,a,U),R&&R.m(a,null),d(a,f),d(a,u),C&&C.m(u,null),d(u,c),B&&B.m(u,null),d(u,_),D&&D.m(u,null),d(u,g),d(u,y),d(y,k);for(let q=0;q<L.length;q+=1)L[q].m(k,null);T=!0},p(P,[U]){if((!T||U&1)&&n!==(n=P[0].type==="achievement"?"Achievement":"Conduct")&&K(t,n),(!T||U&1)&&o!==(o=it(P[0])+"")&&K(r,o),P[0].description?R?R.p(P,U):(R=Kh(P),R.c(),R.m(a,f)):R&&(R.d(1),R=null),P[0].hidden_by?C?(C.p(P,U),U&1&&b(C,1)):(C=Zh(P),C.c(),b(C,1),C.m(u,c)):C&&(re(),$(C,1,1,()=>{C=null}),oe()),P[2].length&&B.p(P,U),P[0].time_constraint?D?D.p(P,U):(D=eg(P),D.c(),D.m(u,g)):D&&(D.d(1),D=null),U&3){j=P[0].requirements;let q;for(q=0;q<j.length;q+=1){const G=Vh(P,j,q);L[q]?L[q].p(G,U):(L[q]=ng(G),L[q].c(),L[q].m(k,null))}for(;q<L.length;q+=1)L[q].d(1);L.length=j.length}},i(P){T||(b(C),b(B),T=!0)},o(P){$(C),$(B),T=!1},d(P){P&&p(e),P&&p(s),P&&p(a),R&&R.d(),C&&C.d(),B&&B.d(),D&&D.d(),we(L,P)}}}const Xo="Achievement";function BD(l,e,n){let{item:t}=e;const i=qt("data"),o=i.byType("achievement").filter(r=>r.id!==t.id&&[r.hidden_by??[]].flat().includes(t.id));return l.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,i,o]}class ig extends Et{constructor(e){super(),wt(this,e,BD,AD,$t,{item:0})}}function MD(l){let e,n,t=Ai(l[0].type)+"",i,o,r,s;return{c(){e=m("section"),n=w("⚠️ This "),i=w(t),o=w(" is marked as "),r=m("em"),r.textContent="obsolete",s=w(`, meaning that it
  is likely not possible to obtain in this version.`),_e(e,"class","obsoletion-warning svelte-tb1bo")},m(a,f){h(a,e,f),d(e,n),d(e,i),d(e,o),d(e,r),d(e,s)},p(a,[f]){f&1&&t!==(t=Ai(a[0].type)+"")&&K(i,t)},i:ie,o:ie,d(a){a&&p(e)}}}function DD(l,e,n){let{item:t}=e;return l.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class LD extends Et{constructor(e){super(),wt(this,e,DD,MD,$t,{item:0})}}function lg(l,e,n){const t=l.slice();return t[6]=e[n],t}function rg(l,e,n){const t=l.slice();return t[6]=e[n],t}function og(l,e,n){const t=l.slice();return t[11]=e[n],t}function sg(l,e,n){const t=l.slice();return t[14]=e[n],t}function fg(l,e,n){const t=l.slice();return t[14]=e[n],t}function ag(l,e,n){const t=l.slice();return t[19]=e[n],t}function ug(l,e,n){const t=l.slice();return t[22]=e[n][0],t[23]=e[n][1],t}function cg(l,e,n){const t=l.slice();return t[26]=e[n][0],t[27]=e[n][1],t}function _g(l,e,n){const t=l.slice();return t[26]=e[n][0],t[30]=e[n][1],t}function dg(l,e,n){const t=l.slice();return t[33]=e[n],t}function FD(l){let e,n,t,i;return t=new ve({props:{type:"item",id:l[2].id}}),{c(){e=m("dt"),e.textContent=`${O.t("Item")}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p:ie,i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function PD(l){let e,n,t,i,o,r=l[3],s=[];for(let f=0;f<r.length;f+=1)s[f]=mg(dg(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Included In",{_context:Ln})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&8){r=f[3];let c;for(c=0;c<r.length;c+=1){const _=dg(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=mg(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function mg(l){let e,n,t;return n=new ve({props:{type:"bionic",id:l[33].id}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p:ie,i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function jD(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function UD(l){let e,n=l[0].occupied_bodyparts,t=[];for(let i=0;i<n.length;i+=1)t[i]=pg(_g(l,n,i));return{c(){e=m("ul");for(let i=0;i<t.length;i+=1)t[i].c();_e(e,"class","comma-separated")},m(i,o){h(i,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(i,o){if(o[0]&3){n=i[0].occupied_bodyparts;let r;for(r=0;r<n.length;r+=1){const s=_g(i,n,r);t[r]?t[r].p(s,o):(t[r]=pg(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(i){i&&p(e),we(t,i)}}}function pg(l){let e,n=it(l[1].byId("body_part",l[26]))+"",t,i,o=l[30]+"",r,s,a=l[30]===1?"slot":"slots",f,u;return{c(){e=m("li"),t=w(n),i=w(" ("),r=w(o),s=N(),f=w(a),u=w(")")},m(c,_){h(c,e,_),d(e,t),d(e,i),d(e,r),d(e,s),d(e,f),d(e,u)},p(c,_){_[0]&1&&n!==(n=it(c[1].byId("body_part",c[26]))+"")&&K(t,n),_[0]&1&&o!==(o=c[30]+"")&&K(r,o),_[0]&1&&a!==(a=c[30]===1?"slot":"slots")&&K(f,a)},d(c){c&&p(e)}}}function hg(l){let e,n,t,i,o=l[0].encumbrance,r=[];for(let s=0;s<o.length;s+=1)r[s]=gg(cg(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Encumbrance",{_context:Ln})}`,n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a[0]&3){o=s[0].encumbrance;let f;for(f=0;f<o.length;f+=1){const u=cg(s,o,f);r[f]?r[f].p(u,a):(r[f]=gg(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function gg(l){let e,n=it(l[1].byId("body_part",l[26]))+"",t,i,o=l[27]+"",r,s;return{c(){e=m("li"),t=w(n),i=w(" ("),r=w(o),s=w(")")},m(a,f){h(a,e,f),d(e,t),d(e,i),d(e,r),d(e,s)},p(a,f){f[0]&1&&n!==(n=it(a[1].byId("body_part",a[26]))+"")&&K(t,n),f[0]&1&&o!==(o=a[27]+"")&&K(r,o)},d(a){a&&p(e)}}}function bg(l){let e,n,t,i,o=l[0].stat_bonus,r=[];for(let s=0;s<o.length;s+=1)r[s]=$g(ug(l,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Stat Bonuses",{_context:Ln})}`,n=m("dd"),t=m("ul");for(let s=0;s<r.length;s+=1)r[s].c();i=N(),_e(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),d(n,t);for(let f=0;f<r.length;f+=1)r[f].m(t,null);d(n,i)},p(s,a){if(a[0]&1){o=s[0].stat_bonus;let f;for(f=0;f<o.length;f+=1){const u=ug(s,o,f);r[f]?r[f].p(u,a):(r[f]=$g(u),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}},d(s){s&&p(e),s&&p(n),we(r,s)}}}function $g(l){let e,n=l[23]>=0?`+${l[23]}`:`–${-l[23]}`,t,i,o=l[22]+"",r;return{c(){e=m("li"),t=w(n),i=N(),r=w(o)},m(s,a){h(s,e,a),d(e,t),d(e,i),d(e,r)},p(s,a){a[0]&1&&n!==(n=s[23]>=0?`+${s[23]}`:`–${-s[23]}`)&&K(t,n),a[0]&1&&o!==(o=s[22]+"")&&K(r,o)},d(s){s&&p(e)}}}function vg(l){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Removable",{_context:Ln})}`,n=m("dd"),n.textContent=`${O.t("No")}`},m(t,i){h(t,e,i),h(t,n,i)},p:ie,d(t){t&&p(e),t&&p(n)}}}function yg(l){let e,n,t=l[0].act_cost+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Activation Cost",{_context:Ln})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].act_cost+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function kg(l){let e,n,t=l[0].trigger_cost+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Trigger Cost",{_context:Ln})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].trigger_cost+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function wg(l){let e,n,t=l[0].react_cost+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Power Over Time",{_context:Ln})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].react_cost+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Eg(l){let e,n,t=((l[0].vitamin_absorb_mod??1)*100).toFixed(0)+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Vitamin Absorption Modifier",{_context:Ln})}`,n=m("dd"),i=w(t),o=w("%")},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p(r,s){s[0]&1&&t!==(t=((r[0].vitamin_absorb_mod??1)*100).toFixed(0)+"")&&K(i,t)},d(r){r&&p(e),r&&p(n)}}}function Sg(l){let e,n,t,i,o,r=l[0].fuel_options,s=[];for(let f=0;f<r.length;f+=1)s[f]=Tg(ag(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Fuel",{_context:Ln})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].fuel_options;let c;for(c=0;c<r.length;c+=1){const _=ag(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Tg(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Tg(l){let e,n,t;return n=new ve({props:{type:"material",id:l[19]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[19]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function Cg(l){let e,n,t=l[0].fuel_capacity+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Fuel Capacity",{_context:Ln})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].fuel_capacity+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Ig(l){let e,n,t=l[0].fuel_efficiency*100+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Fuel Efficiency",{_context:Ln})}`,n=m("dd"),i=w(t),o=w("%")},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p(r,s){s[0]&1&&t!==(t=r[0].fuel_efficiency*100+"")&&K(i,t)},d(r){r&&p(e),r&&p(n)}}}function Og(l){let e,n,t=l[0].passive_fuel_efficiency*100+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Passive Fuel Efficiency",{_context:Ln})}`,n=m("dd"),i=w(t),o=w("%")},m(r,s){h(r,e,s),h(r,n,s),d(n,i),d(n,o)},p(r,s){s[0]&1&&t!==(t=r[0].passive_fuel_efficiency*100+"")&&K(i,t)},d(r){r&&p(e),r&&p(n)}}}function Rg(l){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Emits Heat",{_context:Ln})}`,n=m("dd"),n.textContent=`${O.t("Yes")}`},m(t,i){h(t,e,i),h(t,n,i)},p:ie,d(t){t&&p(e),t&&p(n)}}}function Ng(l){let e,n,t=l[0].power_trickle+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Power Trickle",{_context:Ln})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].power_trickle+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Ag(l){let e,n,t=l[0].time+"",i,o,r=l[0].time!==1?"s":"",s;return{c(){e=m("dt"),e.textContent=`${O.t("Charge Time",{_context:Ln})}`,n=m("dd"),i=w(t),o=w(" turn"),s=w(r)},m(a,f){h(a,e,f),h(a,n,f),d(n,i),d(n,o),d(n,s)},p(a,f){f[0]&1&&t!==(t=a[0].time+"")&&K(i,t),f[0]&1&&r!==(r=a[0].time!==1?"s":"")&&K(s,r)},d(a){a&&p(e),a&&p(n)}}}function Bg(l){let e,n,t=l[0].capacity+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Capacity",{_context:Ln})}`,n=m("dd"),i=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,i)},p(o,r){r[0]&1&&t!==(t=o[0].capacity+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Mg(l){let e,n,t,i;return t=new ve({props:{type:"item",id:l[0].fake_weapon}}),{c(){e=m("dt"),e.textContent=`${O.t("Acts As",{_context:Ln})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r[0]&1&&(s.id=o[0].fake_weapon),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function Dg(l){let e,n,t,i,o,r=l[0].toggled_pseudo_items,s=[];for(let f=0;f<r.length;f+=1)s[f]=Lg(fg(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Acts As",{_context:Ln})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].toggled_pseudo_items;let c;for(c=0;c<r.length;c+=1){const _=fg(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Lg(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Lg(l){let e,n,t;return n=new ve({props:{type:"item",id:l[14]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[14]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function Fg(l){let e,n,t,i,o,r=l[0].passive_pseudo_items,s=[];for(let f=0;f<r.length;f+=1)s[f]=Pg(sg(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Acts As",{_context:Ln})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].passive_pseudo_items;let c;for(c=0;c<r.length;c+=1){const _=sg(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Pg(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Pg(l){let e,n,t;return n=new ve({props:{type:"item",id:l[14]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[14]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function jg(l){let e,n,t,i,o,r=l[0].included_bionics,s=[];for(let f=0;f<r.length;f+=1)s[f]=Ug(og(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Includes",{_context:Ln})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].included_bionics;let c;for(c=0;c<r.length;c+=1){const _=og(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Ug(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Ug(l){let e,n,t;return n=new ve({props:{type:"bionic",id:l[11]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[11]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function GD(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:ie,i:ie,o:ie,d(n){n&&p(e)}}}function qD(l){let e,n,t=l[0].flags,i=[];for(let r=0;r<t.length;r+=1)i[r]=Gg(rg(l,t,r));const o=r=>$(i[r],1,1,()=>{i[r]=null});return{c(){e=m("ul");for(let r=0;r<i.length;r+=1)i[r].c();_e(e,"class","comma-separated")},m(r,s){h(r,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(r,s){if(s[0]&1){t=r[0].flags;let a;for(a=0;a<t.length;a+=1){const f=rg(r,t,a);i[a]?(i[a].p(f,s),b(i[a],1)):(i[a]=Gg(f),i[a].c(),b(i[a],1),i[a].m(e,null))}for(re(),a=t.length;a<i.length;a+=1)o(a);oe()}},i(r){if(!n){for(let s=0;s<t.length;s+=1)b(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(r){r&&p(e),we(i,r)}}}function Gg(l){let e,n,t;return n=new ve({props:{type:"json_flag",id:l[6]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[6]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function qg(l){let e,n,t,i,o,r=l[0].active_flags,s=[];for(let f=0;f<r.length;f+=1)s[f]=Yg(lg(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Flags When Active",{_context:Ln})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=N(),_e(t,"class","comma-separated")},m(f,u){h(f,e,u),h(f,n,u),d(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);d(n,i),o=!0},p(f,u){if(u[0]&1){r=f[0].active_flags;let c;for(c=0;c<r.length;c+=1){const _=lg(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=Yg(_),s[c].c(),b(s[c],1),s[c].m(t,null))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(n),we(s,f)}}}function Yg(l){let e,n,t;return n=new ve({props:{type:"json_flag",id:l[6]}}),{c(){e=m("li"),W(n.$$.fragment)},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[0]&1&&(r.id=i[6]),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function Hg(l){let e,n,t,i,o;return t=new ml({props:{mutations:l[0].mutation_conflicts.flatMap(l[4])}}),{c(){e=m("dt"),e.textContent=`${O.t("Conflicts With Mutations",{_context:Ln})}`,n=m("dd"),W(t.$$.fragment),i=N()},m(r,s){h(r,e,s),h(r,n,s),H(t,n,null),d(n,i),o=!0},p(r,s){const a={};s[0]&1&&(a.mutations=r[0].mutation_conflicts.flatMap(r[4])),t.$set(a)},i(r){o||(b(t.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),o=!1},d(r){r&&p(e),r&&p(n),z(t)}}}function zg(l){let e,n,t,i;return t=new ml({props:{mutations:l[0].canceled_mutations.map(l[5])}}),{c(){e=m("dt"),e.textContent=`${O.t("Removes Mutations",{_context:Ln})}`,n=m("dd"),W(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),H(t,n,null),i=!0},p(o,r){const s={};r[0]&1&&(s.mutations=o[0].canceled_mutations.map(o[5])),t.$set(s)},i(o){i||(b(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),z(t)}}}function YD(l){var It,Ft,jt,Tt;let e,n=O.t("Bionic")+"",t,i,o=it(l[0])+"",r,s,a,f,u,c,_,g,y,k,T,R,C,B,D,j,L,P,U,q,G,Z,M,x,ne,F,X,J,V,se,me=(l[0].dupes_allowed?O.t("Yes"):O.t("No"))+"",Q,ee,le,ue,be,Le,ke,Ee,Te,Re,He=Qt(l[0].description)+"",he,Ce,De=l[2]&&FD(l),Oe=l[3].length&&PD(l);function Ke(Fe,ft){return Fe[0].occupied_bodyparts?UD:jD}let xe=Ke(l),mt=xe(l),ye=l[0].encumbrance&&hg(l),et=l[0].stat_bonus&&bg(l),je=l[0].cant_remove_reason&&vg(),ct=l[0].act_cost&&yg(l),We=l[0].trigger_cost&&kg(l),qe=l[0].react_cost&&wg(l),Ve=(l[0].vitamin_absorb_mod??1)!==1&&Eg(l),kt=((It=l[0].fuel_options)==null?void 0:It.length)&&Sg(l),ht=l[0].fuel_capacity&&Cg(l),Rt=l[0].fuel_efficiency&&Ig(l),Ge=l[0].passive_fuel_efficiency&&Og(l),pe=l[0].exothermic_power_gen&&Rg(),$e=l[0].power_trickle&&Ng(l),ae=l[0].time&&Ag(l),Ye=l[0].capacity&&Bg(l),pt=l[0].fake_weapon&&Mg(l),ut=((Ft=l[0].toggled_pseudo_items)==null?void 0:Ft.length)&&Dg(l),at=((jt=l[0].passive_pseudo_items)==null?void 0:jt.length)&&Fg(l),lt=((Tt=l[0].included_bionics)==null?void 0:Tt.length)&&jg(l);const ot=[qD,GD],rt=[];function tt(Fe,ft){var Xt;return(Xt=Fe[0].flags)!=null&&Xt.length?0:1}ue=tt(l),be=rt[ue]=ot[ue](l);let Ne=l[0].active_flags&&qg(l),Ie=l[0].mutation_conflicts&&Hg(l),dt=l[0].canceled_mutations&&zg(l);return{c(){e=m("h1"),t=w(n),i=w(": "),r=w(o),s=N(),a=m("section"),f=m("h1"),f.textContent=`${O.t("General",{_context:Ln,_comment:"Section heading"})}`,u=N(),c=m("dl"),De&&De.c(),_=fe(),Oe&&Oe.c(),g=m("dt"),g.textContent=`${O.t("Occupied Body Parts",{_context:Ln})}`,y=m("dd"),mt.c(),k=N(),ye&&ye.c(),T=fe(),et&&et.c(),R=fe(),je&&je.c(),C=fe(),ct&&ct.c(),B=fe(),We&&We.c(),D=fe(),qe&&qe.c(),j=fe(),Ve&&Ve.c(),L=fe(),kt&&kt.c(),P=fe(),ht&&ht.c(),U=fe(),Rt&&Rt.c(),q=fe(),Ge&&Ge.c(),G=fe(),pe&&pe.c(),Z=fe(),$e&&$e.c(),M=fe(),ae&&ae.c(),x=fe(),Ye&&Ye.c(),ne=fe(),pt&&pt.c(),F=fe(),ut&&ut.c(),X=fe(),at&&at.c(),J=fe(),lt&&lt.c(),V=m("dt"),V.textContent=`${O.t("Duplicates Allowed",{_context:Ln})}`,se=m("dd"),Q=w(me),ee=m("dt"),ee.textContent=`${O.t("Flags")}`,le=m("dd"),be.c(),Le=N(),Ne&&Ne.c(),ke=fe(),Ie&&Ie.c(),Ee=fe(),dt&&dt.c(),Te=N(),Re=m("p"),he=w(He),Bt(Re,"color","var(--cata-color-gray)")},m(Fe,ft){h(Fe,e,ft),d(e,t),d(e,i),d(e,r),h(Fe,s,ft),h(Fe,a,ft),d(a,f),d(a,u),d(a,c),De&&De.m(c,null),d(c,_),Oe&&Oe.m(c,null),d(c,g),d(c,y),mt.m(y,null),d(y,k),ye&&ye.m(c,null),d(c,T),et&&et.m(c,null),d(c,R),je&&je.m(c,null),d(c,C),ct&&ct.m(c,null),d(c,B),We&&We.m(c,null),d(c,D),qe&&qe.m(c,null),d(c,j),Ve&&Ve.m(c,null),d(c,L),kt&&kt.m(c,null),d(c,P),ht&&ht.m(c,null),d(c,U),Rt&&Rt.m(c,null),d(c,q),Ge&&Ge.m(c,null),d(c,G),pe&&pe.m(c,null),d(c,Z),$e&&$e.m(c,null),d(c,M),ae&&ae.m(c,null),d(c,x),Ye&&Ye.m(c,null),d(c,ne),pt&&pt.m(c,null),d(c,F),ut&&ut.m(c,null),d(c,X),at&&at.m(c,null),d(c,J),lt&&lt.m(c,null),d(c,V),d(c,se),d(se,Q),d(c,ee),d(c,le),rt[ue].m(le,null),d(le,Le),Ne&&Ne.m(c,null),d(c,ke),Ie&&Ie.m(c,null),d(c,Ee),dt&&dt.m(c,null),d(a,Te),d(a,Re),d(Re,he),Ce=!0},p(Fe,ft){var an,Me,Xe,Wt;(!Ce||ft[0]&1)&&o!==(o=it(Fe[0])+"")&&K(r,o),Fe[2]&&De.p(Fe,ft),Fe[3].length&&Oe.p(Fe,ft),xe===(xe=Ke(Fe))&&mt?mt.p(Fe,ft):(mt.d(1),mt=xe(Fe),mt&&(mt.c(),mt.m(y,k))),Fe[0].encumbrance?ye?ye.p(Fe,ft):(ye=hg(Fe),ye.c(),ye.m(c,T)):ye&&(ye.d(1),ye=null),Fe[0].stat_bonus?et?et.p(Fe,ft):(et=bg(Fe),et.c(),et.m(c,R)):et&&(et.d(1),et=null),Fe[0].cant_remove_reason?je?je.p(Fe,ft):(je=vg(),je.c(),je.m(c,C)):je&&(je.d(1),je=null),Fe[0].act_cost?ct?ct.p(Fe,ft):(ct=yg(Fe),ct.c(),ct.m(c,B)):ct&&(ct.d(1),ct=null),Fe[0].trigger_cost?We?We.p(Fe,ft):(We=kg(Fe),We.c(),We.m(c,D)):We&&(We.d(1),We=null),Fe[0].react_cost?qe?qe.p(Fe,ft):(qe=wg(Fe),qe.c(),qe.m(c,j)):qe&&(qe.d(1),qe=null),(Fe[0].vitamin_absorb_mod??1)!==1?Ve?Ve.p(Fe,ft):(Ve=Eg(Fe),Ve.c(),Ve.m(c,L)):Ve&&(Ve.d(1),Ve=null),(an=Fe[0].fuel_options)!=null&&an.length?kt?(kt.p(Fe,ft),ft[0]&1&&b(kt,1)):(kt=Sg(Fe),kt.c(),b(kt,1),kt.m(c,P)):kt&&(re(),$(kt,1,1,()=>{kt=null}),oe()),Fe[0].fuel_capacity?ht?ht.p(Fe,ft):(ht=Cg(Fe),ht.c(),ht.m(c,U)):ht&&(ht.d(1),ht=null),Fe[0].fuel_efficiency?Rt?Rt.p(Fe,ft):(Rt=Ig(Fe),Rt.c(),Rt.m(c,q)):Rt&&(Rt.d(1),Rt=null),Fe[0].passive_fuel_efficiency?Ge?Ge.p(Fe,ft):(Ge=Og(Fe),Ge.c(),Ge.m(c,G)):Ge&&(Ge.d(1),Ge=null),Fe[0].exothermic_power_gen?pe?pe.p(Fe,ft):(pe=Rg(),pe.c(),pe.m(c,Z)):pe&&(pe.d(1),pe=null),Fe[0].power_trickle?$e?$e.p(Fe,ft):($e=Ng(Fe),$e.c(),$e.m(c,M)):$e&&($e.d(1),$e=null),Fe[0].time?ae?ae.p(Fe,ft):(ae=Ag(Fe),ae.c(),ae.m(c,x)):ae&&(ae.d(1),ae=null),Fe[0].capacity?Ye?Ye.p(Fe,ft):(Ye=Bg(Fe),Ye.c(),Ye.m(c,ne)):Ye&&(Ye.d(1),Ye=null),Fe[0].fake_weapon?pt?(pt.p(Fe,ft),ft[0]&1&&b(pt,1)):(pt=Mg(Fe),pt.c(),b(pt,1),pt.m(c,F)):pt&&(re(),$(pt,1,1,()=>{pt=null}),oe()),(Me=Fe[0].toggled_pseudo_items)!=null&&Me.length?ut?(ut.p(Fe,ft),ft[0]&1&&b(ut,1)):(ut=Dg(Fe),ut.c(),b(ut,1),ut.m(c,X)):ut&&(re(),$(ut,1,1,()=>{ut=null}),oe()),(Xe=Fe[0].passive_pseudo_items)!=null&&Xe.length?at?(at.p(Fe,ft),ft[0]&1&&b(at,1)):(at=Fg(Fe),at.c(),b(at,1),at.m(c,J)):at&&(re(),$(at,1,1,()=>{at=null}),oe()),(Wt=Fe[0].included_bionics)!=null&&Wt.length?lt?(lt.p(Fe,ft),ft[0]&1&&b(lt,1)):(lt=jg(Fe),lt.c(),b(lt,1),lt.m(c,V)):lt&&(re(),$(lt,1,1,()=>{lt=null}),oe()),(!Ce||ft[0]&1)&&me!==(me=(Fe[0].dupes_allowed?O.t("Yes"):O.t("No"))+"")&&K(Q,me);let Xt=ue;ue=tt(Fe),ue===Xt?rt[ue].p(Fe,ft):(re(),$(rt[Xt],1,1,()=>{rt[Xt]=null}),oe(),be=rt[ue],be?be.p(Fe,ft):(be=rt[ue]=ot[ue](Fe),be.c()),b(be,1),be.m(le,Le)),Fe[0].active_flags?Ne?(Ne.p(Fe,ft),ft[0]&1&&b(Ne,1)):(Ne=qg(Fe),Ne.c(),b(Ne,1),Ne.m(c,ke)):Ne&&(re(),$(Ne,1,1,()=>{Ne=null}),oe()),Fe[0].mutation_conflicts?Ie?(Ie.p(Fe,ft),ft[0]&1&&b(Ie,1)):(Ie=Hg(Fe),Ie.c(),b(Ie,1),Ie.m(c,Ee)):Ie&&(re(),$(Ie,1,1,()=>{Ie=null}),oe()),Fe[0].canceled_mutations?dt?(dt.p(Fe,ft),ft[0]&1&&b(dt,1)):(dt=zg(Fe),dt.c(),b(dt,1),dt.m(c,null)):dt&&(re(),$(dt,1,1,()=>{dt=null}),oe()),(!Ce||ft[0]&1)&&He!==(He=Qt(Fe[0].description)+"")&&K(he,He)},i(Fe){Ce||(b(De),b(Oe),b(kt),b(pt),b(ut),b(at),b(lt),b(be),b(Ne),b(Ie),b(dt),Ce=!0)},o(Fe){$(De),$(Oe),$(kt),$(pt),$(ut),$(at),$(lt),$(be),$(Ne),$(Ie),$(dt),Ce=!1},d(Fe){Fe&&p(e),Fe&&p(s),Fe&&p(a),De&&De.d(),Oe&&Oe.d(),mt.d(),ye&&ye.d(),et&&et.d(),je&&je.d(),ct&&ct.d(),We&&We.d(),qe&&qe.d(),Ve&&Ve.d(),kt&&kt.d(),ht&&ht.d(),Rt&&Rt.d(),Ge&&Ge.d(),pe&&pe.d(),$e&&$e.d(),ae&&ae.d(),Ye&&Ye.d(),pt&&pt.d(),ut&&ut.d(),at&&at.d(),lt&&lt.d(),rt[ue].d(),Ne&&Ne.d(),Ie&&Ie.d(),dt&&dt.d()}}}const Ln="Bionic";function HD(l,e,n){let{item:t}=e;const i=qt("data"),o=i.itemForBionic(t),r=i.byType("bionic").filter(f=>{var u;return f.id&&((u=f.included_bionics)==null?void 0:u.includes(t.id))}),s=f=>{const u=i.byIdMaybe("mutation",f);return u?[u]:[]},a=f=>i.byId("mutation",f);return l.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,i,o,r,s,a]}class zD extends Et{constructor(e){super(),wt(this,e,HD,YD,$t,{item:0},null,[-1,-1])}}function WD(l){let e,n,t,i,o,r,s,a;const f=[KD,JD,XD],u=[];function c(_,g){return _[2]?0:typeof globalThis<"u"&&globalThis.process?1:2}return e=c(l),n=u[e]=f[e](l),s=new Gs({props:{obj:l[4],buildNumber:l[1].build_number}}),{c(){n.c(),t=N(),i=m("details"),o=m("summary"),o.textContent="Raw JSON",r=N(),W(s.$$.fragment)},m(_,g){u[e].m(_,g),h(_,t,g),h(_,i,g),d(i,o),d(i,r),H(s,i,null),a=!0},p(_,g){let y=e;e=c(_),e===y?u[e].p(_,g):(re(),$(u[y],1,1,()=>{u[y]=null}),oe(),n=u[e],n?n.p(_,g):(n=u[e]=f[e](_),n.c()),b(n,1),n.m(t.parentNode,t));const k={};g&2&&(k.buildNumber=_[1].build_number),s.$set(k)},i(_){a||(b(n),b(s.$$.fragment,_),a=!0)},o(_){$(n),$(s.$$.fragment,_),a=!1},d(_){u[e].d(_),_&&p(t),_&&p(i),z(s)}}}function VD(l){let e,n=l[0].type+"",t,i,o=l[0].id+"",r;return{c(){e=w("Unknown obj: "),t=w(n),i=w("/"),r=w(o)},m(s,a){h(s,e,a),h(s,t,a),h(s,i,a),h(s,r,a)},p(s,a){a&1&&n!==(n=s[0].type+"")&&K(t,n),a&1&&o!==(o=s[0].id+"")&&K(r,o)},i:ie,o:ie,d(s){s&&p(e),s&&p(t),s&&p(i),s&&p(r)}}}function XD(l){let e,n;return e=new MB({props:{onError:l[3],$$slots:{default:[QD]},$$scope:{ctx:l}}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&128&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function JD(l){let e,n,t;var i=l[5];function o(r){return{props:{item:r[4]}}}return i&&(e=new i(o(l))),{c(){e&&W(e.$$.fragment),n=fe()},m(r,s){e&&H(e,r,s),h(r,n,s),t=!0},p(r,s){if(i!==(i=r[5])){if(e){re();const a=e;$(a.$$.fragment,1,0,()=>{z(a,1)}),oe()}i?(e=new i(o(r)),W(e.$$.fragment),b(e.$$.fragment,1),H(e,n.parentNode,n)):e=null}},i(r){t||(e&&b(e.$$.fragment,r),t=!0)},o(r){e&&$(e.$$.fragment,r),t=!1},d(r){r&&p(n),e&&z(e,r)}}}function KD(l){let e,n,t,i,o,r,s,a,f=l[2].message+"",u,c,_,g=l[2].stack+"",y;return{c(){e=m("section"),n=m("h1"),n.textContent="Error",t=N(),i=m("p"),i.textContent=`There was a problem displaying this page. Not all versions of Cataclysm
        are supported by the Guide currently. Try selecting a different build.`,o=N(),r=m("p"),s=m("details"),a=m("summary"),u=w(f),c=N(),_=m("pre"),y=w(g)},m(k,T){h(k,e,T),d(e,n),d(e,t),d(e,i),d(e,o),d(e,r),d(r,s),d(s,a),d(a,u),d(s,c),d(s,_),d(_,y)},p(k,T){T&4&&f!==(f=k[2].message+"")&&K(u,f),T&4&&g!==(g=k[2].stack+"")&&K(y,g)},i:ie,o:ie,d(k){k&&p(e)}}}function ZD(l){let e,n;return e=new LD({props:{item:l[4]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p:ie,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function QD(l){let e=/obsolet/.test(l[4].__filename),n,t,i,o,r=e&&ZD(l);var s=l[5];function a(f){return{props:{item:f[4]}}}return s&&(t=new s(a(l))),{c(){r&&r.c(),n=N(),t&&W(t.$$.fragment),i=fe()},m(f,u){r&&r.m(f,u),h(f,n,u),t&&H(t,f,u),h(f,i,u),o=!0},p(f,u){if(e&&r.p(f,u),s!==(s=f[5])){if(t){re();const c=t;$(c.$$.fragment,1,0,()=>{z(c,1)}),oe()}s?(t=new s(a(f)),W(t.$$.fragment),b(t.$$.fragment,1),H(t,i.parentNode,i)):t=null}},i(f){o||(b(r),t&&b(t.$$.fragment,f),o=!0)},o(f){$(r),t&&$(t.$$.fragment,f),o=!1},d(f){r&&r.d(f),f&&p(n),f&&p(i),t&&z(t,f)}}}function xD(l){let e,n,t,i;const o=[VD,WD],r=[];function s(a,f){return a[4]?1:0}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,[f]){n.p(a,f)},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function eL(l,e){if(e==="json_flag")return{id:l,type:e,__filename:""}}function tL(l,e,n){let{item:t}=e,{data:i}=e;Ps("data",i);let o=null;function r(u){n(2,o=u),tf(u,{contexts:{item:{type:t.type,id:t.id}}})}let s=i.byIdMaybe(t.type,t.id)??eL(t.id,t.type);const f=(s&&{MONSTER:sC,AMMO:Ti,GUN:Ti,ARMOR:Ti,PET_ARMOR:Ti,TOOL:Ti,TOOLMOD:Ti,TOOL_ARMOR:Ti,BOOK:Ti,COMESTIBLE:Ti,ENGINE:Ti,WHEEL:Ti,GUNMOD:Ti,MAGAZINE:Ti,BATTERY:Ti,GENERIC:Ti,BIONIC_ITEM:Ti,material:WN,ammunition_type:eA,tool_quality:aA,furniture:YA,skill:JA,proficiency:e5,json_flag:d5,fault:k5,vitamin:O5,vehicle_part:H5,martial_art:TB,mutation:l6,mutation_category:eb,mutation_type:c6,vehicle:iD,terrain:hD,weapon_category:SD,construction_group:ID,achievement:ig,conduct:ig,bionic:zD}[s.type])??UN;return l.$$set=u=>{"item"in u&&n(0,t=u.item),"data"in u&&n(1,i=u.data)},[t,i,o,r,s,f]}class nL extends Et{constructor(e){super(),wt(this,e,tL,xD,$t,{item:0,data:1})}}var Ls={},iL={get exports(){return Ls},set exports(l){Ls=l}};(function(l){((e,n)=>{l.exports?l.exports=n():e.fuzzysort=n()})(Sr,e=>{var n=(F,X)=>{if(F=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!F||!X)return M;var J=u(F);U(X)||(X=f(X));var V=J.bitflags;return(V&X._bitflags)!==V?M:_(J,X)},t=(F,X,J)=>{if(F=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:X?X[0]:M}];if(!F)return J&&J.all?c(F,X,J):Z;var V=u(F),se=V.bitflags;V.containsSpace;var me=J&&J.threshold||G,Q=J&&J.limit||q,ee=0,le=0,ue=X.length;if(J&&J.key)for(var be=J.key,Le=0;Le<ue;++Le){var ke=X[Le],Ee=P(ke,be);if(Ee&&(U(Ee)||(Ee=f(Ee)),(se&Ee._bitflags)===se)){var Te=_(V,Ee);Te!==M&&(Te.score<me||(Te={target:Te.target,_targetLower:"",_targetLowerCodes:M,_nextBeginningIndexes:M,_bitflags:0,score:Te.score,_indexes:Te._indexes,obj:ke},ee<Q?(ne.add(Te),++ee):(++le,Te.score>ne.peek().score&&ne.replaceTop(Te))))}}else if(J&&J.keys)for(var Re=J.scoreFn||L,He=J.keys,he=He.length,Le=0;Le<ue;++Le){for(var ke=X[Le],Ce=new Array(he),De=0;De<he;++De){var be=He[De],Ee=P(ke,be);if(!Ee){Ce[De]=M;continue}U(Ee)||(Ee=f(Ee)),(se&Ee._bitflags)!==se?Ce[De]=M:Ce[De]=_(V,Ee)}Ce.obj=ke;var Oe=Re(Ce);Oe!==M&&(Oe<me||(Ce.score=Oe,ee<Q?(ne.add(Ce),++ee):(++le,Oe>ne.peek().score&&ne.replaceTop(Ce))))}else for(var Le=0;Le<ue;++Le){var Ee=X[Le];if(Ee&&(U(Ee)||(Ee=f(Ee)),(se&Ee._bitflags)===se)){var Te=_(V,Ee);Te!==M&&(Te.score<me||(ee<Q?(ne.add(Te),++ee):(++le,Te.score>ne.peek().score&&ne.replaceTop(Te))))}}if(ee===0)return Z;for(var Ke=new Array(ee),Le=ee-1;Le>=0;--Le)Ke[Le]=ne.poll();return Ke.total=ee+le,Ke},i=(F,X,J)=>{if(typeof X=="function")return o(F,X);if(F===M)return M;X===void 0&&(X="<b>"),J===void 0&&(J="</b>");var V="",se=0,me=!1,Q=F.target,ee=Q.length,le=F._indexes;le=le.slice(0,le.len).sort((Le,ke)=>Le-ke);for(var ue=0;ue<ee;++ue){var be=Q[ue];if(le[se]===ue){if(++se,me||(me=!0,V+=X),se===le.length){V+=be+J+Q.substr(ue+1);break}}else me&&(me=!1,V+=J);V+=be}return V},o=(ue,X)=>{if(ue===M)return M;var J=ue.target,V=J.length,se=ue._indexes;se=se.slice(0,se.len).sort((ke,Ee)=>ke-Ee);for(var me="",Q=0,ee=0,le=!1,ue=[],be=0;be<V;++be){var Le=J[be];if(se[ee]===be){if(++ee,le||(le=!0,ue.push(me),me=""),ee===se.length){me+=Le,ue.push(X(me,Q++)),me="",ue.push(J.substr(be+1));break}}else le&&(le=!1,ue.push(X(me,Q++)),me="");me+=Le}return ue},r=F=>F._indexes.slice(0,F._indexes.len).sort((X,J)=>X-J),s=F=>{typeof F!="string"&&(F="");var X=y(F);return{target:F,_targetLower:X._lower,_targetLowerCodes:X.lowerCodes,_nextBeginningIndexes:M,_bitflags:X.bitflags,score:M,_indexes:[0],obj:M}},a=F=>{typeof F!="string"&&(F=""),F=F.trim();var X=y(F),J=[];if(X.containsSpace){var V=F.split(/\s+/);V=[...new Set(V)];for(var se=0;se<V.length;se++)if(V[se]!==""){var me=y(V[se]);J.push({lowerCodes:me.lowerCodes,_lower:V[se].toLowerCase(),containsSpace:!1})}}return{lowerCodes:X.lowerCodes,bitflags:X.bitflags,containsSpace:X.containsSpace,_lower:X._lower,spaceSearches:J}},f=F=>{if(F.length>999)return s(F);var X=C.get(F);return X!==void 0||(X=s(F),C.set(F,X)),X},u=F=>{if(F.length>999)return a(F);var X=B.get(F);return X!==void 0||(X=a(F),B.set(F,X)),X},c=(F,X,J)=>{var V=[];V.total=X.length;var se=J&&J.limit||q;if(J&&J.key)for(var me=0;me<X.length;me++){var Q=X[me],ee=P(Q,J.key);if(ee){U(ee)||(ee=f(ee)),ee.score=G,ee._indexes.len=0;var le=ee;if(le={target:le.target,_targetLower:"",_targetLowerCodes:M,_nextBeginningIndexes:M,_bitflags:0,score:ee.score,_indexes:M,obj:Q},V.push(le),V.length>=se)return V}}else if(J&&J.keys)for(var me=0;me<X.length;me++){for(var Q=X[me],ue=new Array(J.keys.length),be=J.keys.length-1;be>=0;--be){var ee=P(Q,J.keys[be]);if(!ee){ue[be]=M;continue}U(ee)||(ee=f(ee)),ee.score=G,ee._indexes.len=0,ue[be]=ee}if(ue.obj=Q,ue.score=G,V.push(ue),V.length>=se)return V}else for(var me=0;me<X.length;me++){var ee=X[me];if(ee&&(U(ee)||(ee=f(ee)),ee.score=G,ee._indexes.len=0,V.push(ee),V.length>=se))return V}return V},_=(F,X)=>{if(F.containsSpace)return g(F,X);for(var J=F._lower,V=F.lowerCodes,se=V[0],me=X._targetLowerCodes,Q=V.length,ee=me.length,Le=0,le=0,ue=0;;){var be=se===me[le];if(be){if(D[ue++]=le,++Le,Le===Q)break;se=V[Le]}if(++le,le>=ee)return M}var Le=0,ke=!1,Ee=0,Te=X._nextBeginningIndexes;Te===M&&(Te=X._nextBeginningIndexes=T(X.target)),le=D[0]===0?0:Te[D[0]-1];var Re=0;if(le!==ee)for(;;)if(le>=ee){if(Le<=0||(++Re,Re>200))break;--Le;var He=j[--Ee];le=Te[He]}else{var be=V[Le]===me[le];if(be){if(j[Ee++]=le,++Le,Le===Q){ke=!0;break}++le}else le=Te[le]}var he=X._targetLower.indexOf(J,D[0]),Ce=~he;if(Ce&&!ke)for(var De=0;De<ue;++De)D[De]=he+De;var Oe=!1;Ce&&(Oe=X._nextBeginningIndexes[he-1]===he);{if(ke)var Ke=j,xe=Ee;else var Ke=D,xe=ue;for(var mt=0,ye=0,De=1;De<Q;++De)Ke[De]-Ke[De-1]!==1&&(mt-=Ke[De],++ye);var et=Ke[Q-1]-Ke[0]-(Q-1);if(mt-=(12+et)*ye,Ke[0]!==0&&(mt-=Ke[0]*10),!ke)mt*=1e3;else{for(var je=1,De=Te[0];De<ee;De=Te[De])++je;je>24&&(mt*=(je-24)*10)}Ce&&(mt/=10),Oe&&(mt/=10),mt-=ee-Q,X.score=mt;for(var De=0;De<xe;++De)X._indexes[De]=Ke[De];return X._indexes.len=xe,X}},g=(F,X)=>{for(var J=new Set,V=0,se=M,me=0,Q=F.spaceSearches,ue=0;ue<Q.length;++ue){var ee=Q[ue];if(se=_(ee,X),se===M)return M;V+=se.score,se._indexes[0]<me&&(V-=me-se._indexes[0]),me=se._indexes[0];for(var le=0;le<se._indexes.len;++le)J.add(se._indexes[le])}se.score=V;var ue=0;for(let be of J)se._indexes[ue++]=be;return se._indexes.len=ue,se},y=F=>{for(var X=F.length,J=F.toLowerCase(),V=[],se=0,me=!1,Q=0;Q<X;++Q){var ee=V[Q]=J.charCodeAt(Q);if(ee===32){me=!0;continue}var le=ee>=97&&ee<=122?ee-97:ee>=48&&ee<=57?26:ee<=127?30:31;se|=1<<le}return{lowerCodes:V,bitflags:se,containsSpace:me,_lower:J}},k=F=>{for(var X=F.length,J=[],V=0,se=!1,me=!1,Q=0;Q<X;++Q){var ee=F.charCodeAt(Q),le=ee>=65&&ee<=90,ue=le||ee>=97&&ee<=122||ee>=48&&ee<=57,be=le&&!se||!me||!ue;se=le,me=ue,be&&(J[V++]=Q)}return J},T=F=>{for(var X=F.length,J=k(F),V=[],se=J[0],me=0,Q=0;Q<X;++Q)se>Q?V[Q]=se:(se=J[++me],V[Q]=se===void 0?X:se);return V},R=()=>{C.clear(),B.clear(),D=[],j=[]},C=new Map,B=new Map,D=[],j=[],L=F=>{for(var X=G,J=F.length,V=0;V<J;++V){var se=F[V];if(se!==M){var me=se.score;me>X&&(X=me)}}return X===G?M:X},P=(F,X)=>{var J=F[X];if(J!==void 0)return J;var V=X;Array.isArray(X)||(V=X.split("."));for(var se=V.length,me=-1;F&&++me<se;)F=F[V[me]];return F},U=F=>typeof F=="object",q=1/0,G=-q,Z=[];Z.total=0;var M=null,x=F=>{var X=[],J=0,V={},se=me=>{for(var Q=0,ee=X[Q],le=1;le<J;){var ue=le+1;Q=le,ue<J&&X[ue].score<X[le].score&&(Q=ue),X[Q-1>>1]=X[Q],le=1+(Q<<1)}for(var be=Q-1>>1;Q>0&&ee.score<X[be].score;be=(Q=be)-1>>1)X[Q]=X[be];X[Q]=ee};return V.add=me=>{var Q=J;X[J++]=me;for(var ee=Q-1>>1;Q>0&&me.score<X[ee].score;ee=(Q=ee)-1>>1)X[Q]=X[ee];X[Q]=me},V.poll=me=>{if(J!==0){var Q=X[0];return X[0]=X[--J],se(),Q}},V.peek=me=>{if(J!==0)return X[0]},V.replaceTop=me=>{X[0]=me,se()},V},ne=x();return{single:n,go:t,highlight:i,prepare:s,indexes:r,cleanup:R}})})(iL);function Wg(l,e,n){const t=l.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function Vg(l,e,n){const t=l.slice();t[13]=e[n];const i=t[0]._flatten(t[13].item);return t[14]=i,t}function lL(l){let e,n=(l[2][0]/1024/1024).toFixed(1)+"",t,i,o=(l[2][1]/1024/1024).toFixed(1)+"",r,s;return{c(){e=m("pre"),t=w(n),i=w("/"),r=w(o),s=w(" MB")},m(a,f){h(a,e,f),d(e,t),d(e,i),d(e,r),d(e,s)},p(a,f){f&4&&n!==(n=(a[2][0]/1024/1024).toFixed(1)+"")&&K(t,n),f&4&&o!==(o=(a[2][1]/1024/1024).toFixed(1)+"")&&K(r,o)},i:ie,o:ie,d(a){a&&p(e)}}}function rL(l){let e;return{c(){e=m("pre"),e.textContent="..."},m(n,t){h(n,e,t)},p:ie,i:ie,o:ie,d(n){n&&p(e)}}}function oL(l){let e,n,t=l[1],i=[];for(let s=0;s<t.length;s+=1)i[s]=Zg(Wg(l,t,s));const o=s=>$(i[s],1,1,()=>{i[s]=null});let r=null;return t.length||(r=Xg()),{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=fe(),r&&r.c()},m(s,a){for(let f=0;f<i.length;f+=1)i[f].m(s,a);h(s,e,a),r&&r.m(s,a),n=!0},p(s,a){if(a&3){t=s[1];let f;for(f=0;f<t.length;f+=1){const u=Wg(s,t,f);i[f]?(i[f].p(u,a),b(i[f],1)):(i[f]=Zg(u),i[f].c(),b(i[f],1),i[f].m(e.parentNode,e))}for(re(),f=t.length;f<i.length;f+=1)o(f);oe(),!t.length&&r?r.p(s,a):t.length?r&&(r.d(1),r=null):(r=Xg(),r.c(),r.m(e.parentNode,e))}},i(s){if(!n){for(let a=0;a<t.length;a+=1)b(i[a]);n=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)$(i[a]);n=!1},d(s){we(i,s),s&&p(e),r&&r.d(s)}}}function Xg(l){let e;return{c(){e=m("em"),e.textContent=`${O.t("No results.",{_context:"Search Results"})}`},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function Jg(l){let e;return{c(){e=m("em"),e.textContent=`(${O.t("obsolete",{_context:"Search Results"})})`,Bt(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function Kg(l){var f;let e,n,t,i,o,r=/obsolet/.test(l[13].item.__filename??""),s;n=new Lt({props:{item:l[14]}}),i=new ve({props:{type:Ai(l[13].item.type),id:l[13].item.id,variantId:(f=l[13].variant)==null?void 0:f.id}});let a=r&&Jg();return{c(){e=m("li"),W(n.$$.fragment),t=N(),W(i.$$.fragment),o=N(),a&&a.c()},m(u,c){h(u,e,c),H(n,e,null),d(e,t),H(i,e,null),d(e,o),a&&a.m(e,null),s=!0},p(u,c){var y;const _={};c&3&&(_.item=u[14]),n.$set(_);const g={};c&2&&(g.type=Ai(u[13].item.type)),c&2&&(g.id=u[13].item.id),c&2&&(g.variantId=(y=u[13].variant)==null?void 0:y.id),i.$set(g),c&2&&(r=/obsolet/.test(u[13].item.__filename??"")),r?a?a.p(u,c):(a=Jg(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(u){s||(b(n.$$.fragment,u),b(i.$$.fragment,u),s=!0)},o(u){$(n.$$.fragment,u),$(i.$$.fragment,u),s=!1},d(u){u&&p(e),z(n),z(i),a&&a.d()}}}function Zg(l){let e,n=l[9].replace(/_/g," ")+"",t,i,o,r,s,a=l[10],f=[];for(let c=0;c<a.length;c+=1)f[c]=Kg(Vg(l,a,c));const u=c=>$(f[c],1,1,()=>{f[c]=null});return{c(){e=m("h1"),t=w(n),i=N(),o=m("ul");for(let c=0;c<f.length;c+=1)f[c].c();r=N()},m(c,_){h(c,e,_),d(e,t),h(c,i,_),h(c,o,_);for(let g=0;g<f.length;g+=1)f[g].m(o,null);d(o,r),s=!0},p(c,_){if((!s||_&2)&&n!==(n=c[9].replace(/_/g," ")+"")&&K(t,n),_&3){a=c[10];let g;for(g=0;g<a.length;g+=1){const y=Vg(c,a,g);f[g]?(f[g].p(y,_),b(f[g],1)):(f[g]=Kg(y),f[g].c(),b(f[g],1),f[g].m(o,r))}for(re(),g=a.length;g<f.length;g+=1)u(g);oe()}},i(c){if(!s){for(let _=0;_<a.length;_+=1)b(f[_]);s=!0}},o(c){f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)$(f[_]);s=!1},d(c){c&&p(e),c&&p(i),c&&p(o),we(f,c)}}}function sL(l){let e,n,t,i;const o=[oL,rL,lL],r=[];function s(a,f){return a[1]?0:a[0]||!a[2]?1:2}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(re(),$(r[u],1,1,()=>{r[u]=null}),oe(),n=r[e],n?n.p(a,f):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}const fL=/[\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f\u3131-\ud79d]/;function aL(l,e,n){let t,i,o;po(l,q0,_=>n(2,o=_));const r=new Set(["item","monster","furniture","vehicle_part","tool_quality","martial_art","mutation","mutation_category","vehicle","terrain"]);let{data:s}=e,a;function f(_,g){return(g==null?void 0:g.type)==="vehicle_part"&&!g.name&&g.item&&(g=_.byId("item",g.item)),it(g)}let{search:u}=e;function c(_){const g=Ls.go(_,a,{limit:100,keys:["id","name","variant_id"],threshold:-1e4}),y=new Map;for(const{obj:k}of g){const T=k.type;if(!r.has(T)||(y.has(T)||y.set(T,[]),y.get(T).some(B=>B.item.id===k.id)))continue;const R=s.byId(T,k.id),C=k.variant_id?{id:k.variant_id,name:k.name}:void 0;y.get(T).push({item:R,variant:C})}return y}return l.$$set=_=>{"data"in _&&n(0,s=_.data),"search"in _&&n(3,u=_.search)},l.$$.update=()=>{l.$$.dirty&1&&Ps("data",s),l.$$.dirty&1&&(a=[...(s==null?void 0:s.all())??[]].filter(_=>"id"in _&&typeof _.id=="string"&&r.has(Ai(_.type))).filter(_=>_.type==="mutation"?!/Fake\d$/.test(_.id):!0).flatMap(_=>[{id:_.id,name:f(s,_),type:Ai(_.type)}].concat("variants"in _&&_.variants?_.variants.map(g=>({id:_.id,variant_id:g.id,name:Qt(g.name),type:Ai(_.type)})):[]))),l.$$.dirty&9&&n(4,t=u&&(u.length>=2||fL.test(u))&&s&&c(u)),l.$$.dirty&16&&n(1,i=t?[...t.entries()]:null)},[s,i,o,u,t]}class uL extends Et{constructor(e){super(),wt(this,e,aL,sL,$t,{data:0,search:3})}}function Qg(l,e,n){const t=l.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function cL(l){let e,n,t,i,o,r=l[9]&&dL(l);return t=new Zt({props:{items:l[10].filter(l[4]),limit:l[3].length===1?1/0:10,$$slots:{default:[mL,({item:s})=>({13:s}),({item:s})=>s?8192:0]},$$scope:{ctx:l}}}),{c(){e=m("section"),r&&r.c(),n=N(),W(t.$$.fragment),i=N()},m(s,a){h(s,e,a),r&&r.m(e,null),d(e,n),H(t,e,null),d(e,i),o=!0},p(s,a){s[9]&&r.p(s,a);const f={};a&24577&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){o||(b(t.$$.fragment,s),o=!0)},o(s){$(t.$$.fragment,s),o=!1},d(s){s&&p(e),r&&r.d(),z(t)}}}function _L(l){let e,n;return e=new eb({props:{item:l[1].byId("mutation_category",l[9]),inCatalog:!0}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&2&&(o.item=t[1].byId("mutation_category",t[9])),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function dL(l){let e,n=l[9]+"",t;return{c(){e=m("h1"),t=w(n)},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function xg(l){let e,n;return e=new Lt({props:{item:l[13]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i&8192&&(o.item=t[13]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function mL(l){let e,n,t,i=(l[0]==="item"||l[0]==="terrain"||l[0]==="furniture"||l[0]==="monster"||l[0]==="vehicle_part")&&xg(l);return n=new ve({props:{type:l[2],id:l[13].id}}),{c(){i&&i.c(),e=N(),W(n.$$.fragment)},m(o,r){i&&i.m(o,r),h(o,e,r),H(n,o,r),t=!0},p(o,r){o[0]==="item"||o[0]==="terrain"||o[0]==="furniture"||o[0]==="monster"||o[0]==="vehicle_part"?i?(i.p(o,r),r&1&&b(i,1)):(i=xg(o),i.c(),b(i,1),i.m(e.parentNode,e)):i&&(re(),$(i,1,1,()=>{i=null}),oe());const s={};r&8192&&(s.id=o[13].id),n.$set(s)},i(o){t||(b(i),b(n.$$.fragment,o),t=!0)},o(o){$(i),$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),z(n,o)}}}function e0(l){let e,n,t,i,o;const r=[_L,cL],s=[];function a(f,u){return u&3&&(e=null),e==null&&(e=!!(f[0]==="mutation"&&f[9]&&f[1].byIdMaybe("mutation_category",f[9]))),e?0:1}return n=a(l,-1),t=s[n]=r[n](l),{c(){t.c(),i=fe()},m(f,u){s[n].m(f,u),h(f,i,u),o=!0},p(f,u){let c=n;n=a(f,u),n===c?s[n].p(f,u):(re(),$(s[c],1,1,()=>{s[c]=null}),oe(),t=s[n],t?t.p(f,u):(t=s[n]=r[n](f),t.c()),b(t,1),t.m(i.parentNode,i))},i(f){o||(b(t),o=!0)},o(f){$(t),o=!1},d(f){s[n].d(f),f&&p(i)}}}function pL(l){let e,n,t,i,o,r=l[3],s=[];for(let f=0;f<r.length;f+=1)s[f]=e0(Qg(l,r,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("h1"),n=w(l[0]),t=N();for(let f=0;f<s.length;f+=1)s[f].c();i=fe()},m(f,u){h(f,e,u),d(e,n),h(f,t,u);for(let c=0;c<s.length;c+=1)s[c].m(f,u);h(f,i,u),o=!0},p(f,[u]){if((!o||u&1)&&K(n,f[0]),u&8223){r=f[3];let c;for(c=0;c<r.length;c+=1){const _=Qg(f,r,c);s[c]?(s[c].p(_,u),b(s[c],1)):(s[c]=e0(_),s[c].c(),b(s[c],1),s[c].m(i.parentNode,i))}for(re(),c=r.length;c<s.length;c+=1)a(c);oe()}},i(f){if(!o){for(let u=0;u<r.length;u+=1)b(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);o=!1},d(f){f&&p(e),f&&p(t),we(s,f),f&&p(i)}}}function hL(l){return l.category?l.category.toLowerCase():l.type==="GUN"?"guns":l.type==="MAGAZINE"?"magazines":l.type==="AMMO"?"ammo":l.type==="TOOL"?"tools":l.type==="ARMOR"?"clothing":l.type==="COMESTIBLE"?l.comestible_type==="MED"?"drugs":"food":l.type==="BOOK"?"books":l.type==="GUNMOD"?"mods":l.type==="BIONIC_ITEM"?"bionics":l.bashing||l.cutting?"weapons":"other"}function gL(l,e,n){let{type:t}=e,{data:i}=e,o=t;Ps("data",i);const r=i.byType(t).filter(_=>"id"in _&&_.id).sort(Sn);function s(_){return it(i.byId("ITEM_CATEGORY",_))}const a={monster:_=>[_.default_faction??""],item:_=>[`${_.type} (${s(hL(_))})`],vehicle_part:_=>_.categories??[""],mutation:_=>_.category??[""]}[t]??(()=>[""]),u=[...Us(r,a).entries()].sort(([_],[g])=>_.localeCompare(g)),c={mutation:_=>{var g,y;return!/Fake\d$/.test(_.id)&&!((g=_.types)!=null&&g.includes("BACKGROUND_OTHER_SURVIVORS_STORY"))&&!((y=_.types)!=null&&y.includes("BACKGROUND_SURVIVAL_STORY"))}}[t]??(()=>!0);return l.$$set=_=>{"type"in _&&n(0,t=_.type),"data"in _&&n(1,i=_.data)},[t,i,o,u,c]}class bL extends Et{constructor(e){super(),wt(this,e,gL,pL,$t,{type:0,data:1})}}const $L="/cdda-guide/assets/dont_panic-c90f0625.png";function vL(l){var e=typeof l;return l!=null&&(e=="object"||e=="function")}var of=vL,yL=typeof Sr=="object"&&Sr&&Sr.Object===Object&&Sr,kL=yL,wL=kL,EL=typeof self=="object"&&self&&self.Object===Object&&self,SL=wL||EL||Function("return this")(),Db=SL,TL=Db,CL=function(){return TL.Date.now()},IL=CL,OL=/\s/;function RL(l){for(var e=l.length;e--&&OL.test(l.charAt(e)););return e}var NL=RL,AL=NL,BL=/^\s+/;function ML(l){return l&&l.slice(0,AL(l)+1).replace(BL,"")}var DL=ML,LL=Db,FL=LL.Symbol,Lb=FL,t0=Lb,Fb=Object.prototype,PL=Fb.hasOwnProperty,jL=Fb.toString,kr=t0?t0.toStringTag:void 0;function UL(l){var e=PL.call(l,kr),n=l[kr];try{l[kr]=void 0;var t=!0}catch{}var i=jL.call(l);return t&&(e?l[kr]=n:delete l[kr]),i}var GL=UL,qL=Object.prototype,YL=qL.toString;function HL(l){return YL.call(l)}var zL=HL,n0=Lb,WL=GL,VL=zL,XL="[object Null]",JL="[object Undefined]",i0=n0?n0.toStringTag:void 0;function KL(l){return l==null?l===void 0?JL:XL:i0&&i0 in Object(l)?WL(l):VL(l)}var ZL=KL;function QL(l){return l!=null&&typeof l=="object"}var xL=QL,e9=ZL,t9=xL,n9="[object Symbol]";function i9(l){return typeof l=="symbol"||t9(l)&&e9(l)==n9}var l9=i9,r9=DL,l0=of,o9=l9,r0=0/0,s9=/^[-+]0x[0-9a-f]+$/i,f9=/^0b[01]+$/i,a9=/^0o[0-7]+$/i,u9=parseInt;function c9(l){if(typeof l=="number")return l;if(o9(l))return r0;if(l0(l)){var e=typeof l.valueOf=="function"?l.valueOf():l;l=l0(e)?e+"":e}if(typeof l!="string")return l===0?l:+l;l=r9(l);var n=f9.test(l);return n||a9.test(l)?u9(l.slice(2),n?2:8):s9.test(l)?r0:+l}var _9=c9,d9=of,$s=IL,o0=_9,m9="Expected a function",p9=Math.max,h9=Math.min;function g9(l,e,n){var t,i,o,r,s,a,f=0,u=!1,c=!1,_=!0;if(typeof l!="function")throw new TypeError(m9);e=o0(e)||0,d9(n)&&(u=!!n.leading,c="maxWait"in n,o=c?p9(o0(n.maxWait)||0,e):o,_="trailing"in n?!!n.trailing:_);function g(L){var P=t,U=i;return t=i=void 0,f=L,r=l.apply(U,P),r}function y(L){return f=L,s=setTimeout(R,e),u?g(L):r}function k(L){var P=L-a,U=L-f,q=e-P;return c?h9(q,o-U):q}function T(L){var P=L-a,U=L-f;return a===void 0||P>=e||P<0||c&&U>=o}function R(){var L=$s();if(T(L))return C(L);s=setTimeout(R,k(L))}function C(L){return s=void 0,_&&t?g(L):(t=i=void 0,r)}function B(){s!==void 0&&clearTimeout(s),f=0,t=a=i=s=void 0}function D(){return s===void 0?r:C($s())}function j(){var L=$s(),P=T(L);if(t=arguments,i=this,a=L,P){if(s===void 0)return y(a);if(c)return clearTimeout(s),s=setTimeout(R,e),g(a)}return s===void 0&&(s=setTimeout(R,e)),r}return j.cancel=B,j.flush=D,j}var b9=g9,$9=b9,v9=of,y9="Expected a function";function k9(l,e,n){var t=!0,i=!0;if(typeof l!="function")throw new TypeError(y9);return v9(n)&&(t="leading"in n?!!n.leading:t,i="trailing"in n?!!n.trailing:i),$9(l,e,{leading:t,maxWait:e,trailing:i})}var s0=k9;const{window:f0}=V3;function a0(l,e,n){const t=l.slice();return t[32]=e[n],t}function w9(l){const e=l.slice(),n=e[8]==="latest"?e[3][0].build_number:e[8];return e[31]=n,e}function u0(l,e,n){const t=l.slice();return t[35]=e[n].name,t[14]=e[n].url,t}function c0(l,e,n){const t=l.slice();return t[38]=e[n],t[40]=n,t}function _0(l,e,n){const t=l.slice();return t[38]=e[n],t}function E9(l){let e,n,t,i,o,r,s,a=O.t(`The Guide stores all its data locally and is offline-capable, so you can
take it with you whereever you go. There's nothing to do to make the Guide
work offline, just visit the page and it will work even without internet
access, as long as you've visited it once before.`)+"",f,u,c,_,g,y,k,T,R,C,B,D,j,L,P,U,q,G,Z,M,x,ne,F,X,J,V,se,me,Q,ee,le,ue,be,Le,ke,Ee,Te,Re,He,he,Ce,De,Oe,Ke,xe,mt;o=new Gl({props:{str:O.t(`The {hhg} is a guide to the zombie survival roguelike game {link_cdda}. You can
search for things in the game, like items (e.g. a {link_flashlight}), furniture
(e.g. a {link_table}), or monsters (e.g. a {link_zombie}), and find useful
information about them. The data in the Guide comes directly from the JSON
files in the game itself.`,{hhg:"{hhg}",link_cdda:"{link_cdda}",link_flashlight:"{link_flashlight}",link_table:"{link_table}",link_zombie:"{link_zombie}"}),slot0:"hhg",slot1:"link_cdda",slot2:"link_flashlight",slot3:"link_table",slot4:"link_zombie",$$slots:{4:[N9],3:[R9],2:[O9],1:[I9],0:[C9]},$$scope:{ctx:l}}});let ye=l[5]&&d0(l);k=new Gl({props:{str:O.t("The Guide is developed on {link_github} by {link_nornagon}. If you notice any problems, please {link_file_an_issue}!",{link_github:"{link_github}",link_nornagon:"{link_nornagon}",link_file_an_issue:"{link_file_an_issue}"}),slot0:"link_github",slot1:"link_nornagon",slot2:"link_file_an_issue",$$slots:{2:[D9],1:[M9],0:[B9]},$$scope:{ctx:l}}});let et=l[9]&&L9(l);return xe=new Gl({props:{str:O.t("Or visit a {link_random_page}.",{link_random_page:"{link_random_page}"}),slot0:"link_random_page",$$slots:{0:[P9]},$$scope:{ctx:l}}}),{c(){e=m("img"),t=N(),i=m("p"),W(o.$$.fragment),r=N(),s=m("p"),f=w(a),u=N(),ye&&ye.c(),c=N(),_=m("p"),_.textContent=`${O.t(`More popular than the Celestial Home Care Omnibus, better selling than
Fifty-three More Things to do in Zero Gravity, and more controversial than
Oolon Colluphid's trilogy of philosophical blockbusters Where God Went
Wrong, Some More of God's Greatest Mistakes and Who is this God Person
Anyway?`,{_comment:"This is a quote from the Hitchhiker's Guide to the Galaxy, by Douglas Adams"})}`,g=N(),y=m("p"),W(k.$$.fragment),T=N(),et&&et.c(),R=N(),C=m("h2"),C.textContent=`${O.t("Catalogs")}`,B=N(),D=m("ul"),j=m("li"),L=m("a"),L.textContent=`${O.t("Items")}`,P=N(),U=m("li"),q=m("a"),q.textContent=`${O.t("Monsters")}`,G=N(),Z=m("li"),M=m("a"),M.textContent=`${O.t("Furniture")}`,x=N(),ne=m("li"),F=m("a"),F.textContent=`${O.t("Terrain")}`,X=N(),J=m("li"),V=m("a"),V.textContent=`${O.t("Vehicle Parts")}`,se=N(),me=m("li"),Q=m("a"),Q.textContent=`${O.t("Qualities")}`,ee=N(),le=m("li"),ue=m("a"),ue.textContent=`${O.t("Mutations")}`,be=N(),Le=m("li"),ke=m("a"),ke.textContent=`${O.t("Martial Arts")}`,Ee=N(),Te=m("li"),Re=m("a"),Re.textContent=`${O.t("Flags")}`,He=N(),he=m("li"),Ce=m("a"),Ce.textContent=`${O.t("Achievements")}`,De=w(` /
        `),Oe=m("a"),Oe.textContent=`${O.t("Conducts")}`,Ke=N(),W(xe.$$.fragment),j3(e.src,n=$L)||_e(e,"src",n),_e(e,"height","200"),_e(e,"width","343"),Bt(e,"float","right"),_e(e,"alt","The words 'Don't Panic' in big friendly letters"),Bt(_,"font-style","italic"),Bt(_,"color","var(--cata-color-gray)"),_e(L,"href","./item"),_e(q,"href","./monster"),_e(M,"href","./furniture"),_e(F,"href","./terrain"),_e(V,"href","./vehicle_part"),_e(Q,"href","./tool_quality"),_e(ue,"href","./mutation"),_e(ke,"href","./martial_art"),_e(Re,"href","./json_flag"),_e(Ce,"href","./achievement"),_e(Oe,"href","./conduct")},m(je,ct){h(je,e,ct),h(je,t,ct),h(je,i,ct),H(o,i,null),h(je,r,ct),h(je,s,ct),d(s,f),d(s,u),ye&&ye.m(s,null),h(je,c,ct),h(je,_,ct),h(je,g,ct),h(je,y,ct),H(k,y,null),h(je,T,ct),et&&et.m(je,ct),h(je,R,ct),h(je,C,ct),h(je,B,ct),h(je,D,ct),d(D,j),d(j,L),d(D,P),d(D,U),d(U,q),d(D,G),d(D,Z),d(Z,M),d(D,x),d(D,ne),d(ne,F),d(D,X),d(D,J),d(J,V),d(D,se),d(D,me),d(me,Q),d(D,ee),d(D,le),d(le,ue),d(D,be),d(D,Le),d(Le,ke),d(D,Ee),d(D,Te),d(Te,Re),d(D,He),d(D,he),d(he,Ce),d(he,De),d(he,Oe),h(je,Ke,ct),H(xe,je,ct),mt=!0},p(je,ct){const We={};ct[1]&4096&&(We.$$scope={dirty:ct,ctx:je}),o.$set(We),je[5]?ye?(ye.p(je,ct),ct[0]&32&&b(ye,1)):(ye=d0(je),ye.c(),b(ye,1),ye.m(s,null)):ye&&(re(),$(ye,1,1,()=>{ye=null}),oe());const qe={};ct[1]&4096&&(qe.$$scope={dirty:ct,ctx:je}),k.$set(qe),je[9]&&et.p(je,ct);const Ve={};ct[0]&64|ct[1]&4096&&(Ve.$$scope={dirty:ct,ctx:je}),xe.$set(Ve)},i(je){mt||(b(o.$$.fragment,je),b(ye),b(k.$$.fragment,je),b(et),b(xe.$$.fragment,je),mt=!0)},o(je){$(o.$$.fragment,je),$(ye),$(k.$$.fragment,je),$(et),$(xe.$$.fragment,je),mt=!1},d(je){je&&p(e),je&&p(t),je&&p(i),z(o),je&&p(r),je&&p(s),ye&&ye.d(),je&&p(c),je&&p(_),je&&p(g),je&&p(y),z(k),je&&p(T),et&&et.d(je),je&&p(R),je&&p(C),je&&p(B),je&&p(D),je&&p(Ke),z(xe,je)}}}function S9(l){let e,n,t,i;const o=[U9,j9],r=[];function s(a,f){return a[2]?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(re(),$(r[u],1,1,()=>{r[u]=null}),oe(),n=r[e],n?n.p(a,f):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function T9(l){let e,n,t,i;const o=[q9,G9],r=[];function s(a,f){return a[2]?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(re(),$(r[u],1,1,()=>{r[u]=null}),oe(),n=r[e],n?n.p(a,f):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function C9(l){let e;return{c(){e=m("strong"),e.textContent="Hitchhiker's Guide to the Cataclysm",_e(e,"slot","0")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function I9(l){let e;return{c(){e=m("a"),e.textContent="Cataclysm: Dark Days Ahead",_e(e,"slot","1"),_e(e,"href","https://cataclysmdda.org/")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function O9(l){let e;return{c(){e=m("a"),e.textContent=`${O.t("flashlight",{_comment:"Item name"})}`,_e(e,"slot","2"),_e(e,"href","/cdda-guide/item/flashlight")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function R9(l){let e;return{c(){e=m("a"),e.textContent=`${O.t("table",{_comment:"Furniture"})}`,_e(e,"slot","3"),_e(e,"href","/cdda-guide/furniture/f_table")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function N9(l){let e;return{c(){e=m("a"),e.textContent=`${O.t("zombie",{_comment:"Monster name"})}`,_e(e,"slot","4"),_e(e,"href","/cdda-guide/monster/mon_zombie")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function d0(l){let e,n;return e=new Gl({props:{str:O.t("It's also {installable_button}, so you can pop it out of your browser and use it like a regular app.",{installable_button:"{installable_button}"}),slot0:"installable_button",$$slots:{0:[A9]},$$scope:{ctx:l}}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&32|i[1]&4096&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function A9(l){let e,n,t;return{c(){e=m("button"),e.textContent=`${O.t("installable",{_context:"Front page",_comment:"Meaning, install the Hitchhiker's Guide app itself."})}`,_e(e,"slot","0"),_e(e,"class","disclosure")},m(i,o){h(i,e,o),n||(t=ji(e,"click",l[18]),n=!0)},p:ie,d(i){i&&p(e),n=!1,t()}}}function B9(l){let e;return{c(){e=m("a"),e.textContent="GitHub",_e(e,"slot","0"),_e(e,"href","https://github.com/nornagon/cdda-guide")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function M9(l){let e;return{c(){e=m("a"),e.textContent="nornagon",_e(e,"slot","1"),_e(e,"href","https://www.nornagon.net")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function D9(l){let e;return{c(){e=m("a"),e.textContent=`${O.t("file an issue")}`,_e(e,"slot","2"),_e(e,"href","https://github.com/nornagon/cdda-guide/issues")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function L9(l){let e,n,t;return n=new Gl({props:{str:O.t("You can help translate the Guide into your language on {link_transifex}.",{link_transifex:"{link_transifex}"}),slot0:"link_transifex",$$slots:{0:[F9]},$$scope:{ctx:l}}}),{c(){e=m("p"),W(n.$$.fragment),Bt(e,"font-weight","bold")},m(i,o){h(i,e,o),H(n,e,null),t=!0},p(i,o){const r={};o[1]&4096&&(r.$$scope={dirty:o,ctx:i}),n.$set(r)},i(i){t||(b(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),z(n)}}}function F9(l){let e;return{c(){e=m("a"),e.textContent="Transifex",_e(e,"slot","0"),_e(e,"href","https://www.transifex.com/nornagon/the-hitchhikers-guide-to-the-cataclysm/")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function P9(l){let e,n=O.t("random page")+"",t,i,o;return{c(){e=m("a"),t=w(n),_e(e,"slot","0"),_e(e,"href",l[6])},m(r,s){h(r,e,s),d(e,t),i||(o=ji(e,"click",l[19]),i=!0)},p(r,s){s[0]&64&&_e(e,"href",r[6])},d(r){r&&p(e),i=!1,o()}}}function j9(l){let e,n,t,i=l[7]&&m0(l);return{c(){e=m("span"),n=m("em"),n.textContent=`${O.t("Loading...")}`,t=N(),i&&i.c(),Bt(e,"color","var(--cata-color-gray)")},m(o,r){h(o,e,r),d(e,n),d(e,t),i&&i.m(e,null)},p(o,r){o[7]?i?i.p(o,r):(i=m0(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:ie,o:ie,d(o){o&&p(e),i&&i.d()}}}function U9(l){let e=l[4],n,t,i=p0(l);return{c(){i.c(),n=fe()},m(o,r){i.m(o,r),h(o,n,r),t=!0},p(o,r){r[0]&16&&$t(e,e=o[4])?(re(),$(i,1,1,ie),oe(),i=p0(o),i.c(),b(i,1),i.m(n.parentNode,n)):i.p(o,r)},i(o){t||(b(i),t=!0)},o(o){$(i),t=!1},d(o){o&&p(n),i.d(o)}}}function m0(l){let e,n=(l[7][0]/1024/1024).toFixed(1)+"",t,i,o=(l[7][1]/1024/1024).toFixed(1)+"",r,s;return{c(){e=w("("),t=w(n),i=w("/"),r=w(o),s=w(" MB)")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,r,f),h(a,s,f)},p(a,f){f[0]&128&&n!==(n=(a[7][0]/1024/1024).toFixed(1)+"")&&K(t,n),f[0]&128&&o!==(o=(a[7][1]/1024/1024).toFixed(1)+"")&&K(r,o)},d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(r),a&&p(s)}}}function p0(l){let e,n;return e=new uL({props:{data:l[2],search:l[4]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&4&&(o.data=t[2]),i[0]&16&&(o.search=t[4]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function G9(l){let e,n,t,i=l[7]&&h0(l);return{c(){e=m("span"),n=m("em"),n.textContent=`${O.t("Loading...")}`,t=N(),i&&i.c(),Bt(e,"color","var(--cata-color-gray)")},m(o,r){h(o,e,r),d(e,n),d(e,t),i&&i.m(e,null)},p(o,r){o[7]?i?i.p(o,r):(i=h0(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:ie,o:ie,d(o){o&&p(e),i&&i.d()}}}function q9(l){let e=l[0],n,t,i=g0(l);return{c(){i.c(),n=fe()},m(o,r){i.m(o,r),h(o,n,r),t=!0},p(o,r){r[0]&1&&$t(e,e=o[0])?(re(),$(i,1,1,ie),oe(),i=g0(o),i.c(),b(i,1),i.m(n.parentNode,n)):i.p(o,r)},i(o){t||(b(i),t=!0)},o(o){$(i),t=!1},d(o){o&&p(n),i.d(o)}}}function h0(l){let e,n=(l[7][0]/1024/1024).toFixed(1)+"",t,i,o=(l[7][1]/1024/1024).toFixed(1)+"",r,s;return{c(){e=w("("),t=w(n),i=w("/"),r=w(o),s=w(" MB)")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,r,f),h(a,s,f)},p(a,f){f[0]&128&&n!==(n=(a[7][0]/1024/1024).toFixed(1)+"")&&K(t,n),f[0]&128&&o!==(o=(a[7][1]/1024/1024).toFixed(1)+"")&&K(r,o)},d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(r),a&&p(s)}}}function Y9(l){let e,n;return e=new bL({props:{type:l[0].type,data:l[2]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.type=t[0].type),i[0]&4&&(o.data=t[2]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function H9(l){let e,n;return e=new nL({props:{item:l[0],data:l[2]}}),{c(){W(e.$$.fragment)},m(t,i){H(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),i[0]&4&&(o.data=t[2]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function g0(l){let e,n,t,i;const o=[H9,Y9],r=[];function s(a,f){return a[0].id?0:1}return e=s(l),n=r[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){r[e].m(a,f),h(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(re(),$(r[u],1,1,()=>{r[u]=null}),oe(),n=r[e],n?n.p(a,f):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){i||(b(n),i=!0)},o(a){$(n),i=!1},d(a){r[e].d(a),a&&p(t)}}}function z9(l){let e;return{c(){e=m("em"),e.textContent=`(${O.t("Loading...")})`,Bt(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:ie,d(n){n&&p(e)}}}function W9(l){let e;function n(o,r){if(o[3])return X9;if(o[2])return V9}let t=n(l),i=t&&t(l);return{c(){i&&i.c(),e=fe()},m(o,r){i&&i.m(o,r),h(o,e,r)},p(o,r){t===(t=n(o))&&i?i.p(o,r):(i&&i.d(1),i=t&&t(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i&&i.d(o),o&&p(e)}}}function V9(l){let e,n,t=l[2].build_number+"",i,o;return{c(){e=m("select"),n=m("option"),i=w(t),n.__value=o=l[2].build_number,n.value=n.__value,e.disabled=!0},m(r,s){h(r,e,s),d(e,n),d(n,i)},p(r,s){s[0]&4&&t!==(t=r[2].build_number+"")&&K(i,t),s[0]&12&&o!==(o=r[2].build_number)&&(n.__value=o,n.value=n.__value)},d(r){r&&p(e)}}}function X9(l){let e,n,t,i,o,r,s=l[3].filter(E0),a=[];for(let c=0;c<s.length;c+=1)a[c]=b0(_0(l,s,c));let f=l[3].filter(S0),u=[];for(let c=0;c<f.length;c+=1)u[c]=$0(c0(l,f,c));return{c(){e=m("select"),n=m("optgroup");for(let c=0;c<a.length;c+=1)a[c].c();t=m("optgroup");for(let c=0;c<u.length;c+=1)u[c].c();_e(n,"label","Stable"),_e(t,"label","Experimental")},m(c,_){var g;h(c,e,_),d(e,n);for(let y=0;y<a.length;y+=1)a[y].m(n,null);d(e,t);for(let y=0;y<u.length;y+=1)u[y].m(t,null);Dr(e,((g=l[2])==null?void 0:g.build_number)??(l[8]==="latest"?l[3][0].build_number:l[8])),o||(r=ji(e,"change",l[20]),o=!0)},p(c,_){var g,y;if(_[0]&8){s=c[3].filter(E0);let k;for(k=0;k<s.length;k+=1){const T=_0(c,s,k);a[k]?a[k].p(T,_):(a[k]=b0(T),a[k].c(),a[k].m(n,null))}for(;k<a.length;k+=1)a[k].d(1);a.length=s.length}if(_[0]&8){f=c[3].filter(S0);let k;for(k=0;k<f.length;k+=1){const T=c0(c,f,k);u[k]?u[k].p(T,_):(u[k]=$0(T),u[k].c(),u[k].m(t,null))}for(;k<u.length;k+=1)u[k].d(1);u.length=f.length}_[0]&12&&i!==(i=((g=c[2])==null?void 0:g.build_number)??(c[8]==="latest"?c[3][0].build_number:c[8]))&&Dr(e,((y=c[2])==null?void 0:y.build_number)??(c[8]==="latest"?c[3][0].build_number:c[8]))},d(c){c&&p(e),we(a,c),we(u,c),o=!1,r()}}}function b0(l){let e,n=l[38].build_number+"",t,i;return{c(){e=m("option"),t=w(n),e.__value=i=l[38].build_number,e.value=e.__value},m(o,r){h(o,e,r),d(e,t)},p(o,r){r[0]&8&&n!==(n=o[38].build_number+"")&&K(t,n),r[0]&8&&i!==(i=o[38].build_number)&&(e.__value=i,e.value=e.__value)},d(o){o&&p(e)}}}function J9(l){let e;return{c(){e=w(" (latest)")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function $0(l){let e,n=l[38].build_number+"",t,i,o=l[40]===0&&J9();return{c(){e=m("option"),t=w(n),o&&o.c(),e.__value=i=l[38].build_number,e.value=e.__value},m(r,s){h(r,e,s),d(e,t),o&&o.m(e,null)},p(r,s){s[0]&8&&n!==(n=r[38].build_number+"")&&K(t,n),s[0]&8&&i!==(i=r[38].build_number)&&(e.__value=i,e.value=e.__value)},d(r){r&&p(e),o&&o.d()}}}function v0(l){let e,n=l[35]+"",t;return{c(){e=m("option"),t=w(n),e.__value=l[14],e.value=e.__value},m(i,o){h(i,e,o),d(e,t)},p:ie,d(i){i&&p(e)}}}function K9(l){let e,n,t=O.t("Loading...")+"",i;return{c(){e=m("select"),n=m("option"),i=w(t),n.__value=O.t("Loading..."),n.value=n.__value,e.disabled=!0},m(o,r){h(o,e,r),d(e,n),d(n,i)},p:ie,d(o){o&&p(e)}}}function y0(l){var a;let e,n,t,i;function o(...f){return l[22](l[31],...f)}let r=[...((a=l[3].find(o))==null?void 0:a.langs)??[]].sort(T0),s=[];for(let f=0;f<r.length;f+=1)s[f]=k0(a0(l,r,f));return{c(){e=m("select"),n=m("option"),n.textContent="English";for(let f=0;f<s.length;f+=1)s[f].c();n.__value="en",n.value=n.__value},m(f,u){h(f,e,u),d(e,n);for(let c=0;c<s.length;c+=1)s[c].m(e,null);Dr(e,l[9]??"en"),t||(i=ji(e,"change",l[23]),t=!0)},p(f,u){var c;if(l=f,u[0]&264){r=[...((c=l[3].find(o))==null?void 0:c.langs)??[]].sort(T0);let _;for(_=0;_<r.length;_+=1){const g=a0(l,r,_);s[_]?s[_].p(g,u):(s[_]=k0(g),s[_].c(),s[_].m(e,null))}for(;_<s.length;_+=1)s[_].d(1);s.length=r.length}},d(f){f&&p(e),we(s,f),t=!1,i()}}}function k0(l){let e,n=w0(l[32])+"",t,i;return{c(){e=m("option"),t=w(n),e.__value=i=l[32],e.value=e.__value},m(o,r){h(o,e,r),d(e,t)},p(o,r){r[0]&8&&n!==(n=w0(o[32])+"")&&K(t,n),r[0]&8&&i!==(i=o[32])&&(e.__value=i,e.value=e.__value)},d(o){o&&p(e)}}}function Z9(l){let e,n,t,i,o,r,s,a,f,u,c,_,g,y,k=O.t("Version:")+"",T,R,C,B,D=O.t("Tileset:")+"",j,L,P,U,q,G,Z=O.t("Language:")+"",M,x,ne,F,X;const J=[T9,S9,E9],V=[];function se(Te,Re){return Te[0]?0:Te[4]?1:2}c=se(l),_=V[c]=J[c](l);function me(Te,Re){return Te[2]||Te[3]?W9:z9}let Q=me(l),ee=Q(l),le=l[10],ue=[];for(let Te=0;Te<le.length;Te+=1)ue[Te]=v0(u0(l,le,Te));function be(Te,Re){return Te[3]?y0:K9}function Le(Te,Re){return Re===y0?w9(Te):Te}let ke=be(l),Ee=ke(Le(l,ke));return{c(){e=m("header"),n=m("nav"),t=m("div"),i=m("strong"),o=m("a"),o.textContent="Hitchhiker's Guide to the Cataclysm",r=N(),s=m("div"),a=m("input"),f=N(),u=m("main"),_.c(),g=N(),y=m("p"),T=w(k),R=N(),ee.c(),C=N(),B=m("span"),j=w(D),L=N(),P=m("select"),U=m("option"),U.textContent="None (ASCII)";for(let Te=0;Te<ue.length;Te+=1)ue[Te].c();q=N(),G=m("span"),M=w(Z),x=N(),Ee.c(),_e(o,"href","/cdda-guide/"),_e(t,"class","title svelte-16u5hjb"),Bt(a,"margin","0"),Bt(a,"width","100%"),_e(a,"placeholder",O.t("Search...",{_comment:"Placeholder text in the search box"})),_e(a,"id","search"),_e(s,"class","search svelte-16u5hjb"),_e(n,"class","svelte-16u5hjb"),_e(e,"class","svelte-16u5hjb"),U.__value="",U.value=U.__value,Bt(B,"white-space","nowrap"),Bt(G,"white-space","nowrap"),_e(u,"class","svelte-16u5hjb")},m(Te,Re){h(Te,e,Re),d(e,n),d(n,t),d(t,i),d(i,o),d(n,r),d(n,s),d(s,a),$f(a,l[4]),h(Te,f,Re),h(Te,u,Re),V[c].m(u,null),d(u,g),d(u,y),d(y,T),d(y,R),ee.m(y,null),d(y,C),d(y,B),d(B,j),d(B,L),d(B,P),d(P,U);for(let He=0;He<ue.length;He+=1)ue[He].m(P,null);Dr(P,l[1]),d(y,q),d(y,G),d(G,M),d(G,x),Ee.m(G,null),ne=!0,F||(X=[ji(f0,"click",l[12]),ji(f0,"keydown",Q9),ji(o,"click",l[16]),ji(a,"input",l[17]),ji(a,"input",l[11]),ji(P,"change",l[21])],F=!0)},p(Te,Re){Re[0]&16&&a.value!==Te[4]&&$f(a,Te[4]);let He=c;if(c=se(Te),c===He?V[c].p(Te,Re):(re(),$(V[He],1,1,()=>{V[He]=null}),oe(),_=V[c],_?_.p(Te,Re):(_=V[c]=J[c](Te),_.c()),b(_,1),_.m(u,g)),Q===(Q=me(Te))&&ee?ee.p(Te,Re):(ee.d(1),ee=Q(Te),ee&&(ee.c(),ee.m(y,C))),Re[0]&1024){le=Te[10];let he;for(he=0;he<le.length;he+=1){const Ce=u0(Te,le,he);ue[he]?ue[he].p(Ce,Re):(ue[he]=v0(Ce),ue[he].c(),ue[he].m(P,null))}for(;he<ue.length;he+=1)ue[he].d(1);ue.length=le.length}(!ne||Re[0]&1026)&&Dr(P,Te[1]),ke===(ke=be(Te))&&Ee?Ee.p(Le(Te,ke),Re):(Ee.d(1),Ee=ke(Le(Te,ke)),Ee&&(Ee.c(),Ee.m(G,null)))},i(Te){ne||(b(_),ne=!0)},o(Te){$(_),ne=!1},d(Te){Te&&p(e),Te&&p(f),Te&&p(u),V[c].d(),ee.d(),we(ue,Te),Ee.d(),F=!1,gr(X)}}}function Q9(l){var e,n;l.key==="/"&&((e=document.activeElement)==null?void 0:e.id)!=="search"&&((n=document.getElementById("search"))==null||n.focus(),l.preventDefault())}function w0(l){return{en:"English",ar:"العربية",cs:"Český Jazyk",da:"Dansk",de:"Deutsch",el:"Ελληνικά",es_AR:"Español (Argentina)",es_ES:"Español (España)",fr:"Français",hu:"Magyar",id:"Bahasa Indonesia",is:"Íslenska",it_IT:"Italiano",ja:"日本語",ko:"한국어",nb:"Norsk",nl:"Nederlands",pl:"Polski",pt_BR:"Português (Brasil)",ru:"Русский",sr:"Српски",tr:"Türkçe",uk_UA:"український",zh_CN:"中文 (天朝)",zh_TW:"中文 (台灣)"}[l]??(Intl!=null&&Intl.DisplayNames?new Intl.DisplayNames([l.replace(/_/,"-")],{type:"language"}).of(l.replace(/_/,"-")):l)}const E0=l=>!l.prerelease,S0=l=>l.prerelease,T0=(l,e)=>l.localeCompare(e);function x9(l,e,n){let t,i,o;po(l,ns,V=>n(2,i=V)),po(l,q0,V=>n(7,o=V));let r=null,s=null;fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/builds.json").then(V=>V.json()).then(V=>{n(3,s=V)}).catch(V=>{console.error(V)});const a=new URL(location.href),f=a.searchParams.get("v")??"latest",u=a.searchParams.get("lang");ns.setVersion(f,u);const c=[{name:"AltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Altica"},{name:"BrownLikeBears",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/BrownLikeBears"},{name:"Chibi_Ultica",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/ChibiUltica"},{name:"Cuteclysm(Alpha)",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Cuteclysm"},{name:"Hollow Moon",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/HollowMoon"},{name:"MSXotto+",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/MshockXotto%2B"},{name:"NeoDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/NeoDaysTileset"},{name:"RetroDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/RetroDaysTileset"},{name:"UltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/UltimateCataclysm"}],_=V=>V==="null"||!V?"":V;function g(){try{const V=localStorage.getItem("cdda-guide:tileset");return V?_(V):""}catch{return""}}function y(V){try{V?localStorage.setItem("cdda-guide:tileset",_(V)):localStorage.removeItem("cdda-guide:tileset")}catch{}}let k=g();function T(){const V=location.pathname.slice(11);let se;if(se=/^\/([^\/]+)(?:\/(.+))?$/.exec(V)){const[,me,Q]=se;me==="search"?(n(0,r=null),n(4,R=decodeURIComponent(Q??""))):n(0,r={type:me,id:Q?decodeURIComponent(Q):""}),window.scrollTo(0,0)}else n(0,r=null),n(4,R="")}let R="";T();const C=s0?s0(history.replaceState.bind(history),100,{trailing:!0}):history.replaceState.bind(history),B=()=>{r?history.pushState(null,"","/cdda-guide/"+(R?"search/"+R:"")+location.search):C(null,"","/cdda-guide/"+(R?"search/"+R:"")+location.search),n(0,r=null)};function D(V){if(V.target&&"tagName"in V.target&&V.target.tagName==="A"){const{href:se}=V.target,{origin:me,pathname:Q}=new URL(se);me===location.origin&&Q.startsWith("/cdda-guide/")&&(V.preventDefault(),history.pushState(null,"",Q+location.search),T())}}window.addEventListener("popstate",()=>{T()});let j;window.addEventListener("beforeinstallprompt",V=>{n(5,j=V)});const L=new Set(["item","monster","furniture","terrain","vehicle_part","tool_quality","mutation","martial_art","json_flag","achivement","conduct"]);async function P(){const se=(await new Promise(me=>{const Q=ns.subscribe(ee=>{ee&&(me(ee),setTimeout(()=>Q()))})})).all().filter(me=>"id"in me&&L.has(Ai(me.type)));return se[Math.random()*se.length|0]}let U=null;function q(){P().then(V=>{n(6,U=`/cdda-guide/${Ai(V.type)}/${V.id}`)})}q();const G=()=>n(4,R="");function Z(){R=this.value,n(4,R)}const M=V=>{V.preventDefault(),j.prompt()},x=()=>setTimeout(q),ne=V=>{const se=new URL(location.href),me=V.currentTarget.value;me===(s==null?void 0:s[0].build_number)?se.searchParams.delete("v"):se.searchParams.set("v",me),location.href=se.toString()},F=V=>{n(1,k=V.currentTarget.value)},X=(V,se)=>se.build_number===V,J=V=>{const se=new URL(location.href),me=V.currentTarget.value;me==="en"?se.searchParams.delete("lang"):se.searchParams.set("lang",me),location.href=se.toString()};return l.$$.update=()=>{if(l.$$.dirty[0]&2&&y(k),l.$$.dirty[0]&6&&n(15,t=i?(k==null?void 0:k.replace("{version}",i.build_number))??null:null),l.$$.dirty[0]&32768&&H0.setURL(t),l.$$.dirty[0]&5)if(r&&r.id&&i&&i.byIdMaybe(r.type,r.id)){const V=i.byId(r.type,r.id);document.title=`${it(V)} - The Hitchhiker's Guide to the Cataclysm`}else r&&!r.id&&r.type?document.title=`${r.type} - The Hitchhiker's Guide to the Cataclysm`:document.title="The Hitchhiker's Guide to the Cataclysm"},[r,k,i,s,R,j,U,o,f,u,c,B,D,q,a,t,G,Z,M,x,ne,F,X,J]}class eF extends Et{constructor(e){super(),wt(this,e,x9,Z9,$t,{},null,[-1,-1])}}function sf(l){var e=li().getClient(),n=l||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function Jo(l){var e=l||li(),n=e.getScope();return n&&n.getTransaction()}function $i(l){return l/1e3}function tF(){Fi("error",C0),Fi("unhandledrejection",C0)}function C0(){var l=Jo();if(l){var e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] Transaction: ${e} -> Global error occured`),l.setStatus(e)}}class Ko{__init(){this.spans=[]}constructor(e=1e3){Ko.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class gl{__init2(){this.traceId=yl()}__init3(){this.spanId=yl().substring(16)}__init4(){this.startTimestamp=Hr()}__init5(){this.tags={}}__init6(){this.data={}}constructor(e){if(gl.prototype.__init2.call(this),gl.prototype.__init3.call(this),gl.prototype.__init4.call(this),gl.prototype.__init5.call(this),gl.prototype.__init6.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){var n=new gl({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));var n=nF(e);return n!=="unknown_error"&&this.setStatus(n),this}isSuccess(){return this.status==="ok"}finish(e){this.endTimestamp=typeof e=="number"?e:Hr()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return ql({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=bl(e.data,()=>({})),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=bl(e.spanId,()=>this.spanId),this.startTimestamp=bl(e.startTimestamp,()=>this.startTimestamp),this.status=e.status,this.tags=bl(e.tags,()=>({})),this.traceId=bl(e.traceId,()=>this.traceId),this}getTraceContext(){return ql({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}getBaggage(){var e=this.transaction&&this.transaction.metadata.baggage,n=!e||hb(e)&&Bs(e)?this._getBaggageWithSentryValues(e):e;return n}toJSON(){return ql({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}_getBaggageWithSentryValues(e=pb({})){var n=this.transaction&&this.transaction._hub||li(),t=n.getClient();const{environment:i,release:o}=t&&t.getOptions()||{};return i&&sh(e,"environment",i),o&&sh(e,"release",o),gb(e),e}}function nF(l){if(l<400&&l>=100)return"ok";if(l>=400&&l<500)switch(l){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(l>=500&&l<600)switch(l){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class Zo extends gl{__init(){this._measurements={}}constructor(e,n){super(e),Zo.prototype.__init.call(this),this._hub=n||li(),this.name=e.name||"",this.metadata=e.metadata||{},this._trimEnd=e.trimEnd,this.transaction=this}setName(e){this.name=e}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Ko(e)),this.spanRecorder.add(this)}setMeasurement(e,n,t=""){this._measurements[e]={value:n,unit:t}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var n=this._hub.getClient();n&&n.recordDroppedEvent("sample_rate","transaction");return}var t=this.spanRecorder?this.spanRecorder.spans.filter(r=>r!==this&&r.endTimestamp):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce((r,s)=>r.endTimestamp&&s.endTimestamp?r.endTimestamp>s.endTimestamp?r:s:r).endTimestamp);var i={contexts:{trace:this.getTraceContext(),baggage:$8(this.getBaggage())},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},o=Object.keys(this._measurements).length>0;return o&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(i)}}toContext(){var e=super.toContext();return ql({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=bl(e.name,()=>""),this._trimEnd=e.trimEnd,this}}var Pb=1e3,jb=3e4,iF=5e3;class lF extends Ko{constructor(e,n,t,i){super(i),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=t}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp=typeof n=="number"?n:Hr(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class tr extends Zo{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,n,t=Pb,i=jb,o=!1){super(e,n),this._idleHub=n,this._idleTimeout=t,this._finalTimeout=i,this._onScope=o,tr.prototype.__init.call(this),tr.prototype.__init2.call(this),tr.prototype.__init3.call(this),tr.prototype.__init4.call(this),o&&(I0(n),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(r=>r.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(e=Hr()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(var n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var i=t.startTimestamp<e;return i||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),i}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] No active IdleTransaction");return this._onScope&&I0(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){var n=i=>{this._finished||this._pushActivity(i)},t=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new lF(n,t,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(e)},this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var n=Hr()+this._idleTimeout/1e3;this._startIdleTimeout(n)}}_beat(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},iF)}}function I0(l){var e=l.getScope();if(e){var n=e.getTransaction();n&&e.setSpan(void 0)}}function rF(){var l=this.getScope();if(l){var e=l.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function Ub(l,e,n){if(!sf(e))return l.sampled=!1,l;if(l.sampled!==void 0)return l.setMetadata({transactionSampling:{method:"explicitly_set"}}),l;let t;return typeof e.tracesSampler=="function"?(t=e.tracesSampler(n),l.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(t)}})):n.parentSampled!==void 0?(t=n.parentSampled,l.setMetadata({transactionSampling:{method:"inheritance"}})):(t=e.tracesSampleRate,l.setMetadata({transactionSampling:{method:"client_rate",rate:Number(t)}})),oF(t)?t?(l.sampled=Math.random()<t,l.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] starting ${l.op} transaction - ${l.name}`),l):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(t)})`),l)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),l.sampled=!1,l):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("[Tracing] Discarding transaction because of invalid sample rate."),l.sampled=!1,l)}function oF(l){return rb(l)||!(typeof l=="number"||typeof l=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(l)} of type ${JSON.stringify(typeof l)}.`),!1):l<0||l>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${l}.`),!1):!0}function sF(l,e){var n=this.getClient(),t=n&&n.getOptions()||{};let i=new Zo(l,this);return i=Ub(i,t,{parentSampled:l.parentSampled,transactionContext:l,...e}),i.sampled&&i.initSpanRecorder(t._experiments&&t._experiments.maxSpans),i}function fF(l,e,n,t,i,o){var r=l.getClient(),s=r&&r.getOptions()||{};let a=new tr(e,l,n,t,i);return a=Ub(a,s,{parentSampled:e.parentSampled,transactionContext:e,...o}),a.sampled&&a.initSpanRecorder(s._experiments&&s._experiments.maxSpans),a}function aF(){var l=vr();l.__SENTRY__&&(l.__SENTRY__.extensions=l.__SENTRY__.extensions||{},l.__SENTRY__.extensions.startTransaction||(l.__SENTRY__.extensions.startTransaction=sF),l.__SENTRY__.extensions.traceHeaders||(l.__SENTRY__.extensions.traceHeaders=rF))}function uF(){var l=vr();if(l.__SENTRY__){var e={mongodb(){var t=vl(_l,"./integrations/node/mongo");return new t.Mongo},mongoose(){var t=vl(_l,"./integrations/node/mongo");return new t.Mongo({mongoose:!0})},mysql(){var t=vl(_l,"./integrations/node/mysql");return new t.Mysql},pg(){var t=vl(_l,"./integrations/node/postgres");return new t.Postgres}},n=Object.keys(e).filter(t=>!!d6(t)).map(t=>{try{return e[t]()}catch{return}}).filter(t=>t);n.length>0&&(l.__SENTRY__.integrations=[...l.__SENTRY__.integrations||[],...n])}}function cF(){aF(),Ho()&&uF(),tF()}var so=Cn();function _F(){so&&so.document?so.document.addEventListener("visibilitychange",()=>{var l=Jo();if(so.document.hidden&&l){var e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${l.op}`),l.status||l.setStatus(e),l.setTag("visibilitychange","document.hidden"),l.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var ff=(l,e,n)=>{let t;return i=>{e.value>=0&&(i||n)&&(e.delta=e.value-(t||0),(e.delta||t===void 0)&&(t=e.value,l(e)))}},dF=()=>`v2-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,af=(l,e)=>({name:l,value:bl(e,()=>-1),delta:0,entries:[],id:dF()}),uf=(l,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(l)){if(l==="first-input"&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(t=>t.getEntries().map(e));return n.observe({type:l,buffered:!0}),n}}catch{}},Qo=(l,e)=>{var n=t=>{(t.type==="pagehide"||Cn().document.visibilityState==="hidden")&&(l(t),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},mF=(l,e)=>{var n=af("CLS",0);let t,i=0,o=[];var r=a=>{if(a&&!a.hadRecentInput){var f=o[0],u=o[o.length-1];i&&o.length!==0&&a.startTime-u.startTime<1e3&&a.startTime-f.startTime<5e3?(i+=a.value,o.push(a)):(i=a.value,o=[a]),i>n.value&&(n.value=i,n.entries=o,t&&t())}},s=uf("layout-shift",r);s&&(t=ff(l,n,e),Qo(()=>{s.takeRecords().map(r),t(!0)}))};let mo=-1;var pF=()=>Cn().document.visibilityState==="hidden"?0:1/0,hF=()=>{Qo(({timeStamp:l})=>{mo=l},!0)},cf=()=>(mo<0&&(mo=pF(),hF()),{get firstHiddenTime(){return mo}}),gF=(l,e)=>{var n=cf(),t=af("FID");let i;var o=s=>{i&&s.startTime<n.firstHiddenTime&&(t.value=s.processingStart-s.startTime,t.entries.push(s),i(!0))},r=uf("first-input",o);r&&(i=ff(l,t,e),Qo(()=>{r.takeRecords().map(o),r.disconnect()},!0))},O0={},bF=(l,e)=>{var n=cf(),t=af("LCP");let i;var o=a=>{var f=a.startTime;f<n.firstHiddenTime&&(t.value=f,t.entries.push(a)),i&&i()},r=uf("largest-contentful-paint",o);if(r){i=ff(l,t,e);var s=()=>{O0[t.id]||(r.takeRecords().map(o),r.disconnect(),O0[t.id]=!0,i(!0))};["keydown","click"].forEach(a=>{addEventListener(a,s,{once:!0,capture:!0})}),Qo(s,!0)}};function fo(l){return typeof l=="number"&&isFinite(l)}function hr(l,{startTimestamp:e,...n}){return e&&l.startTimestamp>e&&(l.startTimestamp=e),l.startChild({startTimestamp:e,...n})}var Yl=Cn();function Gb(){return Yl&&Yl.addEventListener&&Yl.performance}let R0=0,Nn={},nl,Mr;function $F(l=!1){var e=Gb();e&&zr&&(e.mark&&Yl.performance.mark("sentry-tracing-init"),vF(),yF(l),kF())}function vF(){mF(l=>{var e=l.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding CLS"),Nn.cls={value:l.value,unit:"millisecond"},Mr=e)})}function yF(l){bF(e=>{var n=e.entries.pop();if(n){var t=$i(zr),i=$i(n.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding LCP"),Nn.lcp={value:e.value,unit:"millisecond"},Nn["mark.lcp"]={value:t+i,unit:"second"},nl=n}},l)}function kF(){gF(l=>{var e=l.entries.pop();if(e){var n=$i(zr),t=$i(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding FID"),Nn.fid={value:l.value,unit:"millisecond"},Nn["mark.fid"]={value:n+t,unit:"second"}}})}function wF(l){var e=Gb();if(!e||!Yl.performance.getEntries||!zr)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Tracing] Adding & adjusting spans using Performance API");var n=$i(zr),t=e.getEntries();let i,o;t.slice(R0).forEach(r=>{var s=$i(r.startTime),a=$i(r.duration);if(!(l.op==="navigation"&&n+s<l.startTimestamp))switch(r.entryType){case"navigation":{SF(l,r,n),i=n+$i(r.responseStart),o=n+$i(r.requestStart);break}case"mark":case"paint":case"measure":{var f=EF(l,r,s,a,n),u=cf(),c=r.startTime<u.firstHiddenTime;r.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding FP"),Nn.fp={value:r.startTime,unit:"millisecond"},Nn["mark.fp"]={value:f,unit:"second"}),r.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding FCP"),Nn.fcp={value:r.startTime,unit:"millisecond"},Nn["mark.fcp"]={value:f,unit:"second"});break}case"resource":{var _=r.name.replace(Yl.location.origin,"");CF(l,r,_,s,a,n);break}}}),R0=Math.max(t.length-1,0),IF(l),l.op==="pageload"&&(typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding TTFB"),Nn.ttfb={value:(i-l.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=i&&(Nn["ttfb.requestTime"]={value:(i-o)*1e3,unit:"second"})),["fcp","fp","lcp"].forEach(r=>{if(!(!Nn[r]||n>=l.startTimestamp)){var s=Nn[r].value,a=n+$i(s),f=Math.abs((a-l.startTimestamp)*1e3),u=f-s;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Measurements] Normalized ${r} from ${s} to ${f} (${u})`),Nn[r].value=f}}),Nn["mark.fid"]&&Nn.fid&&hr(l,{description:"first input delay",endTimestamp:Nn["mark.fid"].value+$i(Nn.fid.value),op:"web.vitals",startTimestamp:Nn["mark.fid"].value}),"fcp"in Nn||delete Nn.cls,Object.keys(Nn).forEach(r=>{l.setMeasurement(r,Nn[r].value,Nn[r].unit)}),OF(l)),nl=void 0,Mr=void 0,Nn={}}function EF(l,e,n,t,i){var o=i+n,r=o+t;return hr(l,{description:e.name,endTimestamp:r,op:e.entryType,startTimestamp:o}),o}function SF(l,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(t=>{ao(l,e,t,n)}),ao(l,e,"secureConnection",n,"TLS/SSL","connectEnd"),ao(l,e,"fetch",n,"cache","domainLookupStart"),ao(l,e,"domainLookup",n,"DNS"),TF(l,e,n)}function ao(l,e,n,t,i,o){var r=o?e[o]:e[`${n}End`],s=e[`${n}Start`];!s||!r||hr(l,{op:"browser",description:bl(i,()=>n),startTimestamp:t+$i(s),endTimestamp:t+$i(r)})}function TF(l,e,n){hr(l,{op:"browser",description:"request",startTimestamp:n+$i(e.requestStart),endTimestamp:n+$i(e.responseEnd)}),hr(l,{op:"browser",description:"response",startTimestamp:n+$i(e.responseStart),endTimestamp:n+$i(e.responseEnd)})}function CF(l,e,n,t,i,o){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var r={};"transferSize"in e&&(r["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(r["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(r["Decoded Body Size"]=e.decodedBodySize);var s=o+t,a=s+i;hr(l,{description:n,endTimestamp:a,op:e.initiatorType?`resource.${e.initiatorType}`:"resource",startTimestamp:s,data:r})}}function IF(l){var e=Yl.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&l.setTag("effectiveConnectionType",n.effectiveType),n.type&&l.setTag("connectionType",n.type),fo(n.rtt)&&(Nn["connection.rtt"]={value:n.rtt,unit:"millisecond"}),fo(n.downlink)&&(Nn["connection.downlink"]={value:n.downlink,unit:""})),fo(e.deviceMemory)&&l.setTag("deviceMemory",`${e.deviceMemory} GB`),fo(e.hardwareConcurrency)&&l.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}}function OF(l){nl&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding LCP Data"),nl.element&&l.setTag("lcp.element",Gr(nl.element)),nl.id&&l.setTag("lcp.id",nl.id),nl.url&&l.setTag("lcp.url",nl.url.trim().slice(0,200)),l.setTag("lcp.size",nl.size)),Mr&&Mr.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log("[Measurements] Adding CLS Data"),Mr.sources.forEach((e,n)=>l.setTag(`cls.source.${n+1}`,Gr(e.node))))}var RF=["localhost",/^\//],Oo={traceFetch:!0,traceXHR:!0,tracingOrigins:RF};function NF(l){const{traceFetch:e,traceXHR:n,tracingOrigins:t,shouldCreateSpanForRequest:i}={...Oo,...l};var o={},r=f=>{if(o[f])return o[f];var u=t;return o[f]=u.some(c=>qr(f,c))&&!qr(f,"sentry_key"),o[f]};let s=r;typeof i=="function"&&(s=f=>r(f)&&i(f));var a={};e&&Fi("fetch",f=>{AF(f,s,a)}),n&&Fi("xhr",f=>{MF(f,s,a)})}function AF(l,e,n){if(!(!sf()||!(l.fetchData&&e(l.fetchData.url)))){if(l.endTimestamp){var t=l.fetchData.__span;if(!t)return;var i=n[t];i&&(l.response?i.setHttpStatus(l.response.status):l.error&&i.setStatus("internal_error"),i.finish(),delete n[t]);return}var o=Jo();if(o){var i=o.startChild({data:{...l.fetchData,type:"fetch"},description:`${l.fetchData.method} ${l.fetchData.url}`,op:"http.client"});l.fetchData.__span=i.spanId,n[i.spanId]=i;var r=l.args[0]=l.args[0],s=l.args[1]=l.args[1]||{};s.headers=BF(r,i,s)}}}function BF(l,e,n){let t=n.headers;pl(l,Request)&&(t=l.headers);var i=e.getBaggage();if(t)if(typeof t.append=="function")t.append("sentry-trace",e.toTraceparent()),t.append(xl,Ir(i,t.get(xl)));else if(Array.isArray(t)){const[,o]=t.find(([r,s])=>r===xl);t=[...t,["sentry-trace",e.toTraceparent()],[xl,Ir(i,o)]]}else t={...t,"sentry-trace":e.toTraceparent(),baggage:Ir(i,t.baggage)};else t={"sentry-trace":e.toTraceparent(),baggage:Ir(i)};return t}function MF(l,e,n){if(!(!sf()||l.xhr&&l.xhr.__sentry_own_request__||!(l.xhr&&l.xhr.__sentry_xhr__&&e(l.xhr.__sentry_xhr__.url)))){var t=l.xhr.__sentry_xhr__;if(l.endTimestamp){var i=l.xhr.__sentry_xhr_span_id__;if(!i)return;var o=n[i];o&&(o.setHttpStatus(t.status_code),o.finish(),delete n[i]);return}var r=Jo();if(r){var o=r.startChild({data:{...t.data,type:"xhr",method:t.method,url:t.url},description:`${t.method} ${t.url}`,op:"http.client"});if(l.xhr.__sentry_xhr_span_id__=o.spanId,n[l.xhr.__sentry_xhr_span_id__]=o,l.xhr.setRequestHeader)try{l.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var s=l.xhr.getRequestHeader&&l.xhr.getRequestHeader(xl);l.xhr.setRequestHeader(xl,Ir(o.getBaggage(),s))}catch{}}}}var wr=Cn();function DF(l,e=!0,n=!0){if(!wr||!wr.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("Could not initialize routing instrumentation due to invalid location");return}let t=wr.location.href,i;e&&(i=l({name:wr.location.pathname,op:"pageload"})),n&&Fi("history",({to:o,from:r})=>{if(r===void 0&&t&&t.indexOf(o)!==-1){t=void 0;return}r!==o&&(t=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=l({name:wr.location.pathname,op:"navigation"}))})}var LF="BrowserTracing",FF={idleTimeout:Pb,finalTimeout:jb,markBackgroundTransactions:!0,routingInstrumentation:DF,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...Oo};class _f{__init(){this.name=LF}constructor(e){_f.prototype.__init.call(this);let n=Oo.tracingOrigins;e&&(e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?n=e.tracingOrigins:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...FF,...e,tracingOrigins:n};const{_metricOptions:t}=this.options;$F(t&&t._reportAllChanges)}setupOnce(e,n){this._getCurrentHub=n,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`[Tracing] We added a reasonable default for you: ${Oo.tracingOrigins}`));const{routingInstrumentation:t,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:r,traceFetch:s,traceXHR:a,tracingOrigins:f,shouldCreateSpanForRequest:u}=this.options;t(c=>this._createRouteTransaction(c),o,i),r&&_F(),NF({traceFetch:s,traceXHR:a,tracingOrigins:f,shouldCreateSpanForRequest:u})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:n,idleTimeout:t,finalTimeout:i}=this.options;var o=e.op==="pageload"?PF():void 0,r={...e,...o,trimEnd:!0},s=typeof n=="function"?n(r):r,a=s===void 0?{...r,sampled:!1}:s;a.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] Will not send ${a.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&bt.log(`[Tracing] Starting ${a.op} transaction on scope`);var f=this._getCurrentHub();const{location:u}=Cn();var c=fF(f,a,t,i,!0,{location:u});return c.registerBeforeFinishCallback(_=>{wF(_),_.setTag("sentry_reportAllChanges",!!(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),c}}function PF(){var l=N0("sentry-trace"),e=N0("baggage"),n=l?r8(l):void 0,t=k8(e,l);if(n||t)return{...n&&n,...t&&{metadata:{baggage:t}}}}function N0(l){var e=Cn();if(e.document&&e.document.querySelector){var n=e.document.querySelector(`meta[name=${l}]`);return n?n.getAttribute("content"):null}else return null}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&cF();const jF="modulepreload",UF=function(l){return"/cdda-guide/"+l},A0={},GF=function(e,n,t){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=UF(o),o in A0)return;A0[o]=!0;const r=o.endsWith(".css"),s=r?'[rel="stylesheet"]':"";if(!!t)for(let u=i.length-1;u>=0;u--){const c=i[u];if(c.href===o&&(!r||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const f=document.createElement("link");if(f.rel=r?"stylesheet":jF,r||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),r)return new Promise((u,c)=>{f.addEventListener("load",u),f.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function qF(l={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:t,onRegistered:i,onRegisteredSW:o,onRegisterError:r}=l;let s,a,f;const u=async(_=!0)=>{await a,await(f==null?void 0:f())};async function c(){if("serviceWorker"in navigator){const{Workbox:_}=await GF(()=>import("./workbox-window.prod.es5-dc90f814.js"),[]);s=new _("/cdda-guide/sw.js",{scope:"/cdda-guide/",type:"classic"}),f=async()=>{await(s==null?void 0:s.messageSkipWaiting())};{let g=!1;const y=()=>{g=!0,s==null||s.addEventListener("controlling",k=>{k.isUpdate&&window.location.reload()}),n==null||n()};s.addEventListener("installed",k=>{typeof k.isUpdate>"u"?typeof k.isExternal<"u"?k.isExternal?y():!g&&(t==null||t()):k.isExternal?window.location.reload():!g&&(t==null||t()):k.isUpdate||t==null||t()}),s.addEventListener("waiting",y),s.addEventListener("externalwaiting",y)}s.register({immediate:e}).then(g=>{o?o("/cdda-guide/sw.js",g):i==null||i(g)}).catch(g=>{r==null||r(g)})}}return a=c(),u}O.tx.init({token:"1/1d8c1f9e14b4c21d70dd3f6fccdd0ab16b691105"});location.hostname!=="localhost"&&WM({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new _f],tracesSampleRate:.2,release:`cdda-guide@${"9946911ff8eeb05b0c2ebcbb6c6438a69c03f8a7".slice(0,8)}`,denyUrls:[/^chrome-extension:/,/cdda-guide.aloxaf.com\//]});qF({});location.hash&&history.replaceState(null,"","/cdda-guide/"+location.hash.slice(2)+location.search);const YF=new URL(location.href),B0=YF.searchParams.get("lang");B0?O.tx.setCurrentLocale(B0).then(vs,vs):vs();function vs(){new eF({target:document.body})}});export default HF();
//# sourceMappingURL=index-9d34df65.js.map
