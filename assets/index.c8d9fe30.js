var $g=Object.defineProperty;var vg=(i,e,l)=>e in i?$g(i,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[e]=l;var kg=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var el=(i,e,l)=>(vg(i,typeof e!="symbol"?e+"":e,l),l);var mR=kg((gR,jl)=>{const yg=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}};yg();function x(){}function wg(i,e){for(const l in e)i[l]=e[l];return i}function Eg(i){return i&&typeof i=="object"&&typeof i.then=="function"}function sh(i){return i()}function Lo(){return Object.create(null)}function In(i){i.forEach(sh)}function Tg(i){return typeof i=="function"}function je(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let yi;function Sg(i,e){return yi||(yi=document.createElement("a")),yi.href=e,i===yi.href}function Cg(i){return Object.keys(i).length===0}function ah(i,...e){if(i==null)return x;const l=i.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function uh(i,e,l){i.$$.on_destroy.push(ah(e,l))}function ch(i,e,l,t){if(i){const n=_h(i,e,l,t);return i[0](n)}}function _h(i,e,l,t){return i[1]&&t?wg(l.ctx.slice(),i[1](t(e))):l.ctx}function dh(i,e,l,t){if(i[2]&&t){const n=i[2](t(l));if(e.dirty===void 0)return n;if(typeof n=="object"){const o=[],r=Math.max(e.dirty.length,n.length);for(let f=0;f<r;f+=1)o[f]=e.dirty[f]|n[f];return o}return e.dirty|n}return e.dirty}function mh(i,e,l,t,n,o){if(n){const r=_h(e,l,t,o);i.p(r,n)}}function ph(i){if(i.ctx.length>32){const e=[],l=i.ctx.length/32;for(let t=0;t<l;t++)e[t]=-1;return e}return-1}function d(i,e){i.appendChild(e)}function g(i,e,l){i.insertBefore(e,l||null)}function h(i){i.parentNode.removeChild(i)}function ce(i,e){for(let l=0;l<i.length;l+=1)i[l]&&i[l].d(e)}function p(i){return document.createElement(i)}function w(i){return document.createTextNode(i)}function I(){return w(" ")}function ne(){return w("")}function Sl(i,e,l,t){return i.addEventListener(e,l,t),()=>i.removeEventListener(e,l,t)}function fe(i,e,l){l==null?i.removeAttribute(e):i.getAttribute(e)!==l&&i.setAttribute(e,l)}function Ig(i){return Array.from(i.childNodes)}function P(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Go(i,e){i.value=e==null?"":e}function Je(i,e,l,t){l===null?i.style.removeProperty(e):i.style.setProperty(e,l,t?"important":"")}function ci(i,e){for(let l=0;l<i.options.length;l+=1){const t=i.options[l];if(t.__value===e){t.selected=!0;return}}i.selectedIndex=-1}let _i;function Yl(i){_i=i}function xi(){if(!_i)throw new Error("Function called outside component initialization");return _i}function Rg(i){xi().$$.on_mount.push(i)}function zr(i,e){return xi().$$.context.set(i,e),e}function it(i){return xi().$$.context.get(i)}const ri=[],Uo=[],Ai=[],qo=[],Ng=Promise.resolve();let Ir=!1;function Og(){Ir||(Ir=!0,Ng.then(Vr))}function Rr(i){Ai.push(i)}const ar=new Set;let wi=0;function Vr(){const i=_i;do{for(;wi<ri.length;){const e=ri[wi];wi++,Yl(e),Bg(e.$$)}for(Yl(null),ri.length=0,wi=0;Uo.length;)Uo.pop()();for(let e=0;e<Ai.length;e+=1){const l=Ai[e];ar.has(l)||(ar.add(l),l())}Ai.length=0}while(ri.length);for(;qo.length;)qo.pop()();Ir=!1,ar.clear(),Yl(i)}function Bg(i){if(i.fragment!==null){i.update(),In(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Rr)}}const Mi=new Set;let ln;function Z(){ln={r:0,c:[],p:ln}}function Q(){ln.r||In(ln.c),ln=ln.p}function b(i,e){i&&i.i&&(Mi.delete(i),i.i(e))}function v(i,e,l,t){if(i&&i.o){if(Mi.has(i))return;Mi.add(i),ln.c.push(()=>{Mi.delete(i),t&&(l&&i.d(1),t())}),i.o(e)}}function Ag(i,e){const l=e.token={};function t(n,o,r,f){if(e.token!==l)return;e.resolved=f;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=f);const s=n&&(e.current=n)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(Z(),v(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),Q())}):e.block.d(1),s.c(),b(s,1),s.m(e.mount(),e.anchor),u=!0),e.block=s,e.blocks&&(e.blocks[o]=s),u&&Vr()}if(Eg(i)){const n=xi();if(i.then(o=>{Yl(n),t(e.then,1,e.value,o),Yl(null)},o=>{if(Yl(n),t(e.catch,2,e.error,o),Yl(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,i),!0;e.resolved=i}}function Mg(i,e,l){const t=e.slice(),{resolved:n}=i;i.current===i.then&&(t[i.value]=n),i.current===i.catch&&(t[i.error]=n),i.block.p(t,l)}const Dg=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Lg(i,e){v(i,1,1,()=>{e.delete(i.key)})}function Gg(i,e,l,t,n,o,r,f,a,s,u,c){let m=i.length,$=o.length,k=m;const y={};for(;k--;)y[i[k].key]=k;const T=[],E=new Map,S=new Map;for(k=$;k--;){const O=c(n,o,k),A=l(O);let B=r.get(A);B?t&&B.p(O,e):(B=s(A,O),B.c()),E.set(A,T[k]=B),A in y&&S.set(A,Math.abs(k-y[A]))}const C=new Set,R=new Set;function D(O){b(O,1),O.m(f,u),r.set(O.key,O),u=O.first,$--}for(;m&&$;){const O=T[$-1],A=i[m-1],B=O.key,M=A.key;O===A?(u=O.first,m--,$--):E.has(M)?!r.has(B)||C.has(B)?D(O):R.has(M)?m--:S.get(B)>S.get(M)?(R.add(B),D(O)):(C.add(M),m--):(a(A,r),m--)}for(;m--;){const O=i[m];E.has(O.key)||a(O,r)}for(;$;)D(T[$-1]);return T}function U(i){i&&i.c()}function L(i,e,l,t){const{fragment:n,on_mount:o,on_destroy:r,after_update:f}=i.$$;n&&n.m(e,l),t||Rr(()=>{const a=o.map(sh).filter(Tg);r?r.push(...a):In(a),i.$$.on_mount=[]}),f.forEach(Rr)}function G(i,e){const l=i.$$;l.fragment!==null&&(In(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Ug(i,e){i.$$.dirty[0]===-1&&(ri.push(i),Og(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Ve(i,e,l,t,n,o,r,f=[-1]){const a=_i;Yl(i);const s=i.$$={fragment:null,ctx:null,props:o,update:x,not_equal:n,bound:Lo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Lo(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};r&&r(s.root);let u=!1;if(s.ctx=l?l(i,e.props||{},(c,m,...$)=>{const k=$.length?$[0]:m;return s.ctx&&n(s.ctx[c],s.ctx[c]=k)&&(!s.skip_bound&&s.bound[c]&&s.bound[c](k),u&&Ug(i,c)),m}):[],s.update(),u=!0,In(s.before_update),s.fragment=t?t(s.ctx):!1,e.target){if(e.hydrate){const c=Ig(e.target);s.fragment&&s.fragment.l(c),c.forEach(h)}else s.fragment&&s.fragment.c();e.intro&&b(i.$$.fragment),L(i,e.target,e.anchor,e.customElement),Vr()}Yl(a)}class Xe{$destroy(){G(this,1),this.$destroy=x}$on(e,l){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(l),()=>{const n=t.indexOf(l);n!==-1&&t.splice(n,1)}}$set(e){this.$$set&&!Cg(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const an=[];function Li(i,e=x){let l;const t=new Set;function n(f){if(je(i,f)&&(i=f,l)){const a=!an.length;for(const s of t)s[1](),an.push(s,i);if(a){for(let s=0;s<an.length;s+=2)an[s][0](an[s+1]);an.length=0}}}function o(f){n(f(i))}function r(f,a=x){const s=[f,a];return t.add(s),t.size===1&&(l=e(n)||x),f(i),()=>{t.delete(s),t.size===0&&(l(),l=null)}}return{set:n,update:o,subscribe:r}}/*! gettext.js - Guillaume Potier - MIT Licensed */var qg=function(i){i=i||{},this&&(this.__version="1.1.1");var e={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(y){return{nplurals:2,plural:y!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},l={isObject:function(y){var T=typeof y;return T==="function"||T==="object"&&!!y},isArray:function(y){return toString.call(y)==="[object Array]"}},t={},n=i.locale||e.locale,o=i.domain||e.domain,r={},f={},a=i.ctxt_delimiter||e.ctxt_delimiter;i.messages&&(r[o]={},r[o][n]=i.messages),i.plural_forms&&(f[n]=i.plural_forms);var s=function(y){var T=arguments;return y.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(E,S){return T[S]}).replace(/%% /g,"%")},u=function(y){if(y.indexOf(a)!==-1){var T=y.split(a);return T[1]}return y},c=function(y){for(var T=[y],E=y.lastIndexOf("-");E>0;)y=y.slice(0,E),T.push(y),E=y.lastIndexOf("-");return T},m=function(y){y=y.replace("_","-");var T=y.search(/[.@]/);return T!=-1&&(y=y.slice(0,T)),y},$=function(y){var T=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!T.test(y))throw new Error(s('The plural form "%1" is not valid',y));return new Function("n","var plural, nplurals; "+y+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},k=function(y,T,E){if(!E.plural_form)return s.apply(this,[u(y[0])].concat(Array.prototype.slice.call(arguments,3)));var S;return E.plural_func?S=E.plural_func(T):(t[n]||(t[n]=$(f[n])),S=t[n](T)),(typeof S.plural=="undefined"||S.plural>S.nplurals||y.length<=S.plural)&&(S.plural=0),s.apply(this,[u(y[S.plural]),T].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:s,expand_locale:c,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(y,T,E,S){if(!y||!T||!E)throw new Error("You must provide a domain, a locale and messages");if(typeof y!="string"||typeof T!="string"||!l.isObject(E))throw new Error("Invalid arguments");return T=m(T),S&&(f[T]=S),r[y]||(r[y]={}),r[y][T]=E,this},loadJSON:function(y,T){if(l.isObject(y)||(y=JSON.parse(y)),!y[""]||!y[""].language||!y[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var E=y[""];return delete y[""],this.setMessages(T||e.domain,E.language,y,E["plural-forms"])},setLocale:function(y){return n=m(y),this},getLocale:function(){return n},textdomain:function(y){return y?(o=y,this):o},gettext:function(y){return this.dcnpgettext.apply(this,[void 0,void 0,y,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(y,T,E){return this.dcnpgettext.apply(this,[void 0,void 0,y,T,E].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(y,T){return this.dcnpgettext.apply(this,[void 0,y,T,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(y,T,E,S,C){if(y=y||o,typeof E!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',E));var R,D={plural_form:!1},O=T?T+a+E:E,A,B,M=c(n);for(var V in M)if(B=M[V],A=r[y]&&r[y][B]&&r[y][B][O],S?A=A&&typeof r[y][B][O]!="string":A=A&&typeof r[y][B][O]=="string",A)break;return A?R=r[y][B][O]:(R=E,D.plural_func=e.plural_func),S?(D.plural_form=!0,k.apply(this,[A?R:[E,S],C,D].concat(Array.prototype.slice.call(arguments,5)))):k.apply(this,[[R],C,D].concat(Array.prototype.slice.call(arguments,5)))}}};const Pg=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["city_building","overmap_special"]]),kl=i=>{var e;return(e=Pg.get(i))!=null?e:i};let Nr=qg();const Fg=["AMMO","ARMOR","BATTERY","BIONIC_ITEM","BOOK","COMESTIBLE","CONTAINER","ENGINE","GENERIC","GUN","GUNMOD","MAGAZINE","PET_ARMOR","TOOL","TOOLMOD","TOOL_ARMOR","WHEEL","MONSTER"];function Yg(i){return typeof i=="string"?i:"str_sp"in i?i.str_sp:i.str}function jg(i){return typeof i=="string"?i+"s":"str_sp"in i?i.str_sp:"str_pl"in i?i.str_pl:i.str+"s"}function Xr(i,e,l){const t=Yg(i),n=e?jg(i):void 0;return Nr.ngettext(t,n,l)||(l===1?t:n!=null?n:t)}const Vt=i=>Xr(i,!1,1),Po=(i,e=2)=>Xr(i,!0,e),be=i=>Or(i,1),Or=(i,e=2)=>{var t;const l=i==null?void 0:i.name;return l==null?(t=i==null?void 0:i.id)!=null?t:i==null?void 0:i.abstract:Xr(l,Fg.includes(i.type),e)};function vn(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function Jr(i){if(typeof i=="undefined")return 0;if(typeof i=="number")return i*250;if(i.endsWith("ml"))return parseInt(i);if(i.endsWith("L"))return parseInt(i)*1e3}function Gi(i){if(typeof i=="undefined")return 0;if(typeof i=="number")return i;if(i.endsWith("mg"))return parseInt(i)/1e3;if(i.endsWith("kg"))return parseInt(i)*1e3;if(i.endsWith("g"))return parseInt(i)}function Ui(i){if(typeof i=="number")return i/100;const e=1,l=1,t=60,n=t*60,o=n*24,r=[["turns",1*e],["turn",1*e],["t",1*e],["seconds",1*l],["second",1*l],["s",1*l],["minutes",1*t],["minute",1*t],["m",1*t],["hours",1*n],["hour",1*n],["h",1*n],["days",1*o],["day",1*o],["d",1*o]],[f,a]=i.trim().split(/\s+/),s=r.find(u=>u[0]===a);if(!s)throw new Error(`bad duration: ${JSON.stringify(i)}`);return Number(f)*s[1]}function Fo(i){const e=Ui(i);return`${Math.round(e/60)} m`}function Yo(i){let e=Ui(i),l=e/60|0;e-=l*60;let t=l/60|0;l-=t*60;let n=t/24|0;return t-=n*24,[[n,"d"],[t,"h"],[l,"m"],[e,"s"]].filter(([o])=>o).map(o=>o.join("")).join(" ")}function Ql(i){return`${(Jr(i)/1e3).toFixed(2)} L`}function kn(i){return`${(Gi(i)/1e3).toFixed(2)} kg`}class Hg{constructor(e,l,t){el(this,"_raw");el(this,"_byType",new Map);el(this,"_byTypeById",new Map);el(this,"_abstractsByType",new Map);el(this,"_toolReplacements");el(this,"_craftingPseudoItems",new Map);el(this,"_migrations",new Map);el(this,"_flattenCache",new Map);el(this,"_nestedMapgensById",new Map);el(this,"release");el(this,"build_number");el(this,"_cachedDeathDrops",new Map);el(this,"_cachedUncraftRecipes",null);el(this,"_cachedMapgenSpawnItems",new Map);el(this,"_flattenItemGroupCache",new WeakMap);el(this,"_flatRequirementCache",new WeakMap);el(this,"_flatRequirementCacheExpandSubs",new WeakMap);el(this,"_flatRequirementCacheOnlyRecoverable",new WeakMap);el(this,"_itemComponentCache");this.release=t,this.build_number=l,this._raw=e.filter(n=>typeof n=="object");for(const n of e){if(!Object.hasOwnProperty.call(n,"type"))continue;if(n.type==="MIGRATION"){for(const r of typeof n.id=="string"?[n.id]:n.id){const{replace:f}=n;this._migrations.set(r,f)}continue}const o=kl(n.type);if(this._byType.has(o)||this._byType.set(o,[]),this._byType.get(o).push(n),Object.hasOwnProperty.call(n,"id")){if(this._byTypeById.has(o)||this._byTypeById.set(o,new Map),typeof n.id=="string")this._byTypeById.get(o).set(n.id,n);else if(Array.isArray(n.id))for(const r of n.id)this._byTypeById.get(o).set(r,n)}if((o==="recipe"||o==="uncraft")&&Object.hasOwnProperty.call(n,"result")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=n.result+(n.id_suffix?"_"+n.id_suffix:"");this._byTypeById.get(o).set(r,n)}if(o==="monstergroup"&&Object.hasOwnProperty.call(n,"name")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=n.name;this._byTypeById.get(o).set(r,n)}Object.hasOwnProperty.call(n,"abstract")&&(this._abstractsByType.has(o)||this._abstractsByType.set(o,new Map),this._abstractsByType.get(o).set(n.abstract,n)),Object.hasOwnProperty.call(n,"crafting_pseudo_item")&&this._craftingPseudoItems.set(n.crafting_pseudo_item,n.id),Object.hasOwnProperty.call(n,"nested_mapgen_id")&&(this._nestedMapgensById.has(n.nested_mapgen_id)||this._nestedMapgensById.set(n.nested_mapgen_id,[]),this._nestedMapgensById.get(n.nested_mapgen_id).push(n))}}byId(e,l){var n;if(typeof l!="string")throw new Error("Requested non-string id");if(e==="item"&&this._migrations.has(l))return this.byId(e,this._migrations.get(l));const t=(n=this._byTypeById.get(e))==null?void 0:n.get(l);if(t)return this._flatten(t)}byType(e){var l,t;return(t=(l=this._byType.get(e))==null?void 0:l.map(n=>this._flatten(n)))!=null?t:[]}abstractById(e,l){var n;if(typeof l!="string")throw new Error("Requested non-string id");const t=(n=this._abstractsByType.get(e))==null?void 0:n.get(l);if(t)return this._flatten(t)}replacementTools(e){var l;if(!this._toolReplacements){this._toolReplacements=new Map;for(const t of this.byType("item"))t.type==="TOOL"&&Object.hasOwnProperty.call(t,"sub")&&(this._toolReplacements.has(t.sub)||this._toolReplacements.set(t.sub,[]),this._toolReplacements.get(t.sub).push(t.id))}return(l=this._toolReplacements.get(e))!=null?l:[]}craftingPseudoItem(e){return this._craftingPseudoItems.get(e)}nestedMapgensById(e){return this._nestedMapgensById.get(e)}all(){return this._raw}_flatten(e){var f,a,s,u,c,m,$,k,y,T,E,S,C,R,D,O,A,B,M,V,J,N,j,z,F,Y,q,W,re,H,K,ee,ie,X,te,me,Ge,Ie;const l=e;if(this._flattenCache.has(l))return this._flattenCache.get(l);const t="copy-from"in l?(s=(f=this._byTypeById.get(kl(l.type)))==null?void 0:f.get(l["copy-from"]))!=null?s:(a=this._abstractsByType.get(kl(l.type)))==null?void 0:a.get(l["copy-from"]):null;if("copy-from"in l&&!t&&console.error(`Missing parent in ${(m=(c=(u=l.id)!=null?u:l.abstract)!=null?c:l.result)!=null?m:JSON.stringify(l)}`),t===l)return console.warn("Object copied from itself:",l),this._flattenCache.set(l,l),l;if(!t)return this._flattenCache.set(l,l),l;const{abstract:n,...o}=this._flatten(t),r={...o,...l};o.vitamins&&l.vitamins&&(r.vitamins=[...o.vitamins.filter(ae=>!l.vitamins.some(ke=>ke[0]===ae[0])),...l.vitamins]);for(const ae of Object.keys(($=r.relative)!=null?$:{}))if(typeof r.relative[ae]=="number")if(ae==="melee_damage"){const ke=pn(JSON.parse(JSON.stringify(r.melee_damage)));for(const Ee of ke)Ee.amount=((k=Ee.amount)!=null?k:0)+r.relative[ae];r.melee_damage=ke}else r[ae]=((y=r[ae])!=null?y:0)+r.relative[ae];else if((ae==="damage"||ae==="ranged_damage")&&r[ae]){r[ae]=JSON.parse(JSON.stringify(r[ae]));const ke=pn(r.relative[ae]);for(const Ee of ke){const de=Array.isArray(r[ae])?r[ae].find(Ue=>Ue.damage_type===Ee.damage_type):r[ae].damage_type===Ee.damage_type?r[ae]:null;de&&(de.amount=((T=de.amount)!=null?T:0)+((E=Ee.amount)!=null?E:0),de.armor_penetration=((S=de.armor_penetration)!=null?S:0)+((C=Ee.armor_penetration)!=null?C:0),de.armor_multiplier=((R=de.armor_multiplier)!=null?R:0)+((D=Ee.armor_multiplier)!=null?D:0),de.damage_multiplier=((O=de.damage_multiplier)!=null?O:0)+((A=Ee.damage_multiplier)!=null?A:0),de.constant_armor_multiplier=((B=de.constant_armor_multiplier)!=null?B:0)+((M=Ee.constant_armor_multiplier)!=null?M:0),de.constant_damage_multiplier=((V=de.constant_damage_multiplier)!=null?V:0)+((J=Ee.constant_damage_multiplier)!=null?J:0))}}delete r.relative;for(const ae of Object.keys((N=r.proportional)!=null?N:{}))if(typeof r.proportional[ae]=="number")if(ae==="attack_cost"&&!(ae in r)&&(r[ae]=100),typeof r[ae]=="string"){const ke=/^\s*(\d+)\s*(.+)$/.exec(r[ae]);if(ke){const[,Ee,de]=ke;r[ae]=`${Number(Ee)*r.proportional[ae]} ${de}`}}else r[ae]*=r.proportional[ae],r[ae]=r[ae]|0;else if(ae==="damage"&&r[ae]){r.damage=JSON.parse(JSON.stringify(r.damage));const ke=pn(r.proportional.damage);for(const Ee of ke){const de=Array.isArray(r.damage)?r.damage.find(Ue=>Ue.damage_type===Ee.damage_type):r.damage.damage_type===Ee.damage_type?r.damage:null;de&&(de.amount=((j=de.amount)!=null?j:0)*((z=Ee.amount)!=null?z:1),de.armor_penetration=((F=de.armor_penetration)!=null?F:0)*((Y=Ee.armor_penetration)!=null?Y:1),de.armor_multiplier=((q=de.armor_multiplier)!=null?q:0)*((W=Ee.armor_multiplier)!=null?W:1),de.damage_multiplier=((re=de.damage_multiplier)!=null?re:0)*((H=Ee.damage_multiplier)!=null?H:1),de.constant_armor_multiplier=((K=de.constant_armor_multiplier)!=null?K:0)*((ee=Ee.constant_armor_multiplier)!=null?ee:1),de.constant_damage_multiplier=((ie=de.constant_damage_multiplier)!=null?ie:0)*((X=Ee.constant_damage_multiplier)!=null?X:1))}}delete r.proportional;for(const ae of Object.keys((te=r.extend)!=null?te:{}))Array.isArray(r.extend[ae])&&(r[ae]=((me=r[ae])!=null?me:[]).concat(r.extend[ae]));delete r.extend;for(const ae of Object.keys((Ge=r.delete)!=null?Ge:{}))if(Array.isArray(r.delete[ae])){const ke=(Ee,de)=>Ee===de||Array.isArray(Ee)&&Array.isArray(de)&&Ee.length===de.length&&Ee.every((Ue,Ce)=>ke(Ue,de[Ce]));r[ae]=((Ie=r[ae])!=null?Ie:[]).filter(Ee=>!r.delete[ae].some(de=>ke(de,Ee)))}return delete r.delete,this._flattenCache.set(l,r),r}flatDeathDrops(e){var n;if(this._cachedDeathDrops.has(e))return this._cachedDeathDrops.get(e);const l=this.byId("monster",e),t=l.death_drops?this.flattenItemGroup((n=this.normalizeItemGroup(l.death_drops,"distribution"))!=null?n:{subtype:"collection",entries:[]}):[];return t.sort((o,r)=>r.prob-o.prob),this._cachedDeathDrops.set(e,t),t}uncraftRecipe(e){if(!this._cachedUncraftRecipes){this._cachedUncraftRecipes=new Map;for(const l of this.byType("recipe"))l.result&&l.reversible&&this._cachedUncraftRecipes.set(l.result,l);for(const l of this.byType("uncraft"))l.result&&this._cachedUncraftRecipes.set(l.result,l)}return this._cachedUncraftRecipes.get(e)}mapgenSpawnItems(e){var s,u,c,m,$,k,y;if(this._cachedMapgenSpawnItems.has(e))return this._cachedMapgenSpawnItems.get(e);const l=new Map,t=(T,E)=>{l.has(T)||l.set(T,new Set),l.get(T).add(E)},n=(T,E)=>{const S=typeof E=="string"?this.byId("item_group",E):Array.isArray(E)?{subtype:"collection",entries:E}:E;if(S)for(const{id:C}of this.flattenItemGroup(S))t(T,C);else typeof E=="string"&&this.byId("item",E)&&t(T,E)},o=T=>{var E,S,C,R,D;for(const[O,A]of Object.entries((E=T.item)!=null?E:{})){const B=Array.isArray(A)?A:[A];for(const M of B)t(O,M.item)}for(const[O,A]of Object.entries((S=T.items)!=null?S:{})){const B=Array.isArray(A)?A:[A];for(const M of B)n(O,M.item)}for(const[O,A]of Object.entries((C=T.sealed_item)!=null?C:{})){const B=Array.isArray(A)?A:[A];for(const M of B)(R=M.item)!=null&&R.item&&t(O,M.item.item),(D=M.items)!=null&&D.item&&n(O,M.items.item)}};o(e.object);for(const T of(s=e.object.palettes)!=null?s:[])typeof T=="string"&&o(this.byId("palette",T));const r=new Set,f=new Set;for(const T of(u=e.object.rows)!=null?u:[])for(const E of T)f.add(E);for(const T of f){const E=(c=l.get(T))!=null?c:new Set;for(const S of E)r.add(S)}for(const T of(m=e.object.place_item)!=null?m:[])r.add(T.item);for(const T of($=e.object.place_items)!=null?$:[]){const E=typeof T.item=="string"?this.byId("item_group",T.item):Array.isArray(T.item)?{subtype:"collection",entries:T.item}:T.item;if(E)for(const{id:S}of this.flattenItemGroup(E))r.add(S);else typeof T=="string"&&this.byId("item",T)&&r.add(T)}for(const T of(k=e.object.place_loot)!=null?k:[])if(T.item&&r.add(T.item),T.group)for(const{id:E}of this.flattenItemGroup(this.byId("item_group",T.group)))r.add(E);for(const T of(y=e.object.add)!=null?y:[])r.add(T.item);const a=[...r];return this._cachedMapgenSpawnItems.set(e,a),a}flattenItemGroup(e){var s,u,c,m,$;if(this._flattenItemGroupCache.has(e))return this._flattenItemGroupCache.get(e);const l=new Map;function t({id:k,prob:y,count:T}){var D;const{prob:E,count:S}=(D=l.get(k))!=null?D:{prob:0,count:[0,0]},C=1-(1-E)*(1-y),R=[T[0]+S[0],T[1]+S[1]];l.set(k,{prob:C,count:R})}function n(...k){k.forEach(t)}e["container-item"]&&n({id:e["container-item"],prob:1,count:[1,1]});const o=[];if(e.subtype==="old"||!e.subtype)for(const k of e.items)Array.isArray(k)?o.push({item:k[0],prob:k[1]}):o.push(k);else{for(const k of(s=e.entries)!=null?s:[])Array.isArray(k)?o.push({item:k[0],prob:k[1]}):o.push(k);for(const k of(u=e.items)!=null?u:[])Array.isArray(k)?o.push({item:k[0],prob:k[1]}):typeof k=="string"?o.push({item:k,prob:100}):o.push(k);for(const k of(c=e.groups)!=null?c:[])Array.isArray(k)?o.push({group:k[0],prob:k[1]}):typeof k=="string"?o.push({group:k,prob:100}):o.push(k)}function r(k,y,T){return{id:k.id,prob:k.prob*y,count:[k.count[0]*T[0],k.count[1]*T[1]]}}function f(k){return k.count?typeof k.count=="number"?[k.count,k.count]:k.count:k.charges?typeof k.charges=="number"?[k.charges,k.charges]:k.charges:[1,1]}if(e.subtype==="collection")for(const k of o){const{prob:y=100}=k,T=Math.min(y,100)/100,E=f(k);if(k["container-item"]&&n({id:k["container-item"],prob:T,count:[1,1]}),"item"in k){n({id:k.item,prob:T,count:E});const S=this.byId("item",k.item);S&&S.container&&n({id:S.container,prob:T,count:E})}else if("group"in k)n(...this.flattenItemGroup(this.byId("item_group",k.group)).map(S=>r(S,T,E)));else if("collection"in k)n(...this.flattenItemGroup({subtype:"collection",entries:k.collection}).map(S=>r(S,T,E)));else if("distribution"in k)n(...this.flattenItemGroup({subtype:"distribution",entries:k.distribution}).map(S=>r(S,T,E)));else throw new Error(`unknown item group entry: ${JSON.stringify(k)}`)}else{let k=0;for(const y of o)k+=(m=y.prob)!=null?m:100;for(const y of o){const T=(($=y.prob)!=null?$:100)/k,E=f(y);if(y["container-item"]&&n({id:y["container-item"],prob:T,count:[1,1]}),"item"in y)n({id:y.item,prob:T,count:E});else if("group"in y)n(...this.flattenItemGroup(this.byId("item_group",y.group)).map(S=>r(S,T,E)));else if("collection"in y)n(...this.flattenItemGroup({subtype:"collection",entries:y.collection}).map(S=>r(S,T,E)));else if("distribution"in y)n(...this.flattenItemGroup({subtype:"distribution",entries:y.distribution}).map(S=>r(S,T,E)));else throw new Error(`unknown item group entry: ${JSON.stringify(y)}`)}}const a=[...l.entries()].map(([k,y])=>({id:k,...y}));return this._flattenItemGroupCache.set(e,a),a}_flatRequirementCacheForOpts(e){if((e==null?void 0:e.expandSubstitutes)&&(e==null?void 0:e.onlyRecoverable))throw new Error("didn't expect to see expandSubstitutes && onlyRecoverable");return e!=null&&e.expandSubstitutes?this._flatRequirementCacheExpandSubs:e!=null&&e.onlyRecoverable?this._flatRequirementCacheOnlyRecoverable:this._flatRequirementCache}flattenRequirement(e,l,t){const n=this._flatRequirementCacheForOpts(t);if(n.has(e))return n.get(e);const{expandSubstitutes:o=!1,onlyRecoverable:r=!1}=t!=null?t:{},f=o?s=>s.flatMap(u=>Wg(this,u)):s=>s,a=Br(e).map(s=>f(hh(this,s,u=>Br(l(u)),r))).map(s=>r?s.filter(u=>{var c,m;return!((m=(c=this.byId("item",u.id))==null?void 0:c.flags)!=null?m:[]).includes("UNRECOVERABLE")}):s).filter(s=>s.length);return n.set(e,a),a}normalizeRequirementsForDisassembly(e){const{tools:l,qualities:t,components:n}=this.normalizeRequirements(e,{onlyRecoverable:!0});let o=!1;const r=[];for(const c of l)for(const m of c){if(["welder","welder_crude","oxy_torch","forge","char_forge"].includes(m.id)){c.length=0,r.push([{id:"SAW_M_FINE",level:1}]);break}if(["sewing_kit","mold_plastic"].includes(m.id)){c.length=0,r.push([{id:"CUT",level:1}]);break}if(m.id==="crucible"){c.length=0;break}if(m.id==="press"){c.length=0,o=!0,r.push([{id:"PULL",level:1}]);break}if(m.id==="fire"&&o){c.length=0;break}}const f=l.filter(c=>c.length);for(const c of t)for(const m of c){if(m.id==="SEW"){r.push([{id:"CUT",level:m.level}]),c.length=0;break}if(m.id==="GLARE"||m.id==="KNIT"){c.length=0;break}}const a=t.filter(c=>c.length),s=a.concat(r.filter(c=>!a.some(m=>m[0].id===c[0].id))),u=n.map(c=>c.filter(m=>{var $,k;return!((k=($=this.byId("item",m.id))==null?void 0:$.flags)!=null&&k.includes("UNRECOVERABLE"))})).filter(c=>c.length);return{tools:f,qualities:s,components:u}}normalizeRequirements(e,l){const t=typeof e.using=="string"?[[e.using,1]]:e.using,n=(t!=null?t:[]).map(([a,s])=>[this.byId("requirement",a),s]).concat([[e,1]]).filter(a=>a[0]),o=n.flatMap(([a,s])=>{var u;return this.flattenRequirement((u=a.tools)!=null?u:[],c=>c.tools,{expandSubstitutes:!0}).map(c=>c.map(m=>({...m,count:m.count*s})))}),r=n.flatMap(([a,s])=>{var u;return((u=a.qualities)!=null?u:[]).map(c=>Array.isArray(c)?c:[c])}),f=n.flatMap(([a,s])=>{var u;return this.flattenRequirement((u=a.components)!=null?u:[],c=>c.components,l).map(c=>c.map(m=>({...m,count:m.count*s})))});return{tools:o,qualities:r,components:f}}getItemComponents(){if(this._itemComponentCache)return this._itemComponentCache;const e=new Map,l=new Map;return this.byType("recipe").forEach(t=>{if(!t.result||!this.byId("item",t.result))return!1;const n=typeof t.using=="string"?[[t.using,1]]:t.using,o=(n!=null?n:[]).map(([a,s])=>[this.byId("requirement",a),s]).concat([[t,1]]),r=o.flatMap(([a])=>{var s;return this.flattenRequirement((s=a.tools)!=null?s:[],u=>u.tools)});for(const a of r)for(const s of a)e.has(s.id)||e.set(s.id,new Set),e.get(s.id).add(t.result);const f=o.flatMap(([a,s])=>{var u;return this.flattenRequirement((u=a.components)!=null?u:[],c=>c.components).map(c=>c.map(m=>({...m,count:m.count*s})))});for(const a of f)for(const s of a)l.has(s.id)||l.set(s.id,new Set),l.get(s.id).add(t.result)}),this._itemComponentCache={byTool:e,byComponent:l},this._itemComponentCache}normalizeItemGroup(e,l){return e?typeof e=="string"?this.byId("item_group",e):Array.isArray(e)?{subtype:l,entries:e}:{subtype:l,...e}:{subtype:l,entries:[]}}}function hh(i,e,l,t=!1){var o;const n=[];for(const r of e)if(Array.isArray(r)){const[f,a,...s]=r,u=s.includes("LIST");if(s.includes("NO_RECOVER")&&t)continue;if(u){const m=i.byId("requirement",f);m.type!=="requirement"&&console.error(`Expected a requirement, got ${m.type} (id=${m.id})`);const k=((o=l(m))!=null?o:[])[0];n.push(...hh(i,k,l,t).map(y=>({...y,count:y.count*a})))}else n.push({id:f,count:a})}else if(typeof r=="string")n.push({id:r,count:1});else throw new Error("unexpected choice type");return n}function Wg(i,e){const l=i.replacementTools(e.id);return[e,...l.map(t=>({id:t,count:e.count}))]}function Br(i){return i.map(e=>Array.isArray(e)?e:[e])}const un=i=>i.type==="AMMO"||i.type==="COMESTIBLE"||i.stackable;function pn(i){return Array.isArray(i)?i:"values"in i?i.values:[i]}const zg=["cover_left","cover_right","hatch_wheel_left","hatch_wheel_right","wheel_left","wheel_right","cross_unconnected","cross","horizontal_front_edge","horizontal_front","horizontal_rear_edge","horizontal_rear","horizontal_2_front","horizontal_2_rear","ne_edge","nw_edge","se_edge","sw_edge","vertical_right","vertical_left","vertical_2_right","vertical_2_left","vertical_T_right","vertical_T_left","front_right","front_left","rear_right","rear_left","cover","vertical","horizontal","vertical_2","horizontal_2","ne","nw","se","sw","front","rear","left","right"],gh=(i,e)=>{if(i.byId("vehicle_part",e))return[e,""];for(const l of zg)if(e.endsWith("_"+l))return[e.slice(0,e.length-l.length-1),l];return[e,""]};function bh(i){var e;return{subtype:"collection",entries:((e=i.items)!=null?e:[]).map(l=>l.items?{collection:(typeof l.items=="string"?[l.items]:l.items).map(t=>({item:t})),prob:l.chance}:l.item_groups?{collection:(typeof l.item_groups=="string"?[l.item_groups]:l.item_groups).map(t=>({group:t})),prob:l.chance}:{distribution:[]})}}function Kr(i){return typeof i=="string"?[{type:i}]:Array.isArray(i)?i.map(e=>typeof e=="string"?{type:e}:Array.isArray(e)?{type:e[0]}:e):i?[i]:[]}const Vg=async i=>{const e=await fetch(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${i}/all.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching data`);return e.json()},Xg=async(i,e)=>{const l=await fetch(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${i}/lang/${e}.json`,{mode:"cors"});if(!l.ok)throw new Error(`Error ${l.status} (${l.statusText}) fetching locale data`);return l.json()};async function jo(i){for(;;)try{return await i()}catch(e){console.error(e),await new Promise(l=>setTimeout(l,2e3))}}let Ho=!1;const{subscribe:Jg,set:Kg}=Li(null),Wo={subscribe:Jg,async setVersion(i,e){if(Ho)throw new Error("can only set version once");Ho=!0;const[l,t]=await Promise.all([jo(()=>Vg(i)),e&&jo(()=>Xg(i,e))]);t&&(Nr.loadJSON(t),Nr.setLocale(e));const n=new Hg(l.data,l.build_number,l.release);Kg(n)}};function Zg(i){let e,l=(i[4]?(i[2]?Or:be)(i[4]):i[1])+"",t,n;return{c(){e=p("a"),t=w(l),fe(e,"href",n="#/"+i[0]+"/"+i[1])},m(o,r){g(o,e,r),d(e,t)},p(o,r){r&22&&l!==(l=(o[4]?(o[2]?Or:be)(o[4]):o[1])+"")&&P(t,l),r&3&&n!==(n="#/"+o[0]+"/"+o[1])&&fe(e,"href",n)},i:x,o:x,d(o){o&&h(e)}}}function Qg(i){let e,l=!un(i[4]),t,n,o=un(i[4]),r,f=l&&zo(i);n=new ue({props:{type:i[0],id:i[1],plural:Xo(i[3])&&!un(i[4])}});let a=o&&Vo(i);return{c(){e=p("span"),f&&f.c(),t=I(),U(n.$$.fragment),a&&a.c(),Je(e,"white-space","nowrap")},m(s,u){g(s,e,u),f&&f.m(e,null),d(e,t),L(n,e,null),a&&a.m(e,null),r=!0},p(s,u){u&16&&(l=!un(s[4])),l?f?f.p(s,u):(f=zo(s),f.c(),f.m(e,t)):f&&(f.d(1),f=null);const c={};u&1&&(c.type=s[0]),u&2&&(c.id=s[1]),u&24&&(c.plural=Xo(s[3])&&!un(s[4])),n.$set(c),u&16&&(o=un(s[4])),o?a?a.p(s,u):(a=Vo(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(s){r||(b(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&h(e),f&&f.d(),G(n),a&&a.d()}}}function zo(i){let e=qi(i[3])+"",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},p(t,n){n&8&&e!==(e=qi(t[3])+"")&&P(l,e)},d(t){t&&h(l)}}}function Vo(i){let e=" ",l,t,n=qi(i[3])+"",o,r;return{c(){l=w(e),t=w("("),o=w(n),r=w(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&8&&n!==(n=qi(f[3])+"")&&P(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function xg(i){let e,l,t,n;const o=[Qg,Zg],r=[];function f(a,s){return a[3]!=null?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(Z(),v(r[u],1,1,()=>{r[u]=null}),Q(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function qi(i){return typeof i=="number"?i.toString():i[0]===i[1]?i[0].toString():`${i[0]}\u2013${i[1]}`}function Xo(i){return typeof i=="number"?i!==1:i[0]===i[1]?i[0]!==1:!0}function e0(i,e,l){let{type:t}=e,{id:n}=e,{plural:o=!1}=e,{count:r=void 0}=e;const f=it("data");let a=f.byId(t,n);return(a==null?void 0:a.type)==="vehicle_part"&&!a.name&&a.item&&(a=f.byId("item",a.item)),i.$$set=s=>{"type"in s&&l(0,t=s.type),"id"in s&&l(1,n=s.id),"plural"in s&&l(2,o=s.plural),"count"in s&&l(3,r=s.count)},[t,n,o,r,a]}class ue extends Xe{constructor(e){super(),Ve(this,e,e0,xg,je,{type:0,id:1,plural:2,count:3})}}const t0=async i=>{const e=await fetch(`${i}/tile_config.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching tile data`);const l=await e.json();return await Promise.all(l["tiles-new"].map(async t=>{var s,u;const n=await fetch(`${i}/${t.file}`).then(c=>c.blob()),o=URL.createObjectURL(n),r=new Image;r.src=o;try{await new Promise((c,m)=>{r.onload=c,r.onerror=m})}finally{URL.revokeObjectURL(o)}const f=r.width/((s=t.sprite_width)!=null?s:l.tile_info[0].width)|0,a=r.height/((u=t.sprite_height)!=null?u:l.tile_info[0].height)|0;t.nx=f,t.ny=a})),l},{subscribe:l0,set:Jo}=Li(null),$h={subscribe:l0,setURL(i){i?t0(i).then(e=>{Jo({...e,baseUrl:i})},e=>{console.error("Error fetching tiles",e)}):Jo(null)}},Wt=0,pl=1,il=2,rl=3,ol=4,fl=5,sl=6,ll=7,Ar={},He=(i,e,l)=>{Ar[i]=[e,l]};He(1,ll,Wt);He(2,pl,Wt);He(3,il,Wt);He(4,ol,Wt);He(5,sl,Wt);He(6,fl,Wt);He(7,rl,Wt);He(8,Wt,ll);He(9,Wt,pl);He(10,Wt,il);He(11,Wt,ol);He(12,Wt,sl);He(13,Wt,fl);He(14,Wt,rl);He(15,ll,ol);He(16,pl,ol);He(17,il,ol);He(18,ol,ol);He(19,sl,ol);He(20,Wt,ol);He(21,fl,ol);He(22,rl,ol);He(23,ll,pl);He(24,pl,pl);He(25,il,pl);He(26,ol,pl);He(27,sl,pl);He(28,fl,pl);He(29,rl,pl);He(30,Wt,Wt);He(31,ll,Wt);He(32,Wt,ll);He(33,ll,ll);He(34,pl,ll);He(35,il,ll);He(36,rl,ll);He(37,ol,ll);He(38,fl,ll);He(39,sl,ll);He(40,Wt,il);He(41,ll,il);He(42,pl,il);He(43,il,il);He(44,rl,il);He(45,ol,il);He(46,fl,il);He(47,sl,il);He(48,Wt,rl);He(49,ll,rl);He(50,pl,rl);He(51,il,rl);He(52,rl,rl);He(53,ol,rl);He(54,fl,rl);He(55,sl,rl);He(56,Wt,fl);He(57,ll,fl);He(58,pl,fl);He(59,il,fl);He(60,rl,fl);He(61,ol,fl);He(62,fl,fl);He(63,sl,fl);He(64,Wt,sl);He(65,ll,sl);He(66,pl,sl);He(67,il,sl);He(68,rl,sl);He(69,ol,sl);He(70,fl,sl);He(71,sl,sl);function pe(i){return{fg:Ar[i][0],bg:Ar[i][1],bold(){return{...this,is_bold:!0}},blink(){return{...this,is_blink:!0}},is_bold:!1,is_blink:!1,color(){let e=this.fg,l=this.bg;return this.is_bold&&(e=e+8),this.is_blink&&(l=l+8),{fg:e,bg:l}}}}function Mr(i){return i?i[1]!="_"?Mr("c_"+i):vh[i]:Mr("c_white")}const vh={};function he(i,e,l,t){vh[e]={...l.color(),inverse:t}}he("def_c_black","c_black",pe(30),"def_i_black");he("def_c_white","c_white",pe(1).bold(),"def_i_white");he("def_c_light_gray","c_light_gray",pe(1),"def_i_light_gray");he("def_c_dark_gray","c_dark_gray",pe(30).bold(),"def_i_dark_gray");he("def_c_red","c_red",pe(2),"def_i_red");he("def_c_green","c_green",pe(3),"def_i_green");he("def_c_blue","c_blue",pe(4),"def_i_blue");he("def_c_cyan","c_cyan",pe(5),"def_i_cyan");he("def_c_magenta","c_magenta",pe(6),"def_i_magenta");he("def_c_brown","c_brown",pe(7),"def_i_brown");he("def_c_light_red","c_light_red",pe(2).bold(),"def_i_light_red");he("def_c_light_green","c_light_green",pe(3).bold(),"def_i_light_green");he("def_c_light_blue","c_light_blue",pe(4).bold(),"def_i_light_blue");he("def_c_light_cyan","c_light_cyan",pe(5).bold(),"def_i_light_cyan");he("def_c_pink","c_pink",pe(6).bold(),"def_i_pink");he("def_c_yellow","c_yellow",pe(7).bold(),"def_i_yellow");he("def_h_black","h_black",pe(20),"def_c_blue");he("def_h_white","h_white",pe(15).bold(),"def_c_light_blue_white");he("def_h_light_gray","h_light_gray",pe(15),"def_c_blue_white");he("def_h_dark_gray","h_dark_gray",pe(20).bold(),"def_c_light_blue");he("def_h_red","h_red",pe(16),"def_c_blue_red");he("def_h_green","h_green",pe(17),"def_c_blue_green");he("def_h_blue","h_blue",pe(20),"def_h_blue");he("def_h_cyan","h_cyan",pe(19),"def_c_blue_cyan");he("def_h_magenta","h_magenta",pe(21),"def_c_blue_magenta");he("def_h_brown","h_brown",pe(22),"def_c_blue_yellow");he("def_h_light_red","h_light_red",pe(16).bold(),"def_c_light_blue_red");he("def_h_light_green","h_light_green",pe(17).bold(),"def_c_light_blue_green");he("def_h_light_blue","h_light_blue",pe(18).bold(),"def_h_light_blue");he("def_h_light_cyan","h_light_cyan",pe(19).bold(),"def_c_light_blue_cyan");he("def_h_pink","h_pink",pe(21).bold(),"def_c_light_blue_magenta");he("def_h_yellow","h_yellow",pe(22).bold(),"def_c_light_blue_yellow");he("def_i_black","i_black",pe(32),"def_c_black");he("def_i_white","i_white",pe(8).blink(),"def_c_white");he("def_i_light_gray","i_light_gray",pe(8),"def_c_light_gray");he("def_i_dark_gray","i_dark_gray",pe(32).blink(),"def_c_dark_gray");he("def_i_red","i_red",pe(9),"def_c_red");he("def_i_green","i_green",pe(10),"def_c_green");he("def_i_blue","i_blue",pe(11),"def_c_blue");he("def_i_cyan","i_cyan",pe(12),"def_c_cyan");he("def_i_magenta","i_magenta",pe(13),"def_c_magenta");he("def_i_brown","i_brown",pe(14),"def_c_brown");he("def_i_light_red","i_light_red",pe(9).blink(),"def_c_light_red");he("def_i_light_green","i_light_green",pe(10).blink(),"def_c_light_green");he("def_i_light_blue","i_light_blue",pe(11).blink(),"def_c_light_blue");he("def_i_light_cyan","i_light_cyan",pe(12).blink(),"def_c_light_cyan");he("def_i_pink","i_pink",pe(13).blink(),"def_c_pink");he("def_i_yellow","i_yellow",pe(14).blink(),"def_c_yellow");he("def_c_black_red","c_black_red",pe(9).bold(),"def_c_red");he("def_c_white_red","c_white_red",pe(23).bold(),"def_c_red_white");he("def_c_light_gray_red","c_light_gray_red",pe(23),"def_c_light_red_white");he("def_c_dark_gray_red","c_dark_gray_red",pe(9),"def_c_dark_gray_red");he("def_c_red_red","c_red_red",pe(9),"def_c_red_red");he("def_c_green_red","c_green_red",pe(25),"def_c_red_green");he("def_c_blue_red","c_blue_red",pe(26),"def_h_red");he("def_c_cyan_red","c_cyan_red",pe(27),"def_c_red_cyan");he("def_c_magenta_red","c_magenta_red",pe(28),"def_c_red_magenta");he("def_c_brown_red","c_brown_red",pe(29),"def_c_red_yellow");he("def_c_light_red_red","c_light_red_red",pe(24).bold(),"def_c_red_red");he("def_c_light_green_red","c_light_green_red",pe(25).bold(),"def_c_light_red_green");he("def_c_light_blue_red","c_light_blue_red",pe(26).bold(),"def_h_light_red");he("def_c_light_cyan_red","c_light_cyan_red",pe(27).bold(),"def_c_light_red_cyan");he("def_c_pink_red","c_pink_red",pe(28).bold(),"def_c_light_red_magenta");he("def_c_yellow_red","c_yellow_red",pe(29).bold(),"def_c_red_yellow");he("def_c_unset","c_unset",pe(31),"def_c_unset");he("def_c_black_white","c_black_white",pe(32),"def_c_light_gray");he("def_c_dark_gray_white","c_dark_gray_white",pe(32).bold(),"def_c_white");he("def_c_light_gray_white","c_light_gray_white",pe(33),"def_c_light_gray_white");he("def_c_white_white","c_white_white",pe(33).bold(),"def_c_white_white");he("def_c_red_white","c_red_white",pe(34),"def_c_white_red");he("def_c_light_red_white","c_light_red_white",pe(34).bold(),"def_c_light_gray_red");he("def_c_green_white","c_green_white",pe(35),"def_c_light_gray_green");he("def_c_light_green_white","c_light_green_white",pe(35).bold(),"def_c_white_green");he("def_c_brown_white","c_brown_white",pe(36),"def_c_light_gray_yellow");he("def_c_yellow_white","c_yellow_white",pe(36).bold(),"def_c_white_yellow");he("def_c_blue_white","c_blue_white",pe(37),"def_h_light_gray");he("def_c_light_blue_white","c_light_blue_white",pe(37).bold(),"def_h_white");he("def_c_magenta_white","c_magenta_white",pe(38),"def_c_light_gray_magenta");he("def_c_pink_white","c_pink_white",pe(38).bold(),"def_c_white_magenta");he("def_c_cyan_white","c_cyan_white",pe(39),"def_c_light_gray_cyan");he("def_c_light_cyan_white","c_light_cyan_white",pe(39).bold(),"def_c_white_cyan");he("def_c_black_green","c_black_green",pe(40),"def_c_green");he("def_c_dark_gray_green","c_dark_gray_green",pe(40).bold(),"def_c_light_green");he("def_c_light_gray_green","c_light_gray_green",pe(41),"def_c_green_white");he("def_c_white_green","c_white_green",pe(41).bold(),"def_c_light_green_white");he("def_c_red_green","c_red_green",pe(42),"def_c_green_red");he("def_c_light_red_green","c_light_red_green",pe(42).bold(),"def_c_light_green_red");he("def_c_green_green","c_green_green",pe(43),"def_c_green_green");he("def_c_light_green_green","c_light_green_green",pe(43).bold(),"def_c_light_green_green");he("def_c_brown_green","c_brown_green",pe(44),"def_c_green_yellow");he("def_c_yellow_green","c_yellow_green",pe(44).bold(),"def_c_light_green_yellow");he("def_c_blue_green","c_blue_green",pe(45),"def_h_green");he("def_c_light_blue_green","c_light_blue_green",pe(45).bold(),"def_h_light_green");he("def_c_magenta_green","c_magenta_green",pe(46),"def_c_green_magenta");he("def_c_pink_green","c_pink_green",pe(46).bold(),"def_c_light_green_magenta");he("def_c_cyan_green","c_cyan_green",pe(47),"def_c_green_cyan");he("def_c_light_cyan_green","c_light_cyan_green",pe(47).bold(),"def_c_light_green_cyan");he("def_c_black_yellow","c_black_yellow",pe(48),"def_c_brown");he("def_c_dark_gray_yellow","c_dark_gray_yellow",pe(48).bold(),"def_c_yellow");he("def_c_light_gray_yellow","c_light_gray_yellow",pe(49),"def_c_brown_white");he("def_c_white_yellow","c_white_yellow",pe(49).bold(),"def_c_yellow_white");he("def_c_red_yellow","c_red_yellow",pe(50),"def_c_yellow_red");he("def_c_light_red_yellow","c_light_red_yellow",pe(50).bold(),"def_c_yellow_red");he("def_c_green_yellow","c_green_yellow",pe(51),"def_c_brown_green");he("def_c_light_green_yellow","c_light_green_yellow",pe(51).bold(),"def_c_yellow_green");he("def_c_brown_yellow","c_brown_yellow",pe(52),"def_c_brown_yellow");he("def_c_yellow_yellow","c_yellow_yellow",pe(52).bold(),"def_c_yellow_yellow");he("def_c_blue_yellow","c_blue_yellow",pe(53),"def_h_brown");he("def_c_light_blue_yellow","c_light_blue_yellow",pe(53).bold(),"def_h_yellow");he("def_c_magenta_yellow","c_magenta_yellow",pe(54),"def_c_brown_magenta");he("def_c_pink_yellow","c_pink_yellow",pe(54).bold(),"def_c_yellow_magenta");he("def_c_cyan_yellow","c_cyan_yellow",pe(55),"def_c_brown_cyan");he("def_c_light_cyan_yellow","c_light_cyan_yellow",pe(55).bold(),"def_c_yellow_cyan");he("def_c_black_magenta","c_black_magenta",pe(56),"def_c_magenta");he("def_c_dark_gray_magenta","c_dark_gray_magenta",pe(56).bold(),"def_c_pink");he("def_c_light_gray_magenta","c_light_gray_magenta",pe(57),"def_c_magenta_white");he("def_c_white_magenta","c_white_magenta",pe(57).bold(),"def_c_pink_white");he("def_c_red_magenta","c_red_magenta",pe(58),"def_c_magenta_red");he("def_c_light_red_magenta","c_light_red_magenta",pe(58).bold(),"def_c_pink_red");he("def_c_green_magenta","c_green_magenta",pe(59),"def_c_magenta_green");he("def_c_light_green_magenta","c_light_green_magenta",pe(59).bold(),"def_c_pink_green");he("def_c_brown_magenta","c_brown_magenta",pe(60),"def_c_magenta_yellow");he("def_c_yellow_magenta","c_yellow_magenta",pe(60).bold(),"def_c_pink_yellow");he("def_c_blue_magenta","c_blue_magenta",pe(61),"def_h_magenta");he("def_c_light_blue_magenta","c_light_blue_magenta",pe(61).bold(),"def_h_pink");he("def_c_magenta_magenta","c_magenta_magenta",pe(62),"def_c_magenta_magenta");he("def_c_pink_magenta","c_pink_magenta",pe(62).bold(),"def_c_pink_magenta");he("def_c_cyan_magenta","c_cyan_magenta",pe(63),"def_c_magenta_cyan");he("def_c_light_cyan_magenta","c_light_cyan_magenta",pe(63).bold(),"def_c_pink_cyan");he("def_c_black_cyan","c_black_cyan",pe(64),"def_c_cyan");he("def_c_dark_gray_cyan","c_dark_gray_cyan",pe(64).bold(),"def_c_light_cyan");he("def_c_light_gray_cyan","c_light_gray_cyan",pe(65),"def_c_cyan_white");he("def_c_white_cyan","c_white_cyan",pe(65).bold(),"def_c_light_cyan_white");he("def_c_red_cyan","c_red_cyan",pe(66),"def_c_cyan_red");he("def_c_light_red_cyan","c_light_red_cyan",pe(66).bold(),"def_c_light_cyan_red");he("def_c_green_cyan","c_green_cyan",pe(67),"def_c_cyan_green");he("def_c_light_green_cyan","c_light_green_cyan",pe(67).bold(),"def_c_light_cyan_green");he("def_c_brown_cyan","c_brown_cyan",pe(68),"def_c_cyan_yellow");he("def_c_yellow_cyan","c_yellow_cyan",pe(68).bold(),"def_c_light_cyan_yellow");he("def_c_blue_cyan","c_blue_cyan",pe(69),"def_h_cyan");he("def_c_light_blue_cyan","c_light_blue_cyan",pe(69).bold(),"def_h_light_cyan");he("def_c_magenta_cyan","c_magenta_cyan",pe(70),"def_c_cyan_magenta");he("def_c_pink_cyan","c_pink_cyan",pe(70).bold(),"def_c_light_cyan_magenta");he("def_c_cyan_cyan","c_cyan_cyan",pe(71),"def_c_cyan_cyan");he("def_c_light_cyan_cyan","c_light_cyan_cyan",pe(71).bold(),"def_c_light_cyan_cyan");function n0(i){let e,l;return{c(){e=p("span"),l=w(i[3]),Je(e,"font-family","monospace"),fe(e,"class","c_"+i[4]+" svelte-17io91a")},m(t,n){g(t,e,n),d(e,l)},p:x,d(t){t&&h(e)}}}function i0(i){let e,l,t,n=i[1].bg!=null&&Ko(i),o=i[1].fg!=null&&Zo(i);return{c(){e=p("div"),n&&n.c(),l=I(),o&&o.c(),fe(e,"style",t=yn({width:`${i[2].width*i[2].pixelscale}px`,height:`${i[2].height*i[2].pixelscale}px`})),fe(e,"class","tile-icon svelte-17io91a")},m(r,f){g(r,e,f),n&&n.m(e,null),d(e,l),o&&o.m(e,null)},p(r,f){r[1].bg!=null?n?n.p(r,f):(n=Ko(r),n.c(),n.m(e,l)):n&&(n.d(1),n=null),r[1].fg!=null?o?o.p(r,f):(o=Zo(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null),f&4&&t!==(t=yn({width:`${r[2].width*r[2].pixelscale}px`,height:`${r[2].height*r[2].pixelscale}px`}))&&fe(e,"style",t)},d(r){r&&h(e),n&&n.d(),o&&o.d()}}}function Ko(i){let e,l;return{c(){e=p("div"),fe(e,"class","icon-layer bg svelte-17io91a"),fe(e,"style",l=yn({width:`${i[1].bg.width}px`,height:`${i[1].bg.height}px`,"background-image":`url(${`${i[0]}/${encodeURIComponent(i[1].bg.file)}`})`,"background-position":`${-i[1].bg.tx*i[1].bg.width}px ${-i[1].bg.ty*i[1].bg.height}px`,transform:`scale(${i[2].pixelscale}) translate(${i[1].bg.offx}px, ${i[1].bg.offy}px)`}))},m(t,n){g(t,e,n)},p(t,n){n&7&&l!==(l=yn({width:`${t[1].bg.width}px`,height:`${t[1].bg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].bg.file)}`})`,"background-position":`${-t[1].bg.tx*t[1].bg.width}px ${-t[1].bg.ty*t[1].bg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].bg.offx}px, ${t[1].bg.offy}px)`}))&&fe(e,"style",l)},d(t){t&&h(e)}}}function Zo(i){let e,l;return{c(){e=p("div"),fe(e,"class","icon-layer fg svelte-17io91a"),fe(e,"style",l=yn({width:`${i[1].fg.width}px`,height:`${i[1].fg.height}px`,"background-image":`url(${`${i[0]}/${encodeURIComponent(i[1].fg.file)}`})`,"background-position":`${-i[1].fg.tx*i[1].fg.width}px ${-i[1].fg.ty*i[1].fg.height}px`,transform:`scale(${i[2].pixelscale}) translate(${i[1].fg.offx}px, ${i[1].fg.offy}px)`}))},m(t,n){g(t,e,n)},p(t,n){n&7&&l!==(l=yn({width:`${t[1].fg.width}px`,height:`${t[1].fg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].fg.file)}`})`,"background-position":`${-t[1].fg.tx*t[1].fg.width}px ${-t[1].fg.ty*t[1].fg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].fg.offx}px, ${t[1].fg.offy}px)`}))&&fe(e,"style",l)},d(t){t&&h(e)}}}function r0(i){let e;function l(o,r){return o[1]?i0:n0}let t=l(i),n=t(i);return{c(){n.c(),e=ne()},m(o,r){n.m(o,r),g(o,e,r)},p(o,[r]){t===(t=l(o))&&n?n.p(o,r):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},i:x,o:x,d(o){n.d(o),o&&h(e)}}}function kh(i){return typeof i=="string"?`i_${i}`:kh(i[0])}function Qo(i,e){if(!i||!e)return;let l=0;const t=[];for(const r of i["tiles-new"])t.push({from:l,to:l+r.nx*r.ny,chunk:r}),l+=r.nx*r.ny;function n(r){for(const f of t)if(r>=f.from&&r<f.to)return f}function o(r){var c,m,$,k;if(r==null)return;const f=n(r),a=r-f.from,s=a%f.chunk.nx,u=a/f.chunk.nx|0;return{file:f.chunk.file,width:(c=f.chunk.sprite_width)!=null?c:i.tile_info[0].width,height:(m=f.chunk.sprite_height)!=null?m:i.tile_info[0].height,offx:($=f.chunk.sprite_offset_x)!=null?$:0,offy:(k=f.chunk.sprite_offset_y)!=null?k:0,tx:s,ty:u}}for(const r of i["tiles-new"]){for(const f of r.tiles)if(Array.isArray(f.id)&&f.id.includes(e)||f.id===e){let a=Array.isArray(f.fg)?f.fg[0]:f.fg,s=Array.isArray(f.bg)?f.bg[0]:f.bg;return a&&typeof a=="object"&&(a=a.sprite),s&&typeof s=="object"&&(s=s.sprite),{fg:o(a),bg:o(s)}}l+=r.nx*r.ny}}function yn(i){let e="";for(const[l,t]of Object.entries(i))e+=`${l}: ${t};`;return e}function o0(i,e,l){var y;let t,n,o,r;uh(i,$h,T=>l(6,r=T));let{item:f}=e,a=it("data");const s=(y=[f.symbol].flat()[0])!=null?y:" ",u=/^LINE_/.test(s)?"|":s,c=f.color?typeof f.color=="string"?f.color:f.color[0]:f.bgcolor?kh(f.bgcolor):null;function m(T){return["item","monster","terrain","furniture","vehicle_part"].includes(kl(T.type))}function $(T,E,S=10){var A,B,M;function C(V){return E.type==="vehicle_part"?`vp_${V}`:V}const R=Qo(T,C((A=E.id)!=null?A:E.abstract));if(R)return R;const D=(B=E.looks_like)!=null?B:E["copy-from"];if(!D)return;const O=Qo(T,C(D));if(O)return O;if(S>0){const V=(M=a.byId(kl(E.type),D))!=null?M:a.abstractById(kl(E.type),D);if(V)return $(T,V,S-1)}}function k(T,E,S){var A;if(!T)return;const C=[E].flat()[0],R=C?/^LINE_/.test(C)?"|":C:" ",D=Mr(Array.isArray(S)?S[0]:S).fg;for(const B of T["tiles-new"])for(const M of(A=B.ascii)!=null?A:[])if(O(M.color)+(M.bold?8:0)===D){const J=M.offset+R.charCodeAt(0),N=J%B.nx,j=J/B.nx|0;return{fg:{file:B.file,tx:N,ty:j,width:T.tile_info[0].width,height:T.tile_info[0].height,offx:0,offy:0}}}function O(B){return B==="BLACK"?0:B==="RED"?1:B==="GREEN"?2:B==="YELLOW"?3:B==="BLUE"?4:B==="MAGENTA"?5:B==="CYAN"?6:B==="WHITE"?7:-1}}return i.$$set=T=>{"item"in T&&l(5,f=T.item)},i.$$.update=()=>{var T;i.$$.dirty&64&&l(2,t=r==null?void 0:r.tile_info[0]),i.$$.dirty&96&&l(1,n=m(f)?(T=$(r,f))!=null?T:k(r,f.symbol,f.color):null),i.$$.dirty&64&&l(0,o=r==null?void 0:r.baseUrl)},[o,n,t,u,c,f,r]}class et extends Xe{constructor(e){super(),Ve(this,e,o0,r0,je,{item:5})}}function f0(i){let e,l,t=i[0].cooldown+"",n,o,r;return e=new ue({props:{type:"item",id:i[0].gun_type}}),{c(){U(e.$$.fragment),l=w(" (cooldown: "),n=w(t),o=w(")")},m(f,a){L(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,[a]){const s={};a&1&&(s.id=f[0].gun_type),e.$set(s),(!r||a&1)&&t!==(t=f[0].cooldown+"")&&P(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){v(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function s0(i,e,l){let{attack:t}=e;return i.$$set=n=>{"attack"in n&&l(0,t=n.attack)},[t]}class a0 extends Xe{constructor(e){super(),Ve(this,e,s0,f0,je,{attack:0})}}function u0(i){let e=i[0].id+"",l,t,n,o="damage_max_instance"in i[0]&&xo(i),r=i[0].cooldown&&ef(i);return{c(){l=w(e),o&&o.c(),t=ne(),r&&r.c(),n=ne()},m(f,a){g(f,l,a),o&&o.m(f,a),g(f,t,a),r&&r.m(f,a),g(f,n,a)},p(f,a){a&1&&e!==(e=f[0].id+"")&&P(l,e),"damage_max_instance"in f[0]?o?o.p(f,a):(o=xo(f),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),f[0].cooldown?r?r.p(f,a):(r=ef(f),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:x,o:x,d(f){f&&h(l),o&&o.d(f),f&&h(t),r&&r.d(f),f&&h(n)}}}function c0(i){let e,l,t,n;const o=[m0,d0],r=[];function f(a,s){return a[0].type==="gun"?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(Z(),v(r[u],1,1,()=>{r[u]=null}),Q(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function _0(i){let e=i[0][0]+"",l,t,n=i[0].length>1&&lf(i);return{c(){l=w(e),n&&n.c(),t=ne()},m(o,r){g(o,l,r),n&&n.m(o,r),g(o,t,r)},p(o,r){r&1&&e!==(e=o[0][0]+"")&&P(l,e),o[0].length>1?n?n.p(o,r):(n=lf(o),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:x,o:x,d(o){o&&h(l),n&&n.d(o),o&&h(t)}}}function xo(i){let e,l=pn(i[0].damage_max_instance).map(nf).join(" ")+"",t;return{c(){e=w(`:
    `),t=w(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o&1&&l!==(l=pn(n[0].damage_max_instance).map(nf).join(" ")+"")&&P(t,l)},d(n){n&&h(e),n&&h(t)}}}function ef(i){let e=" ",l,t,n=i[0].cooldown+"",o,r;return{c(){l=w(e),t=w("(cooldown: "),o=w(n),r=w(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&1&&n!==(n=f[0].cooldown+"")&&P(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function d0(i){let e=i[0].type+"",l,t,n=i[0].cooldown&&tf(i);return{c(){l=w(e),n&&n.c(),t=ne()},m(o,r){g(o,l,r),n&&n.m(o,r),g(o,t,r)},p(o,r){r&1&&e!==(e=o[0].type+"")&&P(l,e),o[0].cooldown?n?n.p(o,r):(n=tf(o),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:x,o:x,d(o){o&&h(l),n&&n.d(o),o&&h(t)}}}function m0(i){let e,l;return e=new a0({props:{attack:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.attack=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function tf(i){let e=" ",l,t,n=i[0].cooldown+"",o,r;return{c(){l=w(e),t=w("(cooldown: "),o=w(n),r=w(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&1&&n!==(n=f[0].cooldown+"")&&P(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function lf(i){let e=" ",l,t,n=i[0][1]+"",o,r;return{c(){l=w(e),t=w("(cooldown: "),o=w(n),r=w(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&1&&n!==(n=f[0][1]+"")&&P(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function p0(i){let e,l,t,n,o;const r=[_0,c0,u0],f=[];function a(s,u){return u&1&&(e=null),e==null&&(e=!!Array.isArray(s[0])),e?0:"type"in s[0]?1:"id"in s[0]?2:-1}return~(l=a(i,-1))&&(t=f[l]=r[l](i)),{c(){t&&t.c(),n=ne()},m(s,u){~l&&f[l].m(s,u),g(s,n,u),o=!0},p(s,[u]){let c=l;l=a(s,u),l===c?~l&&f[l].p(s,u):(t&&(Z(),v(f[c],1,1,()=>{f[c]=null}),Q()),~l?(t=f[l],t?t.p(s,u):(t=f[l]=r[l](s),t.c()),b(t,1),t.m(n.parentNode,n)):t=null)},i(s){o||(b(t),o=!0)},o(s){v(t),o=!1},d(s){~l&&f[l].d(s),s&&h(n)}}}const nf=i=>`(${i.damage_type} for ${i.amount} damage)`;function h0(i,e,l){let{special_attack:t}=e;return i.$$set=n=>{"special_attack"in n&&l(0,t=n.special_attack)},[t]}class g0 extends Xe{constructor(e){super(),Ve(this,e,h0,p0,je,{special_attack:0})}}function rf(i,e,l){const t=i.slice();return t[8]=e[l],t}const b0=i=>({item:i&3}),of=i=>({item:i[8]});function ff(i){let e,l;const t=i[5].default,n=ch(t,i,i[4],of);return{c(){e=p("li"),n&&n.c()},m(o,r){g(o,e,r),n&&n.m(e,null),l=!0},p(o,r){n&&n.p&&(!l||r&19)&&mh(n,t,o,o[4],l?dh(t,o[4],r,b0):ph(o[4]),of)},i(o){l||(b(n,o),l=!0)},o(o){v(n,o),l=!1},d(o){o&&h(e),n&&n.d(o)}}}function sf(i){let e,l,t=Number(i[0].length).toLocaleString()+"",n,o,r,f;return{c(){e=p("button"),l=w("See all "),n=w(t),o=w("..."),fe(e,"class","disclosure")},m(a,s){g(a,e,s),d(e,l),d(e,n),d(e,o),r||(f=Sl(e,"click",i[6]),r=!0)},p(a,s){s&1&&t!==(t=Number(a[0].length).toLocaleString()+"")&&P(n,t)},d(a){a&&h(e),r=!1,f()}}}function $0(i){let e,l,t,n,o=i[0].slice(0,i[1]),r=[];for(let s=0;s<o.length;s+=1)r[s]=ff(rf(i,o,s));const f=s=>v(r[s],1,1,()=>{r[s]=null});let a=i[0].length>i[1]&&sf(i);return{c(){e=p("ul");for(let s=0;s<r.length;s+=1)r[s].c();l=I(),a&&a.c(),t=ne()},m(s,u){g(s,e,u);for(let c=0;c<r.length;c+=1)r[c].m(e,null);g(s,l,u),a&&a.m(s,u),g(s,t,u),n=!0},p(s,[u]){if(u&19){o=s[0].slice(0,s[1]);let c;for(c=0;c<o.length;c+=1){const m=rf(s,o,c);r[c]?(r[c].p(m,u),b(r[c],1)):(r[c]=ff(m),r[c].c(),b(r[c],1),r[c].m(e,null))}for(Z(),c=o.length;c<r.length;c+=1)f(c);Q()}s[0].length>s[1]?a?a.p(s,u):(a=sf(s),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(s){if(!n){for(let u=0;u<o.length;u+=1)b(r[u]);n=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)v(r[u]);n=!1},d(s){s&&h(e),ce(r,s),s&&h(l),a&&a.d(s),s&&h(t)}}}function v0(i,e,l){let{$$slots:t={},$$scope:n}=e,{items:o}=e,{limit:r=10}=e,{grace:f=4}=e,s=typeof globalThis!==void 0&&(globalThis==null?void 0:globalThis.__isTesting__)?1/0:o.length<=r+f?r+f:r;const u=c=>{c.preventDefault(),l(1,s=1/0)};return i.$$set=c=>{"items"in c&&l(0,o=c.items),"limit"in c&&l(2,r=c.limit),"grace"in c&&l(3,f=c.grace),"$$scope"in c&&l(4,n=c.$$scope)},[o,s,r,f,n,t,u]}class st extends Xe{constructor(e){super(),Ve(this,e,v0,$0,je,{items:0,limit:2,grace:3})}}function af(i,e,l){const t=i.slice();return t[10]=e[l],t}function uf(i,e,l){const t=i.slice();return t[13]=e[l].id,t[14]=e[l].prob,t}function cf(i,e,l){const t=i.slice();return t[10]=e[l],t}function _f(i,e,l){const t=i.slice();return t[13]=e[l].id,t[14]=e[l].prob,t}function df(i,e,l){const t=i.slice();return t[21]=e[l],t}function mf(i,e,l){const t=i.slice();return t[24]=e[l],t}function pf(i,e,l){const t=i.slice();return t[27]=e[l],t}function hf(i,e,l){const t=i.slice();return t[27]=e[l],t}function gf(i,e,l){const t=i.slice();return t[27]=e[l],t}function bf(i,e,l){const t=i.slice();return t[34]=e[l],t}function $f(i,e,l){const t=i.slice();return t[13]=e[l],t}function vf(i){let e,l,t=i[0].bodytype+"",n;return{c(){e=p("dt"),e.textContent="Body Type",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].bodytype+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function kf(i){var o;let e,l,t=((o=i[0].species)!=null?o:[]).join(", ")+"",n;return{c(){e=p("dt"),e.textContent="Species",l=p("dd"),n=w(t)},m(r,f){g(r,e,f),g(r,l,f),d(l,n)},p(r,f){var a;f[0]&1&&t!==(t=((a=r[0].species)!=null?a:[]).join(", ")+"")&&P(n,t)},d(r){r&&h(e),r&&h(l)}}}function k0(i){let e,l,t,n,o,r=i[5],f=[];for(let s=0;s<r.length;s+=1)f[s]=yf($f(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Material",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&32){r=s[5];let c;for(c=0;c<r.length;c+=1){const m=$f(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=yf(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function yf(i){let e,l,t;return l=new ue({props:{type:"material",id:i[13]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function wf(i){let e,l,t,n,o=i[0].special_attacks,r=[];for(let a=0;a<o.length;a+=1)r[a]=Ef(bf(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Special Attacks",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","no-bullets")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s[0]&3){o=a[0].special_attacks;let u;for(u=0;u<o.length;u+=1){const c=bf(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Ef(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function y0(i){let e,l;return e=new g0({props:{special_attack:i[34]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.special_attack=t[34]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function w0(i){let e,l;return e=new ue({props:{type:"monster_attack",id:i[34][0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.id=t[34][0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ef(i){let e,l,t,n,o,r;const f=[w0,y0],a=[];function s(u,c){return c[0]&1&&(l=null),l==null&&(l=!!(u[34][0]&&u[1].byId("monster_attack",u[34][0]))),l?0:1}return t=s(i,[-1,-1]),n=a[t]=f[t](i),{c(){e=p("li"),n.c(),o=I()},m(u,c){g(u,e,c),a[t].m(e,null),d(e,o),r=!0},p(u,c){let m=t;t=s(u,c),t===m?a[t].p(u,c):(Z(),v(a[m],1,1,()=>{a[m]=null}),Q(),n=a[t],n?n.p(u,c):(n=a[t]=f[t](u),n.c()),b(n,1),n.m(e,o))},i(u){r||(b(n),r=!0)},o(u){v(n),r=!1},d(u){u&&h(e),a[t].d()}}}function Tf(i){let e,l,t=i[0].regenerates+"",n,o;return{c(){e=p("dt"),e.textContent="Regenerates",l=p("dd"),n=w(t),o=w(" hp/turn")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f[0]&1&&t!==(t=r[0].regenerates+"")&&P(n,t)},d(r){r&&h(e),r&&h(l)}}}function Sf(i){let e,l,t=i[0].special_when_hit[0]+"",n,o,r=i[0].special_when_hit[1]+"",f,a;return{c(){e=p("dt"),e.textContent="When Hit",l=p("dd"),n=w(t),o=w(" ("),f=w(r),a=w("%)")},m(s,u){g(s,e,u),g(s,l,u),d(l,n),d(l,o),d(l,f),d(l,a)},p(s,u){u[0]&1&&t!==(t=s[0].special_when_hit[0]+"")&&P(n,t),u[0]&1&&r!==(r=s[0].special_when_hit[1]+"")&&P(f,r)},d(s){s&&h(e),s&&h(l)}}}function Cf(i){let e,l,t,n,o=i[0].anger_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=If(gf(i,o,f));return{c(){e=p("dt"),e.textContent="Anger Triggers",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&17){o=f[0].anger_triggers;let s;for(s=0;s<o.length;s+=1){const u=gf(f,o,s);r[s]?r[s].p(u,a):(r[s]=If(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),ce(r,f)}}}function If(i){let e,l,t=i[27]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=w(t),fe(l,"title",o=i[4][i[27]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&P(n,t),f[0]&1&&o!==(o=r[4][r[27]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function Rf(i){let e,l,t,n,o=i[0].placate_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=Nf(hf(i,o,f));return{c(){e=p("dt"),e.textContent="Placate Triggers",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&17){o=f[0].placate_triggers;let s;for(s=0;s<o.length;s+=1){const u=hf(f,o,s);r[s]?r[s].p(u,a):(r[s]=Nf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),ce(r,f)}}}function Nf(i){let e,l,t=i[27]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=w(t),fe(l,"title",o=i[4][i[27]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&P(n,t),f[0]&1&&o!==(o=r[4][r[27]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function Of(i){let e,l,t,n,o=i[0].fear_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=Bf(pf(i,o,f));return{c(){e=p("dt"),e.textContent="Fear Triggers",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&17){o=f[0].fear_triggers;let s;for(s=0;s<o.length;s+=1){const u=pf(f,o,s);r[s]?r[s].p(u,a):(r[s]=Bf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),ce(r,f)}}}function Bf(i){let e,l,t=i[27]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=w(t),fe(l,"title",o=i[4][i[27]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&P(n,t),f[0]&1&&o!==(o=r[4][r[27]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function Af(i){var f;let e,l,t,n,o=(f=i[0].flags)!=null?f:[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Mf(mf(i,o,a));return{c(){e=p("dt"),e.textContent="Flags",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();n=I(),fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);d(l,n)},p(a,s){var u;if(s[0]&9){o=(u=a[0].flags)!=null?u:[];let c;for(c=0;c<o.length;c+=1){const m=mf(a,o,c);r[c]?r[c].p(m,s):(r[c]=Mf(m),r[c].c(),r[c].m(t,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function Mf(i){let e,l,t=i[24]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=w(t),fe(l,"title",o=i[3][i[24]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[24]+"")&&P(n,t),f[0]&1&&o!==(o=r[3][r[24]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function Df(i){let e,l,t,n;function o(a,s){var u;return s[0]&1&&(t=null),t==null&&(t=!!(((u=a[0].death_function.effect)==null?void 0:u.id)&&a[1].byId("SPELL",a[0].death_function.effect.id))),t?T0:E0}let r=o(i,[-1,-1]),f=r(i);return{c(){e=p("dt"),e.textContent="On Death",l=p("dd"),f.c(),n=I()},m(a,s){g(a,e,s),g(a,l,s),f.m(l,null),d(l,n)},p(a,s){r===(r=o(a,s))&&f?f.p(a,s):(f.d(1),f=r(a),f&&(f.c(),f.m(l,n)))},d(a){a&&h(e),a&&h(l),f.d()}}}function E0(i){var t,n,o;let e=((o=(n=(t=i[0].death_function.effect)==null?void 0:t.id)!=null?n:i[0].death_function.corpse_type)!=null?o:"NORMAL")+"",l;return{c(){l=w(e)},m(r,f){g(r,l,f)},p(r,f){var a,s,u;f[0]&1&&e!==(e=((u=(s=(a=r[0].death_function.effect)==null?void 0:a.id)!=null?s:r[0].death_function.corpse_type)!=null?u:"NORMAL")+"")&&P(l,e)},d(r){r&&h(l)}}}function T0(i){let e=be(i[1].byId("SPELL",i[0].death_function.effect.id))+"",l,t,n=Vt(i[1].byId("SPELL",i[0].death_function.effect.id).description)+"",o,r;return{c(){l=w(e),t=w(" ("),o=w(n),r=w(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a[0]&1&&e!==(e=be(f[1].byId("SPELL",f[0].death_function.effect.id))+"")&&P(l,e),a[0]&1&&n!==(n=Vt(f[1].byId("SPELL",f[0].death_function.effect.id).description)+"")&&P(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function S0(i){let e,l,t,n,o,r=i[9].monsters,f=[];for(let m=0;m<r.length;m+=1)f[m]=Lf(df(i,r,m));const a=m=>v(f[m],1,1,()=>{f[m]=null});function s(m,$){if(m[9].age_grow)return I0;if(m[9].half_life)return C0}let u=s(i),c=u&&u(i);return{c(){e=p("dt"),e.textContent="Upgrades Into",l=p("dd"),t=p("ul");for(let m=0;m<f.length;m+=1)f[m].c();n=I(),c&&c.c(),fe(t,"class","comma-separated or")},m(m,$){g(m,e,$),g(m,l,$),d(l,t);for(let k=0;k<f.length;k+=1)f[k].m(t,null);d(l,n),c&&c.m(l,null),o=!0},p(m,$){if($[0]&512){r=m[9].monsters;let k;for(k=0;k<r.length;k+=1){const y=df(m,r,k);f[k]?(f[k].p(y,$),b(f[k],1)):(f[k]=Lf(y),f[k].c(),b(f[k],1),f[k].m(t,null))}for(Z(),k=r.length;k<f.length;k+=1)a(k);Q()}c&&c.p(m,$)},i(m){if(!o){for(let $=0;$<r.length;$+=1)b(f[$]);o=!0}},o(m){f=f.filter(Boolean);for(let $=0;$<f.length;$+=1)v(f[$]);o=!1},d(m){m&&h(e),m&&h(l),ce(f,m),c&&c.d()}}}function Lf(i){let e,l,t;return l=new ue({props:{type:"monster",id:i[21]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function C0(i){let e,l=i[9].half_life+"",t,n,o,r=i[9].half_life!==1&&R0();return{c(){e=w("with a half-life of "),t=w(l),n=w(" day"),r&&r.c(),o=ne()},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:x,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function I0(i){let e,l=i[9].age_grow+"",t,n,o,r=i[9].age_grow!==1&&N0();return{c(){e=w("in "),t=w(l),n=w(" day"),r&&r.c(),o=ne()},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:x,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function R0(i){let e;return{c(){e=w("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function N0(i){let e;return{c(){e=w("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function O0(i){let e,l,t,n,o;return n=new st({props:{items:i[6],$$slots:{default:[B0,({item:r})=>({0:r}),({item:r})=>[r?1:0]]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Drops",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f[0]&1|f[1]&256&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function B0(i){let e,l,t,n,o=jf(i[0].prob)+"",r,f,a;return e=new et({props:{item:i[1].byId("item",i[0].id)}}),t=new ue({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment),n=w(" ("),r=w(o),f=w(")")},m(s,u){L(e,s,u),g(s,l,u),L(t,s,u),g(s,n,u),g(s,r,u),g(s,f,u),a=!0},p(s,u){const c={};u[0]&1&&(c.item=s[1].byId("item",s[0].id)),e.$set(c);const m={};u[0]&1&&(m.id=s[0].id),t.$set(m),(!a||u[0]&1)&&o!==(o=jf(s[0].prob)+"")&&P(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),a=!1},d(s){G(e,s),s&&h(l),G(t,s),s&&h(n),s&&h(r),s&&h(f)}}}function A0(i){let e,l,t,n,o,r=i[7].entries,f=[];for(let s=0;s<r.length;s+=1)f[s]=Uf(cf(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Butchering Results",t=I(),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u[0]&130){r=s[7].entries;let c;for(c=0;c<r.length;c+=1){const m=cf(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Uf(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),ce(f,s)}}}function M0(i){let e,l,t,n,o,r;return l=new et({props:{item:i[1].byId("item",i[10].drop)}}),n=new ue({props:{type:"item",id:i[10].drop}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment),o=I()},m(f,a){g(f,e,a),L(l,e,null),d(e,t),L(n,e,null),d(e,o),r=!0},p:x,i(f){r||(b(l.$$.fragment,f),b(n.$$.fragment,f),r=!0)},o(f){v(l.$$.fragment,f),v(n.$$.fragment,f),r=!1},d(f){f&&h(e),G(l),G(n)}}}function D0(i){let e,l,t=i[1].flattenItemGroup(i[1].byId("item_group",i[10].drop)),n=[];for(let r=0;r<t.length;r+=1)n[r]=Gf(_f(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f[0]&130){t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop));let a;for(a=0;a<t.length;a+=1){const s=_f(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Gf(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){ce(n,r),r&&h(e)}}}function Gf(i){let e,l,t,n,o,r=(i[14]*100).toFixed(2)+"",f,a,s;return l=new et({props:{item:i[1].byId("item",i[13])}}),n=new ue({props:{type:"item",id:i[13]}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment),o=w(" ("),f=w(r),a=w(`%)
            `)},m(u,c){g(u,e,c),L(l,e,null),d(e,t),L(n,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:x,i(u){s||(b(l.$$.fragment,u),b(n.$$.fragment,u),s=!0)},o(u){v(l.$$.fragment,u),v(n.$$.fragment,u),s=!1},d(u){u&&h(e),G(l),G(n)}}}function Uf(i){let e,l,t,n;const o=[D0,M0],r=[];function f(a,s){var u;return((u=a[1].byId("harvest_drop_type",a[10].type))==null?void 0:u.group)||a[10].type==="bionic_group"?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function L0(i){let e,l,t,n,o,r=i[8].entries,f=[];for(let s=0;s<r.length;s+=1)f[s]=Pf(af(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Dissection Results",t=I(),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u[0]&258){r=s[8].entries;let c;for(c=0;c<r.length;c+=1){const m=af(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Pf(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),ce(f,s)}}}function G0(i){let e,l,t,n,o,r;return l=new et({props:{item:i[1].byId("item",i[10].drop)}}),n=new ue({props:{type:"item",id:i[10].drop}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment),o=I()},m(f,a){g(f,e,a),L(l,e,null),d(e,t),L(n,e,null),d(e,o),r=!0},p:x,i(f){r||(b(l.$$.fragment,f),b(n.$$.fragment,f),r=!0)},o(f){v(l.$$.fragment,f),v(n.$$.fragment,f),r=!1},d(f){f&&h(e),G(l),G(n)}}}function U0(i){let e,l,t=i[1].flattenItemGroup(i[1].byId("item_group",i[10].drop)),n=[];for(let r=0;r<t.length;r+=1)n[r]=qf(uf(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f[0]&258){t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop));let a;for(a=0;a<t.length;a+=1){const s=uf(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=qf(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){ce(n,r),r&&h(e)}}}function qf(i){let e,l,t,n,o,r=(i[14]*100).toFixed(2)+"",f,a,s;return l=new et({props:{item:i[1].byId("item",i[13])}}),n=new ue({props:{type:"item",id:i[13]}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment),o=w(" ("),f=w(r),a=w(`%)
            `)},m(u,c){g(u,e,c),L(l,e,null),d(e,t),L(n,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:x,i(u){s||(b(l.$$.fragment,u),b(n.$$.fragment,u),s=!0)},o(u){v(l.$$.fragment,u),v(n.$$.fragment,u),s=!1},d(u){u&&h(e),G(l),G(n)}}}function Pf(i){let e,l,t,n;const o=[U0,G0],r=[];function f(a,s){var u;return((u=a[1].byId("harvest_drop_type",a[10].type))==null?void 0:u.group)||a[10].type==="bionic_group"?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function q0(i){var On,Bn,An,Mn,Dn,Ln,Gn,Un,qn,Pn,Fn,Yn,jn,Hn,Wn,zn,Vn,Xn,Jn,Kn,Zn,Qn;let e,l,t,n=be(i[0])+"",o,r,f,a,s,u,c,m=Ql(i[0].volume)+"",$,k,y,T=kn(i[0].weight)+"",E,S,C,R=cn(i[0])+"",D,O,A,B,M=Ff(cn(i[0]))+"",V,J,N,j,z,F=i[0].description+"",Y,q,W,re,H,K,ee,ie,X,te=((On=i[0].speed)!=null?On:0)+"",me,Ge,Ie,ae=((Bn=i[0].melee_skill)!=null?Bn:0)+"",ke,Ee,de,Ue=i[2](i[0])+"",Ce,ge,$e,xe,se,ye,ze,Ne,Me=i[0].hp+"",Se,ve,Ae,Pe=((An=i[0].dodge)!=null?An:0)+"",Fe,Be,oe,Te,Re,we,Ke=((Mn=i[0].armor_bash)!=null?Mn:0)+"",Tt,dt,ct,gt=((Dn=i[0].armor_cut)!=null?Dn:0)+"",Ht,al,St,tt=((Gn=i[0].armor_stab)!=null?Gn:Math.floor(((Ln=i[0].armor_cut)!=null?Ln:0)*.8))+"",nt,Le,We,kt=((Un=i[0].armor_bullet)!=null?Un:0)+"",_t,At,yt,mt=((Pn=i[0].armor_acid)!=null?Pn:Math.floor(((qn=i[0].armor_cut)!=null?qn:0)*.5))+"",at,Ct,It,bt=((Fn=i[0].armor_fire)!=null?Fn:0)+"",wt,qt,rt,Rl,pt,zt,Ze,ul,Rt,Pt=((Yn=i[0].aggression)!=null?Yn:0)+"",ht,Gt,ut,ot=((jn=i[0].morale)!=null?jn:0)+"",ft,Nt,Ot,Dt=((Hn=i[0].vision_day)!=null?Hn:40)+"",Ut,Ft,Lt=((Wn=i[0].vision_night)!=null?Wn:1)+"",cl,Wl,Ol,le,De=i[0].default_faction+"",bl,Bl,Al,Ml,Dl,Ll,Gl,Ul,ql,Pl,$t;l=new et({props:{item:i[0]}});let Jt=i[0].bodytype&&vf(i),Kt=i[0].species&&i[0].species.length&&kf(i),hl=i[5].length&&k0(i),Yt=i[0].special_attacks&&wf(i),Zt=i[0].regenerates&&Tf(i),Qt=i[0].special_when_hit&&Sf(i),vt=((zn=i[0].anger_triggers)==null?void 0:zn.length)&&Cf(i),xt=((Vn=i[0].placate_triggers)==null?void 0:Vn.length)&&Rf(i),_e=((Xn=i[0].fear_triggers)==null?void 0:Xn.length)&&Of(i),qe=((Jn=i[0].flags)==null?void 0:Jn.length)&&Af(i),Et=i[0].death_function&&Df(i),yl=i[9]&&S0(i),$l=((Kn=i[6])==null?void 0:Kn.length)&&O0(i),wl=i[7]&&((Zn=i[7].entries)!=null?Zn:[]).length&&A0(i),El=i[8]&&((Qn=i[8].entries)!=null?Qn:[]).length&&L0(i);return{c(){e=p("h1"),U(l.$$.fragment),t=I(),o=w(n),r=I(),f=p("section"),a=p("dl"),Jt&&Jt.c(),s=ne(),Kt&&Kt.c(),u=p("dt"),u.textContent="Volume",c=p("dd"),$=w(m),k=p("dt"),k.textContent="Weight",y=p("dd"),E=w(T),hl&&hl.c(),S=p("dt"),S.textContent="Difficulty",C=p("dd"),D=w(R),O=I(),A=p("span"),B=w("("),V=w(M),J=w(")"),j=I(),z=p("p"),Y=w(F),q=I(),W=p("div"),re=p("section"),H=p("h1"),H.textContent="Attack",K=I(),ee=p("dl"),ie=p("dt"),ie.textContent="Speed",X=p("dd"),me=w(te),Ge=p("dt"),Ge.textContent="Melee Skill",Ie=p("dd"),ke=w(ae),Ee=p("dt"),Ee.textContent="Damage",de=p("dd"),Ce=w(Ue),Yt&&Yt.c(),ge=I(),$e=p("section"),xe=p("h1"),xe.textContent="Defense",se=I(),ye=p("dl"),ze=p("dt"),ze.textContent="HP",Ne=p("dd"),Se=w(Me),Zt&&Zt.c(),ve=p("dt"),ve.textContent="Dodge",Ae=p("dd"),Fe=w(Pe),Be=p("dt"),Be.textContent="Armor",oe=p("dd"),Te=p("dl"),Re=p("dt"),Re.textContent="Bash",we=p("dd"),Tt=w(Ke),dt=p("dt"),dt.textContent="Cut",ct=p("dd"),Ht=w(gt),al=p("dt"),al.textContent="Stab",St=p("dd"),nt=w(tt),Le=p("dt"),Le.textContent="Bullet",We=p("dd"),_t=w(kt),At=p("dt"),At.textContent="Acid",yt=p("dd"),at=w(mt),Ct=p("dt"),Ct.textContent="Fire",It=p("dd"),wt=w(bt),qt=I(),Qt&&Qt.c(),rt=I(),Rl=p("section"),pt=p("h1"),pt.textContent="Behavior",zt=I(),Ze=p("dl"),ul=p("dt"),ul.textContent=`Aggression
    `,Rt=p("dd"),ht=w(Pt),Gt=p("dt"),Gt.textContent="Morale",ut=p("dd"),ft=w(ot),Nt=p("dt"),Nt.textContent="Vision Range",Ot=p("dd"),Ut=w(Dt),Ft=w(" (day) / "),cl=w(Lt),Wl=w(" (night)"),Ol=p("dt"),Ol.textContent="Default Faction",le=p("dd"),bl=w(De),vt&&vt.c(),Bl=ne(),xt&&xt.c(),Al=ne(),_e&&_e.c(),Ml=ne(),qe&&qe.c(),Dl=ne(),Et&&Et.c(),Ll=ne(),yl&&yl.c(),Gl=I(),$l&&$l.c(),Ul=I(),wl&&wl.c(),ql=I(),El&&El.c(),Pl=ne(),fe(A,"class",N="c_"+Yf(cn(i[0]))+" fg_only"),Je(z,"color","var(--cata-color-gray)"),Je(ye,"flex","1"),fe(W,"class","side-by-side"),fe(ul,"title","Monsters with high aggression are more likely to be hostile. Ranges from -100 to 100"),fe(Gt,"title","Morale at spawn. Monsters with low morale will flee.")},m(Oe,Qe){g(Oe,e,Qe),L(l,e,null),d(e,t),d(e,o),g(Oe,r,Qe),g(Oe,f,Qe),d(f,a),Jt&&Jt.m(a,null),d(a,s),Kt&&Kt.m(a,null),d(a,u),d(a,c),d(c,$),d(a,k),d(a,y),d(y,E),hl&&hl.m(a,null),d(a,S),d(a,C),d(C,D),d(C,O),d(C,A),d(A,B),d(A,V),d(A,J),d(f,j),d(f,z),d(z,Y),g(Oe,q,Qe),g(Oe,W,Qe),d(W,re),d(re,H),d(re,K),d(re,ee),d(ee,ie),d(ee,X),d(X,me),d(ee,Ge),d(ee,Ie),d(Ie,ke),d(ee,Ee),d(ee,de),d(de,Ce),Yt&&Yt.m(ee,null),d(W,ge),d(W,$e),d($e,xe),d($e,se),d($e,ye),d(ye,ze),d(ye,Ne),d(Ne,Se),Zt&&Zt.m(ye,null),d(ye,ve),d(ye,Ae),d(Ae,Fe),d(ye,Be),d(ye,oe),d(oe,Te),d(Te,Re),d(Te,we),d(we,Tt),d(Te,dt),d(Te,ct),d(ct,Ht),d(Te,al),d(Te,St),d(St,nt),d(Te,Le),d(Te,We),d(We,_t),d(Te,At),d(Te,yt),d(yt,at),d(Te,Ct),d(Te,It),d(It,wt),d(oe,qt),Qt&&Qt.m(ye,null),g(Oe,rt,Qe),g(Oe,Rl,Qe),d(Rl,pt),d(Rl,zt),d(Rl,Ze),d(Ze,ul),d(Ze,Rt),d(Rt,ht),d(Ze,Gt),d(Ze,ut),d(ut,ft),d(Ze,Nt),d(Ze,Ot),d(Ot,Ut),d(Ot,Ft),d(Ot,cl),d(Ot,Wl),d(Ze,Ol),d(Ze,le),d(le,bl),vt&&vt.m(Ze,null),d(Ze,Bl),xt&&xt.m(Ze,null),d(Ze,Al),_e&&_e.m(Ze,null),d(Ze,Ml),qe&&qe.m(Ze,null),d(Ze,Dl),Et&&Et.m(Ze,null),d(Ze,Ll),yl&&yl.m(Ze,null),g(Oe,Gl,Qe),$l&&$l.m(Oe,Qe),g(Oe,Ul,Qe),wl&&wl.m(Oe,Qe),g(Oe,ql,Qe),El&&El.m(Oe,Qe),g(Oe,Pl,Qe),$t=!0},p(Oe,Qe){var ei,ti,li,lt,Tl,$o,vo,ko,yo,wo,Eo,To,So,Co,Io,Ro,No,Oo,Bo,Ao,Mo,Do;const xn={};Qe[0]&1&&(xn.item=Oe[0]),l.$set(xn),(!$t||Qe[0]&1)&&n!==(n=be(Oe[0])+"")&&P(o,n),Oe[0].bodytype?Jt?Jt.p(Oe,Qe):(Jt=vf(Oe),Jt.c(),Jt.m(a,s)):Jt&&(Jt.d(1),Jt=null),Oe[0].species&&Oe[0].species.length?Kt?Kt.p(Oe,Qe):(Kt=kf(Oe),Kt.c(),Kt.m(a,u)):Kt&&(Kt.d(1),Kt=null),(!$t||Qe[0]&1)&&m!==(m=Ql(Oe[0].volume)+"")&&P($,m),(!$t||Qe[0]&1)&&T!==(T=kn(Oe[0].weight)+"")&&P(E,T),Oe[5].length&&hl.p(Oe,Qe),(!$t||Qe[0]&1)&&R!==(R=cn(Oe[0])+"")&&P(D,R),(!$t||Qe[0]&1)&&M!==(M=Ff(cn(Oe[0]))+"")&&P(V,M),(!$t||Qe[0]&1&&N!==(N="c_"+Yf(cn(Oe[0]))+" fg_only"))&&fe(A,"class",N),(!$t||Qe[0]&1)&&F!==(F=Oe[0].description+"")&&P(Y,F),(!$t||Qe[0]&1)&&te!==(te=((ei=Oe[0].speed)!=null?ei:0)+"")&&P(me,te),(!$t||Qe[0]&1)&&ae!==(ae=((ti=Oe[0].melee_skill)!=null?ti:0)+"")&&P(ke,ae),(!$t||Qe[0]&1)&&Ue!==(Ue=Oe[2](Oe[0])+"")&&P(Ce,Ue),Oe[0].special_attacks?Yt?(Yt.p(Oe,Qe),Qe[0]&1&&b(Yt,1)):(Yt=wf(Oe),Yt.c(),b(Yt,1),Yt.m(ee,null)):Yt&&(Z(),v(Yt,1,1,()=>{Yt=null}),Q()),(!$t||Qe[0]&1)&&Me!==(Me=Oe[0].hp+"")&&P(Se,Me),Oe[0].regenerates?Zt?Zt.p(Oe,Qe):(Zt=Tf(Oe),Zt.c(),Zt.m(ye,ve)):Zt&&(Zt.d(1),Zt=null),(!$t||Qe[0]&1)&&Pe!==(Pe=((li=Oe[0].dodge)!=null?li:0)+"")&&P(Fe,Pe),(!$t||Qe[0]&1)&&Ke!==(Ke=((lt=Oe[0].armor_bash)!=null?lt:0)+"")&&P(Tt,Ke),(!$t||Qe[0]&1)&&gt!==(gt=((Tl=Oe[0].armor_cut)!=null?Tl:0)+"")&&P(Ht,gt),(!$t||Qe[0]&1)&&tt!==(tt=((vo=Oe[0].armor_stab)!=null?vo:Math.floor((($o=Oe[0].armor_cut)!=null?$o:0)*.8))+"")&&P(nt,tt),(!$t||Qe[0]&1)&&kt!==(kt=((ko=Oe[0].armor_bullet)!=null?ko:0)+"")&&P(_t,kt),(!$t||Qe[0]&1)&&mt!==(mt=((wo=Oe[0].armor_acid)!=null?wo:Math.floor(((yo=Oe[0].armor_cut)!=null?yo:0)*.5))+"")&&P(at,mt),(!$t||Qe[0]&1)&&bt!==(bt=((Eo=Oe[0].armor_fire)!=null?Eo:0)+"")&&P(wt,bt),Oe[0].special_when_hit?Qt?Qt.p(Oe,Qe):(Qt=Sf(Oe),Qt.c(),Qt.m(ye,null)):Qt&&(Qt.d(1),Qt=null),(!$t||Qe[0]&1)&&Pt!==(Pt=((To=Oe[0].aggression)!=null?To:0)+"")&&P(ht,Pt),(!$t||Qe[0]&1)&&ot!==(ot=((So=Oe[0].morale)!=null?So:0)+"")&&P(ft,ot),(!$t||Qe[0]&1)&&Dt!==(Dt=((Co=Oe[0].vision_day)!=null?Co:40)+"")&&P(Ut,Dt),(!$t||Qe[0]&1)&&Lt!==(Lt=((Io=Oe[0].vision_night)!=null?Io:1)+"")&&P(cl,Lt),(!$t||Qe[0]&1)&&De!==(De=Oe[0].default_faction+"")&&P(bl,De),(Ro=Oe[0].anger_triggers)!=null&&Ro.length?vt?vt.p(Oe,Qe):(vt=Cf(Oe),vt.c(),vt.m(Ze,Bl)):vt&&(vt.d(1),vt=null),(No=Oe[0].placate_triggers)!=null&&No.length?xt?xt.p(Oe,Qe):(xt=Rf(Oe),xt.c(),xt.m(Ze,Al)):xt&&(xt.d(1),xt=null),(Oo=Oe[0].fear_triggers)!=null&&Oo.length?_e?_e.p(Oe,Qe):(_e=Of(Oe),_e.c(),_e.m(Ze,Ml)):_e&&(_e.d(1),_e=null),(Bo=Oe[0].flags)!=null&&Bo.length?qe?qe.p(Oe,Qe):(qe=Af(Oe),qe.c(),qe.m(Ze,Dl)):qe&&(qe.d(1),qe=null),Oe[0].death_function?Et?Et.p(Oe,Qe):(Et=Df(Oe),Et.c(),Et.m(Ze,Ll)):Et&&(Et.d(1),Et=null),Oe[9]&&yl.p(Oe,Qe),(Ao=Oe[6])!=null&&Ao.length&&$l.p(Oe,Qe),Oe[7]&&((Mo=Oe[7].entries)!=null?Mo:[]).length&&wl.p(Oe,Qe),Oe[8]&&((Do=Oe[8].entries)!=null?Do:[]).length&&El.p(Oe,Qe)},i(Oe){$t||(b(l.$$.fragment,Oe),b(hl),b(Yt),b(yl),b($l),b(wl),b(El),$t=!0)},o(Oe){v(l.$$.fragment,Oe),v(hl),v(Yt),v(yl),v($l),v(wl),v(El),$t=!1},d(Oe){Oe&&h(e),G(l),Oe&&h(r),Oe&&h(f),Jt&&Jt.d(),Kt&&Kt.d(),hl&&hl.d(),Oe&&h(q),Oe&&h(W),Yt&&Yt.d(),Zt&&Zt.d(),Qt&&Qt.d(),Oe&&h(rt),Oe&&h(Rl),vt&&vt.d(),xt&&xt.d(),_e&&_e.d(),qe&&qe.d(),Et&&Et.d(),yl&&yl.d(),Oe&&h(Gl),$l&&$l.d(Oe),Oe&&h(Ul),wl&&wl.d(Oe),Oe&&h(ql),El&&El.d(Oe),Oe&&h(Pl)}}}function cn(i){const{melee_skill:e=0,melee_dice:l=0,melee_cut:t=0,melee_dice_sides:n=0,dodge:o=0,armor_bash:r=-1,armor_cut:f=-1,diff:a=0,special_attacks:s=[],emit_fields:u=[],hp:c,speed:m=0,attack_cost:$=100,morale:k=0,aggression:y=0,vision_day:T=40,vision_night:E=1}=i;let S=(e+1)*l*(t+n)*.04+(o+1)*(3+r+f)*.04+(a+s.length+8*u.length);return S=Math.floor(S),S*=(c+m-$+(k+y)*.1)*.01+(T+2*E)*.01,Math.floor(S)}function Ff(i){return i<3?"Minimal threat.":i<10?"Mildly dangerous.":i<20?"Dangerous.":i<30?"Very dangerous.":i<50?"Extremely dangerous.":"Fatally dangerous!"}function Yf(i){return i<3||i<10?"light_gray":i<20?"light_red":(i<30||i<50,"red")}function jf(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function P0(i){return[i.default].concat(i.monsters.map(e=>e.monster).filter(e=>e!==i.default)).filter(e=>e)}function F0(i,e,l){var $;let{item:t}=e,n=it("data");function o(k){let{melee_dice:y=0,melee_dice_sides:T=0,melee_damage:E=[],melee_cut:S}=k;const C=pn(E);return S&&C.push({damage_type:"cut",amount:S}),`${y}d${T} bash`+C.map(R=>` + ${R.amount} ${R.damage_type}`).join("")}const r={SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",PATH_AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",PATH_AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",PATH_AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",PATH_AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},f={FIRE:"Triggers if there's a fire within 3 tiles, the strength of the effect equals 5 * the field intensity of the fire.",FRIEND_ATTACKED:"Triggers if the monster sees another monster of the same type being attacked; strength = 15.",FRIEND_DIED:"Triggers if the monster sees another monster of the same type dying; strength = 15.",HURT:"Triggers when the monster is hurt, strength equals 1 + (damage / 3).",MEAT:"Meat or a corpse is nearby.",PLAYER_CLOSE:"Triggers when a potential enemy is within 5 tiles range.",PLAYER_WEAK:"Raises monster aggression by 10 - (percent of hp remaining / 10) if a potential enemy has less than 70% hp remaining",PLAYER_NEAR_BABY:"Increases monster aggression by 8 and morale by 4 if **the player** comes within 3 tiles of its offspring (defined by the baby_monster field in its reproduction data)",SOUND:"Not an actual trigger, monsters above 10 aggression and 0 morale will wander towards, monsters below 0 morale will wander away from the source of the sound for 1 turn (6, if they have the GOODHEARING flag).",STALK:"Raises monster aggresssion by 1, triggers 20% of the time each turn if aggression > 5.",HOSTILE_SEEN:"Increases aggression/decreases morale by a random amount between 0-2 for every potential enemy it can see, up to 20 aggression.",MATING_SEASON:"Increases aggression by 3 if a potential enemy is within 5 tiles range and the season is the same as the monster's mating season (defined by the baby_flags field in its reproduction data)."};let a=($=t.material)!=null?$:[],s=n.flatDeathDrops(t.id),u=t.harvest?n.byId("harvest",t.harvest):void 0,c=t.dissect?n.byId("harvest",t.dissect):void 0,m=t.upgrades&&(t.upgrades.into||t.upgrades.into_group)?{...t.upgrades,monsters:t.upgrades.into?[t.upgrades.into]:P0(n.byId("monstergroup",t.upgrades.into_group))}:null;return i.$$set=k=>{"item"in k&&l(0,t=k.item)},[t,n,o,r,f,a,s,u,c,m]}class Y0 extends Xe{constructor(e){super(),Ve(this,e,F0,q0,je,{item:0},null,[-1,-1])}}function Hf(i,e,l){const t=i.slice();return t[3]=e[l],t}function Wf(i,e,l){const t=i.slice();return t[6]=e[l],t}function zf(i){let e,l=i[6].string+"",t,n;return{c(){e=p("span"),t=w(l),fe(e,"class",n="c_"+i[6].color)},m(o,r){g(o,e,r),d(e,t)},p:x,d(o){o&&h(e)}}}function Vf(i){let e=`
`,l,t=i[3],n=[];for(let o=0;o<t.length;o+=1)n[o]=zf(Wf(i,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();l=w(e)},m(o,r){for(let f=0;f<n.length;f+=1)n[f].m(o,r);g(o,l,r)},p(o,r){if(r&1){t=o[3];let f;for(f=0;f<t.length;f+=1){const a=Wf(o,t,f);n[f]?n[f].p(a,r):(n[f]=zf(a),n[f].c(),n[f].m(l.parentNode,l))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}},d(o){ce(n,o),o&&h(l)}}}function j0(i){let e,l,t,n=i[0],o=[];for(let r=0;r<n.length;r+=1)o[r]=Vf(Hf(i,n,r));return{c(){e=p("pre"),l=w("");for(let r=0;r<o.length;r+=1)o[r].c();t=w(`
`),Je(e,"font-family","Unifont, monospace"),Je(e,"line-height","1")},m(r,f){g(r,e,f),d(e,l);for(let a=0;a<o.length;a+=1)o[a].m(e,null);d(e,t)},p(r,[f]){if(f&1){n=r[0];let a;for(a=0;a<n.length;a+=1){const s=Hf(r,n,a);o[a]?o[a].p(s,f):(o[a]=Vf(s),o[a].c(),o[a].m(e,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},i:x,o:x,d(r){r&&h(e),ce(o,r)}}}function H0(i,e,l){let{picture:t}=e,n=["white"];const o=[];for(const r of t.picture){const f=[];let a=r;for(;;){const u=a.match(/<\/?color([^>]*?)>/);if(u)u.index>0&&f.push({string:a.substring(0,u.index),color:n[0]}),u[0][1]==="/"&&n.length>1?n.shift():n.unshift(u[1].substring(1)),a=a.substring(u.index+u[0].length);else break}a.length&&f.push({string:a,color:n[0]});const s=41-f.reduce((u,c)=>u+c.string.length,0);s>0&&f.push({string:" ".repeat(s),color:n[0]}),o.push(f)}return i.$$set=r=>{"picture"in r&&l(1,t=r.picture)},[o,t]}class W0 extends Xe{constructor(e){super(),Ve(this,e,H0,j0,je,{picture:1})}}function Xf(i){var H,K,ee,ie,X;let e,l,t,n,o,r,f,a,s,u,c,m,$,k=((H=i[0].range)!=null?H:0)+"",y,T,E,S=((K=i[0].dispersion)!=null?K:0)+"",C,R,D,O=((ee=i[0].recoil)!=null?ee:0)+"",A,B,M,V=i[2](i[0]).toFixed(0)+"",J,N,j,z=((ie=i[0].critical_multiplier)!=null?ie:2)+"",F,Y,q;f=new ue({props:{type:"ammunition_type",id:i[0].ammo_type}});let W=i[0].casing&&Jf(i),re=((X=i[0].effects)==null?void 0:X.length)&&Kf(i);return{c(){var te,me,Ge;e=p("section"),l=p("h1"),l.textContent="Ammunition",t=I(),n=p("dl"),o=p("dt"),o.textContent="Ammunition Type",r=p("dd"),U(f.$$.fragment),a=p("dt"),a.textContent="Damage",s=p("dd"),s.textContent=`${(te=i[1].amount)!=null?te:0} (${(me=i[1].damage_type)!=null?me:"bullet"})`,u=p("dt"),u.textContent="Armor Penetration",c=p("dd"),c.textContent=`${(Ge=i[1].armor_penetration)!=null?Ge:0}`,m=p("dt"),m.textContent="Range",$=p("dd"),y=w(k),T=p("dt"),T.textContent="Dispersion",E=p("dd"),C=w(S),R=p("dt"),R.textContent="Recoil",D=p("dd"),A=w(O),B=p("dt"),B.textContent=`Loudness
      `,M=p("dd"),J=w(V),N=p("dt"),N.textContent="Critical Multiplier",j=p("dd"),F=w(z),W&&W.c(),Y=ne(),re&&re.c(),fe(B,"title","Base loudness of ammo (possibly modified by gun/gunmods)")},m(te,me){g(te,e,me),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),L(f,r,null),d(n,a),d(n,s),d(n,u),d(n,c),d(n,m),d(n,$),d($,y),d(n,T),d(n,E),d(E,C),d(n,R),d(n,D),d(D,A),d(n,B),d(n,M),d(M,J),d(n,N),d(n,j),d(j,F),W&&W.m(n,null),d(n,Y),re&&re.m(n,null),q=!0},p(te,me){var Ie,ae,ke,Ee,de;const Ge={};me&1&&(Ge.id=te[0].ammo_type),f.$set(Ge),(!q||me&1)&&k!==(k=((Ie=te[0].range)!=null?Ie:0)+"")&&P(y,k),(!q||me&1)&&S!==(S=((ae=te[0].dispersion)!=null?ae:0)+"")&&P(C,S),(!q||me&1)&&O!==(O=((ke=te[0].recoil)!=null?ke:0)+"")&&P(A,O),(!q||me&1)&&V!==(V=te[2](te[0]).toFixed(0)+"")&&P(J,V),(!q||me&1)&&z!==(z=((Ee=te[0].critical_multiplier)!=null?Ee:2)+"")&&P(F,z),te[0].casing?W?(W.p(te,me),me&1&&b(W,1)):(W=Jf(te),W.c(),b(W,1),W.m(n,Y)):W&&(Z(),v(W,1,1,()=>{W=null}),Q()),(de=te[0].effects)!=null&&de.length?re?re.p(te,me):(re=Kf(te),re.c(),re.m(n,null)):re&&(re.d(1),re=null)},i(te){q||(b(f.$$.fragment,te),b(W),q=!0)},o(te){v(f.$$.fragment,te),v(W),q=!1},d(te){te&&h(e),G(f),W&&W.d(),re&&re.d()}}}function Jf(i){let e,l,t,n;return t=new ue({props:{id:i[0].casing,type:"item"}}),{c(){e=p("dt"),e.textContent="Casing",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].casing),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function Kf(i){let e,l,t=i[0].effects.join(", ")+"",n;return{c(){e=p("dt"),e.textContent="Effects",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].effects.join(", ")+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function z0(i){let e,l,t=(i[0].damage||i[0].show_stats)&&Xf(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].damage||n[0].show_stats?t?(t.p(n,o),o&1&&b(t,1)):(t=Xf(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function V0(i,e,l){var r;let{item:t}=e;const n=Array.isArray(t.damage)?t.damage[0]:t.damage&&"values"in t.damage?t.damage.values[0]:(r=t.damage)!=null?r:{amount:0,damage_type:"bullet",armor_penetration:0};function o(f){var a,s,u,c,m;return((a=f.loudness)!=null?a:-1)>=0?(s=f.loudness)!=null?s:0:((u=f.range)!=null?u:0)*2+((c=n.amount)!=null?c:0)*((m=n.armor_penetration)!=null?m:0)}return i.$$set=f=>{"item"in f&&l(0,t=f.item)},[t,n,o]}class X0 extends Xe{constructor(e){super(),Ve(this,e,V0,z0,je,{item:0})}}function Pi(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function J0(i){var l;let e=new Map;for(const[t,n]of i){const o=(l=e.get(t))!=null?l:[];o.push(n),e.set(t,o)}return e}function Zr(i,e){const l=new Map;for(const t of i){const n=e(t);for(const o of n)l.has(o)||l.set(o,[]),l.get(o).push(t)}return l}function K0(i,e=l=>l){const l=new Set,t=[];for(const n of i){const o=e(n);l.has(o)||t.push(n),l.add(o)}return t}function Zf(i,e,l){const t=i.slice();t[18]=e[l];const n=t[18].apd;return t[19]=n,t}function Qf(i,e,l){const t=i.slice();t[22]=e[l];const n=t[1].byId("material",t[22].type);return t[23]=n,t}function xf(i,e,l){const t=i.slice();t[22]=e[l];const n=t[1].byId("material",t[22].type);return t[23]=n,t}function es(i,e,l){const t=i.slice();t[22]=e[l];const n=t[1].byId("material",t[22].type);return t[23]=n,t}function ts(i,e,l){const t=i.slice();return t[22]=e[l],t}function ls(i,e,l){const t=i.slice();return t[22]=e[l],t}function ns(i,e,l){const t=i.slice();return t[22]=e[l],t}function Z0(i){let e;return{c(){e=w("Normal")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Q0(i){let e;return{c(){e=w("Outer aura")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function x0(i){let e;return{c(){e=w("Waist")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function eb(i){let e;return{c(){e=w("Outer")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function tb(i){let e;return{c(){e=w("Strapped")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function lb(i){let e;return{c(){e=w("Close to skin")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function nb(i){let e;return{c(){e=w("Personal aura")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function is(i){let e,l;return{c(){e=p("dt"),e.textContent="Sided",l=p("dd"),l.textContent="Yes"},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function ib(i){let e,l=i[2](i[18].apd.specifically_covers).join(", ")+"",t,n;return{c(){e=w("("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function rb(i){let e,l,t,n=i[18].apd.coverage+"",o,r,f,a,s=i[18].apd.coverage!==i[18].apd.cover_melee&&fb(i),u=i[18].apd.coverage!==i[18].apd.cover_ranged&&sb(i),c=i[18].apd.cover_vitals&&ab(i);return{c(){e=p("dl"),l=p("dt"),l.textContent="Default",t=p("dd"),o=w(n),r=w("%"),s&&s.c(),f=ne(),u&&u.c(),a=ne(),c&&c.c(),fe(e,"class","svelte-1i5r9mc")},m(m,$){g(m,e,$),d(e,l),d(e,t),d(t,o),d(t,r),s&&s.m(e,null),d(e,f),u&&u.m(e,null),d(e,a),c&&c.m(e,null)},p(m,$){m[18].apd.coverage!==m[18].apd.cover_melee&&s.p(m,$),m[18].apd.coverage!==m[18].apd.cover_ranged&&u.p(m,$),m[18].apd.cover_vitals&&c.p(m,$)},d(m){m&&h(e),s&&s.d(),u&&u.d(),c&&c.d()}}}function ob(i){let e=i[18].apd.coverage+"",l,t;return{c(){l=w(e),t=w("%")},m(n,o){g(n,l,o),g(n,t,o)},p:x,d(n){n&&h(l),n&&h(t)}}}function fb(i){let e,l,t=i[18].apd.cover_melee+"",n,o;return{c(){e=p("dt"),e.textContent="Melee",l=p("dd"),n=w(t),o=w("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p:x,d(r){r&&h(e),r&&h(l)}}}function sb(i){let e,l,t=i[18].apd.cover_ranged+"",n,o;return{c(){e=p("dt"),e.textContent="Ranged",l=p("dd"),n=w(t),o=w("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p:x,d(r){r&&h(e),r&&h(l)}}}function ab(i){let e,l,t=i[18].apd.cover_vitals+"",n,o;return{c(){e=p("dt"),e.textContent="Vitals",l=p("dd"),n=w(t),o=w("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p:x,d(r){r&&h(e),r&&h(l)}}}function ub(i){let e,l,t,n=i[7](i[18].bp_ids[0]).toFixed(2)+"",o,r,f,a=i[8](i[18].bp_ids[0]).toFixed(2)+"",s,u,c;return{c(){e=p("dl"),l=p("dt"),l.textContent="Acid",t=p("dd"),o=w(n),r=p("dt"),r.textContent="Fire",f=p("dd"),s=w(a),u=p("dt"),u.textContent="Environ.",c=p("dd"),c.textContent=`${i[6]()}`,fe(e,"class","protection-env svelte-1i5r9mc")},m(m,$){g(m,e,$),d(e,l),d(e,t),d(t,o),d(e,r),d(e,f),d(f,s),d(e,u),d(e,c)},p:x,d(m){m&&h(e)}}}function rs(i){let e,l,t;return l=new ue({props:{type:"material",id:i[22].type}}),{c(){e=p("td"),U(l.$$.fragment),Je(e,"writing-mode","vertical-rl"),Je(e,"text-align","right"),Je(e,"vertical-align","middle"),fe(e,"class","svelte-1i5r9mc")},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function os(i){var o;let e,l=((o=i[22].thickness)!=null?o:0).toFixed(1)+"",t,n;return{c(){e=p("td"),t=w(l),n=w("mm"),fe(e,"class","svelte-1i5r9mc")},m(r,f){g(r,e,f),d(e,t),d(e,n)},p:x,d(r){r&&h(e)}}}function fs(i){var o;let e,l=((o=i[22].covered_by_mat)!=null?o:100).toFixed(0)+"",t,n;return{c(){e=p("td"),t=w(l),n=w("%"),fe(e,"class","svelte-1i5r9mc")},m(r,f){g(r,e,f),d(e,t),d(e,n)},p:x,d(r){r&&h(e)}}}function ss(i){let e,l=(i[23].bash_resist*i[22].thickness).toFixed(2)+"",t;return{c(){e=p("td"),t=w(l),fe(e,"class","svelte-1i5r9mc")},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function as(i){let e,l=(i[23].cut_resist*i[22].thickness).toFixed(2)+"",t;return{c(){e=p("td"),t=w(l),fe(e,"class","svelte-1i5r9mc")},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function us(i){let e,l=(i[23].bullet_resist*i[22].thickness).toFixed(2)+"",t;return{c(){e=p("td"),t=w(l),fe(e,"class","svelte-1i5r9mc")},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function cs(i){var Be;let e,l,t=i[4](i[18].bp_ids)+"",n,o,r,f,a,s,u=i[5](i[18])+"",c,m,$,k,y,T,E=i[6](),S,C,R,D,O,A,B,M,V,J,N,j,z,F,Y,q,W,re,H,K,ee,ie,X,te,me,Ge,Ie,ae,ke=((Be=i[18].apd.specifically_covers)==null?void 0:Be.length)&&ib(i);function Ee(oe,Te){return oe[18].apd.coverage===oe[18].apd.cover_melee&&oe[18].apd.coverage===oe[18].apd.cover_ranged&&oe[18].apd.cover_vitals===0?ob:rb}let Ue=Ee(i)(i),Ce=E&&ub(i),ge=i[19].material,$e=[];for(let oe=0;oe<ge.length;oe+=1)$e[oe]=rs(ns(i,ge,oe));const xe=oe=>v($e[oe],1,1,()=>{$e[oe]=null});let se=i[19].material,ye=[];for(let oe=0;oe<se.length;oe+=1)ye[oe]=os(ls(i,se,oe));let ze=i[19].material,Ne=[];for(let oe=0;oe<ze.length;oe+=1)Ne[oe]=fs(ts(i,ze,oe));let Me=i[19].material,Se=[];for(let oe=0;oe<Me.length;oe+=1)Se[oe]=ss(es(i,Me,oe));let ve=i[19].material,Ae=[];for(let oe=0;oe<ve.length;oe+=1)Ae[oe]=as(xf(i,ve,oe));let Pe=i[19].material,Fe=[];for(let oe=0;oe<Pe.length;oe+=1)Fe[oe]=us(Qf(i,Pe,oe));return{c(){e=p("div"),l=p("h2"),n=w(t),o=I(),ke&&ke.c(),r=I(),f=p("dl"),a=p("dt"),a.textContent="Encumbrance",s=p("dd"),c=w(u),m=p("dt"),m.textContent="Coverage",$=p("dd"),Ue.c(),k=I(),y=p("dt"),y.textContent="Protection",T=p("dd"),Ce&&Ce.c(),S=I(),C=p("table"),R=p("tbody"),D=p("tr"),O=p("td"),A=I();for(let oe=0;oe<$e.length;oe+=1)$e[oe].c();B=I(),M=p("tr"),V=p("td"),V.textContent="Thickness",J=I();for(let oe=0;oe<ye.length;oe+=1)ye[oe].c();N=I(),j=p("tr"),z=p("td"),z.textContent="Coverage",F=I();for(let oe=0;oe<Ne.length;oe+=1)Ne[oe].c();Y=I(),q=p("tr"),W=p("td"),W.textContent="Bash",re=I();for(let oe=0;oe<Se.length;oe+=1)Se[oe].c();H=I(),K=p("tr"),ee=p("td"),ee.textContent="Cut",ie=I();for(let oe=0;oe<Ae.length;oe+=1)Ae[oe].c();X=I(),te=p("tr"),me=p("td"),me.textContent="Ballistic",Ge=I();for(let oe=0;oe<Fe.length;oe+=1)Fe[oe].c();Ie=I(),fe(l,"class","svelte-1i5r9mc"),fe(O,"class","svelte-1i5r9mc"),fe(D,"class","svelte-1i5r9mc"),fe(V,"class","svelte-1i5r9mc"),fe(M,"class","svelte-1i5r9mc"),fe(z,"class","svelte-1i5r9mc"),fe(j,"class","svelte-1i5r9mc"),fe(W,"class","svelte-1i5r9mc"),fe(q,"class","svelte-1i5r9mc"),fe(ee,"class","svelte-1i5r9mc"),fe(K,"class","svelte-1i5r9mc"),fe(me,"class","svelte-1i5r9mc"),fe(te,"class","svelte-1i5r9mc"),Je(C,"text-align","center"),fe(C,"class","svelte-1i5r9mc"),fe(T,"class","protection svelte-1i5r9mc"),fe(f,"class","svelte-1i5r9mc"),fe(e,"class","body-part svelte-1i5r9mc")},m(oe,Te){g(oe,e,Te),d(e,l),d(l,n),d(l,o),ke&&ke.m(l,null),d(e,r),d(e,f),d(f,a),d(f,s),d(s,c),d(f,m),d(f,$),Ue.m($,null),d($,k),d(f,y),d(f,T),Ce&&Ce.m(T,null),d(T,S),d(T,C),d(C,R),d(R,D),d(D,O),d(D,A);for(let Re=0;Re<$e.length;Re+=1)$e[Re].m(D,null);d(R,B),d(R,M),d(M,V),d(M,J);for(let Re=0;Re<ye.length;Re+=1)ye[Re].m(M,null);d(R,N),d(R,j),d(j,z),d(j,F);for(let Re=0;Re<Ne.length;Re+=1)Ne[Re].m(j,null);d(R,Y),d(R,q),d(q,W),d(q,re);for(let Re=0;Re<Se.length;Re+=1)Se[Re].m(q,null);d(R,H),d(R,K),d(K,ee),d(K,ie);for(let Re=0;Re<Ae.length;Re+=1)Ae[Re].m(K,null);d(R,X),d(R,te),d(te,me),d(te,Ge);for(let Re=0;Re<Fe.length;Re+=1)Fe[Re].m(te,null);d(e,Ie),ae=!0},p(oe,Te){var Re;if((Re=oe[18].apd.specifically_covers)!=null&&Re.length&&ke.p(oe,Te),Ue.p(oe,Te),E&&Ce.p(oe,Te),Te[0]&8){ge=oe[19].material;let we;for(we=0;we<ge.length;we+=1){const Ke=ns(oe,ge,we);$e[we]?($e[we].p(Ke,Te),b($e[we],1)):($e[we]=rs(Ke),$e[we].c(),b($e[we],1),$e[we].m(D,null))}for(Z(),we=ge.length;we<$e.length;we+=1)xe(we);Q()}if(Te[0]&8){se=oe[19].material;let we;for(we=0;we<se.length;we+=1){const Ke=ls(oe,se,we);ye[we]?ye[we].p(Ke,Te):(ye[we]=os(Ke),ye[we].c(),ye[we].m(M,null))}for(;we<ye.length;we+=1)ye[we].d(1);ye.length=se.length}if(Te[0]&8){ze=oe[19].material;let we;for(we=0;we<ze.length;we+=1){const Ke=ts(oe,ze,we);Ne[we]?Ne[we].p(Ke,Te):(Ne[we]=fs(Ke),Ne[we].c(),Ne[we].m(j,null))}for(;we<Ne.length;we+=1)Ne[we].d(1);Ne.length=ze.length}if(Te[0]&10){Me=oe[19].material;let we;for(we=0;we<Me.length;we+=1){const Ke=es(oe,Me,we);Se[we]?Se[we].p(Ke,Te):(Se[we]=ss(Ke),Se[we].c(),Se[we].m(q,null))}for(;we<Se.length;we+=1)Se[we].d(1);Se.length=Me.length}if(Te[0]&10){ve=oe[19].material;let we;for(we=0;we<ve.length;we+=1){const Ke=xf(oe,ve,we);Ae[we]?Ae[we].p(Ke,Te):(Ae[we]=as(Ke),Ae[we].c(),Ae[we].m(K,null))}for(;we<Ae.length;we+=1)Ae[we].d(1);Ae.length=ve.length}if(Te[0]&10){Pe=oe[19].material;let we;for(we=0;we<Pe.length;we+=1){const Ke=Qf(oe,Pe,we);Fe[we]?Fe[we].p(Ke,Te):(Fe[we]=us(Ke),Fe[we].c(),Fe[we].m(te,null))}for(;we<Fe.length;we+=1)Fe[we].d(1);Fe.length=Pe.length}},i(oe){if(!ae){for(let Te=0;Te<ge.length;Te+=1)b($e[Te]);ae=!0}},o(oe){$e=$e.filter(Boolean);for(let Te=0;Te<$e.length;Te+=1)v($e[Te]);ae=!1},d(oe){oe&&h(e),ke&&ke.d(),Ue.d(),Ce&&Ce.d(),ce($e,oe),ce(ye,oe),ce(Ne,oe),ce(Se,oe),ce(Ae,oe),ce(Fe,oe)}}}function cb(i){var N;let e,l,t,n,o,r,f,a,s,u,c,m,$,k,y,T=((N=i[0].warmth)!=null?N:0)+"",E,S,C,R;function D(j,z){var F,Y,q,W,re,H;return z[0]&1&&(f=null),z[0]&1&&(a=null),z[0]&1&&(s=null),z[0]&1&&(u=null),z[0]&1&&(c=null),z[0]&1&&(m=null),f==null&&(f=!!((F=j[0].flags)!=null?F:[]).includes("PERSONAL")),f?nb:(a==null&&(a=!!((Y=j[0].flags)!=null?Y:[]).includes("SKINTIGHT")),a?lb:(s==null&&(s=!!((q=j[0].flags)!=null?q:[]).includes("BELTED")),s?tb:(u==null&&(u=!!((W=j[0].flags)!=null?W:[]).includes("OUTER")),u?eb:(c==null&&(c=!!((re=j[0].flags)!=null?re:[]).includes("WAIST")),c?x0:(m==null&&(m=!!((H=j[0].flags)!=null?H:[]).includes("AURA")),m?Q0:Z0)))))}let O=D(i,[-1,-1]),A=O(i),B=i[0].sided&&is(),M=i[3],V=[];for(let j=0;j<M.length;j+=1)V[j]=cs(Zf(i,M,j));const J=j=>v(V[j],1,1,()=>{V[j]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Armor",t=I(),n=p("dl"),o=p("dt"),o.textContent="Layer",r=p("dd"),A.c(),$=I(),k=p("dt"),k.textContent="Warmth",y=p("dd"),E=w(T),B&&B.c(),S=I(),C=p("div");for(let j=0;j<V.length;j+=1)V[j].c();fe(C,"class","body-parts svelte-1i5r9mc")},m(j,z){g(j,e,z),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),A.m(r,null),d(r,$),d(n,k),d(n,y),d(y,E),B&&B.m(n,null),d(e,S),d(e,C);for(let F=0;F<V.length;F+=1)V[F].m(C,null);R=!0},p(j,z){var F;if(O!==(O=D(j,z))&&(A.d(1),A=O(j),A&&(A.c(),A.m(r,$))),(!R||z[0]&1)&&T!==(T=((F=j[0].warmth)!=null?F:0)+"")&&P(E,T),j[0].sided?B||(B=is(),B.c(),B.m(n,null)):B&&(B.d(1),B=null),z[0]&510){M=j[3];let Y;for(Y=0;Y<M.length;Y+=1){const q=Zf(j,M,Y);V[Y]?(V[Y].p(q,z),b(V[Y],1)):(V[Y]=cs(q),V[Y].c(),b(V[Y],1),V[Y].m(C,null))}for(Z(),Y=M.length;Y<V.length;Y+=1)J(Y);Q()}},i(j){if(!R){for(let z=0;z<M.length;z+=1)b(V[z]);R=!0}},o(j){V=V.filter(Boolean);for(let z=0;z<V.length;z+=1)v(V[z]);R=!1},d(j){j&&h(e),A.d(),B&&B.d(),ce(V,j)}}}function _b(i,e){const[l,t]=typeof i=="number"?[i,i]:i,[n,o]=typeof e=="number"?[e,e]:e;return[l+n,t+o]}function db(i){return typeof i=="string"?{type:i}:{...i}}function mb(i){return typeof i[0]=="string"}function pb(i,e,l){var D,O,A,B,M,V,J,N,j,z,F,Y,q,W,re,H,K,ee,ie,X,te,me,Ge,Ie,ae,ke,Ee,de,Ue,Ce,ge,$e,xe,se,ye,ze,Ne,Me,Se;let{item:t}=e,n=it("data");const o=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:mb(t.material)?t.material.map(ve=>({type:ve,portion:1})):t.material.map(ve=>({portion:1,...ve})),r=o.reduce((ve,Ae)=>ve+Ae.portion,0),f=[];for(const ve of(D=t.armor)!=null?D:[]){const Ae=(A=(O=ve.material)==null?void 0:O.map(db))!=null?A:o.map(Pe=>{var Fe;return{type:Pe.type,covered_by_mat:100,thickness:Pe.portion/r*((Fe=t.material_thickness)!=null?Fe:0)}});for(const Pe of K0(ve.covers)){const Fe=n.byId("body_part",Pe),Be=f.find(oe=>oe.covers.includes(Pe));if(Be){Be.encumbrance=_b((B=Be.encumbrance)!=null?B:0,(M=ve.encumbrance)!=null?M:0);const oe=y(Fe,ve)/100,Te=y(Fe,Be)/100;Be.coverage+=((V=ve.coverage)!=null?V:0)*oe|0,Be.cover_melee+=((J=ve.cover_melee)!=null?J:0)*oe|0,Be.cover_ranged+=((N=ve.cover_ranged)!=null?N:0)*oe|0,Be.cover_vitals=((j=Be.cover_vitals)!=null?j:0)+((z=ve.cover_vitals)!=null?z:0),Be.material_thickness=(((Y=(F=ve.material_thickness)!=null?F:t.material_thickness)!=null?Y:0)*oe+((W=(q=Be.material_thickness)!=null?q:t.material_thickness)!=null?W:0)*Te)/(oe+Te),Be.environmental_protection=(((H=(re=ve.environmental_protection)!=null?re:t.environmental_protection)!=null?H:0)*oe+((ee=(K=Be.environmental_protection)!=null?K:t.environmental_protection)!=null?ee:0)*Te)/(oe+Te)|0,Be.environmental_protection_with_filter=(((X=(ie=ve.environmental_protection_with_filter)!=null?ie:t.environmental_protection_with_filter)!=null?X:0)*oe+((me=(te=Be.environmental_protection_with_filter)!=null?te:t.environmental_protection_with_filter)!=null?me:0)*Te)/(oe+Te)|0,Be.layers=(Ge=Be.layers)!=null?Ge:[];for(const Re of(Ie=ve.layers)!=null?Ie:[])Be.layers.includes(Re)||Be.layers.push(Re);for(const Re of Ae){const we=Be.material.find(Ke=>Ke.type===Re.type);if(we){const Ke=y(Fe,ve),Tt=y(Fe,Be);we.covered_by_mat=((ae=we.covered_by_mat)!=null?ae:100)+((ke=Re.covered_by_mat)!=null?ke:100)*Ke/100|0,we.thickness=(Ke*((Ee=Re.thickness)!=null?Ee:0)+Tt*((de=we.thickness)!=null?de:0))/(Tt+Ke)}else{const Ke=y(Fe,ve),Tt=JSON.parse(JSON.stringify(Re));Tt.covered_by_mat=((Ue=Re.covered_by_mat)!=null?Ue:100)*Ke/100,Be.material.push(Tt)}}for(const Re of(Ce=ve.specifically_covers)!=null?Ce:[])(ge=Be.specifically_covers)!=null&&ge.includes(Re)||(Be.specifically_covers==null&&(Be.specifically_covers=[]),Be.specifically_covers.push(Re))}else{const oe=JSON.parse(JSON.stringify(ve));oe.covers=[Pe];const Te=y(Fe,oe)/100,Re=($e=oe.coverage)!=null?$e:0;oe.coverage=Re*Te|0,oe.cover_melee=((xe=oe.cover_melee)!=null?xe:Re)*Te|0,oe.cover_ranged=((se=oe.cover_ranged)!=null?se:Re)*Te|0,oe.material=JSON.parse(JSON.stringify(Ae));for(const we of(ye=oe.material)!=null?ye:[])we.covered_by_mat=((ze=we.covered_by_mat)!=null?ze:100)*oe.coverage/100;f.push(oe)}}}for(const ve of f)for(const Ae of(Ne=ve.material)!=null?Ne:[])Ae.covered_by_mat=((Me=Ae.covered_by_mat)!=null?Me:100)/((Se=ve.coverage)!=null?Se:0)*100|0;function a(ve){const Ae=new Set,Pe=[];for(const Fe of ve!=null?ve:[]){if(Ae.has(Fe))continue;const Be=n.byId("body_part",Fe);Be.opposite_part&&ve.includes(Be.opposite_part)?(Pe.push(Be.heading_multiple),Ae.add(Be.opposite_part)):Pe.push(Be.heading),Ae.add(Fe)}return Pe}function s(ve){const Ae=new Set,Pe=[];for(const Fe of ve!=null?ve:[]){if(Ae.has(Fe))continue;const Be=n.byId("sub_body_part",Fe);Be.opposite&&ve.includes(Be.opposite)?(Pe.push(Vt(Be.name_multiple)),Ae.add(Be.opposite)):Pe.push(Vt(Be.name)),Ae.add(Fe)}return Pe}const u=[...new Set(f.flatMap(ve=>ve.covers))],m=[...Zr(u,ve=>{const{covers:Ae,...Pe}=f.find(Fe=>Fe.covers.includes(ve));return[JSON.stringify(Pe)]}).values()].map(ve=>{const Ae=f.find(Pe=>Pe.covers.includes(ve[0]));return{bp_ids:ve,apd:Ae}}),$=ve=>a(ve).join(", "),k=ve=>{var Fe;const[Ae,Pe]=typeof ve.apd.encumbrance=="number"?[ve.apd.encumbrance,ve.apd.encumbrance]:(Fe=ve.apd.encumbrance)!=null?Fe:[0,0];return Ae===Pe?`${Ae}`:`${Ae} (${Pe} when full)`};function y(ve,Ae){var oe,Te;if(!((oe=ve.sub_parts)!=null&&oe.length))return 100;let Pe=0,Fe=0;const Be=((Te=Ae.specifically_covers)!=null?Te:[]).length?Ae.specifically_covers.map(Re=>n.byId("sub_body_part",Re)):n.byType("sub_body_part").filter(Re=>Re.parent===ve.id);for(const Re of Be)ve.id===Re.parent&&(Re.secondary?Fe+=Re.max_coverage:Pe+=Re.max_coverage);return Math.max(Pe,Fe)}function T(ve){var Ae;for(const Pe of f)if((Ae=Pe.covers)!=null&&Ae.includes(ve))return Pe.material;return[]}function E(){return f.length===0?0:f.reduce((Ae,Pe)=>{var Fe,Be;return Ae+((Be=(Fe=Pe.environmental_protection)!=null?Fe:t.environmental_protection)!=null?Be:0)},0)/f.length}function S(ve){var oe;{const Te=T(ve);if(Te!=null&&Te.length){let Re=0;for(const Ke of Te)Re+=n.byId("material",Ke.type).acid_resist*((oe=Ke.covered_by_mat)!=null?oe:0)*.01;const we=E();return we<10&&(Re*=we/10),Re}}let Ae=0;const{mats:Pe,total:Fe}=R();if(Pe.length){for(const Te of Pe)Ae+=n.byId("material",Te.type).acid_resist;Ae/=Fe}const Be=E();return Be<10&&(Ae*=Be/10),Ae}function C(ve){var oe;{const Te=T(ve);if(Te!=null&&Te.length){let Re=0;for(const Ke of Te)Re+=n.byId("material",Ke.type).fire_resist*((oe=Ke.covered_by_mat)!=null?oe:0)*.01;const we=E();return we<10&&(Re*=we/10),Re}}let Ae=0;const{mats:Pe,total:Fe}=R();if(Pe.length){for(const Te of Pe)Ae+=n.byId("material",Te.type).fire_resist;Ae/=Fe}const Be=E();return Be<10&&(Ae*=Be/10),Ae}function R(){var Pe;let ve=0;const Ae=[];if(Array.isArray(t.material)){for(const Fe of t.material)if(typeof Fe=="string")Ae.push({type:Fe,portion:1}),ve+=1;else if(typeof Fe=="object"){const Be={type:Fe.type,portion:(Pe=Fe.portion)!=null?Pe:1};ve+=Be.portion,Ae.push(Be)}}return{mats:Ae,total:ve}}return i.$$set=ve=>{"item"in ve&&l(0,t=ve.item)},[t,n,s,m,$,k,E,S,C]}class hb extends Xe{constructor(e){super(),Ve(this,e,pb,cb,je,{item:0},null,[-1,-1])}}function _s(i,e,l){const t=i.slice();return t[11]=e[l],t}function ds(i,e,l){const t=i.slice();return t[14]=e[l],t[16]=l,t}function ms(i,e,l){const t=i.slice();return t[11]=e[l],t}function ps(i,e,l){const t=i.slice();return t[14]=e[l],t[16]=l,t}function hs(i,e,l){const t=i.slice();return t[20]=e[l][0],t[21]=e[l][1],t}function gb(i){let e,l,t;return{c(){e=w("The "),l=p("strong"),l.textContent="head",t=w(".")},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function bb(i){let e,l,t;return{c(){e=w("The "),l=p("strong"),l.textContent="eyes",t=w(".")},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function $b(i){let e,l,t;return{c(){e=w("The "),l=p("strong"),l.textContent="mouth",t=w(".")},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function vb(i){let e,l,t;return{c(){e=w("The "),l=p("strong"),l.textContent="torso",t=w(".")},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function kb(i){let e,l,t,n,o;return{c(){e=w("The "),l=p("strong"),t=w("right "),n=w(i[20]),o=w(".")},m(r,f){g(r,e,f),g(r,l,f),d(l,t),d(l,n),g(r,o,f)},d(r){r&&h(e),r&&h(l),r&&h(o)}}}function yb(i){let e,l,t,n,o;return{c(){e=w("The "),l=p("strong"),t=w("left "),n=w(i[20]),o=w(".")},m(r,f){g(r,e,f),g(r,l,f),d(l,t),d(l,n),g(r,o,f)},d(r){r&&h(e),r&&h(l),r&&h(o)}}}function wb(i){let e,l,t,n;return{c(){e=w("The "),l=p("strong"),t=w(i[21]),n=w(".")},m(o,r){g(o,e,r),g(o,l,r),d(l,t),g(o,n,r)},d(o){o&&h(e),o&&h(l),o&&h(n)}}}function Eb(i){let e,l,t,n;return{c(){e=w("Either "),l=p("strong"),t=w(i[20]),n=w(".")},m(o,r){g(o,e,r),g(o,l,r),d(l,t),g(o,n,r)},d(o){o&&h(e),o&&h(l),o&&h(n)}}}function gs(i){let e,l,t,n,o,r=" ",f;function a(c,m){if(m&1&&(e=null),e==null&&(e=!!(c[0].sided&&(c[3](`${c[20]}_l`)||c[3](`${c[20]}_r`)))),e)return Eb;if(l==null&&(l=!!(c[3](`${c[20]}_l`)&&c[3](`${c[20]}_r`))),l)return wb;if(t==null&&(t=!!c[3](`${c[20]}_l`)),t)return yb;if(n==null&&(n=!!c[3](`${c[20]}_r`)),n)return kb}let s=a(i,-1),u=s&&s(i);return{c(){u&&u.c(),o=I(),f=w(r)},m(c,m){u&&u.m(c,m),g(c,o,m),g(c,f,m)},p(c,m){s!==(s=a(c,m))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(o.parentNode,o)))},d(c){u&&u.d(c),c&&h(o),c&&h(f)}}}function Tb(i){let e;return{c(){e=w("Nothing.")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Sb(i){let e;return{c(){e=w("Normal")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Cb(i){let e;return{c(){e=w("Outer aura")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Ib(i){let e;return{c(){e=w("Waist")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Rb(i){let e;return{c(){e=w("Outer")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Nb(i){let e;return{c(){e=w("Strapped")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Ob(i){let e;return{c(){e=w("Close to skin")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Bb(i){let e;return{c(){e=w("Personal aura")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Ab(i){var o;let e=((o=i[0].encumbrance)!=null?o:0)+"",l,t,n=i[0].max_encumbrance&&bs(i);return{c(){l=w(e),n&&n.c(),t=ne()},m(r,f){g(r,l,f),n&&n.m(r,f),g(r,t,f)},p(r,f){var a;f&1&&e!==(e=((a=r[0].encumbrance)!=null?a:0)+"")&&P(l,e),r[0].max_encumbrance?n?n.p(r,f):(n=bs(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&h(l),n&&n.d(r),r&&h(t)}}}function Mb(i){let e,l=i[5],t=[];for(let n=0;n<l.length;n+=1)t[n]=vs(ms(i,l,n));return{c(){e=p("dl");for(let n=0;n<t.length;n+=1)t[n].c()},m(n,o){g(n,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(n,o){if(o&96){l=n[5];let r;for(r=0;r<l.length;r+=1){const f=ms(n,l,r);t[r]?t[r].p(f,o):(t[r]=vs(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){n&&h(e),ce(t,n)}}}function bs(i){let e=" ",l,t,n=i[0].max_encumbrance+"",o,r;return{c(){l=w(e),t=w("("),o=w(n),r=w(" when full)")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&1&&n!==(n=f[0].max_encumbrance+"")&&P(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function Db(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function $s(i){let e=i[14]+"",l,t=i[16]!==0&&Db();return{c(){t&&t.c(),l=w(e)},m(n,o){t&&t.m(n,o),g(n,l,o)},p:x,d(n){t&&t.d(n),n&&h(l)}}}function Lb(i){var t;let e=((t=i[11].encumbrance)!=null?t:0)+"",l;return{c(){l=w(e)},m(n,o){g(n,l,o)},p:x,d(n){n&&h(l)}}}function Gb(i){let e=i[11].encumbrance[0]+"",l,t,n,o=i[11].encumbrance[1]!==i[11].encumbrance[0]&&Ub(i);return{c(){l=w(e),t=I(),o&&o.c(),n=ne()},m(r,f){g(r,l,f),g(r,t,f),o&&o.m(r,f),g(r,n,f)},p(r,f){r[11].encumbrance[1]!==r[11].encumbrance[0]&&o.p(r,f)},d(r){r&&h(l),r&&h(t),o&&o.d(r),r&&h(n)}}}function Ub(i){let e,l=i[11].encumbrance[1]+"",t,n;return{c(){e=w("("),t=w(l),n=w(" when full)")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function vs(i){let e,l,t,n,o=i[6](i[11]),r=[];for(let u=0;u<o.length;u+=1)r[u]=$s(ps(i,o,u));function f(u,c){return Array.isArray(u[11].encumbrance)?Gb:Lb}let s=f(i)(i);return{c(){e=p("dt");for(let u=0;u<r.length;u+=1)r[u].c();l=I(),t=p("dd"),s.c(),n=I()},m(u,c){g(u,e,c);for(let m=0;m<r.length;m+=1)r[m].m(e,null);d(e,l),g(u,t,c),s.m(t,null),d(t,n)},p(u,c){if(c&96){o=u[6](u[11]);let m;for(m=0;m<o.length;m+=1){const $=ps(u,o,m);r[m]?r[m].p($,c):(r[m]=$s($),r[m].c(),r[m].m(e,l))}for(;m<r.length;m+=1)r[m].d(1);r.length=o.length}s.p(u,c)},d(u){u&&h(e),ce(r,u),u&&h(t),s.d()}}}function qb(i){var n;let e=((n=i[0].coverage)!=null?n:0)+"",l,t;return{c(){l=w(e),t=w("%")},m(o,r){g(o,l,r),g(o,t,r)},p(o,r){var f;r&1&&e!==(e=((f=o[0].coverage)!=null?f:0)+"")&&P(l,e)},d(o){o&&h(l),o&&h(t)}}}function Pb(i){let e,l=i[0].armor,t=[];for(let n=0;n<l.length;n+=1)t[n]=ys(_s(i,l,n));return{c(){e=p("dl");for(let n=0;n<t.length;n+=1)t[n].c()},m(n,o){g(n,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(n,o){if(o&65){l=n[0].armor;let r;for(r=0;r<l.length;r+=1){const f=_s(n,l,r);t[r]?t[r].p(f,o):(t[r]=ys(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){n&&h(e),ce(t,n)}}}function Fb(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function ks(i){let e=i[14]+"",l,t=i[16]!==0&&Fb();return{c(){t&&t.c(),l=w(e)},m(n,o){t&&t.m(n,o),g(n,l,o)},p(n,o){o&1&&e!==(e=n[14]+"")&&P(l,e)},d(n){t&&t.d(n),n&&h(l)}}}function ys(i){var s;let e,l,t,n=((s=i[11].coverage)!=null?s:0)+"",o,r,f=i[6](i[11]),a=[];for(let u=0;u<f.length;u+=1)a[u]=ks(ds(i,f,u));return{c(){e=p("dt");for(let u=0;u<a.length;u+=1)a[u].c();l=I(),t=p("dd"),o=w(n),r=w("%")},m(u,c){g(u,e,c);for(let m=0;m<a.length;m+=1)a[m].m(e,null);d(e,l),g(u,t,c),d(t,o),d(t,r)},p(u,c){var m;if(c&65){f=u[6](u[11]);let $;for($=0;$<f.length;$+=1){const k=ds(u,f,$);a[$]?a[$].p(k,c):(a[$]=ks(k),a[$].c(),a[$].m(e,l))}for(;$<a.length;$+=1)a[$].d(1);a.length=f.length}c&1&&n!==(n=((m=u[11].coverage)!=null?m:0)+"")&&P(o,n)},d(u){u&&h(e),ce(a,u),u&&h(t)}}}function ws(i){var s;let e,l,t,n,o,r=((s=i[0].environmental_protection)!=null?s:0)+"",f,a=i[1].length&&Yb(i);return{c(){e=p("dt"),e.textContent="Protection",l=p("dd"),t=p("dl"),a&&a.c(),n=p("dt"),n.textContent="Environ.",o=p("dd"),f=w(r),fe(n,"title","Environmental")},m(u,c){g(u,e,c),g(u,l,c),d(l,t),a&&a.m(t,null),d(t,n),d(t,o),d(o,f)},p(u,c){var m;u[1].length&&a.p(u,c),c&1&&r!==(r=((m=u[0].environmental_protection)!=null?m:0)+"")&&P(f,r)},d(u){u&&h(e),u&&h(l),a&&a.d()}}}function Yb(i){var V,J,N;let e,l,t=(i[1].reduce(Es,0)*((V=i[0].material_thickness)!=null?V:0)/i[2]).toFixed(2)+"",n,o,r,f,a=(i[1].reduce(Ts,0)*((J=i[0].material_thickness)!=null?J:0)/i[2]).toFixed(2)+"",s,u,c,m,$=(i[1].reduce(Ss,0)*((N=i[0].material_thickness)!=null?N:0)/i[2]).toFixed(2)+"",k,y,T,E,S=i[7]().toFixed(2)+"",C,R,D,O,A=i[8]().toFixed(2)+"",B,M;return{c(){e=p("dt"),e.textContent="Bash",l=p("dd"),n=w(t),o=I(),r=p("dt"),r.textContent="Cut",f=p("dd"),s=w(a),u=I(),c=p("dt"),c.textContent="Ballistic",m=p("dd"),k=w($),y=I(),T=p("dt"),T.textContent="Acid",E=p("dd"),C=w(S),R=I(),D=p("dt"),D.textContent="Fire",O=p("dd"),B=w(A),M=I()},m(j,z){g(j,e,z),g(j,l,z),d(l,n),d(l,o),g(j,r,z),g(j,f,z),d(f,s),d(f,u),g(j,c,z),g(j,m,z),d(m,k),d(m,y),g(j,T,z),g(j,E,z),d(E,C),d(E,R),g(j,D,z),g(j,O,z),d(O,B),d(O,M)},p(j,z){var F,Y,q;z&1&&t!==(t=(j[1].reduce(Es,0)*((F=j[0].material_thickness)!=null?F:0)/j[2]).toFixed(2)+"")&&P(n,t),z&1&&a!==(a=(j[1].reduce(Ts,0)*((Y=j[0].material_thickness)!=null?Y:0)/j[2]).toFixed(2)+"")&&P(s,a),z&1&&$!==($=(j[1].reduce(Ss,0)*((q=j[0].material_thickness)!=null?q:0)/j[2]).toFixed(2)+"")&&P(k,$),z&1&&S!==(S=j[7]().toFixed(2)+"")&&P(C,S),z&1&&A!==(A=j[8]().toFixed(2)+"")&&P(B,A)},d(j){j&&h(e),j&&h(l),j&&h(r),j&&h(f),j&&h(c),j&&h(m),j&&h(T),j&&h(E),j&&h(D),j&&h(O)}}}function jb(i){var xe;let e,l,t,n,o,r,f=i[3]("head"),a,s=i[3]("eyes"),u,c=i[3]("mouth"),m,$=i[3]("torso"),k,y,T,E,S,C,R,D,O,A,B,M,V,J,N=((xe=i[0].warmth)!=null?xe:0)+"",j,z,F,Y,q,W,re,H=f&&gb(),K=s&&bb(),ee=c&&$b(),ie=$&&vb(),X=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],te=[];for(let se=0;se<4;se+=1)te[se]=gs(hs(i,X,se));let me=!i[4]&&Tb();function Ge(se,ye){var ze,Ne,Me,Se,ve,Ae;return ye&1&&(C=null),ye&1&&(R=null),ye&1&&(D=null),ye&1&&(O=null),ye&1&&(A=null),ye&1&&(B=null),C==null&&(C=!!((ze=se[0].flags)!=null?ze:[]).includes("PERSONAL")),C?Bb:(R==null&&(R=!!((Ne=se[0].flags)!=null?Ne:[]).includes("SKINTIGHT")),R?Ob:(D==null&&(D=!!((Me=se[0].flags)!=null?Me:[]).includes("BELTED")),D?Nb:(O==null&&(O=!!((Se=se[0].flags)!=null?Se:[]).includes("OUTER")),O?Rb:(A==null&&(A=!!((ve=se[0].flags)!=null?ve:[]).includes("WAIST")),A?Ib:(B==null&&(B=!!((Ae=se[0].flags)!=null?Ae:[]).includes("AURA")),B?Cb:Sb)))))}let Ie=Ge(i,-1),ae=Ie(i);function ke(se,ye){return se[5]?Mb:Ab}let de=ke(i)(i);function Ue(se,ye){return se[0].armor?Pb:qb}let Ce=Ue(i),ge=Ce(i),$e=(i[1].length||i[0].environmental_protection)&&ws(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Armor",t=I(),n=p("dl"),o=p("dt"),o.textContent="Covers",r=p("dd"),H&&H.c(),a=I(),K&&K.c(),u=I(),ee&&ee.c(),m=I(),ie&&ie.c(),k=I();for(let se=0;se<4;se+=1)te[se].c();y=I(),me&&me.c(),T=I(),E=p("dt"),E.textContent="Layer",S=p("dd"),ae.c(),M=I(),V=p("dt"),V.textContent="Warmth",J=p("dd"),j=w(N),z=p("dt"),z.textContent="Encumbrance",F=p("dd"),de.c(),Y=I(),q=p("dt"),q.textContent=`Coverage
    `,W=p("dd"),ge.c(),re=I(),$e&&$e.c(),fe(q,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(se,ye){g(se,e,ye),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),H&&H.m(r,null),d(r,a),K&&K.m(r,null),d(r,u),ee&&ee.m(r,null),d(r,m),ie&&ie.m(r,null),d(r,k);for(let ze=0;ze<4;ze+=1)te[ze].m(r,null);d(r,y),me&&me.m(r,null),d(r,T),d(n,E),d(n,S),ae.m(S,null),d(S,M),d(n,V),d(n,J),d(J,j),d(n,z),d(n,F),de.m(F,null),d(F,Y),d(n,q),d(n,W),ge.m(W,null),d(W,re),$e&&$e.m(n,null)},p(se,[ye]){var ze;if(ye&9){X=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]];let Ne;for(Ne=0;Ne<4;Ne+=1){const Me=hs(se,X,Ne);te[Ne]?te[Ne].p(Me,ye):(te[Ne]=gs(Me),te[Ne].c(),te[Ne].m(r,y))}for(;Ne<4;Ne+=1)te[Ne].d(1)}Ie!==(Ie=Ge(se,ye))&&(ae.d(1),ae=Ie(se),ae&&(ae.c(),ae.m(S,M))),ye&1&&N!==(N=((ze=se[0].warmth)!=null?ze:0)+"")&&P(j,N),de.p(se,ye),Ce===(Ce=Ue(se))&&ge?ge.p(se,ye):(ge.d(1),ge=Ce(se),ge&&(ge.c(),ge.m(W,re))),se[1].length||se[0].environmental_protection?$e?$e.p(se,ye):($e=ws(se),$e.c(),$e.m(n,null)):$e&&($e.d(1),$e=null)},i:x,o:x,d(se){se&&h(e),H&&H.d(),K&&K.d(),ee&&ee.d(),ie&&ie.d(),ce(te,se),me&&me.d(),ae.d(),de.d(),ge.d(),$e&&$e.d()}}}function Hb(i){return typeof i[0]=="string"}const Es=(i,e)=>{var l;return i+((l=e.material.bash_resist)!=null?l:0)*e.portion},Ts=(i,e)=>{var l;return i+((l=e.material.cut_resist)!=null?l:0)*e.portion},Ss=(i,e)=>{var l;return i+((l=e.material.bullet_resist)!=null?l:0)*e.portion};function Wb(i,e,l){var k,y,T;let{item:t}=e,n=it("data"),r=(t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:Hb(t.material)?t.material.map(E=>({type:E,portion:1})):t.material).map(E=>({material:n.byId("material",E.type),portion:E.portion}));const f=r.reduce((E,S)=>E+S.portion,0);function a(E){var S,C;return((S=t.covers)!=null?S:[]).includes(E)||((C=t.armor)!=null?C:[]).some(R=>{var D;return((D=R.covers)!=null?D:[]).includes(E)})}let s=((k=t.covers)!=null?k:[]).length||((y=t.armor)!=null?y:[]).length;const u=(T=t.armor)!=null?T:t.armor_portion_data;function c(E){var R;const S=new Set,C=[];for(const D of(R=E.covers)!=null?R:[]){if(S.has(D))continue;const O=n.byId("body_part",D);O.opposite_part&&E.covers.includes(O.opposite_part)?(C.push(O.heading_multiple),S.add(O.opposite_part)):C.push(O.heading),S.add(D)}return C}const m=()=>{var C;let E=r.reduce((R,D)=>{var O;return R+((O=D.material.acid_resist)!=null?O:0)*D.portion},0)/f;const S=(C=t.environmental_protection)!=null?C:0;return S<10&&(E*=S/10),E},$=()=>{var C;let E=r.reduce((R,D)=>{var O;return R+((O=D.material.fire_resist)!=null?O:0)*D.portion},0)/f;const S=(C=t.environmental_protection)!=null?C:0;return S<10&&(E*=S/10),E};return i.$$set=E=>{"item"in E&&l(0,t=E.item)},[t,r,f,a,s,u,c,m,$]}class zb extends Xe{constructor(e){super(),Ve(this,e,Wb,jb,je,{item:0})}}function Vb(i){let e,l,t,n,o;return n=new st({props:{items:i[1],$$slots:{default:[Xb,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Bash",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Cs(i){let e,l,t=i[3].bash.str_min+"",n,o;return{c(){e=p("span"),l=w("(\u2265 "),n=w(t),o=w(" STR)"),Je(e,"color","var(--cata-color-gray)")},m(r,f){g(r,e,f),d(e,l),d(e,n),d(e,o)},p(r,f){f&8&&t!==(t=r[3].bash.str_min+"")&&P(n,t)},d(r){r&&h(e)}}}function Xb(i){let e,l,t,n,o,r;e=new et({props:{item:i[0].byId(i[3].type,i[3].id)}}),t=new ue({props:{id:i[3].id,type:i[3].type}});let f=i[3].bash.str_min&&Cs(i);return{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment),n=I(),f&&f.c(),o=ne()},m(a,s){L(e,a,s),g(a,l,s),L(t,a,s),g(a,n,s),f&&f.m(a,s),g(a,o,s),r=!0},p(a,s){const u={};s&8&&(u.item=a[0].byId(a[3].type,a[3].id)),e.$set(u);const c={};s&8&&(c.id=a[3].id),s&8&&(c.type=a[3].type),t.$set(c),a[3].bash.str_min?f?f.p(a,s):(f=Cs(a),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},i(a){r||(b(e.$$.fragment,a),b(t.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),v(t.$$.fragment,a),r=!1},d(a){G(e,a),a&&h(l),G(t,a),a&&h(n),f&&f.d(a),a&&h(o)}}}function Jb(i){let e,l,t=i[1].length&&Vb(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Kb(i,e,l){let{item_id:t}=e;const n=it("data");let o=n.byType("terrain").concat(n.byType("furniture")).filter(r=>{var a;return((a=r.bash)!=null&&a.items?n.flattenItemGroup({subtype:"collection",entries:typeof r.bash.items=="string"?[{group:r.bash.items}]:r.bash.items}):[]).some(({id:s})=>s===t)}).sort((r,f)=>be(r).localeCompare(be(f)));return i.$$set=r=>{"item_id"in r&&l(2,t=r.item_id)},[n,o,t]}class Zb extends Xe{constructor(e){super(),Ve(this,e,Kb,Jb,je,{item_id:2})}}function Is(i){let e,l,t,n;return t=new ue({props:{type:"item",id:i[0].installation_data}}),{c(){e=p("dt"),e.textContent="Installation data",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].installation_data),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function Qb(i){var S,C;let e,l,t,n,o,r,f,a,s,u=((S=i[0].difficulty)!=null?S:0)+"",c,m,$,k=i[0].is_upgrade?"yes":"no",y,T;f=new ue({props:{type:"bionic",id:(C=i[0].bionic_id)!=null?C:i[0].id}});let E=i[0].installation_data&&Is(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Bionic",t=I(),n=p("dl"),o=p("dt"),o.textContent="Installs as",r=p("dd"),U(f.$$.fragment),a=p("dt"),a.textContent="Difficulty",s=p("dd"),c=w(u),m=p("dt"),m.textContent="Is upgrade",$=p("dd"),y=w(k),E&&E.c()},m(R,D){g(R,e,D),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),L(f,r,null),d(n,a),d(n,s),d(s,c),d(n,m),d(n,$),d($,y),E&&E.m(n,null),T=!0},p(R,[D]){var A,B;const O={};D&1&&(O.id=(A=R[0].bionic_id)!=null?A:R[0].id),f.$set(O),(!T||D&1)&&u!==(u=((B=R[0].difficulty)!=null?B:0)+"")&&P(c,u),(!T||D&1)&&k!==(k=R[0].is_upgrade?"yes":"no")&&P(y,k),R[0].installation_data?E?(E.p(R,D),D&1&&b(E,1)):(E=Is(R),E.c(),b(E,1),E.m(n,null)):E&&(Z(),v(E,1,1,()=>{E=null}),Q())},i(R){T||(b(f.$$.fragment,R),b(E),T=!0)},o(R){v(f.$$.fragment,R),v(E),T=!1},d(R){R&&h(e),G(f),E&&E.d()}}}function xb(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class e$ extends Xe{constructor(e){super(),Ve(this,e,xb,Qb,je,{item:0})}}function Rs(i,e,l){const t=i.slice();return t[4]=e[l][0],t[5]=e[l][1],t}function Ns(i){var $,k;let e,l,t,n,o,r=(($=i[0].required_level)!=null?$:0)+"",f,a,s,u=((k=i[0].max_level)!=null?k:0)+"",c,m;return t=new ue({props:{id:i[0].skill,type:"skill"}}),{c(){e=p("dt"),e.textContent="Skill",l=p("dd"),U(t.$$.fragment),n=p("dt"),n.textContent="Required Level",o=p("dd"),f=w(r),a=p("dt"),a.textContent="Maximum Level",s=p("dd"),c=w(u)},m(y,T){g(y,e,T),g(y,l,T),L(t,l,null),g(y,n,T),g(y,o,T),d(o,f),g(y,a,T),g(y,s,T),d(s,c),m=!0},p(y,T){var S,C;const E={};T&1&&(E.id=y[0].skill),t.$set(E),(!m||T&1)&&r!==(r=((S=y[0].required_level)!=null?S:0)+"")&&P(f,r),(!m||T&1)&&u!==(u=((C=y[0].max_level)!=null?C:0)+"")&&P(c,u)},i(y){m||(b(t.$$.fragment,y),m=!0)},o(y){v(t.$$.fragment,y),m=!1},d(y){y&&h(e),y&&h(l),G(t),y&&h(n),y&&h(o),y&&h(a),y&&h(s)}}}function Os(i){let e,l,t=i[0].chapters+"",n;return{c(){e=p("dt"),e.textContent="Chapters",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].chapters+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Bs(i){let e,l,t,n;return t=new ue({props:{type:"martial_art",id:i[0].martial_art}}),{c(){e=p("dt"),e.textContent="Martial Art",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].martial_art),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function t$(i){let e,l,t,n,o=[...i[1].entries()].sort(Ms),r=[];for(let a=0;a<o.length;a+=1)r[a]=As(Rs(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Recipes",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&2){o=[...a[1].entries()].sort(Ms);let u;for(u=0;u<o.length;u+=1){const c=Rs(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=As(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function As(i){let e,l,t,n=i[5]+"",o,r,f;return l=new ue({props:{id:i[4],type:"item"}}),{c(){e=p("li"),U(l.$$.fragment),t=w(" ("),o=w(n),r=w(")")},m(a,s){g(a,e,s),L(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p:x,i(a){f||(b(l.$$.fragment,a),f=!0)},o(a){v(l.$$.fragment,a),f=!1},d(a){a&&h(e),G(l)}}}function l$(i){var B,M,V;let e,l,t,n,o,r,f=((B=i[0].intelligence)!=null?B:0)+"",a,s,u,c=((M=i[0].time)!=null?M:0)+"",m,$,k,y=((V=i[0].fun)!=null?V:0)+"",T,E,S,C,R=i[0].skill&&Ns(i),D=i[0].chapters&&Os(i),O=i[0].martial_art&&Bs(i),A=i[1].size&&t$(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Book",t=I(),n=p("dl"),R&&R.c(),o=p("dt"),o.textContent="Required Intelligence",r=p("dd"),a=w(f),s=p("dt"),s.textContent="Read Time",u=p("dd"),m=w(c),$=p("dt"),$.textContent="Fun",k=p("dd"),T=w(y),D&&D.c(),E=ne(),O&&O.c(),S=ne(),A&&A.c()},m(J,N){g(J,e,N),d(e,l),d(e,t),d(e,n),R&&R.m(n,null),d(n,o),d(n,r),d(r,a),d(n,s),d(n,u),d(u,m),d(n,$),d(n,k),d(k,T),D&&D.m(n,null),d(n,E),O&&O.m(n,null),d(n,S),A&&A.m(n,null),C=!0},p(J,[N]){var j,z,F;J[0].skill?R?(R.p(J,N),N&1&&b(R,1)):(R=Ns(J),R.c(),b(R,1),R.m(n,o)):R&&(Z(),v(R,1,1,()=>{R=null}),Q()),(!C||N&1)&&f!==(f=((j=J[0].intelligence)!=null?j:0)+"")&&P(a,f),(!C||N&1)&&c!==(c=((z=J[0].time)!=null?z:0)+"")&&P(m,c),(!C||N&1)&&y!==(y=((F=J[0].fun)!=null?F:0)+"")&&P(T,y),J[0].chapters?D?D.p(J,N):(D=Os(J),D.c(),D.m(n,E)):D&&(D.d(1),D=null),J[0].martial_art?O?(O.p(J,N),N&1&&b(O,1)):(O=Bs(J),O.c(),b(O,1),O.m(n,S)):O&&(Z(),v(O,1,1,()=>{O=null}),Q()),J[1].size&&A.p(J,N)},i(J){C||(b(R),b(O),b(A),C=!0)},o(J){v(R),v(O),v(A),C=!1},d(J){J&&h(e),R&&R.d(),D&&D.d(),O&&O.d(),A&&A.d()}}}const Ms=(i,e)=>i[1]!==e[1]?i[1]-e[1]:i[0].localeCompare(e[0]);function n$(i,e,l){var f;let{item:t}=e,n=it("data");const o=new Map;function r(a,s){var u;o.set(a,Math.min(s,(u=o.get(a))!=null?u:1/0))}for(const a of n.byType("recipe"))if(Array.isArray(a.book_learn)){for(const[s,u=0]of a.book_learn)if(s===t.id)r(a.result,u);else if(a.book_learn)for(const[c,m]of Object.entries(a.book_learn))c===t.id&&r(a.result,(f=m.skill_level)!=null?f:0)}return i.$$set=a=>{"item"in a&&l(0,t=a.item)},[t,o]}class i$ extends Xe{constructor(e){super(),Ve(this,e,n$,l$,je,{item:0})}}function Ds(i,e,l){const t=i.slice();return t[1]=e[l][0],t[2]=e[l][1],t[4]=l,t}function Ls(i){let e,l,t,n=i[0].vitamins,o=[];for(let f=0;f<n.length;f+=1)o[f]=Gs(Ds(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("dt"),e.textContent="Vitamins (%RDA)",l=p("dd");for(let f=0;f<o.length;f+=1)o[f].c()},m(f,a){g(f,e,a),g(f,l,a);for(let s=0;s<o.length;s+=1)o[s].m(l,null);t=!0},p(f,a){if(a&1){n=f[0].vitamins;let s;for(s=0;s<n.length;s+=1){const u=Ds(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Gs(u),o[s].c(),b(o[s],1),o[s].m(l,null))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),f&&h(l),ce(o,f)}}}function r$(i){let e=" and ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function o$(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Gs(i){let e,l,t=i[2]+"",n,o,r,f;e=new ue({props:{id:i[1],type:"vitamin"}});function a(c,m){if(c[4]<c[0].vitamins.length-2)return o$;if(c[4]===c[0].vitamins.length-2)return r$}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w("%)"),u&&u.c(),r=ne()},m(c,m){L(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[1]),e.$set($),(!f||m&1)&&t!==(t=c[2]+"")&&P(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function f$(i){var Y,q,W,re,H,K;let e,l,t,n,o,r,f=((Y=i[0].calories)!=null?Y:0)+"",a,s,u,c,m=((q=i[0].quench)!=null?q:0)+"",$,k,y,T=((W=i[0].fun)!=null?W:0)+"",E,S,C,R=((re=i[0].charges)!=null?re:1)+"",D,O,A,B=((H=i[0].spoils_in)!=null?H:"never")+"",M,V,J,N=((K=i[0].healthy)!=null?K:0)+"",j,z,F=i[0].vitamins&&Ls(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Comestible",t=I(),n=p("dl"),o=p("dt"),o.textContent="Calories",r=p("dd"),a=w(f),s=w(" kcal"),u=p("dt"),u.textContent="Quench",c=p("dd"),$=w(m),k=p("dt"),k.textContent="Enjoyability",y=p("dd"),E=w(T),S=p("dt"),S.textContent="Portions",C=p("dd"),D=w(R),O=p("dt"),O.textContent="Spoils In",A=p("dd"),M=w(B),V=p("dt"),V.textContent="Health",J=p("dd"),j=w(N),F&&F.c()},m(ee,ie){g(ee,e,ie),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,a),d(r,s),d(n,u),d(n,c),d(c,$),d(n,k),d(n,y),d(y,E),d(n,S),d(n,C),d(C,D),d(n,O),d(n,A),d(A,M),d(n,V),d(n,J),d(J,j),F&&F.m(n,null),z=!0},p(ee,[ie]){var X,te,me,Ge,Ie,ae;(!z||ie&1)&&f!==(f=((X=ee[0].calories)!=null?X:0)+"")&&P(a,f),(!z||ie&1)&&m!==(m=((te=ee[0].quench)!=null?te:0)+"")&&P($,m),(!z||ie&1)&&T!==(T=((me=ee[0].fun)!=null?me:0)+"")&&P(E,T),(!z||ie&1)&&R!==(R=((Ge=ee[0].charges)!=null?Ge:1)+"")&&P(D,R),(!z||ie&1)&&B!==(B=((Ie=ee[0].spoils_in)!=null?Ie:"never")+"")&&P(M,B),(!z||ie&1)&&N!==(N=((ae=ee[0].healthy)!=null?ae:0)+"")&&P(j,N),ee[0].vitamins?F?(F.p(ee,ie),ie&1&&b(F,1)):(F=Ls(ee),F.c(),b(F,1),F.m(n,null)):F&&(Z(),v(F,1,1,()=>{F=null}),Q())},i(ee){z||(b(F),z=!0)},o(ee){v(F),z=!1},d(ee){ee&&h(e),F&&F.d()}}}function s$(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class a$ extends Xe{constructor(e){super(),Ve(this,e,s$,f$,je,{item:0})}}function u$(i){let e,l,t,n,o;return n=new st({props:{items:i[1],$$slots:{default:[c$,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Provided By Vehicle Parts",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function c$(i){let e,l,t,n;return e=new et({props:{item:i[10]}}),t=new ue({props:{type:i[10].type,id:i[10].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1024&&(f.item=o[10]),e.$set(f);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function _$(i){let e,l,t,n,o;return n=new st({props:{items:i[2],$$slots:{default:[d$,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Provided By Furniture",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function d$(i){let e,l,t,n;return e=new et({props:{item:i[10]}}),t=new ue({props:{type:i[10].type,id:i[10].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1024&&(f.item=o[10]),e.$set(f);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function m$(i){let e,l,t,n,o;return n=new st({props:{items:i[3],$$slots:{default:[p$,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Component Of",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function p$(i){let e,l,t,n;return e=new et({props:{item:i[0].byId("item",i[10])}}),t=new ue({props:{type:"item",id:i[10]}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1024&&(f.item=o[0].byId("item",o[10])),e.$set(f);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function h$(i){let e,l,t,n,o;return n=new st({props:{items:i[4],$$slots:{default:[g$,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Tool For Crafting",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function g$(i){let e,l,t,n;return e=new et({props:{item:i[0].byId("item",i[10])}}),t=new ue({props:{type:"item",id:i[10]}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1024&&(f.item=o[0].byId("item",o[10])),e.$set(f);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function b$(i){let e,l,t,n,o,r=i[1].length&&u$(i),f=i[2].length&&_$(i),a=i[3].length&&m$(i),s=i[4].length&&h$(i);return{c(){r&&r.c(),e=I(),f&&f.c(),l=I(),t=p("div"),a&&a.c(),n=I(),s&&s.c(),fe(t,"class","side-by-side")},m(u,c){r&&r.m(u,c),g(u,e,c),f&&f.m(u,c),g(u,l,c),g(u,t,c),a&&a.m(t,null),d(t,n),s&&s.m(t,null),o=!0},p(u,[c]){u[1].length&&r.p(u,c),u[2].length&&f.p(u,c),u[3].length&&a.p(u,c),u[4].length&&s.p(u,c)},i(u){o||(b(r),b(f),b(a),b(s),o=!0)},o(u){v(r),v(f),v(a),v(s),o=!1},d(u){r&&r.d(u),u&&h(e),f&&f.d(u),u&&h(l),u&&h(t),a&&a.d(),s&&s.d()}}}function $$(i,e,l){var $,k;let{item_id:t}=e;const n=it("data"),{byTool:o,byComponent:r}=n.getItemComponents(),f=($=r.get(t))!=null?$:new Set,a=(k=o.get(t))!=null?k:new Set,s=n.byType("vehicle_part").filter(y=>{var T;return y.id&&((T=y.pseudo_tools)==null?void 0:T.some(E=>E.id===t))}),u=n.byType("furniture").filter(y=>y.id&&y.crafting_pseudo_item===t),c=[...f].sort((y,T)=>be(n.byId("item",y)).localeCompare(be(n.byId("item",T)))),m=[...a].sort((y,T)=>be(n.byId("item",y)).localeCompare(be(n.byId("item",T))));return i.$$set=y=>{"item_id"in y&&l(5,t=y.item_id)},[n,s,u,c,m,t]}class v$ extends Xe{constructor(e){super(),Ve(this,e,$$,b$,je,{item_id:5})}}function k$(i){let e,l,t,n,o;return n=new st({props:{items:i[1],$$slots:{default:[y$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Construct",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Us(i){let e,l,t,n,o;return l=new et({props:{item:i[0].byId(i[3].pre_terrain.startsWith("f_")?"furniture":"terrain",i[3].pre_terrain)}}),n=new ue({props:{type:i[3].pre_terrain.startsWith("f_")?"furniture":"terrain",id:i[3].pre_terrain}}),{c(){e=w("on "),U(l.$$.fragment),t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),L(l,r,f),g(r,t,f),L(n,r,f),o=!0},p(r,f){const a={};f&8&&(a.item=r[0].byId(r[3].pre_terrain.startsWith("f_")?"furniture":"terrain",r[3].pre_terrain)),l.$set(a);const s={};f&8&&(s.type=r[3].pre_terrain.startsWith("f_")?"furniture":"terrain"),f&8&&(s.id=r[3].pre_terrain),n.$set(s)},i(r){o||(b(l.$$.fragment,r),b(n.$$.fragment,r),o=!0)},o(r){v(l.$$.fragment,r),v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(l,r),r&&h(t),G(n,r)}}}function y$(i){let e,l,t,n;e=new ue({props:{id:i[3].group,type:"construction_group"}});let o=i[3].pre_terrain&&Us(i);return{c(){U(e.$$.fragment),l=I(),o&&o.c(),t=ne()},m(r,f){L(e,r,f),g(r,l,f),o&&o.m(r,f),g(r,t,f),n=!0},p(r,f){const a={};f&8&&(a.id=r[3].group),e.$set(a),r[3].pre_terrain?o?(o.p(r,f),f&8&&b(o,1)):(o=Us(r),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(r){n||(b(e.$$.fragment,r),b(o),n=!0)},o(r){v(e.$$.fragment,r),v(o),n=!1},d(r){G(e,r),r&&h(l),o&&o.d(r),r&&h(t)}}}function w$(i){let e,l,t=i[1].length&&k$(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function E$(i,e,l){let{item_id:t}=e;const n=it("data"),o=n.byType("construction").filter(r=>n.flattenItemGroup(n.normalizeItemGroup(r.byproducts,"collection")).some(a=>a.id===t)).sort((r,f)=>be(r).localeCompare(be(f)));return i.$$set=r=>{"item_id"in r&&l(2,t=r.item_id)},[n,o,t]}class T$ extends Xe{constructor(e){super(),Ve(this,e,E$,w$,je,{item_id:2})}}function S$(i){let e,l,t,n,o;return n=new st({props:{items:i[1],$$slots:{default:[C$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Deconstruct",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function C$(i){let e,l,t,n;return e=new et({props:{item:i[0].byId(i[3].type,i[3].id)}}),t=new ue({props:{id:i[3].id,type:i[3].type}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&8&&(f.item=o[0].byId(o[3].type,o[3].id)),e.$set(f);const a={};r&8&&(a.id=o[3].id),r&8&&(a.type=o[3].type),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function I$(i){let e,l,t=i[1].length&&S$(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function R$(i,e,l){let{item_id:t}=e;const n=it("data");let o=n.byType("terrain").concat(n.byType("furniture")).filter(r=>{var a;return((a=r.deconstruct)!=null&&a.items?n.flattenItemGroup({subtype:"collection",entries:typeof r.deconstruct.items=="string"?[{group:r.deconstruct.items}]:r.deconstruct.items}):[]).some(({id:s})=>s===t)}).sort((r,f)=>be(r).localeCompare(be(f)));return i.$$set=r=>{"item_id"in r&&l(2,t=r.item_id)},[n,o,t]}class N$ extends Xe{constructor(e){super(),Ve(this,e,R$,I$,je,{item_id:2})}}function O$(i){let e,l,t,n,o;return n=new st({props:{items:i[1],$$slots:{default:[B$,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Disassemble",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&96&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function B$(i){let e,l,t,n;return e=new et({props:{item:i[0].byId("item",i[5])}}),t=new ue({props:{type:"item",id:i[5]}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&32&&(f.item=o[0].byId("item",o[5])),e.$set(f);const a={};r&32&&(a.id=o[5]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function A$(i){let e,l,t=i[1].length&&O$(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function M$(i,e,l){let{item_id:t}=e,n=it("data");const o=new Set,r=n.byType("recipe").concat(n.byType("uncraft")).map(a=>a.result).filter(a=>a);for(const a of r){const s=n.uncraftRecipe(a);if(s){const{components:u}=n.normalizeRequirementsForDisassembly(s);u.map(m=>m[0]).some(m=>m.id===t)&&o.add(s.result)}}const f=[...o].sort((a,s)=>be(n.byId("item",a)).localeCompare(be(n.byId("item",s))));return i.$$set=a=>{"item_id"in a&&l(2,t=a.item_id)},[n,f,t]}class D$ extends Xe{constructor(e){super(),Ve(this,e,M$,A$,je,{item_id:2})}}function L$(i){let e,l,t,n,o;return n=new st({props:{items:i[1],$$slots:{default:[G$,({item:r})=>({8:r}),({item:r})=>r?256:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Dropped By",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&768&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function G$(i){let e,l,t,n,o=vn(i[8].prob)+"",r,f,a;return e=new et({props:{item:i[0].byId("monster",i[8].id)}}),t=new ue({props:{type:"monster",id:i[8].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment),n=w(" ("),r=w(o),f=w(")")},m(s,u){L(e,s,u),g(s,l,u),L(t,s,u),g(s,n,u),g(s,r,u),g(s,f,u),a=!0},p(s,u){const c={};u&256&&(c.item=s[0].byId("monster",s[8].id)),e.$set(c);const m={};u&256&&(m.id=s[8].id),t.$set(m),(!a||u&256)&&o!==(o=vn(s[8].prob)+"")&&P(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),a=!1},d(s){G(e,s),s&&h(l),G(t,s),s&&h(n),s&&h(r),s&&h(f)}}}function U$(i){let e,l,t,n,o;return n=new st({props:{items:i[2],$$slots:{default:[q$,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Butcher",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&640&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function q$(i){let e,l,t,n;return e=new et({props:{item:i[7]}}),t=new ue({props:{id:i[7].id,type:"monster"}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&128&&(f.item=o[7]),e.$set(f);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function P$(i){let e,l,t,n,o;return n=new st({props:{items:i[3],$$slots:{default:[F$,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Dissect",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&640&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function F$(i){let e,l,t,n;return e=new et({props:{item:i[7]}}),t=new ue({props:{id:i[7].id,type:"monster"}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&128&&(f.item=o[7]),e.$set(f);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Y$(i){let e,l,t,n,o=i[1].length&&L$(i),r=i[2].length&&U$(i),f=i[3].length&&P$(i);return{c(){o&&o.c(),e=I(),r&&r.c(),l=I(),f&&f.c(),t=ne()},m(a,s){o&&o.m(a,s),g(a,e,s),r&&r.m(a,s),g(a,l,s),f&&f.m(a,s),g(a,t,s),n=!0},p(a,[s]){a[1].length&&o.p(a,s),a[2].length&&r.p(a,s),a[3].length&&f.p(a,s)},i(a){n||(b(o),b(r),b(f),n=!0)},o(a){v(o),v(r),v(f),n=!1},d(a){o&&o.d(a),a&&h(e),r&&r.d(a),a&&h(l),f&&f.d(a),a&&h(t)}}}function j$(i,e,l){let{item_id:t}=e,n=it("data");const o=n.byType("monster").flatMap(u=>{if(!u.id)return[];const m=n.flatDeathDrops(u.id).find($=>$.id===t);return m?[{id:u.id,prob:m.prob}]:[]});o.sort((u,c)=>c.prob-u.prob);const r=u=>{var c,m;return(m=(c=u.entries)==null?void 0:c.flatMap($=>{var k;return $.type&&((k=n.byId("harvest_drop_type",$.type))==null?void 0:k.group)?n.flattenItemGroup(n.byId("item_group",$.drop)).map(y=>y.id):[$.drop]}))!=null?m:[]},f=n.byType("harvest").filter(u=>r(u).some(c=>c===t)),a=n.byType("monster").filter(u=>u.id&&f.some(c=>c.id===u.harvest)),s=n.byType("monster").filter(u=>u.id&&f.some(c=>c.id===u.dissect));return i.$$set=u=>{"item_id"in u&&l(4,t=u.item_id)},[n,o,a,s,t]}class H$ extends Xe{constructor(e){super(),Ve(this,e,j$,Y$,je,{item_id:4})}}function qs(i,e,l){const t=i.slice();return t[6]=e[l][0],t[7]=e[l][1],t}function W$(i){let e,l,t,n,o;return n=new st({props:{items:i[1],$$slots:{default:[z$,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Forage",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&1056&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Ps(i){let e,l=i[6]+"",t;return{c(){e=p("li"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function z$(i){let e,l,t,n,o,r;e=new et({props:{item:i[5]}}),t=new ue({props:{type:"terrain",id:i[5].id}});let f=i[0],a=[];for(let s=0;s<f.length;s+=1)a[s]=Ps(qs(i,f,s));return{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment),n=w(` in
      `),o=p("ul");for(let s=0;s<a.length;s+=1)a[s].c();fe(o,"class","comma-separated or")},m(s,u){L(e,s,u),g(s,l,u),L(t,s,u),g(s,n,u),g(s,o,u);for(let c=0;c<a.length;c+=1)a[c].m(o,null);r=!0},p(s,u){const c={};u&32&&(c.item=s[5]),e.$set(c);const m={};if(u&32&&(m.id=s[5].id),t.$set(m),u&1){f=s[0];let $;for($=0;$<f.length;$+=1){const k=qs(s,f,$);a[$]?a[$].p(k,u):(a[$]=Ps(k),a[$].c(),a[$].m(o,null))}for(;$<a.length;$+=1)a[$].d(1);a.length=f.length}},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),r=!1},d(s){G(e,s),s&&h(l),G(t,s),s&&h(n),s&&h(o),ce(a,s)}}}function V$(i){let e,l,t=i[0].length&&W$(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function X$(i,e,l){let{item_id:t}=e,n=it("data");const o={Spring:"forage_spring",Summer:"forage_summer",Autumn:"forage_autumn",Winter:"forage_winter","any season":"trash_forest"},r=Object.keys(o).map(a=>{var u;const s=n.flattenItemGroup(n.byId("item_group",o[a]));return[a,(u=s.find(c=>c.id===t))==null?void 0:u.prob]}).filter(a=>a[1]),f=n.byType("terrain").filter(a=>a.examine_action==="shrub_wildveggies");return i.$$set=a=>{"item_id"in a&&l(2,t=a.item_id)},[r,f,t]}class J$ extends Xe{constructor(e){super(),Ve(this,e,X$,V$,je,{item_id:2})}}function K$(i){let e,l,t,n,o;return n=new st({props:{items:i[0],$$slots:{default:[Z$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Grown From",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Z$(i){var s;let e,l,t,n,o=((s=i[3].seed_data.grow)!=null?s:"1 day")+"",r,f,a;return e=new et({props:{item:i[3]}}),t=new ue({props:{id:i[3].id,type:"item"}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment),n=w(" ("),r=w(o),f=w(")")},m(u,c){L(e,u,c),g(u,l,c),L(t,u,c),g(u,n,c),g(u,r,c),g(u,f,c),a=!0},p(u,c){var k;const m={};c&8&&(m.item=u[3]),e.$set(m);const $={};c&8&&($.id=u[3].id),t.$set($),(!a||c&8)&&o!==(o=((k=u[3].seed_data.grow)!=null?k:"1 day")+"")&&P(r,o)},i(u){a||(b(e.$$.fragment,u),b(t.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(t.$$.fragment,u),a=!1},d(u){G(e,u),u&&h(l),G(t,u),u&&h(n),u&&h(r),u&&h(f)}}}function Q$(i){let e,l,t=i[0].length&&K$(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function x$(i,e,l){let{item_id:t}=e;const o=it("data").byType("item").filter(r=>{var f;return!r.id||!r.seed_data?!1:r.seed_data.fruit===t||((f=r.seed_data.byproducts)==null?void 0:f.includes(t))});return i.$$set=r=>{"item_id"in r&&l(1,t=r.item_id)},[o,t]}class ev extends Xe{constructor(e){super(),Ve(this,e,x$,Q$,je,{item_id:1})}}function Fs(i){let e,l,t=i[0].min_strength+"",n;return{c(){e=p("dt"),e.textContent="Min Strength",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].min_strength+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Ys(i){let e,l,t=i[0].valid_mod_locations.map(js).join(", ")+"",n,o;return{c(){e=p("dt"),e.textContent="Mod Slots",l=p("dd"),n=w(t),o=I()},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f&1&&t!==(t=r[0].valid_mod_locations.map(js).join(", ")+"")&&P(n,t)},d(r){r&&h(e),r&&h(l)}}}function tv(i){var Ue,Ce,ge,$e,xe,se,ye,ze,Ne,Me;let e,l,t,n,o,r,f,a,s,u,c,m,$,k=((Ue=i[0].range)!=null?Ue:0)+"",y,T,E,S=((Ce=i[0].dispersion)!=null?Ce:0)+"",C,R,D,O=(((ge=i[0].flags)!=null?ge:[]).includes("DISABLE_SIGHTS")?90:($e=i[0].sight_dispersion)!=null?$e:30)+"",A,B,M,V,J=((xe=i[0].recoil)!=null?xe:0)+"",N,j,z,F=((se=i[0].loudness)!=null?se:0).toFixed(0)+"",Y,q,W,re=((ye=i[0].reload)!=null?ye:100)+"",H,K,ee,ie,X=((ze=i[0].reload_noise_volume)!=null?ze:0)+"",te,me,Ge,Ie=((Ne=i[0].durability)!=null?Ne:0)+"",ae,ke;f=new ue({props:{type:"skill",id:i[0].skill}});let Ee=i[0].min_strength&&Fs(i),de=((Me=i[0].valid_mod_locations)==null?void 0:Me.length)&&Ys(i);return{c(){var Se,ve,Ae;e=p("section"),l=p("h1"),l.textContent="Ranged",t=I(),n=p("dl"),o=p("dt"),o.textContent="Skill",r=p("dd"),U(f.$$.fragment),Ee&&Ee.c(),a=p("dt"),a.textContent="Base Damage",s=p("dd"),s.textContent=`${(Se=i[1].amount)!=null?Se:0} (${(ve=i[1].damage_type)!=null?ve:"bullet"})
    `,u=p("dt"),u.textContent="Armor Penetration",c=p("dd"),c.textContent=`${(Ae=i[1].armor_penetration)!=null?Ae:0}`,m=p("dt"),m.textContent="Range Bonus",$=p("dd"),y=w(k),T=p("dt"),T.textContent="Base Dispersion",E=p("dd"),C=w(S),R=p("dt"),R.textContent="Sight Dispersion",D=p("dd"),A=w(O),B=I(),M=p("dt"),M.textContent="Base Recoil",V=p("dd"),N=w(J),j=p("dt"),j.textContent=`Loudness Modifier
    `,z=p("dd"),Y=w(F),q=p("dt"),q.textContent="Reload Time",W=p("dd"),H=w(re),K=w(" moves"),ee=p("dt"),ee.textContent=`Reload Noise Volume
    `,ie=p("dd"),te=w(X),de&&de.c(),me=p("dt"),me.textContent="Durability",Ge=p("dd"),ae=w(Ie),fe(m,"title","Added to ammo range"),fe(T,"title","Added to ammo dispersion"),fe(j,"title","Modifies base loudness as provided by the currently loaded ammo"),fe(ee,"title","Volume of the noise made when reloading this weapon")},m(Se,ve){g(Se,e,ve),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),L(f,r,null),Ee&&Ee.m(n,null),d(n,a),d(n,s),d(n,u),d(n,c),d(n,m),d(n,$),d($,y),d(n,T),d(n,E),d(E,C),d(n,R),d(n,D),d(D,A),d(D,B),d(n,M),d(n,V),d(V,N),d(n,j),d(n,z),d(z,Y),d(n,q),d(n,W),d(W,H),d(W,K),d(n,ee),d(n,ie),d(ie,te),de&&de.m(n,null),d(n,me),d(n,Ge),d(Ge,ae),ke=!0},p(Se,[ve]){var Pe,Fe,Be,oe,Te,Re,we,Ke,Tt,dt;const Ae={};ve&1&&(Ae.id=Se[0].skill),f.$set(Ae),Se[0].min_strength?Ee?Ee.p(Se,ve):(Ee=Fs(Se),Ee.c(),Ee.m(n,a)):Ee&&(Ee.d(1),Ee=null),(!ke||ve&1)&&k!==(k=((Pe=Se[0].range)!=null?Pe:0)+"")&&P(y,k),(!ke||ve&1)&&S!==(S=((Fe=Se[0].dispersion)!=null?Fe:0)+"")&&P(C,S),(!ke||ve&1)&&O!==(O=(((Be=Se[0].flags)!=null?Be:[]).includes("DISABLE_SIGHTS")?90:(oe=Se[0].sight_dispersion)!=null?oe:30)+"")&&P(A,O),(!ke||ve&1)&&J!==(J=((Te=Se[0].recoil)!=null?Te:0)+"")&&P(N,J),(!ke||ve&1)&&F!==(F=((Re=Se[0].loudness)!=null?Re:0).toFixed(0)+"")&&P(Y,F),(!ke||ve&1)&&re!==(re=((we=Se[0].reload)!=null?we:100)+"")&&P(H,re),(!ke||ve&1)&&X!==(X=((Ke=Se[0].reload_noise_volume)!=null?Ke:0)+"")&&P(te,X),(Tt=Se[0].valid_mod_locations)!=null&&Tt.length?de?de.p(Se,ve):(de=Ys(Se),de.c(),de.m(n,me)):de&&(de.d(1),de=null),(!ke||ve&1)&&Ie!==(Ie=((dt=Se[0].durability)!=null?dt:0)+"")&&P(ae,Ie)},i(Se){ke||(b(f.$$.fragment,Se),ke=!0)},o(Se){v(f.$$.fragment,Se),ke=!1},d(Se){Se&&h(e),G(f),Ee&&Ee.d(),de&&de.d()}}}const js=([i,e])=>`${i} (${e})`;function lv(i,e,l){var o;let{item:t}=e;const n=Array.isArray(t.ranged_damage)?t.ranged_damage[0]:typeof t.ranged_damage=="number"?t.ranged_damage:t.ranged_damage&&"values"in t.ranged_damage?t.ranged_damage.values[0]:(o=t.ranged_damage)!=null?o:{amount:0,damage_type:"bullet",armor_penetration:0};return i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,n]}class nv extends Xe{constructor(e){super(),Ve(this,e,lv,tv,je,{item:0})}}function iv(i){let e,l,t,n,o;return n=new st({props:{items:i[0],$$slots:{default:[rv,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Harvest",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function rv(i){let e,l,t,n;return e=new et({props:{item:i[3]}}),t=new ue({props:{type:i[3].type,id:i[3].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&8&&(f.item=o[3]),e.$set(f);const a={};r&8&&(a.type=o[3].type),r&8&&(a.id=o[3].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function ov(i){let e,l,t=i[0].length&&iv(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function fv(i,e,l){let{item_id:t}=e;const n=it("data"),o=n.byType("terrain").concat(n.byType("furniture")).filter(r=>{var f;return((f=r.harvest_by_season)!=null?f:[]).some(a=>a.id?n.byId("harvest",a.id).entries.some(u=>u.type==="bionic_group"?n.flattenItemGroup(n.byId("item_group",u.drop)).some(c=>c.id===t):u.drop===t):!1)});return o.sort((r,f)=>be(r).localeCompare(be(f))),i.$$set=r=>{"item_id"in r&&l(1,t=r.item_id)},[o,t]}class sv extends Xe{constructor(e){super(),Ve(this,e,fv,ov,je,{item_id:1})}}function av(i){let e,l,t,n,o;return n=new st({props:{items:i[1],$$slots:{default:[uv,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Compatible Items",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&9&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function uv(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function cv(i){let e,l,t=i[1].length&&av(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[1].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function _v(i,e,l){let{item:t}=e;const o=it("data").byType("item").filter(r=>r.id).filter(r=>{var f;return(f=r.pocket_data)==null?void 0:f.some(a=>{var s,u,c;return(a.pocket_type==="MAGAZINE_WELL"||a.pocket_type==="MAGAZINE")&&(((s=a.item_restriction)==null?void 0:s.includes(t.id))||((u=a.allowed_speedloaders)==null?void 0:u.includes(t.id))||((c=a.flag_restriction)==null?void 0:c.some(m=>{var $;return($=t.flags)==null?void 0:$.includes(m)})))})});return o.sort((r,f)=>be(r).localeCompare(be(f))),i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,o]}class dv extends Xe{constructor(e){super(),Ve(this,e,_v,cv,je,{item:0})}}function Hs(i,e,l){const t=i.slice();return t[11]=e[l],t}function Ws(i){var M,V;let e,l,t,n,o,r,f=((M=i[0].bashing)!=null?M:0)+"",a,s,u,c,m=((V=i[0].cutting)!=null?V:0)+"",$,k,y,T,E,S=i[3](i[0])+"",C,R;function D(J,N){return J[4]?pv:mv}let A=D(i)(i),B=i[1].length&&hv(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Melee",t=I(),n=p("dl"),o=p("dt"),o.textContent="Bash",r=p("dd"),a=w(f),s=p("dt"),A.c(),u=I(),c=p("dd"),$=w(m),k=p("dt"),k.textContent="To Hit",y=p("dd"),y.textContent=`${i[2]}`,T=p("dt"),T.textContent="Moves Per Attack",E=p("dd"),C=w(S),B&&B.c()},m(J,N){g(J,e,N),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,a),d(n,s),A.m(s,null),d(s,u),d(n,c),d(c,$),d(n,k),d(n,y),d(n,T),d(n,E),d(E,C),B&&B.m(n,null),R=!0},p(J,N){var j,z;(!R||N&1)&&f!==(f=((j=J[0].bashing)!=null?j:0)+"")&&P(a,f),(!R||N&1)&&m!==(m=((z=J[0].cutting)!=null?z:0)+"")&&P($,m),(!R||N&1)&&S!==(S=J[3](J[0])+"")&&P(C,S),J[1].length&&B.p(J,N)},i(J){R||(b(B),R=!0)},o(J){v(B),R=!1},d(J){J&&h(e),A.d(),B&&B.d()}}}function mv(i){let e;return{c(){e=w("Cut")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function pv(i){let e;return{c(){e=w("Pierce")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function hv(i){let e,l,t,n,o=i[1],r=[];for(let a=0;a<o.length;a+=1)r[a]=zs(Hs(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Techniques",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","no-bullets")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&2){o=a[1];let u;for(u=0;u<o.length;u+=1){const c=Hs(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=zs(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function zs(i){let e,l,t,n,o=Vt(i[11].description)+"",r,f,a;return t=new ue({props:{type:"technique",id:i[11].id}}),{c(){e=p("li"),l=p("strong"),U(t.$$.fragment),n=w(": "),r=w(o),f=I()},m(s,u){g(s,e,u),d(e,l),L(t,l,null),d(e,n),d(e,r),d(e,f),a=!0},p:x,i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){v(t.$$.fragment,s),a=!1},d(s){s&&h(e),G(t)}}}function gv(i){let e,l,t=(i[0].bashing||i[0].cutting)&&Ws(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].bashing||n[0].cutting?t?(t.p(n,o),o&1&&b(t,1)):(t=Ws(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function bv(i,e,l){var k,y,T,E;let t=it("data"),{item:n}=e,o=((k=n.techniques)!=null?k:[]).map(S=>t.byId("technique",S));const r={bad:0,none:1,solid:2,weapon:3},f={hand:0,short:1,long:2},a={point:0,line:1,any:2,every:3},s={clumsy:0,uneven:1,neutral:2,good:3},u=({grip:S="weapon",length:C="hand",surface:R="any",balance:D="neutral"})=>{const O=r[S],A=f[C],B=a[R],M=s[D],V=-2,J=-1,N=-2,j=-2;return V+J+N+j+O+A+B+M},c=typeof n.to_hit=="object"?u(n.to_hit):(y=n.to_hit)!=null?y:0;function m(S){return Math.floor(65+(Math.floor(Jr(S.volume)/62.5)+Math.floor(Gi(S.weight)/60)))}const $=((T=n.flags)!=null?T:[]).includes("SPEAR")||((E=n.flags)!=null?E:[]).includes("STAB");return i.$$set=S=>{"item"in S&&l(0,n=S.item)},[n,o,c,m,$]}class $v extends Xe{constructor(e){super(),Ve(this,e,bv,gv,je,{item:0})}}function Vs(i,e,l){const t=i.slice();return t[5]=e[l],t}function Xs(i,e,l){const t=i.slice();return t[8]=e[l],t[10]=l,t}function Js(i,e,l){const t=i.slice();return t[11]=e[l],t}function Ks(i,e,l){const t=i.slice();return t[14]=e[l],t[10]=l,t}function vv(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Zs(i){var E,S;let e,l=((E=i[14].amount)!=null?E:1)+"",t,n,o=((S=i[14].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[14].level+"",c,m,$="",k,y,T=i[10]!==0&&vv();return a=new ue({props:{type:"tool_quality",id:i[14].id}}),{c(){T&&T.c(),e=I(),t=w(l),n=w(" tool"),r=w(o),f=w(`
          with `),U(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
          or more`),k=w($)},m(C,R){T&&T.m(C,R),g(C,e,R),g(C,t,R),g(C,n,R),g(C,r,R),g(C,f,R),L(a,C,R),g(C,s,R),g(C,c,R),g(C,m,R),g(C,k,R),y=!0},p:x,i(C){y||(b(a.$$.fragment,C),y=!0)},o(C){v(a.$$.fragment,C),y=!1},d(C){T&&T.d(C),C&&h(e),C&&h(t),C&&h(n),C&&h(r),C&&h(f),G(a,C),C&&h(s),C&&h(c),C&&h(m),C&&h(k)}}}function Qs(i){let e,l,t,n=i[11],o=[];for(let f=0;f<n.length;f+=1)o[f]=Zs(Ks(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=w(".")},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&4){n=f[11];let s;for(s=0;s<n.length;s+=1){const u=Ks(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Zs(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function kv(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function yv(i){let e,l;return e=new ue({props:{type:"item",id:i[8].id}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function wv(i){let e,l=be(i[0].byId("item",i[8].id))+"",t;return{c(){e=p("a"),t=w(l),fe(e,"href","#/furniture/"+i[0].craftingPseudoItem(i[8].id))},m(n,o){g(n,e,o),d(e,t)},p:x,i:x,o:x,d(n){n&&h(e)}}}function Ev(i){let e,l=i[8].count+"",t,n,o,r=i[8].count!==1&&Tv();return{c(){e=w("("),t=w(l),n=w(" charge"),r&&r.c(),o=w(")")},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:x,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function Tv(i){let e;return{c(){e=w("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function xs(i){let e,l,t,n,o,r,f=i[10]!==0&&kv();const a=[wv,yv],s=[];function u(m,$){return m[0].craftingPseudoItem(m[8].id)?0:1}l=u(i),t=s[l]=a[l](i);let c=i[8].count>0&&Ev(i);return{c(){f&&f.c(),e=I(),t.c(),n=I(),c&&c.c(),o=ne()},m(m,$){f&&f.m(m,$),g(m,e,$),s[l].m(m,$),g(m,n,$),c&&c.m(m,$),g(m,o,$),r=!0},p(m,$){t.p(m,$),m[8].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){v(t),r=!1},d(m){f&&f.d(m),m&&h(e),s[l].d(m),m&&h(n),c&&c.d(m),m&&h(o)}}}function ea(i){let e,l,t,n=i[5],o=[];for(let f=0;f<n.length;f+=1)o[f]=xs(Xs(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&3){n=f[5];let s;for(s=0;s<n.length;s+=1){const u=Xs(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=xs(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function Sv(i){var $;let e,l,t,n,o,r,f=($=i[2])!=null?$:[],a=[];for(let k=0;k<f.length;k+=1)a[k]=Qs(Js(i,f,k));const s=k=>v(a[k],1,1,()=>{a[k]=null});let u=i[1],c=[];for(let k=0;k<u.length;k+=1)c[k]=ea(Vs(i,u,k));const m=k=>v(c[k],1,1,()=>{c[k]=null});return{c(){e=p("dt"),e.textContent="Tools Required",l=I(),t=p("dd"),n=p("ul");for(let k=0;k<a.length;k+=1)a[k].c();o=I();for(let k=0;k<c.length;k+=1)c[k].c()},m(k,y){g(k,e,y),g(k,l,y),g(k,t,y),d(t,n);for(let T=0;T<a.length;T+=1)a[T].m(n,null);d(n,o);for(let T=0;T<c.length;T+=1)c[T].m(n,null);r=!0},p(k,[y]){var T;if(y&4){f=(T=k[2])!=null?T:[];let E;for(E=0;E<f.length;E+=1){const S=Js(k,f,E);a[E]?(a[E].p(S,y),b(a[E],1)):(a[E]=Qs(S),a[E].c(),b(a[E],1),a[E].m(n,o))}for(Z(),E=f.length;E<a.length;E+=1)s(E);Q()}if(y&3){u=k[1];let E;for(E=0;E<u.length;E+=1){const S=Vs(k,u,E);c[E]?(c[E].p(S,y),b(c[E],1)):(c[E]=ea(S),c[E].c(),b(c[E],1),c[E].m(n,null))}for(Z(),E=u.length;E<c.length;E+=1)m(E);Q()}},i(k){if(!r){for(let y=0;y<f.length;y+=1)b(a[y]);for(let y=0;y<u.length;y+=1)b(c[y]);r=!0}},o(k){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)v(a[y]);c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)v(c[y]);r=!1},d(k){k&&h(e),k&&h(l),k&&h(t),ce(a,k),ce(c,k)}}}function Cv(i,e,l){let{requirement:t}=e,{direction:n="craft"}=e;const o=it("data");let{tools:r,qualities:f}=n==="craft"?o.normalizeRequirements(t):o.normalizeRequirementsForDisassembly(t);return i.$$set=a=>{"requirement"in a&&l(3,t=a.requirement),"direction"in a&&l(4,n=a.direction)},[o,r,f,t,n]}class yh extends Xe{constructor(e){super(),Ve(this,e,Cv,Sv,je,{requirement:3,direction:4})}}function ta(i,e,l){const t=i.slice();return t[6]=e[l],t}function la(i,e,l){const t=i.slice();return t[9]=e[l].id,t[10]=e[l].count,t[12]=l,t}function Iv(i){let e,l;return e=new yh({props:{requirement:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.requirement=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Rv(i){let e,l,t,n,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=ia(ta(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Components",l=I(),t=p("dd"),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),g(s,l,u),g(s,t,u),d(t,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&18){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=ta(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ia(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),s&&h(t),ce(f,s)}}}function Nv(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function na(i){let e,l,t,n=i[12]!==0&&Nv();return l=new ue({props:{type:"item",id:i[9],count:i[10]}}),{c(){n&&n.c(),e=I(),U(l.$$.fragment)},m(o,r){n&&n.m(o,r),g(o,e,r),L(l,o,r),t=!0},p:x,i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){v(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&h(e),G(l,o)}}}function ia(i){let e,l,t,n=i[6].map(i[5]).filter(ra),o=[];for(let f=0;f<n.length;f+=1)o[f]=na(la(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&18){n=f[6].map(f[5]).filter(ra);let s;for(s=0;s<n.length;s+=1){const u=la(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=na(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function Ov(i){var r,f;let e,l,t,n=(((r=i[3])==null?void 0:r.length)||((f=i[2])==null?void 0:f.length))&&Iv(i),o=i[4].length&&Rv(i);return{c(){n&&n.c(),e=I(),o&&o.c(),l=ne()},m(a,s){n&&n.m(a,s),g(a,e,s),o&&o.m(a,s),g(a,l,s),t=!0},p(a,[s]){var u,c;(((u=a[3])==null?void 0:u.length)||((c=a[2])==null?void 0:c.length))&&n.p(a,s),a[4].length&&o.p(a,s)},i(a){t||(b(n),b(o),t=!0)},o(a){v(n),v(o),t=!1},d(a){n&&n.d(a),a&&h(e),o&&o.d(a),a&&h(l)}}}const ra=i=>i.item;function Bv(i,e,l){let{requirement:t}=e;const n=it("data");let{tools:o,qualities:r,components:f}=n.normalizeRequirements(t);const a=s=>({...s,item:n.byId("item",s.id)});return i.$$set=s=>{"requirement"in s&&l(0,t=s.requirement)},[t,n,o,r,f,a]}class er extends Xe{constructor(e){super(),Ve(this,e,Bv,Ov,je,{requirement:0})}}function oa(i,e,l){const t=i.slice();return t[6]=e[l][0],t[7]=e[l][1]!==void 0?e[l][1]:0,t}function fa(i,e,l){const t=i.slice();return t[10]=e[l][0],t[7]=e[l][1],t}function sa(i,e,l){const t=i.slice();return t[10]=e[l][0],t[7]=e[l][1],t}function aa(i,e,l){const t=i.slice();return t[15]=e[l],t}function ua(i,e,l){const t=i.slice();return t[18]=e[l],t}function ca(i,e,l){const t=i.slice();return t[10]=e[l][0],t[7]=e[l][1],t[22]=l,t}function Av(i){let e;return{c(){e=w("Craft")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Mv(i){let e;return{c(){e=w("Byproduct")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function _a(i){let e,l,t,n;return t=new ue({props:{id:i[0].result,type:"item"}}),{c(){e=p("dt"),e.textContent="Result",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].result),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function Dv(i){let e;return{c(){e=w("none")},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function Lv(i){var f;let e,l,t=((f=i[0].difficulty)!=null?f:0)+"",n,o,r;return e=new ue({props:{type:"skill",id:i[0].skill_used}}),{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")")},m(a,s){L(e,a,s),g(a,l,s),g(a,n,s),g(a,o,s),r=!0},p(a,s){var c;const u={};s&1&&(u.id=a[0].skill_used),e.$set(u),(!r||s&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&P(n,t)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){G(e,a),a&&h(l),a&&h(n),a&&h(o)}}}function Gv(i){let e,l,t,n,o=i[2],r=[];for(let s=0;s<o.length;s+=1)r[s]=ma(ca(i,o,s));const f=s=>v(r[s],1,1,()=>{r[s]=null});let a=null;return o.length||(a=da()),{c(){e=p("dt"),e.textContent="Other Skills",l=p("dd");for(let s=0;s<r.length;s+=1)r[s].c();a&&a.c(),t=I()},m(s,u){g(s,e,u),g(s,l,u);for(let c=0;c<r.length;c+=1)r[c].m(l,null);a&&a.m(l,null),d(l,t),n=!0},p(s,u){if(u&4){o=s[2];let c;for(c=0;c<o.length;c+=1){const m=ca(s,o,c);r[c]?(r[c].p(m,u),b(r[c],1)):(r[c]=ma(m),r[c].c(),b(r[c],1),r[c].m(l,t))}for(Z(),c=o.length;c<r.length;c+=1)f(c);Q(),o.length?a&&(a.d(1),a=null):a||(a=da(),a.c(),a.m(l,t))}},i(s){if(!n){for(let u=0;u<o.length;u+=1)b(r[u]);n=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)v(r[u]);n=!1},d(s){s&&h(e),s&&h(l),ce(r,s),a&&a.d()}}}function da(i){let e;return{c(){e=w("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Uv(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function qv(i){let e=" and ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function ma(i){let e,l,t=i[7]+"",n,o,r,f;e=new ue({props:{type:"skill",id:i[10]}});function a(c,m){if(c[22]===c[2].length-2)return qv;if(c[22]!==c[2].length-1)return Uv}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")"),u&&u.c(),r=ne()},m(c,m){L(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p:x,i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function Pv(i){let e,l,t,n,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=pa(ua(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Proficiencies",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&16){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=ua(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=pa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Fv(i){let e,l=[[i[18].time_multiplier,"time"],[i[18].fail_multiplier,"fail"],[i[18].learning_time_multiplier,"learning speed"]].filter(Qv).map(xv).join(", ")+"",t,n;return{c(){e=w("("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function pa(i){let e,l,t,n,o;l=new ue({props:{type:"proficiency",id:i[18].proficiency}});let r=(i[18].time_multiplier!==1||i[18].fail_multiplier!==1||i[18].learning_time_multiplier!==1)&&Fv(i);return{c(){e=p("li"),U(l.$$.fragment),t=I(),r&&r.c(),n=I()},m(f,a){g(f,e,a),L(l,e,null),d(e,t),r&&r.m(e,null),d(e,n),o=!0},p(f,a){(f[18].time_multiplier!==1||f[18].fail_multiplier!==1||f[18].learning_time_multiplier!==1)&&r.p(f,a)},i(f){o||(b(l.$$.fragment,f),o=!0)},o(f){v(l.$$.fragment,f),o=!1},d(f){f&&h(e),G(l),r&&r.d()}}}function Yv(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function jv(i){let e=i[0].batch_time_factors[0]+"",l,t,n=i[0].batch_time_factors[1]+"",o,r,f=i[0].batch_time_factors[1]===1?"":"s",a;return{c(){l=w(e),t=w("% at >"),o=w(n),r=w(" unit"),a=w(f)},m(s,u){g(s,l,u),g(s,t,u),g(s,o,u),g(s,r,u),g(s,a,u)},p(s,u){u&1&&e!==(e=s[0].batch_time_factors[0]+"")&&P(l,e),u&1&&n!==(n=s[0].batch_time_factors[1]+"")&&P(o,n),u&1&&f!==(f=s[0].batch_time_factors[1]===1?"":"s")&&P(a,f)},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r),s&&h(a)}}}function ha(i){let e,l,t=i[0].charges+"",n;return{c(){e=p("dt"),e.textContent="Recipe Makes",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].charges+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function ga(i){let e,l,t,n,o,r=i[0].byproducts,f=[];for(let s=0;s<r.length;s+=1)f[s]=ba(aa(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Byproducts",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].byproducts;let c;for(c=0;c<r.length;c+=1){const m=aa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ba(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function ba(i){var n;let e,l,t;return l=new ue({props:{type:"item",id:i[15][0],count:(n=i[15][1])!=null?n:1}}),{c(){e=p("li"),U(l.$$.fragment)},m(o,r){g(o,e,r),L(l,e,null),t=!0},p(o,r){var a;const f={};r&1&&(f.id=o[15][0]),r&1&&(f.count=(a=o[15][1])!=null?a:1),l.$set(f)},i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){v(l.$$.fragment,o),t=!1},d(o){o&&h(e),G(l)}}}function Hv(i){let e;return{c(){e=w("no")},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function Wv(i){let e,l,t,n,o;const r=[Vv,zv],f=[];function a(s,u){return u&1&&(l=null),l==null&&(l=!!Array.isArray(s[0].autolearn)),l?0:1}return t=a(i,-1),n=f[t]=r[t](i),{c(){e=p("ul"),n.c(),fe(e,"class","comma-separated")},m(s,u){g(s,e,u),f[t].m(e,null),o=!0},p(s,u){let c=t;t=a(s,u),t===c?f[t].p(s,u):(Z(),v(f[c],1,1,()=>{f[c]=null}),Q(),n=f[t],n?n.p(s,u):(n=f[t]=r[t](s),n.c()),b(n,1),n.m(e,null))},i(s){o||(b(n),o=!0)},o(s){v(n),o=!1},d(s){s&&h(e),f[t].d()}}}function zv(i){let e,l,t,n,o=i[0].skill_used&&$a(i),r=i[2].length&&Xv(i),f=!i[0].skill_used&&!i[2].length&&ka();return{c(){o&&o.c(),e=I(),r&&r.c(),l=I(),f&&f.c(),t=ne()},m(a,s){o&&o.m(a,s),g(a,e,s),r&&r.m(a,s),g(a,l,s),f&&f.m(a,s),g(a,t,s),n=!0},p(a,s){a[0].skill_used?o?(o.p(a,s),s&1&&b(o,1)):(o=$a(a),o.c(),b(o,1),o.m(e.parentNode,e)):o&&(Z(),v(o,1,1,()=>{o=null}),Q()),a[2].length&&r.p(a,s),!a[0].skill_used&&!a[2].length?f||(f=ka(),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null)},i(a){n||(b(o),b(r),n=!0)},o(a){v(o),v(r),n=!1},d(a){o&&o.d(a),a&&h(e),r&&r.d(a),a&&h(l),f&&f.d(a),a&&h(t)}}}function Vv(i){let e,l,t=i[0].autolearn,n=[];for(let r=0;r<t.length;r+=1)n[r]=ya(sa(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const s=sa(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=ya(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){ce(n,r),r&&h(e)}}}function $a(i){var a;let e,l,t,n=((a=i[0].difficulty)!=null?a:0)+"",o,r,f;return l=new ue({props:{type:"skill",id:i[0].skill_used}}),{c(){e=p("li"),U(l.$$.fragment),t=w(" ("),o=w(n),r=w(")")},m(s,u){g(s,e,u),L(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(s,u){var m;const c={};u&1&&(c.id=s[0].skill_used),l.$set(c),(!f||u&1)&&n!==(n=((m=s[0].difficulty)!=null?m:0)+"")&&P(o,n)},i(s){f||(b(l.$$.fragment,s),f=!0)},o(s){v(l.$$.fragment,s),f=!1},d(s){s&&h(e),G(l)}}}function Xv(i){let e,l,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=va(fa(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f&4){t=r[2];let a;for(a=0;a<t.length;a+=1){const s=fa(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=va(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){ce(n,r),r&&h(e)}}}function va(i){let e,l,t,n=i[7]+"",o,r,f;return l=new ue({props:{type:"skill",id:i[10]}}),{c(){e=p("li"),U(l.$$.fragment),t=w(" ("),o=w(n),r=w(")")},m(a,s){g(a,e,s),L(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p:x,i(a){f||(b(l.$$.fragment,a),f=!0)},o(a){v(l.$$.fragment,a),f=!1},d(a){a&&h(e),G(l)}}}function ka(i){let e;return{c(){e=p("li"),e.textContent="At birth"},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function ya(i){let e,l,t,n=i[7]+"",o,r,f;return l=new ue({props:{type:"skill",id:i[10]}}),{c(){e=p("li"),U(l.$$.fragment),t=w(" ("),o=w(n),r=w(")")},m(a,s){g(a,e,s),L(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(a,s){const u={};s&1&&(u.id=a[10]),l.$set(u),(!f||s&1)&&n!==(n=a[7]+"")&&P(o,n)},i(a){f||(b(l.$$.fragment,a),f=!0)},o(a){v(l.$$.fragment,a),f=!1},d(a){a&&h(e),G(l)}}}function Jv(i){let e,l,t,n,o=i[3],r=[];for(let a=0;a<o.length;a+=1)r[a]=wa(oa(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Written In",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=oa(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=wa(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function wa(i){let e,l,t,n,o=i[7]+"",r,f,a;return t=new ue({props:{id:i[6],type:"item"}}),{c(){e=p("li"),l=p("span"),U(t.$$.fragment),n=w(" ("),r=w(o),f=w(")"),Je(l,"white-space","nowrap")},m(s,u){g(s,e,u),d(e,l),L(t,l,null),d(l,n),d(l,r),d(l,f),a=!0},p:x,i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){v(t.$$.fragment,s),a=!1},d(s){s&&h(e),G(t)}}}function Kv(i){var ye,ze,Ne;let e,l,t,n,o,r,f,a,s,u,c,m,$=((ye=i[0].time)!=null?ye:"0 m")+"",k,y,T,E=((ze=i[0].activity_level)!=null?ze:"MODERATE_EXERCISE")+"",S,C,R,D,O,A,B,M,V,J,N,j,z,F,Y,q,W=JSON.stringify(i[0],null,2)+"",re,H;function K(Me,Se){return Me[1]?Mv:Av}let ee=K(i),ie=ee(i),X=i[1]&&_a(i);const te=[Lv,Dv],me=[];function Ge(Me,Se){return Me[0].skill_used?0:1}f=Ge(i),a=me[f]=te[f](i);let Ie=i[2].length&&Gv(i),ae=i[4].length&&Pv(i);function ke(Me,Se){return Me[0].batch_time_factors?jv:Yv}let Ee=ke(i),de=Ee(i),Ue=i[0].charges&&ha(i);A=new er({props:{requirement:i[0]}});let Ce=((Ne=i[0].byproducts)==null?void 0:Ne.length)&&ga(i);const ge=[Wv,Hv],$e=[];function xe(Me,Se){return Me[0].autolearn?0:1}V=xe(i),J=$e[V]=ge[V](i);let se=i[3].length&&Jv(i);return{c(){e=p("section"),l=p("h1"),ie.c(),t=I(),n=p("dl"),X&&X.c(),o=p("dt"),o.textContent="Primary Skill",r=p("dd"),a.c(),s=I(),Ie&&Ie.c(),u=ne(),ae&&ae.c(),c=p("dt"),c.textContent="Time to Complete",m=p("dd"),k=w($),y=p("dt"),y.textContent="Activity Level",T=p("dd"),S=w(E),C=p("dt"),C.textContent="Batch Time Savings",R=p("dd"),de.c(),D=I(),Ue&&Ue.c(),O=ne(),U(A.$$.fragment),Ce&&Ce.c(),B=p("dt"),B.textContent=`Autolearn
    `,M=p("dd"),J.c(),N=I(),se&&se.c(),j=I(),z=p("details"),F=p("summary"),F.textContent="Recipe JSON",Y=I(),q=p("pre"),re=w(W),fe(B,"title","Learned at these skill levels, otherwise only learnable from a book"),fe(e,"class","recipe")},m(Me,Se){g(Me,e,Se),d(e,l),ie.m(l,null),d(e,t),d(e,n),X&&X.m(n,null),d(n,o),d(n,r),me[f].m(r,null),d(r,s),Ie&&Ie.m(n,null),d(n,u),ae&&ae.m(n,null),d(n,c),d(n,m),d(m,k),d(n,y),d(n,T),d(T,S),d(n,C),d(n,R),de.m(R,null),d(R,D),Ue&&Ue.m(n,null),d(n,O),L(A,n,null),Ce&&Ce.m(n,null),d(n,B),d(n,M),$e[V].m(M,null),d(M,N),se&&se.m(n,null),d(e,j),d(e,z),d(z,F),d(z,Y),d(z,q),d(q,re),H=!0},p(Me,[Se]){var Fe,Be,oe;ee!==(ee=K(Me))&&(ie.d(1),ie=ee(Me),ie&&(ie.c(),ie.m(l,null))),Me[1]?X?(X.p(Me,Se),Se&2&&b(X,1)):(X=_a(Me),X.c(),b(X,1),X.m(n,o)):X&&(Z(),v(X,1,1,()=>{X=null}),Q());let ve=f;f=Ge(Me),f===ve?me[f].p(Me,Se):(Z(),v(me[ve],1,1,()=>{me[ve]=null}),Q(),a=me[f],a?a.p(Me,Se):(a=me[f]=te[f](Me),a.c()),b(a,1),a.m(r,s)),Me[2].length&&Ie.p(Me,Se),Me[4].length&&ae.p(Me,Se),(!H||Se&1)&&$!==($=((Fe=Me[0].time)!=null?Fe:"0 m")+"")&&P(k,$),(!H||Se&1)&&E!==(E=((Be=Me[0].activity_level)!=null?Be:"MODERATE_EXERCISE")+"")&&P(S,E),Ee===(Ee=ke(Me))&&de?de.p(Me,Se):(de.d(1),de=Ee(Me),de&&(de.c(),de.m(R,D))),Me[0].charges?Ue?Ue.p(Me,Se):(Ue=ha(Me),Ue.c(),Ue.m(n,O)):Ue&&(Ue.d(1),Ue=null);const Ae={};Se&1&&(Ae.requirement=Me[0]),A.$set(Ae),(oe=Me[0].byproducts)!=null&&oe.length?Ce?(Ce.p(Me,Se),Se&1&&b(Ce,1)):(Ce=ga(Me),Ce.c(),b(Ce,1),Ce.m(n,B)):Ce&&(Z(),v(Ce,1,1,()=>{Ce=null}),Q());let Pe=V;V=xe(Me),V===Pe?$e[V].p(Me,Se):(Z(),v($e[Pe],1,1,()=>{$e[Pe]=null}),Q(),J=$e[V],J?J.p(Me,Se):(J=$e[V]=ge[V](Me),J.c()),b(J,1),J.m(M,N)),Me[3].length&&se.p(Me,Se),(!H||Se&1)&&W!==(W=JSON.stringify(Me[0],null,2)+"")&&P(re,W)},i(Me){H||(b(X),b(a),b(Ie),b(ae),b(A.$$.fragment,Me),b(Ce),b(J),b(se),H=!0)},o(Me){v(X),v(a),v(Ie),v(ae),v(A.$$.fragment,Me),v(Ce),v(J),v(se),H=!1},d(Me){Me&&h(e),ie.d(),X&&X.d(),me[f].d(),Ie&&Ie.d(),ae&&ae.d(),de.d(),Ue&&Ue.d(),G(A),Ce&&Ce.d(),$e[V].d(),se&&se.d()}}}function Zv(i){return i===void 0?[]:i.length===0?[]:Array.isArray(i[0])?i:[i]}const Qv=i=>i[0]!==1,xv=([i,e])=>`${i}\xD7 ${e}`;function ek(i,e,l){var s,u;let{recipe:t}=e,{showResult:n=!1}=e;const o=it("data");let r=Zv(t.skills_required);const f=Array.isArray(t.book_learn)?[...t.book_learn]:[...Object.entries((s=t.book_learn)!=null?s:{})].map(([c,m])=>[c,m.skill_level]);f.sort((c,m)=>{var $,k;return(($=c[1])!=null?$:0)-((k=m[1])!=null?k:0)});const a=((u=t.proficiencies)!=null?u:[]).map(c=>{const m=o.byId("proficiency",c.proficiency);return{fail_multiplier:m.default_fail_multiplier,time_multiplier:m.default_time_multiplier,learning_time_multiplier:1,...c}});return i.$$set=c=>{"recipe"in c&&l(0,t=c.recipe),"showResult"in c&&l(1,n=c.showResult)},[t,n,r,f,a]}class tk extends Xe{constructor(e){super(),Ve(this,e,ek,Kv,je,{recipe:0,showResult:1})}}function Ea(i,e,l){const t=i.slice();return t[6]=e[l],t}function lk(i){let e=[],l=new Map,t,n,o=i[2];const r=f=>f[6];for(let f=0;f<o.length;f+=1){let a=Ea(i,o,f),s=r(a);l.set(s,e[f]=Ta(s,a))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=ne()},m(f,a){for(let s=0;s<e.length;s+=1)e[s].m(f,a);g(f,t,a),n=!0},p(f,a){a&5&&(o=f[2],Z(),e=Gg(e,a,r,1,f,o,l,t.parentNode,Lg,Ta,t,Ea),Q())},i(f){if(!n){for(let a=0;a<o.length;a+=1)b(e[a]);n=!0}},o(f){for(let a=0;a<e.length;a+=1)v(e[a]);n=!1},d(f){for(let a=0;a<e.length;a+=1)e[a].d(f);f&&h(t)}}}function Ta(i,e){let l,t,n;return t=new tk({props:{recipe:e[6],showResult:e[6].result!==e[0]}}),{key:i,first:null,c(){l=ne(),U(t.$$.fragment),this.first=l},m(o,r){g(o,l,r),L(t,o,r),n=!0},p(o,r){e=o;const f={};r&1&&(f.showResult=e[6].result!==e[0]),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(l),G(t,o)}}}function nk(i){let e,l,t,n,o;return n=new st({props:{items:i[3],$$slots:{default:[ik,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Byproduct when crafting",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&544&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function ik(i){let e,l,t,n;return e=new et({props:{item:i[1].byId("item",i[5].result)}}),t=new ue({props:{type:"item",id:i[5].result}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&32&&(f.item=o[1].byId("item",o[5].result)),e.$set(f);const a={};r&32&&(a.id=o[5].result),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function rk(i){let e,l,t,n=i[2].length&&lk(i),o=i[3].length&&nk(i);return{c(){n&&n.c(),e=I(),o&&o.c(),l=ne()},m(r,f){n&&n.m(r,f),g(r,e,f),o&&o.m(r,f),g(r,l,f),t=!0},p(r,[f]){r[2].length&&n.p(r,f),r[3].length&&o.p(r,f)},i(r){t||(b(n),b(o),t=!0)},o(r){v(n),v(o),t=!1},d(r){n&&n.d(r),r&&h(e),o&&o.d(r),r&&h(l)}}}function ok(i,e,l){let{item_id:t}=e,n=it("data");const o=n.byType("recipe").filter(a=>a.result&&!a.obsolete);let r=o.filter(a=>a.result===t);const f=o.filter(a=>{var s;return((s=a.byproducts)!=null?s:[]).some(u=>u[0]===t)});return i.$$set=a=>{"item_id"in a&&l(0,t=a.item_id)},[t,n,r,f]}class fk extends Xe{constructor(e){super(),Ve(this,e,ok,rk,je,{item_id:0})}}function sk(i){let e,l,t,n,o;return n=new st({props:{items:i[0],$$slots:{default:[ak,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Salvage",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&34&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function ak(i){let e,l,t,n;return e=new et({props:{item:i[1]}}),t=new ue({props:{type:"item",id:i[1].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&2&&(f.item=o[1]),e.$set(f);const a={};r&2&&(a.id=o[1].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function uk(i){let e,l,t=i[0].length&&sk(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function ck(i,e,l){let{item_id:t}=e,n=it("data");const o=n.byId("item",t);function r(a){return n.byType("item").filter(s=>s.id).filter(s=>{var c;const u=typeof s.material=="string"?[s.material]:(c=s.material)!=null?c:[];return u.length===1&&u[0]===a.id})}const f=n.byType("material").filter(a=>a.id).filter(a=>a.salvaged_into===t).flatMap(a=>r(a)).filter(a=>{var s;return!((s=a.flags)!=null?s:[]).includes("NO_SALVAGE")}).filter(a=>Gi(a.weight)>=Gi(o.weight)).sort((a,s)=>be(a).localeCompare(be(s)));return i.$$set=a=>{"item_id"in a&&l(2,t=a.item_id)},[f,o,t]}class _k extends Xe{constructor(e){super(),Ve(this,e,ck,uk,je,{item_id:2})}}function nn(i,e){let l=[i!=null?i:1].flat();l.length===1&&(l=[l[0],l[0]]);let t=0,n=0;for(let o=l[0];o<=l[1];++o)t+=1-Math.pow(1-e,o),++n;return t/n}function Fi(i){var l,t;if(i.length===1&&((l=i[0].chance)!=null?l:1)===1)return i[0].loot;const e=new Map;for(const{loot:n,chance:o=1}of i)for(const[r,f]of n.entries()){const a=(t=e.get(r))!=null?t:0,s=f*o,u=1-(1-a)*(1-s);e.set(r,u)}return e}function dk(i,e,l){var o;const t={...i.object,rows:((o=i.object.rows)!=null?o:[]).slice(l*24,(l+1)*24).map(r=>r.slice(e*24,(e+1)*24))},n=r=>Array.isArray(r)?r[0]:r;return t.place_items&&(t.place_items=t.place_items.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),t.place_item&&(t.place_item=t.place_item.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),t.add&&(t.add=t.add.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),t.place_loot&&(t.place_loot=t.place_loot.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),t.place_nested&&(t.place_nested=t.place_nested.filter(r=>n(r.x)>=e&&n(r.y)>=l&&n(r.x)<e+24&&n(r.y)<l+24)),{...i,object:t}}const mk=typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback:function(i){var e=Date.now();return setTimeout(function(){i({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},0)};function Sa(){return new Promise(i=>{mk(i,{timeout:100})})}async function wh(i){let e=await Sa();return i(async()=>{e.timeRemaining()<=0&&(e=await Sa())})}const ur=new WeakMap;async function pk(i){if(ur.has(i))return ur.get(i);const e=new Map,l=(r,f)=>{e.has(r)||e.set(r,[]),e.get(r).push(f)},t=i.byType("mapgen").filter(r=>r.om_terrain!=null);for(const r of t)if(typeof r.om_terrain=="string")l(r.om_terrain,r);else if(typeof r.om_terrain[0]=="string")for(const f of r.om_terrain)l(f,r);else for(let f=0;f<r.om_terrain.length;f++)for(let a=0;a<r.om_terrain[f].length;a++)l(r.om_terrain[f][a],dk(r,a,f));const n=i.byType("overmap_special"),o=new Map;return await wh(async r=>{var f,a;for(const s of n){if(s.subtype==="mutable")continue;const u=[];for(const c of(f=s.overmaps)!=null?f:[]){const m=c.overmap.replace(/_(north|east|west|south)$/,""),$=(a=e.get(m))!=null?a:[],k=Yi($.map(y=>{var T;return{weight:(T=y.weight)!=null?T:1e3,loot:Th(i,y)}}));u.push(k),await r()}o.set(s.id,vk(u))}}),ur.set(i,o),o}function hk(i,e){var u;if(e.subtype==="mutable")return;const l=[...(u=e.overmaps)!=null?u:[]];let t=1/0,n=1/0,o=-1/0,r=-1/0;const f=new Map;for(const c of l){const m=c.overmap.replace(/_(north|south|east|west)$/,"");if(!i.byId("overmap_terrain",m))continue;const[$,k,y]=c.point;y===0&&($<t&&(t=$),k<n&&(n=k),$>o&&(o=$),k>r&&(r=k),f.set(`${$}|${k}`,c))}if(t===1/0||n===1/0)return;const a=[r-n,o-t];for(let c=n;c<=r;c++)for(let m=t;m<=o;m++){const $=f.get(`${m}|${c}`);if($){const k=$.overmap.replace(/_(north|south|east|west)$/,""),y=s(k);a.push(y)}else a.push("no_om")}return a.join("\0");function s(c){const m=i.byId("overmap_terrain",c);return m?`${m.sym}${m.color}${m.name}`:"appearance_unk"}}const gk=new Set(["Necropolis","Isherwood Farms","lab_mutagen_6_level","Lab_SECURITY_1x1x6","Lab_CARGO_Surface","hub_01","aircraft_carrier"]),cr=new WeakMap;function bk(i){return cr.has(i)||cr.set(i,$k(i)),cr.get(i)}async function $k(i){const e=await pk(i),l=new Map;return await wh(async t=>{for(const[n,o]of e.entries()){if(gk.has(n))continue;const r=hk(i,i.byId("overmap_special",n));if(!r)continue;l.has(r)||l.set(r,{loot:void 0,ids:[]});const f=l.get(r);f.loot?f.loot=Yi([{loot:f.loot,weight:1},{loot:o,weight:1}]):f.loot=o,await t(),f.ids.push(n)}}),l}function Yi(i){var t;const e=i.map(n=>n.weight).reduce((n,o)=>n+o,0),l=new Map;for(const{loot:n,weight:o}of i){const r=(o!=null?o:1e3)/e;for(const[f,a]of n.entries())l.set(f,((t=l.get(f))!=null?t:0)+a*r)}return l}function vk(i){var l;const e=new Map;for(const t of i)for(const[n,o]of t.entries()){const r=(l=e.get(n))!=null?l:0;e.set(n,1-(1-o)*(1-r))}return e}let _r=0;function Eh(i,e){if(_r+=1,_r>4)return new Map;const l=(e!=null?e:[]).map(n=>typeof n=="string"?[n,100]:n),t=Yi(l.map(([n,o])=>{var a;const r=(a=i.nestedMapgensById(n))!=null?a:[];return{loot:Yi(r.map(s=>{var m;const u=Th(i,s),c=(m=s.weight)!=null?m:1e3;return{loot:u,weight:c}})),weight:o}}));return _r-=1,t}const dr=new WeakMap;function Th(i,e){var c,m,$,k,y,T,E;if(dr.has(e))return dr.get(e);const l=Sh(i,e.object),t=((c=e.object.place_items)!=null?c:[]).map(({item:S,chance:C=100,repeat:R})=>({loot:ji(i,S),chance:nn(R,C/100)})),n=[...(m=e.object.place_item)!=null?m:[],...($=e.object.add)!=null?$:[]].map(({item:S,chance:C=100,repeat:R})=>({loot:new Map([[S,nn(R,C/100)]])})),o=((k=e.object.place_loot)!=null?k:[]).map(({item:S,group:C,chance:R=100,repeat:D})=>({loot:S?new Map([[S,1]]):ji(i,C),chance:nn(D,R/100)})),r=((y=e.object.place_nested)!=null?y:[]).map(S=>{var O;const C=Eh(i,S.chunks),R=(O=Array.isArray(S.repeat)?S.repeat[0]:S.repeat)!=null?O:1,D=new Map;for(const[A,B]of C.entries())D.set(A,1-Math.pow(1-B,R));return{loot:D}}),f=Fi([...t,...n,...o,...r]),a=new Map;for(const S of(T=e.object.rows)!=null?T:[])for(const C of S)l.has(C)&&a.set(C,((E=a.get(C))!=null?E:0)+1);const s=[];for(const[S,C]of a.entries()){const R=l.get(S),D=new Map;for(const[O,A]of R.entries())D.set(O,1-Math.pow(1-A,C));s.push({loot:D})}s.push({loot:f});const u=Fi(s);return dr.set(e,u),u}function ji(i,e){const l=typeof e=="string"?i.byId("item_group",e):Array.isArray(e)?{subtype:"collection",entries:e}:e,t=i.flattenItemGroup(l);return new Map(t.map(({id:n,prob:o})=>[n,o]))}function kk(i){return[i].map(e=>e.flatMap(l=>[...l])).map(e=>[...J0(e)]).map(e=>e.map(([l,t])=>[l,Fi(t.map(n=>({loot:n})))])).map(e=>new Map(e))[0]}function Ei(i,e){return new Map(Object.entries(i!=null?i:{}).map(([l,t])=>[l,Fi([t].flat().flatMap(n=>[...e(n)]))]))}const mr=new WeakMap;function Sh(i,e){var a;if(mr.has(e))return mr.get(e);const l=Ei(e.sealed_item,function*({item:s,items:u,chance:c=100}){var m,$;u&&(yield{loot:ji(i,u.item),chance:nn(u.repeat,c/100*(((m=u.chance)!=null?m:100)/100))}),s&&(yield{loot:new Map([[s.item,1]]),chance:nn(s.repeat,c/100*((($=s.chance)!=null?$:100)/100))})}),t=Ei(e.item,function*({item:s,chance:u=100,repeat:c}){yield{loot:new Map([[s,1]]),chance:nn(c,u/100)}}),n=Ei(e.items,function*({item:s,chance:u=100,repeat:c}){yield{loot:ji(i,s),chance:nn(c,u/100)}}),o=Ei(e.nested,function*({chunks:s}){yield{loot:Eh(i,s),chance:1}}),r=((a=e.palettes)!=null?a:[]).flatMap(s=>typeof s!="string"?[]:[i.byId("palette",s)]).map(s=>Sh(i,s)),f=kk([t,n,l,o,...r]);return mr.set(e,f),f}function Ca(i,e,l){const t=i.slice();return t[11]=e[l],t}function Ia(i,e,l){const t=i.slice();return t[14]=e[l],t}function Ra(i){var r;let e,l=((r=i[14].sym)!=null?r:"\xA0")+"",t,n,o;return{c(){e=p("span"),t=w(l),fe(e,"class",n="c_"+i[14].color),fe(e,"title",o=i[14].name)},m(f,a){g(f,e,a),d(e,t)},p:x,d(f){f&&h(e)}}}function Na(i){let e,l,t=i[11],n=[];for(let o=0;o<t.length;o+=1)n[o]=Ra(Ia(i,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=I(),l=p("br")},m(o,r){for(let f=0;f<n.length;f+=1)n[f].m(o,r);g(o,e,r),g(o,l,r)},p(o,r){if(r&1){t=o[11];let f;for(f=0;f<t.length;f+=1){const a=Ia(o,t,f);n[f]?n[f].p(a,r):(n[f]=Ra(a),n[f].c(),n[f].m(e.parentNode,e))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}},d(o){ce(n,o),o&&h(e),o&&h(l)}}}function yk(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=Na(Ca(i,l,n));return{c(){e=p("div");for(let n=0;n<t.length;n+=1)t[n].c();Je(e,"font-family","Unifont, monospace"),Je(e,"line-height","1"),Je(e,"display","inline-block"),Je(e,"white-space","pre")},m(n,o){g(n,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(n,[o]){if(o&1){l=n[0];let r;for(r=0;r<l.length;r+=1){const f=Ca(n,l,r);t[r]?t[r].p(f,o):(t[r]=Na(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:x,o:x,d(n){n&&h(e),ce(t,n)}}}function Oa(i){return i.every(e=>e.sym===" ")}function wk(i,e,l){var k;const t=it("data");let{overmapSpecial:n}=e;const o=[...(k=n.overmaps)!=null?k:[]];let r=1/0,f=1/0,a=-1/0,s=-1/0;const u=new Map;for(const y of o){const[T,E,S]=y.point;S===0&&(T<r&&(r=T),E<f&&(f=E),T>a&&(a=T),E>s&&(s=E),u.set(`${T}|${E}`,y))}const c=[];for(let y=f;y<=s;y++){const T=[];for(let E=r;E<=a;E++){const S=u.get(`${E}|${y}`);if(S){const[,C,R]=/^(.+?)(?:_(north|south|east|west))?$/.exec(S.overmap),D=$(C,R||"north");T.push(D)}else T.push({color:"black",sym:" ",name:""})}c.push(T)}for(;c.length;){const y=c[0];if(!Oa(y))break;c.shift()}for(;c.length;){const y=c[c.length-1];if(!Oa(y))break;c.pop()}function m(y,T){const E=T==="north"?0:T==="east"?1:T==="south"?2:T==="west"?3:0;if(E===0)return y;const S=t.byType("rotatable_symbol").find(C=>C.tuple.some(R=>R===y));return S?S.tuple[(S.tuple.indexOf(y)+E)%S.tuple.length]:y}function $(y,T="north"){const E=t.byId("overmap_terrain",y);return E?{color:E.color,sym:m(E.sym,T),name:Vt(E.name)}:{color:"black",sym:" ",name:""}}return i.$$set=y=>{"overmapSpecial"in y&&l(1,n=y.overmapSpecial)},[c,n]}class Ek extends Xe{constructor(e){super(),Ve(this,e,wk,yk,je,{overmapSpecial:1})}}function Ba(i,e,l){const t=i.slice();return t[7]=e[l],t}function Tk(i){return{c:x,m:x,p:x,i:x,o:x,d:x}}function Sk(i){let e,l,t=i[6].length&&Ck(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,o){n[6].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Ck(i){let e,l,t,n,o,r,f,a=i[6].slice(0,i[0]),s=[];for(let m=0;m<a.length;m+=1)s[m]=Aa(Ba(i,a,m));const u=m=>v(s[m],1,1,()=>{s[m]=null});let c=i[6].length>i[0]&&Ma(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Loot",t=I(),n=p("table"),o=p("tbody");for(let m=0;m<s.length;m+=1)s[m].c();r=I(),c&&c.c(),fe(n,"class","alternating")},m(m,$){g(m,e,$),d(e,l),d(e,t),d(e,n),d(n,o);for(let k=0;k<s.length;k+=1)s[k].m(o,null);d(e,r),c&&c.m(e,null),f=!0},p(m,$){if($&7){a=m[6].slice(0,m[0]);let k;for(k=0;k<a.length;k+=1){const y=Ba(m,a,k);s[k]?(s[k].p(y,$),b(s[k],1)):(s[k]=Aa(y),s[k].c(),b(s[k],1),s[k].m(o,null))}for(Z(),k=a.length;k<s.length;k+=1)u(k);Q()}m[6].length>m[0]?c?c.p(m,$):(c=Ma(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(m){if(!f){for(let $=0;$<a.length;$+=1)b(s[$]);f=!0}},o(m){s=s.filter(Boolean);for(let $=0;$<s.length;$+=1)v(s[$]);f=!1},d(m){m&&h(e),ce(s,m),c&&c.d()}}}function Aa(i){let e,l,t,n,o,r,f=i[2](i[7].overmap_special)+"",a,s,u,c=Pi(i[7].chance)+"",m,$,k,y;return t=new Ek({props:{overmapSpecial:i[7].overmap_special}}),{c(){e=p("tr"),l=p("td"),U(t.$$.fragment),n=I(),o=p("td"),r=p("span"),a=w(f),u=w(`
                (`),m=w(c),$=w(")"),k=I(),Je(l,"text-align","center"),fe(r,"title",s=i[7].ids.join(", ")),Je(o,"vertical-align","middle")},m(T,E){g(T,e,E),d(e,l),L(t,l,null),d(e,n),d(e,o),d(o,r),d(r,a),d(o,u),d(o,m),d(o,$),d(e,k),y=!0},p(T,E){const S={};E&1&&(S.overmapSpecial=T[7].overmap_special),t.$set(S),(!y||E&1)&&f!==(f=T[2](T[7].overmap_special)+"")&&P(a,f),(!y||E&1&&s!==(s=T[7].ids.join(", ")))&&fe(r,"title",s),(!y||E&1)&&c!==(c=Pi(T[7].chance)+"")&&P(m,c)},i(T){y||(b(t.$$.fragment,T),y=!0)},o(T){v(t.$$.fragment,T),y=!1},d(T){T&&h(e),G(t)}}}function Ma(i){let e,l,t=Number(i[6].length).toLocaleString()+"",n,o,r,f;return{c(){e=p("button"),l=w("See all "),n=w(t),o=w("..."),fe(e,"class","disclosure")},m(a,s){g(a,e,s),d(e,l),d(e,n),d(e,o),r||(f=Sl(e,"click",i[4]),r=!0)},p:x,d(a){a&&h(e),r=!1,f()}}}function Ik(i){let e;return{c(){e=p("section"),e.innerHTML=`<h1>Loot</h1> 
    <p style="color: var(--cata-color-gray)"><em>Loading...</em></p>`},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function Rk(i){let e,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Ik,then:Sk,catch:Tk,value:6,blocks:[,,,]};return Ag(i[1],t),{c(){e=ne(),t.block.c()},m(n,o){g(n,e,o),t.block.m(n,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(n,[o]){i=n,Mg(t,i,o)},i(n){l||(b(t.block),l=!0)},o(n){for(let o=0;o<3;o+=1){const r=t.blocks[o];v(r)}l=!1},d(n){n&&h(e),t.block.d(n),t.token=null,t=null}}}let pr=10,Da=4;function Nk(i,e,l){let{item_id:t}=e;const n=it("data"),o=bk(n).then(s=>{const u=[];for(const{loot:c,ids:m}of s.values())if(c.has(t)){const $=c.get(t),k=n.byId("overmap_special",m[0]);u.push({overmap_special:k,ids:m,chance:$})}return u.sort((c,m)=>m.chance-c.chance),l(0,f=u.length<=pr+Da?pr+Da:pr),u});function r(s){var C;if(s.subtype==="mutable")return s.id;const u=((C=s.overmaps)!=null?C:[]).filter(R=>R.point[2]===0);let c=1/0,m=1/0,$=-1/0,k=-1/0;const y=new Map;for(const R of u){const[D,O]=R.point;!n.byId("overmap_terrain",R.overmap.replace(/_(north|south|east|west)$/,""))||(D<c&&(c=D),O<m&&(m=O),D>$&&($=D),O>k&&(k=O),y.set(`${D}|${O}`,R))}const T=c+Math.floor(($-c)/2),E=m+Math.floor((k-m)/2),S=y.get(`${T}|${E}`);if(S){const R=n.byId("overmap_terrain",S.overmap.replace(/_(north|south|east|west)$/,""));if(R)return be(R)}return s.id}let f=0;const a=s=>{s.preventDefault(),l(0,f=1/0)};return i.$$set=s=>{"item_id"in s&&l(3,t=s.item_id)},[f,o,r,t,a]}class Ok extends Xe{constructor(e){super(),Ve(this,e,Nk,Rk,je,{item_id:3})}}function Bk(i){let e,l,t,n,o;return n=new st({props:{items:i[0],$$slots:{default:[Ak,({item:{vehicle:r,prob:f}})=>({3:r,4:f}),({item:r})=>(r?8:0)|(r?16:0)]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="In Vehicle",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&56&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Ak(i){let e,l,t=Pi(i[4])+"",n,o,r;return e=new ue({props:{id:i[3].id,type:"vehicle"}}),{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")")},m(f,a){L(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){const s={};a&8&&(s.id=f[3].id),e.$set(s),(!r||a&16)&&t!==(t=Pi(f[4])+"")&&P(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){v(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function Mk(i){let e,l,t=i[0].length&&Bk(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Dk(i,e,l){let{item_id:t}=e;const n=it("data"),o=n.byType("vehicle").flatMap(r=>{const f=bh(r),s=n.flattenItemGroup(f).find(u=>u.id===t);return s?[{vehicle:r,prob:s.prob,count:s.count}]:[]});return o.sort((r,f)=>f.prob-r.prob),i.$$set=r=>{"item_id"in r&&l(1,t=r.item_id)},[o,t]}class Lk extends Xe{constructor(e){super(),Ve(this,e,Dk,Mk,je,{item_id:1})}}function La(i){let e,l,t,n,o,r,f,a,s=i[0].charges_per_use&&Ga(i),u=i[0].power_draw&&Ua(i),c=i[0].turns_per_charge&&qa(i),m=i[0].sub&&Pa(i);return{c(){e=p("section"),l=p("h1"),l.textContent="Tool",t=I(),n=p("dl"),s&&s.c(),o=ne(),u&&u.c(),r=ne(),c&&c.c(),f=ne(),m&&m.c()},m($,k){g($,e,k),d(e,l),d(e,t),d(e,n),s&&s.m(n,null),d(n,o),u&&u.m(n,null),d(n,r),c&&c.m(n,null),d(n,f),m&&m.m(n,null),a=!0},p($,k){$[0].charges_per_use?s?s.p($,k):(s=Ga($),s.c(),s.m(n,o)):s&&(s.d(1),s=null),$[0].power_draw?u?u.p($,k):(u=Ua($),u.c(),u.m(n,r)):u&&(u.d(1),u=null),$[0].turns_per_charge?c?c.p($,k):(c=qa($),c.c(),c.m(n,f)):c&&(c.d(1),c=null),$[0].sub?m?(m.p($,k),k&1&&b(m,1)):(m=Pa($),m.c(),b(m,1),m.m(n,null)):m&&(Z(),v(m,1,1,()=>{m=null}),Q())},i($){a||(b(m),a=!0)},o($){v(m),a=!1},d($){$&&h(e),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d()}}}function Ga(i){let e,l,t=i[0].charges_per_use+"",n;return{c(){e=p("dt"),e.textContent="Charges Per Use",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].charges_per_use+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Ua(i){let e,l,t=(i[0].power_draw/1e3).toFixed(1)+"",n,o;return{c(){e=p("dt"),e.textContent="Power Draw",l=p("dd"),n=w(t),o=w(" W")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f&1&&t!==(t=(r[0].power_draw/1e3).toFixed(1)+"")&&P(n,t)},d(r){r&&h(e),r&&h(l)}}}function qa(i){let e,l,t=i[0].turns_per_charge+"",n;return{c(){e=p("dt"),e.textContent="Turns Per Charge",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].turns_per_charge+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Pa(i){let e,l,t,n;return t=new ue({props:{type:"item",id:i[0].sub}}),{c(){e=p("dt"),e.textContent="Substitute",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].sub),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function Gk(i){let e,l,t=(i[0].charges_per_use||i[0].sub||i[0].power_draw||i[0].turns_per_charge)&&La(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[0].charges_per_use||n[0].sub||n[0].power_draw||n[0].turns_per_charge?t?(t.p(n,o),o&1&&b(t,1)):(t=La(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Z(),v(t,1,1,()=>{t=null}),Q())},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Uk(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class qk extends Xe{constructor(e){super(),Ve(this,e,Uk,Gk,je,{item:0})}}function Fa(i){const e=Kr(i[3].use_action).find(l=>l.target===i[0]);i[4]=e}function Pk(i){let e,l,t,n,o;return n=new st({props:{items:i[2],$$slots:{default:[Fk,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Transformed From",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&41&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Ya(i){let e=" ",l,t,n=Yo(i[4].transform_age*100)+"",o,r;return{c(){l=w(e),t=w("("),o=w(n),r=w(")")},m(f,a){g(f,l,a),g(f,t,a),g(f,o,a),g(f,r,a)},p(f,a){a&9&&n!==(n=Yo(f[4].transform_age*100)+"")&&P(o,n)},d(f){f&&h(l),f&&h(t),f&&h(o),f&&h(r)}}}function Fk(i){Fa(i);let e,l,t,n,o;e=new et({props:{item:i[1].byId("item",i[3].id)}}),t=new ue({props:{type:"item",id:i[3].id}});let r=i[4].transform_age&&Ya(i);return{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment),r&&r.c(),n=ne()},m(f,a){L(e,f,a),g(f,l,a),L(t,f,a),r&&r.m(f,a),g(f,n,a),o=!0},p(f,a){Fa(f);const s={};a&8&&(s.item=f[1].byId("item",f[3].id)),e.$set(s);const u={};a&8&&(u.id=f[3].id),t.$set(u),f[4].transform_age?r?r.p(f,a):(r=Ya(f),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i(f){o||(b(e.$$.fragment,f),b(t.$$.fragment,f),o=!0)},o(f){v(e.$$.fragment,f),v(t.$$.fragment,f),o=!1},d(f){G(e,f),f&&h(l),G(t,f),r&&r.d(f),f&&h(n)}}}function Yk(i){let e,l,t=i[2].length&&Pk(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,[o]){n[2].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function jk(i,e,l){let{item_id:t}=e;const n=it("data"),o=n.byType("item").filter(r=>Kr(r.use_action).some(f=>f.target===t));return i.$$set=r=>{"item_id"in r&&l(0,t=r.item_id)},[t,n,o]}class Hk extends Xe{constructor(e){super(),Ve(this,e,jk,Yk,je,{item_id:0})}}function Wk(i){var y,T;let e,l,t,n,o,r,f=((y=i[0].diameter)!=null?y:0)+"",a,s,u,c,m=((T=i[0].width)!=null?T:0)+"",$,k;return{c(){e=p("section"),l=p("h1"),l.textContent="Wheel",t=I(),n=p("dl"),o=p("dt"),o.textContent="Diameter",r=p("dd"),a=w(f),s=w('"'),u=p("dt"),u.textContent="Width",c=p("dd"),$=w(m),k=w('"')},m(E,S){g(E,e,S),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,a),d(r,s),d(n,u),d(n,c),d(c,$),d(c,k)},p(E,[S]){var C,R;S&1&&f!==(f=((C=E[0].diameter)!=null?C:0)+"")&&P(a,f),S&1&&m!==(m=((R=E[0].width)!=null?R:0)+"")&&P($,m)},i:x,o:x,d(E){E&&h(e)}}}function zk(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class Vk extends Xe{constructor(e){super(),Ve(this,e,zk,Wk,je,{item:0})}}function ja(i,e,l){const t=i.slice();return t[20]=e[l],t}function Ha(i,e,l){const t=i.slice();return t[0]=e[l],t}function Wa(i,e,l){const t=i.slice();return t[25]=e[l],t}function za(i,e,l){const t=i.slice();return t[28]=e[l][0],t[29]=e[l][1],t}function Va(i,e,l){const t=i.slice();return t[28]=e[l],t}function Xa(i,e,l){const t=i.slice();return t[34]=e[l],t}function Ja(i,e,l){const t=i.slice();return t[28]=e[l].id,t[29]=e[l].count,t}function Ka(i,e,l){const t=i.slice();return t[39]=e[l],t}function Za(i,e,l){const t=i.slice();return t[42]=e[l].quality,t[43]=e[l].level,t}function Qa(i,e,l){const t=i.slice();return t[42]=e[l].quality,t[43]=e[l].level,t}function xa(i,e,l){const t=i.slice();return t[48]=e[l],t}function eu(i,e,l){const t=i.slice();return t[51]=e[l],t}function tu(i,e,l){const t=i.slice();return t[54]=e[l],t}function lu(i,e,l){const t=i.slice();return t[57]=e[l].type,t[28]=e[l].id,t}function nu(i,e,l){const t=i.slice();return t[60]=e[l].id,t[61]=e[l].max_charges,t}function iu(i,e,l){const t=i.slice();return t[64]=e[l],t}function ru(i,e,l){const t=i.slice();t[67]=e[l];const n=Vt(t[67].name);return t[68]=n,t}function ou(i){let e,l,t,n,o=i[0].variants,r=[];for(let f=0;f<o.length;f+=1)r[f]=su(ru(i,o,f));return{c(){e=p("dt"),e.textContent="AKA",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&1){o=f[0].variants;let s;for(s=0;s<o.length;s+=1){const u=ru(f,o,s);r[s]?r[s].p(u,a):(r[s]=su(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),ce(r,f)}}}function fu(i){let e,l=Vt(i[67].name)+"",t;return{c(){e=p("li"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o[0]&1&&l!==(l=Vt(n[67].name)+"")&&P(t,l)},d(n){n&&h(e)}}}function su(i){let e=i[68]!==be(i[0]),l,t=e&&fu(i);return{c(){t&&t.c(),l=ne()},m(n,o){t&&t.m(n,o),g(n,l,o)},p(n,o){o[0]&1&&(e=n[68]!==be(n[0])),e?t?t.p(n,o):(t=fu(n),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&h(l)}}}function Xk(i){let e,l,t,n,o,r=i[5],f=[];for(let s=0;s<r.length;s+=1)f[s]=au(iu(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Material",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&96){r=s[5];let c;for(c=0;c<r.length;c+=1){const m=iu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=au(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Jk(i){var f;let e=" ",l,t,n=(((f=i[64].portion)!=null?f:1)/i[6]*100).toFixed(0)+"",o,r;return{c(){l=w(e),t=w("("),o=w(n),r=w("%)")},m(a,s){g(a,l,s),g(a,t,s),g(a,o,s),g(a,r,s)},p:x,d(a){a&&h(l),a&&h(t),a&&h(o),a&&h(r)}}}function au(i){let e,l,t,n;l=new ue({props:{type:"material",id:i[64].type}});let o=i[5].length>1&&Jk(i);return{c(){e=p("li"),U(l.$$.fragment),o&&o.c(),t=I()},m(r,f){g(r,e,f),L(l,e,null),o&&o.m(e,null),d(e,t),n=!0},p(r,f){r[5].length>1&&o.p(r,f)},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){v(l.$$.fragment,r),n=!1},d(r){r&&h(e),G(l),o&&o.d()}}}function Kk(i){let e,l,t,n,o,r=i[12].map(i[18]),f=[];for(let s=0;s<r.length;s+=1)f[s]=uu(nu(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Ammo",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","no-bullets")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&6145){r=s[12].map(s[18]);let c;for(c=0;c<r.length;c+=1){const m=nu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=uu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function uu(i){let e,l=i[61]+"",t,n,o=i[0].type==="GUN"?"round":"charge",r,f=i[61]===1?"":"s",a,s,u,c,m;return u=new ue({props:{type:"ammunition_type",id:i[60]}}),{c(){e=p("li"),t=w(l),n=I(),r=w(o),a=w(f),s=w(` of
                  `),U(u.$$.fragment),c=I()},m($,k){g($,e,k),d(e,t),d(e,n),d(e,r),d(e,a),d(e,s),L(u,e,null),d(e,c),m=!0},p($,k){(!m||k[0]&1)&&o!==(o=$[0].type==="GUN"?"round":"charge")&&P(r,o)},i($){m||(b(u.$$.fragment,$),m=!0)},o($){v(u.$$.fragment,$),m=!1},d($){$&&h(e),G(u)}}}function Zk(i){let e,l,t,n,o,r=i[10],f=[];for(let s=0;s<r.length;s+=1)f[s]=cu(lu(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Compatible Magazines",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1024){r=s[10];let c;for(c=0;c<r.length;c+=1){const m=lu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=cu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function cu(i){let e,l,t;return l=new ue({props:{type:i[57],id:i[28]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function _u(i){let e,l,t,n,o,r=i[0].weapon_category,f=[];for(let s=0;s<r.length;s+=1)f[s]=du(tu(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Category",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const m=tu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=du(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function du(i){let e,l,t;return l=new ue({props:{type:"weapon_category",id:i[54]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[54]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function mu(i){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function pu(i){let e,l,t;return l=new ue({props:{type:"json_flag",id:i[51].id}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Qk(i){let e,l,t,n,o,r=i[8],f=[];for(let s=0;s<r.length;s+=1)f[s]=hu(xa(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Possible Faults",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&256){r=s[8];let c;for(c=0;c<r.length;c+=1){const m=xa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=hu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function hu(i){let e,l,t;return l=new ue({props:{type:"fault",id:i[48].id}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function xk(i){let e,l,t,n,o,r,f=i[3],a=[];for(let $=0;$<f.length;$+=1)a[$]=gu(Qa(i,f,$));const s=$=>v(a[$],1,1,()=>{a[$]=null});let u=i[4],c=[];for(let $=0;$<u.length;$+=1)c[$]=bu(Za(i,u,$));const m=$=>v(c[$],1,1,()=>{c[$]=null});return{c(){e=p("dt"),e.textContent="Qualities",l=p("dd"),t=p("ul");for(let $=0;$<a.length;$+=1)a[$].c();n=I();for(let $=0;$<c.length;$+=1)c[$].c();o=I(),fe(t,"class","no-bullets")},m($,k){g($,e,k),g($,l,k),d(l,t);for(let y=0;y<a.length;y+=1)a[y].m(t,null);d(t,n);for(let y=0;y<c.length;y+=1)c[y].m(t,null);d(l,o),r=!0},p($,k){if(k[0]&8){f=$[3];let y;for(y=0;y<f.length;y+=1){const T=Qa($,f,y);a[y]?(a[y].p(T,k),b(a[y],1)):(a[y]=gu(T),a[y].c(),b(a[y],1),a[y].m(t,n))}for(Z(),y=f.length;y<a.length;y+=1)s(y);Q()}if(k[0]&16){u=$[4];let y;for(y=0;y<u.length;y+=1){const T=Za($,u,y);c[y]?(c[y].p(T,k),b(c[y],1)):(c[y]=bu(T),c[y].c(),b(c[y],1),c[y].m(t,null))}for(Z(),y=u.length;y<c.length;y+=1)m(y);Q()}},i($){if(!r){for(let k=0;k<f.length;k+=1)b(a[k]);for(let k=0;k<u.length;k+=1)b(c[k]);r=!0}},o($){a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)v(a[k]);c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)v(c[k]);r=!1},d($){$&&h(e),$&&h(l),ce(a,$),ce(c,$)}}}function gu(i){let e,l,t,n=i[43]+"",o,r,f,a,s;return f=new ue({props:{type:"tool_quality",id:i[42].id}}),{c(){e=p("li"),l=w("Has level "),t=p("strong"),o=w(n),r=I(),U(f.$$.fragment),a=w(" quality.")},m(u,c){g(u,e,c),d(e,l),d(e,t),d(t,o),d(t,r),L(f,t,null),d(e,a),s=!0},p:x,i(u){s||(b(f.$$.fragment,u),s=!0)},o(u){v(f.$$.fragment,u),s=!1},d(u){u&&h(e),G(f)}}}function bu(i){let e,l,t,n=i[43]+"",o,r,f,a,s;return f=new ue({props:{type:"tool_quality",id:i[42].id}}),{c(){e=p("li"),l=w("Has level "),t=p("strong"),o=w(n),r=I(),U(f.$$.fragment),a=w(` quality
                  (when charged).
                `)},m(u,c){g(u,e,c),d(e,l),d(e,t),d(t,o),d(t,r),L(f,t,null),d(e,a),s=!0},p:x,i(u){s||(b(f.$$.fragment,u),s=!0)},o(u){v(f.$$.fragment,u),s=!1},d(u){u&&h(e),G(f)}}}function ey(i){let e,l,t,n,o,r=i[15],f=[];for(let s=0;s<r.length;s+=1)f[s]=$u(Ka(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Vehicle Parts",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&32768){r=s[15];let c;for(c=0;c<r.length;c+=1){const m=Ka(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=$u(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function $u(i){let e,l,t;return l=new ue({props:{type:"vehicle_part",id:i[39].id}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function ty(i){var c,m;let e,l,t,n,o,r,f=i[14].components,a=[];for(let $=0;$<f.length;$+=1)a[$]=vu(Ja(i,f,$));const s=$=>v(a[$],1,1,()=>{a[$]=null});let u=(((c=i[14].qualities)==null?void 0:c.length)||((m=i[14].tools)==null?void 0:m.length))&&ly(i);return{c(){e=p("dt"),e.textContent="Disassembles Into",l=p("dd"),t=p("ul");for(let $=0;$<a.length;$+=1)a[$].c();n=I(),u&&u.c(),o=I(),fe(t,"class","comma-separated")},m($,k){g($,e,k),g($,l,k),d(l,t);for(let y=0;y<a.length;y+=1)a[y].m(t,null);d(l,n),u&&u.m(l,null),d(l,o),r=!0},p($,k){var y,T;if(k[0]&16384){f=$[14].components;let E;for(E=0;E<f.length;E+=1){const S=Ja($,f,E);a[E]?(a[E].p(S,k),b(a[E],1)):(a[E]=vu(S),a[E].c(),b(a[E],1),a[E].m(t,null))}for(Z(),E=f.length;E<a.length;E+=1)s(E);Q()}(((y=$[14].qualities)==null?void 0:y.length)||((T=$[14].tools)==null?void 0:T.length))&&u.p($,k)},i($){if(!r){for(let k=0;k<f.length;k+=1)b(a[k]);b(u),r=!0}},o($){a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)v(a[k]);v(u),r=!1},d($){$&&h(e),$&&h(l),ce(a,$),u&&u.d()}}}function vu(i){let e,l,t;return l=new ue({props:{id:i[28],count:i[29],type:"item"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function ly(i){let e,l,t;return l=new yh({props:{requirement:i[13],direction:"uncraft"}}),{c(){e=p("dl"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function ny(i){let e,l,t,n,o=i[16],r=[];for(let a=0;a<o.length;a+=1)r[a]=ku(Xa(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Usage",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s[0]&65538){o=a[16];let u;for(u=0;u<o.length;u+=1){const c=Xa(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=ku(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function iy(i){let e=" ",l,t,n,o,r;return n=new ue({props:{type:"item",id:i[34].target}}),{c(){l=w(e),t=w(`(\u27F9
                    `),U(n.$$.fragment),o=w(")")},m(f,a){g(f,l,a),g(f,t,a),L(n,f,a),g(f,o,a),r=!0},p:x,i(f){r||(b(n.$$.fragment,f),r=!0)},o(f){v(n.$$.fragment,f),r=!1},d(f){f&&h(l),f&&h(t),G(n,f),f&&h(o)}}}function ku(i){var f;let e,l=((f=i[34].menu_text)!=null?f:be(i[1].byId("item_action",i[34].type)))+"",t,n,o,r=(i[34].type==="transform"||i[34].type==="delayed_transform")&&iy(i);return{c(){e=p("li"),t=w(l),r&&r.c(),n=I()},m(a,s){g(a,e,s),d(e,t),r&&r.m(e,null),d(e,n),o=!0},p(a,s){(a[34].type==="transform"||a[34].type==="delayed_transform")&&r.p(a,s)},i(a){o||(b(r),o=!0)},o(a){v(r),o=!1},d(a){a&&h(e),r&&r.d()}}}function ry(i){let e,l;return e=new W0({props:{picture:i[17]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function yu(i){let e,l;return e=new i$({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function wu(i){let e,l,t,n;const o=[fy,oy],r=[];function f(a,s){var u;return(u=a[1].build_number)!=null&&u.startsWith("0.F")?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function oy(i){let e,l;return e=new hb({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function fy(i){let e,l;return e=new zb({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Eu(i){let e,l;return e=new e$({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Tu(i){let e,l;return e=new qk({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Su(i){let e,l,t,n,o,r,f=i[0].displacement+"",a,s;return{c(){e=p("section"),l=p("h1"),l.textContent="Engine",t=I(),n=p("dl"),o=p("dt"),o.textContent="Displacement",r=p("dd"),a=w(f),s=w(" cc")},m(u,c){g(u,e,c),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,a),d(r,s)},p(u,c){c[0]&1&&f!==(f=u[0].displacement+"")&&P(a,f)},d(u){u&&h(e)}}}function Cu(i){let e,l;return e=new a$({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Iu(i){let e,l;return e=new Vk({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ru(i){let e,l;return e=new dv({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Nu(i){var E;let e,l,t,n,o,r,f,a,s,u,c=i[0].seed_data.grow+"",m,$,k=[i[0].seed_data.fruit].concat((E=i[0].seed_data.byproducts)!=null?E:[]),y=[];for(let S=0;S<k.length;S+=1)y[S]=Ou(Va(i,k,S));const T=S=>v(y[S],1,1,()=>{y[S]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Grows Into",t=I(),n=p("dl"),o=p("dt"),o.textContent="Harvest Results",r=p("dd"),f=p("ul");for(let S=0;S<y.length;S+=1)y[S].c();a=I(),s=p("dt"),s.textContent="Growing Time",u=p("dd"),m=w(c),fe(f,"class","comma-separated")},m(S,C){g(S,e,C),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r),d(r,f);for(let R=0;R<y.length;R+=1)y[R].m(f,null);d(r,a),d(n,s),d(n,u),d(u,m),$=!0},p(S,C){var R;if(C[0]&1){k=[S[0].seed_data.fruit].concat((R=S[0].seed_data.byproducts)!=null?R:[]);let D;for(D=0;D<k.length;D+=1){const O=Va(S,k,D);y[D]?(y[D].p(O,C),b(y[D],1)):(y[D]=Ou(O),y[D].c(),b(y[D],1),y[D].m(f,null))}for(Z(),D=k.length;D<y.length;D+=1)T(D);Q()}(!$||C[0]&1)&&c!==(c=S[0].seed_data.grow+"")&&P(m,c)},i(S){if(!$){for(let C=0;C<k.length;C+=1)b(y[C]);$=!0}},o(S){y=y.filter(Boolean);for(let C=0;C<y.length;C+=1)v(y[C]);$=!1},d(S){S&&h(e),ce(y,S)}}}function Ou(i){let e,l,t;return l=new ue({props:{type:"item",id:i[28]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[28]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Bu(i){let e,l,t,n,o,r;l=new $v({props:{item:i[0]}});const f=[ay,sy],a=[];function s(u,c){return u[0].type==="GUN"?0:u[0].type==="AMMO"?1:-1}return~(n=s(i))&&(o=a[n]=f[n](i)),{c(){e=p("div"),U(l.$$.fragment),t=I(),o&&o.c(),fe(e,"class","side-by-side")},m(u,c){g(u,e,c),L(l,e,null),d(e,t),~n&&a[n].m(e,null),r=!0},p(u,c){const m={};c[0]&1&&(m.item=u[0]),l.$set(m);let $=n;n=s(u),n===$?~n&&a[n].p(u,c):(o&&(Z(),v(a[$],1,1,()=>{a[$]=null}),Q()),~n?(o=a[n],o?o.p(u,c):(o=a[n]=f[n](u),o.c()),b(o,1),o.m(e,null)):o=null)},i(u){r||(b(l.$$.fragment,u),b(o),r=!0)},o(u){v(l.$$.fragment,u),v(o),r=!1},d(u){u&&h(e),G(l),~n&&a[n].d()}}}function sy(i){let e,l;return e=new X0({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function ay(i){let e,l;return e=new nv({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.item=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function uy(i){let e,l,t,n,o=i[9].filter(Gu),r=[];for(let a=0;a<o.length;a+=1)r[a]=Lu(ja(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Pockets",t=I();for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){g(a,e,s),d(e,l),d(e,t);for(let u=0;u<r.length;u+=1)r[u].m(e,null);n=!0},p(a,s){if(s[0]&512){o=a[9].filter(Gu);let u;for(u=0;u<o.length;u+=1){const c=ja(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Lu(c),r[u].c(),b(r[u],1),r[u].m(e,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),ce(r,a)}}}function cy(i){let e,l,t=i[20].max_contains_volume+"",n;return{c(){e=p("dt"),e.textContent="Volume Capacity",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function _y(i){let e,l,t=i[20].max_contains_weight+"",n;return{c(){e=p("dt"),e.textContent="Weight Capacity",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function dy(i){let e,l,t,n,o,r=[...Object.entries(i[20].ammo_restriction)],f=[];for(let s=0;s<r.length;s+=1)f[s]=Au(za(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Ammo Restriction",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&512){r=[...Object.entries(s[20].ammo_restriction)];let c;for(c=0;c<r.length;c+=1){const m=za(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Au(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Au(i){let e,l=i[29]+"",t,n,o=i[29]===1?"":"s",r,f,a,s,u;return a=new ue({props:{id:i[28],type:"ammunition_type"}}),{c(){e=p("li"),t=w(l),n=w(" round"),r=w(o),f=w(" of "),U(a.$$.fragment),s=I()},m(c,m){g(c,e,m),d(e,t),d(e,n),d(e,r),d(e,f),L(a,e,null),d(e,s),u=!0},p:x,i(c){u||(b(a.$$.fragment,c),u=!0)},o(c){v(a.$$.fragment,c),u=!1},d(c){c&&h(e),G(a)}}}function my(i){let e,l,t=i[20].max_item_length+"",n;return{c(){e=p("dt"),e.textContent="Max Item Length",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function py(i){let e,l,t=i[20].min_item_volume+"",n;return{c(){e=p("dt"),e.textContent="Min Item Volume",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function hy(i){let e,l;return{c(){e=p("dt"),e.textContent="Max Items",l=p("dd"),l.textContent="1"},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function gy(i){let e,l,t=i[20].sealed_data.spoil_multiplier+"",n;return{c(){e=p("dt"),e.textContent="Spoil Multiplier",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function by(i){let e,l,t,n,o,r=i[20].flag_restriction,f=[];for(let s=0;s<r.length;s+=1)f[s]=Mu(Wa(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Flag Restriction",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&512){r=s[20].flag_restriction;let c;for(c=0;c<r.length;c+=1){const m=Wa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Mu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Mu(i){let e,l,t;return l=new ue({props:{type:"json_flag",id:i[25]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function $y(i){let e,l,t,n,o,r=i[20].item_restriction,f=[];for(let s=0;s<r.length;s+=1)f[s]=Du(Ha(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Item Restriction",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&512){r=s[20].item_restriction;let c;for(c=0;c<r.length;c+=1){const m=Ha(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Du(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Du(i){let e,l,t;return l=new ue({props:{type:"item",id:i[0]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Lu(i){var A,B;let e,l,t,n,o,r,f,a=i[20].moves+"",s,u,c,m,$,k=i[20].max_contains_volume!=null&&cy(i),y=i[20].max_contains_weight!=null&&_y(i),T=i[20].ammo_restriction&&dy(i),E=i[20].max_item_length&&my(i),S=i[20].min_item_volume!=="0 ml"&&py(i),C=i[20].holster&&hy(),R=((B=(A=i[20].sealed_data)==null?void 0:A.spoil_multiplier)!=null?B:1)!==1&&gy(i),D=i[20].flag_restriction&&by(i),O=i[20].item_restriction&&$y(i);return{c(){e=p("dl"),k&&k.c(),l=ne(),y&&y.c(),t=ne(),T&&T.c(),n=ne(),E&&E.c(),o=ne(),S&&S.c(),r=p("dt"),r.textContent="Moves to Remove Item",f=p("dd"),s=w(a),C&&C.c(),u=ne(),R&&R.c(),c=ne(),D&&D.c(),m=ne(),O&&O.c()},m(M,V){g(M,e,V),k&&k.m(e,null),d(e,l),y&&y.m(e,null),d(e,t),T&&T.m(e,null),d(e,n),E&&E.m(e,null),d(e,o),S&&S.m(e,null),d(e,r),d(e,f),d(f,s),C&&C.m(e,null),d(e,u),R&&R.m(e,null),d(e,c),D&&D.m(e,null),d(e,m),O&&O.m(e,null),$=!0},p(M,V){var J,N;M[20].max_contains_volume!=null&&k.p(M,V),M[20].max_contains_weight!=null&&y.p(M,V),M[20].ammo_restriction&&T.p(M,V),M[20].max_item_length&&E.p(M,V),M[20].min_item_volume!=="0 ml"&&S.p(M,V),((N=(J=M[20].sealed_data)==null?void 0:J.spoil_multiplier)!=null?N:1)!==1&&R.p(M,V),M[20].flag_restriction&&D.p(M,V),M[20].item_restriction&&O.p(M,V)},i(M){$||(b(T),b(D),b(O),$=!0)},o(M){v(T),v(D),v(O),$=!1},d(M){M&&h(e),k&&k.d(),y&&y.d(),T&&T.d(),E&&E.d(),S&&S.d(),C&&C.d(),R&&R.d(),D&&D.d(),O&&O.d()}}}function vy(i){var Wl,Ol;let e,l,t,n=be(i[0])+"",o,r,f,a,s,u,c,m,$,k,y,T=Ql(i[0].volume)+"",E,S,C,R=kn(i[0].weight)+"",D,O,A,B=i[2](i[0])+"",M,V,J,N,j,z,F,Y,q,W,re,H,K,ee=Vt(i[0].description)+"",ie,X,te,me,Ge,Ie,ae,ke,Ee,de,Ue,Ce,ge,$e,xe=i[9].filter(yy).length,se,ye,ze,Ne,Me,Se,ve,Ae,Pe,Fe,Be,oe,Te,Re,we,Ke,Tt,dt,ct,gt,Ht,al,St,tt,nt,Le,We,kt,_t,At,yt,mt;l=new et({props:{item:i[0]}});let at=((Wl=i[0].variants)==null?void 0:Wl.length)&&ou(i),Ct=i[5].length&&Xk(i),It=i[12].length&&Kk(i),bt=i[10].length&&Zk(i),wt=((Ol=i[0].weapon_category)==null?void 0:Ol.length)&&_u(i),qt=i[7],rt=[];for(let le=0;le<qt.length;le+=1)rt[le]=pu(eu(i,qt,le));const Rl=le=>v(rt[le],1,1,()=>{rt[le]=null});let pt=null;qt.length||(pt=mu());let zt=i[8].length&&Qk(i),Ze=(i[3].length||i[4].length)&&xk(i),ul=i[15].length&&ey(i),Rt=i[14]&&ty(i),Pt=i[16].length&&ny(i),ht=i[17]&&ry(i),Gt=i[0].type==="BOOK"&&yu(i),ut=(i[0].type==="ARMOR"||i[0].type==="TOOL_ARMOR")&&wu(i),ot=i[0].type==="BIONIC_ITEM"&&Eu(i),ft=(i[0].type==="TOOL"||i[0].type==="TOOL_ARMOR")&&Tu(i),Nt=i[0].type==="ENGINE"&&i[0].displacement&&Su(i),Ot=i[0].type==="COMESTIBLE"&&Cu(i),Dt=i[0].type==="WHEEL"&&Iu(i),Ut=i[0].type==="MAGAZINE"&&Ru(i),Ft=i[0].seed_data&&Nu(i),Lt=(i[0].bashing||i[0].cutting||i[0].type==="GUN"||i[0].type==="AMMO")&&Bu(i),cl=xe&&uy(i);return ye=new v$({props:{item_id:i[0].id}}),ve=new fk({props:{item_id:i[0].id}}),Pe=new H$({props:{item_id:i[0].id}}),Be=new J$({props:{item_id:i[0].id}}),Te=new ev({props:{item_id:i[0].id}}),we=new sv({props:{item_id:i[0].id}}),Tt=new Hk({props:{item_id:i[0].id}}),ct=new D$({props:{item_id:i[0].id}}),Ht=new _k({props:{item_id:i[0].id}}),St=new T$({props:{item_id:i[0].id}}),nt=new N$({props:{item_id:i[0].id}}),We=new Zb({props:{item_id:i[0].id}}),_t=new Ok({props:{item_id:i[0].id}}),yt=new Lk({props:{item_id:i[0].id}}),{c(){e=p("h1"),U(l.$$.fragment),t=I(),o=w(n),r=I(),f=p("section"),a=p("h1"),a.textContent="General",s=I(),u=p("div"),c=p("div"),m=p("dl"),at&&at.c(),$=ne(),Ct&&Ct.c(),k=p("dt"),k.textContent="Volume",y=p("dd"),E=w(T),S=p("dt"),S.textContent="Weight",C=p("dd"),D=w(R),O=p("dt"),O.textContent="Length",A=p("dd"),M=w(B),It&&It.c(),V=ne(),bt&&bt.c(),J=ne(),wt&&wt.c(),N=p("dt"),N.textContent="Flags",j=p("dd"),z=p("ul");for(let le=0;le<rt.length;le+=1)rt[le].c();pt&&pt.c(),F=I(),zt&&zt.c(),Y=ne(),Ze&&Ze.c(),q=ne(),ul&&ul.c(),W=ne(),Rt&&Rt.c(),re=ne(),Pt&&Pt.c(),H=I(),K=p("p"),ie=w(ee),X=I(),te=p("div"),ht&&ht.c(),me=I(),Gt&&Gt.c(),Ge=I(),ut&&ut.c(),Ie=I(),ot&&ot.c(),ae=I(),ft&&ft.c(),ke=I(),Nt&&Nt.c(),Ee=I(),Ot&&Ot.c(),de=I(),Dt&&Dt.c(),Ue=I(),Ut&&Ut.c(),Ce=I(),Ft&&Ft.c(),ge=I(),Lt&&Lt.c(),$e=I(),cl&&cl.c(),se=I(),U(ye.$$.fragment),ze=I(),Ne=p("div"),Me=p("h2"),Me.textContent="Obtaining",Se=I(),U(ve.$$.fragment),Ae=I(),U(Pe.$$.fragment),Fe=I(),U(Be.$$.fragment),oe=I(),U(Te.$$.fragment),Re=I(),U(we.$$.fragment),Ke=I(),U(Tt.$$.fragment),dt=I(),U(ct.$$.fragment),gt=I(),U(Ht.$$.fragment),al=I(),U(St.$$.fragment),tt=I(),U(nt.$$.fragment),Le=I(),U(We.$$.fragment),kt=I(),U(_t.$$.fragment),At=I(),U(yt.$$.fragment),fe(z,"class","comma-separated"),Je(K,"color","var(--cata-color-gray)"),Je(K,"margin-bottom","0"),fe(u,"class","side-by-side no-margin"),fe(Me,"class","svelte-18ijh8q"),fe(Ne,"class","hide-header-if-no-sections svelte-18ijh8q")},m(le,De){g(le,e,De),L(l,e,null),d(e,t),d(e,o),g(le,r,De),g(le,f,De),d(f,a),d(f,s),d(f,u),d(u,c),d(c,m),at&&at.m(m,null),d(m,$),Ct&&Ct.m(m,null),d(m,k),d(m,y),d(y,E),d(m,S),d(m,C),d(C,D),d(m,O),d(m,A),d(A,M),It&&It.m(m,null),d(m,V),bt&&bt.m(m,null),d(m,J),wt&&wt.m(m,null),d(m,N),d(m,j),d(j,z);for(let bl=0;bl<rt.length;bl+=1)rt[bl].m(z,null);pt&&pt.m(z,null),d(j,F),zt&&zt.m(m,null),d(m,Y),Ze&&Ze.m(m,null),d(m,q),ul&&ul.m(m,null),d(m,W),Rt&&Rt.m(m,null),d(m,re),Pt&&Pt.m(m,null),d(c,H),d(c,K),d(K,ie),d(u,X),d(u,te),ht&&ht.m(te,null),g(le,me,De),Gt&&Gt.m(le,De),g(le,Ge,De),ut&&ut.m(le,De),g(le,Ie,De),ot&&ot.m(le,De),g(le,ae,De),ft&&ft.m(le,De),g(le,ke,De),Nt&&Nt.m(le,De),g(le,Ee,De),Ot&&Ot.m(le,De),g(le,de,De),Dt&&Dt.m(le,De),g(le,Ue,De),Ut&&Ut.m(le,De),g(le,Ce,De),Ft&&Ft.m(le,De),g(le,ge,De),Lt&&Lt.m(le,De),g(le,$e,De),cl&&cl.m(le,De),g(le,se,De),L(ye,le,De),g(le,ze,De),g(le,Ne,De),d(Ne,Me),d(Ne,Se),L(ve,Ne,null),d(Ne,Ae),L(Pe,Ne,null),d(Ne,Fe),L(Be,Ne,null),d(Ne,oe),L(Te,Ne,null),d(Ne,Re),L(we,Ne,null),d(Ne,Ke),L(Tt,Ne,null),d(Ne,dt),L(ct,Ne,null),d(Ne,gt),L(Ht,Ne,null),d(Ne,al),L(St,Ne,null),d(Ne,tt),L(nt,Ne,null),d(Ne,Le),L(We,Ne,null),d(Ne,kt),L(_t,Ne,null),d(Ne,At),L(yt,Ne,null),mt=!0},p(le,De){var Zt,Qt;const bl={};if(De[0]&1&&(bl.item=le[0]),l.$set(bl),(!mt||De[0]&1)&&n!==(n=be(le[0])+"")&&P(o,n),(Zt=le[0].variants)!=null&&Zt.length?at?at.p(le,De):(at=ou(le),at.c(),at.m(m,$)):at&&(at.d(1),at=null),le[5].length&&Ct.p(le,De),(!mt||De[0]&1)&&T!==(T=Ql(le[0].volume)+"")&&P(E,T),(!mt||De[0]&1)&&R!==(R=kn(le[0].weight)+"")&&P(D,R),(!mt||De[0]&1)&&B!==(B=le[2](le[0])+"")&&P(M,B),le[12].length&&It.p(le,De),le[10].length&&bt.p(le,De),(Qt=le[0].weapon_category)!=null&&Qt.length?wt?(wt.p(le,De),De[0]&1&&b(wt,1)):(wt=_u(le),wt.c(),b(wt,1),wt.m(m,N)):wt&&(Z(),v(wt,1,1,()=>{wt=null}),Q()),De[0]&128){qt=le[7];let vt;for(vt=0;vt<qt.length;vt+=1){const xt=eu(le,qt,vt);rt[vt]?(rt[vt].p(xt,De),b(rt[vt],1)):(rt[vt]=pu(xt),rt[vt].c(),b(rt[vt],1),rt[vt].m(z,null))}for(Z(),vt=qt.length;vt<rt.length;vt+=1)Rl(vt);Q(),!qt.length&&pt?pt.p(le,De):qt.length?pt&&(pt.d(1),pt=null):(pt=mu(),pt.c(),pt.m(z,null))}le[8].length&&zt.p(le,De),(le[3].length||le[4].length)&&Ze.p(le,De),le[15].length&&ul.p(le,De),le[14]&&Rt.p(le,De),le[16].length&&Pt.p(le,De),(!mt||De[0]&1)&&ee!==(ee=Vt(le[0].description)+"")&&P(ie,ee),le[17]&&ht.p(le,De),le[0].type==="BOOK"?Gt?(Gt.p(le,De),De[0]&1&&b(Gt,1)):(Gt=yu(le),Gt.c(),b(Gt,1),Gt.m(Ge.parentNode,Ge)):Gt&&(Z(),v(Gt,1,1,()=>{Gt=null}),Q()),le[0].type==="ARMOR"||le[0].type==="TOOL_ARMOR"?ut?(ut.p(le,De),De[0]&1&&b(ut,1)):(ut=wu(le),ut.c(),b(ut,1),ut.m(Ie.parentNode,Ie)):ut&&(Z(),v(ut,1,1,()=>{ut=null}),Q()),le[0].type==="BIONIC_ITEM"?ot?(ot.p(le,De),De[0]&1&&b(ot,1)):(ot=Eu(le),ot.c(),b(ot,1),ot.m(ae.parentNode,ae)):ot&&(Z(),v(ot,1,1,()=>{ot=null}),Q()),le[0].type==="TOOL"||le[0].type==="TOOL_ARMOR"?ft?(ft.p(le,De),De[0]&1&&b(ft,1)):(ft=Tu(le),ft.c(),b(ft,1),ft.m(ke.parentNode,ke)):ft&&(Z(),v(ft,1,1,()=>{ft=null}),Q()),le[0].type==="ENGINE"&&le[0].displacement?Nt?Nt.p(le,De):(Nt=Su(le),Nt.c(),Nt.m(Ee.parentNode,Ee)):Nt&&(Nt.d(1),Nt=null),le[0].type==="COMESTIBLE"?Ot?(Ot.p(le,De),De[0]&1&&b(Ot,1)):(Ot=Cu(le),Ot.c(),b(Ot,1),Ot.m(de.parentNode,de)):Ot&&(Z(),v(Ot,1,1,()=>{Ot=null}),Q()),le[0].type==="WHEEL"?Dt?(Dt.p(le,De),De[0]&1&&b(Dt,1)):(Dt=Iu(le),Dt.c(),b(Dt,1),Dt.m(Ue.parentNode,Ue)):Dt&&(Z(),v(Dt,1,1,()=>{Dt=null}),Q()),le[0].type==="MAGAZINE"?Ut?(Ut.p(le,De),De[0]&1&&b(Ut,1)):(Ut=Ru(le),Ut.c(),b(Ut,1),Ut.m(Ce.parentNode,Ce)):Ut&&(Z(),v(Ut,1,1,()=>{Ut=null}),Q()),le[0].seed_data?Ft?(Ft.p(le,De),De[0]&1&&b(Ft,1)):(Ft=Nu(le),Ft.c(),b(Ft,1),Ft.m(ge.parentNode,ge)):Ft&&(Z(),v(Ft,1,1,()=>{Ft=null}),Q()),le[0].bashing||le[0].cutting||le[0].type==="GUN"||le[0].type==="AMMO"?Lt?(Lt.p(le,De),De[0]&1&&b(Lt,1)):(Lt=Bu(le),Lt.c(),b(Lt,1),Lt.m($e.parentNode,$e)):Lt&&(Z(),v(Lt,1,1,()=>{Lt=null}),Q()),xe&&cl.p(le,De);const Bl={};De[0]&1&&(Bl.item_id=le[0].id),ye.$set(Bl);const Al={};De[0]&1&&(Al.item_id=le[0].id),ve.$set(Al);const Ml={};De[0]&1&&(Ml.item_id=le[0].id),Pe.$set(Ml);const Dl={};De[0]&1&&(Dl.item_id=le[0].id),Be.$set(Dl);const Ll={};De[0]&1&&(Ll.item_id=le[0].id),Te.$set(Ll);const Gl={};De[0]&1&&(Gl.item_id=le[0].id),we.$set(Gl);const Ul={};De[0]&1&&(Ul.item_id=le[0].id),Tt.$set(Ul);const ql={};De[0]&1&&(ql.item_id=le[0].id),ct.$set(ql);const Pl={};De[0]&1&&(Pl.item_id=le[0].id),Ht.$set(Pl);const $t={};De[0]&1&&($t.item_id=le[0].id),St.$set($t);const Jt={};De[0]&1&&(Jt.item_id=le[0].id),nt.$set(Jt);const Kt={};De[0]&1&&(Kt.item_id=le[0].id),We.$set(Kt);const hl={};De[0]&1&&(hl.item_id=le[0].id),_t.$set(hl);const Yt={};De[0]&1&&(Yt.item_id=le[0].id),yt.$set(Yt)},i(le){if(!mt){b(l.$$.fragment,le),b(Ct),b(It),b(bt),b(wt);for(let De=0;De<qt.length;De+=1)b(rt[De]);b(zt),b(Ze),b(ul),b(Rt),b(Pt),b(ht),b(Gt),b(ut),b(ot),b(ft),b(Ot),b(Dt),b(Ut),b(Ft),b(Lt),b(cl),b(ye.$$.fragment,le),b(ve.$$.fragment,le),b(Pe.$$.fragment,le),b(Be.$$.fragment,le),b(Te.$$.fragment,le),b(we.$$.fragment,le),b(Tt.$$.fragment,le),b(ct.$$.fragment,le),b(Ht.$$.fragment,le),b(St.$$.fragment,le),b(nt.$$.fragment,le),b(We.$$.fragment,le),b(_t.$$.fragment,le),b(yt.$$.fragment,le),mt=!0}},o(le){v(l.$$.fragment,le),v(Ct),v(It),v(bt),v(wt),rt=rt.filter(Boolean);for(let De=0;De<rt.length;De+=1)v(rt[De]);v(zt),v(Ze),v(ul),v(Rt),v(Pt),v(ht),v(Gt),v(ut),v(ot),v(ft),v(Ot),v(Dt),v(Ut),v(Ft),v(Lt),v(cl),v(ye.$$.fragment,le),v(ve.$$.fragment,le),v(Pe.$$.fragment,le),v(Be.$$.fragment,le),v(Te.$$.fragment,le),v(we.$$.fragment,le),v(Tt.$$.fragment,le),v(ct.$$.fragment,le),v(Ht.$$.fragment,le),v(St.$$.fragment,le),v(nt.$$.fragment,le),v(We.$$.fragment,le),v(_t.$$.fragment,le),v(yt.$$.fragment,le),mt=!1},d(le){le&&h(e),G(l),le&&h(r),le&&h(f),at&&at.d(),Ct&&Ct.d(),It&&It.d(),bt&&bt.d(),wt&&wt.d(),ce(rt,le),pt&&pt.d(),zt&&zt.d(),Ze&&Ze.d(),ul&&ul.d(),Rt&&Rt.d(),Pt&&Pt.d(),ht&&ht.d(),le&&h(me),Gt&&Gt.d(le),le&&h(Ge),ut&&ut.d(le),le&&h(Ie),ot&&ot.d(le),le&&h(ae),ft&&ft.d(le),le&&h(ke),Nt&&Nt.d(le),le&&h(Ee),Ot&&Ot.d(le),le&&h(de),Dt&&Dt.d(le),le&&h(Ue),Ut&&Ut.d(le),le&&h(Ce),Ft&&Ft.d(le),le&&h(ge),Lt&&Lt.d(le),le&&h($e),cl&&cl.d(le),le&&h(se),G(ye,le),le&&h(ze),le&&h(Ne),G(ve),G(Pe),G(Be),G(Te),G(we),G(Tt),G(ct),G(Ht),G(St),G(nt),G(We),G(_t),G(yt)}}}function ky(i){return typeof i[0]=="string"}const yy=i=>i.pocket_type==="CONTAINER",Gu=i=>i.pocket_type==="CONTAINER";function wy(i,e,l){var A,B,M,V,J;let{item:t}=e,n=it("data");function o(N){return N.longest_side?N.longest_side:`${Math.round(Math.cbrt(Jr(N.volume)))} cm`}let r=((A=t.qualities)!=null?A:[]).map(([N,j])=>({quality:n.byId("tool_quality",N),level:j})),f=((B=t.charged_qualities)!=null?B:[]).map(([N,j])=>({quality:n.byId("tool_quality",N),level:j}));const a=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:ky(t.material)?t.material.map(N=>({type:N,portion:1})):t.material,s=a.reduce((N,j)=>{var z;return N+((z=j.portion)!=null?z:1)},0);let u=((M=t.flags)!=null?M:[]).map(N=>{var j;return(j=n.byId("json_flag",N))!=null?j:{id:N}}),c=((V=t.faults)!=null?V:[]).map(N=>n.byId("fault",N));const m={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let $=((J=t.pocket_data)!=null?J:[]).map(N=>({...m,...N})),k=$.filter(N=>N.pocket_type==="MAGAZINE_WELL").flatMap(N=>{var j,z;return(z=(j=N.item_restriction)==null?void 0:j.map(F=>({type:"item",id:F})))!=null?z:N.flag_restriction.map(F=>({type:"json_flag",id:F}))});function y(N){var z;let j=0;for(const F of $)F.pocket_type==="MAGAZINE"&&F.ammo_restriction&&(j+=(z=F.ammo_restriction[N])!=null?z:0);return j}let T=$.flatMap(N=>{var j;return N.pocket_type==="MAGAZINE"?Object.keys((j=N.ammo_restriction)!=null?j:{}):[]});const E=n.uncraftRecipe(t.id),S=E?(()=>{const{components:N,qualities:j,tools:z}=n.normalizeRequirementsForDisassembly(E);return{components:N.map(Y=>Y[0]),qualities:j,tools:z}})():void 0,C=n.byType("vehicle_part").filter(N=>N.id&&N.item===t.id),R=Kr(t.use_action).map(N=>N.type==="repair_item"?{type:N.item_action_type}:N),D=t.ascii_picture&&n.byId("ascii_art",t.ascii_picture),O=N=>({id:N,max_charges:y(N)});return i.$$set=N=>{"item"in N&&l(0,t=N.item)},[t,n,o,r,f,a,s,u,c,$,k,y,T,E,S,C,R,D,O]}class _l extends Xe{constructor(e){super(),Ve(this,e,wy,vy,je,{item:0},null,[-1,-1,-1])}}function Ey(i){let e,l=JSON.stringify(i[0],null,2)+"",t;return{c(){e=p("pre"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p(n,[o]){o&1&&l!==(l=JSON.stringify(n[0],null,2)+"")&&P(t,l)},i:x,o:x,d(n){n&&h(e)}}}function Ty(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class Hi extends Xe{constructor(e){super(),Ve(this,e,Ty,Ey,je,{item:0})}}function Uu(i){let e,l,t,n;return t=new ue({props:{type:"item",id:i[0].repaired_with}}),{c(){e=p("dt"),e.textContent="Repaired With",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].repaired_with),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function qu(i){let e,l,t,n;return t=new ue({props:{type:"item",id:i[0].salvaged_into}}),{c(){e=p("dt"),e.textContent="Salvaged Into",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].salvaged_into),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function Sy(i){let e,l,t,n=be(i[0])+"",o,r,f,a;return f=new st({props:{items:i[1],$$slots:{default:[Cy,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),t=w("Items Made From "),o=w(n),r=I(),U(f.$$.fragment)},m(s,u){g(s,e,u),d(e,l),d(l,t),d(l,o),d(e,r),L(f,e,null),a=!0},p(s,u){(!a||u&1)&&n!==(n=be(s[0])+"")&&P(o,n);const c={};u&9&&(c.$$scope={dirty:u,ctx:s}),f.$set(c)},i(s){a||(b(f.$$.fragment,s),a=!0)},o(s){v(f.$$.fragment,s),a=!1},d(s){s&&h(e),G(f)}}}function Cy(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{id:i[0].id,type:"item"}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Iy(i){var Ke,Tt,dt,ct,gt,Ht,al,St;let e,l,t=be(i[0])+"",n,o,r,f,a,s,u,c,m=i[0].density+"",$,k,y,T=((Ke=i[0].specific_heat_liquid)!=null?Ke:4.186)+"",E,S,C=((Tt=i[0].specific_heat_solid)!=null?Tt:2.108)+"",R,D,O,A,B=((dt=i[0].latent_heat)!=null?dt:334)+"",M,V,J,N,j,z,F=((ct=i[0].bash_resist)!=null?ct:0)+"",Y,q,W,re=((gt=i[0].cut_resist)!=null?gt:0)+"",H,K,ee,ie=((Ht=i[0].bullet_resist)!=null?Ht:0)+"",X,te,me,Ge=((al=i[0].acid_resist)!=null?al:0)+"",Ie,ae,ke,Ee=((St=i[0].chip_resist)!=null?St:0)+"",de,Ue,Ce,ge=i[0].elec_resist===0||i[0].elec_resist===1||i[0].conductive?"yes":"no",$e,xe,se,ye,ze,Ne=i[0].edible?"yes":"no",Me,Se,ve,Ae=i[0].rotting?"yes":"no",Pe,Fe,Be,oe,Te=i[0].repaired_with&&Uu(i),Re=i[0].salvaged_into&&qu(i),we=i[1].length&&Sy(i);return{c(){e=p("h1"),l=w("Material: "),n=w(t),o=I(),r=p("section"),f=p("h1"),f.textContent="Properties",a=I(),s=p("dl"),u=p("dt"),u.textContent="Density",c=p("dd"),$=w(m),k=p("dt"),k.textContent="Specific Heat",y=p("dd"),E=w(T),S=w(" (liquid) / "),R=w(C),D=w(` (solid)
    `),O=p("dt"),O.textContent="Latent Heat",A=p("dd"),M=w(B),V=p("dt"),V.textContent="Resistance",J=p("dd"),N=p("dl"),j=p("dt"),j.textContent="Bash",z=p("dd"),Y=w(F),q=p("dt"),q.textContent="Cut",W=p("dd"),H=w(re),K=p("dt"),K.textContent="Ballistic",ee=p("dd"),X=w(ie),te=p("dt"),te.textContent="Acid",me=p("dd"),Ie=w(Ge),ae=p("dt"),ae.textContent="Chip",ke=p("dd"),de=w(Ee),Ue=p("dt"),Ue.textContent="Conductive",Ce=p("dd"),$e=w(ge),xe=I(),Te&&Te.c(),se=ne(),Re&&Re.c(),ye=p("dt"),ye.textContent="Edible",ze=p("dd"),Me=w(Ne),Se=p("dt"),Se.textContent="Rots",ve=p("dd"),Pe=w(Ae),Fe=I(),we&&we.c(),Be=ne(),fe(u,"title","Relative to 'powder', which is 1"),fe(ae,"title","Resistance to physical damage of the item itself"),fe(Se,"title","Corpses made of this material will go bad")},m(tt,nt){g(tt,e,nt),d(e,l),d(e,n),g(tt,o,nt),g(tt,r,nt),d(r,f),d(r,a),d(r,s),d(s,u),d(s,c),d(c,$),d(s,k),d(s,y),d(y,E),d(y,S),d(y,R),d(y,D),d(s,O),d(s,A),d(A,M),d(s,V),d(s,J),d(J,N),d(N,j),d(N,z),d(z,Y),d(N,q),d(N,W),d(W,H),d(N,K),d(N,ee),d(ee,X),d(N,te),d(N,me),d(me,Ie),d(N,ae),d(N,ke),d(ke,de),d(N,Ue),d(N,Ce),d(Ce,$e),d(J,xe),Te&&Te.m(s,null),d(s,se),Re&&Re.m(s,null),d(s,ye),d(s,ze),d(ze,Me),d(s,Se),d(s,ve),d(ve,Pe),g(tt,Fe,nt),we&&we.m(tt,nt),g(tt,Be,nt),oe=!0},p(tt,[nt]){var Le,We,kt,_t,At,yt,mt,at;(!oe||nt&1)&&t!==(t=be(tt[0])+"")&&P(n,t),(!oe||nt&1)&&m!==(m=tt[0].density+"")&&P($,m),(!oe||nt&1)&&T!==(T=((Le=tt[0].specific_heat_liquid)!=null?Le:4.186)+"")&&P(E,T),(!oe||nt&1)&&C!==(C=((We=tt[0].specific_heat_solid)!=null?We:2.108)+"")&&P(R,C),(!oe||nt&1)&&B!==(B=((kt=tt[0].latent_heat)!=null?kt:334)+"")&&P(M,B),(!oe||nt&1)&&F!==(F=((_t=tt[0].bash_resist)!=null?_t:0)+"")&&P(Y,F),(!oe||nt&1)&&re!==(re=((At=tt[0].cut_resist)!=null?At:0)+"")&&P(H,re),(!oe||nt&1)&&ie!==(ie=((yt=tt[0].bullet_resist)!=null?yt:0)+"")&&P(X,ie),(!oe||nt&1)&&Ge!==(Ge=((mt=tt[0].acid_resist)!=null?mt:0)+"")&&P(Ie,Ge),(!oe||nt&1)&&Ee!==(Ee=((at=tt[0].chip_resist)!=null?at:0)+"")&&P(de,Ee),(!oe||nt&1)&&ge!==(ge=tt[0].elec_resist===0||tt[0].elec_resist===1||tt[0].conductive?"yes":"no")&&P($e,ge),tt[0].repaired_with?Te?(Te.p(tt,nt),nt&1&&b(Te,1)):(Te=Uu(tt),Te.c(),b(Te,1),Te.m(s,se)):Te&&(Z(),v(Te,1,1,()=>{Te=null}),Q()),tt[0].salvaged_into?Re?(Re.p(tt,nt),nt&1&&b(Re,1)):(Re=qu(tt),Re.c(),b(Re,1),Re.m(s,ye)):Re&&(Z(),v(Re,1,1,()=>{Re=null}),Q()),(!oe||nt&1)&&Ne!==(Ne=tt[0].edible?"yes":"no")&&P(Me,Ne),(!oe||nt&1)&&Ae!==(Ae=tt[0].rotting?"yes":"no")&&P(Pe,Ae),tt[1].length&&we.p(tt,nt)},i(tt){oe||(b(Te),b(Re),b(we),oe=!0)},o(tt){v(Te),v(Re),v(we),oe=!1},d(tt){tt&&h(e),tt&&h(o),tt&&h(r),Te&&Te.d(),Re&&Re.d(),tt&&h(Fe),we&&we.d(tt),tt&&h(Be)}}}function Ry(i){return typeof i[0]=="string"}function Ny(i,e,l){const t=it("data");let{item:n}=e,o=t.byType("item").filter(r=>{const f=r.material==null?[]:typeof r.material=="string"?[r.material]:Ry(r.material)?r.material:r.material.map(a=>a.type);return r.id&&f.some(a=>a===n.id)}).sort((r,f)=>be(r).localeCompare(be(f)));return i.$$set=r=>{"item"in r&&l(0,n=r.item)},[n,o]}class Oy extends Xe{constructor(e){super(),Ve(this,e,Ny,Iy,je,{item:0})}}function Pu(i,e,l){const t=i.slice();return t[6]=e[l],t}function Fu(i){let e;return{c(){e=w("(default)")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function Yu(i){let e,l,t,n,o;l=new ue({props:{type:"item",id:i[6].id}});let r=i[6].id===i[0].default&&Fu();return{c(){e=p("li"),U(l.$$.fragment),t=I(),r&&r.c(),n=I()},m(f,a){g(f,e,a),L(l,e,null),d(e,t),r&&r.m(e,null),d(e,n),o=!0},p(f,a){f[6].id===f[0].default?r||(r=Fu(),r.c(),r.m(e,n)):r&&(r.d(1),r=null)},i(f){o||(b(l.$$.fragment,f),o=!0)},o(f){v(l.$$.fragment,f),o=!1},d(f){f&&h(e),G(l),r&&r.d()}}}function By(i){let e;return{c(){e=p("p"),e.innerHTML='<em style="color: var(--cata-color-gray)">No items use this ammo.</em>'},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function Ay(i){let e,l;return e=new st({props:{items:i[2],$$slots:{default:[My,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&513&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function My(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Dy(i){let e,l,t=be(i[0])+"",n,o,r,f,a,s,u,c,m,$,k,y,T,E=i[1],S=[];for(let A=0;A<E.length;A+=1)S[A]=Yu(Pu(i,E,A));const C=A=>v(S[A],1,1,()=>{S[A]=null}),R=[Ay,By],D=[];function O(A,B){return A[2].length>0?0:1}return k=O(i),y=D[k]=R[k](i),{c(){e=p("h1"),l=w("Ammunition Type: "),n=w(t),o=I(),r=p("section"),f=p("h1"),f.textContent="Compatible Variants",a=I(),s=p("ul");for(let A=0;A<S.length;A+=1)S[A].c();u=I(),c=p("section"),m=p("h1"),m.textContent="Used By",$=I(),y.c()},m(A,B){g(A,e,B),d(e,l),d(e,n),g(A,o,B),g(A,r,B),d(r,f),d(r,a),d(r,s);for(let M=0;M<S.length;M+=1)S[M].m(s,null);g(A,u,B),g(A,c,B),d(c,m),d(c,$),D[k].m(c,null),T=!0},p(A,[B]){if((!T||B&1)&&t!==(t=be(A[0])+"")&&P(n,t),B&3){E=A[1];let M;for(M=0;M<E.length;M+=1){const V=Pu(A,E,M);S[M]?(S[M].p(V,B),b(S[M],1)):(S[M]=Yu(V),S[M].c(),b(S[M],1),S[M].m(s,null))}for(Z(),M=E.length;M<S.length;M+=1)C(M);Q()}y.p(A,B)},i(A){if(!T){for(let B=0;B<E.length;B+=1)b(S[B]);b(y),T=!0}},o(A){S=S.filter(Boolean);for(let B=0;B<S.length;B+=1)v(S[B]);v(y),T=!1},d(A){A&&h(e),A&&h(o),A&&h(r),ce(S,A),A&&h(u),A&&h(c),D[k].d()}}}function Ly(i,e,l){let{item:t}=e;const n=it("data"),o=n.byType("item").flatMap(s=>s.type!=="AMMO"||!s.id?[]:s.ammo_type===t.id?[s]:[]);o.sort((s,u)=>be(s).localeCompare(be(u)));const r={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1},f=(s,u)=>{var $;return(($=s.pocket_data)!=null?$:[]).map(k=>({...r,...k})).flatMap(k=>{var y;return k.pocket_type==="MAGAZINE"?Object.keys((y=k.ammo_restriction)!=null?y:{}):[]}).some(k=>k===u.id)},a=n.byType("item").filter(s=>f(s,t));return a.sort((s,u)=>be(s).localeCompare(be(u))),i.$$set=s=>{"item"in s&&l(0,t=s.item)},[t,o,a]}class Gy extends Xe{constructor(e){super(),Ve(this,e,Ly,Dy,je,{item:0})}}function ju(i,e,l){const t=i.slice();return t[8]=e[l],t}function Hu(i,e,l){const t=i.slice();return t[8]=e[l],t}function Wu(i,e,l){const t=i.slice();return t[8]=e[l],t}function zu(i,e,l){const t=i.slice();return t[8]=e[l][0],t[15]=e[l][1],t}function Vu(i,e,l){const t=i.slice();return t[18]=e[l],t}function Xu(i){let e,l,t,n,o=i[0].usages,r=[];for(let f=0;f<o.length;f+=1)r[f]=Ku(zu(i,o,f));return{c(){e=p("section"),l=p("h1"),l.textContent="Usages",t=I(),n=p("dl");for(let f=0;f<r.length;f+=1)r[f].c()},m(f,a){g(f,e,a),d(e,l),d(e,t),d(e,n);for(let s=0;s<r.length;s+=1)r[s].m(n,null)},p(f,a){if(a&3){o=f[0].usages;let s;for(s=0;s<o.length;s+=1){const u=zu(f,o,s);r[s]?r[s].p(u,a):(r[s]=Ku(u),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),ce(r,f)}}}function Ju(i){let e,l=be(i[1].byId("item_action",i[18]))+"",t;return{c(){e=p("li"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=be(n[1].byId("item_action",n[18]))+"")&&P(t,l)},d(n){n&&h(e)}}}function Ku(i){let e,l,t=i[8]+"",n,o,r,f,a=i[15],s=[];for(let u=0;u<a.length;u+=1)s[u]=Ju(Vu(i,a,u));return{c(){e=p("dt"),l=w("At Level "),n=w(t),o=p("dd"),r=p("ul");for(let u=0;u<s.length;u+=1)s[u].c();f=I(),Je(e,"font-variant","tabular-nums"),fe(r,"class","comma-separated")},m(u,c){g(u,e,c),d(e,l),d(e,n),g(u,o,c),d(o,r);for(let m=0;m<s.length;m+=1)s[m].m(r,null);d(o,f)},p(u,c){if(c&1&&t!==(t=u[8]+"")&&P(n,t),c&3){a=u[15];let m;for(m=0;m<a.length;m+=1){const $=Vu(u,a,m);s[m]?s[m].p($,c):(s[m]=Ju($),s[m].c(),s[m].m(r,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=a.length}},d(u){u&&h(e),u&&h(o),ce(s,u)}}}function Uy(i){let e,l,t,n,o,r=[...i[2].keys()].sort(ec),f=[];for(let s=0;s<r.length;s+=1)f[s]=Zu(Wu(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Tools",t=I(),n=p("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&5){r=[...s[2].keys()].sort(ec);let c;for(c=0;c<r.length;c+=1){const m=Wu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Zu(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),ce(f,s)}}}function qy(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Zu(i){let e,l,t=i[8]+"",n,o,r,f,a;return r=new st({props:{items:i[2].get(i[8]).sort(i[5]),limit:20,$$slots:{default:[qy,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=p("dt"),l=w("Level "),n=w(t),o=p("dd"),U(r.$$.fragment),f=I(),Je(e,"font-variant","tabular-nums")},m(s,u){g(s,e,u),d(e,l),d(e,n),g(s,o,u),L(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){v(r.$$.fragment,s),a=!1},d(s){s&&h(e),s&&h(o),G(r)}}}function Py(i){let e,l,t,n,o,r=[...i[3].keys()].sort(tc),f=[];for(let s=0;s<r.length;s+=1)f[s]=Qu(Hu(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Vehicle Parts",t=I(),n=p("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&9){r=[...s[3].keys()].sort(tc);let c;for(c=0;c<r.length;c+=1){const m=Hu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Qu(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),ce(f,s)}}}function Fy(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"vehicle_part",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Qu(i){let e,l,t=i[8]+"",n,o,r,f,a;return r=new st({props:{items:i[3].get(i[8]).sort(i[6]),limit:20,$$slots:{default:[Fy,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=p("dt"),l=w("Level "),n=w(t),o=p("dd"),U(r.$$.fragment),f=I(),Je(e,"font-variant","tabular-nums")},m(s,u){g(s,e,u),d(e,l),d(e,n),g(s,o,u),L(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){v(r.$$.fragment,s),a=!1},d(s){s&&h(e),s&&h(o),G(r)}}}function Yy(i){let e,l,t,n,o,r=[...i[4].keys()].sort(lc),f=[];for(let s=0;s<r.length;s+=1)f[s]=xu(ju(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Recipes",t=I(),n=p("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&19){r=[...s[4].keys()].sort(lc);let c;for(c=0;c<r.length;c+=1){const m=ju(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=xu(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),ce(f,s)}}}function jy(i){let e,l,t,n;return e=new et({props:{item:i[1].byId("item",i[0])}}),t=new ue({props:{type:"item",id:i[0]}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[1].byId("item",o[0])),e.$set(f);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function xu(i){let e,l,t=i[8]+"",n,o,r,f,a;return r=new st({props:{items:i[4].get(i[8]),limit:20,$$slots:{default:[jy,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=p("dt"),l=w("Level "),n=w(t),o=p("dd"),U(r.$$.fragment),f=I(),Je(e,"font-variant","tabular-nums")},m(s,u){g(s,e,u),d(e,l),d(e,n),g(s,o,u),L(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){v(r.$$.fragment,s),a=!1},d(s){s&&h(e),s&&h(o),G(r)}}}function Hy(i){let e,l,t=be(i[0])+"",n,o,r,f,a,s,u,c=i[0].usages&&Xu(i),m=i[2].size>0&&Uy(i),$=i[3].size>0&&Py(i),k=i[4].size>0&&Yy(i);return{c(){e=p("h1"),l=w("Quality: "),n=w(t),o=I(),c&&c.c(),r=I(),m&&m.c(),f=I(),$&&$.c(),a=I(),k&&k.c(),s=ne()},m(y,T){g(y,e,T),d(e,l),d(e,n),g(y,o,T),c&&c.m(y,T),g(y,r,T),m&&m.m(y,T),g(y,f,T),$&&$.m(y,T),g(y,a,T),k&&k.m(y,T),g(y,s,T),u=!0},p(y,[T]){(!u||T&1)&&t!==(t=be(y[0])+"")&&P(n,t),y[0].usages?c?c.p(y,T):(c=Xu(y),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),y[2].size>0&&m.p(y,T),y[3].size>0&&$.p(y,T),y[4].size>0&&k.p(y,T)},i(y){u||(b(m),b($),b(k),u=!0)},o(y){v(m),v($),v(k),u=!1},d(y){y&&h(e),y&&h(o),c&&c.d(y),y&&h(r),m&&m.d(y),y&&h(f),$&&$.d(y),y&&h(a),k&&k.d(y),y&&h(s)}}}const ec=(i,e)=>i-e,tc=(i,e)=>i-e,lc=(i,e)=>i-e;function Wy(i,e,l){var c,m,$;let{item:t}=e,n=it("data"),o=new Map;for(const k of n.byType("item")){if(!k.id)continue;const y=((c=k.qualities)!=null?c:[]).concat((m=k.charged_qualities)!=null?m:[]).find(([T,E])=>T===t.id);if(y){const[,T]=y;o.has(T)||o.set(T,[]),o.get(T).push(k)}}const r=new Map;for(const k of n.byType("vehicle_part")){if(!k.id)continue;const y=(($=k.qualities)!=null?$:[]).find(([T,E])=>T===t.id);if(y){const[,T]=y;r.has(T)||r.set(T,[]),r.get(T).push(k)}}const f=new Map;for(const k of n.byType("recipe")){if(!k.result||k.construction_blueprint||!n.byId("item",k.result))continue;const{qualities:y}=n.normalizeRequirements(k);for(const T of y)for(const{id:E,level:S}of T)E===t.id&&(f.has(S)||f.set(S,new Set),f.get(S).add(k.result))}const a=new Map;for(const[k,y]of f)a.set(k,[...y].sort((T,E)=>be(n.byId("item",T)).localeCompare(be(n.byId("item",E)))));const s=(k,y)=>be(k).localeCompare(be(y)),u=(k,y)=>be(k).localeCompare(be(y));return i.$$set=k=>{"item"in k&&l(0,t=k.item)},[t,n,o,r,a,s,u]}class zy extends Xe{constructor(e){super(),Ve(this,e,Wy,Hy,je,{item:0})}}function nc(i,e,l){const t=i.slice();return t[10]=e[l].id,t[11]=e[l].count,t}function ic(i,e,l){const t=i.slice();return t[14]=e[l],t}function rc(i,e,l){const t=i.slice();return t[10]=e[l].id,t[11]=e[l].count,t[18]=l,t}function oc(i,e,l){const t=i.slice();return t[19]=e[l],t}function fc(i,e,l){const t=i.slice();return t[22]=e[l],t[18]=l,t}function sc(i,e,l){const t=i.slice();return t[24]=e[l],t}function ac(i,e,l){const t=i.slice();return t[27]=e[l],t[18]=l,t}function uc(i,e,l){const t=i.slice();return t[10]=e[l][0],t[29]=e[l][1],t[18]=l,t}function cc(i){let e,l=be(i[2].byId("construction_group",i[0].group))+"",t;return{c(){e=p("h1"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=be(n[2].byId("construction_group",n[0].group))+"")&&P(t,l)},d(n){n&&h(e)}}}function _c(i){let e,l,t,n;const o=[Xy,Vy],r=[];function f(a,s){return a[0].skill?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(Z(),v(r[u],1,1,()=>{r[u]=null}),Q(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Vy(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function Xy(i){var f;let e,l,t=((f=i[0].difficulty)!=null?f:0)+"",n,o,r;return e=new ue({props:{type:"skill",id:i[0].skill}}),{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")")},m(a,s){L(e,a,s),g(a,l,s),g(a,n,s),g(a,o,s),r=!0},p(a,s){var c;const u={};s&1&&(u.id=a[0].skill),e.$set(u),(!r||s&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&P(n,t)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){G(e,a),a&&h(l),a&&h(n),a&&h(o)}}}function Jy(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function Ky(i){let e=" and ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function dc(i){let e,l,t=i[29]+"",n,o,r,f;e=new ue({props:{type:"skill",id:i[10]}});function a(c,m){if(c[18]===c[0].required_skills.length-2)return Ky;if(c[18]!==c[0].required_skills.length-1)return Jy}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")"),u&&u.c(),r=ne()},m(c,m){L(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[10]),e.$set($),(!f||m&1)&&t!==(t=c[29]+"")&&P(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function mc(i){let e,l,t,n,o,r,f;return t=new et({props:{item:i[2].byId(i[0].pre_terrain.startsWith("f_")?"furniture":"terrain",i[0].pre_terrain)}}),o=new ue({props:{type:i[0].pre_terrain.startsWith("f_")?"furniture":"terrain",id:i[0].pre_terrain}}),{c(){e=p("dt"),e.textContent="Requires",l=p("dd"),U(t.$$.fragment),n=I(),U(o.$$.fragment),r=I()},m(a,s){g(a,e,s),g(a,l,s),L(t,l,null),d(l,n),L(o,l,null),d(l,r),f=!0},p(a,s){const u={};s&1&&(u.item=a[2].byId(a[0].pre_terrain.startsWith("f_")?"furniture":"terrain",a[0].pre_terrain)),t.$set(u);const c={};s&1&&(c.type=a[0].pre_terrain.startsWith("f_")?"furniture":"terrain"),s&1&&(c.id=a[0].pre_terrain),o.$set(c)},i(a){f||(b(t.$$.fragment,a),b(o.$$.fragment,a),f=!0)},o(a){v(t.$$.fragment,a),v(o.$$.fragment,a),f=!1},d(a){a&&h(e),a&&h(l),G(t),G(o)}}}function Zy(i){var $;let e,l,t,n,o,r,f=($=i[5])!=null?$:[],a=[];for(let k=0;k<f.length;k+=1)a[k]=hc(sc(i,f,k));const s=k=>v(a[k],1,1,()=>{a[k]=null});let u=i[3],c=[];for(let k=0;k<u.length;k+=1)c[k]=bc(oc(i,u,k));const m=k=>v(c[k],1,1,()=>{c[k]=null});return{c(){e=p("dt"),e.textContent="Tools Required",l=p("dd"),t=p("ul");for(let k=0;k<a.length;k+=1)a[k].c();n=I();for(let k=0;k<c.length;k+=1)c[k].c();o=I()},m(k,y){g(k,e,y),g(k,l,y),d(l,t);for(let T=0;T<a.length;T+=1)a[T].m(t,null);d(t,n);for(let T=0;T<c.length;T+=1)c[T].m(t,null);d(l,o),r=!0},p(k,y){var T;if(y&32){f=(T=k[5])!=null?T:[];let E;for(E=0;E<f.length;E+=1){const S=sc(k,f,E);a[E]?(a[E].p(S,y),b(a[E],1)):(a[E]=hc(S),a[E].c(),b(a[E],1),a[E].m(t,n))}for(Z(),E=f.length;E<a.length;E+=1)s(E);Q()}if(y&12){u=k[3];let E;for(E=0;E<u.length;E+=1){const S=oc(k,u,E);c[E]?(c[E].p(S,y),b(c[E],1)):(c[E]=bc(S),c[E].c(),b(c[E],1),c[E].m(t,null))}for(Z(),E=u.length;E<c.length;E+=1)m(E);Q()}},i(k){if(!r){for(let y=0;y<f.length;y+=1)b(a[y]);for(let y=0;y<u.length;y+=1)b(c[y]);r=!0}},o(k){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)v(a[y]);c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)v(c[y]);r=!1},d(k){k&&h(e),k&&h(l),ce(a,k),ce(c,k)}}}function Qy(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function pc(i){var E,S;let e,l=((E=i[27].amount)!=null?E:1)+"",t,n,o=((S=i[27].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[27].level+"",c,m,$="",k,y,T=i[18]!==0&&Qy();return a=new ue({props:{type:"tool_quality",id:i[27].id}}),{c(){T&&T.c(),e=I(),t=w(l),n=w(" tool"),r=w(o),f=w(`
                with `),U(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
                or more`),k=w($)},m(C,R){T&&T.m(C,R),g(C,e,R),g(C,t,R),g(C,n,R),g(C,r,R),g(C,f,R),L(a,C,R),g(C,s,R),g(C,c,R),g(C,m,R),g(C,k,R),y=!0},p:x,i(C){y||(b(a.$$.fragment,C),y=!0)},o(C){v(a.$$.fragment,C),y=!1},d(C){T&&T.d(C),C&&h(e),C&&h(t),C&&h(n),C&&h(r),C&&h(f),G(a,C),C&&h(s),C&&h(c),C&&h(m),C&&h(k)}}}function hc(i){let e,l,t,n=i[24],o=[];for(let f=0;f<n.length;f+=1)o[f]=pc(ac(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=w(".")},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&32){n=f[24];let s;for(s=0;s<n.length;s+=1){const u=ac(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=pc(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function xy(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function ew(i){let e,l;return e=new ue({props:{type:"item",id:i[22].id}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function tw(i){let e,l=be(i[2].byId("item",i[22].id))+"",t;return{c(){e=p("a"),t=w(l),fe(e,"href","#/furniture/"+i[2].craftingPseudoItem(i[22].id))},m(n,o){g(n,e,o),d(e,t)},p:x,i:x,o:x,d(n){n&&h(e)}}}function lw(i){let e,l=i[22].count+"",t,n,o,r=i[22].count!==1&&nw();return{c(){e=w("("),t=w(l),n=w(" charge"),r&&r.c(),o=w(")")},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:x,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function nw(i){let e;return{c(){e=w("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function gc(i){let e,l,t,n,o,r,f=i[18]!==0&&xy();const a=[tw,ew],s=[];function u(m,$){return m[2].craftingPseudoItem(m[22].id)?0:1}l=u(i),t=s[l]=a[l](i);let c=i[22].count>0&&lw(i);return{c(){f&&f.c(),e=I(),t.c(),n=I(),c&&c.c(),o=ne()},m(m,$){f&&f.m(m,$),g(m,e,$),s[l].m(m,$),g(m,n,$),c&&c.m(m,$),g(m,o,$),r=!0},p(m,$){t.p(m,$),m[22].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){v(t),r=!1},d(m){f&&f.d(m),m&&h(e),s[l].d(m),m&&h(n),c&&c.d(m),m&&h(o)}}}function bc(i){let e,l,t,n=i[19],o=[];for(let f=0;f<n.length;f+=1)o[f]=gc(fc(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&12){n=f[19];let s;for(s=0;s<n.length;s+=1){const u=fc(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=gc(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function iw(i){let e,l,t,n,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=vc(ic(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Components",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&20){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=ic(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=vc(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function rw(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function $c(i){let e,l,t,n=i[18]!==0&&rw();return l=new ue({props:{id:i[10],count:i[11],type:"item"}}),{c(){n&&n.c(),e=I(),U(l.$$.fragment)},m(o,r){n&&n.m(o,r),g(o,e,r),L(l,o,r),t=!0},p:x,i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){v(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&h(e),G(l,o)}}}function vc(i){let e,l,t,n=i[14].map(i[7]),o=[];for(let f=0;f<n.length;f+=1)o[f]=$c(rc(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a&20){n=f[14].map(f[7]);let s;for(s=0;s<n.length;s+=1){const u=rc(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=$c(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function ow(i){let e,l,t,n,o=i[6],r=[];for(let a=0;a<o.length;a+=1)r[a]=kc(nc(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Byproducts",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&68){o=a[6];let u;for(u=0;u<o.length;u+=1){const c=nc(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=kc(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function kc(i){let e,l,t,n,o,r;return l=new et({props:{item:i[2].byId("item",i[10])}}),n=new ue({props:{type:"item",id:i[10],count:i[11]}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment),o=I()},m(f,a){g(f,e,a),L(l,e,null),d(e,t),L(n,e,null),d(e,o),r=!0},p:x,i(f){r||(b(l.$$.fragment,f),b(n.$$.fragment,f),r=!0)},o(f){v(l.$$.fragment,f),v(n.$$.fragment,f),r=!1},d(f){f&&h(e),G(l),G(n)}}}function yc(i){let e,l=i[0].pre_note+"",t;return{c(){e=p("p"),t=w(l),Je(e,"color","var(--cata-color-gray)")},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=n[0].pre_note+"")&&P(t,l)},d(n){n&&h(e)}}}function fw(i){var W,re;let e,l,t,n,o,r,f,a,s=(typeof i[0].time=="number"?`${i[0].time} m`:(W=i[0].time)!=null?W:"0 m")+"",u,c,m,$,k,y,T,E,S,C,R,D=JSON.stringify(i[0],null,2)+"",O,A,B=i[1]&&cc(i),M=(re=i[0].required_skills)!=null?re:[],V=[];for(let H=0;H<M.length;H+=1)V[H]=dc(uc(i,M,H));const J=H=>v(V[H],1,1,()=>{V[H]=null});let N=null;M.length||(N=_c(i));let j=i[0].pre_terrain&&mc(i),z=(i[5].length||i[3].length)&&Zy(i),F=i[4].length&&iw(i),Y=i[6].length&&ow(i),q=i[0].pre_note&&yc(i);return{c(){e=p("section"),B&&B.c(),l=I(),t=p("dl"),n=p("dt"),n.textContent="Required Skills",o=p("dd");for(let H=0;H<V.length;H+=1)V[H].c();N&&N.c(),r=I(),f=p("dt"),f.textContent="Time",a=p("dd"),u=w(s),c=I(),j&&j.c(),m=ne(),z&&z.c(),$=ne(),F&&F.c(),k=ne(),Y&&Y.c(),y=I(),q&&q.c(),T=I(),E=p("details"),S=p("summary"),S.textContent="Construction JSON",C=I(),R=p("pre"),O=w(D)},m(H,K){g(H,e,K),B&&B.m(e,null),d(e,l),d(e,t),d(t,n),d(t,o);for(let ee=0;ee<V.length;ee+=1)V[ee].m(o,null);N&&N.m(o,null),d(o,r),d(t,f),d(t,a),d(a,u),d(a,c),j&&j.m(t,null),d(t,m),z&&z.m(t,null),d(t,$),F&&F.m(t,null),d(t,k),Y&&Y.m(t,null),d(e,y),q&&q.m(e,null),d(e,T),d(e,E),d(E,S),d(E,C),d(E,R),d(R,O),A=!0},p(H,[K]){var ee,ie;if(H[1]?B?B.p(H,K):(B=cc(H),B.c(),B.m(e,l)):B&&(B.d(1),B=null),K&1){M=(ee=H[0].required_skills)!=null?ee:[];let X;for(X=0;X<M.length;X+=1){const te=uc(H,M,X);V[X]?(V[X].p(te,K),b(V[X],1)):(V[X]=dc(te),V[X].c(),b(V[X],1),V[X].m(o,r))}for(Z(),X=M.length;X<V.length;X+=1)J(X);Q(),!M.length&&N?N.p(H,K):M.length?N&&(Z(),v(N,1,1,()=>{N=null}),Q()):(N=_c(H),N.c(),b(N,1),N.m(o,r))}(!A||K&1)&&s!==(s=(typeof H[0].time=="number"?`${H[0].time} m`:(ie=H[0].time)!=null?ie:"0 m")+"")&&P(u,s),H[0].pre_terrain?j?(j.p(H,K),K&1&&b(j,1)):(j=mc(H),j.c(),b(j,1),j.m(t,m)):j&&(Z(),v(j,1,1,()=>{j=null}),Q()),(H[5].length||H[3].length)&&z.p(H,K),H[4].length&&F.p(H,K),H[6].length&&Y.p(H,K),H[0].pre_note?q?q.p(H,K):(q=yc(H),q.c(),q.m(e,T)):q&&(q.d(1),q=null),(!A||K&1)&&D!==(D=JSON.stringify(H[0],null,2)+"")&&P(O,D)},i(H){if(!A){for(let K=0;K<M.length;K+=1)b(V[K]);b(j),b(z),b(F),b(Y),A=!0}},o(H){V=V.filter(Boolean);for(let K=0;K<V.length;K+=1)v(V[K]);v(j),v(z),v(F),v(Y),A=!1},d(H){H&&h(e),B&&B.d(),ce(V,H),N&&N.d(),j&&j.d(),z&&z.d(),F&&F.d(),Y&&Y.d(),q&&q.d()}}}function sw(i,e,l){var $;const t=it("data");let{construction:n}=e,{includeTitle:o=!1}=e;const f=(typeof n.using=="string"?[[n.using,1]]:($=n.using)!=null?$:[]).map(([k,y])=>[t.byId("requirement",k),y]).concat([[n,1]]),a=f.flatMap(([k,y])=>{var T;return t.flattenRequirement((T=k.tools)!=null?T:[],E=>E.tools,{expandSubstitutes:!0}).map(E=>E.map(S=>({...S,count:S.count*y})))}),s=f.flatMap(([k,y])=>{var T;return t.flattenRequirement((T=k.components)!=null?T:[],E=>E.components).map(E=>E.map(S=>({...S,count:S.count*y})))}),u=f.flatMap(([k,y])=>{var T;return((T=k.qualities)!=null?T:[]).map(E=>Array.isArray(E)?E:[E])}),c=t.flattenItemGroup(t.normalizeItemGroup(n.byproducts,"collection")),m=k=>({...k,item:t.byId("item",k.id)});return i.$$set=k=>{"construction"in k&&l(0,n=k.construction),"includeTitle"in k&&l(1,o=k.includeTitle)},[n,o,t,a,s,u,c,m]}class Ch extends Xe{constructor(e){super(),Ve(this,e,sw,fw,je,{construction:0,includeTitle:1})}}function wc(i,e,l){const t=i.slice();return t[7]=e[l],t}function Ec(i,e,l){const t=i.slice();return t[10]=e[l],t}function Tc(i,e,l){const t=i.slice();return t[13]=e[l],t}function Sc(i,e,l){const t=i.slice();return t[16]=e[l],t}function Cc(i,e,l){const t=i.slice();return t[19]=e[l],t}function Ic(i,e,l){const t=i.slice();return t[22]=e[l].id,t[23]=e[l].prob,t}function hr(i){const e=i.slice(),l=e[0].bash.furn_set;return e[26]=l,e}function Rc(i,e,l){const t=i.slice();return t[22]=e[l].id,t[23]=e[l].prob,t[27]=e[l].count,t}function gr(i){const e=i.slice(),l=e[0].deconstruct.furn_set;return e[26]=l,e}function Nc(i,e,l){const t=i.slice();return t[22]=e[l].id,t[23]=e[l].prob,t[27]=e[l].count,t}function aw(i){let e,l=i[0].move_cost_mod*50+"",t;return{c(){e=w("+"),t=w(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o[0]&1&&l!==(l=n[0].move_cost_mod*50+"")&&P(t,l)},d(n){n&&h(e),n&&h(t)}}}function uw(i){let e;return{c(){e=p("em"),e.textContent="impassable"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function Oc(i){let e,l,t=i[0].comfort+"",n;return{c(){e=p("dt"),e.textContent="Comfort",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].comfort+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Bc(i){let e,l,t=i[0].max_volume+"",n;return{c(){e=p("dt"),e.textContent="Max Volume",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].max_volume+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Ac(i){let e,l,t,n;return t=new ue({props:{type:"item",id:i[0].crafting_pseudo_item}}),{c(){e=p("dt"),e.textContent="Provides",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r[0]&1&&(f.id=o[0].crafting_pseudo_item),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function cw(i){var c;let e,l,t,n,o,r,f=i[2],a=[];for(let m=0;m<f.length;m+=1)a[m]=Mc(Nc(i,f,m));const s=m=>v(a[m],1,1,()=>{a[m]=null});let u=((c=i[0].deconstruct)==null?void 0:c.furn_set)&&Dc(gr(i));return{c(){e=p("dt"),e.textContent="Deconstruct",l=p("dd"),t=p("ul");for(let m=0;m<a.length;m+=1)a[m].c();n=I(),u&&u.c(),o=I(),fe(t,"class","comma-separated")},m(m,$){g(m,e,$),g(m,l,$),d(l,t);for(let k=0;k<a.length;k+=1)a[k].m(t,null);d(l,n),u&&u.m(l,null),d(l,o),r=!0},p(m,$){var k;if($[0]&4){f=m[2];let y;for(y=0;y<f.length;y+=1){const T=Nc(m,f,y);a[y]?(a[y].p(T,$),b(a[y],1)):(a[y]=Mc(T),a[y].c(),b(a[y],1),a[y].m(t,null))}for(Z(),y=f.length;y<a.length;y+=1)s(y);Q()}(k=m[0].deconstruct)!=null&&k.furn_set?u?(u.p(gr(m),$),$[0]&1&&b(u,1)):(u=Dc(gr(m)),u.c(),b(u,1),u.m(l,o)):u&&(Z(),v(u,1,1,()=>{u=null}),Q())},i(m){if(!r){for(let $=0;$<f.length;$+=1)b(a[$]);b(u),r=!0}},o(m){a=a.filter(Boolean);for(let $=0;$<a.length;$+=1)v(a[$]);v(u),r=!1},d(m){m&&h(e),m&&h(l),ce(a,m),u&&u.d()}}}function _w(i){let e,l=i[27][0]+"",t,n,o=i[27][1]+"",r,f;return{c(){e=w("\xA0("),t=w(l),n=w("\u2013"),r=w(o),f=w(")")},m(a,s){g(a,e,s),g(a,t,s),g(a,n,s),g(a,r,s),g(a,f,s)},p:x,d(a){a&&h(e),a&&h(t),a&&h(n),a&&h(r),a&&h(f)}}}function dw(i){let e,l=i[27][0]!==1&&mw(i);return{c(){l&&l.c(),e=ne()},m(t,n){l&&l.m(t,n),g(t,e,n)},p(t,n){t[27][0]!==1&&l.p(t,n)},d(t){l&&l.d(t),t&&h(e)}}}function mw(i){let e,l=i[27][0]+"",t,n;return{c(){e=w("\xA0("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function pw(i){let e,l=Ih(i[23])+"",t,n;return{c(){e=w("\xA0("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function Mc(i){let e,l,t,n="",o,r="",f,a;t=new ue({props:{type:"item",id:i[22]}});function s($,k){return $[27][0]===$[27][1]?dw:_w}let c=s(i)(i),m=i[23]!==1&&pw(i);return{c(){e=p("li"),l=p("span"),U(t.$$.fragment),o=w(n),c.c(),f=w(r),m&&m.c(),Je(l,"white-space","nowrap")},m($,k){g($,e,k),d(e,l),L(t,l,null),d(l,o),c.m(l,null),d(l,f),m&&m.m(l,null),a=!0},p($,k){c.p($,k),$[23]!==1&&m.p($,k)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){v(t.$$.fragment,$),a=!1},d($){$&&h(e),G(t),c.d(),m&&m.d()}}}function Dc(i){let e,l,t,n,o,r,f;return n=new et({props:{item:i[1].byId("furniture",i[26])}}),r=new ue({props:{type:"furniture",id:i[26]}}),{c(){e=p("dl"),l=p("dt"),l.textContent="Becomes",t=p("dd"),U(n.$$.fragment),o=I(),U(r.$$.fragment)},m(a,s){g(a,e,s),d(e,l),d(e,t),L(n,t,null),d(t,o),L(r,t,null),f=!0},p(a,s){const u={};s[0]&1&&(u.item=a[1].byId("furniture",a[26])),n.$set(u);const c={};s[0]&1&&(c.id=a[26]),r.$set(c)},i(a){f||(b(n.$$.fragment,a),b(r.$$.fragment,a),f=!0)},o(a){v(n.$$.fragment,a),v(r.$$.fragment,a),f=!1},d(a){a&&h(e),G(n),G(r)}}}function hw(i){var T,E,S;let e,l,t,n,o,r,f,a=((E=(T=i[0].bash)==null?void 0:T.str_min)!=null?E:0)+"",s,u,c,m=i[3],$=[];for(let C=0;C<m.length;C+=1)$[C]=Lc(Rc(i,m,C));const k=C=>v($[C],1,1,()=>{$[C]=null});let y=((S=i[0].bash)==null?void 0:S.furn_set)&&Gc(hr(i));return{c(){e=p("dt"),e.textContent="Bash",l=p("dd"),t=p("ul");for(let C=0;C<$.length;C+=1)$[C].c();n=I(),o=p("dl"),r=p("dt"),r.textContent="Strength Required",f=p("dd"),s=w(a),y&&y.c(),u=I(),fe(t,"class","comma-separated")},m(C,R){g(C,e,R),g(C,l,R),d(l,t);for(let D=0;D<$.length;D+=1)$[D].m(t,null);d(l,n),d(l,o),d(o,r),d(o,f),d(f,s),y&&y.m(o,null),d(l,u),c=!0},p(C,R){var D,O,A;if(R[0]&8){m=C[3];let B;for(B=0;B<m.length;B+=1){const M=Rc(C,m,B);$[B]?($[B].p(M,R),b($[B],1)):($[B]=Lc(M),$[B].c(),b($[B],1),$[B].m(t,null))}for(Z(),B=m.length;B<$.length;B+=1)k(B);Q()}(!c||R[0]&1)&&a!==(a=((O=(D=C[0].bash)==null?void 0:D.str_min)!=null?O:0)+"")&&P(s,a),(A=C[0].bash)!=null&&A.furn_set?y?(y.p(hr(C),R),R[0]&1&&b(y,1)):(y=Gc(hr(C)),y.c(),b(y,1),y.m(o,null)):y&&(Z(),v(y,1,1,()=>{y=null}),Q())},i(C){if(!c){for(let R=0;R<m.length;R+=1)b($[R]);b(y),c=!0}},o(C){$=$.filter(Boolean);for(let R=0;R<$.length;R+=1)v($[R]);v(y),c=!1},d(C){C&&h(e),C&&h(l),ce($,C),y&&y.d()}}}function gw(i){let e,l=i[27][0]+"",t,n,o=i[27][1]+"",r,f;return{c(){e=w("\xA0("),t=w(l),n=w("\u2013"),r=w(o),f=w(")")},m(a,s){g(a,e,s),g(a,t,s),g(a,n,s),g(a,r,s),g(a,f,s)},p:x,d(a){a&&h(e),a&&h(t),a&&h(n),a&&h(r),a&&h(f)}}}function bw(i){let e,l=i[27][0]!==1&&$w(i);return{c(){l&&l.c(),e=ne()},m(t,n){l&&l.m(t,n),g(t,e,n)},p(t,n){t[27][0]!==1&&l.p(t,n)},d(t){l&&l.d(t),t&&h(e)}}}function $w(i){let e,l=i[27][0]+"",t,n;return{c(){e=w("\xA0("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function vw(i){let e,l=Ih(i[23])+"",t,n;return{c(){e=w("\xA0("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function Lc(i){let e,l,t,n="",o,r="",f,a;t=new ue({props:{type:"item",id:i[22]}});function s($,k){return $[27][0]===$[27][1]?bw:gw}let c=s(i)(i),m=i[23]!==1&&vw(i);return{c(){e=p("li"),l=p("span"),U(t.$$.fragment),o=w(n),c.c(),f=w(r),m&&m.c(),Je(l,"white-space","nowrap")},m($,k){g($,e,k),d(e,l),L(t,l,null),d(l,o),c.m(l,null),d(l,f),m&&m.m(l,null),a=!0},p($,k){c.p($,k),$[23]!==1&&m.p($,k)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){v(t.$$.fragment,$),a=!1},d($){$&&h(e),G(t),c.d(),m&&m.d()}}}function Gc(i){let e,l,t,n,o,r;return t=new et({props:{item:i[1].byId("furniture",i[26])}}),o=new ue({props:{type:"furniture",id:i[26]}}),{c(){e=p("dt"),e.textContent="Becomes",l=p("dd"),U(t.$$.fragment),n=I(),U(o.$$.fragment)},m(f,a){g(f,e,a),g(f,l,a),L(t,l,null),d(l,n),L(o,l,null),r=!0},p(f,a){const s={};a[0]&1&&(s.item=f[1].byId("furniture",f[26])),t.$set(s);const u={};a[0]&1&&(u.id=f[26]),o.$set(u)},i(f){r||(b(t.$$.fragment,f),b(o.$$.fragment,f),r=!0)},o(f){v(t.$$.fragment,f),v(o.$$.fragment,f),r=!1},d(f){f&&h(e),f&&h(l),G(t),G(o)}}}function kw(i){let e,l,t,n,o,r=["winter","spring","summer","autumn"].filter(i[6]),f=[];for(let s=0;s<r.length;s+=1)f[s]=Fc(Tc(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Harvest",l=p("dd"),t=p("dl");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&34){r=["winter","spring","summer","autumn"].filter(s[6]);let c;for(c=0;c<r.length;c+=1){const m=Tc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Fc(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function yw(i){let e,l,t,n,o;return l=new et({props:{item:i[1].byId("item",i[19].drop)}}),n=new ue({props:{type:"item",id:i[19].drop}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),L(l,e,null),d(e,t),L(n,e,null),o=!0},p:x,i(r){o||(b(l.$$.fragment,r),b(n.$$.fragment,r),o=!0)},o(r){v(l.$$.fragment,r),v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(l),G(n)}}}function ww(i){let e,l,t=i[1].flattenItemGroup(i[1].byId("item_group",i[19].drop)),n=[];for(let r=0;r<t.length;r+=1)n[r]=Uc(Ic(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f[0]&34){t=r[1].flattenItemGroup(r[1].byId("item_group",r[19].drop));let a;for(a=0;a<t.length;a+=1){const s=Ic(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Uc(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){ce(n,r),r&&h(e)}}}function Uc(i){let e,l,t,n,o,r=(i[23]*100).toFixed(2)+"",f,a,s;return l=new et({props:{item:i[1].byId("item",i[22])}}),n=new ue({props:{type:"item",id:i[22]}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment),o=w(" ("),f=w(r),a=w("%)")},m(u,c){g(u,e,c),L(l,e,null),d(e,t),L(n,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:x,i(u){s||(b(l.$$.fragment,u),b(n.$$.fragment,u),s=!0)},o(u){v(l.$$.fragment,u),v(n.$$.fragment,u),s=!1},d(u){u&&h(e),G(l),G(n)}}}function qc(i){let e,l,t,n;const o=[ww,yw],r=[];function f(a,s){return a[19].type==="bionic_group"?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Pc(i){let e,l,t=i[16].entries,n=[];for(let r=0;r<t.length;r+=1)n[r]=qc(Cc(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c()},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f[0]&34){t=r[16].entries;let a;for(a=0;a<t.length;a+=1){const s=Cc(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=qc(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){r&&h(e),ce(n,r)}}}function Fc(i){let e,l=i[13]+"",t,n,o,r,f=[i[1].byId("harvest",i[5].get(i[13]))],a=[];for(let u=0;u<1;u+=1)a[u]=Pc(Sc(i,f,u));const s=u=>v(a[u],1,1,()=>{a[u]=null});return{c(){e=p("dt"),t=w(l),n=p("dd");for(let u=0;u<1;u+=1)a[u].c();o=I(),Je(e,"text-transform","capitalize")},m(u,c){g(u,e,c),d(e,t),g(u,n,c);for(let m=0;m<1;m+=1)a[m].m(n,null);d(n,o),r=!0},p(u,c){if(c[0]&34){f=[u[1].byId("harvest",u[5].get(u[13]))];let m;for(m=0;m<1;m+=1){const $=Sc(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=Pc($),a[m].c(),b(a[m],1),a[m].m(n,o))}for(Z(),m=1;m<1;m+=1)s(m);Q()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)v(a[c]);r=!1},d(u){u&&h(e),u&&h(n),ce(a,u)}}}function Yc(i){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function jc(i){let e,l,t;return l=new ue({props:{type:"json_flag",id:i[10]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[10]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Ew(i){let e,l,t,n,o=i[4],r=[];for(let a=0;a<o.length;a+=1)r[a]=Hc(wc(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("h2"),e.textContent="Construction",l=I();for(let a=0;a<r.length;a+=1)r[a].c();t=ne()},m(a,s){g(a,e,s),g(a,l,s);for(let u=0;u<r.length;u+=1)r[u].m(a,s);g(a,t,s),n=!0},p(a,s){if(s[0]&16){o=a[4];let u;for(u=0;u<o.length;u+=1){const c=wc(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Hc(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a),a&&h(t)}}}function Hc(i){let e,l;return e=new Ch({props:{construction:i[7],includeTitle:!0}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Tw(i){var $e,xe;let e,l,t,n=be(i[0])+"",o,r,f,a,s,u,c,m,$,k,y,T=(i[0].required_str>=0?i[0].required_str:"not movable")+"",E,S,C,R=(($e=i[0].coverage)!=null?$e:0)+"",D,O,A,B,M,V,J,N,j,z,F,Y,q=i[0].description+"",W,re,H,K;l=new et({props:{item:i[0]}});function ee(se,ye){return se[0].move_cost_mod<0?uw:aw}let ie=ee(i),X=ie(i),te=i[0].comfort&&Oc(i),me=i[0].max_volume&&Bc(i),Ge=i[0].crafting_pseudo_item&&Ac(i),Ie=i[2].length&&cw(i),ae=i[3].length&&hw(i),ke=i[5].size&&kw(i),Ee=(xe=i[0].flags)!=null?xe:[],de=[];for(let se=0;se<Ee.length;se+=1)de[se]=jc(Ec(i,Ee,se));const Ue=se=>v(de[se],1,1,()=>{de[se]=null});let Ce=null;Ee.length||(Ce=Yc());let ge=i[4].length&&Ew(i);return{c(){e=p("h1"),U(l.$$.fragment),t=I(),o=w(n),r=I(),f=p("section"),a=p("h1"),a.textContent="General",s=I(),u=p("dl"),c=p("dt"),c.textContent="Move Cost Modifier",m=p("dd"),X.c(),$=I(),k=p("dt"),k.textContent="Strength Required to Drag",y=p("dd"),E=w(T),S=p("dt"),S.textContent="Coverage",C=p("dd"),D=w(R),O=w("%"),te&&te.c(),A=ne(),me&&me.c(),B=ne(),Ge&&Ge.c(),M=ne(),Ie&&Ie.c(),V=ne(),ae&&ae.c(),J=ne(),ke&&ke.c(),N=p("dt"),N.textContent="Flags",j=p("dd"),z=p("ul");for(let se=0;se<de.length;se+=1)de[se].c();Ce&&Ce.c(),F=I(),Y=p("p"),W=w(q),re=I(),ge&&ge.c(),H=ne(),fe(z,"class","comma-separated"),Je(Y,"color","var(--cata-color-gray)")},m(se,ye){g(se,e,ye),L(l,e,null),d(e,t),d(e,o),g(se,r,ye),g(se,f,ye),d(f,a),d(f,s),d(f,u),d(u,c),d(u,m),X.m(m,null),d(m,$),d(u,k),d(u,y),d(y,E),d(u,S),d(u,C),d(C,D),d(C,O),te&&te.m(u,null),d(u,A),me&&me.m(u,null),d(u,B),Ge&&Ge.m(u,null),d(u,M),Ie&&Ie.m(u,null),d(u,V),ae&&ae.m(u,null),d(u,J),ke&&ke.m(u,null),d(u,N),d(u,j),d(j,z);for(let ze=0;ze<de.length;ze+=1)de[ze].m(z,null);Ce&&Ce.m(z,null),d(f,F),d(f,Y),d(Y,W),g(se,re,ye),ge&&ge.m(se,ye),g(se,H,ye),K=!0},p(se,ye){var Ne,Me;const ze={};if(ye[0]&1&&(ze.item=se[0]),l.$set(ze),(!K||ye[0]&1)&&n!==(n=be(se[0])+"")&&P(o,n),ie===(ie=ee(se))&&X?X.p(se,ye):(X.d(1),X=ie(se),X&&(X.c(),X.m(m,$))),(!K||ye[0]&1)&&T!==(T=(se[0].required_str>=0?se[0].required_str:"not movable")+"")&&P(E,T),(!K||ye[0]&1)&&R!==(R=((Ne=se[0].coverage)!=null?Ne:0)+"")&&P(D,R),se[0].comfort?te?te.p(se,ye):(te=Oc(se),te.c(),te.m(u,A)):te&&(te.d(1),te=null),se[0].max_volume?me?me.p(se,ye):(me=Bc(se),me.c(),me.m(u,B)):me&&(me.d(1),me=null),se[0].crafting_pseudo_item?Ge?(Ge.p(se,ye),ye[0]&1&&b(Ge,1)):(Ge=Ac(se),Ge.c(),b(Ge,1),Ge.m(u,M)):Ge&&(Z(),v(Ge,1,1,()=>{Ge=null}),Q()),se[2].length&&Ie.p(se,ye),se[3].length&&ae.p(se,ye),se[5].size&&ke.p(se,ye),ye[0]&1){Ee=(Me=se[0].flags)!=null?Me:[];let Se;for(Se=0;Se<Ee.length;Se+=1){const ve=Ec(se,Ee,Se);de[Se]?(de[Se].p(ve,ye),b(de[Se],1)):(de[Se]=jc(ve),de[Se].c(),b(de[Se],1),de[Se].m(z,null))}for(Z(),Se=Ee.length;Se<de.length;Se+=1)Ue(Se);Q(),!Ee.length&&Ce?Ce.p(se,ye):Ee.length?Ce&&(Ce.d(1),Ce=null):(Ce=Yc(),Ce.c(),Ce.m(z,null))}(!K||ye[0]&1)&&q!==(q=se[0].description+"")&&P(W,q),se[4].length&&ge.p(se,ye)},i(se){if(!K){b(l.$$.fragment,se),b(Ge),b(Ie),b(ae),b(ke);for(let ye=0;ye<Ee.length;ye+=1)b(de[ye]);b(ge),K=!0}},o(se){v(l.$$.fragment,se),v(Ge),v(Ie),v(ae),v(ke),de=de.filter(Boolean);for(let ye=0;ye<de.length;ye+=1)v(de[ye]);v(ge),K=!1},d(se){se&&h(e),G(l),se&&h(r),se&&h(f),X.d(),te&&te.d(),me&&me.d(),Ge&&Ge.d(),Ie&&Ie.d(),ae&&ae.d(),ke&&ke.d(),ce(de,se),Ce&&Ce.d(),se&&h(re),ge&&ge.d(se),se&&h(H)}}}function Ih(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function Sw(i,e,l){var u,c,m;const t=it("data");let{item:n}=e;const o=(u=n.deconstruct)!=null&&u.items?t.flattenItemGroup({subtype:"collection",entries:typeof n.deconstruct.items=="string"?[{group:n.deconstruct.items}]:n.deconstruct.items}):[],r=(c=n.bash)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof n.bash.items=="string"?[{group:n.bash.items}]:n.bash.items}):[],f=t.byType("construction").filter($=>$.post_terrain===n.id),a=new Map;for(const{seasons:$,id:k}of(m=n.harvest_by_season)!=null?m:[])for(const y of $)a.set(y,k);const s=$=>a.has($);return i.$$set=$=>{"item"in $&&l(0,n=$.item)},[n,t,o,r,f,a,s]}class Cw extends Xe{constructor(e){super(),Ve(this,e,Sw,Tw,je,{item:0},null,[-1,-1])}}function Wc(i,e,l){const t=i.slice();return t[5]=e[l],t}function zc(i,e,l){const t=i.slice();return t[8]=e[l],t}function Iw(i){let e,l,t,n,o,r=[...i[2].keys()].sort(Jc),f=[];for(let s=0;s<r.length;s+=1)f[s]=Xc(Wc(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Books",t=I(),n=p("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&4){r=[...s[2].keys()].sort(Jc);let c;for(c=0;c<r.length;c+=1){const m=Wc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Xc(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),ce(f,s)}}}function Vc(i){let e,l,t;return l=new ue({props:{id:i[8].id,type:"item"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Xc(i){let e,l,t=i[5]+"",n,o,r,f,a,s=i[2].get(i[5]).sort(Kc),u=[];for(let m=0;m<s.length;m+=1)u[m]=Vc(zc(i,s,m));const c=m=>v(u[m],1,1,()=>{u[m]=null});return{c(){e=p("dt"),l=w("Level "),n=w(t),o=p("dd"),r=p("ul");for(let m=0;m<u.length;m+=1)u[m].c();f=I(),Je(e,"font-variant","tabular-nums")},m(m,$){g(m,e,$),d(e,l),d(e,n),g(m,o,$),d(o,r);for(let k=0;k<u.length;k+=1)u[k].m(r,null);d(o,f),a=!0},p(m,$){if($&4){s=m[2].get(m[5]).sort(Kc);let k;for(k=0;k<s.length;k+=1){const y=zc(m,s,k);u[k]?(u[k].p(y,$),b(u[k],1)):(u[k]=Vc(y),u[k].c(),b(u[k],1),u[k].m(r,null))}for(Z(),k=s.length;k<u.length;k+=1)c(k);Q()}},i(m){if(!a){for(let $=0;$<s.length;$+=1)b(u[$]);a=!0}},o(m){u=u.filter(Boolean);for(let $=0;$<u.length;$+=1)v(u[$]);a=!1},d(m){m&&h(e),m&&h(o),ce(u,m)}}}function Rw(i){let e,l,t,n,o;return n=new st({props:{items:i[3],$$slots:{default:[Nw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Used By",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&2049&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Nw(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Ow(i){let e,l,t=be(i[0])+"",n,o,r,f,a=i[0].description+"",s,u,c,m,$,k=i[1].length&&Iw(i),y=i[3].length&&Rw(i);return{c(){e=p("h1"),l=w("Skill: "),n=w(t),o=I(),r=p("section"),f=p("p"),s=w(a),u=I(),k&&k.c(),c=I(),y&&y.c(),m=ne(),Je(f,"color","var(--cata-color-gray)")},m(T,E){g(T,e,E),d(e,l),d(e,n),g(T,o,E),g(T,r,E),d(r,f),d(f,s),g(T,u,E),k&&k.m(T,E),g(T,c,E),y&&y.m(T,E),g(T,m,E),$=!0},p(T,[E]){(!$||E&1)&&t!==(t=be(T[0])+"")&&P(n,t),(!$||E&1)&&a!==(a=T[0].description+"")&&P(s,a),T[1].length&&k.p(T,E),T[3].length&&y.p(T,E)},i(T){$||(b(k),b(y),$=!0)},o(T){v(k),v(y),$=!1},d(T){T&&h(e),T&&h(o),T&&h(r),T&&h(u),k&&k.d(T),T&&h(c),y&&y.d(T),T&&h(m)}}}const Jc=(i,e)=>i-e,Kc=(i,e)=>{var l,t;return((l=i.required_level)!=null?l:0)-((t=e.required_level)!=null?t:0)};function Bw(i,e,l){var a,s,u;let{item:t}=e;const n=it("data"),o=n.byType("item").filter(c=>c.id&&c.type==="BOOK"&&c.skill===t.id).sort((c,m)=>be(c).localeCompare(be(m))),r=new Map;for(const c of o)r.has((a=c.max_level)!=null?a:0)||r.set((s=c.max_level)!=null?s:0,[]),r.get((u=c.max_level)!=null?u:0).push(c);const f=n.byType("item").filter(c=>c.id&&c.type==="GUN"&&c.skill===t.id);return f.sort((c,m)=>be(c).localeCompare(be(m))),i.$$set=c=>{"item"in c&&l(0,t=c.item)},[t,o,r,f]}class Aw extends Xe{constructor(e){super(),Ve(this,e,Bw,Ow,je,{item:0})}}function Zc(i,e,l){const t=i.slice();return t[3]=e[l],t}function Qc(i){let e,l,t,n,o=i[0].required_proficiencies,r=[];for(let a=0;a<o.length;a+=1)r[a]=xc(Zc(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Required Proficiencies",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&1){o=a[0].required_proficiencies;let u;for(u=0;u<o.length;u+=1){const c=Zc(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=xc(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function xc(i){let e,l,t;return l=new ue({props:{id:i[3],type:"proficiency"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[3]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Mw(i){let e,l,t,n,o;return n=new st({props:{items:i[2],$$slots:{default:[Dw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Recipes",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&65&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Dw(i){let e,l,t,n;return e=new et({props:{item:i[1].byId("item",i[0])}}),t=new ue({props:{type:"item",id:i[0]}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[1].byId("item",o[0])),e.$set(f);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Lw(i){var F,Y;let e,l,t=be(i[0])+"",n,o,r,f,a,s,u=(i[0].can_learn?i[0].time_to_learn:"not learnable")+"",c,m,$,k=((F=i[0].default_time_multiplier)!=null?F:2)+"",y,T,E,S,C=((Y=i[0].default_fail_multiplier)!=null?Y:2)+"",R,D,O,A,B=i[0].description+"",M,V,J,N,j=i[0].required_proficiencies&&Qc(i),z=i[2].length&&Mw(i);return{c(){e=p("h1"),l=w("Proficiency: "),n=w(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Time to Learn",s=p("dd"),c=w(u),m=p("dt"),m.textContent="Default Time Multiplier",$=p("dd"),y=w(k),T=w("\xD7"),E=p("dt"),E.textContent="Default Fail Multiplier",S=p("dd"),R=w(C),D=w("\xD7"),j&&j.c(),O=I(),A=p("p"),M=w(B),V=I(),z&&z.c(),J=ne(),Je(A,"color","var(--cata-color-gray)")},m(q,W){g(q,e,W),d(e,l),d(e,n),g(q,o,W),g(q,r,W),d(r,f),d(f,a),d(f,s),d(s,c),d(f,m),d(f,$),d($,y),d($,T),d(f,E),d(f,S),d(S,R),d(S,D),j&&j.m(f,null),d(r,O),d(r,A),d(A,M),g(q,V,W),z&&z.m(q,W),g(q,J,W),N=!0},p(q,[W]){var re,H;(!N||W&1)&&t!==(t=be(q[0])+"")&&P(n,t),(!N||W&1)&&u!==(u=(q[0].can_learn?q[0].time_to_learn:"not learnable")+"")&&P(c,u),(!N||W&1)&&k!==(k=((re=q[0].default_time_multiplier)!=null?re:2)+"")&&P(y,k),(!N||W&1)&&C!==(C=((H=q[0].default_fail_multiplier)!=null?H:2)+"")&&P(R,C),q[0].required_proficiencies?j?(j.p(q,W),W&1&&b(j,1)):(j=Qc(q),j.c(),b(j,1),j.m(f,null)):j&&(Z(),v(j,1,1,()=>{j=null}),Q()),(!N||W&1)&&B!==(B=q[0].description+"")&&P(M,B),q[2].length&&z.p(q,W)},i(q){N||(b(j),b(z),N=!0)},o(q){v(j),v(z),N=!1},d(q){q&&h(e),q&&h(o),q&&h(r),j&&j.d(),q&&h(V),z&&z.d(q),q&&h(J)}}}function Gw(i,e,l){let{item:t}=e;const n=it("data"),o=[...new Set(n.byType("recipe").filter(r=>{var f;return((f=r.proficiencies)!=null?f:[]).some(a=>a.proficiency===t.id)}).map(r=>r.result))].sort((r,f)=>be(n.byId("item",r)).localeCompare(be(n.byId("item",f))));return i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,n,o]}class Uw extends Xe{constructor(e){super(),Ve(this,e,Gw,Lw,je,{item:0})}}function e_(i,e,l){const t=i.slice();return t[14]=e[l].color,t[15]=e[l].string,t}function t_(i){let e,l,t=i[6],n=[];for(let o=0;o<t.length;o+=1)n[o]=l_(e_(i,t,o));return{c(){e=p("section"),l=p("p");for(let o=0;o<n.length;o+=1)n[o].c()},m(o,r){g(o,e,r),d(e,l);for(let f=0;f<n.length;f+=1)n[f].m(l,null)},p(o,r){if(r&192){t=o[6];let f;for(f=0;f<t.length;f+=1){const a=e_(o,t,f);n[f]?n[f].p(a,r):(n[f]=l_(a),n[f].c(),n[f].m(l,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}},d(o){o&&h(e),ce(n,o)}}}function l_(i){let e,l=i[15]+"",t;return{c(){e=p("span"),t=w(l),Je(e,"color","var(--cata-color-"+i[7](i[14])+")")},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function qw(i){let e,l,t,n,o;return n=new st({props:{items:i[1].sort(i[8]),$$slots:{default:[Pw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Items",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Pw(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Fw(i){let e,l,t,n,o;return n=new st({props:{items:i[2].sort(i[9]),$$slots:{default:[Yw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Vehicle Parts",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Yw(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"vehicle_part",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function jw(i){let e,l,t,n,o;return n=new st({props:{items:i[4].sort(i[10]),$$slots:{default:[Hw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Terrain",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Hw(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"terrain",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Ww(i){let e,l,t,n,o;return n=new st({props:{items:i[3].sort(i[11]),$$slots:{default:[zw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Furniture",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function zw(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"furniture",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Vw(i){let e,l,t,n,o;return n=new st({props:{items:i[5].sort(i[12]),$$slots:{default:[Xw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Bionics",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function Xw(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"bionic",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function Jw(i){let e,l,t=i[0].id+"",n,o,r,f,a,s,u,c,m,$=i[0].info&&t_(i),k=i[1].length&&qw(i),y=i[2].length&&Fw(i),T=i[4].length&&jw(i),E=i[3].length&&Ww(i),S=i[5].length&&Vw(i);return{c(){e=p("h1"),l=w("Flag: "),n=w(t),o=I(),$&&$.c(),r=I(),k&&k.c(),f=I(),y&&y.c(),a=I(),T&&T.c(),s=I(),E&&E.c(),u=I(),S&&S.c(),c=ne()},m(C,R){g(C,e,R),d(e,l),d(e,n),g(C,o,R),$&&$.m(C,R),g(C,r,R),k&&k.m(C,R),g(C,f,R),y&&y.m(C,R),g(C,a,R),T&&T.m(C,R),g(C,s,R),E&&E.m(C,R),g(C,u,R),S&&S.m(C,R),g(C,c,R),m=!0},p(C,[R]){(!m||R&1)&&t!==(t=C[0].id+"")&&P(n,t),C[0].info?$?$.p(C,R):($=t_(C),$.c(),$.m(r.parentNode,r)):$&&($.d(1),$=null),C[1].length&&k.p(C,R),C[2].length&&y.p(C,R),C[4].length&&T.p(C,R),C[3].length&&E.p(C,R),C[5].length&&S.p(C,R)},i(C){m||(b(k),b(y),b(T),b(E),b(S),m=!0)},o(C){v(k),v(y),v(T),v(E),v(S),m=!1},d(C){C&&h(e),C&&h(o),$&&$.d(C),C&&h(r),k&&k.d(C),C&&h(f),y&&y.d(C),C&&h(a),T&&T.d(C),C&&h(s),E&&E.d(C),C&&h(u),S&&S.d(C),C&&h(c)}}}function Kw(i){let e=["gray"];const l=[];let t=i;for(;;){const n=t.match(/<\/?(info|good|bad|color|color_[^>]+)>/);if(n)n.index>0&&l.push({string:t.substring(0,n.index),color:e[0]}),n[0][1]==="/"&&e.length>1?e.shift():e.unshift(n[1]),t=t.substring(n.index+n[0].length);else break}return t.length&&l.push({string:t,color:e[0]}),l}function Zw(i,e,l){var E;let{item:t}=e,n=it("data");const o=n.byType("item").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),r=n.byType("vehicle_part").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),f=n.byType("furniture").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),a=n.byType("terrain").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),s=n.byType("bionic").filter(S=>{var C,R,D;return S.id&&(((C=S.flags)==null?void 0:C.includes(t.id))||((R=S.active_flags)==null?void 0:R.includes(t.id))||((D=S.inactive_flags)==null?void 0:D.includes(t.id)))}),u=Kw((E=t.info)!=null?E:""),c=S=>{if(S==="info")return"cyan";if(S==="good")return"green";if(S==="bad")return"red";const C=/^color_(.+)$/.exec(S);return C?C[1]:"gray"},m=(S,C)=>be(S).localeCompare(be(C)),$=(S,C)=>be(S).localeCompare(be(C)),k=(S,C)=>be(S).localeCompare(be(C)),y=(S,C)=>be(S).localeCompare(be(C)),T=(S,C)=>be(S).localeCompare(be(C));return i.$$set=S=>{"item"in S&&l(0,t=S.item)},[t,o,r,f,a,s,u,c,m,$,k,y,T]}class Qw extends Xe{constructor(e){super(),Ve(this,e,Zw,Jw,je,{item:0})}}function n_(i,e,l){const t=i.slice();return t[5]=e[l].tools,t[6]=e[l].components,t[7]=e[l].qualities,t[8]=e[l].mending_method,t}function i_(i,e,l){const t=i.slice();return t[11]=e[l],t}function r_(i,e,l){const t=i.slice();return t[14]=e[l].id,t[15]=e[l].count,t[17]=l,t}function o_(i,e,l){const t=i.slice();return t[18]=e[l],t}function f_(i,e,l){const t=i.slice();return t[21]=e[l],t[17]=l,t}function s_(i,e,l){const t=i.slice();return t[23]=e[l],t}function a_(i,e,l){const t=i.slice();return t[26]=e[l],t[17]=l,t}function u_(i,e,l){const t=i.slice();return t[14]=e[l].id,t[28]=e[l].level,t[17]=l,t}function c_(i,e,l){const t=i.slice();return t[30]=e[l],t}function __(i){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function d_(i){let e,l,t=i[30]+"",n,o;return{c(){e=p("li"),l=p("abbr"),n=w(t),fe(l,"title",o=i[3][i[30]])},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&1&&t!==(t=r[30]+"")&&P(n,t),f[0]&1&&o!==(o=r[3][r[30]])&&fe(l,"title",o)},d(r){r&&h(e)}}}function xw(i){let e;return{c(){e=p("h2"),e.textContent="Mending Methods"},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function m_(i){let e;return{c(){e=w("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function e2(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function t2(i){let e=" and ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function p_(i){let e,l,t=i[28]+"",n,o,r,f;e=new ue({props:{type:"skill",id:i[14]}});function a(c,m){if(c[17]===c[8].skills.length-2)return t2;if(c[17]!==c[8].skills.length-1)return e2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")"),u&&u.c(),r=ne()},m(c,m){L(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p:x,i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function l2(i){var $;let e,l,t,n,o,r,f=($=i[7])!=null?$:[],a=[];for(let k=0;k<f.length;k+=1)a[k]=g_(s_(i,f,k));const s=k=>v(a[k],1,1,()=>{a[k]=null});let u=i[5],c=[];for(let k=0;k<u.length;k+=1)c[k]=$_(o_(i,u,k));const m=k=>v(c[k],1,1,()=>{c[k]=null});return{c(){e=p("dt"),e.textContent="Tools Required",l=p("dd"),t=p("ul");for(let k=0;k<a.length;k+=1)a[k].c();n=I();for(let k=0;k<c.length;k+=1)c[k].c();o=I()},m(k,y){g(k,e,y),g(k,l,y),d(l,t);for(let T=0;T<a.length;T+=1)a[T].m(t,null);d(t,n);for(let T=0;T<c.length;T+=1)c[T].m(t,null);d(l,o),r=!0},p(k,y){var T;if(y[0]&4){f=(T=k[7])!=null?T:[];let E;for(E=0;E<f.length;E+=1){const S=s_(k,f,E);a[E]?(a[E].p(S,y),b(a[E],1)):(a[E]=g_(S),a[E].c(),b(a[E],1),a[E].m(t,n))}for(Z(),E=f.length;E<a.length;E+=1)s(E);Q()}if(y[0]&6){u=k[5];let E;for(E=0;E<u.length;E+=1){const S=o_(k,u,E);c[E]?(c[E].p(S,y),b(c[E],1)):(c[E]=$_(S),c[E].c(),b(c[E],1),c[E].m(t,null))}for(Z(),E=u.length;E<c.length;E+=1)m(E);Q()}},i(k){if(!r){for(let y=0;y<f.length;y+=1)b(a[y]);for(let y=0;y<u.length;y+=1)b(c[y]);r=!0}},o(k){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)v(a[y]);c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)v(c[y]);r=!1},d(k){k&&h(e),k&&h(l),ce(a,k),ce(c,k)}}}function n2(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function h_(i){var E,S;let e,l=((E=i[26].amount)!=null?E:1)+"",t,n,o=((S=i[26].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[26].level+"",c,m,$="",k,y,T=i[17]!==0&&n2();return a=new ue({props:{type:"tool_quality",id:i[26].id}}),{c(){T&&T.c(),e=I(),t=w(l),n=w(" tool"),r=w(o),f=w(`
                  with `),U(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
                  or more`),k=w($)},m(C,R){T&&T.m(C,R),g(C,e,R),g(C,t,R),g(C,n,R),g(C,r,R),g(C,f,R),L(a,C,R),g(C,s,R),g(C,c,R),g(C,m,R),g(C,k,R),y=!0},p:x,i(C){y||(b(a.$$.fragment,C),y=!0)},o(C){v(a.$$.fragment,C),y=!1},d(C){T&&T.d(C),C&&h(e),C&&h(t),C&&h(n),C&&h(r),C&&h(f),G(a,C),C&&h(s),C&&h(c),C&&h(m),C&&h(k)}}}function g_(i){let e,l,t,n=i[23],o=[];for(let f=0;f<n.length;f+=1)o[f]=h_(a_(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=w(".")},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a[0]&4){n=f[23];let s;for(s=0;s<n.length;s+=1){const u=a_(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=h_(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function i2(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function r2(i){let e,l;return e=new ue({props:{type:"item",id:i[21].id}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function o2(i){let e,l=be(i[1].byId("item",i[21].id))+"",t;return{c(){e=p("a"),t=w(l),fe(e,"href","#/furniture/"+i[1].craftingPseudoItem(i[21].id))},m(n,o){g(n,e,o),d(e,t)},p:x,i:x,o:x,d(n){n&&h(e)}}}function f2(i){let e,l=i[21].count+"",t,n,o,r=i[21].count!==1&&s2();return{c(){e=w("("),t=w(l),n=w(" charge"),r&&r.c(),o=w(")")},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),r&&r.m(f,a),g(f,o,a)},p:x,d(f){f&&h(e),f&&h(t),f&&h(n),r&&r.d(f),f&&h(o)}}}function s2(i){let e;return{c(){e=w("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function b_(i){let e,l,t,n,o,r,f=i[17]!==0&&i2();const a=[o2,r2],s=[];function u(m,$){return m[1].craftingPseudoItem(m[21].id)?0:1}l=u(i),t=s[l]=a[l](i);let c=i[21].count>0&&f2(i);return{c(){f&&f.c(),e=I(),t.c(),n=I(),c&&c.c(),o=ne()},m(m,$){f&&f.m(m,$),g(m,e,$),s[l].m(m,$),g(m,n,$),c&&c.m(m,$),g(m,o,$),r=!0},p(m,$){t.p(m,$),m[21].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){v(t),r=!1},d(m){f&&f.d(m),m&&h(e),s[l].d(m),m&&h(n),c&&c.d(m),m&&h(o)}}}function $_(i){let e,l,t,n=i[18],o=[];for(let f=0;f<n.length;f+=1)o[f]=b_(f_(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a[0]&6){n=f[18];let s;for(s=0;s<n.length;s+=1){const u=f_(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=b_(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function a2(i){let e,l,t,n,o,r=i[6],f=[];for(let s=0;s<r.length;s+=1)f[s]=k_(i_(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Components",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&6){r=s[6];let c;for(c=0;c<r.length;c+=1){const m=i_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=k_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function u2(i){let e=" OR ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function v_(i){let e,l,t,n=i[17]!==0&&u2();return l=new ue({props:{id:i[14],count:i[15],type:"item"}}),{c(){n&&n.c(),e=I(),U(l.$$.fragment)},m(o,r){n&&n.m(o,r),g(o,e,r),L(l,o,r),t=!0},p:x,i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){v(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&h(e),G(l,o)}}}function k_(i){let e,l,t,n=i[11].map(i[4]),o=[];for(let f=0;f<n.length;f+=1)o[f]=v_(r_(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li");for(let f=0;f<o.length;f+=1)o[f].c();l=I()},m(f,a){g(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,l),t=!0},p(f,a){if(a[0]&6){n=f[11].map(f[4]);let s;for(s=0;s<n.length;s+=1){const u=r_(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=v_(u),o[s].c(),b(o[s],1),o[s].m(e,l))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function c2(i){let e,l,t,n;return t=new ue({props:{type:"fault",id:i[8].turns_into}}),{c(){e=p("dt"),e.textContent="Turns Into",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p:x,i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function y_(i){let e,l,t=be(i[8])+"",n,o,r,f,a,s,u,c,m=i[8].time+"",$,k,y,T,E,S=i[8].skills,C=[];for(let M=0;M<S.length;M+=1)C[M]=p_(u_(i,S,M));const R=M=>v(C[M],1,1,()=>{C[M]=null});let D=null;S.length||(D=m_());let O=(i[7].length||i[5].length)&&l2(i),A=i[6].length&&a2(i),B=i[8].turns_into&&c2(i);return{c(){e=p("section"),l=p("h1"),n=w(t),o=I(),r=p("dl"),f=p("dt"),f.textContent="Skills Used",a=p("dd");for(let M=0;M<C.length;M+=1)C[M].c();D&&D.c(),s=I(),u=p("dt"),u.textContent="Time to Complete",c=p("dd"),$=w(m),O&&O.c(),k=ne(),A&&A.c(),y=ne(),B&&B.c(),T=I()},m(M,V){g(M,e,V),d(e,l),d(l,n),d(e,o),d(e,r),d(r,f),d(r,a);for(let J=0;J<C.length;J+=1)C[J].m(a,null);D&&D.m(a,null),d(a,s),d(r,u),d(r,c),d(c,$),O&&O.m(r,null),d(r,k),A&&A.m(r,null),d(r,y),B&&B.m(r,null),d(e,T),E=!0},p(M,V){if(V[0]&4){S=M[8].skills;let J;for(J=0;J<S.length;J+=1){const N=u_(M,S,J);C[J]?(C[J].p(N,V),b(C[J],1)):(C[J]=p_(N),C[J].c(),b(C[J],1),C[J].m(a,s))}for(Z(),J=S.length;J<C.length;J+=1)R(J);Q(),S.length?D&&(D.d(1),D=null):D||(D=m_(),D.c(),D.m(a,s))}(M[7].length||M[5].length)&&O.p(M,V),M[6].length&&A.p(M,V),M[8].turns_into&&B.p(M,V)},i(M){if(!E){for(let V=0;V<S.length;V+=1)b(C[V]);b(O),b(A),b(B),E=!0}},o(M){C=C.filter(Boolean);for(let V=0;V<C.length;V+=1)v(C[V]);v(O),v(A),v(B),E=!1},d(M){M&&h(e),ce(C,M),D&&D.d(),O&&O.d(),A&&A.d(),B&&B.d()}}}function _2(i){var V;let e,l,t=be(i[0])+"",n,o,r,f,a,s,u,c,m,$=i[0].description+"",k,y,T,E,S,C=(V=i[0].flags)!=null?V:[],R=[];for(let J=0;J<C.length;J+=1)R[J]=d_(c_(i,C,J));let D=null;C.length||(D=__());let O=i[2].length&&xw(),A=i[2],B=[];for(let J=0;J<A.length;J+=1)B[J]=y_(n_(i,A,J));const M=J=>v(B[J],1,1,()=>{B[J]=null});return{c(){e=p("h1"),l=w("Fault: "),n=w(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Flags",s=p("dd"),u=p("ul");for(let J=0;J<R.length;J+=1)R[J].c();D&&D.c(),c=I(),m=p("p"),k=w($),y=I(),O&&O.c(),T=I();for(let J=0;J<B.length;J+=1)B[J].c();E=ne(),fe(u,"class","comma-separated"),Je(m,"color","var(--cata-color-gray)")},m(J,N){g(J,e,N),d(e,l),d(e,n),g(J,o,N),g(J,r,N),d(r,f),d(f,a),d(f,s),d(s,u);for(let j=0;j<R.length;j+=1)R[j].m(u,null);D&&D.m(u,null),d(r,c),d(r,m),d(m,k),g(J,y,N),O&&O.m(J,N),g(J,T,N);for(let j=0;j<B.length;j+=1)B[j].m(J,N);g(J,E,N),S=!0},p(J,N){var j;if((!S||N[0]&1)&&t!==(t=be(J[0])+"")&&P(n,t),N[0]&9){C=(j=J[0].flags)!=null?j:[];let z;for(z=0;z<C.length;z+=1){const F=c_(J,C,z);R[z]?R[z].p(F,N):(R[z]=d_(F),R[z].c(),R[z].m(u,null))}for(;z<R.length;z+=1)R[z].d(1);R.length=C.length,!C.length&&D?D.p(J,N):C.length?D&&(D.d(1),D=null):(D=__(),D.c(),D.m(u,null))}if((!S||N[0]&1)&&$!==($=J[0].description+"")&&P(k,$),N[0]&6){A=J[2];let z;for(z=0;z<A.length;z+=1){const F=n_(J,A,z);B[z]?(B[z].p(F,N),b(B[z],1)):(B[z]=y_(F),B[z].c(),b(B[z],1),B[z].m(E.parentNode,E))}for(Z(),z=A.length;z<B.length;z+=1)M(z);Q()}},i(J){if(!S){for(let N=0;N<A.length;N+=1)b(B[N]);S=!0}},o(J){B=B.filter(Boolean);for(let N=0;N<B.length;N+=1)v(B[N]);S=!1},d(J){J&&h(e),J&&h(o),J&&h(r),ce(R,J),D&&D.d(),J&&h(y),O&&O.d(J),J&&h(T),ce(B,J),J&&h(E)}}}function d2(i,e,l){var a;const t=it("data");let{item:n}=e;const o=((a=n.mending_methods)!=null?a:[]).map(s=>{var k,y,T;const u=typeof s.requirements=="string"?t.byId("requirement",s.requirements):s.requirements,c=t.flattenRequirement((k=u.tools)!=null?k:[],E=>E.tools,{expandSubstitutes:!0}),m=t.flattenRequirement((y=u.components)!=null?y:[],E=>E.components),$=Br((T=u.qualities)!=null?T:[]);return{mending_method:s,tools:c,components:m,qualities:$}}),r={NO_ALTERNATOR_CHARGE:"The alternator connected to this engine does not work.",BAD_COLD_START:"The engine starts as if the temperature was 20 F colder. Does not stack with multiples of itself.",IMMOBILIZER:"Prevents engine from starting and makes it beep.",BAD_FUEL_PUMP:"Prevents engine from starting and makes it stutter.",BAD_STARTER:"Prevents engine from starting and makes click noise.",DOUBLE_FUEL_CONSUMPTION:"Doubles fuel consumption of the engine. Does not stack with multiples of itself.",EXTRA_EXHAUST:"Makes the engine emit more exhaust smoke. Does not stack with multiples of itself.",REDUCE_ENG_POWER:"Multiplies engine power by 0.6. Does not stack with multiples of itself.",ENG_BACKFIRE:"Causes the engine to backfire as if it had zero hp.",BLACKPOWDER_FOULING_DAMAGE:"Causes the gun to take random acid damage over time.",NO_DIRTYING:"Prevents the gun from receiving `fault_gun_dirt` fault.",JAMMED_GUN:"Stops burst fire. Adds delay on next shot.",UNLUBRICATED:"Randomly causes screeching noise when firing and applies damage when that happens.",BAD_CYCLING:"One in 16 chance that the gun fails to cycle when fired resulting in `fault_gun_chamber_spent` fault."},f=s=>({...s,item:t.byId("item",s.id)});return i.$$set=s=>{"item"in s&&l(0,n=s.item)},[n,t,o,r,f]}class m2 extends Xe{constructor(e){super(),Ve(this,e,d2,_2,je,{item:0},null,[-1,-1])}}function w_(i,e,l){const t=i.slice();return t[5]=e[l],t}function E_(i,e,l){const t=i.slice();return t[5]=e[l],t}function T_(i){let e,l,t,n,o=i[2],r=[];for(let f=0;f<o.length;f+=1)r[f]=S_(E_(i,o,f));return{c(){e=p("dt"),e.textContent="Excess",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a&4){o=f[2];let s;for(s=0;s<o.length;s+=1){const u=E_(f,o,s);r[s]?r[s].p(u,a):(r[s]=S_(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),ce(r,f)}}}function S_(i){let e,l=Vt(i[5])+"",t;return{c(){e=p("li"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function C_(i){let e,l,t,n,o=i[3],r=[];for(let f=0;f<o.length;f+=1)r[f]=I_(w_(i,o,f));return{c(){e=p("dt"),e.textContent="Deficiency",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a&8){o=f[3];let s;for(s=0;s<o.length;s+=1){const u=w_(f,o,s);r[s]?r[s].p(u,a):(r[s]=I_(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),ce(r,f)}}}function I_(i){let e,l=Vt(i[5])+"",t;return{c(){e=p("li"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function p2(i){let e,l,t=i[0].pct+"",n,o,r;return e=new ue({props:{id:i[0].comestible.id,type:"item"}}),{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w("% RDA)")},m(f,a){L(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){const s={};a&1&&(s.id=f[0].comestible.id),e.$set(s),(!r||a&1)&&t!==(t=f[0].pct+"")&&P(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){v(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function h2(i){var q,W,re;let e,l,t=be(i[0])+"",n,o,r,f,a,s,u=i[0].vit_type+"",c,m,$,k,y=((q=i[0].min)!=null?q:0)+"",T,E,S,C=((W=i[0].max)!=null?W:0)+"",R,D,O,A=((re=i[0].rate)!=null?re:"0 m")+"",B,M,V,J,N,j,z,F=i[0].excess&&T_(i),Y=i[0].deficiency&&C_(i);return j=new st({props:{items:i[1],$$slots:{default:[p2,({item:H})=>({0:H}),({item:H})=>H?1:0]},$$scope:{ctx:i}}}),{c(){e=p("h1"),l=w("Vitamin: "),n=w(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Type",s=p("dd"),c=w(u),F&&F.c(),m=ne(),Y&&Y.c(),$=p("dt"),$.textContent="Min",k=p("dd"),T=w(y),E=p("dt"),E.textContent="Max",S=p("dd"),R=w(C),D=p("dt"),D.textContent="Rate",O=p("dd"),B=w(A),M=I(),V=p("section"),J=p("h1"),J.textContent="Comestibles",N=I(),U(j.$$.fragment)},m(H,K){g(H,e,K),d(e,l),d(e,n),g(H,o,K),g(H,r,K),d(r,f),d(f,a),d(f,s),d(s,c),F&&F.m(f,null),d(f,m),Y&&Y.m(f,null),d(f,$),d(f,k),d(k,T),d(f,E),d(f,S),d(S,R),d(f,D),d(f,O),d(O,B),g(H,M,K),g(H,V,K),d(V,J),d(V,N),L(j,V,null),z=!0},p(H,[K]){var ie,X,te;(!z||K&1)&&t!==(t=be(H[0])+"")&&P(n,t),(!z||K&1)&&u!==(u=H[0].vit_type+"")&&P(c,u),H[0].excess?F?F.p(H,K):(F=T_(H),F.c(),F.m(f,m)):F&&(F.d(1),F=null),H[0].deficiency?Y?Y.p(H,K):(Y=C_(H),Y.c(),Y.m(f,$)):Y&&(Y.d(1),Y=null),(!z||K&1)&&y!==(y=((ie=H[0].min)!=null?ie:0)+"")&&P(T,y),(!z||K&1)&&C!==(C=((X=H[0].max)!=null?X:0)+"")&&P(R,C),(!z||K&1)&&A!==(A=((te=H[0].rate)!=null?te:"0 m")+"")&&P(B,A);const ee={};K&1025&&(ee.$$scope={dirty:K,ctx:H}),j.$set(ee)},i(H){z||(b(j.$$.fragment,H),z=!0)},o(H){v(j.$$.fragment,H),z=!1},d(H){H&&h(e),H&&h(o),H&&h(r),F&&F.d(),Y&&Y.d(),H&&h(M),H&&h(V),G(j)}}}function g2(i,e,l){var a,s;let{item:t}=e;const n=it("data"),o=n.byType("item").filter(u=>{var c;return u.type==="COMESTIBLE"&&u.id&&((c=u.vitamins)!=null?c:[]).some(m=>m[0]===t.id)}).map(u=>{const c=u;return{comestible:c,pct:c.vitamins.find(m=>m[0]===t.id)[1]}});o.sort((u,c)=>c.pct-u.pct);const r=t.excess?(a=n.byId("effect_type",t.excess).name)!=null?a:[]:[],f=t.deficiency?(s=n.byId("effect_type",t.deficiency).name)!=null?s:[]:[];return i.$$set=u=>{"item"in u&&l(0,t=u.item)},[t,o,r,f]}class b2 extends Xe{constructor(e){super(),Ve(this,e,g2,h2,je,{item:0})}}function R_(i,e,l){const t=i.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function N_(i,e,l){const t=i.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function O_(i,e,l){const t=i.slice();return t[5]=e[l][0],t[6]=e[l][1],t[8]=l,t}function B_(i,e,l){const t=i.slice();return t[11]=e[l],t}function A_(i,e,l){const t=i.slice();return t[14]=e[l].id,t[15]=e[l].count,t[16]=e[l].prob,t}function M_(i,e,l){const t=i.slice();return t[14]=e[l].id,t}function D_(i,e,l){const t=i.slice();return t[21]=e[l][0],t[6]=e[l][1],t}function L_(i,e,l){const t=i.slice();return t[24]=e[l],t}function $2(i){let e,l,t,n;return t=new ue({props:{type:"item",id:i[0].fuel_type}}),{c(){e=p("dt"),e.textContent="Charge",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].fuel_type),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function v2(i){let e,l,t,n,o,r=i[0].fuel_options,f=[];for(let s=0;s<r.length;s+=1)f[s]=G_(L_(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Charge",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated or")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].fuel_options;let c;for(c=0;c<r.length;c+=1){const m=L_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=G_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function G_(i){let e,l,t;return l=new ue({props:{type:"item",id:i[24]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[24]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function U_(i){let e,l,t=Ql(i[0].size)+"",n;return{c(){e=p("dt"),e.textContent="Capacity",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=Ql(o[0].size)+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function q_(i){let e,l,t=Ql(i[0].folded_volume)+"",n;return{c(){e=p("dt"),e.textContent="Folded Volume",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=Ql(o[0].folded_volume)+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function P_(i){let e,l,t,n,o,r=i[0].qualities,f=[];for(let s=0;s<r.length;s+=1)f[s]=F_(D_(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Qualities",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","no-bullets")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].qualities;let c;for(c=0;c<r.length;c+=1){const m=D_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=F_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function F_(i){var u;let e,l,t,n=((u=i[6])!=null?u:1)+"",o,r,f,a,s;return f=new ue({props:{type:"tool_quality",id:i[21]}}),{c(){e=p("li"),l=w("Has level "),t=p("strong"),o=w(n),r=I(),U(f.$$.fragment),a=w(` quality.
            `)},m(c,m){g(c,e,m),d(e,l),d(e,t),d(t,o),d(t,r),L(f,t,null),d(e,a),s=!0},p(c,m){var k;(!s||m&1)&&n!==(n=((k=c[6])!=null?k:1)+"")&&P(o,n);const $={};m&1&&($.id=c[21]),f.$set($)},i(c){s||(b(f.$$.fragment,c),s=!0)},o(c){v(f.$$.fragment,c),s=!1},d(c){c&&h(e),G(f)}}}function Y_(i){let e,l,t=i[0].comfort+"",n;return{c(){e=p("dt"),e.textContent="Comfort",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].comfort+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function j_(i){let e,l,t=i[0].floor_bedding_warmth+"",n;return{c(){e=p("dt"),e.textContent="Bedding Warmth",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].floor_bedding_warmth+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function H_(i){let e,l,t=i[0].epower+"",n;return{c(){e=p("dt"),e.textContent="Electric Power",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=o[0].epower+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function W_(i){let e,l,t=-i[0].energy_consumption+"",n;return{c(){e=p("dt"),e.textContent="Drain",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&1&&t!==(t=-o[0].energy_consumption+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function z_(i){let e,l,t=i[0].power+"",n,o,r,f=i[0].muscle_power_factor&&V_(i);return{c(){e=p("dt"),e.textContent="Power",l=p("dd"),n=w(t),o=I(),f&&f.c(),r=I()},m(a,s){g(a,e,s),g(a,l,s),d(l,n),d(l,o),f&&f.m(l,null),d(l,r)},p(a,s){s&1&&t!==(t=a[0].power+"")&&P(n,t),a[0].muscle_power_factor?f?f.p(a,s):(f=V_(a),f.c(),f.m(l,r)):f&&(f.d(1),f=null)},d(a){a&&h(e),a&&h(l),f&&f.d()}}}function V_(i){let e,l=i[0].muscle_power_factor+"",t;return{c(){e=w("+ (str \u2212 8) \xD7 "),t=w(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o&1&&l!==(l=n[0].muscle_power_factor+"")&&P(t,l)},d(n){n&&h(e),n&&h(t)}}}function X_(i){let e,l=Wi(i[0])+"",t,n,o=i[0].bonus+"",r;return{c(){e=p("dt"),t=w(l),n=p("dd"),r=w(o)},m(f,a){g(f,e,a),d(e,t),g(f,n,a),d(n,r)},p(f,a){a&1&&l!==(l=Wi(f[0])+"")&&P(t,l),a&1&&o!==(o=f[0].bonus+"")&&P(r,o)},d(f){f&&h(e),f&&h(n)}}}function J_(i){let e,l,t,n,o,r=i[0].pseudo_tools,f=[];for(let s=0;s<r.length;s+=1)f[s]=K_(M_(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Provides",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].pseudo_tools;let c;for(c=0;c<r.length;c+=1){const m=M_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=K_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function K_(i){let e,l;return e=new ue({props:{type:"item",id:i[14]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.id=t[14]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function k2(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Z_(A_(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Breaks Into",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=A_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Z_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function y2(i){let e,l=vn(i[16])+"",t,n;return{c(){e=w("("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function Z_(i){let e,l,t;l=new ue({props:{id:i[14],count:i[15],type:"item"}});let n=i[16]!==1&&y2(i);return{c(){e=p("li"),U(l.$$.fragment),n&&n.c()},m(o,r){g(o,e,r),L(l,e,null),n&&n.m(e,null),t=!0},p(o,r){o[16]!==1&&n.p(o,r)},i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){v(l.$$.fragment,o),t=!1},d(o){o&&h(e),G(l),n&&n.d()}}}function Q_(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function x_(i){let e,l,t;return l=new ue({props:{type:"json_flag",id:i[11]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[11]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function ed(i){let e;return{c(){e=w("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function w2(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function E2(i){let e=" and ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function td(i){let e,l,t=i[6]+"",n,o,r,f;e=new ue({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.install.skills.length-2)return E2;if(c[8]!==c[0].requirements.install.skills.length-1)return w2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")"),u&&u.c(),r=ne()},m(c,m){L(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&P(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function ld(i){let e;return{c(){e=w("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function T2(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function S2(i){let e=" and ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function nd(i){let e,l,t=i[6]+"",n,o,r,f;e=new ue({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.removal.skills.length-2)return S2;if(c[8]!==c[0].requirements.removal.skills.length-1)return T2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")"),u&&u.c(),r=ne()},m(c,m){L(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&P(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function id(i){let e,l;return e=new er({props:{requirement:i[0].requirements.removal}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.requirement=t[0].requirements.removal),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function rd(i){var R,D,O,A,B;let e,l,t,n,o,r,f,a,s,u=((O=(D=(R=i[0].requirements)==null?void 0:R.repair)==null?void 0:D.time)!=null?O:"1 hour")+"",c,m,$,k,y,T=(B=(A=i[0].requirements.repair)==null?void 0:A.skills)!=null?B:[],E=[];for(let M=0;M<T.length;M+=1)E[M]=fd(R_(i,T,M));const S=M=>v(E[M],1,1,()=>{E[M]=null});let C=null;return T.length||(C=od()),m=new er({props:{requirement:i[0].requirements.repair}}),{c(){e=p("section"),l=p("h1"),l.textContent="Repair",t=I(),n=p("dl"),o=p("dt"),o.textContent="Skills Required",r=p("dd");for(let M=0;M<E.length;M+=1)E[M].c();C&&C.c(),f=I(),a=p("dt"),a.textContent="Time",s=p("dd"),c=w(u),U(m.$$.fragment),$=I(),k=p("p"),k.textContent="Repair time and requirements are lower for parts that are less damaged.",fe(a,"title","Time required goes down with better skills"),Je(k,"color","var(--cata-color-gray)"),Je(k,"font-style","italic")},m(M,V){g(M,e,V),d(e,l),d(e,t),d(e,n),d(n,o),d(n,r);for(let J=0;J<E.length;J+=1)E[J].m(r,null);C&&C.m(r,null),d(r,f),d(n,a),d(n,s),d(s,c),L(m,n,null),d(e,$),d(e,k),y=!0},p(M,V){var N,j,z,F,Y;if(V&1){T=(j=(N=M[0].requirements.repair)==null?void 0:N.skills)!=null?j:[];let q;for(q=0;q<T.length;q+=1){const W=R_(M,T,q);E[q]?(E[q].p(W,V),b(E[q],1)):(E[q]=fd(W),E[q].c(),b(E[q],1),E[q].m(r,f))}for(Z(),q=T.length;q<E.length;q+=1)S(q);Q(),T.length?C&&(C.d(1),C=null):C||(C=od(),C.c(),C.m(r,f))}(!y||V&1)&&u!==(u=((Y=(F=(z=M[0].requirements)==null?void 0:z.repair)==null?void 0:F.time)!=null?Y:"1 hour")+"")&&P(c,u);const J={};V&1&&(J.requirement=M[0].requirements.repair),m.$set(J)},i(M){if(!y){for(let V=0;V<T.length;V+=1)b(E[V]);b(m.$$.fragment,M),y=!0}},o(M){E=E.filter(Boolean);for(let V=0;V<E.length;V+=1)v(E[V]);v(m.$$.fragment,M),y=!1},d(M){M&&h(e),ce(E,M),C&&C.d(),G(m)}}}function od(i){let e;return{c(){e=w("none")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function C2(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function I2(i){let e=" and ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function fd(i){let e,l,t=i[6]+"",n,o,r,f;e=new ue({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.repair.skills.length-2)return I2;if(c[8]!==c[0].requirements.repair.skills.length-1)return C2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")"),u&&u.c(),r=ne()},m(c,m){L(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&P(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function R2(i){let e,l,t,n,o;return n=new st({props:{items:i[3],$$slots:{default:[N2,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Vehicles",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&134217729&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function N2(i){let e,l;return e=new ue({props:{type:"vehicle",id:i[0].id}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.id=t[0].id),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function O2(i){var Ot,Dt,Ut,Ft,Lt,cl,Wl,Ol,le,De,bl,Bl,Al,Ml,Dl,Ll,Gl,Ul,ql,Pl,$t,Jt,Kt,hl,Yt,Zt,Qt,vt,xt;let e,l,t,n=(i[0].name?be(i[0]):be(i[1].byId("item",i[0].item)))+"",o,r,f,a,s,u,c,m,$,k,y,T=kn(i[1].byId("item",i[0].item).weight)+"",E,S,C,R,D,O=((Ot=i[0].durability)!=null?Ot:0)+"",A,B,M,V,J,N,j,z=((Dt=i[0].damage_modifier)!=null?Dt:100)+"",F,Y,q,W,re,H=i[0].bonus&&Wi(i[0]),K,ee,ie,X,te,me,Ge,Ie=Vt((Ut=i[0].description)!=null?Ut:i[1].byId("item",i[0].item).description)+"",ae,ke,Ee,de,Ue,Ce,ge,$e,xe,se,ye,ze,Ne=((cl=(Lt=(Ft=i[0].requirements)==null?void 0:Ft.install)==null?void 0:Lt.time)!=null?cl:"1 hour")+"",Me,Se,ve,Ae,Pe,Fe,Be,oe,Te,Re,we,Ke,Tt=((Bl=(Ol=(Wl=i[0].requirements)==null?void 0:Wl.removal)==null?void 0:Ol.time)!=null?Bl:Fo(`${Ui((bl=(De=(le=i[0].requirements)==null?void 0:le.install)==null?void 0:De.time)!=null?bl:"1 hour")/2} s`))+"",dt,ct,gt,Ht,al,St;l=new et({props:{item:i[0]}}),$=new ue({props:{id:i[0].item,type:"item"}});const tt=[v2,$2],nt=[];function Le(_e,qe){var Et;return(Et=_e[0].fuel_options)!=null&&Et.length?0:_e[0].fuel_type?1:-1}~(S=Le(i))&&(C=nt[S]=tt[S](i));let We=i[0].size&&U_(i),kt=i[0].folded_volume&&q_(i),_t=((Al=i[0].qualities)==null?void 0:Al.length)&&P_(i),At=i[0].comfort&&Y_(i),yt=i[0].floor_bedding_warmth&&j_(i),mt=i[0].epower&&H_(i),at=i[0].energy_consumption&&W_(i),Ct=i[0].power&&z_(i),It=H&&X_(i),bt=((Ml=i[0].pseudo_tools)==null?void 0:Ml.length)&&J_(i),wt=((Dl=i[2])==null?void 0:Dl.length)&&k2(i),qt=(Ll=i[0].flags)!=null?Ll:[],rt=[];for(let _e=0;_e<qt.length;_e+=1)rt[_e]=x_(B_(i,qt,_e));const Rl=_e=>v(rt[_e],1,1,()=>{rt[_e]=null});let pt=null;qt.length||(pt=Q_());let zt=(ql=(Ul=(Gl=i[0].requirements)==null?void 0:Gl.install)==null?void 0:Ul.skills)!=null?ql:[],Ze=[];for(let _e=0;_e<zt.length;_e+=1)Ze[_e]=td(O_(i,zt,_e));const ul=_e=>v(Ze[_e],1,1,()=>{Ze[_e]=null});let Rt=null;zt.length||(Rt=ed()),Se=new er({props:{requirement:{...($t=(Pl=i[0].requirements)==null?void 0:Pl.install)!=null?$t:{},components:((hl=(Kt=(Jt=i[0].requirements)==null?void 0:Jt.install)==null?void 0:Kt.components)!=null?hl:[]).concat([[[i[0].item,1]]])}}});let Pt=(Qt=(Zt=(Yt=i[0].requirements)==null?void 0:Yt.removal)==null?void 0:Zt.skills)!=null?Qt:[],ht=[];for(let _e=0;_e<Pt.length;_e+=1)ht[_e]=nd(N_(i,Pt,_e));const Gt=_e=>v(ht[_e],1,1,()=>{ht[_e]=null});let ut=null;Pt.length||(ut=ld());let ot=((vt=i[0].requirements)==null?void 0:vt.removal)&&id(i),ft=((xt=i[0].requirements)==null?void 0:xt.repair)&&rd(i),Nt=i[3].length&&R2(i);return{c(){e=p("h1"),U(l.$$.fragment),t=I(),o=w(n),r=I(),f=p("section"),a=p("h1"),a.textContent="Vehicle Part",s=I(),u=p("dl"),c=p("dt"),c.textContent="Item",m=p("dd"),U($.$$.fragment),k=p("dt"),k.textContent="Weight",y=p("dd"),E=w(T),C&&C.c(),R=p("dt"),R.textContent=`Durability
    `,D=p("dd"),A=w(O),We&&We.c(),B=ne(),kt&&kt.c(),M=ne(),_t&&_t.c(),V=ne(),At&&At.c(),J=ne(),yt&&yt.c(),N=p("dt"),N.textContent="Damage",j=p("dd"),F=w(z),Y=w("%"),mt&&mt.c(),q=ne(),at&&at.c(),W=ne(),Ct&&Ct.c(),re=ne(),It&&It.c(),K=ne(),bt&&bt.c(),ee=ne(),wt&&wt.c(),ie=p("dt"),ie.textContent="Flags",X=p("dd"),te=p("ul");for(let _e=0;_e<rt.length;_e+=1)rt[_e].c();pt&&pt.c(),me=I(),Ge=p("p"),ae=w(Ie),ke=I(),Ee=p("div"),de=p("section"),Ue=p("h1"),Ue.textContent="Install",Ce=I(),ge=p("dl"),$e=p("dt"),$e.textContent="Skills Required",xe=p("dd");for(let _e=0;_e<Ze.length;_e+=1)Ze[_e].c();Rt&&Rt.c(),se=I(),ye=p("dt"),ye.textContent="Time",ze=p("dd"),Me=w(Ne),U(Se.$$.fragment),ve=I(),Ae=p("section"),Pe=p("h1"),Pe.textContent="Remove",Fe=I(),Be=p("dl"),oe=p("dt"),oe.textContent="Skills Required",Te=p("dd");for(let _e=0;_e<ht.length;_e+=1)ht[_e].c();ut&&ut.c(),Re=I(),we=p("dt"),we.textContent="Time",Ke=p("dd"),dt=w(Tt),ct=I(),ot&&ot.c(),gt=I(),ft&&ft.c(),Ht=I(),Nt&&Nt.c(),al=ne(),fe(R,"title","Maximum damage part can sustain before being destroyed"),fe(te,"class","comma-separated"),Je(Ge,"color","var(--cata-color-gray)"),fe(ye,"title","Time required goes down with better skills"),fe(we,"title","Time required goes down with better skills"),fe(Ee,"class","side-by-side")},m(_e,qe){g(_e,e,qe),L(l,e,null),d(e,t),d(e,o),g(_e,r,qe),g(_e,f,qe),d(f,a),d(f,s),d(f,u),d(u,c),d(u,m),L($,m,null),d(u,k),d(u,y),d(y,E),~S&&nt[S].m(u,null),d(u,R),d(u,D),d(D,A),We&&We.m(u,null),d(u,B),kt&&kt.m(u,null),d(u,M),_t&&_t.m(u,null),d(u,V),At&&At.m(u,null),d(u,J),yt&&yt.m(u,null),d(u,N),d(u,j),d(j,F),d(j,Y),mt&&mt.m(u,null),d(u,q),at&&at.m(u,null),d(u,W),Ct&&Ct.m(u,null),d(u,re),It&&It.m(u,null),d(u,K),bt&&bt.m(u,null),d(u,ee),wt&&wt.m(u,null),d(u,ie),d(u,X),d(X,te);for(let Et=0;Et<rt.length;Et+=1)rt[Et].m(te,null);pt&&pt.m(te,null),d(f,me),d(f,Ge),d(Ge,ae),g(_e,ke,qe),g(_e,Ee,qe),d(Ee,de),d(de,Ue),d(de,Ce),d(de,ge),d(ge,$e),d(ge,xe);for(let Et=0;Et<Ze.length;Et+=1)Ze[Et].m(xe,null);Rt&&Rt.m(xe,null),d(xe,se),d(ge,ye),d(ge,ze),d(ze,Me),L(Se,ge,null),d(Ee,ve),d(Ee,Ae),d(Ae,Pe),d(Ae,Fe),d(Ae,Be),d(Be,oe),d(Be,Te);for(let Et=0;Et<ht.length;Et+=1)ht[Et].m(Te,null);ut&&ut.m(Te,null),d(Te,Re),d(Be,we),d(Be,Ke),d(Ke,dt),d(Ke,ct),ot&&ot.m(Be,null),g(_e,gt,qe),ft&&ft.m(_e,qe),g(_e,Ht,qe),Nt&&Nt.m(_e,qe),g(_e,al,qe),St=!0},p(_e,[qe]){var El,On,Bn,An,Mn,Dn,Ln,Gn,Un,qn,Pn,Fn,Yn,jn,Hn,Wn,zn,Vn,Xn,Jn,Kn,Zn,Qn,Oe,Qe,xn,ei,ti,li;const Et={};qe&1&&(Et.item=_e[0]),l.$set(Et),(!St||qe&1)&&n!==(n=(_e[0].name?be(_e[0]):be(_e[1].byId("item",_e[0].item)))+"")&&P(o,n);const yl={};qe&1&&(yl.id=_e[0].item),$.$set(yl),(!St||qe&1)&&T!==(T=kn(_e[1].byId("item",_e[0].item).weight)+"")&&P(E,T);let $l=S;if(S=Le(_e),S===$l?~S&&nt[S].p(_e,qe):(C&&(Z(),v(nt[$l],1,1,()=>{nt[$l]=null}),Q()),~S?(C=nt[S],C?C.p(_e,qe):(C=nt[S]=tt[S](_e),C.c()),b(C,1),C.m(u,R)):C=null),(!St||qe&1)&&O!==(O=((El=_e[0].durability)!=null?El:0)+"")&&P(A,O),_e[0].size?We?We.p(_e,qe):(We=U_(_e),We.c(),We.m(u,B)):We&&(We.d(1),We=null),_e[0].folded_volume?kt?kt.p(_e,qe):(kt=q_(_e),kt.c(),kt.m(u,M)):kt&&(kt.d(1),kt=null),(On=_e[0].qualities)!=null&&On.length?_t?(_t.p(_e,qe),qe&1&&b(_t,1)):(_t=P_(_e),_t.c(),b(_t,1),_t.m(u,V)):_t&&(Z(),v(_t,1,1,()=>{_t=null}),Q()),_e[0].comfort?At?At.p(_e,qe):(At=Y_(_e),At.c(),At.m(u,J)):At&&(At.d(1),At=null),_e[0].floor_bedding_warmth?yt?yt.p(_e,qe):(yt=j_(_e),yt.c(),yt.m(u,N)):yt&&(yt.d(1),yt=null),(!St||qe&1)&&z!==(z=((Bn=_e[0].damage_modifier)!=null?Bn:100)+"")&&P(F,z),_e[0].epower?mt?mt.p(_e,qe):(mt=H_(_e),mt.c(),mt.m(u,q)):mt&&(mt.d(1),mt=null),_e[0].energy_consumption?at?at.p(_e,qe):(at=W_(_e),at.c(),at.m(u,W)):at&&(at.d(1),at=null),_e[0].power?Ct?Ct.p(_e,qe):(Ct=z_(_e),Ct.c(),Ct.m(u,re)):Ct&&(Ct.d(1),Ct=null),qe&1&&(H=_e[0].bonus&&Wi(_e[0])),H?It?It.p(_e,qe):(It=X_(_e),It.c(),It.m(u,K)):It&&(It.d(1),It=null),(An=_e[0].pseudo_tools)!=null&&An.length?bt?(bt.p(_e,qe),qe&1&&b(bt,1)):(bt=J_(_e),bt.c(),b(bt,1),bt.m(u,ee)):bt&&(Z(),v(bt,1,1,()=>{bt=null}),Q()),(Mn=_e[2])!=null&&Mn.length&&wt.p(_e,qe),qe&1){qt=(Dn=_e[0].flags)!=null?Dn:[];let lt;for(lt=0;lt<qt.length;lt+=1){const Tl=B_(_e,qt,lt);rt[lt]?(rt[lt].p(Tl,qe),b(rt[lt],1)):(rt[lt]=x_(Tl),rt[lt].c(),b(rt[lt],1),rt[lt].m(te,null))}for(Z(),lt=qt.length;lt<rt.length;lt+=1)Rl(lt);Q(),!qt.length&&pt?pt.p(_e,qe):qt.length?pt&&(pt.d(1),pt=null):(pt=Q_(),pt.c(),pt.m(te,null))}if((!St||qe&1)&&Ie!==(Ie=Vt((Ln=_e[0].description)!=null?Ln:_e[1].byId("item",_e[0].item).description)+"")&&P(ae,Ie),qe&1){zt=(qn=(Un=(Gn=_e[0].requirements)==null?void 0:Gn.install)==null?void 0:Un.skills)!=null?qn:[];let lt;for(lt=0;lt<zt.length;lt+=1){const Tl=O_(_e,zt,lt);Ze[lt]?(Ze[lt].p(Tl,qe),b(Ze[lt],1)):(Ze[lt]=td(Tl),Ze[lt].c(),b(Ze[lt],1),Ze[lt].m(xe,se))}for(Z(),lt=zt.length;lt<Ze.length;lt+=1)ul(lt);Q(),zt.length?Rt&&(Rt.d(1),Rt=null):Rt||(Rt=ed(),Rt.c(),Rt.m(xe,se))}(!St||qe&1)&&Ne!==(Ne=((Yn=(Fn=(Pn=_e[0].requirements)==null?void 0:Pn.install)==null?void 0:Fn.time)!=null?Yn:"1 hour")+"")&&P(Me,Ne);const wl={};if(qe&1&&(wl.requirement={...(Hn=(jn=_e[0].requirements)==null?void 0:jn.install)!=null?Hn:{},components:((Vn=(zn=(Wn=_e[0].requirements)==null?void 0:Wn.install)==null?void 0:zn.components)!=null?Vn:[]).concat([[[_e[0].item,1]]])}),Se.$set(wl),qe&1){Pt=(Kn=(Jn=(Xn=_e[0].requirements)==null?void 0:Xn.removal)==null?void 0:Jn.skills)!=null?Kn:[];let lt;for(lt=0;lt<Pt.length;lt+=1){const Tl=N_(_e,Pt,lt);ht[lt]?(ht[lt].p(Tl,qe),b(ht[lt],1)):(ht[lt]=nd(Tl),ht[lt].c(),b(ht[lt],1),ht[lt].m(Te,Re))}for(Z(),lt=Pt.length;lt<ht.length;lt+=1)Gt(lt);Q(),Pt.length?ut&&(ut.d(1),ut=null):ut||(ut=ld(),ut.c(),ut.m(Te,Re))}(!St||qe&1)&&Tt!==(Tt=((ei=(Qn=(Zn=_e[0].requirements)==null?void 0:Zn.removal)==null?void 0:Qn.time)!=null?ei:Fo(`${Ui((xn=(Qe=(Oe=_e[0].requirements)==null?void 0:Oe.install)==null?void 0:Qe.time)!=null?xn:"1 hour")/2} s`))+"")&&P(dt,Tt),(ti=_e[0].requirements)!=null&&ti.removal?ot?(ot.p(_e,qe),qe&1&&b(ot,1)):(ot=id(_e),ot.c(),b(ot,1),ot.m(Be,null)):ot&&(Z(),v(ot,1,1,()=>{ot=null}),Q()),(li=_e[0].requirements)!=null&&li.repair?ft?(ft.p(_e,qe),qe&1&&b(ft,1)):(ft=rd(_e),ft.c(),b(ft,1),ft.m(Ht.parentNode,Ht)):ft&&(Z(),v(ft,1,1,()=>{ft=null}),Q()),_e[3].length&&Nt.p(_e,qe)},i(_e){if(!St){b(l.$$.fragment,_e),b($.$$.fragment,_e),b(C),b(_t),b(bt),b(wt);for(let qe=0;qe<qt.length;qe+=1)b(rt[qe]);for(let qe=0;qe<zt.length;qe+=1)b(Ze[qe]);b(Se.$$.fragment,_e);for(let qe=0;qe<Pt.length;qe+=1)b(ht[qe]);b(ot),b(ft),b(Nt),St=!0}},o(_e){v(l.$$.fragment,_e),v($.$$.fragment,_e),v(C),v(_t),v(bt),v(wt),rt=rt.filter(Boolean);for(let qe=0;qe<rt.length;qe+=1)v(rt[qe]);Ze=Ze.filter(Boolean);for(let qe=0;qe<Ze.length;qe+=1)v(Ze[qe]);v(Se.$$.fragment,_e),ht=ht.filter(Boolean);for(let qe=0;qe<ht.length;qe+=1)v(ht[qe]);v(ot),v(ft),v(Nt),St=!1},d(_e){_e&&h(e),G(l),_e&&h(r),_e&&h(f),G($),~S&&nt[S].d(),We&&We.d(),kt&&kt.d(),_t&&_t.d(),At&&At.d(),yt&&yt.d(),mt&&mt.d(),at&&at.d(),Ct&&Ct.d(),It&&It.d(),bt&&bt.d(),wt&&wt.d(),ce(rt,_e),pt&&pt.d(),_e&&h(ke),_e&&h(Ee),ce(Ze,_e),Rt&&Rt.d(),G(Se),ce(ht,_e),ut&&ut.d(),ot&&ot.d(),_e&&h(gt),ft&&ft.d(_e),_e&&h(Ht),Nt&&Nt.d(_e),_e&&h(al)}}}function Wi(i){var t;const e=["LIGHT","CONE_LIGHT","WIDE_CONE_LIGHT","CIRCLE_LIGHT","DOME_LIGHT","AISLE_LIGHT","EVENTURN","ODDTURN","ATOMIC_LIGHT"],l=(t=i.flags)!=null?t:[];if(l.includes("SEATBELT"))return"Strength";if(l.includes("HORN"))return"Noise";if(l.includes("MUFFLER"))return"Noise Reduction";if(l.includes("VISION"))return"Range";if(e.some(n=>l.includes(n)))return"Light";if(l.includes("REAPER"))return"Plant Harvested"}function B2(i,e,l){let{item:t}=e;const n=it("data"),o=typeof t.breaks_into=="string"?n.byId("item_group",t.breaks_into):Array.isArray(t.breaks_into)?{subtype:"collection",entries:t.breaks_into}:t.breaks_into?t.breaks_into:null,r=o&&n.flattenItemGroup(o),f=n.byType("vehicle").filter(a=>a.parts.some(s=>{var c;return(s.part?[{part:s.part,fuel:s.fuel}]:(c=s.parts)==null?void 0:c.map(m=>typeof m=="string"?{part:m}:m)).some(m=>gh(n,m.part)[0]===t.id)}));return f.sort((a,s)=>be(a).localeCompare(be(s))),i.$$set=a=>{"item"in a&&l(0,t=a.item)},[t,n,r,f]}class A2 extends Xe{constructor(e){super(),Ve(this,e,B2,O2,je,{item:0})}}function sd(i,e,l){const t=i.slice();return t[1]=e[l],t}function ad(i,e,l){const t=i.slice();return t[1]=e[l],t}function ud(i){var u,c;let e,l,t,n,o,r=(u=i[0].mult_bonuses)!=null?u:[],f=[];for(let m=0;m<r.length;m+=1)f[m]=dd(ad(i,r,m));let a=(c=i[0].flat_bonuses)!=null?c:[],s=[];for(let m=0;m<a.length;m+=1)s[m]=pd(sd(i,a,m));return{c(){e=p("dt"),e.textContent="Bonus",l=I(),t=p("dd"),n=p("ul");for(let m=0;m<f.length;m+=1)f[m].c();o=I();for(let m=0;m<s.length;m+=1)s[m].c()},m(m,$){g(m,e,$),g(m,l,$),g(m,t,$),d(t,n);for(let k=0;k<f.length;k+=1)f[k].m(n,null);d(n,o);for(let k=0;k<s.length;k+=1)s[k].m(n,null)},p(m,$){var k,y;if($&1){r=(k=m[0].mult_bonuses)!=null?k:[];let T;for(T=0;T<r.length;T+=1){const E=ad(m,r,T);f[T]?f[T].p(E,$):(f[T]=dd(E),f[T].c(),f[T].m(n,o))}for(;T<f.length;T+=1)f[T].d(1);f.length=r.length}if($&1){a=(y=m[0].flat_bonuses)!=null?y:[];let T;for(T=0;T<a.length;T+=1){const E=sd(m,a,T);s[T]?s[T].p(E,$):(s[T]=pd(E),s[T].c(),s[T].m(n,null))}for(;T<s.length;T+=1)s[T].d(1);s.length=a.length}},d(m){m&&h(e),m&&h(l),m&&h(t),ce(f,m),ce(s,m)}}}function cd(i){let e=i[1].type+"",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},p(t,n){n&1&&e!==(e=t[1].type+"")&&P(l,e)},d(t){t&&h(l)}}}function _d(i){let e,l=Vi(i[1]["scaling-stat"])+"",t;return{c(){e=w("of "),t=w(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o&1&&l!==(l=Vi(n[1]["scaling-stat"])+"")&&P(t,l)},d(n){n&&h(e),n&&h(t)}}}function dd(i){let e,l=Xi(i[1].stat),t,n=zi(i[1].stat)+"",o,r,f=(i[1].scale*100).toFixed(0)+"",a,s,u=l&&cd(i),c=i[1]["scaling-stat"]&&_d(i);return{c(){e=p("li"),u&&u.c(),t=I(),o=w(n),r=w(": "),a=w(f),s=w("% "),c&&c.c()},m(m,$){g(m,e,$),u&&u.m(e,null),d(e,t),d(e,o),d(e,r),d(e,a),d(e,s),c&&c.m(e,null)},p(m,$){$&1&&(l=Xi(m[1].stat)),l?u?u.p(m,$):(u=cd(m),u.c(),u.m(e,t)):u&&(u.d(1),u=null),$&1&&n!==(n=zi(m[1].stat)+"")&&P(o,n),$&1&&f!==(f=(m[1].scale*100).toFixed(0)+"")&&P(a,f),m[1]["scaling-stat"]?c?c.p(m,$):(c=_d(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(m){m&&h(e),u&&u.d(),c&&c.d()}}}function md(i){let e=i[1].type+"",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},p(t,n){n&1&&e!==(e=t[1].type+"")&&P(l,e)},d(t){t&&h(l)}}}function M2(i){let e=i[1].scale<0?"":"+",l,t=i[1].scale+"",n;return{c(){l=w(e),n=w(t)},m(o,r){g(o,l,r),g(o,n,r)},p(o,r){r&1&&e!==(e=o[1].scale<0?"":"+")&&P(l,e),r&1&&t!==(t=o[1].scale+"")&&P(n,t)},d(o){o&&h(l),o&&h(n)}}}function D2(i){let e=i[1].scale<0?"":"+",l,t=(i[1].scale*100).toFixed(0)+"",n,o,r=Vi(i[1]["scaling-stat"])+"",f;return{c(){l=w(e),n=w(t),o=w("% of "),f=w(r)},m(a,s){g(a,l,s),g(a,n,s),g(a,o,s),g(a,f,s)},p(a,s){s&1&&e!==(e=a[1].scale<0?"":"+")&&P(l,e),s&1&&t!==(t=(a[1].scale*100).toFixed(0)+"")&&P(n,t),s&1&&r!==(r=Vi(a[1]["scaling-stat"])+"")&&P(f,r)},d(a){a&&h(l),a&&h(n),a&&h(o),a&&h(f)}}}function pd(i){let e,l=Xi(i[1].stat),t,n=zi(i[1].stat)+"",o,r,f,a=l&&md(i);function s(m,$){return m[1]["scaling-stat"]?D2:M2}let u=s(i),c=u(i);return{c(){e=p("li"),a&&a.c(),t=I(),o=w(n),r=w(`:
          `),c.c(),f=I()},m(m,$){g(m,e,$),a&&a.m(e,null),d(e,t),d(e,o),d(e,r),c.m(e,null),d(e,f)},p(m,$){$&1&&(l=Xi(m[1].stat)),l?a?a.p(m,$):(a=md(m),a.c(),a.m(e,t)):a&&(a.d(1),a=null),$&1&&n!==(n=zi(m[1].stat)+"")&&P(o,n),u===(u=s(m))&&c?c.p(m,$):(c.d(1),c=u(m),c&&(c.c(),c.m(e,f)))},d(m){m&&h(e),a&&a.d(),c.d()}}}function L2(i){let e,l=(i[0].mult_bonuses||i[0].flat_bonuses)&&ud(i);return{c(){l&&l.c(),e=ne()},m(t,n){l&&l.m(t,n),g(t,e,n)},p(t,[n]){t[0].mult_bonuses||t[0].flat_bonuses?l?l.p(t,n):(l=ud(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:x,o:x,d(t){l&&l.d(t),t&&h(e)}}}function zi(i){switch(i){case"hit":return"Accuracy";case"crit_chance":return"Critical Hit Chance";case"dodge":return"Dodge";case"block":return"Block";case"block_effectiveness":return"Block effectiveness";case"speed":return"Speed";case"movecost":return"Move cost";case"damage":return"damage";case"armor":return"Armor";case"arpen":return"Armor penetration";case"target_armor_multiplier":return"Target armor multiplier";default:return""}}function Vi(i){switch(i){case"str":return"strength";case"dex":return"dexterity";case"int":return"intelligence";case"per":return"perception";default:return""}}function Xi(i){return i==="damage"||i==="armor"||i==="arpen"}function G2(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class Rh extends Xe{constructor(e){super(),Ve(this,e,G2,L2,je,{item:0})}}function hd(i,e,l){const t=i.slice();return t[3]=e[l],t}function gd(i,e,l){const t=i.slice();return t[6]=e[l].name,t[7]=e[l].level,t[9]=l,t}function bd(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function U2(i){let e=", ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function q2(i){let e=" and ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},d(t){t&&h(l)}}}function $d(i){let e,l,t=i[7]+"",n,o,r,f;e=new ue({props:{type:"skill",id:i[6]}});function a(c,m){if(c[9]===c[0].skill_requirements.length-2)return q2;if(c[9]!==c[0].skill_requirements.length-1)return U2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")"),u&&u.c(),r=ne()},m(c,m){L(e,c,m),g(c,l,m),g(c,n,m),g(c,o,m),u&&u.m(c,m),g(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[6]),e.$set($),(!f||m&1)&&t!==(t=c[7]+"")&&P(n,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&h(l),c&&h(n),c&&h(o),u&&u.d(c),c&&h(r)}}}function P2(i){let e,l,t,n,o=i[2],r=[];for(let f=0;f<o.length;f+=1)r[f]=vd(hd(i,o,f));return{c(){e=p("dt"),e.textContent="Required Buffs",l=I(),t=p("dd"),n=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();fe(n,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),g(f,t,a),d(t,n);for(let s=0;s<r.length;s+=1)r[s].m(n,null)},p(f,a){if(a&6){o=f[2];let s;for(s=0;s<o.length;s+=1){const u=hd(f,o,s);r[s]?r[s].p(u,a):(r[s]=vd(u),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),f&&h(t),ce(r,f)}}}function F2(i){let e,l=i[3]+"",t;return{c(){e=p("li"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function Y2(i){let e,l=be(i[1].get(i[3]))+"",t;return{c(){e=p("li"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&2&&l!==(l=be(n[1].get(n[3]))+"")&&P(t,l)},d(n){n&&h(e)}}}function vd(i){let e,l;function t(r,f){return f&2&&(e=null),e==null&&(e=!!r[1].has(r[3])),e?Y2:F2}let n=t(i,-1),o=n(i);return{c(){o.c(),l=ne()},m(r,f){o.m(r,f),g(r,l,f)},p(r,f){n===(n=t(r,f))&&o?o.p(r,f):(o.d(1),o=n(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){o.d(r),r&&h(l)}}}function kd(i){let e,l,t;return{c(){e=p("dt"),e.textContent="Requires Adjacent Wall",l=I(),t=p("dd"),t.textContent="Yes"},m(n,o){g(n,e,o),g(n,l,o),g(n,t,o)},d(n){n&&h(e),n&&h(l),n&&h(t)}}}function j2(i){var F,Y;let e,l,t,n,o,r,f,a,s,u=i[0].melee_allowed?"Yes":"No",c,m,$,k,y,T=i[0].unarmed_allowed?"Yes":"No",E,S,C,R,D,O=(F=i[0].unarmed_weapons_allowed)==null||F?"Yes":"No",A,B,M=(Y=i[0].skill_requirements)!=null?Y:[],V=[];for(let q=0;q<M.length;q+=1)V[q]=$d(gd(i,M,q));const J=q=>v(V[q],1,1,()=>{V[q]=null});let N=null;M.length||(N=bd());let j=i[2].length&&P2(i),z=i[0].wall_adjacent&&kd();return{c(){e=p("dt"),e.textContent="Required Skills",l=I(),t=p("dd");for(let q=0;q<V.length;q+=1)V[q].c();N&&N.c(),n=I(),j&&j.c(),o=I(),z&&z.c(),r=I(),f=p("dt"),f.textContent="Melee Weapon Allowed",a=I(),s=p("dd"),c=w(u),m=I(),$=p("dt"),$.textContent="Unarmed Allowed",k=I(),y=p("dd"),E=w(T),S=I(),C=p("dt"),C.textContent="Unarmed Weapon Allowed",R=I(),D=p("dd"),A=w(O)},m(q,W){g(q,e,W),g(q,l,W),g(q,t,W);for(let re=0;re<V.length;re+=1)V[re].m(t,null);N&&N.m(t,null),g(q,n,W),j&&j.m(q,W),g(q,o,W),z&&z.m(q,W),g(q,r,W),g(q,f,W),g(q,a,W),g(q,s,W),d(s,c),g(q,m,W),g(q,$,W),g(q,k,W),g(q,y,W),d(y,E),g(q,S,W),g(q,C,W),g(q,R,W),g(q,D,W),d(D,A),B=!0},p(q,[W]){var re,H;if(W&1){M=(re=q[0].skill_requirements)!=null?re:[];let K;for(K=0;K<M.length;K+=1){const ee=gd(q,M,K);V[K]?(V[K].p(ee,W),b(V[K],1)):(V[K]=$d(ee),V[K].c(),b(V[K],1),V[K].m(t,null))}for(Z(),K=M.length;K<V.length;K+=1)J(K);Q(),!M.length&&N?N.p(q,W):M.length?N&&(N.d(1),N=null):(N=bd(),N.c(),N.m(t,null))}q[2].length&&j.p(q,W),q[0].wall_adjacent?z||(z=kd(),z.c(),z.m(r.parentNode,r)):z&&(z.d(1),z=null),(!B||W&1)&&u!==(u=q[0].melee_allowed?"Yes":"No")&&P(c,u),(!B||W&1)&&T!==(T=q[0].unarmed_allowed?"Yes":"No")&&P(E,T),(!B||W&1)&&O!==(O=(H=q[0].unarmed_weapons_allowed)==null||H?"Yes":"No")&&P(A,O)},i(q){if(!B){for(let W=0;W<M.length;W+=1)b(V[W]);B=!0}},o(q){V=V.filter(Boolean);for(let W=0;W<V.length;W+=1)v(V[W]);B=!1},d(q){q&&h(e),q&&h(l),q&&h(t),ce(V,q),N&&N.d(),q&&h(n),j&&j.d(q),q&&h(o),z&&z.d(q),q&&h(r),q&&h(f),q&&h(a),q&&h(s),q&&h(m),q&&h($),q&&h(k),q&&h(y),q&&h(S),q&&h(C),q&&h(R),q&&h(D)}}}function H2(i,e,l){var r;let{item:t}=e,{buffMap:n=new Map}=e;const o=typeof t.req_buffs=="string"?[t.req_buffs]:(r=t.req_buffs)!=null?r:[];return i.$$set=f=>{"item"in f&&l(0,t=f.item),"buffMap"in f&&l(1,n=f.buffMap)},[t,n,o]}class Nh extends Xe{constructor(e){super(),Ve(this,e,H2,j2,je,{item:0,buffMap:1})}}function yd(i){let e,l,t;function n(f,a){if(f[1].weighting>1)return z2;if(f[1].weighting<-1)return W2}let o=n(i),r=o&&o(i);return{c(){e=p("dt"),e.textContent="Chance to Activate",l=p("dd"),r&&r.c(),t=I()},m(f,a){g(f,e,a),g(f,l,a),r&&r.m(l,null),d(l,t)},p(f,a){o===(o=n(f))&&r?r.p(f,a):(r&&r.d(1),r=o&&o(f),r&&(r.c(),r.m(l,t)))},d(f){f&&h(e),f&&h(l),r&&r.d()}}}function W2(i){let e,l=Math.abs(i[1].weighting)+"",t;return{c(){e=w("1/"),t=w(l)},m(n,o){g(n,e,o),g(n,t,o)},p(n,o){o&2&&l!==(l=Math.abs(n[1].weighting)+"")&&P(t,l)},d(n){n&&h(e),n&&h(t)}}}function z2(i){let e,l=((i[1].weighting-1)*100).toFixed(0)+"",t,n;return{c(){e=w("+"),t=w(l),n=w("%")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p(o,r){r&2&&l!==(l=((o[1].weighting-1)*100).toFixed(0)+"")&&P(t,l)},d(o){o&&h(e),o&&h(t),o&&h(n)}}}function V2(i){let e,l;return{c(){e=p("dt"),e.textContent="Target Requirements",l=p("dd"),l.textContent=`${i[4].join(", ")} 
      `},m(t,n){g(t,e,n),g(t,l,n)},p:x,d(t){t&&h(e),t&&h(l)}}}function wd(i){let e,l,t=i[1].aoe+"",n;return{c(){e=p("dt"),e.textContent="AoE Shape",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&2&&t!==(t=o[1].aoe+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Ed(i){let e,l,t=i[1].stun_dur+"",n;return{c(){e=p("dt"),e.textContent="Stun Duration",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&2&&t!==(t=o[1].stun_dur+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Td(i){let e,l,t=i[1].down_dur+"",n;return{c(){e=p("dt"),e.textContent="Down Duration",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&2&&t!==(t=o[1].down_dur+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Sd(i){let e,l,t=i[1].knockback_dist+"",n;return{c(){e=p("dt"),e.textContent="Knockback Distance",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r&2&&t!==(t=o[1].knockback_dist+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Cd(i){let e,l=i[1].description+"",t;return{c(){e=p("p"),t=w(l),Je(e,"color","var(--cata-color-gray)")},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&2&&l!==(l=n[1].description+"")&&P(t,l)},d(n){n&&h(e)}}}function X2(i){let e,l,t,n,o;return n=new st({props:{items:i[2],limit:20,$$slots:{default:[J2,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Weapons",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&66&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function J2(i){let e,l;return e=new ue({props:{type:"item",id:i[1].id}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.id=t[1].id),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function K2(i){let e,l,t,n=i[1].name+"",o,r,f,a,s,u,c,m,$=i[1].crit_ok?"Yes":i[1].crit_tec?"Only":"No",k,y,T,E,S,C,R,D,O,A,B,M,V,J=JSON.stringify(i[1],null,2)+"",N,j,z,F;u=new Nh({props:{item:i[1],buffMap:i[0]}});let Y=i[1].weighting&&i[1].weighting!==1&&yd(i),q=i[4].length&&V2(i),W=i[1].aoe&&wd(i);S=new Rh({props:{item:i[1]}});let re=i[1].stun_dur&&Ed(i),H=i[1].down_dur&&Td(i),K=i[1].knockback_dist&&Sd(i),ee=i[1].description&&Cd(i),ie=i[2].length&&X2(i);return{c(){e=p("section"),l=p("h1"),t=w("Technique: "),o=w(n),r=I(),f=p("dl"),a=p("dt"),a.textContent="Type",s=p("dd"),s.textContent=`${i[3]}`,U(u.$$.fragment),c=p("dt"),c.textContent="Activate on Crit?",m=p("dd"),k=w($),Y&&Y.c(),y=ne(),q&&q.c(),T=ne(),W&&W.c(),E=ne(),U(S.$$.fragment),re&&re.c(),C=ne(),H&&H.c(),R=ne(),K&&K.c(),D=I(),ee&&ee.c(),O=I(),A=p("details"),B=p("summary"),B.textContent="Technique JSON",M=I(),V=p("pre"),N=w(J),j=I(),ie&&ie.c(),z=ne()},m(X,te){g(X,e,te),d(e,l),d(l,t),d(l,o),d(e,r),d(e,f),d(f,a),d(f,s),L(u,f,null),d(f,c),d(f,m),d(m,k),Y&&Y.m(f,null),d(f,y),q&&q.m(f,null),d(f,T),W&&W.m(f,null),d(f,E),L(S,f,null),re&&re.m(f,null),d(f,C),H&&H.m(f,null),d(f,R),K&&K.m(f,null),d(e,D),ee&&ee.m(e,null),d(e,O),d(e,A),d(A,B),d(A,M),d(A,V),d(V,N),g(X,j,te),ie&&ie.m(X,te),g(X,z,te),F=!0},p(X,[te]){(!F||te&2)&&n!==(n=X[1].name+"")&&P(o,n);const me={};te&2&&(me.item=X[1]),te&1&&(me.buffMap=X[0]),u.$set(me),(!F||te&2)&&$!==($=X[1].crit_ok?"Yes":X[1].crit_tec?"Only":"No")&&P(k,$),X[1].weighting&&X[1].weighting!==1?Y?Y.p(X,te):(Y=yd(X),Y.c(),Y.m(f,y)):Y&&(Y.d(1),Y=null),X[4].length&&q.p(X,te),X[1].aoe?W?W.p(X,te):(W=wd(X),W.c(),W.m(f,E)):W&&(W.d(1),W=null);const Ge={};te&2&&(Ge.item=X[1]),S.$set(Ge),X[1].stun_dur?re?re.p(X,te):(re=Ed(X),re.c(),re.m(f,C)):re&&(re.d(1),re=null),X[1].down_dur?H?H.p(X,te):(H=Td(X),H.c(),H.m(f,R)):H&&(H.d(1),H=null),X[1].knockback_dist?K?K.p(X,te):(K=Sd(X),K.c(),K.m(f,null)):K&&(K.d(1),K=null),X[1].description?ee?ee.p(X,te):(ee=Cd(X),ee.c(),ee.m(e,O)):ee&&(ee.d(1),ee=null),(!F||te&2)&&J!==(J=JSON.stringify(X[1],null,2)+"")&&P(N,J),X[2].length&&ie.p(X,te)},i(X){F||(b(u.$$.fragment,X),b(S.$$.fragment,X),b(ie),F=!0)},o(X){v(u.$$.fragment,X),v(S.$$.fragment,X),v(ie),F=!1},d(X){X&&h(e),G(u),Y&&Y.d(),q&&q.d(),W&&W.d(),G(S),re&&re.d(),H&&H.d(),K&&K.d(),ee&&ee.d(),X&&h(j),ie&&ie.d(X),X&&h(z)}}}function Z2(i,e,l){let{item:t}=e,{buffMap:n=new Map}=e;const r=it("data").byType("item").filter(s=>{var u;return s.id&&((u=s.techniques)!=null?u:[]).includes(t.id)}).sort((s,u)=>s.id.localeCompare(u.id)),f=t.block_counter?"Block Counter":t.dodge_counter?"Dodge Counter":t.miss_recovery?"Miss Recovery":t.grab_break?"Grab Break":t.defensive?"Defensive":"Offensive",a=[];return t.human_target&&a.push("humanoid"),t.downed_target&&a.push("downed"),t.stunned_target&&a.push("stunned"),i.$$set=s=>{"item"in s&&l(1,t=s.item),"buffMap"in s&&l(0,n=s.buffMap)},[n,t,r,f,a]}class Q2 extends Xe{constructor(e){super(),Ve(this,e,Z2,K2,je,{item:1,buffMap:0})}}function Id(i,e,l){const t=i.slice();return t[6]=e[l],t}function Rd(i,e,l){const t=i.slice();return t[9]=e[l][0],t[10]=e[l][1],t}function Nd(i,e,l){const t=i.slice();return t[13]=e[l],t}function Od(i,e,l){const t=i.slice();return t[16]=e[l],t}function Bd(i,e,l){const t=i.slice();return t[19]=e[l],t}function Ad(i,e,l){const t=i.slice();return t[22]=e[l][0],t[23]=e[l][1],t}function Md(i){var k,y,T;let e,l,t,n,o,r,f,a=i[0].learn_difficulty!=null&&Dd(i),s=((k=i[0].autolearn)==null?void 0:k.length)&&Ld(i),u=i[2].length&&x2(i),c=i[0].weapon_category&&Pd(i),m=(((y=i[0].arm_block)!=null?y:99)!=99||i[0].arm_block_with_bio_armor_arms)&&Yd(i),$=(((T=i[0].leg_block)!=null?T:99)!==99||i[0].leg_block_with_bio_armor_legs)&&jd(i);return{c(){e=p("dl"),a&&a.c(),l=ne(),s&&s.c(),t=ne(),u&&u.c(),n=ne(),c&&c.c(),o=ne(),m&&m.c(),r=ne(),$&&$.c()},m(E,S){g(E,e,S),a&&a.m(e,null),d(e,l),s&&s.m(e,null),d(e,t),u&&u.m(e,null),d(e,n),c&&c.m(e,null),d(e,o),m&&m.m(e,null),d(e,r),$&&$.m(e,null),f=!0},p(E,S){var C,R,D;E[0].learn_difficulty!=null?a?a.p(E,S):(a=Dd(E),a.c(),a.m(e,l)):a&&(a.d(1),a=null),(C=E[0].autolearn)!=null&&C.length?s?(s.p(E,S),S&1&&b(s,1)):(s=Ld(E),s.c(),b(s,1),s.m(e,t)):s&&(Z(),v(s,1,1,()=>{s=null}),Q()),E[2].length&&u.p(E,S),E[0].weapon_category?c?(c.p(E,S),S&1&&b(c,1)):(c=Pd(E),c.c(),b(c,1),c.m(e,o)):c&&(Z(),v(c,1,1,()=>{c=null}),Q()),((R=E[0].arm_block)!=null?R:99)!=99||E[0].arm_block_with_bio_armor_arms?m?(m.p(E,S),S&1&&b(m,1)):(m=Yd(E),m.c(),b(m,1),m.m(e,r)):m&&(Z(),v(m,1,1,()=>{m=null}),Q()),((D=E[0].leg_block)!=null?D:99)!==99||E[0].leg_block_with_bio_armor_legs?$?($.p(E,S),S&1&&b($,1)):($=jd(E),$.c(),b($,1),$.m(e,null)):$&&(Z(),v($,1,1,()=>{$=null}),Q())},i(E){f||(b(s),b(u),b(c),b(m),b($),f=!0)},o(E){v(s),v(u),v(c),v(m),v($),f=!1},d(E){E&&h(e),a&&a.d(),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d(),$&&$.d()}}}function Dd(i){let e,l,t=i[0].learn_difficulty+"",n,o,r=Jd(i[0].learn_difficulty)+"",f,a;return{c(){e=p("dt"),e.textContent="Difficulty to Learn",l=p("dd"),n=w(t),o=w(" ("),f=w(r),a=w(`)
        `)},m(s,u){g(s,e,u),g(s,l,u),d(l,n),d(l,o),d(l,f),d(l,a)},p(s,u){u&1&&t!==(t=s[0].learn_difficulty+"")&&P(n,t),u&1&&r!==(r=Jd(s[0].learn_difficulty)+"")&&P(f,r)},d(s){s&&h(e),s&&h(l)}}}function Ld(i){let e,l,t,n,o=i[0].autolearn&&Gd(i);return{c(){e=p("dt"),e.textContent=`Autolearn
        `,l=p("dd"),o&&o.c(),t=I(),fe(e,"title","Learned at these skill levels, otherwise only learnable from a book")},m(r,f){g(r,e,f),g(r,l,f),o&&o.m(l,null),d(l,t),n=!0},p(r,f){r[0].autolearn?o?(o.p(r,f),f&1&&b(o,1)):(o=Gd(r),o.c(),b(o,1),o.m(l,t)):o&&(Z(),v(o,1,1,()=>{o=null}),Q())},i(r){n||(b(o),n=!0)},o(r){v(o),n=!1},d(r){r&&h(e),r&&h(l),o&&o.d()}}}function Gd(i){let e,l,t=i[0].autolearn,n=[];for(let r=0;r<t.length;r+=1)n[r]=Ud(Ad(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c();fe(e,"class","comma-separated")},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const s=Ad(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Ud(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){r&&h(e),ce(n,r)}}}function Ud(i){let e,l,t,n=i[23]+"",o,r,f;return l=new ue({props:{type:"skill",id:i[22]}}),{c(){e=p("li"),U(l.$$.fragment),t=w(" ("),o=w(n),r=w(")")},m(a,s){g(a,e,s),L(l,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(a,s){const u={};s&1&&(u.id=a[22]),l.$set(u),(!f||s&1)&&n!==(n=a[23]+"")&&P(o,n)},i(a){f||(b(l.$$.fragment,a),f=!0)},o(a){v(l.$$.fragment,a),f=!1},d(a){a&&h(e),G(l)}}}function x2(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=qd(Bd(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Found In",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=Bd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=qd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function qd(i){let e,l,t;return l=new ue({props:{type:"item",id:i[19].id}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Pd(i){let e,l,t,n,o,r=i[0].weapon_category,f=[];for(let s=0;s<r.length;s+=1)f[s]=Fd(Od(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Weapon Category",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const m=Od(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Fd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Fd(i){let e,l,t;return l=new ue({props:{type:"weapon_category",id:i[16]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[16]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Yd(i){let e,l,t,n,o,r;const f=[tE,eE],a=[];function s(u,c){return u[0].arm_block_with_bio_armor_arms?0:1}return t=s(i),n=a[t]=f[t](i),{c(){e=p("dt"),e.textContent="Arm Block",l=p("dd"),n.c(),o=I()},m(u,c){g(u,e,c),g(u,l,c),a[t].m(l,null),d(l,o),r=!0},p(u,c){let m=t;t=s(u),t===m?a[t].p(u,c):(Z(),v(a[m],1,1,()=>{a[m]=null}),Q(),n=a[t],n?n.p(u,c):(n=a[t]=f[t](u),n.c()),b(n,1),n.m(l,o))},i(u){r||(b(n),r=!0)},o(u){v(n),r=!1},d(u){u&&h(e),u&&h(l),a[t].d()}}}function eE(i){let e,l,t=i[0].arm_block+"",n,o,r;return e=new ue({props:{type:"skill",id:"unarmed"}}),{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")")},m(f,a){L(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){(!r||a&1)&&t!==(t=f[0].arm_block+"")&&P(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){v(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function tE(i){let e,l,t;return l=new ue({props:{type:"item",id:"bio_armor_arms"}}),{c(){e=w("with "),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,n,o),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l,n)}}}function jd(i){let e,l,t,n,o;const r=[nE,lE],f=[];function a(s,u){return s[0].leg_block_with_bio_armor_legs?0:1}return t=a(i),n=f[t]=r[t](i),{c(){e=p("dt"),e.textContent="Leg Block",l=p("dd"),n.c()},m(s,u){g(s,e,u),g(s,l,u),f[t].m(l,null),o=!0},p(s,u){let c=t;t=a(s),t===c?f[t].p(s,u):(Z(),v(f[c],1,1,()=>{f[c]=null}),Q(),n=f[t],n?n.p(s,u):(n=f[t]=r[t](s),n.c()),b(n,1),n.m(l,null))},i(s){o||(b(n),o=!0)},o(s){v(n),o=!1},d(s){s&&h(e),s&&h(l),f[t].d()}}}function lE(i){let e,l,t=i[0].leg_block+"",n,o,r;return e=new ue({props:{type:"skill",id:"unarmed"}}),{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")")},m(f,a){L(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){(!r||a&1)&&t!==(t=f[0].leg_block+"")&&P(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){v(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function nE(i){let e,l,t;return l=new ue({props:{type:"item",id:"bio_armor_legs"}}),{c(){e=w("with "),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,n,o),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l,n)}}}function Hd(i){let e,l,t,n,o;return n=new st({props:{items:[...i[0].weapons].sort(i[5]),$$slots:{default:[iE,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Weapons",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&1&&(a.items=[...r[0].weapons].sort(r[5])),f&67108865&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function iE(i){let e,l;return e=new ue({props:{id:i[0],type:"item"}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.id=t[0]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function rE(i){let e,l,t=i[13].buff_duration+"",n;return{c(){e=p("dt"),e.textContent="Duration",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function oE(i){let e,l,t=i[13].max_stacks+"",n;return{c(){e=p("dt"),e.textContent="Max Stacks",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function fE(i){let e,l,t=i[13].bonus_dodges+"",n;return{c(){e=p("dt"),e.textContent="Bonus Dodges",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function sE(i){let e,l,t=i[13].bonus_blocks+"",n;return{c(){e=p("dt"),e.textContent="Bonus Blocks",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p:x,d(o){o&&h(e),o&&h(l)}}}function aE(i){let e,l;return{c(){e=p("dt"),e.textContent="Silent",l=p("dd"),l.textContent="Yes",fe(e,"title","Attacks will be completely silent")},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function uE(i){let e,l;return{c(){e=p("dt"),e.textContent="Stealthy",l=p("dd"),l.textContent="Yes",fe(e,"title","Movement will make less noise")},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function cE(i){let e,l;return{c(){e=p("dt"),e.textContent="Throw Immune",l=p("dd"),l.textContent="Yes",fe(e,"title","Immune to throws/grabs")},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function _E(i){let e,l=i[13].description+"",t;return{c(){e=p("p"),t=w(l),Je(e,"color","var(--cata-color-gray)"),Je(e,"white-space","pre-wrap")},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function Wd(i){let e,l,t=i[9]+"",n,o,r=i[13].name+"",f,a,s,u,c,m,$,k,y,T,E,S,C;u=new Nh({props:{item:i[13],buffMap:i[4]}}),c=new Rh({props:{item:i[13]}});let R=i[13].buff_duration&&rE(i),D=i[13].max_stacks&&oE(i),O=i[13].bonus_dodges&&fE(i),A=i[13].bonus_blocks&&sE(i),B=i[13].quiet&&aE(),M=i[13].stealthy&&uE(),V=i[13].throw_immune&&cE(),J=i[13].description&&_E(i);return{c(){e=p("section"),l=p("h1"),n=w(t),o=w(": "),f=w(r),a=I(),s=p("dl"),U(u.$$.fragment),U(c.$$.fragment),R&&R.c(),m=ne(),D&&D.c(),$=ne(),O&&O.c(),k=ne(),A&&A.c(),y=ne(),B&&B.c(),T=ne(),M&&M.c(),E=ne(),V&&V.c(),S=I(),J&&J.c()},m(N,j){g(N,e,j),d(e,l),d(l,n),d(l,o),d(l,f),d(e,a),d(e,s),L(u,s,null),L(c,s,null),R&&R.m(s,null),d(s,m),D&&D.m(s,null),d(s,$),O&&O.m(s,null),d(s,k),A&&A.m(s,null),d(s,y),B&&B.m(s,null),d(s,T),M&&M.m(s,null),d(s,E),V&&V.m(s,null),d(e,S),J&&J.m(e,null),C=!0},p(N,j){N[13].buff_duration&&R.p(N,j),N[13].max_stacks&&D.p(N,j),N[13].bonus_dodges&&O.p(N,j),N[13].bonus_blocks&&A.p(N,j),N[13].description&&J.p(N,j)},i(N){C||(b(u.$$.fragment,N),b(c.$$.fragment,N),C=!0)},o(N){v(u.$$.fragment,N),v(c.$$.fragment,N),C=!1},d(N){N&&h(e),G(u),G(c),R&&R.d(),D&&D.d(),O&&O.d(),A&&A.d(),B&&B.d(),M&&M.d(),V&&V.d(),J&&J.d()}}}function zd(i){let e,l,t=i[10],n=[];for(let r=0;r<t.length;r+=1)n[r]=Wd(Nd(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f&24){t=r[10];let a;for(a=0;a<t.length;a+=1){const s=Nd(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Wd(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){ce(n,r),r&&h(e)}}}function Vd(i){let e,l,t,n,o=i[0].techniques,r=[];for(let a=0;a<o.length;a+=1)r[a]=Xd(Id(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("h1"),e.textContent="Techniques",l=I();for(let a=0;a<r.length;a+=1)r[a].c();t=ne()},m(a,s){g(a,e,s),g(a,l,s);for(let u=0;u<r.length;u+=1)r[u].m(a,s);g(a,t,s),n=!0},p(a,s){if(s&19){o=a[0].techniques;let u;for(u=0;u<o.length;u+=1){const c=Id(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Xd(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a),a&&h(t)}}}function Xd(i){let e,l;return e=new Q2({props:{item:i[1].byId("technique",i[6]),buffMap:i[4]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.item=t[1].byId("technique",t[6])),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function dE(i){var V,J,N,j,z;let e,l,t=be(i[0])+"",n,o,r,f,a,s,u,c=i[0].description+"",m,$,k,y,T,E,S,C,R=(i[0].learn_difficulty!=null||((V=i[0].autolearn)==null?void 0:V.length)||((J=i[0].arm_block)!=null?J:99)!==99||((N=i[0].leg_block)!=null?N:99)!==99||i[0].arm_block_with_bio_armor_arms||i[0].leg_block_with_bio_armor_legs||i[2].length)&&Md(i),D=((j=i[0].weapons)==null?void 0:j.length)&&Hd(i),O=i[3],A=[];for(let F=0;F<O.length;F+=1)A[F]=zd(Rd(i,O,F));const B=F=>v(A[F],1,1,()=>{A[F]=null});let M=((z=i[0].techniques)==null?void 0:z.length)&&Vd(i);return{c(){e=p("h1"),l=w("Martial Art: "),n=w(t),o=I(),r=p("section"),f=p("h1"),f.textContent="General",a=I(),R&&R.c(),s=I(),u=p("p"),m=w(c),$=I(),D&&D.c(),k=I(),y=p("h1"),y.textContent="Buffs",T=I();for(let F=0;F<A.length;F+=1)A[F].c();E=I(),M&&M.c(),S=ne(),Je(u,"color","var(--cata-color-gray)")},m(F,Y){g(F,e,Y),d(e,l),d(e,n),g(F,o,Y),g(F,r,Y),d(r,f),d(r,a),R&&R.m(r,null),d(r,s),d(r,u),d(u,m),g(F,$,Y),D&&D.m(F,Y),g(F,k,Y),g(F,y,Y),g(F,T,Y);for(let q=0;q<A.length;q+=1)A[q].m(F,Y);g(F,E,Y),M&&M.m(F,Y),g(F,S,Y),C=!0},p(F,[Y]){var q,W,re,H,K;if((!C||Y&1)&&t!==(t=be(F[0])+"")&&P(n,t),F[0].learn_difficulty!=null||((q=F[0].autolearn)==null?void 0:q.length)||((W=F[0].arm_block)!=null?W:99)!==99||((re=F[0].leg_block)!=null?re:99)!==99||F[0].arm_block_with_bio_armor_arms||F[0].leg_block_with_bio_armor_legs||F[2].length?R?(R.p(F,Y),Y&1&&b(R,1)):(R=Md(F),R.c(),b(R,1),R.m(r,s)):R&&(Z(),v(R,1,1,()=>{R=null}),Q()),(!C||Y&1)&&c!==(c=F[0].description+"")&&P(m,c),(H=F[0].weapons)!=null&&H.length?D?(D.p(F,Y),Y&1&&b(D,1)):(D=Hd(F),D.c(),b(D,1),D.m(k.parentNode,k)):D&&(Z(),v(D,1,1,()=>{D=null}),Q()),Y&24){O=F[3];let ee;for(ee=0;ee<O.length;ee+=1){const ie=Rd(F,O,ee);A[ee]?(A[ee].p(ie,Y),b(A[ee],1)):(A[ee]=zd(ie),A[ee].c(),b(A[ee],1),A[ee].m(E.parentNode,E))}for(Z(),ee=O.length;ee<A.length;ee+=1)B(ee);Q()}(K=F[0].techniques)!=null&&K.length?M?(M.p(F,Y),Y&1&&b(M,1)):(M=Vd(F),M.c(),b(M,1),M.m(S.parentNode,S)):M&&(Z(),v(M,1,1,()=>{M=null}),Q())},i(F){if(!C){b(R),b(D);for(let Y=0;Y<O.length;Y+=1)b(A[Y]);b(M),C=!0}},o(F){v(R),v(D),A=A.filter(Boolean);for(let Y=0;Y<A.length;Y+=1)v(A[Y]);v(M),C=!1},d(F){F&&h(e),F&&h(o),F&&h(r),R&&R.d(),F&&h($),D&&D.d(F),F&&h(k),F&&h(y),F&&h(T),ce(A,F),F&&h(E),M&&M.d(F),F&&h(S)}}}function Jd(i){return i<=2?"easy":i<=4?"moderately hard":i<=6?"hard":i<=8?"very hard":"extremely hard"}function mE(i,e,l){var s,u,c,m,$,k,y,T,E,S,C;const t=it("data");let{item:n}=e;const o=t.byType("item").filter(R=>R.type==="BOOK"&&R.martial_art===n.id),r=[["Passive",(s=n.static_buffs)!=null?s:[]],["Move",(u=n.onmove_buffs)!=null?u:[]],["Pause",(c=n.onpause_buffs)!=null?c:[]],["Hit",(m=n.onhit_buffs)!=null?m:[]],["Miss",($=n.onmiss_buffs)!=null?$:[]],["Attack",(k=n.onattack_buffs)!=null?k:[]],["Crit",(y=n.oncrit_buffs)!=null?y:[]],["Kill",(T=n.onkill_buffs)!=null?T:[]],["Dodge",(E=n.ondodge_buffs)!=null?E:[]],["Block",(S=n.onblock_buffs)!=null?S:[]],["Get hit",(C=n.ongethit_buffs)!=null?C:[]]],f=new Map(r.flatMap(R=>R[1]).map(R=>[R.id,R])),a=(R,D)=>be(t.byId("item",R)).localeCompare(be(t.byId("item",D)));return i.$$set=R=>{"item"in R&&l(0,n=R.item)},[n,t,o,r,f,a]}class pE extends Xe{constructor(e){super(),Ve(this,e,mE,dE,je,{item:0})}}function hE(i){let e;const l=i[5].default,t=ch(l,i,i[4],null);return{c(){t&&t.c()},m(n,o){t&&t.m(n,o),e=!0},p(n,o){t&&t.p&&(!e||o&16)&&mh(t,l,n,n[4],e?dh(l,n[4],o,null):ph(n[4]),null)},i(n){e||(b(t,n),e=!0)},o(n){v(t,n),e=!1},d(n){t&&t.d(n)}}}function gE(i){let e,l,t=i[1].message+"",n,o,r,f,a=(i[2]?i[1].stack:"")+"",s,u;return{c(){e=p("div"),l=p("b"),n=w(t),o=I(),r=p("pre"),f=w("      "),s=w(a),u=w(`
    `),fe(r,"class","trace svelte-1nrekyi"),fe(e,"class","error svelte-1nrekyi")},m(c,m){g(c,e,m),d(e,l),d(l,n),d(e,o),d(e,r),d(r,f),d(r,s),d(r,u)},p(c,m){m&2&&t!==(t=c[1].message+"")&&P(n,t),m&2&&a!==(a=(c[2]?c[1].stack:"")+"")&&P(s,a)},i:x,o:x,d(c){c&&h(e)}}}function bE(i){let e,l,t,n;const o=[gE,hE],r=[];function f(a,s){return a[1]?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(Z(),v(r[u],1,1,()=>{r[u]=null}),Q(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function $E(i,e,l){let t,n=x,o=()=>(n(),n=ah(a,m=>l(1,t=m)),a);i.$$.on_destroy.push(()=>n());let{$$slots:r={},$$scope:f}=e,{error:a=null}=e;o();let{onError:s=null}=e,c=(typeof process!="undefined"&&process.env&&"production")!=="production";return i.$$set=m=>{"error"in m&&o(l(0,a=m.error)),"onError"in m&&l(3,s=m.onError),"$$scope"in m&&l(4,f=m.$$scope)},i.$$.update=()=>{i.$$.dirty&10&&t&&s&&s(t)},[a,t,c,s,f,r]}class vE extends Xe{constructor(e){super(),Ve(this,e,$E,bE,je,{error:0,onError:3})}}const kE=["c","l","h","m","p","a","i","o","d"];function yE(i){if(i.$$render){let l=i.$$render;return i.$$render=(t,n,o,r)=>{const f=Li(void 0);try{return l(t,{error:f,...n},o,r)}catch(a){return f.set(a),l(t,{error:f,...n},o,{})}},i}function e(l,t){return function(...o){try{return l(...o)}catch(r){t(r)}}}return class extends i{constructor(t){const n=Li(void 0);t.props.$$slots.default=t.props.$$slots.default.map(o=>(...r)=>{let a=e(o,n.set)(...r);if(a)for(let s of kE)a[s]&&(a[s]=e(a[s],n.set));return a}),super(t),this.$$set({error:n})}}}const wE=yE(vE);function Kd(i,e,l){const t=i.slice();return t[4]=e[l],t}function Zd(i,e,l){const t=i.slice();return t[4]=e[l],t}function Qd(i,e,l){const t=i.slice();return t[9]=e[l],t}function xd(i,e,l){const t=i.slice();return t[9]=e[l],t}function em(i,e,l){const t=i.slice();return t[9]=e[l],t}function tm(i,e,l){const t=i.slice();return t[16]=e[l],t}function lm(i,e,l){const t=i.slice();return t[16]=e[l],t}function nm(i,e,l){const t=i.slice();return t[16]=e[l],t}function im(i,e,l){const t=i.slice();return t[23]=e[l],t}function rm(i,e,l){const t=i.slice();return t[26]=e[l],t}function om(i){let e;return{c(){e=w("Threshold ")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function fm(i){let e,l,t,n,o,r=i[0].category,f=[];for(let s=0;s<r.length;s+=1)f[s]=sm(rm(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Category",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].category;let c;for(c=0;c<r.length;c+=1){const m=rm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=sm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function sm(i){let e,l,t;return l=new ue({props:{type:"mutation_category",id:i[26]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[26]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function am(i){let e;return{c(){e=w("s")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function EE(i){let e;return{c(){e=p("em"),e.textContent="None"},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function TE(i){let e,l,t=i[0].types,n=[];for(let r=0;r<t.length;r+=1)n[r]=um(im(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c();fe(e,"class","comma-separated")},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f&1){t=r[0].types;let a;for(a=0;a<t.length;a+=1){const s=im(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=um(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){r&&h(e),ce(n,r)}}}function um(i){let e,l,t;return l=new ue({props:{type:"mutation_type",id:i[23]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[23]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function SE(i){let e;return{c(){e=p("em"),e.textContent="None"},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function CE(i){let e,l,t,n,o,r=i[0].prereqs,f=[];for(let u=0;u<r.length;u+=1)f[u]=cm(nm(i,r,u));const a=u=>v(f[u],1,1,()=>{f[u]=null});let s=i[0].prereqs2&&_m(i);return{c(){e=p("ul"),l=p("li"),t=p("ul");for(let u=0;u<f.length;u+=1)f[u].c();n=I(),s&&s.c(),fe(t,"class","comma-separated or")},m(u,c){g(u,e,c),d(e,l),d(l,t);for(let m=0;m<f.length;m+=1)f[m].m(t,null);d(e,n),s&&s.m(e,null),o=!0},p(u,c){if(c&1){r=u[0].prereqs;let m;for(m=0;m<r.length;m+=1){const $=nm(u,r,m);f[m]?(f[m].p($,c),b(f[m],1)):(f[m]=cm($),f[m].c(),b(f[m],1),f[m].m(t,null))}for(Z(),m=r.length;m<f.length;m+=1)a(m);Q()}u[0].prereqs2?s?(s.p(u,c),c&1&&b(s,1)):(s=_m(u),s.c(),b(s,1),s.m(e,null)):s&&(Z(),v(s,1,1,()=>{s=null}),Q())},i(u){if(!o){for(let c=0;c<r.length;c+=1)b(f[c]);b(s),o=!0}},o(u){f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)v(f[c]);v(s),o=!1},d(u){u&&h(e),ce(f,u),s&&s.d()}}}function cm(i){let e,l,t;return l=new ue({props:{type:"mutation",id:i[16]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[16]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function _m(i){let e,l,t,n=i[0].prereqs2,o=[];for(let f=0;f<n.length;f+=1)o[f]=dm(lm(i,n,f));const r=f=>v(o[f],1,1,()=>{o[f]=null});return{c(){e=p("li"),l=p("ul");for(let f=0;f<o.length;f+=1)o[f].c();fe(l,"class","comma-separated or")},m(f,a){g(f,e,a),d(e,l);for(let s=0;s<o.length;s+=1)o[s].m(l,null);t=!0},p(f,a){if(a&1){n=f[0].prereqs2;let s;for(s=0;s<n.length;s+=1){const u=lm(f,n,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=dm(u),o[s].c(),b(o[s],1),o[s].m(l,null))}for(Z(),s=n.length;s<o.length;s+=1)r(s);Q()}},i(f){if(!t){for(let a=0;a<n.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)v(o[a]);t=!1},d(f){f&&h(e),ce(o,f)}}}function dm(i){let e,l,t;return l=new ue({props:{type:"mutation",id:i[16]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[16]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function mm(i){let e,l,t,n,o,r=i[0].threshreq,f=[];for(let s=0;s<r.length;s+=1)f[s]=pm(tm(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Threshold Requirement",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated or")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].threshreq;let c;for(c=0;c<r.length;c+=1){const m=tm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=pm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function pm(i){let e,l,t;return l=new ue({props:{type:"mutation",id:i[16]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[16]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function hm(i){let e,l,t,n,o,r=i[0].leads_to,f=[];for(let s=0;s<r.length;s+=1)f[s]=gm(em(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Leads To",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].leads_to;let c;for(c=0;c<r.length;c+=1){const m=em(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=gm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function gm(i){let e,l,t;return l=new ue({props:{id:i[9],type:"mutation"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[9]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function bm(i){let e,l,t,n,o,r=i[0].changes_to,f=[];for(let s=0;s<r.length;s+=1)f[s]=$m(xd(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Changes To",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=s[0].changes_to;let c;for(c=0;c<r.length;c+=1){const m=xd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=$m(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function $m(i){let e,l,t;return l=new ue({props:{id:i[9],type:"mutation"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[9]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function vm(i){let e,l,t,n,o=i[0].cancels,r=[];for(let a=0;a<o.length;a+=1)r[a]=km(Qd(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Conflicts With",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&1){o=a[0].cancels;let u;for(u=0;u<o.length;u+=1){const c=Qd(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=km(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function km(i){let e,l,t;return l=new ue({props:{id:i[9],type:"mutation"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[9]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function ym(i){let e,l,t,n,o,r=i[1],f=[];for(let s=0;s<r.length;s+=1)f[s]=wm(Zd(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Post-Threshold Mutations",t=I(),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&2){r=s[1];let c;for(c=0;c<r.length;c+=1){const m=Zd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=wm(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),ce(f,s)}}}function wm(i){let e,l,t;return l=new ue({props:{id:i[4].id,type:"mutation"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function IE(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Em(Kd(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("section"),l=p("h1"),l.textContent="Required By",t=I(),n=p("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){g(s,e,u),d(e,l),d(e,t),d(e,n);for(let c=0;c<f.length;c+=1)f[c].m(n,null);o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=Kd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Em(m),f[c].c(),b(f[c],1),f[c].m(n,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),ce(f,s)}}}function Em(i){let e,l,t;return l=new ue({props:{id:i[4].id,type:"mutation"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function RE(i){var Ce;let e,l,t=be(i[0])+"",n,o,r,f,a,s,u=i[0].points+"",c,m,$,k,y,T,E,S,C,R,D,O,A,B,M,V,J,N,j=Vt(i[0].description)+"",z,F,Y,q,W,re=i[0].threshold&&om(),H=i[0].category&&fm(i),K=((Ce=i[0].types)==null?void 0:Ce.length)>1&&am();const ee=[TE,EE],ie=[];function X(ge,$e){return ge[0].types?0:1}T=X(i),E=ie[T]=ee[T](i);const te=[CE,SE],me=[];function Ge(ge,$e){return ge[0].prereqs?0:1}D=Ge(i),O=me[D]=te[D](i);let Ie=i[0].threshreq&&mm(i),ae=i[0].leads_to&&hm(i),ke=i[0].changes_to&&bm(i),Ee=i[0].cancels&&vm(i),de=i[0].threshold&&i[1].length&&ym(i),Ue=i[2].length&&IE(i);return{c(){e=p("h1"),re&&re.c(),l=w("Mutation: "),n=w(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Points",s=p("dd"),c=w(u),H&&H.c(),m=p("dt"),$=w("Type"),K&&K.c(),k=I(),y=p("dd"),E.c(),S=I(),C=p("dt"),C.textContent="Prerequisites",R=p("dd"),O.c(),A=I(),Ie&&Ie.c(),B=ne(),ae&&ae.c(),M=ne(),ke&&ke.c(),V=ne(),Ee&&Ee.c(),J=I(),N=p("p"),z=w(j),F=I(),de&&de.c(),Y=I(),Ue&&Ue.c(),q=ne(),fe(m,"title","You can't have two mutations that share a type."),Je(N,"color","var(--cata-color-gray)")},m(ge,$e){g(ge,e,$e),re&&re.m(e,null),d(e,l),d(e,n),g(ge,o,$e),g(ge,r,$e),d(r,f),d(f,a),d(f,s),d(s,c),H&&H.m(f,null),d(f,m),d(m,$),K&&K.m(m,null),d(m,k),d(f,y),ie[T].m(y,null),d(y,S),d(f,C),d(f,R),me[D].m(R,null),d(R,A),Ie&&Ie.m(f,null),d(f,B),ae&&ae.m(f,null),d(f,M),ke&&ke.m(f,null),d(f,V),Ee&&Ee.m(f,null),d(r,J),d(r,N),d(N,z),g(ge,F,$e),de&&de.m(ge,$e),g(ge,Y,$e),Ue&&Ue.m(ge,$e),g(ge,q,$e),W=!0},p(ge,[$e]){var ye;ge[0].threshold?re||(re=om(),re.c(),re.m(e,l)):re&&(re.d(1),re=null),(!W||$e&1)&&t!==(t=be(ge[0])+"")&&P(n,t),(!W||$e&1)&&u!==(u=ge[0].points+"")&&P(c,u),ge[0].category?H?(H.p(ge,$e),$e&1&&b(H,1)):(H=fm(ge),H.c(),b(H,1),H.m(f,m)):H&&(Z(),v(H,1,1,()=>{H=null}),Q()),((ye=ge[0].types)==null?void 0:ye.length)>1?K||(K=am(),K.c(),K.m(m,k)):K&&(K.d(1),K=null);let xe=T;T=X(ge),T===xe?ie[T].p(ge,$e):(Z(),v(ie[xe],1,1,()=>{ie[xe]=null}),Q(),E=ie[T],E?E.p(ge,$e):(E=ie[T]=ee[T](ge),E.c()),b(E,1),E.m(y,S));let se=D;D=Ge(ge),D===se?me[D].p(ge,$e):(Z(),v(me[se],1,1,()=>{me[se]=null}),Q(),O=me[D],O?O.p(ge,$e):(O=me[D]=te[D](ge),O.c()),b(O,1),O.m(R,A)),ge[0].threshreq?Ie?(Ie.p(ge,$e),$e&1&&b(Ie,1)):(Ie=mm(ge),Ie.c(),b(Ie,1),Ie.m(f,B)):Ie&&(Z(),v(Ie,1,1,()=>{Ie=null}),Q()),ge[0].leads_to?ae?(ae.p(ge,$e),$e&1&&b(ae,1)):(ae=hm(ge),ae.c(),b(ae,1),ae.m(f,M)):ae&&(Z(),v(ae,1,1,()=>{ae=null}),Q()),ge[0].changes_to?ke?(ke.p(ge,$e),$e&1&&b(ke,1)):(ke=bm(ge),ke.c(),b(ke,1),ke.m(f,V)):ke&&(Z(),v(ke,1,1,()=>{ke=null}),Q()),ge[0].cancels?Ee?(Ee.p(ge,$e),$e&1&&b(Ee,1)):(Ee=vm(ge),Ee.c(),b(Ee,1),Ee.m(f,null)):Ee&&(Z(),v(Ee,1,1,()=>{Ee=null}),Q()),(!W||$e&1)&&j!==(j=Vt(ge[0].description)+"")&&P(z,j),ge[0].threshold&&ge[1].length?de?(de.p(ge,$e),$e&1&&b(de,1)):(de=ym(ge),de.c(),b(de,1),de.m(Y.parentNode,Y)):de&&(Z(),v(de,1,1,()=>{de=null}),Q()),ge[2].length&&Ue.p(ge,$e)},i(ge){W||(b(H),b(E),b(O),b(Ie),b(ae),b(ke),b(Ee),b(de),b(Ue),W=!0)},o(ge){v(H),v(E),v(O),v(Ie),v(ae),v(ke),v(Ee),v(de),v(Ue),W=!1},d(ge){ge&&h(e),re&&re.d(),ge&&h(o),ge&&h(r),H&&H.d(),K&&K.d(),ie[T].d(),me[D].d(),Ie&&Ie.d(),ae&&ae.d(),ke&&ke.d(),Ee&&Ee.d(),ge&&h(F),de&&de.d(ge),ge&&h(Y),Ue&&Ue.d(ge),ge&&h(q)}}}function NE(i,e,l){let{item:t}=e,n=it("data");const o=n.byType("mutation").filter(f=>{var a;return((a=f.threshreq)!=null?a:[]).includes(t.id)}).sort((f,a)=>be(f).localeCompare(be(a))),r=n.byType("mutation").filter(f=>{var a,s;return((a=f.prereqs)!=null?a:[]).includes(t.id)||((s=f.prereqs2)!=null?s:[]).includes(t.id)}).sort((f,a)=>be(f).localeCompare(be(a)));return i.$$set=f=>{"item"in f&&l(0,t=f.item)},[t,o,r]}class OE extends Xe{constructor(e){super(),Ve(this,e,NE,RE,je,{item:0})}}function Dr(i,e){const l=[];let t=!0;const n=new Set(i),o=new Set;for(;n.size;){const f=n.values().next().value;if(r(f),!t)throw new Error("Not a DAG")}return l;function r(f){if(!!n.has(f)){if(o.has(f)){t=!1;return}o.add(f);for(const a of e(f))r(a);o.delete(f),n.delete(f),l.push(f)}}}function Tm(i,e,l){const t=i.slice();return t[7]=e[l],t}function Sm(i,e,l){const t=i.slice();return t[7]=e[l],t}function Cm(i){let e,l,t=be(i[0])+"",n;return{c(){e=p("h1"),l=w("Mutation Category: "),n=w(t)},m(o,r){g(o,e,r),d(e,l),d(e,n)},p(o,r){r&1&&t!==(t=be(o[0])+"")&&P(n,t)},d(o){o&&h(e)}}}function Im(i){let e,l=be(i[0])+"",t;return{c(){e=p("h1"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=be(n[0])+"")&&P(t,l)},d(n){n&&h(e)}}}function Rm(i){let e,l,t,n;return t=new ue({props:{id:i[0].threshold_mut,type:"mutation"}}),{c(){e=p("dt"),e.textContent="Threshold Mutation",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r&1&&(f.id=o[0].threshold_mut),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function BE(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Nm(Sm(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Pre-Threshold Mutations",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=Sm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Nm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Nm(i){let e,l,t;return l=new ue({props:{id:i[7].id,type:"mutation"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function AE(i){let e,l,t,n,o=i[3],r=[];for(let a=0;a<o.length;a+=1)r[a]=Om(Tm(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Post-Threshold Mutations",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=Tm(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Om(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function Om(i){let e,l,t;return l=new ue({props:{id:i[7].id,type:"mutation"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function ME(i){let e,l,t,n,o,r,f,a=!i[1]&&Cm(i),s=i[1]&&Im(i),u=i[0].threshold_mut&&Rm(i),c=i[2].length&&BE(i),m=i[3].length&&AE(i);return{c(){a&&a.c(),e=I(),l=p("section"),s&&s.c(),t=I(),n=p("dl"),u&&u.c(),o=ne(),c&&c.c(),r=ne(),m&&m.c()},m($,k){a&&a.m($,k),g($,e,k),g($,l,k),s&&s.m(l,null),d(l,t),d(l,n),u&&u.m(n,null),d(n,o),c&&c.m(n,null),d(n,r),m&&m.m(n,null),f=!0},p($,[k]){$[1]?a&&(a.d(1),a=null):a?a.p($,k):(a=Cm($),a.c(),a.m(e.parentNode,e)),$[1]?s?s.p($,k):(s=Im($),s.c(),s.m(l,t)):s&&(s.d(1),s=null),$[0].threshold_mut?u?(u.p($,k),k&1&&b(u,1)):(u=Rm($),u.c(),b(u,1),u.m(n,o)):u&&(Z(),v(u,1,1,()=>{u=null}),Q()),$[2].length&&c.p($,k),$[3].length&&m.p($,k)},i($){f||(b(u),b(c),b(m),f=!0)},o($){v(u),v(c),v(m),f=!1},d($){a&&a.d($),$&&h(e),$&&h(l),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d()}}}function DE(i,e,l){let t=it("data"),{item:n}=e,{inCatalog:o=!1}=e;const r=t.byType("mutation").filter(u=>{var c;return((c=u.category)!=null?c:[]).includes(n.id)});r.sort((u,c)=>be(u).localeCompare(be(c)));const f=u=>{var c,m,$;return((c=u.prereqs)!=null?c:[]).concat((m=u.prereqs2)!=null?m:[]).concat(($=u.threshreq)!=null?$:[])},a=Dr(r.filter(u=>!u.threshreq||u.threshreq.length===0),u=>f(u).map(c=>t.byId("mutation",c))),s=Dr(r.filter(u=>!(!u.threshreq||u.threshreq.length===0)),u=>f(u).map(c=>t.byId("mutation",c)));return i.$$set=u=>{"item"in u&&l(0,n=u.item),"inCatalog"in u&&l(1,o=u.inCatalog)},[n,o,a,s]}class Oh extends Xe{constructor(e){super(),Ve(this,e,DE,ME,je,{item:0,inCatalog:1})}}function Bm(i,e,l){const t=i.slice();return t[4]=e[l],t}function Am(i){let e,l,t;return l=new ue({props:{id:i[4].id,type:"mutation"}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function LE(i){let e,l,t=be(i[0])+"",n,o,r,f,a,s,u,c,m=i[1],$=[];for(let y=0;y<m.length;y+=1)$[y]=Am(Bm(i,m,y));const k=y=>v($[y],1,1,()=>{$[y]=null});return{c(){e=p("h1"),l=w("Mutation Type: "),n=w(t),o=I(),r=p("section"),f=p("dl"),a=p("dt"),a.textContent="Mutations",s=p("dd"),u=p("ul");for(let y=0;y<$.length;y+=1)$[y].c()},m(y,T){g(y,e,T),d(e,l),d(e,n),g(y,o,T),g(y,r,T),d(r,f),d(f,a),d(f,s),d(s,u);for(let E=0;E<$.length;E+=1)$[E].m(u,null);c=!0},p(y,[T]){if((!c||T&1)&&t!==(t=be(y[0])+"")&&P(n,t),T&2){m=y[1];let E;for(E=0;E<m.length;E+=1){const S=Bm(y,m,E);$[E]?($[E].p(S,T),b($[E],1)):($[E]=Am(S),$[E].c(),b($[E],1),$[E].m(u,null))}for(Z(),E=m.length;E<$.length;E+=1)k(E);Q()}},i(y){if(!c){for(let T=0;T<m.length;T+=1)b($[T]);c=!0}},o(y){$=$.filter(Boolean);for(let T=0;T<$.length;T+=1)v($[T]);c=!1},d(y){y&&h(e),y&&h(o),y&&h(r),ce($,y)}}}function GE(i,e,l){let{item:t}=e,n=it("data");const o=f=>{var a,s,u;return((a=f.prereqs)!=null?a:[]).concat((s=f.prereqs2)!=null?s:[]).concat((u=f.threshreq)!=null?u:[])},r=Dr(n.byType("mutation").filter(f=>{var a;return((a=f.types)!=null?a:[]).includes(t.id)}).sort((f,a)=>be(f).localeCompare(be(a))),f=>o(f).map(a=>n.byId("mutation",a)));return i.$$set=f=>{"item"in f&&l(0,t=f.item)},[t,r]}class UE extends Xe{constructor(e){super(),Ve(this,e,GE,LE,je,{item:0})}}function Mm(i,e,l){const t=i.slice();return t[21]=e[l],t}function Dm(i,e,l){const t=i.slice();return t[24]=e[l],t}function qE(i){let e=" ",l;return{c(){l=w(e)},m(t,n){g(t,l,n)},p:x,d(t){t&&h(l)}}}function PE(i){let e,l=i[2](i[24].partId,i[24].variant)+"",t;return{c(){e=p("span"),t=w(l),fe(e,"title",`${i[24].partId}_${i[24].variant}`),fe(e,"class",`c_${i[3](i[24].partId)}`)},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function Lm(i){let e;function l(o,r){return o[24]?PE:qE}let n=l(i)(i);return{c(){n.c(),e=ne()},m(o,r){n.m(o,r),g(o,e,r)},p(o,r){n.p(o,r)},d(o){n.d(o),o&&h(e)}}}function Gm(i){let e=`
`,l,t=i[21],n=[];for(let o=0;o<t.length;o+=1)n[o]=Lm(Dm(i,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();l=w(e)},m(o,r){for(let f=0;f<n.length;f+=1)n[f].m(o,r);g(o,l,r)},p(o,r){if(r&28){t=o[21];let f;for(f=0;f<t.length;f+=1){const a=Dm(o,t,f);n[f]?n[f].p(a,r):(n[f]=Lm(a),n[f].c(),n[f].m(l.parentNode,l))}for(;f<n.length;f+=1)n[f].d(1);n.length=t.length}},d(o){ce(n,o),o&&h(l)}}}function FE(i){let e,l,t,n,o;return n=new st({props:{items:i[6],$$slots:{default:[YE,({item:{id:r,count:f}})=>({19:r,20:f}),({item:r})=>(r?524288:0)|(r?1048576:0)]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Parts",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&135790592&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function YE(i){let e,l,t=i[20]+"",n,o,r;return e=new ue({props:{id:i[19],type:"vehicle_part"}}),{c(){U(e.$$.fragment),l=w(" ("),n=w(t),o=w(")")},m(f,a){L(e,f,a),g(f,l,a),g(f,n,a),g(f,o,a),r=!0},p(f,a){const s={};a&524288&&(s.id=f[19]),e.$set(s),(!r||a&1048576)&&t!==(t=f[20]+"")&&P(n,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){v(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&h(l),f&&h(n),f&&h(o)}}}function jE(i){let e,l,t,n,o;return n=new st({props:{items:i[5],$$slots:{default:[HE,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),l=p("h1"),l.textContent="Items",t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),d(e,l),d(e,t),L(n,e,null),o=!0},p(r,f){const a={};f&134217729&&(a.$$scope={dirty:f,ctx:r}),n.$set(a)},i(r){o||(b(n.$$.fragment,r),o=!0)},o(r){v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(n)}}}function HE(i){let e,l,t,n,o=vn(i[0].prob)+"",r,f,a;return e=new et({props:{item:i[1].byId("item",i[0].id)}}),t=new ue({props:{id:i[0].id,type:"item"}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment),n=w(`
      (`),r=w(o),f=w(")")},m(s,u){L(e,s,u),g(s,l,u),L(t,s,u),g(s,n,u),g(s,r,u),g(s,f,u),a=!0},p(s,u){const c={};u&1&&(c.item=s[1].byId("item",s[0].id)),e.$set(c);const m={};u&1&&(m.id=s[0].id),t.$set(m),(!a||u&1)&&o!==(o=vn(s[0].prob)+"")&&P(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),a=!1},d(s){G(e,s),s&&h(l),G(t,s),s&&h(n),s&&h(r),s&&h(f)}}}function WE(i){let e,l=be(i[0])+"",t,n,o,r,f,a,s,u,c,m,$=i[4],k=[];for(let E=0;E<$.length;E+=1)k[E]=Gm(Mm(i,$,E));let y=i[6].length&&FE(i),T=i[5].length&&jE(i);return{c(){e=p("h1"),t=w(l),n=I(),o=p("section"),r=p("pre"),f=w("    ");for(let E=0;E<k.length;E+=1)k[E].c();a=w(`
  `),s=I(),y&&y.c(),u=I(),T&&T.c(),c=ne(),Je(r,"font-family","Unifont, monospace"),Je(r,"line-height","1")},m(E,S){g(E,e,S),d(e,t),g(E,n,S),g(E,o,S),d(o,r),d(r,f);for(let C=0;C<k.length;C+=1)k[C].m(r,null);d(r,a),g(E,s,S),y&&y.m(E,S),g(E,u,S),T&&T.m(E,S),g(E,c,S),m=!0},p(E,[S]){if((!m||S&1)&&l!==(l=be(E[0])+"")&&P(t,l),S&28){$=E[4];let C;for(C=0;C<$.length;C+=1){const R=Mm(E,$,C);k[C]?k[C].p(R,S):(k[C]=Gm(R),k[C].c(),k[C].m(r,a))}for(;C<k.length;C+=1)k[C].d(1);k.length=$.length}E[6].length&&y.p(E,S),E[5].length&&T.p(E,S)},i(E){m||(b(y),b(T),m=!0)},o(E){v(y),v(T),m=!1},d(E){E&&h(e),E&&h(n),E&&h(o),ce(k,E),E&&h(s),y&&y.d(E),E&&h(u),T&&T.d(E),E&&h(c)}}}function zE(i,e,l){let{item:t}=e;const n=it("data");let o=1/0,r=-1/0,f=1/0,a=-1/0;for(const O of t.parts)O.x<o&&(o=O.x),O.x>r&&(r=O.x),O.y<f&&(f=O.y),O.y>a&&(a=O.y);const s={cover:"^",cross:"c",horizontal:"h",horizontal_2:"=",vertical:"j",vertical_2:"H",ne:"u",nw:"y",se:"n",sw:"b"},u={on_roof:9,on_cargo:8,center:7,under:6,structure:5,engine_block:4,on_battery_mount:3,fuel_source:2,roof:-1,armor:-2},c={XOXO:"\u2502",OXOX:"\u2500",XXOO:"\u2514",OXXO:"\u250C",OOXX:"\u2510",XOOX:"\u2518",XXXO:"\u251C",XXOX:"\u2534",XOXX:"\u2524",OXXX:"\u252C",XXXX:"\u253C"},m=O=>{switch(O){case"j":return c.XOXO;case"h":return c.OXOX;case"c":return c.XXXX;case"y":return c.OXXO;case"u":return c.OOXX;case"n":return c.XOOX;case"b":return c.XXOO;default:return O}},$=(O,A)=>{var J,N;const B=n.byId("vehicle_part",O),M=(J=B.symbol)!=null?J:"=",V={...B.standard_symbols?s:{},...B.symbols};return m((N=V[A])!=null?N:M)},k=O=>n.byId("vehicle_part",O).color,y=t.parts.map(O=>{var B;const A=(O.part?[{part:O.part,fuel:O.fuel}]:(B=O.parts)==null?void 0:B.map(M=>typeof M=="string"?{part:M}:M)).map(({part:M,fuel:V})=>{const[J,N]=gh(n,M);return{partId:J,variant:N,fuel:V}});return{x:O.x,y:O.y,parts:A}}),T=O=>{var V;const B=n.byId("vehicle_part",O).location;return(V=u[B])!=null?V:0},E=[];for(let O=r;O>=o;O--){const A=[];for(let B=f;B<=a;B++){const M=y.filter(N=>N.x===O&&N.y===B).flatMap(N=>N.parts);if(!M.length){A.push(void 0);continue}let V=M[0],J=T(V.partId);for(const N of M){const j=T(N.partId);j>=0&&j>J&&(J=j,V=N)}A.push(V)}E.push(A)}const S=n.flattenItemGroup(bh(t));S.sort((O,A)=>A.prob-O.prob);const C=y.flatMap(O=>O.parts),D=[...Zr(C,O=>[O.partId]).entries()].map(([O,A])=>({id:O,count:A.length}));return D.sort((O,A)=>O.count===A.count?be(n.byId("vehicle_part",O.id)).localeCompare(be(n.byId("vehicle_part",A.id))):A.count-O.count),i.$$set=O=>{"item"in O&&l(0,t=O.item)},[t,n,$,k,E,S,D]}class VE extends Xe{constructor(e){super(),Ve(this,e,zE,WE,je,{item:0})}}function Um(i,e,l){const t=i.slice();return t[7]=e[l],t}function qm(i,e,l){const t=i.slice();return t[10]=e[l],t}function Pm(i,e,l){const t=i.slice();return t[13]=e[l],t}function Fm(i,e,l){const t=i.slice();return t[16]=e[l],t}function Ym(i,e,l){const t=i.slice();return t[19]=e[l].id,t[20]=e[l].prob,t}function jm(i,e,l){const t=i.slice();return t[23]=e[l][0],t[24]=e[l][1],t}function Hm(i,e,l){const t=i.slice();return t[19]=e[l].id,t[20]=e[l].prob,t[27]=e[l].count,t}function Wm(i){let e,l,t,n,o,r,f;return t=new et({props:{item:i[1].byId("terrain",i[0].transforms_into)}}),o=new ue({props:{id:i[0].transforms_into,type:"terrain"}}),{c(){e=p("dt"),e.textContent="Transforms Into",l=p("dd"),U(t.$$.fragment),n=I(),U(o.$$.fragment),r=I()},m(a,s){g(a,e,s),g(a,l,s),L(t,l,null),d(l,n),L(o,l,null),d(l,r),f=!0},p(a,s){const u={};s&1&&(u.item=a[1].byId("terrain",a[0].transforms_into)),t.$set(u);const c={};s&1&&(c.id=a[0].transforms_into),o.$set(c)},i(a){f||(b(t.$$.fragment,a),b(o.$$.fragment,a),f=!0)},o(a){v(t.$$.fragment,a),v(o.$$.fragment,a),f=!1},d(a){a&&h(e),a&&h(l),G(t),G(o)}}}function XE(i){let e,l=i[23]+"",t,n,o,r,f,a=i[24],s=[];for(let c=0;c<a.length;c+=1)s[c]=zm(Hm(i,a,c));const u=c=>v(s[c],1,1,()=>{s[c]=null});return{c(){e=p("dt"),t=w(l),n=p("dd"),o=p("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=I(),fe(o,"class","comma-separated")},m(c,m){g(c,e,m),d(e,t),g(c,n,m),d(n,o);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(n,r),f=!0},p(c,m){if(m&4){a=c[24];let $;for($=0;$<a.length;$+=1){const k=Hm(c,a,$);s[$]?(s[$].p(k,m),b(s[$],1)):(s[$]=zm(k),s[$].c(),b(s[$],1),s[$].m(o,null))}for(Z(),$=a.length;$<s.length;$+=1)u($);Q()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)v(s[m]);f=!1},d(c){c&&h(e),c&&h(n),ce(s,c)}}}function JE(i){let e,l=i[27][0]+"",t,n,o=i[27][1]+"",r,f;return{c(){e=w("\xA0("),t=w(l),n=w("\u2013"),r=w(o),f=w(")")},m(a,s){g(a,e,s),g(a,t,s),g(a,n,s),g(a,r,s),g(a,f,s)},p:x,d(a){a&&h(e),a&&h(t),a&&h(n),a&&h(r),a&&h(f)}}}function KE(i){let e,l=i[27][0]!==1&&ZE(i);return{c(){l&&l.c(),e=ne()},m(t,n){l&&l.m(t,n),g(t,e,n)},p(t,n){t[27][0]!==1&&l.p(t,n)},d(t){l&&l.d(t),t&&h(e)}}}function ZE(i){let e,l=i[27][0]+"",t,n;return{c(){e=w("\xA0("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function QE(i){let e,l=vn(i[20])+"",t,n;return{c(){e=w("\xA0("),t=w(l),n=w(")")},m(o,r){g(o,e,r),g(o,t,r),g(o,n,r)},p:x,d(o){o&&h(e),o&&h(t),o&&h(n)}}}function zm(i){let e,l,t,n="",o,r="",f,a;t=new ue({props:{type:"item",id:i[19]}});function s($,k){return $[27][0]===$[27][1]?KE:JE}let c=s(i)(i),m=i[20]!==1&&QE(i);return{c(){e=p("li"),l=p("span"),U(t.$$.fragment),o=w(n),c.c(),f=w(r),m&&m.c(),Je(l,"white-space","nowrap")},m($,k){g($,e,k),d(e,l),L(t,l,null),d(l,o),c.m(l,null),d(l,f),m&&m.m(l,null),a=!0},p($,k){c.p($,k),$[20]!==1&&m.p($,k)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){v(t.$$.fragment,$),a=!1},d($){$&&h(e),G(t),c.d(),m&&m.d()}}}function Vm(i){let e,l,t=i[24].length&&XE(i);return{c(){t&&t.c(),e=ne()},m(n,o){t&&t.m(n,o),g(n,e,o),l=!0},p(n,o){n[24].length&&t.p(n,o)},i(n){l||(b(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function xE(i){let e,l,t,n,o,r=["winter","spring","summer","autumn"].filter(i[4]),f=[];for(let s=0;s<r.length;s+=1)f[s]=Zm(qm(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Harvest",l=p("dd"),t=p("dl");for(let s=0;s<f.length;s+=1)f[s].c();n=I()},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&10){r=["winter","spring","summer","autumn"].filter(s[4]);let c;for(c=0;c<r.length;c+=1){const m=qm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Zm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function eT(i){let e,l,t,n,o;return l=new et({props:{item:i[1].byId("item",i[16].drop)}}),n=new ue({props:{type:"item",id:i[16].drop}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment)},m(r,f){g(r,e,f),L(l,e,null),d(e,t),L(n,e,null),o=!0},p:x,i(r){o||(b(l.$$.fragment,r),b(n.$$.fragment,r),o=!0)},o(r){v(l.$$.fragment,r),v(n.$$.fragment,r),o=!1},d(r){r&&h(e),G(l),G(n)}}}function tT(i){let e,l,t=i[1].flattenItemGroup(i[1].byId("item_group",i[16].drop)),n=[];for(let r=0;r<t.length;r+=1)n[r]=Xm(Ym(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},m(r,f){for(let a=0;a<n.length;a+=1)n[a].m(r,f);g(r,e,f),l=!0},p(r,f){if(f&10){t=r[1].flattenItemGroup(r[1].byId("item_group",r[16].drop));let a;for(a=0;a<t.length;a+=1){const s=Ym(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Xm(s),n[a].c(),b(n[a],1),n[a].m(e.parentNode,e))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){ce(n,r),r&&h(e)}}}function Xm(i){let e,l,t,n,o,r=(i[20]*100).toFixed(2)+"",f,a,s;return l=new et({props:{item:i[1].byId("item",i[19])}}),n=new ue({props:{type:"item",id:i[19]}}),{c(){e=p("li"),U(l.$$.fragment),t=I(),U(n.$$.fragment),o=w(" ("),f=w(r),a=w("%)")},m(u,c){g(u,e,c),L(l,e,null),d(e,t),L(n,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:x,i(u){s||(b(l.$$.fragment,u),b(n.$$.fragment,u),s=!0)},o(u){v(l.$$.fragment,u),v(n.$$.fragment,u),s=!1},d(u){u&&h(e),G(l),G(n)}}}function Jm(i){let e,l,t,n;const o=[tT,eT],r=[];function f(a,s){return a[16].type==="bionic_group"?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Km(i){let e,l,t=i[13].entries,n=[];for(let r=0;r<t.length;r+=1)n[r]=Jm(Fm(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c()},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f&10){t=r[13].entries;let a;for(a=0;a<t.length;a+=1){const s=Fm(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Jm(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){r&&h(e),ce(n,r)}}}function Zm(i){let e,l=i[10]+"",t,n,o,r,f=[i[1].byId("harvest",i[3].get(i[10]))],a=[];for(let u=0;u<1;u+=1)a[u]=Km(Pm(i,f,u));const s=u=>v(a[u],1,1,()=>{a[u]=null});return{c(){e=p("dt"),t=w(l),n=p("dd");for(let u=0;u<1;u+=1)a[u].c();o=I(),Je(e,"text-transform","capitalize")},m(u,c){g(u,e,c),d(e,t),g(u,n,c);for(let m=0;m<1;m+=1)a[m].m(n,null);d(n,o),r=!0},p(u,c){if(c&10){f=[u[1].byId("harvest",u[3].get(u[10]))];let m;for(m=0;m<1;m+=1){const $=Pm(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=Km($),a[m].c(),b(a[m],1),a[m].m(n,o))}for(Z(),m=1;m<1;m+=1)s(m);Q()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)v(a[c]);r=!1},d(u){u&&h(e),u&&h(n),ce(a,u)}}}function Qm(i){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function xm(i){let e,l,t;return l=new ue({props:{type:"json_flag",id:i[7]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.id=n[7]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function lT(i){var K,ee,ie;let e,l,t,n=be(i[0])+"",o,r,f,a,s,u,c=((K=i[0].move_cost)!=null?K:100)+"",m,$,k,y=((ee=i[0].coverage)!=null?ee:0)+"",T,E,S,C,R,D,O,A,B,M=Vt(i[0].description)+"",V,J;l=new et({props:{item:i[0]}});let N=i[0].transforms_into&&Wm(i),j=i[2],z=[];for(let X=0;X<j.length;X+=1)z[X]=Vm(jm(i,j,X));const F=X=>v(z[X],1,1,()=>{z[X]=null});let Y=i[3].size&&xE(i),q=(ie=i[0].flags)!=null?ie:[],W=[];for(let X=0;X<q.length;X+=1)W[X]=xm(Um(i,q,X));const re=X=>v(W[X],1,1,()=>{W[X]=null});let H=null;return q.length||(H=Qm()),{c(){e=p("h1"),U(l.$$.fragment),t=I(),o=w(n),r=I(),f=p("section"),a=p("dl"),s=p("dt"),s.textContent="Move Cost",u=p("dd"),m=w(c),$=p("dt"),$.textContent="Coverage",k=p("dd"),T=w(y),E=w("%"),N&&N.c(),S=ne();for(let X=0;X<z.length;X+=1)z[X].c();C=ne(),Y&&Y.c(),R=p("dt"),R.textContent="Flags",D=p("dd"),O=p("ul");for(let X=0;X<W.length;X+=1)W[X].c();H&&H.c(),A=I(),B=p("p"),V=w(M),fe(O,"class","comma-separated"),Je(B,"color","var(--cata-color-gray)"),Je(B,"margin-bottom","0")},m(X,te){g(X,e,te),L(l,e,null),d(e,t),d(e,o),g(X,r,te),g(X,f,te),d(f,a),d(a,s),d(a,u),d(u,m),d(a,$),d(a,k),d(k,T),d(k,E),N&&N.m(a,null),d(a,S);for(let me=0;me<z.length;me+=1)z[me].m(a,null);d(a,C),Y&&Y.m(a,null),d(a,R),d(a,D),d(D,O);for(let me=0;me<W.length;me+=1)W[me].m(O,null);H&&H.m(O,null),d(f,A),d(f,B),d(B,V),J=!0},p(X,[te]){var Ge,Ie,ae;const me={};if(te&1&&(me.item=X[0]),l.$set(me),(!J||te&1)&&n!==(n=be(X[0])+"")&&P(o,n),(!J||te&1)&&c!==(c=((Ge=X[0].move_cost)!=null?Ge:100)+"")&&P(m,c),(!J||te&1)&&y!==(y=((Ie=X[0].coverage)!=null?Ie:0)+"")&&P(T,y),X[0].transforms_into?N?(N.p(X,te),te&1&&b(N,1)):(N=Wm(X),N.c(),b(N,1),N.m(a,S)):N&&(Z(),v(N,1,1,()=>{N=null}),Q()),te&4){j=X[2];let ke;for(ke=0;ke<j.length;ke+=1){const Ee=jm(X,j,ke);z[ke]?(z[ke].p(Ee,te),b(z[ke],1)):(z[ke]=Vm(Ee),z[ke].c(),b(z[ke],1),z[ke].m(a,C))}for(Z(),ke=j.length;ke<z.length;ke+=1)F(ke);Q()}if(X[3].size&&Y.p(X,te),te&1){q=(ae=X[0].flags)!=null?ae:[];let ke;for(ke=0;ke<q.length;ke+=1){const Ee=Um(X,q,ke);W[ke]?(W[ke].p(Ee,te),b(W[ke],1)):(W[ke]=xm(Ee),W[ke].c(),b(W[ke],1),W[ke].m(O,null))}for(Z(),ke=q.length;ke<W.length;ke+=1)re(ke);Q(),!q.length&&H?H.p(X,te):q.length?H&&(H.d(1),H=null):(H=Qm(),H.c(),H.m(O,null))}(!J||te&1)&&M!==(M=Vt(X[0].description)+"")&&P(V,M)},i(X){if(!J){b(l.$$.fragment,X),b(N);for(let te=0;te<j.length;te+=1)b(z[te]);b(Y);for(let te=0;te<q.length;te+=1)b(W[te]);J=!0}},o(X){v(l.$$.fragment,X),v(N),z=z.filter(Boolean);for(let te=0;te<z.length;te+=1)v(z[te]);v(Y),W=W.filter(Boolean);for(let te=0;te<W.length;te+=1)v(W[te]);J=!1},d(X){X&&h(e),G(l),X&&h(r),X&&h(f),N&&N.d(),ce(z,X),Y&&Y.d(),ce(W,X),H&&H.d()}}}function nT(i,e,l){var u,c,m;const t=it("data");let{item:n}=e;const o=(u=n.deconstruct)!=null&&u.items?t.flattenItemGroup({subtype:"collection",entries:typeof n.deconstruct.items=="string"?[{group:n.deconstruct.items}]:n.deconstruct.items}):[],r=(c=n.bash)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof n.bash.items=="string"?[{group:n.bash.items}]:n.bash.items}):[],f=[["Deconstruct",o],["Bash",r]],a=new Map;for(const{seasons:$,id:k}of(m=n.harvest_by_season)!=null?m:[])for(const y of $)a.set(y,k);const s=$=>a.has($);return i.$$set=$=>{"item"in $&&l(0,n=$.item)},[n,t,f,a,s]}class iT extends Xe{constructor(e){super(),Ve(this,e,nT,lT,je,{item:0})}}function rT(i){let e;return{c(){e=p("p"),e.textContent="There are no weapons in this category.",Je(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function oT(i){let e,l;return e=new st({props:{items:i[1],$$slots:{default:[fT,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&17&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function fT(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function sT(i){let e;return{c(){e=p("p"),e.textContent="There are no martial arts that use this weapon category.",Je(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function aT(i){let e,l;return e=new st({props:{items:i[2],$$slots:{default:[uT,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&17&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function uT(i){let e,l,t,n;return e=new et({props:{item:i[0]}}),t=new ue({props:{type:"martial_art",id:i[0].id}}),{c(){U(e.$$.fragment),l=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),g(o,l,r),L(t,o,r),n=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){n||(b(e.$$.fragment,o),b(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){G(e,o),o&&h(l),G(t,o)}}}function cT(i){let e,l,t=be(i[0])+"",n,o,r,f,a,s,u,c,m,$,k,y,T,E;const S=[oT,rT],C=[];function R(B,M){return B[1].length?0:1}s=R(i),u=C[s]=S[s](i);const D=[aT,sT],O=[];function A(B,M){return B[2].length?0:1}return y=A(i),T=O[y]=D[y](i),{c(){e=p("h1"),l=w("Weapon Category: "),n=w(t),o=I(),r=p("section"),f=p("h1"),f.textContent="Weapons",a=I(),u.c(),c=I(),m=p("section"),$=p("h1"),$.textContent="Martial Arts",k=I(),T.c()},m(B,M){g(B,e,M),d(e,l),d(e,n),g(B,o,M),g(B,r,M),d(r,f),d(r,a),C[s].m(r,null),g(B,c,M),g(B,m,M),d(m,$),d(m,k),O[y].m(m,null),E=!0},p(B,[M]){(!E||M&1)&&t!==(t=be(B[0])+"")&&P(n,t),u.p(B,M),T.p(B,M)},i(B){E||(b(u),b(T),E=!0)},o(B){v(u),v(T),E=!1},d(B){B&&h(e),B&&h(o),B&&h(r),C[s].d(),B&&h(c),B&&h(m),O[y].d()}}}function _T(i,e,l){let{item:t}=e;const n=it("data"),o=n.byType("item").filter(f=>f.id).filter(f=>{var a;return((a=f.weapon_category)!=null?a:[]).some(s=>s===t.id)});o.sort((f,a)=>be(f).localeCompare(be(a)));const r=n.byType("martial_art").filter(f=>f.id).filter(f=>{var a;return(a=f.weapon_category)==null?void 0:a.some(s=>s===t.id)});return r.sort((f,a)=>be(f).localeCompare(be(a))),i.$$set=f=>{"item"in f&&l(0,t=f.item)},[t,o,r]}class dT extends Xe{constructor(e){super(),Ve(this,e,_T,cT,je,{item:0})}}function ep(i,e,l){const t=i.slice();return t[3]=e[l],t}function tp(i){let e,l;return e=new Ch({props:{construction:i[3]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function mT(i){let e,l=be(i[0])+"",t,n,o,r,f=i[1],a=[];for(let u=0;u<f.length;u+=1)a[u]=tp(ep(i,f,u));const s=u=>v(a[u],1,1,()=>{a[u]=null});return{c(){e=p("h1"),t=w(l),n=I();for(let u=0;u<a.length;u+=1)a[u].c();o=ne()},m(u,c){g(u,e,c),d(e,t),g(u,n,c);for(let m=0;m<a.length;m+=1)a[m].m(u,c);g(u,o,c),r=!0},p(u,[c]){if((!r||c&1)&&l!==(l=be(u[0])+"")&&P(t,l),c&2){f=u[1];let m;for(m=0;m<f.length;m+=1){const $=ep(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=tp($),a[m].c(),b(a[m],1),a[m].m(o.parentNode,o))}for(Z(),m=f.length;m<a.length;m+=1)s(m);Q()}},i(u){if(!r){for(let c=0;c<f.length;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)v(a[c]);r=!1},d(u){u&&h(e),u&&h(n),ce(a,u),u&&h(o)}}}function pT(i,e,l){let{item:t}=e;const o=it("data").byType("construction").filter(r=>r.group===t.id);return i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,o]}class hT extends Xe{constructor(e){super(),Ve(this,e,pT,mT,je,{item:0})}}function lp(i,e,l){const t=i.slice();return t[3]=e[l],t}function np(i,e,l){const t=i.slice();return t[6]=e[l],t}function ip(i,e,l){const t=i.slice();return t[9]=e[l],t}function rp(i){let e,l=i[0].description+"",t;return{c(){e=p("p"),t=w(l),Je(e,"color","var(--cata-color-gray)")},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=n[0].description+"")&&P(t,l)},d(n){n&&h(e)}}}function op(i){let e,l,t,n,o,r=[i[0].hidden_by].flat(),f=[];for(let s=0;s<r.length;s+=1)f[s]=fp(ip(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Hidden By",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated and")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&1){r=[s[0].hidden_by].flat();let c;for(c=0;c<r.length;c+=1){const m=ip(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=fp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function fp(i){let e,l,t;return l=new ue({props:{type:i[0].type,id:i[9]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.type=n[0].type),o&1&&(r.id=n[9]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function gT(i){let e,l,t,n,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=sp(np(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Unlocks",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated and")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u&5){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=np(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=sp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function sp(i){let e,l,t;return l=new ue({props:{type:i[0].type,id:i[6].id}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.type=n[0].type),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function ap(i){var y;let e,l,t,n,o=i[0].time_constraint.since+"",r,f,a,s=i[0].time_constraint.is+"",u,c,m=((y=i[0].time_constraint.target)!=null?y:"")+"",$,k;return{c(){e=p("dt"),e.textContent="Time Constraint",l=p("dd"),t=w("Time since "),n=p("strong"),r=w(o),f=w(` is
        `),a=p("strong"),u=w(s),c=I(),$=w(m),k=I()},m(T,E){g(T,e,E),g(T,l,E),d(l,t),d(l,n),d(n,r),d(l,f),d(l,a),d(a,u),d(a,c),d(a,$),d(l,k)},p(T,E){var S;E&1&&o!==(o=T[0].time_constraint.since+"")&&P(r,o),E&1&&s!==(s=T[0].time_constraint.is+"")&&P(u,s),E&1&&m!==(m=((S=T[0].time_constraint.target)!=null?S:"")+"")&&P($,m)},d(T){T&&h(e),T&&h(l)}}}function bT(i){var c;let e,l=Po(i[1].byId("event_statistic",i[3].event_statistic).description)+"",t,n,o,r=i[3].is+"",f,a,s=((c=i[3].target)!=null?c:"")+"",u;return{c(){e=p("strong"),t=w(l),n=w(`
              is `),o=p("strong"),f=w(r),a=I(),u=w(s)},m(m,$){g(m,e,$),d(e,t),g(m,n,$),g(m,o,$),d(o,f),d(o,a),d(o,u)},p(m,$){var k;$&1&&l!==(l=Po(m[1].byId("event_statistic",m[3].event_statistic).description)+"")&&P(t,l),$&1&&r!==(r=m[3].is+"")&&P(f,r),$&1&&s!==(s=((k=m[3].target)!=null?k:"")+"")&&P(u,s)},d(m){m&&h(e),m&&h(n),m&&h(o)}}}function $T(i){let e,l=i[3].description+"",t;return{c(){e=p("strong"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p(n,o){o&1&&l!==(l=n[3].description+"")&&P(t,l)},d(n){n&&h(e)}}}function up(i){let e,l;function t(r,f){return r[3].description?$T:bT}let n=t(i),o=n(i);return{c(){e=p("li"),o.c(),l=I()},m(r,f){g(r,e,f),o.m(e,null),d(e,l)},p(r,f){n===(n=t(r))&&o?o.p(r,f):(o.d(1),o=n(r),o&&(o.c(),o.m(e,l)))},d(r){r&&h(e),o.d()}}}function vT(i){let e,l=i[0].type==="achievement"?"Achievement":"Conduct",t,n,o=be(i[0])+"",r,f,a,s,u,c,m,$,k,y,T,E=i[0].description&&rp(i),S=i[0].hidden_by&&op(i),C=i[2].length&&gT(i),R=i[0].time_constraint&&ap(i),D=i[0].requirements,O=[];for(let A=0;A<D.length;A+=1)O[A]=up(lp(i,D,A));return{c(){e=p("h1"),t=w(l),n=w(": "),r=w(o),f=I(),a=p("section"),E&&E.c(),s=I(),u=p("dl"),S&&S.c(),c=ne(),C&&C.c(),m=ne(),R&&R.c(),$=p("dt"),$.textContent="Requirements",k=p("dd"),y=p("ul");for(let A=0;A<O.length;A+=1)O[A].c()},m(A,B){g(A,e,B),d(e,t),d(e,n),d(e,r),g(A,f,B),g(A,a,B),E&&E.m(a,null),d(a,s),d(a,u),S&&S.m(u,null),d(u,c),C&&C.m(u,null),d(u,m),R&&R.m(u,null),d(u,$),d(u,k),d(k,y);for(let M=0;M<O.length;M+=1)O[M].m(y,null);T=!0},p(A,[B]){if((!T||B&1)&&l!==(l=A[0].type==="achievement"?"Achievement":"Conduct")&&P(t,l),(!T||B&1)&&o!==(o=be(A[0])+"")&&P(r,o),A[0].description?E?E.p(A,B):(E=rp(A),E.c(),E.m(a,s)):E&&(E.d(1),E=null),A[0].hidden_by?S?(S.p(A,B),B&1&&b(S,1)):(S=op(A),S.c(),b(S,1),S.m(u,c)):S&&(Z(),v(S,1,1,()=>{S=null}),Q()),A[2].length&&C.p(A,B),A[0].time_constraint?R?R.p(A,B):(R=ap(A),R.c(),R.m(u,$)):R&&(R.d(1),R=null),B&3){D=A[0].requirements;let M;for(M=0;M<D.length;M+=1){const V=lp(A,D,M);O[M]?O[M].p(V,B):(O[M]=up(V),O[M].c(),O[M].m(y,null))}for(;M<O.length;M+=1)O[M].d(1);O.length=D.length}},i(A){T||(b(S),b(C),T=!0)},o(A){v(S),v(C),T=!1},d(A){A&&h(e),A&&h(f),A&&h(a),E&&E.d(),S&&S.d(),C&&C.d(),R&&R.d(),ce(O,A)}}}function kT(i,e,l){let{item:t}=e;const n=it("data"),o=n.byType("achievement").filter(r=>{var f;return r.id!==t.id&&[(f=r.hidden_by)!=null?f:[]].flat().includes(t.id)});return i.$$set=r=>{"item"in r&&l(0,t=r.item)},[t,n,o]}class cp extends Xe{constructor(e){super(),Ve(this,e,kT,vT,je,{item:0})}}function yT(i){let e,l,t=kl(i[0].type)+"",n,o,r,f;return{c(){e=p("section"),l=w("\u26A0\uFE0F This "),n=w(t),o=w(" is marked as "),r=p("em"),r.textContent="obsolete",f=w(`, meaning that it
  is likely not possible to obtain in this version.`),fe(e,"class","obsoletion-warning svelte-tb1bo")},m(a,s){g(a,e,s),d(e,l),d(e,n),d(e,o),d(e,r),d(e,f)},p(a,[s]){s&1&&t!==(t=kl(a[0].type)+"")&&P(n,t)},i:x,o:x,d(a){a&&h(e)}}}function wT(i,e,l){let{item:t}=e;return i.$$set=n=>{"item"in n&&l(0,t=n.item)},[t]}class ET extends Xe{constructor(e){super(),Ve(this,e,wT,yT,je,{item:0})}}function _p(i,e,l){const t=i.slice();return t[2]=e[l],t}function dp(i,e,l){const t=i.slice();return t[2]=e[l],t}function mp(i,e,l){const t=i.slice();return t[7]=e[l],t}function pp(i,e,l){const t=i.slice();return t[7]=e[l],t}function hp(i,e,l){const t=i.slice();return t[12]=e[l],t}function gp(i,e,l){const t=i.slice();return t[15]=e[l],t}function bp(i,e,l){const t=i.slice();return t[15]=e[l],t}function $p(i,e,l){const t=i.slice();return t[20]=e[l],t}function vp(i,e,l){const t=i.slice();return t[23]=e[l][0],t[24]=e[l][1],t}function kp(i,e,l){const t=i.slice();return t[27]=e[l][0],t[28]=e[l][1],t}function yp(i,e,l){const t=i.slice();return t[27]=e[l][0],t[31]=e[l][1],t}function TT(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function ST(i){let e,l=i[0].occupied_bodyparts,t=[];for(let n=0;n<l.length;n+=1)t[n]=wp(yp(i,l,n));return{c(){e=p("ul");for(let n=0;n<t.length;n+=1)t[n].c();fe(e,"class","comma-separated")},m(n,o){g(n,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(n,o){if(o[0]&3){l=n[0].occupied_bodyparts;let r;for(r=0;r<l.length;r+=1){const f=yp(n,l,r);t[r]?t[r].p(f,o):(t[r]=wp(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){n&&h(e),ce(t,n)}}}function wp(i){let e,l=be(i[1].byId("body_part",i[27]))+"",t,n,o=i[31]+"",r,f,a=i[31]===1?"slot":"slots",s,u;return{c(){e=p("li"),t=w(l),n=w(" ("),r=w(o),f=I(),s=w(a),u=w(`)
            `)},m(c,m){g(c,e,m),d(e,t),d(e,n),d(e,r),d(e,f),d(e,s),d(e,u)},p(c,m){m[0]&1&&l!==(l=be(c[1].byId("body_part",c[27]))+"")&&P(t,l),m[0]&1&&o!==(o=c[31]+"")&&P(r,o),m[0]&1&&a!==(a=c[31]===1?"slot":"slots")&&P(s,a)},d(c){c&&h(e)}}}function Ep(i){let e,l,t,n,o=i[0].encumbrance,r=[];for(let f=0;f<o.length;f+=1)r[f]=Tp(kp(i,o,f));return{c(){e=p("dt"),e.textContent="Encumbrance",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&3){o=f[0].encumbrance;let s;for(s=0;s<o.length;s+=1){const u=kp(f,o,s);r[s]?r[s].p(u,a):(r[s]=Tp(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),ce(r,f)}}}function Tp(i){let e,l=be(i[1].byId("body_part",i[27]))+"",t,n,o=i[28]+"",r,f;return{c(){e=p("li"),t=w(l),n=w(" ("),r=w(o),f=w(")")},m(a,s){g(a,e,s),d(e,t),d(e,n),d(e,r),d(e,f)},p(a,s){s[0]&1&&l!==(l=be(a[1].byId("body_part",a[27]))+"")&&P(t,l),s[0]&1&&o!==(o=a[28]+"")&&P(r,o)},d(a){a&&h(e)}}}function Sp(i){let e,l,t,n,o=i[0].stat_bonus,r=[];for(let f=0;f<o.length;f+=1)r[f]=Cp(vp(i,o,f));return{c(){e=p("dt"),e.textContent="Stat Bonuses",l=p("dd"),t=p("ul");for(let f=0;f<r.length;f+=1)r[f].c();n=I(),fe(t,"class","comma-separated")},m(f,a){g(f,e,a),g(f,l,a),d(l,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(l,n)},p(f,a){if(a[0]&1){o=f[0].stat_bonus;let s;for(s=0;s<o.length;s+=1){const u=vp(f,o,s);r[s]?r[s].p(u,a):(r[s]=Cp(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&h(e),f&&h(l),ce(r,f)}}}function Cp(i){let e,l=i[24]>=0?`+${i[24]}`:`\u2013${-i[24]}`,t,n,o=i[23]+"",r;return{c(){e=p("li"),t=w(l),n=I(),r=w(o)},m(f,a){g(f,e,a),d(e,t),d(e,n),d(e,r)},p(f,a){a[0]&1&&l!==(l=f[24]>=0?`+${f[24]}`:`\u2013${-f[24]}`)&&P(t,l),a[0]&1&&o!==(o=f[23]+"")&&P(r,o)},d(f){f&&h(e)}}}function Ip(i){let e,l;return{c(){e=p("dt"),e.textContent="Removable",l=p("dd"),l.textContent="no"},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function Rp(i){let e,l,t=i[0].act_cost+"",n;return{c(){e=p("dt"),e.textContent="Activation Cost",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].act_cost+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Np(i){let e,l,t=i[0].trigger_cost+"",n;return{c(){e=p("dt"),e.textContent="Trigger Cost",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].trigger_cost+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Op(i){let e,l,t=i[0].react_cost+"",n;return{c(){e=p("dt"),e.textContent="Power Over Time",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].react_cost+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Bp(i){let e,l,t=(i[0].vitamin_absorb_mod*100).toFixed(0)+"",n,o;return{c(){e=p("dt"),e.textContent="Vitamin Absorption Modifier",l=p("dd"),n=w(t),o=w("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f[0]&1&&t!==(t=(r[0].vitamin_absorb_mod*100).toFixed(0)+"")&&P(n,t)},d(r){r&&h(e),r&&h(l)}}}function Ap(i){let e,l,t,n,o,r=i[0].fuel_options,f=[];for(let s=0;s<r.length;s+=1)f[s]=Mp($p(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Fuel",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].fuel_options;let c;for(c=0;c<r.length;c+=1){const m=$p(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Mp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Mp(i){let e,l,t;return l=new ue({props:{type:"material",id:i[20]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[20]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Dp(i){let e,l,t=i[0].fuel_capacity+"",n;return{c(){e=p("dt"),e.textContent="Fuel Capacity",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].fuel_capacity+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Lp(i){let e,l,t=i[0].fuel_efficiency*100+"",n,o;return{c(){e=p("dt"),e.textContent="Fuel Efficiency",l=p("dd"),n=w(t),o=w("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f[0]&1&&t!==(t=r[0].fuel_efficiency*100+"")&&P(n,t)},d(r){r&&h(e),r&&h(l)}}}function Gp(i){let e,l,t=i[0].passive_fuel_efficiency*100+"",n,o;return{c(){e=p("dt"),e.textContent="Passive Fuel Efficiency",l=p("dd"),n=w(t),o=w("%")},m(r,f){g(r,e,f),g(r,l,f),d(l,n),d(l,o)},p(r,f){f[0]&1&&t!==(t=r[0].passive_fuel_efficiency*100+"")&&P(n,t)},d(r){r&&h(e),r&&h(l)}}}function Up(i){let e,l;return{c(){e=p("dt"),e.textContent="Emits Heat",l=p("dd"),l.textContent="yes"},m(t,n){g(t,e,n),g(t,l,n)},d(t){t&&h(e),t&&h(l)}}}function qp(i){let e,l,t=i[0].power_trickle+"",n;return{c(){e=p("dt"),e.textContent="Power Trickle",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].power_trickle+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Pp(i){let e,l,t=i[0].time+"",n,o,r=i[0].time!==1?"s":"",f;return{c(){e=p("dt"),e.textContent="Charge Time",l=p("dd"),n=w(t),o=w(" turn"),f=w(r)},m(a,s){g(a,e,s),g(a,l,s),d(l,n),d(l,o),d(l,f)},p(a,s){s[0]&1&&t!==(t=a[0].time+"")&&P(n,t),s[0]&1&&r!==(r=a[0].time!==1?"s":"")&&P(f,r)},d(a){a&&h(e),a&&h(l)}}}function Fp(i){let e,l,t=i[0].capacity+"",n;return{c(){e=p("dt"),e.textContent="Capacity",l=p("dd"),n=w(t)},m(o,r){g(o,e,r),g(o,l,r),d(l,n)},p(o,r){r[0]&1&&t!==(t=o[0].capacity+"")&&P(n,t)},d(o){o&&h(e),o&&h(l)}}}function Yp(i){let e,l,t,n;return t=new ue({props:{type:"item",id:i[0].fake_weapon}}),{c(){e=p("dt"),e.textContent="Acts As",l=p("dd"),U(t.$$.fragment)},m(o,r){g(o,e,r),g(o,l,r),L(t,l,null),n=!0},p(o,r){const f={};r[0]&1&&(f.id=o[0].fake_weapon),t.$set(f)},i(o){n||(b(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(e),o&&h(l),G(t)}}}function jp(i){let e,l,t,n,o,r=i[0].toggled_pseudo_items,f=[];for(let s=0;s<r.length;s+=1)f[s]=Hp(bp(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Acts As",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].toggled_pseudo_items;let c;for(c=0;c<r.length;c+=1){const m=bp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Hp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Hp(i){let e,l,t;return l=new ue({props:{type:"item",id:i[15]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[15]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Wp(i){let e,l,t,n,o,r=i[0].passive_pseudo_items,f=[];for(let s=0;s<r.length;s+=1)f[s]=zp(gp(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Acts As",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].passive_pseudo_items;let c;for(c=0;c<r.length;c+=1){const m=gp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=zp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function zp(i){let e,l,t;return l=new ue({props:{type:"item",id:i[15]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[15]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Vp(i){let e,l,t,n,o,r=i[0].included_bionics,f=[];for(let s=0;s<r.length;s+=1)f[s]=Xp(hp(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Includes",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].included_bionics;let c;for(c=0;c<r.length;c+=1){const m=hp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Xp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Xp(i){let e,l,t;return l=new ue({props:{type:"bionic",id:i[12]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[12]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function CT(i){let e;return{c(){e=p("em"),e.textContent="none"},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function IT(i){let e,l,t=i[0].flags,n=[];for(let r=0;r<t.length;r+=1)n[r]=Jp(pp(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){e=p("ul");for(let r=0;r<n.length;r+=1)n[r].c();fe(e,"class","comma-separated")},m(r,f){g(r,e,f);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(r,f){if(f[0]&1){t=r[0].flags;let a;for(a=0;a<t.length;a+=1){const s=pp(r,t,a);n[a]?(n[a].p(s,f),b(n[a],1)):(n[a]=Jp(s),n[a].c(),b(n[a],1),n[a].m(e,null))}for(Z(),a=t.length;a<n.length;a+=1)o(a);Q()}},i(r){if(!l){for(let f=0;f<t.length;f+=1)b(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(r){r&&h(e),ce(n,r)}}}function Jp(i){let e,l,t;return l=new ue({props:{type:"json_flag",id:i[7]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[7]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Kp(i){let e,l,t,n,o,r=i[0].active_flags,f=[];for(let s=0;s<r.length;s+=1)f[s]=Zp(mp(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Flags When Active",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&1){r=s[0].active_flags;let c;for(c=0;c<r.length;c+=1){const m=mp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Zp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function Zp(i){let e,l,t;return l=new ue({props:{type:"json_flag",id:i[7]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[7]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function Qp(i){let e,l,t,n,o,r=i[0].mutation_conflicts,f=[];for(let s=0;s<r.length;s+=1)f[s]=e1(dp(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("dt"),e.textContent="Conflicts With Mutations",l=p("dd"),t=p("ul");for(let s=0;s<f.length;s+=1)f[s].c();n=I(),fe(t,"class","comma-separated")},m(s,u){g(s,e,u),g(s,l,u),d(l,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(l,n),o=!0},p(s,u){if(u[0]&3){r=s[0].mutation_conflicts;let c;for(c=0;c<r.length;c+=1){const m=dp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=e1(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(l),ce(f,s)}}}function xp(i){let e,l,t;return l=new ue({props:{type:"mutation",id:i[2]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[2]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function e1(i){let e=i[1].byId("mutation",i[2]),l,t,n=e&&xp(i);return{c(){n&&n.c(),l=ne()},m(o,r){n&&n.m(o,r),g(o,l,r),t=!0},p(o,r){r[0]&1&&(e=o[1].byId("mutation",o[2])),e?n?(n.p(o,r),r[0]&1&&b(n,1)):(n=xp(o),n.c(),b(n,1),n.m(l.parentNode,l)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(o){t||(b(n),t=!0)},o(o){v(n),t=!1},d(o){n&&n.d(o),o&&h(l)}}}function t1(i){let e,l,t,n,o=i[0].canceled_mutations,r=[];for(let a=0;a<o.length;a+=1)r[a]=n1(_p(i,o,a));const f=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){e=p("dt"),e.textContent="Removes Mutations",l=p("dd"),t=p("ul");for(let a=0;a<r.length;a+=1)r[a].c();fe(t,"class","comma-separated")},m(a,s){g(a,e,s),g(a,l,s),d(l,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);n=!0},p(a,s){if(s[0]&3){o=a[0].canceled_mutations;let u;for(u=0;u<o.length;u+=1){const c=_p(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=n1(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(Z(),u=o.length;u<r.length;u+=1)f(u);Q()}},i(a){if(!n){for(let s=0;s<o.length;s+=1)b(r[s]);n=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)v(r[s]);n=!1},d(a){a&&h(e),a&&h(l),ce(r,a)}}}function l1(i){let e,l,t;return l=new ue({props:{type:"mutation",id:i[2]}}),{c(){e=p("li"),U(l.$$.fragment)},m(n,o){g(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.id=n[2]),l.$set(r)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),G(l)}}}function n1(i){let e=i[1].byId("mutation",i[2]),l,t,n=e&&l1(i);return{c(){n&&n.c(),l=ne()},m(o,r){n&&n.m(o,r),g(o,l,r),t=!0},p(o,r){r[0]&1&&(e=o[1].byId("mutation",o[2])),e?n?(n.p(o,r),r[0]&1&&b(n,1)):(n=l1(o),n.c(),b(n,1),n.m(l.parentNode,l)):n&&(Z(),v(n,1,1,()=>{n=null}),Q())},i(o){t||(b(n),t=!0)},o(o){v(n),t=!1},d(o){n&&n.d(o),o&&h(l)}}}function RT(i){var Ht,al,St,tt,nt;let e,l=be(i[0])+"",t,n,o,r,f,a,s,u,c,m,$,k,y,T,E,S,C,R,D,O,A,B,M,V,J,N,j,z,F,Y=i[0].dupes_allowed?"yes":"no",q,W,re,H,K,ee,ie,X,te,me,Ge=Vt(i[0].description)+"",Ie,ae;function ke(Le,We){return Le[0].occupied_bodyparts?ST:TT}let Ee=ke(i),de=Ee(i),Ue=i[0].encumbrance&&Ep(i),Ce=i[0].stat_bonus&&Sp(i),ge=i[0].cant_remove_reason&&Ip(),$e=i[0].act_cost&&Rp(i),xe=i[0].trigger_cost&&Np(i),se=i[0].react_cost&&Op(i),ye=((Ht=i[0].vitamin_absorb_mod)!=null?Ht:1)!==1&&Bp(i),ze=((al=i[0].fuel_options)==null?void 0:al.length)&&Ap(i),Ne=i[0].fuel_capacity&&Dp(i),Me=i[0].fuel_efficiency&&Lp(i),Se=i[0].passive_fuel_efficiency&&Gp(i),ve=i[0].exothermic_power_gen&&Up(),Ae=i[0].power_trickle&&qp(i),Pe=i[0].time&&Pp(i),Fe=i[0].capacity&&Fp(i),Be=i[0].fake_weapon&&Yp(i),oe=((St=i[0].toggled_pseudo_items)==null?void 0:St.length)&&jp(i),Te=((tt=i[0].passive_pseudo_items)==null?void 0:tt.length)&&Wp(i),Re=((nt=i[0].included_bionics)==null?void 0:nt.length)&&Vp(i);const we=[IT,CT],Ke=[];function Tt(Le,We){var kt;return(kt=Le[0].flags)!=null&&kt.length?0:1}H=Tt(i),K=Ke[H]=we[H](i);let dt=i[0].active_flags&&Kp(i),ct=i[0].mutation_conflicts&&Qp(i),gt=i[0].canceled_mutations&&t1(i);return{c(){e=p("h1"),t=w(l),n=I(),o=p("section"),r=p("h1"),r.textContent="General",f=I(),a=p("dl"),s=p("dt"),s.textContent="Occupied Body Parts",u=p("dd"),de.c(),c=I(),Ue&&Ue.c(),m=ne(),Ce&&Ce.c(),$=ne(),ge&&ge.c(),k=ne(),$e&&$e.c(),y=ne(),xe&&xe.c(),T=ne(),se&&se.c(),E=ne(),ye&&ye.c(),S=ne(),ze&&ze.c(),C=ne(),Ne&&Ne.c(),R=ne(),Me&&Me.c(),D=ne(),Se&&Se.c(),O=ne(),ve&&ve.c(),A=ne(),Ae&&Ae.c(),B=ne(),Pe&&Pe.c(),M=ne(),Fe&&Fe.c(),V=ne(),Be&&Be.c(),J=ne(),oe&&oe.c(),N=ne(),Te&&Te.c(),j=ne(),Re&&Re.c(),z=p("dt"),z.textContent="Duplicates Allowed",F=p("dd"),q=w(Y),W=p("dt"),W.textContent="Flags",re=p("dd"),K.c(),ee=I(),dt&&dt.c(),ie=ne(),ct&&ct.c(),X=ne(),gt&&gt.c(),te=I(),me=p("p"),Ie=w(Ge),Je(me,"color","var(--cata-color-gray)")},m(Le,We){g(Le,e,We),d(e,t),g(Le,n,We),g(Le,o,We),d(o,r),d(o,f),d(o,a),d(a,s),d(a,u),de.m(u,null),d(u,c),Ue&&Ue.m(a,null),d(a,m),Ce&&Ce.m(a,null),d(a,$),ge&&ge.m(a,null),d(a,k),$e&&$e.m(a,null),d(a,y),xe&&xe.m(a,null),d(a,T),se&&se.m(a,null),d(a,E),ye&&ye.m(a,null),d(a,S),ze&&ze.m(a,null),d(a,C),Ne&&Ne.m(a,null),d(a,R),Me&&Me.m(a,null),d(a,D),Se&&Se.m(a,null),d(a,O),ve&&ve.m(a,null),d(a,A),Ae&&Ae.m(a,null),d(a,B),Pe&&Pe.m(a,null),d(a,M),Fe&&Fe.m(a,null),d(a,V),Be&&Be.m(a,null),d(a,J),oe&&oe.m(a,null),d(a,N),Te&&Te.m(a,null),d(a,j),Re&&Re.m(a,null),d(a,z),d(a,F),d(F,q),d(a,W),d(a,re),Ke[H].m(re,null),d(re,ee),dt&&dt.m(a,null),d(a,ie),ct&&ct.m(a,null),d(a,X),gt&&gt.m(a,null),d(o,te),d(o,me),d(me,Ie),ae=!0},p(Le,We){var _t,At,yt,mt,at;(!ae||We[0]&1)&&l!==(l=be(Le[0])+"")&&P(t,l),Ee===(Ee=ke(Le))&&de?de.p(Le,We):(de.d(1),de=Ee(Le),de&&(de.c(),de.m(u,c))),Le[0].encumbrance?Ue?Ue.p(Le,We):(Ue=Ep(Le),Ue.c(),Ue.m(a,m)):Ue&&(Ue.d(1),Ue=null),Le[0].stat_bonus?Ce?Ce.p(Le,We):(Ce=Sp(Le),Ce.c(),Ce.m(a,$)):Ce&&(Ce.d(1),Ce=null),Le[0].cant_remove_reason?ge||(ge=Ip(),ge.c(),ge.m(a,k)):ge&&(ge.d(1),ge=null),Le[0].act_cost?$e?$e.p(Le,We):($e=Rp(Le),$e.c(),$e.m(a,y)):$e&&($e.d(1),$e=null),Le[0].trigger_cost?xe?xe.p(Le,We):(xe=Np(Le),xe.c(),xe.m(a,T)):xe&&(xe.d(1),xe=null),Le[0].react_cost?se?se.p(Le,We):(se=Op(Le),se.c(),se.m(a,E)):se&&(se.d(1),se=null),((_t=Le[0].vitamin_absorb_mod)!=null?_t:1)!==1?ye?ye.p(Le,We):(ye=Bp(Le),ye.c(),ye.m(a,S)):ye&&(ye.d(1),ye=null),(At=Le[0].fuel_options)!=null&&At.length?ze?(ze.p(Le,We),We[0]&1&&b(ze,1)):(ze=Ap(Le),ze.c(),b(ze,1),ze.m(a,C)):ze&&(Z(),v(ze,1,1,()=>{ze=null}),Q()),Le[0].fuel_capacity?Ne?Ne.p(Le,We):(Ne=Dp(Le),Ne.c(),Ne.m(a,R)):Ne&&(Ne.d(1),Ne=null),Le[0].fuel_efficiency?Me?Me.p(Le,We):(Me=Lp(Le),Me.c(),Me.m(a,D)):Me&&(Me.d(1),Me=null),Le[0].passive_fuel_efficiency?Se?Se.p(Le,We):(Se=Gp(Le),Se.c(),Se.m(a,O)):Se&&(Se.d(1),Se=null),Le[0].exothermic_power_gen?ve||(ve=Up(),ve.c(),ve.m(a,A)):ve&&(ve.d(1),ve=null),Le[0].power_trickle?Ae?Ae.p(Le,We):(Ae=qp(Le),Ae.c(),Ae.m(a,B)):Ae&&(Ae.d(1),Ae=null),Le[0].time?Pe?Pe.p(Le,We):(Pe=Pp(Le),Pe.c(),Pe.m(a,M)):Pe&&(Pe.d(1),Pe=null),Le[0].capacity?Fe?Fe.p(Le,We):(Fe=Fp(Le),Fe.c(),Fe.m(a,V)):Fe&&(Fe.d(1),Fe=null),Le[0].fake_weapon?Be?(Be.p(Le,We),We[0]&1&&b(Be,1)):(Be=Yp(Le),Be.c(),b(Be,1),Be.m(a,J)):Be&&(Z(),v(Be,1,1,()=>{Be=null}),Q()),(yt=Le[0].toggled_pseudo_items)!=null&&yt.length?oe?(oe.p(Le,We),We[0]&1&&b(oe,1)):(oe=jp(Le),oe.c(),b(oe,1),oe.m(a,N)):oe&&(Z(),v(oe,1,1,()=>{oe=null}),Q()),(mt=Le[0].passive_pseudo_items)!=null&&mt.length?Te?(Te.p(Le,We),We[0]&1&&b(Te,1)):(Te=Wp(Le),Te.c(),b(Te,1),Te.m(a,j)):Te&&(Z(),v(Te,1,1,()=>{Te=null}),Q()),(at=Le[0].included_bionics)!=null&&at.length?Re?(Re.p(Le,We),We[0]&1&&b(Re,1)):(Re=Vp(Le),Re.c(),b(Re,1),Re.m(a,z)):Re&&(Z(),v(Re,1,1,()=>{Re=null}),Q()),(!ae||We[0]&1)&&Y!==(Y=Le[0].dupes_allowed?"yes":"no")&&P(q,Y);let kt=H;H=Tt(Le),H===kt?Ke[H].p(Le,We):(Z(),v(Ke[kt],1,1,()=>{Ke[kt]=null}),Q(),K=Ke[H],K?K.p(Le,We):(K=Ke[H]=we[H](Le),K.c()),b(K,1),K.m(re,ee)),Le[0].active_flags?dt?(dt.p(Le,We),We[0]&1&&b(dt,1)):(dt=Kp(Le),dt.c(),b(dt,1),dt.m(a,ie)):dt&&(Z(),v(dt,1,1,()=>{dt=null}),Q()),Le[0].mutation_conflicts?ct?(ct.p(Le,We),We[0]&1&&b(ct,1)):(ct=Qp(Le),ct.c(),b(ct,1),ct.m(a,X)):ct&&(Z(),v(ct,1,1,()=>{ct=null}),Q()),Le[0].canceled_mutations?gt?(gt.p(Le,We),We[0]&1&&b(gt,1)):(gt=t1(Le),gt.c(),b(gt,1),gt.m(a,null)):gt&&(Z(),v(gt,1,1,()=>{gt=null}),Q()),(!ae||We[0]&1)&&Ge!==(Ge=Vt(Le[0].description)+"")&&P(Ie,Ge)},i(Le){ae||(b(ze),b(Be),b(oe),b(Te),b(Re),b(K),b(dt),b(ct),b(gt),ae=!0)},o(Le){v(ze),v(Be),v(oe),v(Te),v(Re),v(K),v(dt),v(ct),v(gt),ae=!1},d(Le){Le&&h(e),Le&&h(n),Le&&h(o),de.d(),Ue&&Ue.d(),Ce&&Ce.d(),ge&&ge.d(),$e&&$e.d(),xe&&xe.d(),se&&se.d(),ye&&ye.d(),ze&&ze.d(),Ne&&Ne.d(),Me&&Me.d(),Se&&Se.d(),ve&&ve.d(),Ae&&Ae.d(),Pe&&Pe.d(),Fe&&Fe.d(),Be&&Be.d(),oe&&oe.d(),Te&&Te.d(),Re&&Re.d(),Ke[H].d(),dt&&dt.d(),ct&&ct.d(),gt&&gt.d()}}}function NT(i,e,l){let{item:t}=e;const n=it("data");return i.$$set=o=>{"item"in o&&l(0,t=o.item)},[t,n]}class OT extends Xe{constructor(e){super(),Ve(this,e,NT,RT,je,{item:0},null,[-1,-1])}}function BT(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function tr(){return!BT()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Jl(i,e){return i.require(e)}function AT(i){let e;try{e=Jl(jl,i)}catch{}try{const{cwd:l}=Jl(jl,"process");e=Jl(jl,`${l()}/node_modules/${i}`)}catch{}return e}var MT={};function Bt(){return tr()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:MT}function Qr(i,e,l){var t=l||Bt(),n=t.__SENTRY__=t.__SENTRY__||{},o=n[i]||(n[i]=e());return o}var Bh=Object.prototype.toString;function Ah(i){switch(Bh.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Hl(i,Error)}}function Rn(i,e){return Bh.call(i)===`[object ${e}]`}function Mh(i){return Rn(i,"ErrorEvent")}function i1(i){return Rn(i,"DOMError")}function DT(i){return Rn(i,"DOMException")}function wn(i){return Rn(i,"String")}function Dh(i){return i===null||typeof i!="object"&&typeof i!="function"}function En(i){return Rn(i,"Object")}function xr(i){return typeof Event!="undefined"&&Hl(i,Event)}function LT(i){return typeof Element!="undefined"&&Hl(i,Element)}function GT(i){return Rn(i,"RegExp")}function eo(i){return Boolean(i&&i.then&&typeof i.then=="function")}function UT(i){return En(i)&&"nativeEvent"in i&&"preventDefault"in i&&"stopPropagation"in i}function Lh(i){return typeof i=="number"&&i!==i}function Hl(i,e){try{return i instanceof e}catch{return!1}}function di(i,e){try{let f=i;var l=5,t=80,n=[];let a=0,s=0;var o=" > ",r=o.length;let u;for(;f&&a++<l&&(u=qT(f,e),!(u==="html"||a>1&&s+n.length*r+u.length>=t));)n.push(u),s+=u.length,f=f.parentNode;return n.reverse().join(o)}catch{return"<unknown>"}}function qT(i,e){var l=i,t=[];let n,o,r,f,a;if(!l||!l.tagName)return"";t.push(l.tagName.toLowerCase());var s=e&&e.length?e.filter(c=>l.getAttribute(c)).map(c=>[c,l.getAttribute(c)]):null;if(s&&s.length)s.forEach(c=>{t.push(`[${c[0]}="${c[1]}"]`)});else if(l.id&&t.push(`#${l.id}`),n=l.className,n&&wn(n))for(o=n.split(/\s+/),a=0;a<o.length;a++)t.push(`.${o[a]}`);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],f=l.getAttribute(r),f&&t.push(`[${r}="${f}"]`);return t.join("")}function PT(){var i=Bt();try{return i.document.location.href}catch{return""}}class dl extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var FT=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function YT(i){return i==="http"||i==="https"}function to(i,e=!1){const{host:l,path:t,pass:n,port:o,projectId:r,protocol:f,publicKey:a}=i;return`${f}://${a}${e&&n?`:${n}`:""}@${l}${o?`:${o}`:""}/${t&&`${t}/`}${r}`}function jT(i){var e=FT.exec(i);if(!e)throw new dl(`Invalid Sentry Dsn: ${i}`);const[l,t,n="",o,r="",f]=e.slice(1);let a="",s=f;var u=s.split("/");if(u.length>1&&(a=u.slice(0,-1).join("/"),s=u.pop()),s){var c=s.match(/^\d+/);c&&(s=c[0])}return Gh({host:o,pass:n,path:a,projectId:s,port:r,protocol:l,publicKey:t})}function Gh(i){return{protocol:i.protocol,publicKey:i.publicKey||"",pass:i.pass||"",host:i.host,port:i.port||"",path:i.path||"",projectId:i.projectId}}function HT(i){if(!(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__))return;const{port:e,projectId:l,protocol:t}=i;var n=["protocol","publicKey","host","projectId"];if(n.forEach(o=>{if(!i[o])throw new dl(`Invalid Sentry Dsn: ${o} missing`)}),!l.match(/^\d+$/))throw new dl(`Invalid Sentry Dsn: Invalid projectId ${l}`);if(!YT(t))throw new dl(`Invalid Sentry Dsn: Invalid protocol ${t}`);if(e&&isNaN(parseInt(e,10)))throw new dl(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function WT(i){var e=typeof i=="string"?jT(i):Gh(i);return HT(e),e}var zT=Bt(),VT="Sentry Logger ",Ji=["debug","info","warn","error","log","assert","trace"];function Uh(i){var e=Bt();if(!("console"in e))return i();var l=e.console,t={};Ji.forEach(n=>{var o=l[n]&&l[n].__sentry_original__;n in e.console&&o&&(t[n]=l[n],l[n]=o)});try{return i()}finally{Object.keys(t).forEach(n=>{l[n]=t[n]})}}function r1(){let i=!1;var e={enable:()=>{i=!0},disable:()=>{i=!1}};return typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Ji.forEach(l=>{e[l]=(...t)=>{i&&Uh(()=>{zT.console[l](`${VT}[${l}]:`,...t)})}}):Ji.forEach(l=>{e[l]=()=>{}}),e}let Ye;typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Ye=Qr("logger",r1):Ye=r1();function si(i,e=0){return typeof i!="string"||e===0||i.length<=e?i:`${i.substr(0,e)}...`}function o1(i,e){if(!Array.isArray(i))return"";var l=[];for(let n=0;n<i.length;n++){var t=i[n];try{l.push(String(t))}catch{l.push("[value cannot be serialized]")}}return l.join(e)}function mi(i,e){return wn(i)?GT(e)?e.test(i):typeof e=="string"?i.indexOf(e)!==-1:!1:!1}function ml(i,e,l){if(e in i){var t=i[e],n=l(t);if(typeof n=="function")try{qh(n,t)}catch{}i[e]=n}}function lo(i,e,l){Object.defineProperty(i,e,{value:l,writable:!0,configurable:!0})}function qh(i,e){var l=e.prototype||{};i.prototype=e.prototype=l,lo(i,"__sentry_original__",e)}function no(i){return i.__sentry_original__}function XT(i){return Object.keys(i).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`).join("&")}function Ph(i){if(Ah(i))return{message:i.message,name:i.name,stack:i.stack,...s1(i)};if(xr(i)){var e={type:i.type,target:f1(i.target),currentTarget:f1(i.currentTarget),...s1(i)};return typeof CustomEvent!="undefined"&&Hl(i,CustomEvent)&&(e.detail=i.detail),e}else return i}function f1(i){try{return LT(i)?di(i):Object.prototype.toString.call(i)}catch{return"<unknown>"}}function s1(i){if(typeof i=="object"&&i!==null){var e={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);return e}else return{}}function JT(i,e=40){var l=Object.keys(Ph(i));if(l.sort(),!l.length)return"[object has no keys]";if(l[0].length>=e)return si(l[0],e);for(let n=l.length;n>0;n--){var t=l.slice(0,n).join(", ");if(!(t.length>e))return n===l.length?t:si(t,e)}return""}function on(i){var e=new Map;return Lr(i,e)}function Lr(i,e){if(En(i)){var l=e.get(i);if(l!==void 0)return l;var t={};e.set(i,t);for(var n of Object.keys(i))typeof i[n]!="undefined"&&(t[n]=Lr(i[n],e));return t}if(Array.isArray(i)){var l=e.get(i);if(l!==void 0)return l;var t=[];return e.set(i,t),i.forEach(f=>{t.push(Lr(f,e))}),t}return i}var KT=50;function Fh(...i){var e=i.sort((l,t)=>l[0]-t[0]).map(l=>l[1]);return(l,t=0)=>{var n=[];for(var o of l.split(`
`).slice(t))for(var r of e){var f=r(o);if(f){n.push(f);break}}return QT(n)}}function ZT(i){return Array.isArray(i)?Fh(...i):i}function QT(i){if(!i.length)return[];let e=i;var l=e[0].function||"",t=e[e.length-1].function||"";return(l.indexOf("captureMessage")!==-1||l.indexOf("captureException")!==-1)&&(e=e.slice(1)),t.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,KT).map(n=>({...n,filename:n.filename||e[0].filename,function:n.function||"?"})).reverse()}var br="<anonymous>";function xl(i){try{return!i||typeof i!="function"?br:i.name||br}catch{return br}}function io(){if(!("fetch"in Bt()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Gr(i){return i&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(i.toString())}function xT(){if(!io())return!1;var i=Bt();if(Gr(i.fetch))return!0;let e=!1;var l=i.document;if(l&&typeof l.createElement=="function")try{var t=l.createElement("iframe");t.hidden=!0,l.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(e=Gr(t.contentWindow.fetch)),l.head.removeChild(t)}catch(n){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function eS(){var i=Bt(),e=i.chrome,l=e&&e.app&&e.app.runtime,t="history"in i&&!!i.history.pushState&&!!i.history.replaceState;return!l&&t}var jt=Bt(),ai={},a1={};function tS(i){if(!a1[i])switch(a1[i]=!0,i){case"console":lS();break;case"dom":cS();break;case"xhr":oS();break;case"fetch":nS();break;case"history":fS();break;case"error":_S();break;case"unhandledrejection":dS();break;default:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("unknown instrumentation type:",i);return}}function vl(i,e){ai[i]=ai[i]||[],ai[i].push(e),tS(i)}function Il(i,e){if(!(!i||!ai[i]))for(var l of ai[i]||[])try{l(e)}catch(t){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error(`Error while triggering instrumentation handler.
Type: ${i}
Name: ${xl(l)}
Error:`,t)}}function lS(){"console"in jt&&Ji.forEach(function(i){i in jt.console&&ml(jt.console,i,function(e){return function(...l){Il("console",{args:l,level:i}),e&&e.apply(jt.console,l)}})})}function nS(){!xT()||ml(jt,"fetch",function(i){return function(...e){var l={args:e,fetchData:{method:iS(e),url:rS(e)},startTimestamp:Date.now()};return Il("fetch",{...l}),i.apply(jt,e).then(t=>(Il("fetch",{...l,endTimestamp:Date.now(),response:t}),t),t=>{throw Il("fetch",{...l,endTimestamp:Date.now(),error:t}),t})}})}function iS(i=[]){return"Request"in jt&&Hl(i[0],Request)&&i[0].method?String(i[0].method).toUpperCase():i[1]&&i[1].method?String(i[1].method).toUpperCase():"GET"}function rS(i=[]){return typeof i[0]=="string"?i[0]:"Request"in jt&&Hl(i[0],Request)?i[0].url:String(i[0])}function oS(){if("XMLHttpRequest"in jt){var i=XMLHttpRequest.prototype;ml(i,"open",function(e){return function(...l){var t=this,n=l[1],o=t.__sentry_xhr__={method:wn(l[0])?l[0].toUpperCase():l[0],url:l[1]};wn(n)&&o.method==="POST"&&n.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var r=function(){if(t.readyState===4){try{o.status_code=t.status}catch{}Il("xhr",{args:l,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:t})}};return"onreadystatechange"in t&&typeof t.onreadystatechange=="function"?ml(t,"onreadystatechange",function(f){return function(...a){return r(),f.apply(t,a)}}):t.addEventListener("readystatechange",r),e.apply(t,l)}}),ml(i,"send",function(e){return function(...l){return this.__sentry_xhr__&&l[0]!==void 0&&(this.__sentry_xhr__.body=l[0]),Il("xhr",{args:l,startTimestamp:Date.now(),xhr:this}),e.apply(this,l)}})}}let Ti;function fS(){if(!eS())return;var i=jt.onpopstate;jt.onpopstate=function(...l){var t=jt.location.href,n=Ti;if(Ti=t,Il("history",{from:n,to:t}),i)try{return i.apply(this,l)}catch{}};function e(l){return function(...t){var n=t.length>2?t[2]:void 0;if(n){var o=Ti,r=String(n);Ti=r,Il("history",{from:o,to:r})}return l.apply(this,t)}}ml(jt.history,"pushState",e),ml(jt.history,"replaceState",e)}var sS=1e3;let Si,Ci;function aS(i,e){if(!i||i.type!==e.type)return!0;try{if(i.target!==e.target)return!0}catch{}return!1}function uS(i){if(i.type!=="keypress")return!1;try{var e=i.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function u1(i,e=!1){return l=>{if(!(!l||Ci===l)&&!uS(l)){var t=l.type==="keypress"?"input":l.type;Si===void 0?(i({event:l,name:t,global:e}),Ci=l):aS(Ci,l)&&(i({event:l,name:t,global:e}),Ci=l),clearTimeout(Si),Si=jt.setTimeout(()=>{Si=void 0},sS)}}}function cS(){if("document"in jt){var i=Il.bind(null,"dom"),e=u1(i,!0);jt.document.addEventListener("click",e,!1),jt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(l=>{var t=jt[l]&&jt[l].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(ml(t,"addEventListener",function(n){return function(o,r,f){if(o==="click"||o=="keypress")try{var a=this,s=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},u=s[o]=s[o]||{refCount:0};if(!u.handler){var c=u1(i);u.handler=c,n.call(this,o,c,f)}u.refCount+=1}catch{}return n.call(this,o,r,f)}}),ml(t,"removeEventListener",function(n){return function(o,r,f){if(o==="click"||o=="keypress")try{var a=this,s=a.__sentry_instrumentation_handlers__||{},u=s[o];u&&(u.refCount-=1,u.refCount<=0&&(n.call(this,o,u.handler,f),u.handler=void 0,delete s[o]),Object.keys(s).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return n.call(this,o,r,f)}}))})}}let $r=null;function _S(){$r=jt.onerror,jt.onerror=function(i,e,l,t,n){return Il("error",{column:t,error:n,line:l,msg:i,url:e}),$r?$r.apply(this,arguments):!1}}let vr=null;function dS(){vr=jt.onunhandledrejection,jt.onunhandledrejection=function(i){return Il("unhandledrejection",i),vr?vr.apply(this,arguments):!0}}function mS(){var i=typeof WeakSet=="function",e=i?new WeakSet:[];function l(n){if(i)return e.has(n)?!0:(e.add(n),!1);for(let r=0;r<e.length;r++){var o=e[r];if(o===n)return!0}return e.push(n),!1}function t(n){if(i)e.delete(n);else for(let o=0;o<e.length;o++)if(e[o]===n){e.splice(o,1);break}}return[l,t]}function Kl(){var i=Bt(),e=i.crypto||i.msCrypto;if(e!==void 0&&e.getRandomValues){var l=new Uint16Array(8);e.getRandomValues(l),l[3]=l[3]&4095|16384,l[4]=l[4]&16383|32768;var t=n=>{let o=n.toString(16);for(;o.length<4;)o=`0${o}`;return o};return t(l[0])+t(l[1])+t(l[2])+t(l[3])+t(l[4])+t(l[5])+t(l[6])+t(l[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,n=>{var o=Math.random()*16|0,r=n==="x"?o:o&3|8;return r.toString(16)})}function kr(i){if(!i)return{};var e=i.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var l=e[6]||"",t=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+l+t}}function Yh(i){return i.exception&&i.exception.values?i.exception.values[0]:void 0}function rn(i){const{message:e,event_id:l}=i;if(e)return e;var t=Yh(i);return t?t.type&&t.value?`${t.type}: ${t.value}`:t.type||t.value||l||"<unknown>":l||"<unknown>"}function Ur(i,e,l){var t=i.exception=i.exception||{},n=t.values=t.values||[],o=n[0]=n[0]||{};o.value||(o.value=e||""),o.type||(o.type=l||"Error")}function pi(i,e){var l=Yh(i);if(!!l){var t={type:"generic",handled:!0},n=l.mechanism;if(l.mechanism={...t,...n,...e},e&&"data"in e){var o={...n&&n.data,...e.data};l.mechanism.data=o}}}function c1(i){if(i&&i.__sentry_captured__)return!0;try{lo(i,"__sentry_captured__",!0)}catch{}return!1}function tn(i,e=1/0,l=1/0){try{return Hh("",i,e,l)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function jh(i,e=3,l=100*1024){var t=tn(i,e);return gS(t)>l?jh(i,e-1,l):t}function Hh(i,e,l=1/0,t=1/0,n=mS()){const[o,r]=n;var f=e;if(f&&typeof f.toJSON=="function")try{return f.toJSON()}catch{}if(e===null||["number","boolean","string"].includes(typeof e)&&!Lh(e))return e;var a=pS(i,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;if(l===0)return a.replace("object ","");if(o(e))return"[Circular ~]";var s=Array.isArray(e)?[]:{};let u=0;var c=Ph(e);for(var m in c)if(!!Object.prototype.hasOwnProperty.call(c,m)){if(u>=t){s[m]="[MaxProperties ~]";break}var $=c[m];s[m]=Hh(m,$,l-1,t,n),u+=1}return r(e),s}function pS(i,e){try{return i==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":i==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":UT(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${xl(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(l){return`**non-serializable** (${l})`}}function hS(i){return~-encodeURI(i).split(/%..|./).length}function gS(i){return hS(JSON.stringify(i))}var Fl;(function(i){var e=0;i[i.PENDING=e]="PENDING";var l=1;i[i.RESOLVED=l]="RESOLVED";var t=2;i[i.REJECTED=t]="REJECTED"})(Fl||(Fl={}));function sn(i){return new gl(e=>{e(i)})}function qr(i){return new gl((e,l)=>{l(i)})}class gl{__init(){this._state=Fl.PENDING}__init2(){this._handlers=[]}constructor(e){gl.prototype.__init.call(this),gl.prototype.__init2.call(this),gl.prototype.__init3.call(this),gl.prototype.__init4.call(this),gl.prototype.__init5.call(this),gl.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(l){this._reject(l)}}then(e,l){return new gl((t,n)=>{this._handlers.push([!1,o=>{if(!e)t(o);else try{t(e(o))}catch(r){n(r)}},o=>{if(!l)n(o);else try{t(l(o))}catch(r){n(r)}}]),this._executeHandlers()})}catch(e){return this.then(l=>l,e)}finally(e){return new gl((l,t)=>{let n,o;return this.then(r=>{o=!1,n=r,e&&e()},r=>{o=!0,n=r,e&&e()}).then(()=>{if(o){t(n);return}l(n)})})}__init3(){this._resolve=e=>{this._setResult(Fl.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(Fl.REJECTED,e)}}__init5(){this._setResult=(e,l)=>{if(this._state===Fl.PENDING){if(eo(l)){l.then(this._resolve,this._reject);return}this._state=e,this._value=l,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==Fl.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(l=>{l[0]||(this._state===Fl.RESOLVED&&l[1](this._value),this._state===Fl.REJECTED&&l[2](this._value),l[0]=!0)})}}}}function bS(i){var e=[];function l(){return i===void 0||e.length<i}function t(r){return e.splice(e.indexOf(r),1)[0]}function n(r){if(!l())return qr(new dl("Not adding Promise due to buffer limit reached."));var f=r();return e.indexOf(f)===-1&&e.push(f),f.then(()=>t(f)).then(null,()=>t(f).then(null,()=>{})),f}function o(r){return new gl((f,a)=>{let s=e.length;if(!s)return f(!0);var u=setTimeout(()=>{r&&r>0&&f(!1)},r);e.forEach(c=>{sn(c).then(()=>{--s||(clearTimeout(u),f(!0))},a)})})}return{$:e,add:n,drain:o}}function Vl(i,e){return i!=null?i:e()}function $S(i){let e,l=i[0],t=1;for(;t<i.length;){var n=i[t],o=i[t+1];if(t+=2,(n==="optionalAccess"||n==="optionalCall")&&l==null)return;n==="access"||n==="optionalAccess"?(e=l,l=o(l)):(n==="call"||n==="optionalCall")&&(l=o((...r)=>l.call(e,...r)),e=void 0)}return l}var vS=["fatal","error","warning","log","info","debug"];function kS(i){return i==="warn"?"warning":vS.includes(i)?i:"log"}var Pr={nowSeconds:()=>Date.now()/1e3};function yS(){const{performance:i}=Bt();if(!(!i||!i.now)){var e=Date.now()-i.now();return{now:()=>i.now(),timeOrigin:e}}}function wS(){try{var i=Jl(jl,"perf_hooks");return i.performance}catch{return}}var yr=tr()?wS():yS(),_1=yr===void 0?Pr:{nowSeconds:()=>(yr.timeOrigin+yr.now())/1e3},lr=Pr.nowSeconds.bind(Pr),ro=_1.nowSeconds.bind(_1),hi=ro,gi=(()=>{const{performance:i}=Bt();if(!(!i||!i.now)){var e=3600*1e3,l=i.now(),t=Date.now(),n=i.timeOrigin?Math.abs(i.timeOrigin+l-t):e,o=n<e,r=i.timing&&i.timing.navigationStart,f=typeof r=="number",a=f?Math.abs(r+l-t):e,s=a<e;return o||s?n<=a?i.timeOrigin:r:t}})(),ES=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function TS(i){var e=i.match(ES);if(e){let l;return e[3]==="1"?l=!0:e[3]==="0"&&(l=!1),{traceId:e[1],parentSampled:l,parentSpanId:e[2]}}}function nr(i,e=[]){return[i,e]}function SS(i,e){const[l,t]=i;return[l,[...t,e]]}function d1(i,e){var l=i[1];l.forEach(t=>{var n=t[0].type;e(t,n)})}function Fr(i,e){var l=e||new TextEncoder;return l.encode(i)}function Wh(i,e){const[l,t]=i;let n=JSON.stringify(l);function o(f){typeof n=="string"?n=typeof f=="string"?n+f:[Fr(n,e),f]:n.push(typeof f=="string"?Fr(f,e):f)}for(var r of t){const[f,a]=r;o(`
${JSON.stringify(f)}
`),o(typeof a=="string"||a instanceof Uint8Array?a:JSON.stringify(a))}return typeof n=="string"?n:CS(n)}function CS(i){var e=i.reduce((o,r)=>o+r.length,0),l=new Uint8Array(e);let t=0;for(var n of i)l.set(n,t),t+=n.length;return l}function IS(i,e){var l=typeof i.data=="string"?Fr(i.data,e):i.data;return[on({type:"attachment",length:l.length,filename:i.filename,content_type:i.contentType,attachment_type:i.attachmentType}),l]}var RS={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function m1(i){return RS[i]}function NS(i,e,l){var t=[{type:"client_report"},{timestamp:l||lr(),discarded_events:i}];return nr(e?{dsn:e}:{},[t])}var OS=60*1e3;function BS(i,e=Date.now()){var l=parseInt(`${i}`,10);if(!isNaN(l))return l*1e3;var t=Date.parse(`${i}`);return isNaN(t)?OS:t-e}function AS(i,e){return i[e]||i.all||0}function MS(i,e,l=Date.now()){return AS(i,e)>l}function DS(i,{statusCode:e,headers:l},t=Date.now()){var n={...i},o=l&&l["x-sentry-rate-limits"],r=l&&l["retry-after"];if(o)for(var f of o.trim().split(",")){const[c,m]=f.split(":",2);var a=parseInt(c,10),s=(isNaN(a)?60:a)*1e3;if(!m)n.all=t+s;else for(var u of m.split(";"))n[u]=t+s}else r?n.all=t+BS(r,t):e===429&&(n.all=t+60*1e3);return n}var _n="baggage",LS="sentry-",GS=/^sentry-/,US=8192;function zh(i,e="",l=!0){return[{...i},e,l]}function p1(i,e,l){Vh(i)&&(i[0][e]=l)}function Yr(i){return Object.keys(i[0]).length===0}function qS(i){return i[0]}function PS(i){return i[1]}function Vh(i){return i[2]}function Xh(i){i[2]=!1}function FS(i){return Object.keys(i[0]).reduce((e,l)=>{var t=i[0][l],n=`${LS}${encodeURIComponent(l)}=${encodeURIComponent(t)}`,o=e===""?n:`${e},${n}`;return o.length>US?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Not adding key: ${l} with val: ${t} to baggage due to exceeding baggage size limits.`),e):o},i[1])}function Jh(i){return i.split(",").reduce(([e,l],t)=>{const[n,o]=t.split("=");if(GS.test(n)){var r=decodeURIComponent(n.split("-")[1]);return[{...e,[r]:decodeURIComponent(o)},l,!0]}else return[e,l===""?t:`${l},${t}`,!0]},[{},"",!0])}function oi(i,e){if(!i&&!e)return"";var l=e&&Jh(e)||void 0,t=l&&PS(l),n=zh(i&&i[0]||{},t||i&&i[1]||"");return FS(n)}function YS(i,e){var l=Jh(i||"");return(!Yr(l)||e&&Yr(l))&&Xh(l),l}function jS(i){var e=ro(),l={sid:Kl(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>WS(l)};return i&&Tn(l,i),l}function Tn(i,e={}){if(e.user&&(!i.ipAddress&&e.user.ip_address&&(i.ipAddress=e.user.ip_address),!i.did&&!e.did&&(i.did=e.user.id||e.user.email||e.user.username)),i.timestamp=e.timestamp||ro(),e.ignoreDuration&&(i.ignoreDuration=e.ignoreDuration),e.sid&&(i.sid=e.sid.length===32?e.sid:Kl()),e.init!==void 0&&(i.init=e.init),!i.did&&e.did&&(i.did=`${e.did}`),typeof e.started=="number"&&(i.started=e.started),i.ignoreDuration)i.duration=void 0;else if(typeof e.duration=="number")i.duration=e.duration;else{var l=i.timestamp-i.started;i.duration=l>=0?l:0}e.release&&(i.release=e.release),e.environment&&(i.environment=e.environment),!i.ipAddress&&e.ipAddress&&(i.ipAddress=e.ipAddress),!i.userAgent&&e.userAgent&&(i.userAgent=e.userAgent),typeof e.errors=="number"&&(i.errors=e.errors),e.status&&(i.status=e.status)}function HS(i,e){let l={};e?l={status:e}:i.status==="ok"&&(l={status:"exited"}),Tn(i,l)}function WS(i){return on({sid:`${i.sid}`,init:i.init,started:new Date(i.started*1e3).toISOString(),timestamp:new Date(i.timestamp*1e3).toISOString(),status:i.status,errors:i.errors,did:typeof i.did=="number"||typeof i.did=="string"?`${i.did}`:void 0,duration:i.duration,attrs:{release:i.release,environment:i.environment,ip_address:i.ipAddress,user_agent:i.userAgent}})}var h1=100;class tl{constructor(){tl.prototype.__init.call(this),tl.prototype.__init2.call(this),tl.prototype.__init3.call(this),tl.prototype.__init4.call(this),tl.prototype.__init5.call(this),tl.prototype.__init6.call(this),tl.prototype.__init7.call(this),tl.prototype.__init8.call(this),tl.prototype.__init9.call(this),tl.prototype.__init10.call(this)}__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(e){var l=new tl;return e&&(l._breadcrumbs=[...e._breadcrumbs],l._tags={...e._tags},l._extra={...e._extra},l._contexts={...e._contexts},l._user=e._user,l._level=e._level,l._span=e._span,l._session=e._session,l._transactionName=e._transactionName,l._fingerprint=e._fingerprint,l._eventProcessors=[...e._eventProcessors],l._requestSession=e._requestSession,l._attachments=[...e._attachments]),l}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Tn(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,l){return this._tags={...this._tags,[e]:l},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,l){return this._extra={...this._extra,[e]:l},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,l){return l===null?delete this._contexts[e]:this._contexts={...this._contexts,[e]:l},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){var l=e(this);return l instanceof tl?l:this}return e instanceof tl?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):En(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,l){var t=typeof l=="number"?Math.min(l,h1):h1;if(t<=0)return this;var n={timestamp:lr(),...e};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-t),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,l={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors([...Kh(),...this._eventProcessors],e,l)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,l,t,n=0){return new gl((o,r)=>{var f=e[n];if(l===null||typeof f!="function")o(l);else{var a=f({...l},t);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&f.id&&a===null&&Ye.log(`Event processor "${f.id}" dropped event`),eo(a)?a.then(s=>this._notifyEventProcessors(e,s,t,n+1).then(o)).then(null,r):this._notifyEventProcessors(e,a,t,n+1).then(o).then(null,r)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Kh(){return Qr("globalEventProcessors",()=>[])}function oo(i){Kh().push(i)}var fo=4,zS=100;class ki{__init(){this._stack=[{}]}constructor(e,l=new tl,t=fo){this._version=t,ki.prototype.__init.call(this),this.getStackTop().scope=l,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){var l=this.getStackTop();l.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=tl.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){var l=this.pushScope();try{e(l)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,l){var t=this._lastEventId=l&&l.event_id?l.event_id:Kl(),n=new Error("Sentry syntheticException");return this._withClient((o,r)=>{o.captureException(e,{originalException:e,syntheticException:n,...l,event_id:t},r)}),t}captureMessage(e,l,t){var n=this._lastEventId=t&&t.event_id?t.event_id:Kl(),o=new Error(e);return this._withClient((r,f)=>{r.captureMessage(e,l,{originalException:e,syntheticException:o,...t,event_id:n},f)}),n}captureEvent(e,l){var t=l&&l.event_id?l.event_id:Kl();return e.type!=="transaction"&&(this._lastEventId=t),this._withClient((n,o)=>{n.captureEvent(e,{...l,event_id:t},o)}),t}lastEventId(){return this._lastEventId}addBreadcrumb(e,l){const{scope:t,client:n}=this.getStackTop();if(!t||!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:r=zS}=n.getOptions&&n.getOptions()||{};if(!(r<=0)){var f=lr(),a={timestamp:f,...e},s=o?Uh(()=>o(a,l)):a;s!==null&&t.addBreadcrumb(s,r)}}setUser(e){var l=this.getScope();l&&l.setUser(e)}setTags(e){var l=this.getScope();l&&l.setTags(e)}setExtras(e){var l=this.getScope();l&&l.setExtras(e)}setTag(e,l){var t=this.getScope();t&&t.setTag(e,l)}setExtra(e,l){var t=this.getScope();t&&t.setExtra(e,l)}setContext(e,l){var t=this.getScope();t&&t.setContext(e,l)}configureScope(e){const{scope:l,client:t}=this.getStackTop();l&&t&&e(l)}run(e){var l=g1(this);try{e(this)}finally{g1(l)}}getIntegration(e){var l=this.getClient();if(!l)return null;try{return l.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,l){return this._callExtensionMethod("startTransaction",e,l)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),l=e&&e.scope,t=l&&l.getSession();t&&HS(t),this._sendSessionUpdate(),l&&l.setSession()}startSession(e){const{scope:l,client:t}=this.getStackTop(),{release:n,environment:o}=t&&t.getOptions()||{};var r=Bt();const{userAgent:f}=r.navigator||{};var a=jS({release:n,environment:o,...l&&{user:l.getUser()},...f&&{userAgent:f},...e});if(l){var s=l.getSession&&l.getSession();s&&s.status==="ok"&&Tn(s,{status:"exited"}),this.endSession(),l.setSession(a)}return a}_sendSessionUpdate(){const{scope:e,client:l}=this.getStackTop();if(!!e){var t=e.getSession();t&&l&&l.captureSession&&l.captureSession(t)}}_withClient(e){const{scope:l,client:t}=this.getStackTop();t&&e(t,l)}_callExtensionMethod(e,...l){var t=Nn(),n=t.__SENTRY__;if(n&&n.extensions&&typeof n.extensions[e]=="function")return n.extensions[e].apply(this,l);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Nn(){var i=Bt();return i.__SENTRY__=i.__SENTRY__||{extensions:{},hub:void 0},i}function g1(i){var e=Nn(),l=Xl(e);return so(e,i),l}function Xt(){var i=Nn();return(!Zh(i)||Xl(i).isOlderThan(fo))&&so(i,new ki),tr()?VS(i):Xl(i)}function VS(i){try{var e=Nn().__SENTRY__,l=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!l)return Xl(i);if(!Zh(l)||Xl(l).isOlderThan(fo)){var t=Xl(i).getStackTop();so(l,new ki(t.client,tl.clone(t.scope)))}return Xl(l)}catch{return Xl(i)}}function Zh(i){return!!(i&&i.__SENTRY__&&i.__SENTRY__.hub)}function Xl(i){return Qr("hub",()=>new ki,i)}function so(i,e){if(!i)return!1;var l=i.__SENTRY__=i.__SENTRY__||{};return l.hub=e,!0}function Qh(i,e){return Xt().captureException(i,{captureContext:e})}function XS(i){Xt().withScope(i)}var JS="7";function KS(i){var e=i.protocol?`${i.protocol}:`:"",l=i.port?`:${i.port}`:"";return`${e}//${i.host}${l}${i.path?`/${i.path}`:""}/api/`}function ZS(i){return`${KS(i)}${i.projectId}/envelope/`}function QS(i){return XT({sentry_key:i.publicKey,sentry_version:JS})}function xh(i,e){return e||`${ZS(i)}?${QS(i)}`}function eg(i){if(!i||!i.sdk)return;const{name:e,version:l}=i.sdk;return{name:e,version:l}}function xS(i,e){return e&&(i.sdk=i.sdk||{},i.sdk.name=i.sdk.name||e.name,i.sdk.version=i.sdk.version||e.version,i.sdk.integrations=[...i.sdk.integrations||[],...e.integrations||[]],i.sdk.packages=[...i.sdk.packages||[],...e.packages||[]]),i}function eC(i,e,l,t){var n=eg(l),o={sent_at:new Date().toISOString(),...n&&{sdk:n},...!!t&&{dsn:to(e)}},r="aggregates"in i?[{type:"sessions"},i]:[{type:"session"},i];return nr(o,[r])}function tC(i,e,l,t){var n=eg(l),o=i.type||"event";const{transactionSampling:r}=i.sdkProcessingMetadata||{},{method:f,rate:a}=r||{};xS(i,l&&l.sdk),delete i.sdkProcessingMetadata;var s=lC(i,n,t,e),u=[{type:o,sample_rates:[{id:f,rate:a}]},i];return nr(s,[u])}function lC(i,e,l,t){var n=i.contexts&&i.contexts.baggage;const{environment:o,release:r,transaction:f,userid:a,usersegment:s}=n||{};return{event_id:i.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!l&&{dsn:to(t)},...i.type==="transaction"&&i.contexts&&i.contexts.trace&&{trace:on({trace_id:i.contexts.trace.trace_id,public_key:t.publicKey,environment:o,release:r,transaction:f,...(a||s)&&{user:{id:a,segment:s}}})}}}var b1=[];function $1(i){return i.reduce((e,l)=>(e.every(t=>l.name!==t.name)&&e.push(l),e),[])}function nC(i){var e=i.defaultIntegrations&&[...i.defaultIntegrations]||[],l=i.integrations;let t=[...$1(e)];Array.isArray(l)?t=[...t.filter(r=>l.every(f=>f.name!==r.name)),...$1(l)]:typeof l=="function"&&(t=l(t),t=Array.isArray(t)?t:[t]);var n=t.map(r=>r.name),o="Debug";return n.indexOf(o)!==-1&&t.push(...t.splice(n.indexOf(o),1)),t}function iC(i){var e={};return i.forEach(l=>{e[l.name]=l,b1.indexOf(l.name)===-1&&(l.setupOnce(oo,Xt),b1.push(l.name),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`Integration installed: ${l.name}`))}),e}var v1="Not capturing exception because it's already been captured.";class dn{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(dn.prototype.__init.call(this),dn.prototype.__init2.call(this),dn.prototype.__init3.call(this),dn.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=WT(e.dsn);var l=xh(this._dsn,e.tunnel);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:l})}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("No DSN provided, client will not do anything.")}captureException(e,l,t){if(c1(e)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(v1);return}let n=l&&l.event_id;return this._process(this.eventFromException(e,l).then(o=>this._captureEvent(o,l,t)).then(o=>{n=o})),n}captureMessage(e,l,t,n){let o=t&&t.event_id;var r=Dh(e)?this.eventFromMessage(String(e),l,t):this.eventFromException(e,t);return this._process(r.then(f=>this._captureEvent(f,t,n)).then(f=>{o=f})),o}captureEvent(e,l,t){if(l&&l.originalException&&c1(l.originalException)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(v1);return}let n=l&&l.event_id;return this._process(this._captureEvent(e,l,t).then(o=>{n=o})),n}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Tn(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var l=this._transport;return l?this._isClientDoneProcessing(e).then(t=>l.flush(e).then(n=>t&&n)):sn(!0)}close(e){return this.flush(e).then(l=>(this.getOptions().enabled=!1,l))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=iC(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,l={}){if(this._dsn){let n=tC(e,this._dsn,this._options._metadata,this._options.tunnel);for(var t of l.attachments||[])n=SS(n,IS(t,$S([this,"access",o=>o._options,"access",o=>o.transportOptions,"optionalAccess",o=>o.textEncoder])));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){var l=eC(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(l)}}recordDroppedEvent(e,l){if(this._options.sendClientReports){var t=`${e}:${l}`;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`Adding outcome: "${t}"`),this._outcomes[t]=this._outcomes[t]+1||1}}_updateSessionFromEvent(e,l){let t=!1,n=!1;var o=l.exception&&l.exception.values;if(o){n=!0;for(var r of o){var f=r.mechanism;if(f&&f.handled===!1){t=!0;break}}}var a=e.status==="ok",s=a&&e.errors===0||a&&t;s&&(Tn(e,{...t&&{status:"crashed"},errors:e.errors||Number(n||t)}),this.captureSession(e))}_isClientDoneProcessing(e){return new gl(l=>{let t=0;var n=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),l(!0)):(t+=n,e&&t>=e&&(clearInterval(o),l(!1)))},n)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,l,t){const{normalizeDepth:n=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var r={...e,event_id:e.event_id||l.event_id||Kl(),timestamp:e.timestamp||lr()};this._applyClientOptions(r),this._applyIntegrationsMetadata(r);let f=t;l.captureContext&&(f=tl.clone(f).update(l.captureContext));let a=sn(r);if(f){var s=[...l.attachments||[],...f.getAttachments()];s.length&&(l.attachments=s),a=f.applyToEvent(r,l)}return a.then(u=>typeof n=="number"&&n>0?this._normalizeEvent(u,n,o):u)}_normalizeEvent(e,l,t){if(!e)return null;var n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:tn(o.data,l,t)}}))},...e.user&&{user:tn(e.user,l,t)},...e.contexts&&{contexts:tn(e.contexts,l,t)},...e.extra&&{extra:tn(e.extra,l,t)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=tn(e.contexts.trace.data,l,t))),e.spans&&(n.spans=e.spans.map(o=>(o.data&&(o.data=tn(o.data,l,t)),o))),n}_applyClientOptions(e){var l=this.getOptions();const{environment:t,release:n,dist:o,maxValueLength:r=250}=l;"environment"in e||(e.environment="environment"in l?t:"production"),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=si(e.message,r));var f=e.exception&&e.exception.values&&e.exception.values[0];f&&f.value&&(f.value=si(f.value,r));var a=e.request;a&&a.url&&(a.url=si(a.url,r))}_applyIntegrationsMetadata(e){var l=Object.keys(this._integrations);l.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...l])}_captureEvent(e,l={},t){return this._processEvent(e,l,t).then(n=>n.event_id,n=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(n)})}_processEvent(e,l,t){const{beforeSend:n,sampleRate:o}=this.getOptions();if(!this._isEnabled())return qr(new dl("SDK not enabled, will not capture event."));var r=e.type==="transaction";return!r&&typeof o=="number"&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),qr(new dl(`Discarding event because it's not included in the random sample (sampling rate = ${o})`))):this._prepareEvent(e,l,t).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",e.type||"error"),new dl("An event processor returned null, will not send event.");var a=l.data&&l.data.__sentry__===!0;if(a||r||!n)return f;var s=n(f,l);return rC(s)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",e.type||"error"),new dl("`beforeSend` returned `null`, will not send event.");var a=t&&t.getSession();return!r&&a&&this._updateSessionFromEvent(a,f),this.sendEvent(f,l),f}).then(null,f=>{throw f instanceof dl?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new dl(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing+=1,e.then(l=>(this._numProcessing-=1,l),l=>(this._numProcessing-=1,l))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,l=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error("Error while sending event:",l)}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map(l=>{const[t,n]=l.split(":");return{reason:t,category:n,quantity:e[l]}})}}function rC(i){var e="`beforeSend` method has to return `null` or a valid event.";if(eo(i))return i.then(l=>{if(!(En(l)||l===null))throw new dl(e);return l},l=>{throw new dl(`beforeSend rejected with ${l}`)});if(!(En(i)||i===null))throw new dl(e);return i}function oC(i,e){e.debug===!0&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Ye.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var l=Xt(),t=l.getScope();t&&t.update(e.initialScope);var n=new i(e);l.bindClient(n)}var fC=30;function tg(i,e,l=bS(i.bufferSize||fC)){let t={};var n=r=>l.drain(r);function o(r){var f=[];if(d1(r,(c,m)=>{var $=m1(m);MS(t,$)?i.recordDroppedEvent("ratelimit_backoff",$):f.push(c)}),f.length===0)return sn();var a=nr(r[0],f),s=c=>{d1(a,(m,$)=>{i.recordDroppedEvent(c,m1($))})},u=()=>e({body:Wh(a,i.textEncoder)}).then(c=>{c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),t=DS(t,c)},c=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error("Failed while sending event:",c),s("network_error")});return l.add(u).then(c=>c,c=>{if(c instanceof dl)return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error("Skipped sending event due to full buffer"),s("queue_overflow"),sn();throw c})}return{send:o,flush:n}}var k1="7.2.0";let y1;class bi{constructor(){bi.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=bi.id}setupOnce(){y1=Function.prototype.toString,Function.prototype.toString=function(...e){var l=no(this)||this;return y1.apply(l,e)}}}bi.__initStatic();var sC=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class hn{static __initStatic(){this.id="InboundFilters"}__init(){this.name=hn.id}constructor(e={}){this._options=e,hn.prototype.__init.call(this)}setupOnce(e,l){var t=n=>{var o=l();if(o){var r=o.getIntegration(hn);if(r){var f=o.getClient(),a=f?f.getOptions():{},s=aC(r._options,a);return uC(n,s)?null:n}}return n};t.id=this.name,e(t)}}hn.__initStatic();function aC(i={},e={}){return{allowUrls:[...i.allowUrls||[],...e.allowUrls||[]],denyUrls:[...i.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...i.ignoreErrors||[],...e.ignoreErrors||[],...sC],ignoreInternal:i.ignoreInternal!==void 0?i.ignoreInternal:!0}}function uC(i,e){return e.ignoreInternal&&pC(i)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Event dropped due to being internal Sentry Error.
Event: ${rn(i)}`),!0):cC(i,e.ignoreErrors)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${rn(i)}`),!0):_C(i,e.denyUrls)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${rn(i)}.
Url: ${Ki(i)}`),!0):dC(i,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${rn(i)}.
Url: ${Ki(i)}`),!0)}function cC(i,e){return!e||!e.length?!1:mC(i).some(l=>e.some(t=>mi(l,t)))}function _C(i,e){if(!e||!e.length)return!1;var l=Ki(i);return l?e.some(t=>mi(l,t)):!1}function dC(i,e){if(!e||!e.length)return!0;var l=Ki(i);return l?e.some(t=>mi(l,t)):!0}function mC(i){if(i.message)return[i.message];if(i.exception)try{const{type:e="",value:l=""}=i.exception.values&&i.exception.values[0]||{};return[`${l}`,`${e}: ${l}`]}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error(`Cannot extract message for event ${rn(i)}`),[]}return[]}function pC(i){try{return i.exception.values[0].type==="SentryError"}catch{}return!1}function hC(i=[]){for(let l=i.length-1;l>=0;l--){var e=i[l];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function Ki(i){try{let e;try{e=i.exception.values[0].stacktrace.frames}catch{}return e?hC(e):null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error(`Cannot extract url for event ${rn(i)}`),null}}function lg(i,e){var l=ao(i,e),t={type:e&&e.name,value:vC(e)};return l.length&&(t.stacktrace={frames:l}),t.type===void 0&&t.value===""&&(t.value="Unrecoverable error caught"),t}function gC(i,e,l,t){var n={exception:{values:[{type:xr(e)?e.constructor.name:t?"UnhandledRejection":"Error",value:`Non-Error ${t?"promise rejection":"exception"} captured with keys: ${JT(e)}`}]},extra:{__serialized__:jh(e)}};if(l){var o=ao(i,l);o.length&&(n.exception.values[0].stacktrace={frames:o})}return n}function wr(i,e){return{exception:{values:[lg(i,e)]}}}function ao(i,e){var l=e.stacktrace||e.stack||"",t=$C(e);try{return i(l,t)}catch{}return[]}var bC=/Minified React error #\d+;/i;function $C(i){if(i){if(typeof i.framesToPop=="number")return i.framesToPop;if(bC.test(i.message))return 1}return 0}function vC(i){var e=i&&i.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function kC(i,e,l,t){var n=l&&l.syntheticException||void 0,o=uo(i,e,n,t);return pi(o),o.level="error",l&&l.event_id&&(o.event_id=l.event_id),sn(o)}function yC(i,e,l="info",t,n){var o=t&&t.syntheticException||void 0,r=jr(i,e,o,n);return r.level=l,t&&t.event_id&&(r.event_id=t.event_id),sn(r)}function uo(i,e,l,t,n){let o;if(Mh(e)&&e.error){var r=e;return wr(i,r.error)}if(i1(e)||DT(e)){var f=e;if("stack"in e)o=wr(i,e);else{var a=f.name||(i1(f)?"DOMError":"DOMException"),s=f.message?`${a}: ${f.message}`:a;o=jr(i,s,l,t),Ur(o,s)}return"code"in f&&(o.tags={...o.tags,"DOMException.code":`${f.code}`}),o}if(Ah(e))return wr(i,e);if(En(e)||xr(e)){var u=e;return o=gC(i,u,l,n),pi(o,{synthetic:!0}),o}return o=jr(i,e,l,t),Ur(o,`${e}`,void 0),pi(o,{synthetic:!0}),o}function jr(i,e,l,t){var n={message:e};if(t&&l){var o=ao(i,l);o.length&&(n.exception={values:[{value:e,stacktrace:{frames:o}}]})}return n}var ng="Breadcrumbs";class $i{static __initStatic(){this.id=ng}__init(){this.name=$i.id}constructor(e){$i.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&vl("console",EC),this.options.dom&&vl("dom",wC(this.options.dom)),this.options.xhr&&vl("xhr",TC),this.options.fetch&&vl("fetch",SC),this.options.history&&vl("history",CC)}}$i.__initStatic();function wC(i){function e(l){let t,n=typeof i=="object"?i.serializeAttribute:void 0;typeof n=="string"&&(n=[n]);try{t=l.event.target?di(l.event.target,n):di(l.event,n)}catch{t="<unknown>"}t.length!==0&&Xt().addBreadcrumb({category:`ui.${l.name}`,message:t},{event:l.event,name:l.name,global:l.global})}return e}function EC(i){var e={category:"console",data:{arguments:i.args,logger:"console"},level:kS(i.level),message:o1(i.args," ")};if(i.level==="assert")if(i.args[0]===!1)e.message=`Assertion failed: ${o1(i.args.slice(1)," ")||"console.assert"}`,e.data.arguments=i.args.slice(1);else return;Xt().addBreadcrumb(e,{input:i.args,level:i.level})}function TC(i){if(i.endTimestamp){if(i.xhr.__sentry_own_request__)return;const{method:e,url:l,status_code:t,body:n}=i.xhr.__sentry_xhr__||{};Xt().addBreadcrumb({category:"xhr",data:{method:e,url:l,status_code:t},type:"http"},{xhr:i.xhr,input:n});return}}function SC(i){!i.endTimestamp||i.fetchData.url.match(/sentry_key/)&&i.fetchData.method==="POST"||(i.error?Xt().addBreadcrumb({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args}):Xt().addBreadcrumb({category:"fetch",data:{...i.fetchData,status_code:i.response.status},type:"http"},{input:i.args,response:i.response}))}function CC(i){var e=Bt();let l=i.from,t=i.to;var n=kr(e.location.href);let o=kr(l);var r=kr(t);o.path||(o=n),n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(l=o.relative),Xt().addBreadcrumb({category:"navigation",data:{from:l,to:t}})}var Cl=Bt();let Ii;function ig(){if(Ii)return Ii;if(Gr(Cl.fetch))return Ii=Cl.fetch.bind(Cl);var i=Cl.document;let e=Cl.fetch;if(i&&typeof i.createElement=="function")try{var l=i.createElement("iframe");l.hidden=!0,i.head.appendChild(l);var t=l.contentWindow;t&&t.fetch&&(e=t.fetch),i.head.removeChild(l)}catch(n){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Ii=e.bind(Cl)}function IC(i,e){var l=Object.prototype.toString.call(Cl&&Cl.navigator)==="[object Navigator]",t=l&&typeof Cl.navigator.sendBeacon=="function";if(t){var n=Cl.navigator.sendBeacon.bind(Cl.navigator);n(i,e)}else if(io()){var o=ig();o(i,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,r=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error(r)})}}var Er=Bt();class RC extends dn{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:k1}],version:k1},super(e),e.sendClientReports&&Er.document&&Er.document.addEventListener("visibilitychange",()=>{Er.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,l){return kC(this._options.stackParser,e,l,this._options.attachStacktrace)}eventFromMessage(e,l="info",t){return yC(this._options.stackParser,e,l,t,this._options.attachStacktrace)}sendEvent(e,l){var t=this.getIntegrationById(ng);t&&t.options&&t.options.sentry&&Xt().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:rn(e)},{event:e}),super.sendEvent(e,l)}_prepareEvent(e,l,t){return e.platform=e.platform||"javascript",super._prepareEvent(e,l,t)}_flushOutcomes(){var e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("Sending outcomes:",e);var l=xh(this._dsn,this._options.tunnel),t=NS(e,this._options.tunnel&&to(this._dsn));try{IC(l,Wh(t))}catch(n){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.error(n)}}}function NC(i,e=ig()){function l(t){var n={body:t.body,method:"POST",referrerPolicy:"origin",headers:i.headers,...i.fetchOptions};return e(i.url,n).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}return tg(i,l)}var OC=4;function BC(i){function e(l){return new gl((t,n)=>{var o=new XMLHttpRequest;o.onerror=n,o.onreadystatechange=()=>{o.readyState===OC&&t({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",i.url);for(var r in i.headers)Object.prototype.hasOwnProperty.call(i.headers,r)&&o.setRequestHeader(r,i.headers[r]);o.send(l.body)})}return tg(i,e)}var ir="?",AC=30,MC=40,DC=50;function co(i,e,l,t){var n={filename:i,function:e,in_app:!0};return l!==void 0&&(n.lineno=l),t!==void 0&&(n.colno=t),n}var LC=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,GC=/\((\S*)(?::(\d+))(?::(\d+))\)/,UC=i=>{var e=LC.exec(i);if(e){var l=e[2]&&e[2].indexOf("eval")===0;if(l){var t=GC.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[n,o]=rg(e[1]||ir,e[2]);return co(o,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},qC=[AC,UC],PC=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,FC=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,YC=i=>{var e=PC.exec(i);if(e){var l=e[3]&&e[3].indexOf(" > eval")>-1;if(l){var t=FC.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let n=e[3],o=e[1]||ir;return[o,n]=rg(o,n),co(n,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},jC=[DC,YC],HC=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,WC=i=>{var e=HC.exec(i);return e?co(e[2],e[1]||ir,+e[3],e[4]?+e[4]:void 0):void 0},zC=[MC,WC],VC=[qC,jC,zC],XC=Fh(...VC),rg=(i,e)=>{var l=i.indexOf("safari-extension")!==-1,t=i.indexOf("safari-web-extension")!==-1;return l||t?[i.indexOf("@")!==-1?i.split("@")[0]:ir,l?`safari-extension:${e}`:`safari-web-extension:${e}`]:[i,e]};let Hr=0;function og(){return Hr>0}function JC(){Hr+=1,setTimeout(()=>{Hr-=1})}function Sn(i,e={},l){if(typeof i!="function")return i;try{var t=i.__sentry_wrapped__;if(t)return t;if(no(i))return i}catch{return i}var n=function(){var f=Array.prototype.slice.call(arguments);try{l&&typeof l=="function"&&l.apply(this,arguments);var a=f.map(s=>Sn(s,e));return i.apply(this,a)}catch(s){throw JC(),XS(u=>{u.addEventProcessor(c=>(e.mechanism&&(Ur(c,void 0,void 0),pi(c,e.mechanism)),c.extra={...c.extra,arguments:f},c)),Qh(s)}),s}};try{for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}catch{}qh(n,i),lo(i,"__sentry_wrapped__",n);try{var r=Object.getOwnPropertyDescriptor(n,"name");r.configurable&&Object.defineProperty(n,"name",{get(){return i.name}})}catch{}return n}class Zl{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Zl.id}__init2(){this._installFunc={onerror:KC,onunhandledrejection:ZC}}constructor(e){Zl.prototype.__init.call(this),Zl.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var l in e){var t=this._installFunc[l];t&&e[l]&&(e3(l),t(),this._installFunc[l]=void 0)}}}Zl.__initStatic();function KC(){vl("error",i=>{const[e,l,t]=ag();if(!e.getIntegration(Zl))return;const{msg:n,url:o,line:r,column:f,error:a}=i;if(!(og()||a&&a.__sentry_own_request__)){var s=a===void 0&&wn(n)?xC(n,o,r,f):fg(uo(l,a||n,void 0,t,!1),o,r,f);s.level="error",sg(e,a,s,"onerror")}})}function ZC(){vl("unhandledrejection",i=>{const[e,l,t]=ag();if(!e.getIntegration(Zl))return;let n=i;try{"reason"in i?n=i.reason:"detail"in i&&"reason"in i.detail&&(n=i.detail.reason)}catch{}if(og()||n&&n.__sentry_own_request__)return!0;var o=Dh(n)?QC(n):uo(l,n,void 0,t,!0);o.level="error",sg(e,n,o,"onunhandledrejection")})}function QC(i){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}}function xC(i,e,l,t){var n=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=Mh(i)?i.message:i,r="Error";var f=o.match(n);f&&(r=f[1],o=f[2]);var a={exception:{values:[{type:r,value:o}]}};return fg(a,e,l,t)}function fg(i,e,l,t){var n=i.exception=i.exception||{},o=n.values=n.values||[],r=o[0]=o[0]||{},f=r.stacktrace=r.stacktrace||{},a=f.frames=f.frames||[],s=isNaN(parseInt(t,10))?void 0:t,u=isNaN(parseInt(l,10))?void 0:l,c=wn(e)&&e.length>0?e:PT();return a.length===0&&a.push({colno:s,filename:c,function:"?",in_app:!0,lineno:u}),i}function e3(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`Global Handler attached: ${i}`)}function sg(i,e,l,t){pi(l,{handled:!1,type:t}),i.captureEvent(l,{originalException:e})}function ag(){var i=Xt(),e=i.getClient(),l=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[i,l.stackParser,l.attachStacktrace]}var t3=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class vi{static __initStatic(){this.id="TryCatch"}__init(){this.name=vi.id}constructor(e){vi.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){var e=Bt();this._options.setTimeout&&ml(e,"setTimeout",w1),this._options.setInterval&&ml(e,"setInterval",w1),this._options.requestAnimationFrame&&ml(e,"requestAnimationFrame",l3),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&ml(XMLHttpRequest.prototype,"send",n3);var l=this._options.eventTarget;if(l){var t=Array.isArray(l)?l:t3;t.forEach(i3)}}}vi.__initStatic();function w1(i){return function(...e){var l=e[0];return e[0]=Sn(l,{mechanism:{data:{function:xl(i)},handled:!0,type:"instrument"}}),i.apply(this,e)}}function l3(i){return function(e){return i.apply(this,[Sn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:xl(i)},handled:!0,type:"instrument"}})])}}function n3(i){return function(...e){var l=this,t=["onload","onerror","onprogress","onreadystatechange"];return t.forEach(n=>{n in l&&typeof l[n]=="function"&&ml(l,n,function(o){var r={mechanism:{data:{function:n,handler:xl(o)},handled:!0,type:"instrument"}},f=no(o);return f&&(r.mechanism.data.handler=xl(f)),Sn(o,r)})}),i.apply(this,e)}}function i3(i){var e=Bt(),l=e[i]&&e[i].prototype;!l||!l.hasOwnProperty||!l.hasOwnProperty("addEventListener")||(ml(l,"addEventListener",function(t){return function(n,o,r){try{typeof o.handleEvent=="function"&&(o.handleEvent=Sn(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:xl(o),target:i},handled:!0,type:"instrument"}}))}catch{}return t.apply(this,[n,Sn(o,{mechanism:{data:{function:"addEventListener",handler:xl(o),target:i},handled:!0,type:"instrument"}}),r])}}),ml(l,"removeEventListener",function(t){return function(n,o,r){var f=o;try{var a=f&&f.__sentry_wrapped__;a&&t.call(this,n,a,r)}catch{}return t.call(this,n,f,r)}}))}var r3="cause",o3=5;class gn{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=gn.id}constructor(e={}){gn.prototype.__init.call(this),this._key=e.key||r3,this._limit=e.limit||o3}setupOnce(){var e=Xt().getClient();!e||oo((l,t)=>{var n=Xt().getIntegration(gn);return n?f3(e.getOptions().stackParser,n._key,n._limit,l,t):l})}}gn.__initStatic();function f3(i,e,l,t,n){if(!t.exception||!t.exception.values||!n||!Hl(n.originalException,Error))return t;var o=ug(i,l,n.originalException,e);return t.exception.values=[...o,...t.exception.values],t}function ug(i,e,l,t,n=[]){if(!Hl(l[t],Error)||n.length+1>=e)return n;var o=lg(i,l[t]);return ug(i,e,l[t],t,[o,...n])}var en=Bt();class bn{constructor(){bn.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=bn.id}setupOnce(){oo(e=>{if(Xt().getIntegration(bn)){if(!en.navigator&&!en.location&&!en.document)return e;var l=e.request&&e.request.url||en.location&&en.location.href;const{referrer:o}=en.document||{},{userAgent:r}=en.navigator||{};var t={...e.request&&e.request.headers,...o&&{Referer:o},...r&&{"User-Agent":r}},n={...l&&{url:l},headers:t};return{...e,request:n}}return e})}}bn.__initStatic();class $n{constructor(){$n.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=$n.id}setupOnce(e,l){var t=n=>{var o=l().getIntegration($n);if(o){try{if(s3(n,o._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=n}return o._previousEvent=n}return n};t.id=this.name,e(t)}}$n.__initStatic();function s3(i,e){return e?!!(a3(i,e)||u3(i,e)):!1}function a3(i,e){var l=i.message,t=e.message;return!(!l&&!t||l&&!t||!l&&t||l!==t||!_g(i,e)||!cg(i,e))}function u3(i,e){var l=E1(e),t=E1(i);return!(!l||!t||l.type!==t.type||l.value!==t.value||!_g(i,e)||!cg(i,e))}function cg(i,e){let l=T1(i),t=T1(e);if(!l&&!t)return!0;if(l&&!t||!l&&t||(l=l,t=t,t.length!==l.length))return!1;for(let r=0;r<t.length;r++){var n=t[r],o=l[r];if(n.filename!==o.filename||n.lineno!==o.lineno||n.colno!==o.colno||n.function!==o.function)return!1}return!0}function _g(i,e){let l=i.fingerprint,t=e.fingerprint;if(!l&&!t)return!0;if(l&&!t||!l&&t)return!1;l=l,t=t;try{return l.join("")===t.join("")}catch{return!1}}function E1(i){return i.exception&&i.exception.values&&i.exception.values[0]}function T1(i){var e=i.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var c3=[new hn,new bi,new vi,new $i,new Zl,new gn,new $n,new bn];function _3(i={}){if(i.defaultIntegrations===void 0&&(i.defaultIntegrations=c3),i.release===void 0){var e=Bt();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(i.release=e.SENTRY_RELEASE.id)}i.autoSessionTracking===void 0&&(i.autoSessionTracking=!0),i.sendClientReports===void 0&&(i.sendClientReports=!0);var l={...i,stackParser:ZT(i.stackParser||XC),integrations:nC(i),transport:i.transport||(io()?NC:BC)};oC(RC,l),i.autoSessionTracking&&d3()}function S1(i){i.startSession({ignoreDuration:!0}),i.captureSession()}function d3(){var i=Bt(),e=i.document;if(typeof e=="undefined"){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var l=Xt();!l.captureSession||(S1(l),vl("history",({from:t,to:n})=>{t===void 0||t===n||S1(Xt())}))}function m3(i){let e,l,t,n,o,r,f,a;const s=[b3,g3,h3],u=[];function c(m,$){return m[1]?0:globalThis!=null&&globalThis.process?1:2}return e=c(i),l=u[e]=s[e](i),{c(){l.c(),t=I(),n=p("details"),o=p("summary"),o.textContent="Raw JSON",r=I(),f=p("pre"),f.textContent=`${JSON.stringify(i[3],null,2)}`},m(m,$){u[e].m(m,$),g(m,t,$),g(m,n,$),d(n,o),d(n,r),d(n,f),a=!0},p(m,$){let k=e;e=c(m),e===k?u[e].p(m,$):(Z(),v(u[k],1,1,()=>{u[k]=null}),Q(),l=u[e],l?l.p(m,$):(l=u[e]=s[e](m),l.c()),b(l,1),l.m(t.parentNode,t))},i(m){a||(b(l),a=!0)},o(m){v(l),a=!1},d(m){u[e].d(m),m&&h(t),m&&h(n)}}}function p3(i){let e,l=i[0].type+"",t,n,o=i[0].id+"",r;return{c(){e=w("Unknown obj: "),t=w(l),n=w("/"),r=w(o)},m(f,a){g(f,e,a),g(f,t,a),g(f,n,a),g(f,r,a)},p(f,a){a&1&&l!==(l=f[0].type+"")&&P(t,l),a&1&&o!==(o=f[0].id+"")&&P(r,o)},i:x,o:x,d(f){f&&h(e),f&&h(t),f&&h(n),f&&h(r)}}}function h3(i){let e,l;return e=new wE({props:{onError:i[2],$$slots:{default:[v3]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function g3(i){var r;let e,l,t;var n=(r=i[4][i[3].type])!=null?r:Hi;function o(f){return{props:{item:f[3]}}}return n&&(e=new n(o(i))),{c(){e&&U(e.$$.fragment),l=ne()},m(f,a){e&&L(e,f,a),g(f,l,a),t=!0},p(f,a){var s;if(n!==(n=(s=f[4][f[3].type])!=null?s:Hi)){if(e){Z();const u=e;v(u.$$.fragment,1,0,()=>{G(u,1)}),Q()}n?(e=new n(o(f)),U(e.$$.fragment),b(e.$$.fragment,1),L(e,l.parentNode,l)):e=null}},i(f){t||(e&&b(e.$$.fragment,f),t=!0)},o(f){e&&v(e.$$.fragment,f),t=!1},d(f){f&&h(l),e&&G(e,f)}}}function b3(i){let e,l,t,n,o,r,f,a,s=i[1].message+"",u,c,m,$=i[1].stack+"",k;return{c(){e=p("section"),l=p("h1"),l.textContent="Error",t=I(),n=p("p"),n.textContent=`There was a problem displaying this page. Not all versions of Cataclysm
        are supported by the Guide currently. Try selecting a different build.`,o=I(),r=p("p"),f=p("details"),a=p("summary"),u=w(s),c=I(),m=p("pre"),k=w($)},m(y,T){g(y,e,T),d(e,l),d(e,t),d(e,n),d(e,o),d(e,r),d(r,f),d(f,a),d(a,u),d(f,c),d(f,m),d(m,k)},p(y,T){T&2&&s!==(s=y[1].message+"")&&P(u,s),T&2&&$!==($=y[1].stack+"")&&P(k,$)},i:x,o:x,d(y){y&&h(e)}}}function $3(i){let e,l;return e=new ET({props:{item:i[3]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function v3(i){var s;let e=/obsolet/.test(i[3].__filename),l,t,n,o,r=e&&$3(i);var f=(s=i[4][i[3].type])!=null?s:Hi;function a(u){return{props:{item:u[3]}}}return f&&(t=new f(a(i))),{c(){r&&r.c(),l=I(),t&&U(t.$$.fragment),n=ne()},m(u,c){r&&r.m(u,c),g(u,l,c),t&&L(t,u,c),g(u,n,c),o=!0},p(u,c){var m;if(e&&r.p(u,c),f!==(f=(m=u[4][u[3].type])!=null?m:Hi)){if(t){Z();const $=t;v($.$$.fragment,1,0,()=>{G($,1)}),Q()}f?(t=new f(a(u)),U(t.$$.fragment),b(t.$$.fragment,1),L(t,n.parentNode,n)):t=null}},i(u){o||(b(r),t&&b(t.$$.fragment,u),o=!0)},o(u){v(r),t&&v(t.$$.fragment,u),o=!1},d(u){r&&r.d(u),u&&h(l),u&&h(n),t&&G(t,u)}}}function k3(i){let e,l,t,n;const o=[p3,m3],r=[];function f(a,s){return a[3]?1:0}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,[s]){l.p(a,s)},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function y3(i,e){return e==="json_flag"?{id:i,type:e}:null}function w3(i,e,l){var s;let{item:t}=e,{data:n}=e;zr("data",n);let o=null;function r(u){l(1,o=u),Qh(u,{contexts:{item:{type:t.type,id:t.id}}})}let f=(s=n.byId(t.type,t.id))!=null?s:y3(t.id,t.type);const a={MONSTER:Y0,AMMO:_l,GUN:_l,ARMOR:_l,PET_ARMOR:_l,TOOL:_l,TOOLMOD:_l,TOOL_ARMOR:_l,BOOK:_l,COMESTIBLE:_l,ENGINE:_l,WHEEL:_l,GUNMOD:_l,MAGAZINE:_l,BATTERY:_l,GENERIC:_l,BIONIC_ITEM:_l,material:Oy,ammunition_type:Gy,tool_quality:zy,furniture:Cw,skill:Aw,proficiency:Uw,json_flag:Qw,fault:m2,vitamin:b2,vehicle_part:A2,martial_art:pE,mutation:OE,mutation_category:Oh,mutation_type:UE,vehicle:VE,terrain:iT,weapon_category:dT,construction_group:hT,achievement:cp,conduct:cp,bionic:OT};return i.$$set=u=>{"item"in u&&l(0,t=u.item),"data"in u&&l(5,n=u.data)},[t,o,r,f,a,n]}class E3 extends Xe{constructor(e){super(),Ve(this,e,w3,k3,je,{item:0,data:5})}}var fi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},dg={exports:{}};(function(i){((e,l)=>{i.exports?i.exports=l():e.fuzzysort=l()})(fi,e=>{var l=(F,Y)=>{if(F=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!F||!Y)return N;var q=u(F);B(Y)||(Y=s(Y));var W=q.bitflags;return(W&Y._bitflags)!==W?N:m(q,Y)},t=(F,Y,q)=>{if(F=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:Y?Y[0]:N}];if(!F)return q&&q.all?c(F,Y,q):J;var W=u(F),re=W.bitflags;W.containsSpace;var H=q&&q.threshold||V,K=q&&q.limit||M,ee=0,ie=0,X=Y.length;if(q&&q.key)for(var te=q.key,me=0;me<X;++me){var Ge=Y[me],Ie=A(Ge,te);if(!!Ie&&(B(Ie)||(Ie=s(Ie)),(re&Ie._bitflags)===re)){var ae=m(W,Ie);ae!==N&&(ae.score<H||(ae={target:ae.target,_targetLower:"",_targetLowerCodes:N,_nextBeginningIndexes:N,_bitflags:0,score:ae.score,_indexes:ae._indexes,obj:Ge},ee<K?(z.add(ae),++ee):(++ie,ae.score>z.peek().score&&z.replaceTop(ae))))}}else if(q&&q.keys)for(var ke=q.scoreFn||O,Ee=q.keys,de=Ee.length,me=0;me<X;++me){for(var Ge=Y[me],Ue=new Array(de),Ce=0;Ce<de;++Ce){var te=Ee[Ce],Ie=A(Ge,te);if(!Ie){Ue[Ce]=N;continue}B(Ie)||(Ie=s(Ie)),(re&Ie._bitflags)!==re?Ue[Ce]=N:Ue[Ce]=m(W,Ie)}Ue.obj=Ge;var ge=ke(Ue);ge!==N&&(ge<H||(Ue.score=ge,ee<K?(z.add(Ue),++ee):(++ie,ge>z.peek().score&&z.replaceTop(Ue))))}else for(var me=0;me<X;++me){var Ie=Y[me];if(!!Ie&&(B(Ie)||(Ie=s(Ie)),(re&Ie._bitflags)===re)){var ae=m(W,Ie);ae!==N&&(ae.score<H||(ee<K?(z.add(ae),++ee):(++ie,ae.score>z.peek().score&&z.replaceTop(ae))))}}if(ee===0)return J;for(var $e=new Array(ee),me=ee-1;me>=0;--me)$e[me]=z.poll();return $e.total=ee+ie,$e},n=(F,Y,q)=>{if(typeof Y=="function")return o(F,Y);if(F===N)return N;Y===void 0&&(Y="<b>"),q===void 0&&(q="</b>");var W="",re=0,H=!1,K=F.target,ee=K.length,ie=F._indexes;ie=ie.slice(0,ie.len).sort((me,Ge)=>me-Ge);for(var X=0;X<ee;++X){var te=K[X];if(ie[re]===X){if(++re,H||(H=!0,W+=Y),re===ie.length){W+=te+q+K.substr(X+1);break}}else H&&(H=!1,W+=q);W+=te}return W},o=(X,Y)=>{if(X===N)return N;var q=X.target,W=q.length,re=X._indexes;re=re.slice(0,re.len).sort((Ge,Ie)=>Ge-Ie);for(var H="",K=0,ee=0,ie=!1,X=[],te=0;te<W;++te){var me=q[te];if(re[ee]===te){if(++ee,ie||(ie=!0,X.push(H),H=""),ee===re.length){H+=me,X.push(Y(H,K++)),H="",X.push(q.substr(te+1));break}}else ie&&(ie=!1,X.push(Y(H,K++)),H="");H+=me}return X},r=F=>F._indexes.slice(0,F._indexes.len).sort((Y,q)=>Y-q),f=F=>{typeof F!="string"&&(F="");var Y=k(F);return{target:F,_targetLower:Y._lower,_targetLowerCodes:Y.lowerCodes,_nextBeginningIndexes:N,_bitflags:Y.bitflags,score:N,_indexes:[0],obj:N}},a=F=>{typeof F!="string"&&(F=""),F=F.trim();var Y=k(F),q=[];if(Y.containsSpace){var W=F.split(/\s+/);W=[...new Set(W)];for(var re=0;re<W.length;re++)if(W[re]!==""){var H=k(W[re]);q.push({lowerCodes:H.lowerCodes,_lower:W[re].toLowerCase(),containsSpace:!1})}}return{lowerCodes:Y.lowerCodes,bitflags:Y.bitflags,containsSpace:Y.containsSpace,_lower:Y._lower,spaceSearches:q}},s=F=>{if(F.length>999)return f(F);var Y=S.get(F);return Y!==void 0||(Y=f(F),S.set(F,Y)),Y},u=F=>{if(F.length>999)return a(F);var Y=C.get(F);return Y!==void 0||(Y=a(F),C.set(F,Y)),Y},c=(F,Y,q)=>{var W=[];W.total=Y.length;var re=q&&q.limit||M;if(q&&q.key)for(var H=0;H<Y.length;H++){var K=Y[H],ee=A(K,q.key);if(!!ee){B(ee)||(ee=s(ee)),ee.score=V,ee._indexes.len=0;var ie=ee;if(ie={target:ie.target,_targetLower:"",_targetLowerCodes:N,_nextBeginningIndexes:N,_bitflags:0,score:ee.score,_indexes:N,obj:K},W.push(ie),W.length>=re)return W}}else if(q&&q.keys)for(var H=0;H<Y.length;H++){for(var K=Y[H],X=new Array(q.keys.length),te=q.keys.length-1;te>=0;--te){var ee=A(K,q.keys[te]);if(!ee){X[te]=N;continue}B(ee)||(ee=s(ee)),ee.score=V,ee._indexes.len=0,X[te]=ee}if(X.obj=K,X.score=V,W.push(X),W.length>=re)return W}else for(var H=0;H<Y.length;H++){var ee=Y[H];if(!!ee&&(B(ee)||(ee=s(ee)),ee.score=V,ee._indexes.len=0,W.push(ee),W.length>=re))return W}return W},m=(F,Y)=>{if(F.containsSpace)return $(F,Y);for(var q=F._lower,W=F.lowerCodes,re=W[0],H=Y._targetLowerCodes,K=W.length,ee=H.length,me=0,ie=0,X=0;;){var te=re===H[ie];if(te){if(R[X++]=ie,++me,me===K)break;re=W[me]}if(++ie,ie>=ee)return N}var me=0,Ge=!1,Ie=0,ae=Y._nextBeginningIndexes;ae===N&&(ae=Y._nextBeginningIndexes=T(Y.target)),ie=R[0]===0?0:ae[R[0]-1];var ke=0;if(ie!==ee)for(;;)if(ie>=ee){if(me<=0||(++ke,ke>200))break;--me;var Ee=D[--Ie];ie=ae[Ee]}else{var te=W[me]===H[ie];if(te){if(D[Ie++]=ie,++me,me===K){Ge=!0;break}++ie}else ie=ae[ie]}var de=Y._targetLower.indexOf(q,R[0]),Ue=~de;if(Ue&&!Ge)for(var Ce=0;Ce<X;++Ce)R[Ce]=de+Ce;var ge=!1;Ue&&(ge=Y._nextBeginningIndexes[de-1]===de);{if(Ge)var $e=D,xe=Ie;else var $e=R,xe=X;for(var se=0,ye=0,Ce=1;Ce<K;++Ce)$e[Ce]-$e[Ce-1]!==1&&(se-=$e[Ce],++ye);var ze=$e[K-1]-$e[0]-(K-1);if(se-=(12+ze)*ye,$e[0]!==0&&(se-=$e[0]*10),!Ge)se*=1e3;else{for(var Ne=1,Ce=ae[0];Ce<ee;Ce=ae[Ce])++Ne;Ne>24&&(se*=(Ne-24)*10)}Ue&&(se/=10),ge&&(se/=10),se-=ee-K,Y.score=se;for(var Ce=0;Ce<xe;++Ce)Y._indexes[Ce]=$e[Ce];return Y._indexes.len=xe,Y}},$=(F,Y)=>{for(var q=new Set,W=0,re=N,H=0,K=F.spaceSearches,X=0;X<K.length;++X){var ee=K[X];if(re=m(ee,Y),re===N)return N;W+=re.score,re._indexes[0]<H&&(W-=H-re._indexes[0]),H=re._indexes[0];for(var ie=0;ie<re._indexes.len;++ie)q.add(re._indexes[ie])}re.score=W;var X=0;for(let te of q)re._indexes[X++]=te;return re._indexes.len=X,re},k=F=>{for(var Y=F.length,q=F.toLowerCase(),W=[],re=0,H=!1,K=0;K<Y;++K){var ee=W[K]=q.charCodeAt(K);if(ee===32){H=!0;continue}var ie=ee>=97&&ee<=122?ee-97:ee>=48&&ee<=57?26:ee<=127?30:31;re|=1<<ie}return{lowerCodes:W,bitflags:re,containsSpace:H,_lower:q}},y=F=>{for(var Y=F.length,q=[],W=0,re=!1,H=!1,K=0;K<Y;++K){var ee=F.charCodeAt(K),ie=ee>=65&&ee<=90,X=ie||ee>=97&&ee<=122||ee>=48&&ee<=57,te=ie&&!re||!H||!X;re=ie,H=X,te&&(q[W++]=K)}return q},T=F=>{for(var Y=F.length,q=y(F),W=[],re=q[0],H=0,K=0;K<Y;++K)re>K?W[K]=re:(re=q[++H],W[K]=re===void 0?Y:re);return W},E=()=>{S.clear(),C.clear(),R=[],D=[]},S=new Map,C=new Map,R=[],D=[],O=F=>{for(var Y=V,q=F.length,W=0;W<q;++W){var re=F[W];if(re!==N){var H=re.score;H>Y&&(Y=H)}}return Y===V?N:Y},A=(F,Y)=>{var q=F[Y];if(q!==void 0)return q;var W=Y;Array.isArray(Y)||(W=Y.split("."));for(var re=W.length,H=-1;F&&++H<re;)F=F[W[H]];return F},B=F=>typeof F=="object",M=1/0,V=-M,J=[];J.total=0;var N=null,j=F=>{var Y=[],q=0,W={},re=H=>{for(var K=0,ee=Y[K],ie=1;ie<q;){var X=ie+1;K=ie,X<q&&Y[X].score<Y[ie].score&&(K=X),Y[K-1>>1]=Y[K],ie=1+(K<<1)}for(var te=K-1>>1;K>0&&ee.score<Y[te].score;te=(K=te)-1>>1)Y[K]=Y[te];Y[K]=ee};return W.add=H=>{var K=q;Y[q++]=H;for(var ee=K-1>>1;K>0&&H.score<Y[ee].score;ee=(K=ee)-1>>1)Y[K]=Y[ee];Y[K]=H},W.poll=H=>{if(q!==0){var K=Y[0];return Y[0]=Y[--q],re(),K}},W.peek=H=>{if(q!==0)return Y[0]},W.replaceTop=H=>{Y[0]=H,re()},W},z=j();return{single:l,go:t,highlight:n,prepare:f,indexes:r,cleanup:E}})})(dg);function C1(i,e,l){const t=i.slice();return t[6]=e[l],t}function I1(i,e,l){const t=i.slice();return t[9]=e[l],t}function T3(i){let e;return{c(){e=p("pre"),e.textContent="..."},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function S3(i){let e,l,t=[...i[1].keys()],n=[];for(let f=0;f<t.length;f+=1)n[f]=B1(C1(i,t,f));const o=f=>v(n[f],1,1,()=>{n[f]=null});let r=null;return t.length||(r=R1()),{c(){for(let f=0;f<n.length;f+=1)n[f].c();e=ne(),r&&r.c()},m(f,a){for(let s=0;s<n.length;s+=1)n[s].m(f,a);g(f,e,a),r&&r.m(f,a),l=!0},p(f,a){if(a&3){t=[...f[1].keys()];let s;for(s=0;s<t.length;s+=1){const u=C1(f,t,s);n[s]?(n[s].p(u,a),b(n[s],1)):(n[s]=B1(u),n[s].c(),b(n[s],1),n[s].m(e.parentNode,e))}for(Z(),s=t.length;s<n.length;s+=1)o(s);Q(),!t.length&&r?r.p(f,a):t.length?r&&(r.d(1),r=null):(r=R1(),r.c(),r.m(e.parentNode,e))}},i(f){if(!l){for(let a=0;a<t.length;a+=1)b(n[a]);l=!0}},o(f){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)v(n[a]);l=!1},d(f){ce(n,f),f&&h(e),r&&r.d(f)}}}function R1(i){let e;return{c(){e=p("em"),e.textContent="No results."},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function N1(i){let e;return{c(){e=p("em"),e.textContent="(obsolete)",Je(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function O1(i){let e,l,t,n,o=be(i[0]._flatten(i[9]))+"",r,f,a,s=/obsolet/.test(i[9].__filename),u;l=new et({props:{item:i[0]._flatten(i[9])}});let c=s&&N1();return{c(){e=p("li"),U(l.$$.fragment),t=I(),n=p("a"),r=w(o),a=I(),c&&c.c(),fe(n,"href",f="#/"+kl(i[9].type)+"/"+i[9].id)},m(m,$){g(m,e,$),L(l,e,null),d(e,t),d(e,n),d(n,r),d(e,a),c&&c.m(e,null),u=!0},p(m,$){const k={};$&3&&(k.item=m[0]._flatten(m[9])),l.$set(k),(!u||$&3)&&o!==(o=be(m[0]._flatten(m[9]))+"")&&P(r,o),(!u||$&2&&f!==(f="#/"+kl(m[9].type)+"/"+m[9].id))&&fe(n,"href",f),$&2&&(s=/obsolet/.test(m[9].__filename)),s?c||(c=N1(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(m){u||(b(l.$$.fragment,m),u=!0)},o(m){v(l.$$.fragment,m),u=!1},d(m){m&&h(e),G(l),c&&c.d()}}}function B1(i){let e,l=i[6].replace(/_/g," ")+"",t,n,o,r,f,a=i[1].get(i[6]),s=[];for(let c=0;c<a.length;c+=1)s[c]=O1(I1(i,a,c));const u=c=>v(s[c],1,1,()=>{s[c]=null});return{c(){e=p("h1"),t=w(l),n=I(),o=p("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=I()},m(c,m){g(c,e,m),d(e,t),g(c,n,m),g(c,o,m);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(o,r),f=!0},p(c,m){if((!f||m&2)&&l!==(l=c[6].replace(/_/g," ")+"")&&P(t,l),m&3){a=c[1].get(c[6]);let $;for($=0;$<a.length;$+=1){const k=I1(c,a,$);s[$]?(s[$].p(k,m),b(s[$],1)):(s[$]=O1(k),s[$].c(),b(s[$],1),s[$].m(o,r))}for(Z(),$=a.length;$<s.length;$+=1)u($);Q()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)v(s[m]);f=!1},d(c){c&&h(e),c&&h(n),c&&h(o),ce(s,c)}}}function C3(i){let e,l,t,n;const o=[S3,T3],r=[];function f(a,s){return a[1]?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(Z(),v(r[u],1,1,()=>{r[u]=null}),Q(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}const I3=/[\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f\u3131-\ud79d]/;function R3(i,e,l){let t;const n=new Set(["item","monster","furniture","vehicle_part","tool_quality","martial_art","mutation","vehicle","terrain"]);let{data:o}=e,r,{search:f}=e;function a(s){const u=dg.exports.go(s,r,{limit:100,keys:["id","name","variant_id"],threshold:-1e4}),c=new Map;for(const{obj:m}of u){const $=m.type;if(!n.has($)||(c.has($)||c.set($,[]),c.get($).some(y=>y.id===m.id)))continue;const k=o.byId($,m.id);c.get($).push(k)}return c}return i.$$set=s=>{"data"in s&&l(0,o=s.data),"search"in s&&l(2,f=s.search)},i.$$.update=()=>{var s;i.$$.dirty&1&&zr("data",o),i.$$.dirty&1&&(r=[...(s=o==null?void 0:o.all())!=null?s:[]].filter(u=>"id"in u&&typeof u.id=="string"&&n.has(kl(u.type))).filter(u=>u.type==="mutation"?!/Fake\d$/.test(u.id):!0).flatMap(u=>[{id:u.id,name:be(u),type:kl(u.type)}].concat("variants"in u?u.variants.map(c=>({id:u.id,variant_id:c.id,name:Vt(c.name),type:kl(u.type)})):[]))),i.$$.dirty&5&&l(1,t=f&&(f.length>=2||I3.test(f))&&o&&a(f)),i.$$.dirty&4&&history.replaceState({search:f},"")},[o,t,f]}class N3 extends Xe{constructor(e){super(),Ve(this,e,R3,C3,je,{data:0,search:2})}}function A1(i,e,l){const t=i.slice();return t[9]=e[l],t}function O3(i){let e,l,t,n,o,r=i[9]&&A3(i);return t=new st({props:{items:i[3].get(i[9]).filter(i[5]),limit:i[4].length===1?1/0:10,$$slots:{default:[M3,({item:f})=>({12:f}),({item:f})=>f?4096:0]},$$scope:{ctx:i}}}),{c(){e=p("section"),r&&r.c(),l=I(),U(t.$$.fragment),n=I()},m(f,a){g(f,e,a),r&&r.m(e,null),d(e,l),L(t,e,null),d(e,n),o=!0},p(f,a){f[9]&&r.p(f,a);const s={};a&12289&&(s.$$scope={dirty:a,ctx:f}),t.$set(s)},i(f){o||(b(t.$$.fragment,f),o=!0)},o(f){v(t.$$.fragment,f),o=!1},d(f){f&&h(e),r&&r.d(),G(t)}}}function B3(i){let e,l;return e=new Oh({props:{item:i[1].byId("mutation_category",i[9]),inCatalog:!0}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.item=t[1].byId("mutation_category",t[9])),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function A3(i){let e,l=i[9]+"",t;return{c(){e=p("h1"),t=w(l)},m(n,o){g(n,e,o),d(e,t)},p:x,d(n){n&&h(e)}}}function M1(i){let e,l;return e=new et({props:{item:i[12]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&4096&&(o.item=t[12]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function M3(i){let e,l,t,n=(i[0]==="item"||i[0]==="terrain"||i[0]==="furniture"||i[0]==="monster")&&M1(i);return l=new ue({props:{type:i[2],id:i[12].id}}),{c(){n&&n.c(),e=I(),U(l.$$.fragment)},m(o,r){n&&n.m(o,r),g(o,e,r),L(l,o,r),t=!0},p(o,r){o[0]==="item"||o[0]==="terrain"||o[0]==="furniture"||o[0]==="monster"?n?(n.p(o,r),r&1&&b(n,1)):(n=M1(o),n.c(),b(n,1),n.m(e.parentNode,e)):n&&(Z(),v(n,1,1,()=>{n=null}),Q());const f={};r&4096&&(f.id=o[12].id),l.$set(f)},i(o){t||(b(n),b(l.$$.fragment,o),t=!0)},o(o){v(n),v(l.$$.fragment,o),t=!1},d(o){n&&n.d(o),o&&h(e),G(l,o)}}}function D1(i){let e,l,t,n,o;const r=[B3,O3],f=[];function a(s,u){return u&3&&(e=null),e==null&&(e=!!(s[0]==="mutation"&&s[9]&&s[1].byId("mutation_category",s[9]))),e?0:1}return l=a(i,-1),t=f[l]=r[l](i),{c(){t.c(),n=ne()},m(s,u){f[l].m(s,u),g(s,n,u),o=!0},p(s,u){let c=l;l=a(s,u),l===c?f[l].p(s,u):(Z(),v(f[c],1,1,()=>{f[c]=null}),Q(),t=f[l],t?t.p(s,u):(t=f[l]=r[l](s),t.c()),b(t,1),t.m(n.parentNode,n))},i(s){o||(b(t),o=!0)},o(s){v(t),o=!1},d(s){f[l].d(s),s&&h(n)}}}function D3(i){let e,l,t,n,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=D1(A1(i,r,s));const a=s=>v(f[s],1,1,()=>{f[s]=null});return{c(){e=p("h1"),l=w(i[0]),t=I();for(let s=0;s<f.length;s+=1)f[s].c();n=ne()},m(s,u){g(s,e,u),d(e,l),g(s,t,u);for(let c=0;c<f.length;c+=1)f[c].m(s,u);g(s,n,u),o=!0},p(s,[u]){if((!o||u&1)&&P(l,s[0]),u&4159){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=A1(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=D1(m),f[c].c(),b(f[c],1),f[c].m(n.parentNode,n))}for(Z(),c=r.length;c<f.length;c+=1)a(c);Q()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);o=!1},d(s){s&&h(e),s&&h(t),ce(f,s),s&&h(n)}}}function L3(i){return i.category?i.category.toLowerCase():i.type==="GUN"?"guns":i.type==="MAGAZINE"?"magazines":i.type==="AMMO"?"ammo":i.type==="TOOL"?"tools":i.type==="ARMOR"?"clothing":i.type==="COMESTIBLE"?i.comestible_type==="MED"?"drugs":"food":i.type==="BOOK"?"books":i.type==="GUNMOD"?"mods":i.type==="BIONIC_ITEM"?"bionics":i.bashing||i.cutting?"weapons":"other"}function G3(i,e,l){var m,$;let{type:t}=e,{data:n}=e,o=t;zr("data",n);const r=n.byType(t).filter(k=>k.id);r.sort((k,y)=>be(k).localeCompare(be(y)));function f(k){return be(n.byId("ITEM_CATEGORY",k))}const a=(m={monster:k=>{var y;return[(y=k.default_faction)!=null?y:""]},item:k=>[`${k.type} (${f(L3(k))})`],vehicle_part:k=>{var y;return(y=k.categories)!=null?y:[""]},mutation:k=>{var y;return(y=k.category)!=null?y:[""]}}[t])!=null?m:()=>[""],s=Zr(r,a),u=[...s.keys()].sort(),c=($={mutation:k=>!/Fake\d$/.test(k.id)}[t])!=null?$:()=>!0;return i.$$set=k=>{"type"in k&&l(0,t=k.type),"data"in k&&l(1,n=k.data)},[t,n,o,s,u,c]}class U3 extends Xe{constructor(e){super(),Ve(this,e,G3,D3,je,{type:0,data:1})}}var q3="./assets/dont_panic.c90f0625.png",mg="Expected a function",L1=0/0,P3="[object Symbol]",F3=/^\s+|\s+$/g,Y3=/^[-+]0x[0-9a-f]+$/i,j3=/^0b[01]+$/i,H3=/^0o[0-7]+$/i,W3=parseInt,z3=typeof fi=="object"&&fi&&fi.Object===Object&&fi,V3=typeof self=="object"&&self&&self.Object===Object&&self,X3=z3||V3||Function("return this")(),J3=Object.prototype,K3=J3.toString,Z3=Math.max,Q3=Math.min,Tr=function(){return X3.Date.now()};function x3(i,e,l){var t,n,o,r,f,a,s=0,u=!1,c=!1,m=!0;if(typeof i!="function")throw new TypeError(mg);e=G1(e)||0,Zi(l)&&(u=!!l.leading,c="maxWait"in l,o=c?Z3(G1(l.maxWait)||0,e):o,m="trailing"in l?!!l.trailing:m);function $(O){var A=t,B=n;return t=n=void 0,s=O,r=i.apply(B,A),r}function k(O){return s=O,f=setTimeout(E,e),u?$(O):r}function y(O){var A=O-a,B=O-s,M=e-A;return c?Q3(M,o-B):M}function T(O){var A=O-a,B=O-s;return a===void 0||A>=e||A<0||c&&B>=o}function E(){var O=Tr();if(T(O))return S(O);f=setTimeout(E,y(O))}function S(O){return f=void 0,m&&t?$(O):(t=n=void 0,r)}function C(){f!==void 0&&clearTimeout(f),s=0,t=a=n=f=void 0}function R(){return f===void 0?r:S(Tr())}function D(){var O=Tr(),A=T(O);if(t=arguments,n=this,a=O,A){if(f===void 0)return k(a);if(c)return f=setTimeout(E,e),$(a)}return f===void 0&&(f=setTimeout(E,e)),r}return D.cancel=C,D.flush=R,D}function eI(i,e,l){var t=!0,n=!0;if(typeof i!="function")throw new TypeError(mg);return Zi(l)&&(t="leading"in l?!!l.leading:t,n="trailing"in l?!!l.trailing:n),x3(i,e,{leading:t,maxWait:e,trailing:n})}function Zi(i){var e=typeof i;return!!i&&(e=="object"||e=="function")}function tI(i){return!!i&&typeof i=="object"}function lI(i){return typeof i=="symbol"||tI(i)&&K3.call(i)==P3}function G1(i){if(typeof i=="number")return i;if(lI(i))return L1;if(Zi(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=Zi(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=i.replace(F3,"");var l=j3.test(i);return l||H3.test(i)?W3(i.slice(2),l?2:8):Y3.test(i)?L1:+i}var nI=eI;const{window:U1}=Dg;function q1(i,e,l){const t=i.slice();return t[25]=e[l],t}function iI(i){const e=i.slice(),l=e[6]==="latest"?e[3][0].build_number:e[6];return e[24]=l,e}function P1(i,e,l){const t=i.slice();return t[28]=e[l].name,t[11]=e[l].url,t}function F1(i,e,l){const t=i.slice();return t[31]=e[l],t[33]=l,t}function Y1(i,e,l){const t=i.slice();return t[31]=e[l],t}function rI(i){let e,l,t,n,o,r,f,a,s,u,c,m,$,k,y,T=i[5]&&j1(i);return{c(){e=p("img"),t=I(),n=p("p"),n.innerHTML=`The <strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the
      zombie survival roguelike game
      <a href="https://cataclysmdda.org/">Cataclysm: Dark Days Ahead</a>. You
      can search for things in the game, like items (e.g. a
      <a href="#/item/flashlight">flashlight</a>), furniture (e.g. a
      <a href="#/furniture/f_table">table</a>), or monsters (e.g. a
      <a href="#/monster/mon_zombie">zombie</a>), and find useful information
      about them. The data in the Guide comes directly from the JSON files in
      the game itself.`,o=I(),r=p("p"),f=w(`The Guide stores all its data locally and is offline-capable, so you can
      take it with you whereever you go. There's nothing to do to make the Guide
      work offline, just visit the page and it will work even without internet
      access, as long as you've visited it once before.
      `),T&&T.c(),a=I(),s=p("p"),s.textContent=`More popular than the Celestial Home Care Omnibus, better selling than
      Fifty-three More Things to do in Zero Gravity, and more controversial than
      Oolon Colluphid's trilogy of philosophical blockbusters Where God Went
      Wrong, Some More of God's Greatest Mistakes and Who is this God Person
      Anyway?`,u=I(),c=p("p"),c.innerHTML=`The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a>
      by <a href="https://www.nornagon.net">nornagon</a>. If you notice any
      problems, please
      <a href="https://github.com/nornagon/cdda-guide/issues">file an issue</a>!`,m=I(),$=p("h2"),$.textContent="Catalogs",k=I(),y=p("ul"),y.innerHTML=`<li><a href="#/item">Items</a></li> 
      <li><a href="#/monster">Monsters</a></li> 
      <li><a href="#/furniture">Furniture</a></li> 
      <li><a href="#/terrain">Terrain</a></li> 
      <li><a href="#/vehicle_part">Vehicle Parts</a></li> 
      <li><a href="#/tool_quality">Qualities</a></li> 
      <li><a href="#/mutation">Mutations</a></li> 
      <li><a href="#/martial_art">Martial Arts</a></li> 
      <li><a href="#/json_flag">Flags</a></li> 
      <li><a href="#/achievement">Achievements</a> /
        <a href="#/conduct">Conducts</a></li>`,Sg(e.src,l=q3)||fe(e,"src",l),fe(e,"height","200"),fe(e,"width","343"),Je(e,"float","right"),fe(e,"alt","The words 'Don't Panic' in big friendly letters"),Je(s,"font-style","italic"),Je(s,"color","var(--cata-color-gray)")},m(E,S){g(E,e,S),g(E,t,S),g(E,n,S),g(E,o,S),g(E,r,S),d(r,f),T&&T.m(r,null),g(E,a,S),g(E,s,S),g(E,u,S),g(E,c,S),g(E,m,S),g(E,$,S),g(E,k,S),g(E,y,S)},p(E,S){E[5]?T?T.p(E,S):(T=j1(E),T.c(),T.m(r,null)):T&&(T.d(1),T=null)},i:x,o:x,d(E){E&&h(e),E&&h(t),E&&h(n),E&&h(o),E&&h(r),T&&T.d(),E&&h(a),E&&h(s),E&&h(u),E&&h(c),E&&h(m),E&&h($),E&&h(k),E&&h(y)}}}function oI(i){let e=i[4],l,t,n=H1(i);return{c(){n.c(),l=ne()},m(o,r){n.m(o,r),g(o,l,r),t=!0},p(o,r){r[0]&16&&je(e,e=o[4])?(Z(),v(n,1,1,x),Q(),n=H1(o),n.c(),b(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(b(n),t=!0)},o(o){v(n),t=!1},d(o){o&&h(l),n.d(o)}}}function fI(i){let e,l,t,n;const o=[aI,sI],r=[];function f(a,s){return a[1]?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(Z(),v(r[u],1,1,()=>{r[u]=null}),Q(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function j1(i){let e,l,t,n,o;return{c(){e=w("It's also "),l=p("button"),l.textContent="installable",t=w(", so you can pop it out of your browser and use it like a regular app."),fe(l,"class","disclosure")},m(r,f){g(r,e,f),g(r,l,f),g(r,t,f),n||(o=Sl(l,"click",i[15]),n=!0)},p:x,d(r){r&&h(e),r&&h(l),r&&h(t),n=!1,o()}}}function H1(i){let e,l;return e=new N3({props:{data:i[1],search:i[4]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.data=t[1]),n[0]&16&&(o.search=t[4]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function sI(i){let e;return{c(){e=p("em"),e.textContent="Loading...",Je(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},p:x,i:x,o:x,d(l){l&&h(e)}}}function aI(i){let e=i[2],l,t,n=W1(i);return{c(){n.c(),l=ne()},m(o,r){n.m(o,r),g(o,l,r),t=!0},p(o,r){r[0]&4&&je(e,e=o[2])?(Z(),v(n,1,1,x),Q(),n=W1(o),n.c(),b(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(b(n),t=!0)},o(o){v(n),t=!1},d(o){o&&h(l),n.d(o)}}}function uI(i){let e,l;return e=new U3({props:{type:i[2].type,data:i[1]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&4&&(o.type=t[2].type),n[0]&2&&(o.data=t[1]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function cI(i){let e,l;return e=new E3({props:{item:i[2],data:i[1]}}),{c(){U(e.$$.fragment)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&4&&(o.item=t[2]),n[0]&2&&(o.data=t[1]),e.$set(o)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function W1(i){let e,l,t,n;const o=[cI,uI],r=[];function f(a,s){return a[2].id?0:1}return e=f(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},m(a,s){r[e].m(a,s),g(a,t,s),n=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(Z(),v(r[u],1,1,()=>{r[u]=null}),Q(),l=r[e],l?l.p(a,s):(l=r[e]=o[e](a),l.c()),b(l,1),l.m(t.parentNode,t))},i(a){n||(b(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function _I(i){let e;return{c(){e=p("em"),e.textContent="(loading...)",Je(e,"color","var(--cata-color-gray)")},m(l,t){g(l,e,t)},p:x,d(l){l&&h(e)}}}function dI(i){let e;function l(o,r){if(o[3])return pI;if(o[1])return mI}let t=l(i),n=t&&t(i);return{c(){n&&n.c(),e=ne()},m(o,r){n&&n.m(o,r),g(o,e,r)},p(o,r){t===(t=l(o))&&n?n.p(o,r):(n&&n.d(1),n=t&&t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n&&n.d(o),o&&h(e)}}}function mI(i){let e,l,t=i[1].build_number+"",n,o;return{c(){e=p("select"),l=p("option"),n=w(t),l.__value=o=i[1].build_number,l.value=l.__value,e.disabled=!0},m(r,f){g(r,e,f),d(e,l),d(l,n)},p(r,f){f[0]&2&&t!==(t=r[1].build_number+"")&&P(n,t),f[0]&10&&o!==(o=r[1].build_number)&&(l.__value=o,l.value=l.__value)},d(r){r&&h(e)}}}function pI(i){let e,l,t,n,o,r,f=i[3].filter(Q1),a=[];for(let c=0;c<f.length;c+=1)a[c]=z1(Y1(i,f,c));let s=i[3].filter(x1),u=[];for(let c=0;c<s.length;c+=1)u[c]=V1(F1(i,s,c));return{c(){e=p("select"),l=p("optgroup");for(let c=0;c<a.length;c+=1)a[c].c();t=p("optgroup");for(let c=0;c<u.length;c+=1)u[c].c();fe(l,"label","Stable"),fe(t,"label","Experimental")},m(c,m){var $,k;g(c,e,m),d(e,l);for(let y=0;y<a.length;y+=1)a[y].m(l,null);d(e,t);for(let y=0;y<u.length;y+=1)u[y].m(t,null);ci(e,(k=($=i[1])==null?void 0:$.build_number)!=null?k:i[6]==="latest"?i[3][0].build_number:i[6]),o||(r=Sl(e,"change",i[16]),o=!0)},p(c,m){var $,k,y,T;if(m[0]&8){f=c[3].filter(Q1);let E;for(E=0;E<f.length;E+=1){const S=Y1(c,f,E);a[E]?a[E].p(S,m):(a[E]=z1(S),a[E].c(),a[E].m(l,null))}for(;E<a.length;E+=1)a[E].d(1);a.length=f.length}if(m[0]&8){s=c[3].filter(x1);let E;for(E=0;E<s.length;E+=1){const S=F1(c,s,E);u[E]?u[E].p(S,m):(u[E]=V1(S),u[E].c(),u[E].m(t,null))}for(;E<u.length;E+=1)u[E].d(1);u.length=s.length}m[0]&10&&n!==(n=(k=($=c[1])==null?void 0:$.build_number)!=null?k:c[6]==="latest"?c[3][0].build_number:c[6])&&ci(e,(T=(y=c[1])==null?void 0:y.build_number)!=null?T:c[6]==="latest"?c[3][0].build_number:c[6])},d(c){c&&h(e),ce(a,c),ce(u,c),o=!1,r()}}}function z1(i){let e,l=i[31].build_number+"",t,n;return{c(){e=p("option"),t=w(l),e.__value=n=i[31].build_number,e.value=e.__value},m(o,r){g(o,e,r),d(e,t)},p(o,r){r[0]&8&&l!==(l=o[31].build_number+"")&&P(t,l),r[0]&8&&n!==(n=o[31].build_number)&&(e.__value=n,e.value=e.__value)},d(o){o&&h(e)}}}function hI(i){let e;return{c(){e=w("\xA0(latest)")},m(l,t){g(l,e,t)},d(l){l&&h(e)}}}function V1(i){let e,l=i[31].build_number+"",t,n,o=i[33]===0&&hI();return{c(){e=p("option"),t=w(l),o&&o.c(),e.__value=n=i[31].build_number,e.value=e.__value},m(r,f){g(r,e,f),d(e,t),o&&o.m(e,null)},p(r,f){f[0]&8&&l!==(l=r[31].build_number+"")&&P(t,l),f[0]&8&&n!==(n=r[31].build_number)&&(e.__value=n,e.value=e.__value)},d(r){r&&h(e),o&&o.d()}}}function X1(i){let e,l=i[28]+"",t,n;return{c(){e=p("option"),t=w(l),e.__value=n=i[11],e.value=e.__value},m(o,r){g(o,e,r),d(e,t)},p:x,d(o){o&&h(e)}}}function gI(i){let e,l;return{c(){e=p("select"),l=p("option"),l.textContent="Loading...",l.__value="Loading...",l.value=l.__value,e.disabled=!0},m(t,n){g(t,e,n),d(e,l)},p:x,d(t){t&&h(e)}}}function J1(i){var a,s;let e,l,t,n;function o(...u){return i[18](i[24],...u)}let r=[...(s=(a=i[3].find(o))==null?void 0:a.langs)!=null?s:[]].sort(eh),f=[];for(let u=0;u<r.length;u+=1)f[u]=K1(q1(i,r,u));return{c(){e=p("select"),l=p("option"),l.textContent="English";for(let u=0;u<f.length;u+=1)f[u].c();l.__value="en",l.value=l.__value},m(u,c){var m;g(u,e,c),d(e,l);for(let $=0;$<f.length;$+=1)f[$].m(e,null);ci(e,(m=i[7])!=null?m:"en"),t||(n=Sl(e,"change",i[19]),t=!0)},p(u,c){var m,$;if(i=u,c[0]&72){r=[...($=(m=i[3].find(o))==null?void 0:m.langs)!=null?$:[]].sort(eh);let k;for(k=0;k<r.length;k+=1){const y=q1(i,r,k);f[k]?f[k].p(y,c):(f[k]=K1(y),f[k].c(),f[k].m(e,null))}for(;k<f.length;k+=1)f[k].d(1);f.length=r.length}},d(u){u&&h(e),ce(f,u),t=!1,n()}}}function K1(i){let e,l=Z1(i[25])+"",t,n;return{c(){e=p("option"),t=w(l),e.__value=n=i[25],e.value=e.__value},m(o,r){g(o,e,r),d(e,t)},p(o,r){r[0]&8&&l!==(l=Z1(o[25])+"")&&P(t,l),r[0]&8&&n!==(n=o[25])&&(e.__value=n,e.value=e.__value)},d(o){o&&h(e)}}}function bI(i){let e,l,t,n,o,r,f,a,s,u,c,m,$,k,y,T,E,S,C,R,D,O,A,B,M,V;const J=[fI,oI,rI],N=[];function j(ie,X){return ie[2]?0:ie[4]?1:2}c=j(i),m=N[c]=J[c](i);function z(ie,X){return ie[1]||ie[3]?dI:_I}let F=z(i),Y=F(i),q=i[8],W=[];for(let ie=0;ie<q.length;ie+=1)W[ie]=X1(P1(i,q,ie));function re(ie,X){return ie[3]?J1:gI}function H(ie,X){return X===J1?iI(ie):ie}let K=re(i),ee=K(H(i,K));return{c(){e=p("header"),l=p("nav"),t=p("div"),n=p("strong"),o=p("a"),o.textContent="Hitchhiker's Guide to the Cataclysm",r=I(),f=p("div"),a=p("input"),s=I(),u=p("main"),m.c(),$=I(),k=p("p"),y=w(`Build:
    `),Y.c(),T=I(),E=p("span"),S=w(`Tiles:
      
      `),C=p("select"),R=p("option"),R.textContent="None (ASCII)";for(let ie=0;ie<W.length;ie+=1)W[ie].c();D=I(),O=p("span"),A=w(`Language:
      `),ee.c(),fe(o,"href","#"),fe(t,"class","title svelte-16u5hjb"),Je(a,"margin","0"),Je(a,"width","100%"),fe(a,"placeholder","Search..."),fe(a,"id","search"),fe(f,"class","search svelte-16u5hjb"),fe(l,"class","svelte-16u5hjb"),fe(e,"class","svelte-16u5hjb"),R.__value="",R.value=R.__value,Je(E,"white-space","nowrap"),Je(O,"white-space","nowrap"),fe(u,"class","svelte-16u5hjb")},m(ie,X){g(ie,e,X),d(e,l),d(l,t),d(t,n),d(n,o),d(l,r),d(l,f),d(f,a),Go(a,i[4]),g(ie,s,X),g(ie,u,X),N[c].m(u,null),d(u,$),d(u,k),d(k,y),Y.m(k,null),d(k,T),d(k,E),d(E,S),d(E,C),d(C,R);for(let te=0;te<W.length;te+=1)W[te].m(C,null);ci(C,i[0]),d(k,D),d(k,O),d(O,A),ee.m(O,null),B=!0,M||(V=[Sl(U1,"hashchange",i[9]),Sl(U1,"keydown",vI),Sl(o,"click",i[13]),Sl(a,"input",i[14]),Sl(a,"input",i[10]),Sl(C,"change",i[17])],M=!0)},p(ie,X){X[0]&16&&a.value!==ie[4]&&Go(a,ie[4]);let te=c;if(c=j(ie),c===te?N[c].p(ie,X):(Z(),v(N[te],1,1,()=>{N[te]=null}),Q(),m=N[c],m?m.p(ie,X):(m=N[c]=J[c](ie),m.c()),b(m,1),m.m(u,$)),F===(F=z(ie))&&Y?Y.p(ie,X):(Y.d(1),Y=F(ie),Y&&(Y.c(),Y.m(k,T))),X[0]&256){q=ie[8];let me;for(me=0;me<q.length;me+=1){const Ge=P1(ie,q,me);W[me]?W[me].p(Ge,X):(W[me]=X1(Ge),W[me].c(),W[me].m(C,null))}for(;me<W.length;me+=1)W[me].d(1);W.length=q.length}(!B||X[0]&257)&&ci(C,ie[0]),K===(K=re(ie))&&ee?ee.p(H(ie,K),X):(ee.d(1),ee=K(H(ie,K)),ee&&(ee.c(),ee.m(O,null)))},i(ie){B||(b(m),B=!0)},o(ie){v(m),B=!1},d(ie){ie&&h(e),ie&&h(s),ie&&h(u),N[c].d(),Y.d(),ce(W,ie),ee.d(),M=!1,In(V)}}}function $I(i){const e=new URL(location.href);return e.hash=i,e.toString()}function vI(i){i.key==="/"&&document.activeElement.id!=="search"&&(document.getElementById("search").focus(),i.preventDefault())}function Z1(i){var e;return(e={en:"English",ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",cs:"\u010Cesk\xFD Jazyk",da:"Dansk",de:"Deutsch",el:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",es_AR:"Espa\xF1ol (Argentina)",es_ES:"Espa\xF1ol (Espa\xF1a)",fr:"Fran\xE7ais",hu:"Magyar",id:"Bahasa Indonesia",is:"\xCDslenska",it_IT:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",nb:"Norsk",nl:"Nederlands",pl:"Polski",pt_BR:"Portugu\xEAs (Brasil)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sr:"\u0421\u0440\u043F\u0441\u043A\u0438",tr:"T\xFCrk\xE7e",uk_UA:"\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0438\u0439",zh_CN:"\u4E2D\u6587 (\u5929\u671D)",zh_TW:"\u4E2D\u6587 (\u53F0\u7063)"}[i])!=null?e:Intl!=null&&Intl.DisplayNames?new Intl.DisplayNames([i.replace(/_/,"-")],{type:"language"}).of(i.replace(/_/,"-")):i}const Q1=i=>!i.prerelease,x1=i=>i.prerelease,eh=(i,e)=>i.localeCompare(e);function kI(i,e,l){var J;let t,n;uh(i,Wo,N=>l(1,n=N));let o=null,r=null;fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/builds.json").then(N=>N.json()).then(N=>{l(3,r=N)}).catch(N=>{console.error(N)});const f=new URL(location.href),a=(J=f.searchParams.get("v"))!=null?J:"latest",s=f.searchParams.get("lang");Wo.setVersion(a,s);const u=[{name:"AltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Altica"},{name:"BrownLikeBears",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/BrownLikeBears"},{name:"Chibi_Ultica",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/ChibiUltica"},{name:"Cuteclysm(Alpha)",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Cuteclysm"},{name:"Hollow Moon",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/HollowMoon"},{name:"MSXotto+",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/MshockXotto%2B"},{name:"NeoDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/NeoDaysTileset"},{name:"RetroDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/RetroDaysTileset"},{name:"UltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/UltimateCataclysm"}],c=N=>N==="null"||!N?"":N;function m(){try{return c(localStorage.getItem("cdda-guide:tileset"))}catch{return null}}function $(N){try{localStorage.setItem("cdda-guide:tileset",c(N))}catch{}}let k=m();function y(){const N=window.location.hash.slice(1);let j;if(j=/^\/([^\/]+)(?:\/(.+))?$/.exec(N)){const[,z,F]=j;z==="search"?(l(2,o=null),l(4,T=decodeURIComponent(F!=null?F:""))):l(2,o={type:z,id:F?decodeURIComponent(F):""}),window.scrollTo(0,0)}else l(2,o=null),l(4,T="")}Rg(y);let T="";const E=nI(history.replaceState.bind(history),100),S=()=>{o?history.pushState(null,"",location.href.replace(/#.*$/,"")):E(null,"",$I("/search/"+T)),l(2,o=null)};let C;window.addEventListener("beforeinstallprompt",N=>{l(5,C=N)});const R=()=>l(4,T="");function D(){T=this.value,l(4,T)}const O=N=>{N.preventDefault(),C.prompt()},A=N=>{const j=new URL(location.href),z=N.currentTarget.value;z===r[0].build_number?j.searchParams.delete("v"):j.searchParams.set("v",z),location.href=j.toString()},B=N=>{l(0,k=N.currentTarget.value)},M=(N,j)=>j.build_number===N,V=N=>{const j=new URL(location.href),z=N.currentTarget.value;z==="en"?j.searchParams.delete("lang"):j.searchParams.set("lang",z),location.href=j.toString()};return i.$$.update=()=>{i.$$.dirty[0]&1&&$(k),i.$$.dirty[0]&3&&l(12,t=n?k.replace("{version}",n.build_number):null),i.$$.dirty[0]&4096&&$h.setURL(t)},[k,n,o,r,T,C,a,s,u,y,S,f,t,R,D,O,A,B,M,V]}class yI extends Xe{constructor(e){super(),Ve(this,e,kI,bI,je,{},null,[-1,-1])}}function _o(i){var e=Xt().getClient(),l=i||e&&e.getOptions();return!!l&&("tracesSampleRate"in l||"tracesSampler"in l)}function rr(i){var e=i||Xt(),l=e.getScope();return l&&l.getTransaction()}function nl(i){return i/1e3}function wI(){vl("error",th),vl("unhandledrejection",th)}function th(){var i=rr();if(i){var e="internal_error";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] Transaction: ${e} -> Global error occured`),i.setStatus(e)}}class or{__init(){this.spans=[]}constructor(e=1e3){or.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class zl{__init2(){this.traceId=Kl()}__init3(){this.spanId=Kl().substring(16)}__init4(){this.startTimestamp=hi()}__init5(){this.tags={}}__init6(){this.data={}}constructor(e){if(zl.prototype.__init2.call(this),zl.prototype.__init3.call(this),zl.prototype.__init4.call(this),zl.prototype.__init5.call(this),zl.prototype.__init6.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){var l=new zl({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return l.spanRecorder=this.spanRecorder,l.spanRecorder&&l.spanRecorder.add(l),l.transaction=this.transaction,l}setTag(e,l){return this.tags={...this.tags,[e]:l},this}setData(e,l){return this.data={...this.data,[e]:l},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));var l=EI(e);return l!=="unknown_error"&&this.setStatus(l),this}isSuccess(){return this.status==="ok"}finish(e){this.endTimestamp=typeof e=="number"?e:hi()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return on({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=Vl(e.data,()=>({})),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=Vl(e.spanId,()=>this.spanId),this.startTimestamp=Vl(e.startTimestamp,()=>this.startTimestamp),this.status=e.status,this.tags=Vl(e.tags,()=>({})),this.traceId=Vl(e.traceId,()=>this.traceId),this}getTraceContext(){return on({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}getBaggage(){var e=this.transaction&&this.transaction.metadata.baggage,l=!e||Vh(e)&&Yr(e)?this._getBaggageWithSentryValues(e):e;return l}toJSON(){return on({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}_getBaggageWithSentryValues(e=zh({})){var l=this.transaction&&this.transaction._hub||Xt(),t=l.getClient();const{environment:n,release:o}=t&&t.getOptions()||{};return n&&p1(e,"environment",n),o&&p1(e,"release",o),Xh(e),e}}function EI(i){if(i<400&&i>=100)return"ok";if(i>=400&&i<500)switch(i){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(i>=500&&i<600)switch(i){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class fr extends zl{__init(){this._measurements={}}constructor(e,l){super(e),fr.prototype.__init.call(this),this._hub=l||Xt(),this.name=e.name||"",this.metadata=e.metadata||{},this._trimEnd=e.trimEnd,this.transaction=this}setName(e){this.name=e}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new or(e)),this.spanRecorder.add(this)}setMeasurement(e,l,t=""){this._measurements[e]={value:l,unit:t}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),this.sampled!==!0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var l=this._hub.getClient();l&&l.recordDroppedEvent("sample_rate","transaction");return}var t=this.spanRecorder?this.spanRecorder.spans.filter(r=>r!==this&&r.endTimestamp):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce((r,f)=>r.endTimestamp&&f.endTimestamp?r.endTimestamp>f.endTimestamp?r:f:r).endTimestamp);var n={contexts:{trace:this.getTraceContext(),baggage:qS(this.getBaggage())},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},o=Object.keys(this._measurements).length>0;return o&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),n.measurements=this._measurements),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(n)}}toContext(){var e=super.toContext();return on({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=Vl(e.name,()=>""),this._trimEnd=e.trimEnd,this}}var pg=1e3,hg=3e4,TI=5e3;class SI extends or{constructor(e,l,t,n){super(n),this._pushActivity=e,this._popActivity=l,this.transactionSpanId=t}add(e){e.spanId!==this.transactionSpanId&&(e.finish=l=>{e.endTimestamp=typeof l=="number"?l:hi(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class mn extends fr{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,l,t=pg,n=hg,o=!1){super(e,l),this._idleHub=l,this._idleTimeout=t,this._finalTimeout=n,this._onScope=o,mn.prototype.__init.call(this),mn.prototype.__init2.call(this),mn.prototype.__init3.call(this),mn.prototype.__init4.call(this),o&&(lh(l),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),l.configureScope(r=>r.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(e=hi()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(var l of this._beforeFinishCallbacks)l(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n}),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] No active IdleTransaction");return this._onScope&&lh(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){var l=n=>{this._finished||this._pushActivity(n)},t=n=>{this._finished||this._popActivity(n)};this.spanRecorder=new SI(l,t,this.spanId,e),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(e)},this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var l=hi()+this._idleTimeout/1e3;this._startIdleTimeout(l)}}_beat(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},TI)}}function lh(i){var e=i.getScope();if(e){var l=e.getTransaction();l&&e.setSpan(void 0)}}function CI(){var i=this.getScope();if(i){var e=i.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function gg(i,e,l){if(!_o(e))return i.sampled=!1,i;if(i.sampled!==void 0)return i.setMetadata({transactionSampling:{method:"explicitly_set"}}),i;let t;return typeof e.tracesSampler=="function"?(t=e.tracesSampler(l),i.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(t)}})):l.parentSampled!==void 0?(t=l.parentSampled,i.setMetadata({transactionSampling:{method:"inheritance"}})):(t=e.tracesSampleRate,i.setMetadata({transactionSampling:{method:"client_rate",rate:Number(t)}})),II(t)?t?(i.sampled=Math.random()<t,i.sampled?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] starting ${i.op} transaction - ${i.name}`),i):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(t)})`),i)):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),i.sampled=!1,i):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("[Tracing] Discarding transaction because of invalid sample rate."),i.sampled=!1,i)}function II(i){return Lh(i)||!(typeof i=="number"||typeof i=="boolean")?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),!1):i<0||i>1?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${i}.`),!1):!0}function RI(i,e){var l=this.getClient(),t=l&&l.getOptions()||{};let n=new fr(i,this);return n=gg(n,t,{parentSampled:i.parentSampled,transactionContext:i,...e}),n.sampled&&n.initSpanRecorder(t._experiments&&t._experiments.maxSpans),n}function NI(i,e,l,t,n,o){var r=i.getClient(),f=r&&r.getOptions()||{};let a=new mn(e,i,l,t,n);return a=gg(a,f,{parentSampled:e.parentSampled,transactionContext:e,...o}),a.sampled&&a.initSpanRecorder(f._experiments&&f._experiments.maxSpans),a}function OI(){var i=Nn();!i.__SENTRY__||(i.__SENTRY__.extensions=i.__SENTRY__.extensions||{},i.__SENTRY__.extensions.startTransaction||(i.__SENTRY__.extensions.startTransaction=RI),i.__SENTRY__.extensions.traceHeaders||(i.__SENTRY__.extensions.traceHeaders=CI))}function BI(){var i=Nn();if(!!i.__SENTRY__){var e={mongodb(){var t=Jl(jl,"./integrations/node/mongo");return new t.Mongo},mongoose(){var t=Jl(jl,"./integrations/node/mongo");return new t.Mongo({mongoose:!0})},mysql(){var t=Jl(jl,"./integrations/node/mysql");return new t.Mysql},pg(){var t=Jl(jl,"./integrations/node/postgres");return new t.Postgres}},l=Object.keys(e).filter(t=>!!AT(t)).map(t=>{try{return e[t]()}catch{return}}).filter(t=>t);l.length>0&&(i.__SENTRY__.integrations=[...i.__SENTRY__.integrations||[],...l])}}function AI(){OI(),tr()&&BI(),wI()}var Ri=Bt();function MI(){Ri&&Ri.document?Ri.document.addEventListener("visibilitychange",()=>{var i=rr();if(Ri.document.hidden&&i){var e="cancelled";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${i.op}`),i.status||i.setStatus(e),i.setTag("visibilitychange","document.hidden"),i.finish()}}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var mo=(i,e,l)=>{let t;return n=>{e.value>=0&&(n||l)&&(e.delta=e.value-(t||0),(e.delta||t===void 0)&&(t=e.value,i(e)))}},DI=()=>`v2-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,po=(i,e)=>({name:i,value:Vl(e,()=>-1),delta:0,entries:[],id:DI()}),ho=(i,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(i)){if(i==="first-input"&&!("PerformanceEventTiming"in self))return;var l=new PerformanceObserver(t=>t.getEntries().map(e));return l.observe({type:i,buffered:!0}),l}}catch{}},sr=(i,e)=>{var l=t=>{(t.type==="pagehide"||Bt().document.visibilityState==="hidden")&&(i(t),e&&(removeEventListener("visibilitychange",l,!0),removeEventListener("pagehide",l,!0)))};addEventListener("visibilitychange",l,!0),addEventListener("pagehide",l,!0)},LI=(i,e)=>{var l=po("CLS",0);let t,n=0,o=[];var r=a=>{if(a&&!a.hadRecentInput){var s=o[0],u=o[o.length-1];n&&o.length!==0&&a.startTime-u.startTime<1e3&&a.startTime-s.startTime<5e3?(n+=a.value,o.push(a)):(n=a.value,o=[a]),n>l.value&&(l.value=n,l.entries=o,t&&t())}},f=ho("layout-shift",r);f&&(t=mo(i,l,e),sr(()=>{f.takeRecords().map(r),t(!0)}))};let Di=-1;var GI=()=>Bt().document.visibilityState==="hidden"?0:1/0,UI=()=>{sr(({timeStamp:i})=>{Di=i},!0)},go=()=>(Di<0&&(Di=GI(),UI()),{get firstHiddenTime(){return Di}}),qI=(i,e)=>{var l=go(),t=po("FID");let n;var o=f=>{n&&f.startTime<l.firstHiddenTime&&(t.value=f.processingStart-f.startTime,t.entries.push(f),n(!0))},r=ho("first-input",o);r&&(n=mo(i,t,e),sr(()=>{r.takeRecords().map(o),r.disconnect()},!0))},nh={},PI=(i,e)=>{var l=go(),t=po("LCP");let n;var o=a=>{var s=a.startTime;s<l.firstHiddenTime&&(t.value=s,t.entries.push(a)),n&&n()},r=ho("largest-contentful-paint",o);if(r){n=mo(i,t,e);var f=()=>{nh[t.id]||(r.takeRecords().map(o),r.disconnect(),nh[t.id]=!0,n(!0))};["keydown","click"].forEach(a=>{addEventListener(a,f,{once:!0,capture:!0})}),sr(f,!0)}};function Ni(i){return typeof i=="number"&&isFinite(i)}function Cn(i,{startTimestamp:e,...l}){return e&&i.startTimestamp>e&&(i.startTimestamp=e),i.startChild({startTimestamp:e,...l})}var fn=Bt();function bg(){return fn&&fn.addEventListener&&fn.performance}let ih=0,Mt={},Nl,ui;function FI(i=!1){var e=bg();e&&gi&&(e.mark&&fn.performance.mark("sentry-tracing-init"),YI(),jI(i),HI())}function YI(){LI(i=>{var e=i.entries.pop();!e||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding CLS"),Mt.cls={value:i.value,unit:"millisecond"},ui=e)})}function jI(i){PI(e=>{var l=e.entries.pop();if(!!l){var t=nl(gi),n=nl(l.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding LCP"),Mt.lcp={value:e.value,unit:"millisecond"},Mt["mark.lcp"]={value:t+n,unit:"second"},Nl=l}},i)}function HI(){qI(i=>{var e=i.entries.pop();if(!!e){var l=nl(gi),t=nl(e.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding FID"),Mt.fid={value:i.value,unit:"millisecond"},Mt["mark.fid"]={value:l+t,unit:"second"}}})}function WI(i){var e=bg();if(!e||!fn.performance.getEntries||!gi)return;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Tracing] Adding & adjusting spans using Performance API");var l=nl(gi),t=e.getEntries();let n,o;t.slice(ih).forEach(r=>{var f=nl(r.startTime),a=nl(r.duration);if(!(i.op==="navigation"&&l+f<i.startTimestamp))switch(r.entryType){case"navigation":{VI(i,r,l),n=l+nl(r.responseStart),o=l+nl(r.requestStart);break}case"mark":case"paint":case"measure":{var s=zI(i,r,f,a,l),u=go(),c=r.startTime<u.firstHiddenTime;r.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding FP"),Mt.fp={value:r.startTime,unit:"millisecond"},Mt["mark.fp"]={value:s,unit:"second"}),r.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding FCP"),Mt.fcp={value:r.startTime,unit:"millisecond"},Mt["mark.fcp"]={value:s,unit:"second"});break}case"resource":{var m=r.name.replace(fn.location.origin,"");JI(i,r,m,f,a,l);break}}}),ih=Math.max(t.length-1,0),KI(i),i.op==="pageload"&&(typeof n=="number"&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding TTFB"),Mt.ttfb={value:(n-i.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=n&&(Mt["ttfb.requestTime"]={value:(n-o)*1e3,unit:"second"})),["fcp","fp","lcp"].forEach(r=>{if(!(!Mt[r]||l>=i.startTimestamp)){var f=Mt[r].value,a=l+nl(f),s=Math.abs((a-i.startTimestamp)*1e3),u=s-f;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Measurements] Normalized ${r} from ${f} to ${s} (${u})`),Mt[r].value=s}}),Mt["mark.fid"]&&Mt.fid&&Cn(i,{description:"first input delay",endTimestamp:Mt["mark.fid"].value+nl(Mt.fid.value),op:"web.vitals",startTimestamp:Mt["mark.fid"].value}),"fcp"in Mt||delete Mt.cls,Object.keys(Mt).forEach(r=>{i.setMeasurement(r,Mt[r].value,Mt[r].unit)}),ZI(i)),Nl=void 0,ui=void 0,Mt={}}function zI(i,e,l,t,n){var o=n+l,r=o+t;return Cn(i,{description:e.name,endTimestamp:r,op:e.entryType,startTimestamp:o}),o}function VI(i,e,l){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(t=>{Oi(i,e,t,l)}),Oi(i,e,"secureConnection",l,"TLS/SSL","connectEnd"),Oi(i,e,"fetch",l,"cache","domainLookupStart"),Oi(i,e,"domainLookup",l,"DNS"),XI(i,e,l)}function Oi(i,e,l,t,n,o){var r=o?e[o]:e[`${l}End`],f=e[`${l}Start`];!f||!r||Cn(i,{op:"browser",description:Vl(n,()=>l),startTimestamp:t+nl(f),endTimestamp:t+nl(r)})}function XI(i,e,l){Cn(i,{op:"browser",description:"request",startTimestamp:l+nl(e.requestStart),endTimestamp:l+nl(e.responseEnd)}),Cn(i,{op:"browser",description:"response",startTimestamp:l+nl(e.responseStart),endTimestamp:l+nl(e.responseEnd)})}function JI(i,e,l,t,n,o){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var r={};"transferSize"in e&&(r["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(r["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(r["Decoded Body Size"]=e.decodedBodySize);var f=o+t,a=f+n;Cn(i,{description:l,endTimestamp:a,op:e.initiatorType?`resource.${e.initiatorType}`:"resource",startTimestamp:f,data:r})}}function KI(i){var e=fn.navigator;if(!!e){var l=e.connection;l&&(l.effectiveType&&i.setTag("effectiveConnectionType",l.effectiveType),l.type&&i.setTag("connectionType",l.type),Ni(l.rtt)&&(Mt["connection.rtt"]={value:l.rtt,unit:"millisecond"}),Ni(l.downlink)&&(Mt["connection.downlink"]={value:l.downlink,unit:""})),Ni(e.deviceMemory)&&i.setTag("deviceMemory",`${e.deviceMemory} GB`),Ni(e.hardwareConcurrency)&&i.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}}function ZI(i){Nl&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding LCP Data"),Nl.element&&i.setTag("lcp.element",di(Nl.element)),Nl.id&&i.setTag("lcp.id",Nl.id),Nl.url&&i.setTag("lcp.url",Nl.url.trim().slice(0,200)),i.setTag("lcp.size",Nl.size)),ui&&ui.sources&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log("[Measurements] Adding CLS Data"),ui.sources.forEach((e,l)=>i.setTag(`cls.source.${l+1}`,di(e.node))))}var QI=["localhost",/^\//],Qi={traceFetch:!0,traceXHR:!0,tracingOrigins:QI};function xI(i){const{traceFetch:e,traceXHR:l,tracingOrigins:t,shouldCreateSpanForRequest:n}={...Qi,...i};var o={},r=s=>{if(o[s])return o[s];var u=t;return o[s]=u.some(c=>mi(s,c))&&!mi(s,"sentry_key"),o[s]};let f=r;typeof n=="function"&&(f=s=>r(s)&&n(s));var a={};e&&vl("fetch",s=>{eR(s,f,a)}),l&&vl("xhr",s=>{lR(s,f,a)})}function eR(i,e,l){if(!(!_o()||!(i.fetchData&&e(i.fetchData.url)))){if(i.endTimestamp){var t=i.fetchData.__span;if(!t)return;var n=l[t];n&&(i.response?n.setHttpStatus(i.response.status):i.error&&n.setStatus("internal_error"),n.finish(),delete l[t]);return}var o=rr();if(o){var n=o.startChild({data:{...i.fetchData,type:"fetch"},description:`${i.fetchData.method} ${i.fetchData.url}`,op:"http.client"});i.fetchData.__span=n.spanId,l[n.spanId]=n;var r=i.args[0]=i.args[0],f=i.args[1]=i.args[1]||{};f.headers=tR(r,n,f)}}}function tR(i,e,l){let t=l.headers;Hl(i,Request)&&(t=i.headers);var n=e.getBaggage();if(t)if(typeof t.append=="function")t.append("sentry-trace",e.toTraceparent()),t.append(_n,oi(n,t.get(_n)));else if(Array.isArray(t)){const[,o]=t.find(([r,f])=>r===_n);t=[...t,["sentry-trace",e.toTraceparent()],[_n,oi(n,o)]]}else t={...t,"sentry-trace":e.toTraceparent(),baggage:oi(n,t.baggage)};else t={"sentry-trace":e.toTraceparent(),baggage:oi(n)};return t}function lR(i,e,l){if(!(!_o()||i.xhr&&i.xhr.__sentry_own_request__||!(i.xhr&&i.xhr.__sentry_xhr__&&e(i.xhr.__sentry_xhr__.url)))){var t=i.xhr.__sentry_xhr__;if(i.endTimestamp){var n=i.xhr.__sentry_xhr_span_id__;if(!n)return;var o=l[n];o&&(o.setHttpStatus(t.status_code),o.finish(),delete l[n]);return}var r=rr();if(r){var o=r.startChild({data:{...t.data,type:"xhr",method:t.method,url:t.url},description:`${t.method} ${t.url}`,op:"http.client"});if(i.xhr.__sentry_xhr_span_id__=o.spanId,l[i.xhr.__sentry_xhr_span_id__]=o,i.xhr.setRequestHeader)try{i.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var f=i.xhr.getRequestHeader&&i.xhr.getRequestHeader(_n);i.xhr.setRequestHeader(_n,oi(o.getBaggage(),f))}catch{}}}}var ni=Bt();function nR(i,e=!0,l=!0){if(!ni||!ni.location){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("Could not initialize routing instrumentation due to invalid location");return}let t=ni.location.href,n;e&&(n=i({name:ni.location.pathname,op:"pageload"})),l&&vl("history",({to:o,from:r})=>{if(r===void 0&&t&&t.indexOf(o)!==-1){t=void 0;return}r!==o&&(t=void 0,n&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] Finishing current transaction with op: ${n.op}`),n.finish()),n=i({name:ni.location.pathname,op:"navigation"}))})}var iR="BrowserTracing",rR={idleTimeout:pg,finalTimeout:hg,markBackgroundTransactions:!0,routingInstrumentation:nR,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...Qi};class bo{__init(){this.name=iR}constructor(e){bo.prototype.__init.call(this);let l=Qi.tracingOrigins;e&&(e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?l=e.tracingOrigins:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...rR,...e,tracingOrigins:l};const{_metricOptions:t}=this.options;FI(t&&t._reportAllChanges)}setupOnce(e,l){this._getCurrentHub=l,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`[Tracing] We added a reasonable default for you: ${Qi.tracingOrigins}`));const{routingInstrumentation:t,startTransactionOnLocationChange:n,startTransactionOnPageLoad:o,markBackgroundTransactions:r,traceFetch:f,traceXHR:a,tracingOrigins:s,shouldCreateSpanForRequest:u}=this.options;t(c=>this._createRouteTransaction(c),o,n),r&&MI(),xI({traceFetch:f,traceXHR:a,tracingOrigins:s,shouldCreateSpanForRequest:u})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:l,idleTimeout:t,finalTimeout:n}=this.options;var o=e.op==="pageload"?oR():void 0,r={...e,...o,trimEnd:!0},f=typeof l=="function"?l(r):r,a=f===void 0?{...r,sampled:!1}:f;a.sampled===!1&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] Will not send ${a.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ye.log(`[Tracing] Starting ${a.op} transaction on scope`);var s=this._getCurrentHub();const{location:u}=Bt();var c=NI(s,a,t,n,!0,{location:u});return c.registerBeforeFinishCallback(m=>{WI(m),m.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),c}}function oR(){var i=rh("sentry-trace"),e=rh("baggage"),l=i?TS(i):void 0,t=YS(e,i);if(l||t)return{...l&&l,...t&&{metadata:{baggage:t}}}}function rh(i){var e=Bt();if(e.document&&e.document.querySelector){var l=e.document.querySelector(`meta[name=${i}]`);return l?l.getAttribute("content"):null}else return null}(typeof __SENTRY_TRACING__=="undefined"||__SENTRY_TRACING__)&&AI();try{self["workbox:window:6.5.2"]&&_()}catch{}function Wr(i,e){return new Promise(function(l){var t=new MessageChannel;t.port1.onmessage=function(n){l(n.data)},i.postMessage(e,[t.port2])})}function fR(i,e){for(var l=0;l<e.length;l++){var t=e[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function oh(i,e){(e==null||e>i.length)&&(e=i.length);for(var l=0,t=new Array(e);l<e;l++)t[l]=i[l];return t}function sR(i,e){var l;if(typeof Symbol=="undefined"||i[Symbol.iterator]==null){if(Array.isArray(i)||(l=function(n,o){if(n){if(typeof n=="string")return oh(n,o);var r=Object.prototype.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oh(n,o):void 0}}(i))||e&&i&&typeof i.length=="number"){l&&(i=l);var t=0;return function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(l=i[Symbol.iterator]()).next.bind(l)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Sr=function(){var i=this;this.promise=new Promise(function(e,l){i.resolve=e,i.reject=l})};function Cr(i,e){var l=location.href;return new URL(i,l).href===new URL(e,l).href}var ii=function(i,e){this.type=i,Object.assign(this,e)};function Bi(i,e,l){return l?e?e(i):i:(i&&i.then||(i=Promise.resolve(i)),e?i.then(e):i)}function aR(){}var uR={type:"SKIP_WAITING"};function fh(i,e){if(!e)return i&&i.then?i.then(aR):Promise.resolve()}var cR=function(i){var e,l;function t(f,a){var s,u;return a===void 0&&(a={}),(s=i.call(this)||this).nn={},s.tn=0,s.rn=new Sr,s.en=new Sr,s.on=new Sr,s.un=0,s.an=new Set,s.cn=function(){var c=s.fn,m=c.installing;s.tn>0||!Cr(m.scriptURL,s.sn.toString())||performance.now()>s.un+6e4?(s.vn=m,c.removeEventListener("updatefound",s.cn)):(s.hn=m,s.an.add(m),s.rn.resolve(m)),++s.tn,m.addEventListener("statechange",s.ln)},s.ln=function(c){var m=s.fn,$=c.target,k=$.state,y=$===s.vn,T={sw:$,isExternal:y,originalEvent:c};!y&&s.mn&&(T.isUpdate=!0),s.dispatchEvent(new ii(k,T)),k==="installed"?s.wn=self.setTimeout(function(){k==="installed"&&m.waiting===$&&s.dispatchEvent(new ii("waiting",T))},200):k==="activating"&&(clearTimeout(s.wn),y||s.en.resolve($))},s.dn=function(c){var m=s.hn,$=m!==navigator.serviceWorker.controller;s.dispatchEvent(new ii("controlling",{isExternal:$,originalEvent:c,sw:m,isUpdate:s.mn})),$||s.on.resolve(m)},s.gn=(u=function(c){var m=c.data,$=c.ports,k=c.source;return Bi(s.getSW(),function(){s.an.has(k)&&s.dispatchEvent(new ii("message",{data:m,originalEvent:c,ports:$,sw:k}))})},function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];try{return Promise.resolve(u.apply(this,c))}catch($){return Promise.reject($)}}),s.sn=f,s.nn=a,navigator.serviceWorker.addEventListener("message",s.gn),s}l=i,(e=t).prototype=Object.create(l.prototype),e.prototype.constructor=e,e.__proto__=l;var n,o,r=t.prototype;return r.register=function(f){var a=(f===void 0?{}:f).immediate,s=a!==void 0&&a;try{var u=this;return function(c,m){var $=c();return $&&$.then?$.then(m):m($)}(function(){if(!s&&document.readyState!=="complete")return fh(new Promise(function(c){return window.addEventListener("load",c)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),Bi(u.bn(),function(c){u.fn=c,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var m=u.fn.waiting;return m&&Cr(m.scriptURL,u.sn.toString())&&(u.hn=m,Promise.resolve().then(function(){u.dispatchEvent(new ii("waiting",{sw:m,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(c){return Promise.reject(c)}},r.update=function(){try{return this.fn?fh(this.fn.update()):void 0}catch(f){return Promise.reject(f)}},r.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},r.messageSW=function(f){try{return Bi(this.getSW(),function(a){return Wr(a,f)})}catch(a){return Promise.reject(a)}},r.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Wr(this.fn.waiting,uR)},r.pn=function(){var f=navigator.serviceWorker.controller;return f&&Cr(f.scriptURL,this.sn.toString())?f:void 0},r.bn=function(){try{var f=this;return function(a,s){try{var u=a()}catch(c){return s(c)}return u&&u.then?u.then(void 0,s):u}(function(){return Bi(navigator.serviceWorker.register(f.sn,f.nn),function(a){return f.un=performance.now(),a})},function(a){throw a})}catch(a){return Promise.reject(a)}},n=t,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&fR(n.prototype,o),t}(function(){function i(){this.Pn=new Map}var e=i.prototype;return e.addEventListener=function(l,t){this.Sn(l).add(t)},e.removeEventListener=function(l,t){this.Sn(l).delete(t)},e.dispatchEvent=function(l){l.target=this;for(var t,n=sR(this.Sn(l.type));!(t=n()).done;)(0,t.value)(l)},e.Sn=function(l){return this.Pn.has(l)||this.Pn.set(l,new Set),this.Pn.get(l)},i}());function _R(i={}){const{immediate:e=!1,onNeedRefresh:l,onOfflineReady:t,onRegistered:n,onRegisterError:o}=i;let r,f;const a=async(s=!0)=>{s&&(r==null||r.addEventListener("controlling",u=>{u.isUpdate&&window.location.reload()})),f&&f.waiting&&await Wr(f.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new cR("./sw.js",{scope:"./",type:"classic"}),r.addEventListener("activated",s=>{s.isUpdate||t==null||t()});{const s=()=>{l==null||l()};r.addEventListener("waiting",s),r.addEventListener("externalwaiting",s)}r.register({immediate:e}).then(s=>{f=s,n==null||n(s)}).catch(s=>{o==null||o(s)})}return a}function dR(i,e){return e.substring(e.length-i)}location.hostname!=="localhost"&&_3({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new bo],tracesSampleRate:.2,release:`cdda-guide@${dR(8,"3dec7b0c930622788bc1960ff977f81973f8a9e5")}`});_R({});new yI({target:document.body})});export default mR();
//# sourceMappingURL=index.c8d9fe30.js.map
