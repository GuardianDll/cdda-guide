var jE=Object.defineProperty;var UE=(r,e,n)=>e in r?jE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var qE=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Yn=(r,e,n)=>(UE(r,typeof e!="symbol"?e+"":e,n),n);var DD=qE((FD,Gi)=>{const GE=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};GE();function de(){}function YE(r,e){for(const n in e)r[n]=e[n];return r}function HE(r){return r&&typeof r=="object"&&typeof r.then=="function"}function hg(r){return r()}function Hs(){return Object.create(null)}function nl(r){r.forEach(hg)}function zE(r){return typeof r=="function"}function vt(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let Hl;function WE(r,e){return Hl||(Hl=document.createElement("a")),Hl.href=e,r===Hl.href}function VE(r){return Object.keys(r).length===0}function gg(r,...e){if(r==null)return de;const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function bg(r,e,n){r.$$.on_destroy.push(gg(e,n))}function vg(r,e,n,t){if(r){const i=$g(r,e,n,t);return r[0](i)}}function $g(r,e,n,t){return r[1]&&t?YE(n.ctx.slice(),r[1](t(e))):n.ctx}function yg(r,e,n,t){if(r[2]&&t){const i=r[2](t(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],l=Math.max(e.dirty.length,i.length);for(let s=0;s<l;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function kg(r,e,n,t,i,o){if(i){const l=$g(e,n,t,o);r.p(l,i)}}function wg(r){if(r.ctx.length>32){const e=[],n=r.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function m(r,e){r.appendChild(e)}function g(r,e,n){r.insertBefore(e,n||null)}function h(r){r.parentNode.removeChild(r)}function Ce(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function p(r){return document.createElement(r)}function T(r){return document.createTextNode(r)}function M(){return T(" ")}function ge(){return T("")}function Oi(r,e,n,t){return r.addEventListener(e,n,t),()=>r.removeEventListener(e,n,t)}function ye(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function JE(r){return Array.from(r.childNodes)}function ne(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function zs(r,e){r.value=e==null?"":e}function Rt(r,e,n,t){n===null?r.style.removeProperty(e):r.style.setProperty(e,n,t?"important":"")}function ml(r,e){for(let n=0;n<r.options.length;n+=1){const t=r.options[n];if(t.__value===e){t.selected=!0;return}}r.selectedIndex=-1}let pl;function qi(r){pl=r}function yo(){if(!pl)throw new Error("Function called outside component initialization");return pl}function XE(r){yo().$$.on_mount.push(r)}function ps(r,e){return yo().$$.context.set(r,e),e}function Yt(r){return yo().$$.context.get(r)}const fl=[],Ws=[],to=[],Vs=[],KE=Promise.resolve();let Zo=!1;function ZE(){Zo||(Zo=!0,KE.then(hs))}function Qo(r){to.push(r)}const Ao=new Set;let zl=0;function hs(){const r=pl;do{for(;zl<fl.length;){const e=fl[zl];zl++,qi(e),QE(e.$$)}for(qi(null),fl.length=0,zl=0;Ws.length;)Ws.pop()();for(let e=0;e<to.length;e+=1){const n=to[e];Ao.has(n)||(Ao.add(n),n())}to.length=0}while(fl.length);for(;Vs.length;)Vs.pop()();Zo=!1,Ao.clear(),qi(r)}function QE(r){if(r.fragment!==null){r.update(),nl(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Qo)}}const no=new Set;let Cr;function ce(){Cr={r:0,c:[],p:Cr}}function _e(){Cr.r||nl(Cr.c),Cr=Cr.p}function v(r,e){r&&r.i&&(no.delete(r),r.i(e))}function E(r,e,n,t){if(r&&r.o){if(no.has(r))return;no.add(r),Cr.c.push(()=>{no.delete(r),t&&(n&&r.d(1),t())}),r.o(e)}}function xE(r,e){const n=e.token={};function t(i,o,l,s){if(e.token!==n)return;e.resolved=s;let a=e.ctx;l!==void 0&&(a=a.slice(),a[l]=s);const f=i&&(e.current=i)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,d)=>{d!==o&&c&&(ce(),E(c,1,1,()=>{e.blocks[d]===c&&(e.blocks[d]=null)}),_e())}):e.block.d(1),f.c(),v(f,1),f.m(e.mount(),e.anchor),u=!0),e.block=f,e.blocks&&(e.blocks[o]=f),u&&hs()}if(HE(r)){const i=yo();if(r.then(o=>{qi(i),t(e.then,1,e.value,o),qi(null)},o=>{if(qi(i),t(e.catch,2,e.error,o),qi(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function eS(r,e,n){const t=e.slice(),{resolved:i}=r;r.current===r.then&&(t[r.value]=i),r.current===r.catch&&(t[r.error]=i),r.block.p(t,n)}const tS=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function nS(r,e){E(r,1,1,()=>{e.delete(r.key)})}function iS(r,e,n,t,i,o,l,s,a,f,u,c){let d=r.length,b=o.length,$=d;const k={};for(;$--;)k[r[$].key]=$;const w=[],S=new Map,C=new Map;for($=b;$--;){const F=c(i,o,$),j=n(F);let P=l.get(j);P?t&&P.p(F,e):(P=f(j,F),P.c()),S.set(j,w[$]=P),j in k&&C.set(j,Math.abs($-k[j]))}const I=new Set,A=new Set;function L(F){v(F,1),F.m(s,u),l.set(F.key,F),u=F.first,b--}for(;d&&b;){const F=w[b-1],j=r[d-1],P=F.key,U=j.key;F===j?(u=F.first,d--,b--):S.has(U)?!l.has(P)||I.has(P)?L(F):A.has(U)?d--:C.get(P)>C.get(U)?(A.add(P),L(F)):(I.add(U),d--):(a(j,l),d--)}for(;d--;){const F=r[d];S.has(F.key)||a(F,l)}for(;b;)L(w[b-1]);return w}function J(r){r&&r.c()}function W(r,e,n,t){const{fragment:i,on_mount:o,on_destroy:l,after_update:s}=r.$$;i&&i.m(e,n),t||Qo(()=>{const a=o.map(hg).filter(zE);l?l.push(...a):nl(a),r.$$.on_mount=[]}),s.forEach(Qo)}function V(r,e){const n=r.$$;n.fragment!==null&&(nl(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rS(r,e){r.$$.dirty[0]===-1&&(fl.push(r),ZE(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function kt(r,e,n,t,i,o,l,s=[-1]){const a=pl;qi(r);const f=r.$$={fragment:null,ctx:null,props:o,update:de,not_equal:i,bound:Hs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Hs(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};l&&l(f.root);let u=!1;if(f.ctx=n?n(r,e.props||{},(c,d,...b)=>{const $=b.length?b[0]:d;return f.ctx&&i(f.ctx[c],f.ctx[c]=$)&&(!f.skip_bound&&f.bound[c]&&f.bound[c]($),u&&rS(r,c)),d}):[],f.update(),u=!0,nl(f.before_update),f.fragment=t?t(f.ctx):!1,e.target){if(e.hydrate){const c=JE(e.target);f.fragment&&f.fragment.l(c),c.forEach(h)}else f.fragment&&f.fragment.c();e.intro&&v(r.$$.fragment),W(r,e.target,e.anchor,e.customElement),hs()}qi(a)}class wt{$destroy(){V(this,1),this.$destroy=de}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const i=t.indexOf(n);i!==-1&&t.splice(i,1)}}$set(e){this.$$set&&!VE(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fr=[];function ro(r,e=de){let n;const t=new Set;function i(s){if(vt(r,s)&&(r=s,n)){const a=!Fr.length;for(const f of t)f[1](),Fr.push(f,r);if(a){for(let f=0;f<Fr.length;f+=2)Fr[f][0](Fr[f+1]);Fr.length=0}}}function o(s){i(s(r))}function l(s,a=de){const f=[s,a];return t.add(f),t.size===1&&(n=e(i)||de),s(r),()=>{t.delete(f),t.size===0&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}/*! gettext.js - Guillaume Potier - MIT Licensed */var lS=function(r){r=r||{},this&&(this.__version="1.1.1");var e={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(k){return{nplurals:2,plural:k!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},n={isObject:function(k){var w=typeof k;return w==="function"||w==="object"&&!!k},isArray:function(k){return toString.call(k)==="[object Array]"}},t={},i=r.locale||e.locale,o=r.domain||e.domain,l={},s={},a=r.ctxt_delimiter||e.ctxt_delimiter;r.messages&&(l[o]={},l[o][i]=r.messages),r.plural_forms&&(s[i]=r.plural_forms);var f=function(k){var w=arguments;return k.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(S,C){return w[C]}).replace(/%% /g,"%")},u=function(k){if(k.indexOf(a)!==-1){var w=k.split(a);return w[1]}return k},c=function(k){for(var w=[k],S=k.lastIndexOf("-");S>0;)k=k.slice(0,S),w.push(k),S=k.lastIndexOf("-");return w},d=function(k){k=k.replace("_","-");var w=k.search(/[.@]/);return w!=-1&&(k=k.slice(0,w)),k},b=function(k){var w=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!w.test(k))throw new Error(f('The plural form "%1" is not valid',k));return new Function("n","var plural, nplurals; "+k+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},$=function(k,w,S){if(!S.plural_form)return f.apply(this,[u(k[0])].concat(Array.prototype.slice.call(arguments,3)));var C;return S.plural_func?C=S.plural_func(w):(t[i]||(t[i]=b(s[i])),C=t[i](w)),(typeof C.plural=="undefined"||C.plural>C.nplurals||k.length<=C.plural)&&(C.plural=0),f.apply(this,[u(k[C.plural]),w].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:f,expand_locale:c,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(k,w,S,C){if(!k||!w||!S)throw new Error("You must provide a domain, a locale and messages");if(typeof k!="string"||typeof w!="string"||!n.isObject(S))throw new Error("Invalid arguments");return w=d(w),C&&(s[w]=C),l[k]||(l[k]={}),l[k][w]=S,this},loadJSON:function(k,w){if(n.isObject(k)||(k=JSON.parse(k)),!k[""]||!k[""].language||!k[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var S=k[""];return delete k[""],this.setMessages(w||e.domain,S.language,k,S["plural-forms"])},setLocale:function(k){return i=d(k),this},getLocale:function(){return i},textdomain:function(k){return k?(o=k,this):o},gettext:function(k){return this.dcnpgettext.apply(this,[void 0,void 0,k,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(k,w,S){return this.dcnpgettext.apply(this,[void 0,void 0,k,w,S].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(k,w){return this.dcnpgettext.apply(this,[void 0,k,w,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(k,w,S,C,I){if(k=k||o,typeof S!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',S));var A,L={plural_form:!1},F=w?w+a+S:S,j,P,U=c(i);for(var Q in U)if(P=U[Q],j=l[k]&&l[k][P]&&l[k][P][F],C?j=j&&typeof l[k][P][F]!="string":j=j&&typeof l[k][P][F]=="string",j)break;return j?A=l[k][P][F]:(A=S,L.plural_func=e.plural_func),C?(L.plural_form=!0,$.apply(this,[j?A:[S,C],I,L].concat(Array.prototype.slice.call(arguments,5)))):$.apply(this,[[A],I,L].concat(Array.prototype.slice.call(arguments,5)))}}},al=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},nn={exports:{}};/*! For license information please see browser.native.js.LICENSE.txt */(function(r,e){(function(n,t){r.exports=t()})(self,()=>(()=>{var n={160:function(l,s,a){l.exports=function(){function f(y){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},f(y)}function u(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")}function c(y,O){for(var R=0;R<O.length;R++){var N=O[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}function d(y,O,R){return O&&c(y.prototype,O),R&&c(y,R),Object.defineProperty(y,"prototype",{writable:!1}),y}function b(y,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(O&&O.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),O&&k(y,O)}function $(y){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},$(y)}function k(y,O){return k=Object.setPrototypeOf||function(R,N){return R.__proto__=N,R},k(y,O)}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(y,O,R){return S=w()?Reflect.construct:function(N,B,q){var te=[null];te.push.apply(te,B);var ue=new(Function.bind.apply(N,te));return q&&k(ue,q.prototype),ue},S.apply(null,arguments)}function C(y){var O=typeof Map=="function"?new Map:void 0;return C=function(R){if(R===null||(N=R,Function.toString.call(N).indexOf("[native code]")===-1))return R;var N;if(typeof R!="function")throw new TypeError("Super expression must either be null or a function");if(O!==void 0){if(O.has(R))return O.get(R);O.set(R,B)}function B(){return S(R,arguments,$(this).constructor)}return B.prototype=Object.create(R.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),k(B,R)},C(y)}function I(y,O){if(O&&(typeof O=="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(y)}function A(y){var O=w();return function(){var R,N=$(y);if(O){var B=$(this).constructor;R=Reflect.construct(N,arguments,B)}else R=N.apply(this,arguments);return I(this,R)}}function L(y,O){return function(R){if(Array.isArray(R))return R}(y)||function(R,N){var B=R==null?null:typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(B!=null){var q,te,ue=[],me=!0,je=!1;try{for(B=B.call(R);!(me=(q=B.next()).done)&&(ue.push(q.value),!N||ue.length!==N);me=!0);}catch(ct){je=!0,te=ct}finally{try{me||B.return==null||B.return()}finally{if(je)throw te}}return ue}}(y,O)||F(y,O)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function F(y,O){if(y){if(typeof y=="string")return j(y,O);var R=Object.prototype.toString.call(y).slice(8,-1);return R==="Object"&&y.constructor&&(R=y.constructor.name),R==="Map"||R==="Set"?Array.from(y):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?j(y,O):void 0}}function j(y,O){(O==null||O>y.length)&&(O=y.length);for(var R=0,N=new Array(O);R<O;R++)N[R]=y[R];return N}function P(y,O){var R=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!R){if(Array.isArray(y)||(R=F(y))||O&&y&&typeof y.length=="number"){R&&(y=R);var N=0,B=function(){};return{s:B,n:function(){return N>=y.length?{done:!0}:{done:!1,value:y[N++]}},e:function(me){throw me},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q,te=!0,ue=!1;return{s:function(){R=R.call(y)},n:function(){var me=R.next();return te=me.done,me},e:function(me){ue=!0,q=me},f:function(){try{te||R.return==null||R.return()}finally{if(ue)throw q}}}}var U=function(){return U=Object.assign||function(y){for(var O,R=1,N=arguments.length;R<N;R++)for(var B in O=arguments[R])Object.prototype.hasOwnProperty.call(O,B)&&(y[B]=O[B]);return y},U.apply(this,arguments)};function Q(y){var O=typeof Symbol=="function"&&Symbol.iterator,R=O&&y[O],N=0;if(R)return R.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&N>=y.length&&(y=void 0),{value:y&&y[N++],done:!y}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(y,O){var R=typeof Symbol=="function"&&y[Symbol.iterator];if(!R)return y;var N,B,q=R.call(y),te=[];try{for(;(O===void 0||O-- >0)&&!(N=q.next()).done;)te.push(N.value)}catch(ue){B={error:ue}}finally{try{N&&!N.done&&(R=q.return)&&R.call(q)}finally{if(B)throw B.error}}return te}function D(y,O,R){if(R||arguments.length===2)for(var N,B=0,q=O.length;B<q;B++)!N&&B in O||(N||(N=Array.prototype.slice.call(O,0,B)),N[B]=O[B]);return y.concat(N||Array.prototype.slice.call(O))}var G=function(y){b(R,y);var O=A(R);function R(N,B,q){var te;return u(this,R),(te=O.call(this,N)).token=B,te.type=q||"error",te}return d(R)}(C(Error)),Z=function(y){return y<4?"short":y===4?"long":"narrow"},z=function(y){return y%2==0?"2-digit":"numeric"};function X(y,O){switch(y.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:return void O("".concat(y.desc," is not supported with width ").concat(y.width))}}function Y(y,O){var R=y.char,N=y.desc,B=y.width;return R==="d"?z(B):void O("".concat(N," is not supported"))}function ee(y,O){var R=y.char,N=y.desc,B=y.width;return(R==="c"||R==="e")&&B<3&&O("Numeric value is not supported for ".concat(N,"; falling back to weekday:short"),G.WARNING),Z(B)}function pe(y,O){var R=y.char,N=y.desc,B=y.width;switch(R){case"v":case"z":return B===4?"long":"short";case"V":return B===4?"long":void O("".concat(N," is not supported with width ").concat(B));case"X":return void O("".concat(N," is not supported"))}return"short"}function ie(y,O){switch(y.field){case"era":return{era:Z(y.width)};case"year":return function(R,N){switch(R.char){case"y":return{year:z(R.width)};case"r":return{calendar:"gregory",year:"numeric"};default:return N("".concat(R.desc," is not supported; falling back to year:numeric"),G.WARNING),{year:"numeric"}}}(y,O);case"month":return{month:X(y,O)};case"day":return{day:Y(y,O)};case"weekday":return{weekday:ee(y,O)};case"period":return;case"hour":return function(R){var N,B=z(R.width);switch(R.char){case"h":N="h12";break;case"H":N="h23";break;case"k":N="h24";break;case"K":N="h11"}return N?{hour:B,hourCycle:N}:{hour:B}}(y);case"min":return{minute:z(y.width)};case"sec":return{second:z(y.width)};case"tz":return{timeZoneName:pe(y,O)};case"quarter":case"week":case"sec-frac":case"ms":O("".concat(y.desc," is not supported"))}}function H(y){var O,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(ue){throw ue},N={},B=[],q=P(y);try{var te=function(){var ue=O.value,me=ue.error,je=ue.field,ct=ue.str;if(me){var Et=new G(me.message,ue);Et.stack=me.stack,R(Et)}if(ct){var Nt="Ignoring string part: ".concat(ct);R(new G(Nt,ue,G.WARNING))}je&&(B.indexOf(je)===-1?B.push(je):R(new G("Duplicate ".concat(je," token"),ue)));var ot=ie(ue,function(Ut,Vt){return R(new G(Ut,ue,Vt))});ot&&Object.assign(N,ot)};for(q.s();!(O=q.n()).done;)te()}catch(ue){q.e(ue)}finally{q.f()}return N}var K={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},se=function(y){return y>="A"&&y<="Z"||y>="a"&&y<="z"};function x(y,O){var R=y[O];if(!R)return null;if(se(R))return function(te,ue){for(var me=te[ue],je=1;te[++ue]===me;)++je;var ct=K[me];if(!ct){var Et="The letter ".concat(me," is not a valid field identifier");return{char:me,error:new Error(Et),width:je}}return{char:me,field:ct.field,desc:ct.desc,width:je}}(y,O);if(R==="'")return function(te,ue){var me=te[++ue],je=2;if(me==="'")return{char:"'",str:me,width:je};for(;;){var ct=te[++ue];if(++je,ct===void 0){var Et="Unterminated quoted literal in pattern: ".concat(me||te);return{char:"'",error:new Error(Et),str:me,width:je}}if(ct==="'"){if(te[++ue]!=="'")return{char:"'",str:me,width:je};++je}me+=ct}}(y,O);for(var N=R,B=1;;){var q=y[++O];if(!q||se(q)||q==="'")return{char:R,str:N,width:B};N+=q,B+=1}}function oe(y){for(var O=[],R=0;;){var N=x(y,R);if(!N)return O;O.push(N),R+=N.width}}var $e=function(y){b(R,y);var O=A(R);function R(N,B){var q;return u(this,R),(q=O.call(this,B)).code=N,q}return d(R)}(C(Error)),He=function(y){b(R,y);var O=A(R);function R(N,B){var q;return u(this,R),(q=O.call(this,"BAD_OPTION","Unknown ".concat(N," option: ").concat(B))).stem=N,q.option=B,q}return d(R)}($e),Me=function(y){b(R,y);var O=A(R);function R(N){var B;return u(this,R),(B=O.call(this,"BAD_STEM","Unknown stem: ".concat(N))).stem=N,B}return d(R)}($e),be=function(y){b(R,y);var O=A(R);function R(N,B){var q;return u(this,R),(q=O.call(this,"MASKED_VALUE","Value for ".concat(N," is set multiple times"))).type=N,q.prev=B,q}return d(R)}($e),Ee=function(y){b(R,y);var O=A(R);function R(N){var B;return u(this,R),(B=O.call(this,"MISSING_OPTION","Required option missing for ".concat(N))).stem=N,B}return d(R)}($e),Ie=function(y){b(R,y);var O=A(R);function R(N,B){var q;return u(this,R),(q=O.call(this,"BAD_PATTERN",B)).char=N,q}return d(R)}($e),we=function(y){b(R,y);var O=A(R);function R(N,B,q){var te;u(this,R);var ue=q>1?"".concat(q," options"):"one option";return(te=O.call(this,"TOO_MANY_OPTIONS","Token ".concat(N," only supports ").concat(ue," (got ").concat(B.length,")"))).stem=N,te.options=B,te}return d(R)}($e),nt=function(y){b(R,y);var O=A(R);function R(N,B){var q;return u(this,R),(q=O.call(this,"UNSUPPORTED","The stem ".concat(N," is not supported"))).stem=N,B&&(q.message+=" with value ".concat(B),q.source=B),q}return d(R)}($e);function Ge(y,O){var R=O.numberingSystem;return Array.isArray(y)||(y=[y]),R?y.map(function(N){var B=N.indexOf("-u-")===-1?"u-nu":"nu";return"".concat(N,"-").concat(B,"-").concat(R)}).concat(y):y}function Oe(y){var O=y.scale,R=y.unit,N=typeof O=="number"&&O>=0?O:1;return R&&R.style==="percent"&&(N*=.01),N}function Ne(y,O){var R=y.decimal,N=y.group,B=y.integerWidth,q=y.notation,te=y.precision,ue=y.roundingMode,me=y.sign,je=y.unit,ct=y.unitPer,Et=y.unitWidth,Nt=function(Dn,ln){O&&O(new nt(Dn,ln))},ot={};if(je)switch(je.style){case"base-unit":ot.style="decimal";break;case"currency":ot.style="currency",ot.currency=je.currency;break;case"measure-unit":ot.style="unit",ot.unit=je.unit.replace(/.*-/,""),ct&&(ot.unit+="-per-"+ct.replace(/.*-/,""));break;case"percent":ot.style="percent";break;case"permille":Nt("permille")}switch(Et){case"unit-width-full-name":ot.currencyDisplay="name",ot.unitDisplay="long";break;case"unit-width-hidden":Nt(Et);break;case"unit-width-iso-code":ot.currencyDisplay="code";break;case"unit-width-narrow":ot.currencyDisplay="narrowSymbol",ot.unitDisplay="narrow";break;case"unit-width-short":ot.currencyDisplay="symbol",ot.unitDisplay="short"}switch(N){case"group-off":ot.useGrouping=!1;break;case"group-auto":ot.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":Nt(N),ot.useGrouping=!0}if(te)switch(te.style){case"precision-fraction":var Ut=te.minFraction,Vt=te.maxFraction,zt=te.minSignificant,vn=te.maxSignificant,zn=te.source;typeof Ut=="number"&&(ot.minimumFractionDigits=Ut,typeof zt=="number"&&Nt("precision-fraction",zn)),typeof Vt=="number"&&(ot.maximumFractionDigits=Vt),typeof zt=="number"&&(ot.minimumSignificantDigits=zt),typeof vn=="number"&&(ot.maximumSignificantDigits=vn);break;case"precision-integer":ot.maximumFractionDigits=0;break;case"precision-unlimited":ot.maximumFractionDigits=20;break;case"precision-increment":case"precision-currency-standard":break;case"precision-currency-cash":Nt(te.style)}if(q)switch(q.style){case"compact-short":ot.notation="compact",ot.compactDisplay="short";break;case"compact-long":ot.notation="compact",ot.compactDisplay="long";break;case"notation-simple":ot.notation="standard";break;case"scientific":case"engineering":var An=q.expDigits,Ue=q.expSign,ft=q.source,Ct=q.style;ot.notation=Ct,(An&&An>1||Ue&&Ue!=="sign-auto")&&Nt(Ct,ft)}if(B){var Lt=B.min,qt=B.max,Ft=B.source;if(Lt>0&&(ot.minimumIntegerDigits=Lt),Number(qt)>0){var Qt=ot.notation==="engineering"||ot.notation==="scientific";qt===3&&Qt?ot.notation="engineering":Nt("integer-width",Ft)}}switch(me){case"sign-auto":ot.signDisplay="auto";break;case"sign-always":ot.signDisplay="always";break;case"sign-except-zero":ot.signDisplay="exceptZero";break;case"sign-never":ot.signDisplay="never";break;case"sign-accounting":ot.currencySign="accounting";break;case"sign-accounting-always":ot.currencySign="accounting",ot.signDisplay="always";break;case"sign-accounting-except-zero":ot.currencySign="accounting",ot.signDisplay="exceptZero"}return R==="decimal-always"&&Nt(R),ue&&Nt(ue),ot}function Ot(y,O,R){var N=y[O];switch(N){case"%":return{char:"%",style:"percent",width:1};case"\u2030":return{char:"%",style:"permille",width:1};case"\xA4":for(var B=1;y[++O]==="\xA4";)++B;switch(B){case 1:return{char:N,currency:"default",width:B};case 2:return{char:N,currency:"iso-code",width:B};case 3:return{char:N,currency:"full-name",width:B};case 5:return{char:N,currency:"narrow",width:B};default:var q="Invalid number (".concat(B,") of \xA4 chars in pattern");return R(new Ie("\xA4",q)),null}case"*":var te=y[O+1];if(te)return{char:N,pad:te,width:2};break;case"+":case"-":return{char:N,width:1};case"'":var ue=y[++O],me=2;if(ue==="'")return{char:N,str:ue,width:me};for(;;){var je=y[++O];if(++me,je===void 0){var ct="Unterminated quoted literal in pattern: ".concat(ue);return R(new Ie("'",ct)),{char:N,str:ue,width:me}}if(je==="'"){if(y[++O]!=="'")return{char:N,str:ue,width:me};++me}ue+=je}}return null}var ke=function(y){return y>="0"&&y<="9"};function Pe(y,O){var R=y[O];if(ke(R))for(var N=R;;){var B=y[++O];if(!ke(B))return{char:"0",digits:N,width:N.length};N+=B}switch(R){case"#":for(var q=1;y[++O]==="#";)++q;return{char:R,width:q};case"@":for(var te=1;y[++O]==="@";)++te;var ue=te;for(O-=1;y[++O]==="#";)++ue;return{char:R,min:te,width:ue};case"E":var me=y[O+1]==="+";me&&++O;for(var je=0;y[++O]==="0";)++je;if(je)return{char:R,expDigits:je,plus:me,width:(me?2:1)+je};break;case".":case",":return{char:R,width:1}}return null}function mt(y,O,R){var N;(function(Ut){Ut[Ut.Prefix=0]="Prefix",Ut[Ut.Number=1]="Number",Ut[Ut.Suffix=2]="Suffix"})(N||(N={}));for(var B=[],q=[],te=[],ue=N.Prefix,me="";O<y.length;){var je=y[O];if(je===";"){O+=1;break}switch(ue){case N.Prefix:var ct=Ot(y,O,R);if(ct)me&&(B.push({char:"'",str:me,width:me.length}),me=""),B.push(ct),O+=ct.width;else{var Et=Pe(y,O);Et?(me&&(B.push({char:"'",str:me,width:me.length}),me=""),ue=N.Number,q.push(Et),O+=Et.width):(me+=je,O+=1)}break;case N.Number:var Nt=Pe(y,O);Nt?(q.push(Nt),O+=Nt.width):ue=N.Suffix;break;case N.Suffix:var ot=Ot(y,O,R);ot?(me&&(te.push({char:"'",str:me,width:me.length}),me=""),te.push(ot),O+=ot.width):(me+=je,O+=1)}}return me&&te.push({char:"'",str:me,width:me.length}),{pattern:{prefix:B,number:q,suffix:te},pos:O}}function We(y,O){var R=mt(y,0,O),N=R.pattern,B=R.pos;return B<y.length?{tokens:N,negative:mt(y,B,O).pattern}:{tokens:N}}function xe(y,O){for(var R={},N=!1,B=!1,q=0,te="",ue=-1,me="",je=0,ct=0;ct<y.length;++ct){var Et=y[ct];switch(Et.char){case"#":ue===-1?(te&&O(new Ie("#","Pattern has # after integer digits")),q+=Et.width):je+=Et.width;break;case"0":ue===-1?te+=Et.digits:(je&&O(new Ie("0","Pattern has digits after # in fraction")),me+=Et.digits);break;case"@":R.precision&&O(new be("precision",R.precision)),R.precision={style:"precision-fraction",minSignificant:Et.min,maxSignificant:Et.width};break;case",":N=!0;break;case".":ue===1&&O(new Ie(".","Pattern has more than one decimal separator")),ue=ct;break;case"E":B&&O(new be("exponent",R.notation)),N&&O(new Ie("E","Exponential patterns may not contain grouping separators")),R.notation={style:"scientific"},Et.expDigits>1&&(R.notation.expDigits=Et.expDigits),Et.plus&&(R.notation.expSign="sign-always"),B=!0}}N?R.group="group-auto":q+te.length>3&&(R.group="group-off");var Nt=Number("".concat(te||"0",".").concat(me));if(Nt&&(R.precision={style:"precision-increment",increment:Nt}),B)if(R.precision&&!Nt||(R.integerWidth=q?{min:1,max:q+te.length}:{min:Math.max(1,te.length)}),R.precision)Nt||(R.integerWidth={min:1,max:1});else{var ot=te.length+me.length;ue===-1?ot>0&&(R.precision={style:"precision-fraction",maxSignificant:ot}):(R.precision={style:"precision-fraction",maxSignificant:Math.max(1,ot)+je},ot>1&&(R.precision.minSignificant=ot))}else te.length>1&&(R.integerWidth={min:te.length}),R.precision||!me.length&&!je||(R.precision={style:"precision-fraction",minFraction:me.length,maxFraction:me.length+je});return R}function qe(y,O,R,N,B){var q,te=!1,ue="",me=P(y);try{for(me.s();!(q=me.n()).done;){var je=q.value;switch(je.char){case"%":O.unit={style:je.style},B?te=!0:ue="";break;case"\xA4":if(!R){N(new Ie("\xA4","The \xA4 pattern requires a currency"));break}switch(O.unit={style:"currency",currency:R},je.currency){case"iso-code":O.unitWidth="unit-width-iso-code";break;case"full-name":O.unitWidth="unit-width-full-name";break;case"narrow":O.unitWidth="unit-width-narrow"}B?te=!0:ue="";break;case"*":break;case"+":te||(ue+="+");break;case"'":te||(ue+=je.str)}}}catch(ct){me.e(ct)}finally{me.f()}return ue}function Le(y,O){var R,N=!1,B="",q=P(y);try{for(q.s();!(R=q.n()).done;){var te=R.value;switch(te.char){case"%":case"\xA4":O?N=!0:B="";break;case"-":N||(B+="-");break;case"'":N||(B+=te.str)}}}catch(ue){q.e(ue)}finally{q.f()}return B}function Ze(y,O){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(Et){throw Et},N=We(y,R),B=N.tokens,q=N.negative,te=xe(B.number,R),ue=qe(B.prefix,te,O,R,!0),me=qe(B.suffix,te,O,R,!1);if(q){var je=Le(q.prefix,!0),ct=Le(q.suffix,!1);te.affix={pos:[ue,me],neg:[je,ct]},te.sign="sign-never"}else(ue||me)&&(te.affix={pos:[ue,me]});return te}function rt(y){var O=L(y.split("-",1),1)[0];return["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"].indexOf(O)!==-1}var lt={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":0,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},Ve={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function ve(y,O,R){if(function(ue){return ue in lt}(y)){var N=lt[y];if(O.length>N){if(N===0){var B,q=P(O);try{for(q.s();!(B=q.n()).done;){var te=B.value;R(new He(y,te))}}catch(ue){q.e(ue)}finally{q.f()}}else R(new we(y,O,N));return!1}if(function(ue){return ue in Ve}(y)&&O.length<Ve[y])return R(new Ee(y)),!1}return!0}function le(y,O){var R=O==="fraction"?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/,N=y&&y.match(R);if(N){var B=N[1].length;switch(N[2].charAt(0)){case"":return{min:B,max:B};case"+":return{min:B,max:null};case"#":return{min:B,max:B+N[2].length}}}return null}var fe=function(){function y(O){u(this,y),this.skeleton={},this.onError=O}return d(y,[{key:"badOption",value:function(O,R){this.onError(new He(O,R))}},{key:"assertEmpty",value:function(O){var R=this.skeleton[O];R&&this.onError(new be(O,R))}},{key:"parseToken",value:function(O,R){if(ve(O,R,this.onError)){var N=R[0],B=this.skeleton;switch(O){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),B.notation={style:O};break;case"scientific":case"engineering":var q,te=null,ue=void 0,me=P(R);try{for(me.s();!(q=me.n()).done;){var je=q.value;switch(je){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":ue=je;break;default:/^\+e+$/.test(je)?te=je.length-1:this.badOption(O,je)}}}catch(Vt){me.e(Vt)}finally{me.f()}this.assertEmpty("notation");var ct=R.join("/");B.notation=te&&ue?{style:O,source:ct,expDigits:te,expSign:ue}:te?{style:O,source:ct,expDigits:te}:ue?{style:O,source:ct,expSign:ue}:{style:O,source:ct};break;case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),B.unit={style:O};break;case"currency":/^[A-Z]{3}$/.test(N)?(this.assertEmpty("unit"),B.unit={style:O,currency:N}):this.badOption(O,N);break;case"measure-unit":rt(N)?(this.assertEmpty("unit"),B.unit={style:O,unit:N}):this.badOption(O,N);break;case"per-measure-unit":rt(N)?(this.assertEmpty("unitPer"),B.unitPer=N):this.badOption(O,N);break;case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),B.unitWidth=O;break;case"precision-integer":case"precision-unlimited":case"precision-currency-standard":case"precision-currency-cash":this.assertEmpty("precision"),B.precision={style:O};break;case"precision-increment":var Et=Number(N);Et>0?(this.assertEmpty("precision"),B.precision={style:O,increment:Et}):this.badOption(O,N);break;case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),B.roundingMode=O;break;case"integer-width":if(/^\+0*$/.test(N))this.assertEmpty("integerWidth"),B.integerWidth={source:N,min:N.length-1};else{var Nt=N.match(/^#*(0*)$/);Nt?(this.assertEmpty("integerWidth"),B.integerWidth={source:N,min:Nt[1].length,max:Nt[0].length}):this.badOption(O,N)}break;case"scale":var ot=Number(N);ot>0?(this.assertEmpty("scale"),B.scale=ot):this.badOption(O,N);break;case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),B.group=O;break;case"latin":this.assertEmpty("numberingSystem"),B.numberingSystem="latn";break;case"numbering-system":["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(N)!==-1?(this.assertEmpty("numberingSystem"),B.numberingSystem=N):this.badOption(O,N);break;case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),B.sign=O;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),B.decimal=O;break;default:var Ut=function(Vt,zt,vn){var zn=le(Vt,"fraction");if(zn){zt.length>1&&vn(new we(Vt,zt,1));var An={style:"precision-fraction",source:Vt,minFraction:zn.min};zn.max!=null&&(An.maxFraction=zn.max);var Ue=zt[0],ft=le(Ue,"significant");return ft?(An.source="".concat(Vt,"/").concat(Ue),An.minSignificant=ft.min,ft.max!=null&&(An.maxSignificant=ft.max)):Ue&&vn(new He(Vt,Ue)),An}var Ct=le(Vt,"significant");if(Ct){var Lt,qt=P(zt);try{for(qt.s();!(Lt=qt.n()).done;){var Ft=Lt.value;vn(new He(Vt,Ft))}}catch(Dn){qt.e(Dn)}finally{qt.f()}var Qt={style:"precision-fraction",source:Vt,minSignificant:Ct.min};return Ct.max!=null&&(Qt.maxSignificant=Ct.max),Qt}return null}(O,R,this.onError);Ut?(this.assertEmpty("precision"),B.precision=Ut):this.onError(new Me(O))}}}}]),y}();function ae(y){var O,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(Ut){throw Ut},N=[],B=P(y.split(" "));try{for(B.s();!(O=B.n()).done;){var q=O.value;if(q){var te=q.split("/"),ue=te.shift()||"";N.push({stem:ue,options:te})}}}catch(Ut){B.e(Ut)}finally{B.f()}for(var me=new fe(R),je=0,ct=N;je<ct.length;je++){var Et=ct[je],Nt=Et.stem,ot=Et.options;me.parseToken(Nt,ot)}return me.skeleton}function Ye(y,O,R,N){typeof O=="string"&&(O=O.indexOf("::")===0?ae(O.slice(2),N):Ze(O,R,N));var B=Ge(y,O),q=Ne(O,N),te=function(Ut){var Vt=Oe(Ut),zt=Ut.precision;return zt&&zt.style==="precision-increment"?function(vn){return function(zn,An){var Ue=+zn+An/2;return Ue-Ue%+An}(vn,zt.increment)*Vt}:function(vn){return vn*Vt}}(O),ue=new Intl.NumberFormat(B,q);if(O.affix){var me=L(O.affix.pos,2),je=me[0],ct=me[1],Et=L(O.affix.neg||["",""],2),Nt=Et[0],ot=Et[1];return function(Ut){var Vt=ue.format(te(Ut));return Ut<0?"".concat(Nt).concat(Vt).concat(ot):"".concat(je).concat(Vt).concat(ct)}}return function(Ut){return ue.format(te(Ut))}}function _t(y,O,R,N){typeof O=="string"&&(O=O.indexOf("::")===0?ae(O.slice(2),N):Ze(O,R,N));var B=Ge(y,O),q=Ne(O,N),te=function(Vt){var zt=Oe(Vt),vn=Vt.precision;if(vn&&vn.style==="precision-increment"){var zn="+n + ".concat(vn.increment/2),An="x - (x % +".concat(vn.increment,")");return zt!==1&&(An="(".concat(An,") * ").concat(zt)),"function(n) { var x = ".concat(zn,"; return ").concat(An,"; }")}return zt!==1?"function(n) { return n * ".concat(zt,"; }"):null}(O),ue=["(function() {","var opt = ".concat(JSON.stringify(q),";"),"var nf = new Intl.NumberFormat(".concat(JSON.stringify(B),", opt);")],me="nf.format(value)";if(te&&(ue.push("var mod = ".concat(te,";")),me="nf.format(mod(value))"),O.affix){var je=L(O.affix.pos.map(function(Vt){return JSON.stringify(Vt)}),2),ct=je[0],Et=je[1];if(O.affix.neg){var Nt=L(O.affix.neg.map(function(Vt){return JSON.stringify(Vt)}),2),ot=Nt[0],Ut=Nt[1];me="value < 0 ? ".concat(ot," + ").concat(me," + ").concat(Ut," : ").concat(ct," + ").concat(me," + ").concat(Et)}else me="".concat(ct," + ").concat(me," + ").concat(Et)}return ue.push("return function(value) { return ".concat(me,"; }")),ue.join(`
  `)+`
})()`}var dt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:a.g!==void 0?a.g:typeof self!="undefined"?self:{},ht={},St={},It={exports:{}};(function(y){var O,R;O=dt,R=function(){var N=Object.prototype.hasOwnProperty,B=Object.prototype.toString,q=typeof new RegExp().sticky=="boolean";function te(Ue){return Ue&&B.call(Ue)==="[object RegExp]"}function ue(Ue){return Ue&&f(Ue)==="object"&&!te(Ue)&&!Array.isArray(Ue)}function me(Ue){return"("+Ue+")"}function je(Ue){return Ue.length?"(?:"+Ue.map(function(ft){return"(?:"+ft+")"}).join("|")+")":"(?!)"}function ct(Ue){if(typeof Ue=="string")return"(?:"+Ue.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(te(Ue)){if(Ue.ignoreCase)throw new Error("RegExp /i flag not allowed");if(Ue.global)throw new Error("RegExp /g flag is implied");if(Ue.sticky)throw new Error("RegExp /y flag is implied");if(Ue.multiline)throw new Error("RegExp /m flag is implied");return Ue.source}throw new Error("Not a pattern: "+Ue)}function Et(Ue,ft){if(ue(ft)||(ft={match:ft}),ft.include)throw new Error("Matching rules cannot also include states");var Ct={defaultType:Ue,lineBreaks:!!ft.error||!!ft.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Lt in ft)N.call(ft,Lt)&&(Ct[Lt]=ft[Lt]);if(typeof Ct.type=="string"&&Ue!==Ct.type)throw new Error("Type transform cannot be a string (type '"+Ct.type+"' for token '"+Ue+"')");var qt=Ct.match;return Ct.match=Array.isArray(qt)?qt:qt?[qt]:[],Ct.match.sort(function(Ft,Qt){return te(Ft)&&te(Qt)?0:te(Qt)?-1:te(Ft)?1:Qt.length-Ft.length}),Ct}function Nt(Ue){return Array.isArray(Ue)?function(ft){for(var Ct=[],Lt=0;Lt<ft.length;Lt++){var qt=ft[Lt];if(qt.include)for(var Ft=[].concat(qt.include),Qt=0;Qt<Ft.length;Qt++)Ct.push({include:Ft[Qt]});else{if(!qt.type)throw new Error("Rule has no type: "+JSON.stringify(qt));Ct.push(Et(qt.type,qt))}}return Ct}(Ue):function(ft){for(var Ct=Object.getOwnPropertyNames(ft),Lt=[],qt=0;qt<Ct.length;qt++){var Ft=Ct[qt],Qt=ft[Ft],Dn=[].concat(Qt);if(Ft!=="include"){var ln=[];Dn.forEach(function(Kn){ue(Kn)?(ln.length&&Lt.push(Et(Ft,ln)),Lt.push(Et(Ft,Kn)),ln=[]):ln.push(Kn)}),ln.length&&Lt.push(Et(Ft,ln))}else for(var dn=0;dn<Dn.length;dn++)Lt.push({include:Dn[dn]})}return Lt}(Ue)}var ot=Et("error",{lineBreaks:!0,shouldThrow:!0});function Ut(Ue,ft){for(var Ct=null,Lt=Object.create(null),qt=!0,Ft=null,Qt=[],Dn=[],ln=0;ln<Ue.length;ln++)Ue[ln].fallback&&(qt=!1);for(ln=0;ln<Ue.length;ln++){var dn=Ue[ln];if(dn.include)throw new Error("Inheritance is not allowed in stateless lexers");if(dn.error||dn.fallback){if(Ct)throw!dn.fallback==!Ct.fallback?new Error("Multiple "+(dn.fallback?"fallback":"error")+" rules not allowed (for token '"+dn.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+dn.defaultType+"')");Ct=dn}var Kn=dn.match.slice();if(qt)for(;Kn.length&&typeof Kn[0]=="string"&&Kn[0].length===1;)Lt[Kn.shift().charCodeAt(0)]=dn;if(dn.pop||dn.push||dn.next){if(!ft)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+dn.defaultType+"')");if(dn.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+dn.defaultType+"')")}if(Kn.length!==0){qt=!1,Qt.push(dn);for(var Wn=0;Wn<Kn.length;Wn++){var ji=Kn[Wn];if(te(ji)){if(Ft===null)Ft=ji.unicode;else if(Ft!==ji.unicode&&dn.fallback===!1)throw new Error("If one rule is /u then all must be")}}var Mr=je(Kn.map(ct)),Ii=new RegExp(Mr);if(Ii.test(""))throw new Error("RegExp matches empty string: "+Ii);if(new RegExp("|"+Mr).exec("").length-1>0)throw new Error("RegExp has capture groups: "+Ii+`
Use (?: \u2026 ) instead`);if(!dn.lineBreaks&&Ii.test(`
`))throw new Error("Rule should declare lineBreaks: "+Ii);Dn.push(me(Mr))}}var Bi=Ct&&Ct.fallback,Lr=q&&!Bi?"ym":"gm",ll=q||Bi?"":"|";return Ft===!0&&(Lr+="u"),{regexp:new RegExp(je(Dn)+ll,Lr),groups:Qt,fast:Lt,error:Ct||ot}}function Vt(Ue,ft,Ct){var Lt=Ue&&(Ue.push||Ue.next);if(Lt&&!Ct[Lt])throw new Error("Missing state '"+Lt+"' (in token '"+Ue.defaultType+"' of state '"+ft+"')");if(Ue&&Ue.pop&&+Ue.pop!=1)throw new Error("pop must be 1 (in token '"+Ue.defaultType+"' of state '"+ft+"')")}var zt=function(Ue,ft){this.startState=ft,this.states=Ue,this.buffer="",this.stack=[],this.reset()};zt.prototype.reset=function(Ue,ft){return this.buffer=Ue||"",this.index=0,this.line=ft?ft.line:1,this.col=ft?ft.col:1,this.queuedToken=ft?ft.queuedToken:null,this.queuedThrow=ft?ft.queuedThrow:null,this.setState(ft?ft.state:this.startState),this.stack=ft&&ft.stack?ft.stack.slice():[],this},zt.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},zt.prototype.setState=function(Ue){if(Ue&&this.state!==Ue){this.state=Ue;var ft=this.states[Ue];this.groups=ft.groups,this.error=ft.error,this.re=ft.regexp,this.fast=ft.fast}},zt.prototype.popState=function(){this.setState(this.stack.pop())},zt.prototype.pushState=function(Ue){this.stack.push(this.state),this.setState(Ue)};var vn=q?function(Ue,ft){return Ue.exec(ft)}:function(Ue,ft){var Ct=Ue.exec(ft);return Ct[0].length===0?null:Ct};function zn(){return this.value}if(zt.prototype._getGroup=function(Ue){for(var ft=this.groups.length,Ct=0;Ct<ft;Ct++)if(Ue[Ct+1]!==void 0)return this.groups[Ct];throw new Error("Cannot find token type for matched text")},zt.prototype.next=function(){var Ue=this.index;if(this.queuedGroup){var ft=this._token(this.queuedGroup,this.queuedText,Ue);return this.queuedGroup=null,this.queuedText="",ft}var Ct=this.buffer;if(Ue!==Ct.length){if(Qt=this.fast[Ct.charCodeAt(Ue)])return this._token(Qt,Ct.charAt(Ue),Ue);var Lt=this.re;Lt.lastIndex=Ue;var qt=vn(Lt,Ct),Ft=this.error;if(qt==null)return this._token(Ft,Ct.slice(Ue,Ct.length),Ue);var Qt=this._getGroup(qt),Dn=qt[0];return Ft.fallback&&qt.index!==Ue?(this.queuedGroup=Qt,this.queuedText=Dn,this._token(Ft,Ct.slice(Ue,qt.index),Ue)):this._token(Qt,Dn,Ue)}},zt.prototype._token=function(Ue,ft,Ct){var Lt=0;if(Ue.lineBreaks){var qt=/\n/g,Ft=1;if(ft===`
`)Lt=1;else for(;qt.exec(ft);)Lt++,Ft=qt.lastIndex}var Qt={type:typeof Ue.type=="function"&&Ue.type(ft)||Ue.defaultType,value:typeof Ue.value=="function"?Ue.value(ft):ft,text:ft,toString:zn,offset:Ct,lineBreaks:Lt,line:this.line,col:this.col},Dn=ft.length;if(this.index+=Dn,this.line+=Lt,Lt!==0?this.col=Dn-Ft+1:this.col+=Dn,Ue.shouldThrow)throw new Error(this.formatError(Qt,"invalid syntax"));return Ue.pop?this.popState():Ue.push?this.pushState(Ue.push):Ue.next&&this.setState(Ue.next),Qt},typeof Symbol!="undefined"&&Symbol.iterator){var An=function(Ue){this.lexer=Ue};An.prototype.next=function(){var Ue=this.lexer.next();return{value:Ue,done:!Ue}},An.prototype[Symbol.iterator]=function(){return this},zt.prototype[Symbol.iterator]=function(){return new An(this)}}return zt.prototype.formatError=function(Ue,ft){if(Ue==null){var Ct=this.buffer.slice(this.index);Ue={text:Ct,offset:this.index,lineBreaks:Ct.indexOf(`
`)===-1?0:1,line:this.line,col:this.col}}var Lt=Math.max(0,Ue.offset-Ue.col+1),qt=Ue.lineBreaks?Ue.text.indexOf(`
`):Ue.text.length,Ft=this.buffer.substring(Lt,Ue.offset+qt);return ft+=" at line "+Ue.line+" col "+Ue.col+`:

`,(ft+="  "+Ft+`
`)+"  "+Array(Ue.col).join(" ")+"^"},zt.prototype.clone=function(){return new zt(this.states,this.state)},zt.prototype.has=function(Ue){return!0},{compile:function(Ue){var ft=Ut(Nt(Ue));return new zt({start:ft},"start")},states:function(Ue,ft){var Ct=Ue.$all?Nt(Ue.$all):[];delete Ue.$all;var Lt=Object.getOwnPropertyNames(Ue);ft||(ft=Lt[0]);for(var qt=Object.create(null),Ft=0;Ft<Lt.length;Ft++)qt[Bi=Lt[Ft]]=Nt(Ue[Bi]).concat(Ct);for(Ft=0;Ft<Lt.length;Ft++)for(var Qt=qt[Bi=Lt[Ft]],Dn=Object.create(null),ln=0;ln<Qt.length;ln++){var dn=Qt[ln];if(dn.include){var Kn=[ln,1];if(dn.include!==Bi&&!Dn[dn.include]){Dn[dn.include]=!0;var Wn=qt[dn.include];if(!Wn)throw new Error("Cannot include nonexistent state '"+dn.include+"' (in state '"+Bi+"')");for(var ji=0;ji<Wn.length;ji++){var Mr=Wn[ji];Qt.indexOf(Mr)===-1&&Kn.push(Mr)}}Qt.splice.apply(Qt,Kn),ln--}}var Ii=Object.create(null);for(Ft=0;Ft<Lt.length;Ft++){var Bi;Ii[Bi=Lt[Ft]]=Ut(qt[Bi],!0)}for(Ft=0;Ft<Lt.length;Ft++){var Lr=Lt[Ft],ll=Ii[Lr],Gs=ll.groups;for(ln=0;ln<Gs.length;ln++)Vt(Gs[ln],Lr,Ii);var Ys=Object.getOwnPropertyNames(ll.fast);for(ln=0;ln<Ys.length;ln++)Vt(ll.fast[Ys[ln]],Lr,Ii)}return new zt(Ii,ft)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(Ue){for(var ft=Object.create(null),Ct=Object.create(null),Lt=Object.getOwnPropertyNames(Ue),qt=0;qt<Lt.length;qt++){var Ft=Lt[qt],Qt=Ue[Ft];(Array.isArray(Qt)?Qt:[Qt]).forEach(function(Wn){if((Ct[Wn.length]=Ct[Wn.length]||[]).push(Wn),typeof Wn!="string")throw new Error("keyword must be string (in keyword '"+Ft+"')");ft[Wn]=Ft})}function Dn(Wn){return JSON.stringify(Wn)}var ln="";for(var dn in ln+=`switch (value.length) {
`,Ct){var Kn=Ct[dn];ln+="case "+dn+`:
`,ln+=`switch (value) {
`,Kn.forEach(function(Wn){var ji=ft[Wn];ln+="case "+Dn(Wn)+": return "+Dn(ji)+`
`}),ln+=`}
`}return ln+=`}
`,Function("value",ln)}}},y.exports?y.exports=R():O.moo=R()})(It),function(y){var O=dt&&dt.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(y,"__esModule",{value:!0}),y.lexer=y.states=void 0;var R=O(It.exports);y.states={body:{doubleapos:{match:"''",value:function(){return"'"}},quoted:{lineBreaks:!0,match:/'[#\{\}](?:(?:(?![])[\s\S])*?(?:(?!')[\s\S]))?'(?!')/,value:function(N){return N.slice(1,-1).replace(/''/g,"'")}},argument:{lineBreaks:!0,match:/\{[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,push:"arg",value:function(N){return N.substring(1).trim()}},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/(?:(?![])[\s\S])(?:(?![#'\{\}])[\s\S])*/}},arg:{select:{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:plural|select|selectordinal)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,next:"select",value:function(N){return N.split(",")[1].trim()}},"func-args":{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,/,next:"body",value:function(N){return N.split(",")[1].trim()}},"func-simple":{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,value:function(N){return N.substring(1).trim()}},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*offset[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*[0-9]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,value:function(N){return N.split(":")[1].trim()}},case:{lineBreaks:!0,match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:=[0-9]+|(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{/,push:"body",value:function(N){return N.substring(0,N.indexOf("{")).trim()}},end:{match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\}/,pop:1}}},y.lexer=R.default.states(y.states)}(St),Object.defineProperty(ht,"__esModule",{value:!0});var Tt=ht.parse=ht.ParseError=void 0,it=St,ze=function(y){return{offset:y.offset,line:y.line,col:y.col,text:y.text,lineBreaks:y.lineBreaks}},Je=function(y){return y==="plural"||y==="select"||y==="selectordinal"},De=["number","date","time","spellout","ordinal","duration"],et=["zero","one","two","few","many","other"],bt=function(y){b(R,y);var O=A(R);function R(N,B){return u(this,R),O.call(this,it.lexer.formatError(N,B))}return d(R)}(C(Error));ht.ParseError=bt;var Dt=function(){function y(O,R){u(this,y),this.lexer=it.lexer.reset(O),this.cardinalKeys=R&&R.cardinal||et,this.ordinalKeys=R&&R.ordinal||et,this.strict=R&&R.strict||!1}return d(y,[{key:"parse",value:function(){return this.parseBody(!1,!0)}},{key:"checkSelectKey",value:function(O,R,N){if(N[0]==="="){if(R==="select")throw new bt(O,"The case ".concat(N," is not valid with select"))}else if(R!=="select"){var B=R==="plural"?this.cardinalKeys:this.ordinalKeys;if(B.length>0&&!B.includes(N)){var q="The ".concat(R," case ").concat(N," is not valid in this locale");throw new bt(O,q)}}}},{key:"parseSelect",value:function(O,R,N,B){var q={type:B,arg:O.value,cases:[],ctx:N};B==="plural"||B==="selectordinal"?R=!0:this.strict&&(R=!1);var te,ue=P(this.lexer);try{for(ue.s();!(te=ue.n()).done;){var me=te.value;switch(me.type){case"offset":if(B==="select")throw new bt(me,"Unexpected plural offset for select");if(q.cases.length>0)throw new bt(me,"Plural offset must be set before cases");q.pluralOffset=Number(me.value),N.text+=me.text,N.lineBreaks+=me.lineBreaks;break;case"case":this.checkSelectKey(me,B,me.value),q.cases.push({key:me.value,tokens:this.parseBody(R),ctx:ze(me)});break;case"end":return q;default:throw new bt(me,"Unexpected lexer token: ".concat(me.type))}}}catch(je){ue.e(je)}finally{ue.f()}throw new bt(null,"Unexpected message end")}},{key:"parseArgToken",value:function(O,R){var N=ze(O),B=this.lexer.next();if(!B)throw new bt(null,"Unexpected message end");if(N.text+=B.text,N.lineBreaks+=B.lineBreaks,this.strict&&(B.type==="func-simple"||B.type==="func-args")&&!De.includes(B.value)){var q="Invalid strict mode function arg type: ".concat(B.value);throw new bt(O,q)}switch(B.type){case"end":return{type:"argument",arg:O.value,ctx:N};case"func-simple":var te=this.lexer.next();if(!te)throw new bt(null,"Unexpected message end");if(te.type!=="end")throw new bt(te,"Unexpected lexer token: ".concat(te.type));if(N.text+=te.text,Je(B.value.toLowerCase()))throw new bt(B,"Invalid type identifier: ".concat(B.value));return{type:"function",arg:O.value,key:B.value,ctx:N};case"func-args":if(Je(B.value.toLowerCase())){var ue="Invalid type identifier: ".concat(B.value);throw new bt(B,ue)}var me=this.parseBody(!this.strict&&R);return this.strict&&me.length>0&&(me=function(je,ct){var Et,Nt="",ot="",Ut=P(ct);try{for(Ut.s();!(Et=Ut.n()).done;){var Vt=Et.value,zt=Vt.ctx.text;switch(ot+=zt,Vt.type){case"content":Nt+=Vt.value;break;case"argument":case"function":case"octothorpe":Nt+=zt;break;default:throw new bt(je,"Unsupported part in strict mode function arg style: ".concat(zt))}}}catch(vn){Ut.e(vn)}finally{Ut.f()}return[{type:"content",value:Nt.trim(),ctx:Object.assign({},ct[0].ctx,{text:ot})}]}(O,me)),{type:"function",arg:O.value,key:B.value,param:me,ctx:N};case"select":if(Je(B.value))return this.parseSelect(O,R,N,B.value);throw new bt(B,"Unexpected select type ".concat(B.value));default:throw new bt(B,"Unexpected lexer token: ".concat(B.type))}}},{key:"parseBody",value:function(O,R){var N,B=[],q=null,te=P(this.lexer);try{for(te.s();!(N=te.n()).done;){var ue=N.value;if(ue.type==="argument")q&&(q=null),B.push(this.parseArgToken(ue,O));else if(ue.type==="octothorpe"&&O)q&&(q=null),B.push({type:"octothorpe",ctx:ze(ue)});else{if(ue.type==="end"&&!R)return B;var me=ue.value;if(!O&&ue.type==="quoted"&&me[0]==="#"){if(me.includes("{")){var je="Unsupported escape pattern: ".concat(me);throw new bt(ue,je)}me=ue.text}q?(q.value+=me,q.ctx.text+=ue.text,q.ctx.lineBreaks+=ue.lineBreaks):(q={type:"content",value:me,ctx:ze(ue)},B.push(q))}}}catch(ct){te.e(ct)}finally{te.f()}if(R)return B;throw new bt(null,"Unexpected message end")}}]),y}();function gt(y){return gt[y]||(gt[y]=new Intl.NumberFormat(y))}Tt=ht.parse=function(y){return new Dt(y,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).parse()};var Ht=Object.freeze({__proto__:null,_nf:gt,number:function(y,O,R){return gt(y).format(O-R)},strictNumber:function(y,O,R,N){var B=O-R;if(isNaN(B))throw new Error("`"+N+"` or its offset is not a number");return gt(y).format(B)},plural:function(y,O,R,N,B){if({}.hasOwnProperty.call(N,y))return N[y];O&&(y-=O);var q=R(y,B);return q in N?N[q]:N.other},select:function(y,O){return{}.hasOwnProperty.call(O,y)?O[y]:O.other},reqArgs:function(y,O){for(var R=0;R<y.length;++R)if(!O||O[y[R]]===void 0)throw new Error("Message requires argument '".concat(y[R],"'"))}}),Bt={};function Wt(y,O){var R=String(y)+JSON.stringify(O);return Bt[R]||(Bt[R]=new Intl.NumberFormat(y,O)),Bt[R]}var sn=Object.freeze({__proto__:null,date:function(y,O,R){var N={day:"numeric",month:"short",year:"numeric"};switch(R){case"full":N.weekday="long";case"long":N.month="long";break;case"short":N.month="numeric"}return new Date(y).toLocaleDateString(O,N)},duration:function(y){if(typeof y!="number"&&(y=Number(y)),!isFinite(y))return String(y);var O="";y<0?(O="-",y=Math.abs(y)):y=Number(y);var R=y%60,N=[Math.round(R)===R?R:R.toFixed(3)];return y<60?N.unshift(0):(y=Math.round((y-Number(N[0]))/60),N.unshift(y%60),y>=60&&(y=Math.round((y-Number(N[0]))/60),N.unshift(y))),O+N.shift()+":"+N.map(function(B){return B<10?"0"+String(B):String(B)}).join(":")},numberCurrency:function(y,O,R){return Wt(O,{style:"currency",currency:R,minimumFractionDigits:2,maximumFractionDigits:2}).format(y)},numberFmt:function(y,O,R,N){var B=R&&R.split(":")||[],q=B[0],te=B[1];return Wt(O,{integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:te&&te.trim()||N,minimumFractionDigits:2,maximumFractionDigits:2}}[q]||{}).format(y)},numberInteger:function(y,O){return Wt(O,{maximumFractionDigits:0}).format(y)},numberPercent:function(y,O){return Wt(O,{style:"percent"}).format(y)},time:function(y,O,R){var N={second:"numeric",minute:"numeric",hour:"numeric"};switch(R){case"full":case"long":N.timeZoneName="short";break;case"short":delete N.second}return new Date(y).toLocaleTimeString(O,N)}}),Pt={break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},Zt={await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0};function en(y,O){O&&(y+=" "+function(N){for(var B=0,q=0;q<N.length;++q)B=(B<<5)-B+N.charCodeAt(q),B|=0;return B}(y).toString(36));var R=y.trim().replace(/\W+/g,"_");return Pt[R]||Zt[R]||/^\d/.test(R)?"_"+R:R}function $n(y,O){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(O)&&!Pt[O])return y?y+"."+O:O;var R=JSON.stringify(O);return y?y+"["+R+"]":R}var Gt=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^")),di="@messageformat/runtime/lib/plurals",on=function(){function y(O){this.arguments=[],this.runtime={},this.options=O}return y.prototype.compile=function(O,R,N){var B,q,te=this;if(typeof O=="object"){var ue={};try{for(var me=Q(Object.keys(O)),je=me.next();!je.done;je=me.next()){var ct=je.value,Et=N&&N[ct]||R;ue[ct]=this.compile(O[ct],Et,N)}}catch(vn){B={error:vn}}finally{try{je&&!je.done&&(q=me.return)&&q.call(me)}finally{if(B)throw B.error}}return ue}this.plural=R;var Nt={cardinal:R.cardinals,ordinal:R.ordinals,strict:this.options.strict};this.arguments=[];var ot=Tt(O,Nt).map(function(vn){return te.token(vn,null)}),Ut=this.arguments.length>0,Vt=this.concatenate(ot,!0);if(this.options.requireAllArguments&&Ut){this.setRuntimeFn("reqArgs");var zt=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(zt,", d); return ").concat(Vt,"; }")}return"(".concat(Ut?"d":"",") => ").concat(Vt)},y.prototype.cases=function(O,R){var N=this,B=!0,q=O.cases.map(function(ct){var Et=ct.key,Nt=ct.tokens;Et==="other"&&(B=!1);var ot=Nt.map(function(Ut){return N.token(Ut,R)});return"".concat($n(null,Et.replace(/^=/,"")),": ").concat(N.concatenate(ot,!1))});if(B){var te=O.type,ue=this.plural,me=ue.cardinals,je=ue.ordinals;if(te==="select"||te==="plural"&&me.includes("other")||te==="selectordinal"&&je.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(O)))}return"{ ".concat(q.join(", ")," }")},y.prototype.concatenate=function(O,R){return this.options.returnType==="values"&&(R||O.length>1)?"["+O.join(", ")+"]":O.join(" + ")||'""'},y.prototype.token=function(O,R){if(O.type==="content")return JSON.stringify(O.value);var N,B,q,te,ue,me,je=this.plural,ct=je.id,Et=je.lc;switch("arg"in O?(this.arguments.push(O.arg),N=[$n("d",O.arg)]):N=[],O.type){case"argument":return this.options.biDiSupport?(q=String(N[0]),te=Et,ue=Gt.test(te),me=JSON.stringify(ue?"\u200F":"\u200E"),"".concat(me," + ").concat(q," + ").concat(me)):String(N[0]);case"select":B="select",R&&this.options.strict&&(R=null),N.push(this.cases(O,R)),this.setRuntimeFn("select");break;case"selectordinal":B="plural",N.push(O.pluralOffset||0,ct,this.cases(O,O),1),this.setLocale(ct,!0),this.setRuntimeFn("plural");break;case"plural":B="plural",N.push(O.pluralOffset||0,ct,this.cases(O,O)),this.setLocale(ct,!1),this.setRuntimeFn("plural");break;case"function":if(!this.options.customFormatters[O.key]){if(O.key==="date"){B=this.setDateFormatter(O,N,R);break}if(O.key==="number"){B=this.setNumberFormatter(O,N,R);break}}if(N.push(JSON.stringify(this.plural.locale)),O.param){R&&this.options.strict&&(R=null);var Nt=this.getFormatterArg(O,R);Nt&&N.push(Nt)}B=O.key,this.setFormatter(B);break;case"octothorpe":if(!R)return'"#"';N=[JSON.stringify(this.plural.locale),$n("d",R.arg),R.pluralOffset||0],this.options.strict?(B="strictNumber",N.push(JSON.stringify(R.arg)),this.setRuntimeFn("strictNumber")):(B="number",this.setRuntimeFn("number"))}if(!B)throw new Error("Parser error for token "+JSON.stringify(O));return"".concat(B,"(").concat(N.join(", "),")")},y.prototype.runtimeIncludes=function(O,R){if(en(O)!==O)throw new SyntaxError("Reserved word used as ".concat(R," identifier: ").concat(O));var N=this.runtime[O];if(!N||N.type===R)return N;throw new TypeError("Cannot override ".concat(N.type," runtime function as ").concat(R,": ").concat(O))},y.prototype.setLocale=function(O,R){var N,B,q,te=this.runtimeIncludes(O,"locale"),ue=this.plural,me=ue.getCardinal,je=ue.getPlural,ct=ue.isDefault;if(!R&&ct&&me){if(te)return;N=function(Et){return me(Et)},B="@messageformat/runtime/lib/cardinals",q=function(){return String(me)}}else{if(te&&(!ct||te.module===di))return;N=function(Et,Nt){return je(Et,Nt)},B=ct?di:je.module||null,q=function(){return String(je)}}this.runtime[O]=Object.assign(N,{id:O,module:B,toString:q,type:"locale"})},y.prototype.setRuntimeFn=function(O){this.runtimeIncludes(O,"runtime")||(this.runtime[O]=Object.assign(Ht[O],{id:O,module:"@messageformat/runtime",type:"runtime"}))},y.prototype.getFormatterArg=function(O,R){var N,B,q,te,ue=this,me=O.key,je=O.param,ct=this.options.customFormatters[me]||Cn(me)&&sn[me];if(!ct||!je)return null;var Et="arg"in ct&&ct.arg||"string";if(Et==="options"){var Nt="";try{for(var ot=Q(je),Ut=ot.next();!Ut.done;Ut=ot.next()){var Vt=Ut.value;if(Vt.type!=="content")throw new SyntaxError("Expected literal options for ".concat(me," formatter"));Nt+=Vt.value}}catch(Qt){N={error:Qt}}finally{try{Ut&&!Ut.done&&(B=ot.return)&&B.call(ot)}finally{if(N)throw N.error}}var zt={};try{for(var vn=Q(Nt.split(",")),zn=vn.next();!zn.done;zn=vn.next()){var An=zn.value,Ue=An.indexOf(":");if(Ue===-1)zt[An.trim()]=null;else{var ft=An.substring(0,Ue).trim(),Ct=An.substring(Ue+1).trim();if(Ct==="true")zt[ft]=!0;else if(Ct==="false")zt[ft]=!1;else if(Ct==="null")zt[ft]=null;else{var Lt=Number(Ct);zt[ft]=Number.isFinite(Lt)?Lt:Ct}}}}catch(Qt){q={error:Qt}}finally{try{zn&&!zn.done&&(te=vn.return)&&te.call(vn)}finally{if(q)throw q.error}}return JSON.stringify(zt)}var qt=je.map(function(Qt){return ue.token(Qt,R)});if(Et==="raw")return"[".concat(qt.join(", "),"]");var Ft=qt.join(" + ");return Ft?"(".concat(Ft,").trim()"):'""'},y.prototype.setFormatter=function(O){if(!this.runtimeIncludes(O,"formatter")){var R=this.options.customFormatters[O];if(R)typeof R=="function"&&(R={formatter:R}),this.runtime[O]=Object.assign(R.formatter,{type:"formatter"},"module"in R&&R.module&&R.id?{id:en(R.id),module:R.module}:{id:null,module:null});else{if(!Cn(O))throw new Error("Formatting function not found: ".concat(O));this.runtime[O]=Object.assign(sn[O],{type:"formatter"},{id:O,module:"@messageformat/runtime/lib/formatters"})}}},y.prototype.setDateFormatter=function(O,R,N){var B=this,q=O.param,te=this.plural.locale,ue=q&&q.length===1&&q[0];if(ue&&ue.type==="content"&&/^\s*::/.test(ue.value)){var me=ue.value.trim().substr(2),je=en("date_".concat(te,"_").concat(me),!0);if(!this.runtimeIncludes(je,"formatter")){var ct=function(Nt,ot,Ut){typeof ot=="string"&&(ot=oe(ot));var Vt=H(ot,Ut),zt=new Intl.DateTimeFormat(Nt,Vt);return function(vn){return zt.format(vn)}}(te,me);this.runtime[je]=Object.assign(ct,{id:je,module:null,toString:function(){return function(Nt,ot,Ut){typeof ot=="string"&&(ot=oe(ot));var Vt=H(ot,Ut);return["(function() {","var opt = ".concat(JSON.stringify(Vt),";"),"var dtf = new Intl.DateTimeFormat(".concat(JSON.stringify(Nt),", opt);"),"return function(value) { return dtf.format(value); }"].join(`
  `)+`
})()`}(te,me)},type:"formatter"})}return je}if(R.push(JSON.stringify(te)),q&&q.length>0){N&&this.options.strict&&(N=null);var Et=q.map(function(Nt){return B.token(Nt,N)});R.push("("+(Et.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},y.prototype.setNumberFormatter=function(O,R,N){var B=this,q=O.param,te=this.plural.locale;if(!q||q.length===0)return R.unshift(JSON.stringify(te)),R.push("0"),this.setRuntimeFn("number"),"number";if(R.push(JSON.stringify(te)),q.length===1&&q[0].type==="content"){var ue=q[0].value.trim();switch(ue){case"currency":return R.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var me=ue.match(/^currency:([A-Z]+)$/);if(me)return R.push(JSON.stringify(me[1])),this.setFormatter("numberCurrency"),"numberCurrency";var je=en("number_".concat(te,"_").concat(ue),!0);if(!this.runtimeIncludes(je,"formatter")){var ct=this.options.currency,Et=Ye(te,ue,ct);this.runtime[je]=Object.assign(Et,{id:null,module:null,toString:function(){return _t(te,ue,ct)},type:"formatter"})}return je}N&&this.options.strict&&(N=null);var Nt=q.map(function(ot){return B.token(ot,N)});return R.push("("+(Nt.join(" + ")||'""')+").trim()"),R.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},y}();function Cn(y){return y in sn}var Re=function(y){return y==1?"one":"other"},In=function(y){return y==0||y==1?"one":"other"},tn=function(y){return y>=0&&y<=1?"one":"other"},Xt=function(y){var O=!String(y).split(".")[1];return y==1&&O?"one":"other"},yt=function(y){return"other"},fn=function(y){return y==1?"one":y==2?"two":"other"},rn=Re,Jt=In,Kt=tn,gn=Re,bn=tn,yn=Re,Sn=Xt,On=Re,kn=Re,Hn=Re,Ai=Re,bi=Re,he=In,tt=yt,si=tn,vi=yt,$i=Re,yi=Xt,ki=Re,wi=Re,Ei=Re,Si=Re,Ti=Xt,Ci=tn,an=Re,Ln=yt,Fn=Re,Xn=Re,Rn=Xt,Pn=Re,jn=Xt,un=Re,Un=tn,Te=Xt,st=Re,_n=Re,ui=Xt,fi=Xt,ci=Re,_i=tn,Qi=In,xi=Re,er=Re,tr=tn,nr=yt,ir=Re,rr=Xt,lr=yt,or=yt,sr=yt,fr=Xt,ar=fn,ur=yt,cr=yt,_r=Re,dr=Re,mr=yt,pr=yt,hr=Re,gr=Re,br=Re,vr=yt,Qe=yt,At=Re,$r=Re,yr=Re,kr=yt,wr=tn,jt=yt,mi=Re,Sl=Re,Tl=Re,Cl=Re,Il=Re,Ol=Re,Rl=Xt,Nl=yt,Al=In,Bl=yt,Dl=Re,Ml=In,Ll=Re,Fl=Re,Pl=Re,jl=Re,Ul=yt,ql=yt,C0=Re,I0=fn,O0=Re,R0=Re,N0=Re,A0=Xt,B0=Re,D0=Re,M0=Re,L0=yt,F0=Re,P0=In,j0=Re,U0=Re,q0=Re,G0=Re,Y0=Re,H0=yt,z0=In,W0=Re,V0=tn,J0=Re,X0=Re,K0=Re,Z0=Re,Q0=yt,x0=Re,eb=fn,tb=Xt,nb=Xt,ib=Re,rb=Re,lb=fn,ob=Re,sb=yt,fb=yt,ab=fn,ub=fn,cb=fn,_b=fn,db=fn,mb=Re,pb=Re,hb=Re,gb=Re,bb=Re,vb=Re,$b=yt,yb=Xt,kb=Xt,wb=Re,Eb=Re,Sb=Re,Tb=Re,Cb=yt,Ib=In,Ob=Re,Rb=Re,Nb=Re,Ab=yt,Bb=yt,Db=Re,Mb=Re,Lb=Re,Fb=yt,Pb=Xt,jb=Re,Ub=Re,qb=yt,Gb=Re,Yb=Re,Hb=In,zb=Re,Wb=yt,Vb=Re,Jb=Re,Xb=Xt,Kb=yt,Zb=yt,Qb=yt,xb=tn,ev=Object.freeze({__proto__:null,af:rn,ak:Jt,am:Kt,an:gn,ar:function(y){var O=String(y).split("."),R=Number(O[0])==y&&O[0].slice(-2);return y==0?"zero":y==1?"one":y==2?"two":R>=3&&R<=10?"few":R>=11&&R<=99?"many":"other"},ars:function(y){var O=String(y).split("."),R=Number(O[0])==y&&O[0].slice(-2);return y==0?"zero":y==1?"one":y==2?"two":R>=3&&R<=10?"few":R>=11&&R<=99?"many":"other"},as:bn,asa:yn,ast:Sn,az:On,bal:kn,be:function(y){var O=String(y).split("."),R=Number(O[0])==y,N=R&&O[0].slice(-1),B=R&&O[0].slice(-2);return N==1&&B!=11?"one":N>=2&&N<=4&&(B<12||B>14)?"few":R&&N==0||N>=5&&N<=9||B>=11&&B<=14?"many":"other"},bem:Hn,bez:Ai,bg:bi,bho:he,bm:tt,bn:si,bo:vi,br:function(y){var O=String(y).split("."),R=Number(O[0])==y,N=R&&O[0].slice(-1),B=R&&O[0].slice(-2),q=R&&O[0].slice(-6);return N==1&&B!=11&&B!=71&&B!=91?"one":N==2&&B!=12&&B!=72&&B!=92?"two":(N==3||N==4||N==9)&&(B<10||B>19)&&(B<70||B>79)&&(B<90||B>99)?"few":y!=0&&R&&q==0?"many":"other"},brx:$i,bs:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-1),te=R.slice(-2),ue=N.slice(-1),me=N.slice(-2);return B&&q==1&&te!=11||ue==1&&me!=11?"one":B&&q>=2&&q<=4&&(te<12||te>14)||ue>=2&&ue<=4&&(me<12||me>14)?"few":"other"},ca:yi,ce:ki,ceb:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-1),te=N.slice(-1);return B&&(R==1||R==2||R==3)||B&&q!=4&&q!=6&&q!=9||!B&&te!=4&&te!=6&&te!=9?"one":"other"},cgg:wi,chr:Ei,ckb:Si,cs:function(y){var O=String(y).split("."),R=O[0],N=!O[1];return y==1&&N?"one":R>=2&&R<=4&&N?"few":N?"other":"many"},cy:function(y){return y==0?"zero":y==1?"one":y==2?"two":y==3?"few":y==6?"many":"other"},da:function(y){var O=String(y).split("."),R=O[0],N=Number(O[0])==y;return y!=1&&(N||R!=0&&R!=1)?"other":"one"},de:Ti,doi:Ci,dsb:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-2),te=N.slice(-2);return B&&q==1||te==1?"one":B&&q==2||te==2?"two":B&&(q==3||q==4)||te==3||te==4?"few":"other"},dv:an,dz:Ln,ee:Fn,el:Xn,en:Rn,eo:Pn,es:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-6);return y==1?"one":R!=0&&B==0&&N?"many":"other"},et:jn,eu:un,fa:Un,ff:function(y){return y>=0&&y<2?"one":"other"},fi:Te,fil:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-1),te=N.slice(-1);return B&&(R==1||R==2||R==3)||B&&q!=4&&q!=6&&q!=9||!B&&te!=4&&te!=6&&te!=9?"one":"other"},fo:st,fr:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-6);return y>=0&&y<2?"one":R!=0&&B==0&&N?"many":"other"},fur:_n,fy:ui,ga:function(y){var O=String(y).split("."),R=Number(O[0])==y;return y==1?"one":y==2?"two":R&&y>=3&&y<=6?"few":R&&y>=7&&y<=10?"many":"other"},gd:function(y){var O=String(y).split("."),R=Number(O[0])==y;return y==1||y==11?"one":y==2||y==12?"two":R&&y>=3&&y<=10||R&&y>=13&&y<=19?"few":"other"},gl:fi,gsw:ci,gu:_i,guw:Qi,gv:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-1),q=R.slice(-2);return N&&B==1?"one":N&&B==2?"two":!N||q!=0&&q!=20&&q!=40&&q!=60&&q!=80?N?"other":"many":"few"},ha:xi,haw:er,he:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=Number(O[0])==y,q=B&&O[0].slice(-1);return y==1&&N?"one":R==2&&N?"two":N&&(y<0||y>10)&&B&&q==0?"many":"other"},hi:tr,hnj:nr,hr:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-1),te=R.slice(-2),ue=N.slice(-1),me=N.slice(-2);return B&&q==1&&te!=11||ue==1&&me!=11?"one":B&&q>=2&&q<=4&&(te<12||te>14)||ue>=2&&ue<=4&&(me<12||me>14)?"few":"other"},hsb:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-2),te=N.slice(-2);return B&&q==1||te==1?"one":B&&q==2||te==2?"two":B&&(q==3||q==4)||te==3||te==4?"few":"other"},hu:ir,hy:function(y){return y>=0&&y<2?"one":"other"},ia:rr,id:lr,ig:or,ii:sr,io:fr,is:function(y){var O=String(y).split("."),R=O[0],N=Number(O[0])==y,B=R.slice(-1),q=R.slice(-2);return N&&B==1&&q!=11||!N?"one":"other"},it:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-6);return y==1&&N?"one":R!=0&&B==0&&N?"many":"other"},iu:ar,ja:ur,jbo:cr,jgo:_r,jmc:dr,jv:mr,jw:pr,ka:hr,kab:function(y){return y>=0&&y<2?"one":"other"},kaj:gr,kcg:br,kde:vr,kea:Qe,kk:At,kkj:$r,kl:yr,km:kr,kn:wr,ko:jt,ks:mi,ksb:Sl,ksh:function(y){return y==0?"zero":y==1?"one":"other"},ku:Tl,kw:function(y){var O=String(y).split("."),R=Number(O[0])==y,N=R&&O[0].slice(-2),B=R&&O[0].slice(-3),q=R&&O[0].slice(-5),te=R&&O[0].slice(-6);return y==0?"zero":y==1?"one":N==2||N==22||N==42||N==62||N==82||R&&B==0&&(q>=1e3&&q<=2e4||q==4e4||q==6e4||q==8e4)||y!=0&&te==1e5?"two":N==3||N==23||N==43||N==63||N==83?"few":y==1||N!=1&&N!=21&&N!=41&&N!=61&&N!=81?"other":"many"},ky:Cl,lag:function(y){var O=String(y).split(".")[0];return y==0?"zero":O!=0&&O!=1||y==0?"other":"one"},lb:Il,lg:Ol,lij:Rl,lkt:Nl,ln:Al,lo:Bl,lt:function(y){var O=String(y).split("."),R=O[1]||"",N=Number(O[0])==y,B=N&&O[0].slice(-1),q=N&&O[0].slice(-2);return B==1&&(q<11||q>19)?"one":B>=2&&B<=9&&(q<11||q>19)?"few":R!=0?"many":"other"},lv:function(y){var O=String(y).split("."),R=O[1]||"",N=R.length,B=Number(O[0])==y,q=B&&O[0].slice(-1),te=B&&O[0].slice(-2),ue=R.slice(-2),me=R.slice(-1);return B&&q==0||te>=11&&te<=19||N==2&&ue>=11&&ue<=19?"zero":q==1&&te!=11||N==2&&me==1&&ue!=11||N!=2&&me==1?"one":"other"},mas:Dl,mg:Ml,mgo:Ll,mk:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-1),te=R.slice(-2),ue=N.slice(-1),me=N.slice(-2);return B&&q==1&&te!=11||ue==1&&me!=11?"one":"other"},ml:Fl,mn:Pl,mo:function(y){var O=String(y).split("."),R=!O[1],N=Number(O[0])==y&&O[0].slice(-2);return y==1&&R?"one":!R||y==0||N>=2&&N<=19?"few":"other"},mr:jl,ms:Ul,mt:function(y){var O=String(y).split("."),R=Number(O[0])==y&&O[0].slice(-2);return y==1?"one":y==0||R>=2&&R<=10?"few":R>=11&&R<=19?"many":"other"},my:ql,nah:C0,naq:I0,nb:O0,nd:R0,ne:N0,nl:A0,nn:B0,nnh:D0,no:M0,nqo:L0,nr:F0,nso:P0,ny:j0,nyn:U0,om:q0,or:G0,os:Y0,osa:H0,pa:z0,pap:W0,pcm:V0,pl:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-1),q=R.slice(-2);return y==1&&N?"one":N&&B>=2&&B<=4&&(q<12||q>14)?"few":N&&R!=1&&(B==0||B==1)||N&&B>=5&&B<=9||N&&q>=12&&q<=14?"many":"other"},prg:function(y){var O=String(y).split("."),R=O[1]||"",N=R.length,B=Number(O[0])==y,q=B&&O[0].slice(-1),te=B&&O[0].slice(-2),ue=R.slice(-2),me=R.slice(-1);return B&&q==0||te>=11&&te<=19||N==2&&ue>=11&&ue<=19?"zero":q==1&&te!=11||N==2&&me==1&&ue!=11||N!=2&&me==1?"one":"other"},ps:J0,pt:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-6);return R==0||R==1?"one":R!=0&&B==0&&N?"many":"other"},pt_PT:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-6);return y==1&&N?"one":R!=0&&B==0&&N?"many":"other"},rm:X0,ro:function(y){var O=String(y).split("."),R=!O[1],N=Number(O[0])==y&&O[0].slice(-2);return y==1&&R?"one":!R||y==0||N>=2&&N<=19?"few":"other"},rof:K0,ru:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-1),q=R.slice(-2);return N&&B==1&&q!=11?"one":N&&B>=2&&B<=4&&(q<12||q>14)?"few":N&&B==0||N&&B>=5&&B<=9||N&&q>=11&&q<=14?"many":"other"},rwk:Z0,sah:Q0,saq:x0,sat:eb,sc:tb,scn:nb,sd:ib,sdh:rb,se:lb,seh:ob,ses:sb,sg:fb,sh:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-1),te=R.slice(-2),ue=N.slice(-1),me=N.slice(-2);return B&&q==1&&te!=11||ue==1&&me!=11?"one":B&&q>=2&&q<=4&&(te<12||te>14)||ue>=2&&ue<=4&&(me<12||me>14)?"few":"other"},shi:function(y){var O=String(y).split("."),R=Number(O[0])==y;return y>=0&&y<=1?"one":R&&y>=2&&y<=10?"few":"other"},si:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"";return y==0||y==1||R==0&&N==1?"one":"other"},sk:function(y){var O=String(y).split("."),R=O[0],N=!O[1];return y==1&&N?"one":R>=2&&R<=4&&N?"few":N?"other":"many"},sl:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-2);return N&&B==1?"one":N&&B==2?"two":N&&(B==3||B==4)||!N?"few":"other"},sma:ab,smi:ub,smj:cb,smn:_b,sms:db,sn:mb,so:pb,sq:hb,sr:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-1),te=R.slice(-2),ue=N.slice(-1),me=N.slice(-2);return B&&q==1&&te!=11||ue==1&&me!=11?"one":B&&q>=2&&q<=4&&(te<12||te>14)||ue>=2&&ue<=4&&(me<12||me>14)?"few":"other"},ss:gb,ssy:bb,st:vb,su:$b,sv:yb,sw:kb,syr:wb,ta:Eb,te:Sb,teo:Tb,th:Cb,ti:Ib,tig:Ob,tk:Rb,tl:function(y){var O=String(y).split("."),R=O[0],N=O[1]||"",B=!O[1],q=R.slice(-1),te=N.slice(-1);return B&&(R==1||R==2||R==3)||B&&q!=4&&q!=6&&q!=9||!B&&te!=4&&te!=6&&te!=9?"one":"other"},tn:Nb,to:Ab,tpi:Bb,tr:Db,ts:Mb,tzm:function(y){var O=String(y).split("."),R=Number(O[0])==y;return y==0||y==1||R&&y>=11&&y<=99?"one":"other"},ug:Lb,uk:function(y){var O=String(y).split("."),R=O[0],N=!O[1],B=R.slice(-1),q=R.slice(-2);return N&&B==1&&q!=11?"one":N&&B>=2&&B<=4&&(q<12||q>14)?"few":N&&B==0||N&&B>=5&&B<=9||N&&q>=11&&q<=14?"many":"other"},und:Fb,ur:Pb,uz:jb,ve:Ub,vi:qb,vo:Gb,vun:Yb,wa:Hb,wae:zb,wo:Wb,xh:Vb,xog:Jb,yi:Xb,yo:Kb,yue:Zb,zh:Qb,zu:xb}),Mi="zero",pt="one",Nn="two",cn="few",mn="many",Ke="other",Xe={cardinal:[pt,Ke],ordinal:[Ke]},Er={cardinal:[pt,Ke],ordinal:[pt,Ke]},pn={cardinal:[Ke],ordinal:[Ke]},Br={cardinal:[pt,cn,mn,Ke],ordinal:[Ke]},Li={cardinal:[pt,Nn,Ke],ordinal:[Ke]},tv=Xe,nv=Xe,iv=Xe,rv=Xe,lv={cardinal:[Mi,pt,Nn,cn,mn,Ke],ordinal:[Ke]},ov={cardinal:[Mi,pt,Nn,cn,mn,Ke],ordinal:[Ke]},sv={cardinal:[pt,Ke],ordinal:[pt,Nn,cn,mn,Ke]},fv=Xe,av=Xe,uv={cardinal:[pt,Ke],ordinal:[pt,cn,mn,Ke]},cv=Er,_v={cardinal:[pt,cn,mn,Ke],ordinal:[cn,Ke]},dv=Xe,mv=Xe,pv=Xe,hv=Xe,gv=pn,bv={cardinal:[pt,Ke],ordinal:[pt,Nn,cn,mn,Ke]},vv=pn,$v={cardinal:[pt,Nn,cn,mn,Ke],ordinal:[Ke]},yv=Xe,kv={cardinal:[pt,cn,Ke],ordinal:[Ke]},wv={cardinal:[pt,Ke],ordinal:[pt,Nn,cn,Ke]},Ev=Xe,Sv=Xe,Tv=Xe,Cv=Xe,Iv=Xe,Ov=Br,Rv={cardinal:[Mi,pt,Nn,cn,mn,Ke],ordinal:[Mi,pt,Nn,cn,mn,Ke]},Nv=Xe,Av=Xe,Bv=Xe,Dv={cardinal:[pt,Nn,cn,Ke],ordinal:[Ke]},Mv=Xe,Lv=pn,Fv=Xe,Pv=Xe,jv={cardinal:[pt,Ke],ordinal:[pt,Nn,cn,Ke]},Uv=Xe,qv={cardinal:[pt,mn,Ke],ordinal:[Ke]},Gv=Xe,Yv=Xe,Hv=Xe,zv=Xe,Wv=Xe,Vv=Er,Jv=Xe,Xv={cardinal:[pt,mn,Ke],ordinal:[pt,Ke]},Kv=Xe,Zv=Xe,Qv={cardinal:[pt,Nn,cn,mn,Ke],ordinal:[pt,Ke]},xv={cardinal:[pt,Nn,cn,Ke],ordinal:[pt,Nn,cn,Ke]},e$=Xe,t$=Xe,n$={cardinal:[pt,Ke],ordinal:[pt,Nn,cn,mn,Ke]},i$=Xe,r$={cardinal:[pt,Nn,cn,mn,Ke],ordinal:[Ke]},l$=Xe,o$=Xe,s$={cardinal:[pt,Nn,mn,Ke],ordinal:[Ke]},f$={cardinal:[pt,Ke],ordinal:[pt,Nn,cn,mn,Ke]},a$=pn,u$={cardinal:[pt,cn,Ke],ordinal:[Ke]},c$={cardinal:[pt,Nn,cn,Ke],ordinal:[Ke]},_$=Er,d$=Er,m$=Xe,p$=pn,h$=pn,g$=pn,b$=Xe,v$=Xe,$$={cardinal:[pt,mn,Ke],ordinal:[mn,Ke]},y$=Li,k$=pn,w$=pn,E$=Xe,S$=Xe,T$=pn,C$=pn,I$={cardinal:[pt,Ke],ordinal:[pt,mn,Ke]},O$=Xe,R$=Xe,N$=Xe,A$=pn,B$=pn,D$={cardinal:[pt,Ke],ordinal:[mn,Ke]},M$=Xe,L$=Xe,F$=pn,P$=Xe,j$=pn,U$=Xe,q$=Xe,G$={cardinal:[Mi,pt,Ke],ordinal:[Ke]},Y$=Xe,H$={cardinal:[Mi,pt,Nn,cn,mn,Ke],ordinal:[pt,mn,Ke]},z$=Xe,W$={cardinal:[Mi,pt,Ke],ordinal:[Ke]},V$=Xe,J$=Xe,X$={cardinal:[pt,Ke],ordinal:[mn,Ke]},K$=pn,Z$=Xe,Q$={cardinal:[Ke],ordinal:[pt,Ke]},x$=Br,ey={cardinal:[Mi,pt,Ke],ordinal:[Ke]},ty=Xe,ny=Xe,iy=Xe,ry={cardinal:[pt,Ke],ordinal:[pt,Nn,mn,Ke]},ly=Xe,oy=Xe,sy={cardinal:[pt,cn,Ke],ordinal:[pt,Ke]},fy={cardinal:[pt,Ke],ordinal:[pt,Nn,cn,Ke]},ay={cardinal:[Ke],ordinal:[pt,Ke]},uy=Br,cy=pn,_y=Xe,dy=Li,my=Xe,py=Xe,hy=Er,gy=Xe,by=Xe,vy=Xe,$y=Xe,yy=pn,ky=Xe,wy=Xe,Ey=Xe,Sy=Xe,Ty=Xe,Cy={cardinal:[pt,Ke],ordinal:[pt,Nn,cn,mn,Ke]},Iy=Xe,Oy=pn,Ry=Xe,Ny=Xe,Ay=Xe,By=Br,Dy={cardinal:[Mi,pt,Ke],ordinal:[Ke]},My=Xe,Ly={cardinal:[pt,mn,Ke],ordinal:[Ke]},Fy={cardinal:[pt,mn,Ke],ordinal:[Ke]},Py=Xe,jy={cardinal:[pt,cn,Ke],ordinal:[pt,Ke]},Uy=Xe,qy=Br,Gy=Xe,Yy=pn,Hy=Xe,zy=Li,Wy={cardinal:[pt,Ke],ordinal:[mn,Ke]},Vy={cardinal:[pt,Ke],ordinal:[mn,Ke]},Jy=Xe,Xy=Xe,Ky=Li,Zy=Xe,Qy=pn,xy=pn,ek={cardinal:[pt,cn,Ke],ordinal:[Ke]},tk={cardinal:[pt,cn,Ke],ordinal:[Ke]},nk=Xe,ik=Br,rk={cardinal:[pt,Nn,cn,Ke],ordinal:[Ke]},lk=Li,ok=Li,sk=Li,fk=Li,ak=Li,uk=Xe,ck=Xe,_k={cardinal:[pt,Ke],ordinal:[pt,mn,Ke]},dk={cardinal:[pt,cn,Ke],ordinal:[Ke]},mk=Xe,pk=Xe,hk=Xe,gk=pn,bk=Er,vk=Xe,$k=Xe,yk=Xe,kk=Xe,wk=Xe,Ek=pn,Sk=Xe,Tk=Xe,Ck={cardinal:[pt,Ke],ordinal:[cn,Ke]},Ik=Er,Ok=Xe,Rk=pn,Nk=pn,Ak=Xe,Bk=Xe,Dk=Xe,Mk=Xe,Lk={cardinal:[pt,cn,mn,Ke],ordinal:[cn,Ke]},Fk=pn,Pk=Xe,jk=Xe,Uk=Xe,qk={cardinal:[Ke],ordinal:[pt,Ke]},Gk=Xe,Yk=Xe,Hk=Xe,zk=Xe,Wk=pn,Vk=Xe,Jk=Xe,Xk=Xe,Kk=pn,Zk=pn,Qk=pn,xk=Xe,qs=Object.freeze({__proto__:null,af:tv,ak:nv,am:iv,an:rv,ar:lv,ars:ov,as:sv,asa:fv,ast:av,az:uv,bal:cv,be:_v,bem:dv,bez:mv,bg:pv,bho:hv,bm:gv,bn:bv,bo:vv,br:$v,brx:yv,bs:kv,ca:wv,ce:Ev,ceb:Sv,cgg:Tv,chr:Cv,ckb:Iv,cs:Ov,cy:Rv,da:Nv,de:Av,doi:Bv,dsb:Dv,dv:Mv,dz:Lv,ee:Fv,el:Pv,en:jv,eo:Uv,es:qv,et:Gv,eu:Yv,fa:Hv,ff:zv,fi:Wv,fil:Vv,fo:Jv,fr:Xv,fur:Kv,fy:Zv,ga:Qv,gd:xv,gl:e$,gsw:t$,gu:n$,guw:i$,gv:r$,ha:l$,haw:o$,he:s$,hi:f$,hnj:a$,hr:u$,hsb:c$,hu:_$,hy:d$,ia:m$,id:p$,ig:h$,ii:g$,io:b$,is:v$,it:$$,iu:y$,ja:k$,jbo:w$,jgo:E$,jmc:S$,jv:T$,jw:C$,ka:I$,kab:O$,kaj:R$,kcg:N$,kde:A$,kea:B$,kk:D$,kkj:M$,kl:L$,km:F$,kn:P$,ko:j$,ks:U$,ksb:q$,ksh:G$,ku:Y$,kw:H$,ky:z$,lag:W$,lb:V$,lg:J$,lij:X$,lkt:K$,ln:Z$,lo:Q$,lt:x$,lv:ey,mas:ty,mg:ny,mgo:iy,mk:ry,ml:ly,mn:oy,mo:sy,mr:fy,ms:ay,mt:uy,my:cy,nah:_y,naq:dy,nb:my,nd:py,ne:hy,nl:gy,nn:by,nnh:vy,no:$y,nqo:yy,nr:ky,nso:wy,ny:Ey,nyn:Sy,om:Ty,or:Cy,os:Iy,osa:Oy,pa:Ry,pap:Ny,pcm:Ay,pl:By,prg:Dy,ps:My,pt:Ly,pt_PT:Fy,rm:Py,ro:jy,rof:Uy,ru:qy,rwk:Gy,sah:Yy,saq:Hy,sat:zy,sc:Wy,scn:Vy,sd:Jy,sdh:Xy,se:Ky,seh:Zy,ses:Qy,sg:xy,sh:ek,shi:tk,si:nk,sk:ik,sl:rk,sma:lk,smi:ok,smj:sk,smn:fk,sms:ak,sn:uk,so:ck,sq:_k,sr:dk,ss:mk,ssy:pk,st:hk,su:gk,sv:bk,sw:vk,syr:$k,ta:yk,te:kk,teo:wk,th:Ek,ti:Sk,tig:Tk,tk:Ck,tl:Ik,tn:Ok,to:Rk,tpi:Nk,tr:Ak,ts:Bk,tzm:Dk,ug:Mk,uk:Lk,und:Fk,ur:Pk,uz:jk,ve:Uk,vi:qk,vo:Gk,vun:Yk,wa:Hk,wae:zk,wo:Wk,xh:Vk,xog:Jk,yi:Xk,yo:Kk,yue:Zk,zh:Qk,zu:xk}),ut=function(y,O){return O?"other":y==1?"one":"other"},Fi=function(y,O){return O?"other":y==0||y==1?"one":"other"},Dr=function(y,O){return O?"other":y>=0&&y<=1?"one":"other"},gi=function(y,O){var R=!String(y).split(".")[1];return O?"other":y==1&&R?"one":"other"},hn=function(y,O){return"other"},Pi=function(y,O){return O?"other":y==1?"one":y==2?"two":"other"},ew=ut,tw=Fi,nw=Dr,iw=ut,rw=ut,lw=gi,ow=ut,sw=ut,fw=ut,aw=Fi,uw=hn,cw=hn,_w=ut,dw=ut,mw=ut,pw=ut,hw=ut,gw=gi,bw=Dr,vw=ut,$w=hn,yw=ut,kw=ut,ww=ut,Ew=gi,Sw=ut,Tw=Dr,Cw=gi,Iw=ut,Ow=ut,Rw=gi,Nw=gi,Aw=ut,Bw=Fi,Dw=ut,Mw=ut,Lw=hn,Fw=gi,Pw=hn,jw=hn,Uw=hn,qw=gi,Gw=Pi,Yw=hn,Hw=hn,zw=ut,Ww=ut,Vw=hn,Jw=hn,Xw=ut,Kw=ut,Zw=hn,Qw=hn,xw=ut,e2=ut,t2=hn,n2=Dr,i2=hn,r2=ut,l2=ut,o2=ut,s2=ut,f2=ut,a2=ut,u2=hn,c2=Fi,_2=ut,d2=Fi,m2=ut,p2=ut,h2=ut,g2=hn,b2=ut,v2=Pi,$2=ut,y2=ut,k2=gi,w2=ut,E2=ut,S2=ut,T2=hn,C2=ut,I2=Fi,O2=ut,R2=ut,N2=ut,A2=ut,B2=hn,D2=Fi,M2=ut,L2=Dr,F2=ut,P2=ut,j2=ut,U2=ut,q2=hn,G2=ut,Y2=Pi,H2=ut,z2=ut,W2=Pi,V2=ut,J2=hn,X2=hn,K2=Pi,Z2=Pi,Q2=Pi,x2=Pi,eE=Pi,tE=ut,nE=ut,iE=ut,rE=ut,lE=ut,oE=hn,sE=gi,fE=ut,aE=ut,uE=ut,cE=ut,_E=hn,dE=Fi,mE=ut,pE=ut,hE=hn,gE=hn,bE=ut,vE=ut,$E=ut,yE=hn,kE=gi,wE=ut,EE=ut,SE=ut,TE=ut,CE=Fi,IE=ut,OE=hn,RE=ut,NE=ut,AE=gi,BE=hn,DE=hn,ME=hn,LE=Dr,Gl=Object.freeze({__proto__:null,af:ew,ak:tw,am:nw,an:iw,ar:function(y,O){var R=String(y).split("."),N=Number(R[0])==y&&R[0].slice(-2);return O?"other":y==0?"zero":y==1?"one":y==2?"two":N>=3&&N<=10?"few":N>=11&&N<=99?"many":"other"},ars:function(y,O){var R=String(y).split("."),N=Number(R[0])==y&&R[0].slice(-2);return O?"other":y==0?"zero":y==1?"one":y==2?"two":N>=3&&N<=10?"few":N>=11&&N<=99?"many":"other"},as:function(y,O){return O?y==1||y==5||y==7||y==8||y==9||y==10?"one":y==2||y==3?"two":y==4?"few":y==6?"many":"other":y>=0&&y<=1?"one":"other"},asa:rw,ast:lw,az:function(y,O){var R=String(y).split(".")[0],N=R.slice(-1),B=R.slice(-2),q=R.slice(-3);return O?N==1||N==2||N==5||N==7||N==8||B==20||B==50||B==70||B==80?"one":N==3||N==4||q==100||q==200||q==300||q==400||q==500||q==600||q==700||q==800||q==900?"few":R==0||N==6||B==40||B==60||B==90?"many":"other":y==1?"one":"other"},bal:function(y,O){return y==1?"one":"other"},be:function(y,O){var R=String(y).split("."),N=Number(R[0])==y,B=N&&R[0].slice(-1),q=N&&R[0].slice(-2);return O?B!=2&&B!=3||q==12||q==13?"other":"few":B==1&&q!=11?"one":B>=2&&B<=4&&(q<12||q>14)?"few":N&&B==0||B>=5&&B<=9||q>=11&&q<=14?"many":"other"},bem:ow,bez:sw,bg:fw,bho:aw,bm:uw,bn:function(y,O){return O?y==1||y==5||y==7||y==8||y==9||y==10?"one":y==2||y==3?"two":y==4?"few":y==6?"many":"other":y>=0&&y<=1?"one":"other"},bo:cw,br:function(y,O){var R=String(y).split("."),N=Number(R[0])==y,B=N&&R[0].slice(-1),q=N&&R[0].slice(-2),te=N&&R[0].slice(-6);return O?"other":B==1&&q!=11&&q!=71&&q!=91?"one":B==2&&q!=12&&q!=72&&q!=92?"two":(B==3||B==4||B==9)&&(q<10||q>19)&&(q<70||q>79)&&(q<90||q>99)?"few":y!=0&&N&&te==0?"many":"other"},brx:_w,bs:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-1),ue=N.slice(-2),me=B.slice(-1),je=B.slice(-2);return O?"other":q&&te==1&&ue!=11||me==1&&je!=11?"one":q&&te>=2&&te<=4&&(ue<12||ue>14)||me>=2&&me<=4&&(je<12||je>14)?"few":"other"},ca:function(y,O){var R=!String(y).split(".")[1];return O?y==1||y==3?"one":y==2?"two":y==4?"few":"other":y==1&&R?"one":"other"},ce:dw,ceb:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-1),ue=B.slice(-1);return O?"other":q&&(N==1||N==2||N==3)||q&&te!=4&&te!=6&&te!=9||!q&&ue!=4&&ue!=6&&ue!=9?"one":"other"},cgg:mw,chr:pw,ckb:hw,cs:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1];return O?"other":y==1&&B?"one":N>=2&&N<=4&&B?"few":B?"other":"many"},cy:function(y,O){return O?y==0||y==7||y==8||y==9?"zero":y==1?"one":y==2?"two":y==3||y==4?"few":y==5||y==6?"many":"other":y==0?"zero":y==1?"one":y==2?"two":y==3?"few":y==6?"many":"other"},da:function(y,O){var R=String(y).split("."),N=R[0],B=Number(R[0])==y;return O||y!=1&&(B||N!=0&&N!=1)?"other":"one"},de:gw,doi:bw,dsb:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-2),ue=B.slice(-2);return O?"other":q&&te==1||ue==1?"one":q&&te==2||ue==2?"two":q&&(te==3||te==4)||ue==3||ue==4?"few":"other"},dv:vw,dz:$w,ee:yw,el:kw,en:function(y,O){var R=String(y).split("."),N=!R[1],B=Number(R[0])==y,q=B&&R[0].slice(-1),te=B&&R[0].slice(-2);return O?q==1&&te!=11?"one":q==2&&te!=12?"two":q==3&&te!=13?"few":"other":y==1&&N?"one":"other"},eo:ww,es:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-6);return O?"other":y==1?"one":N!=0&&q==0&&B?"many":"other"},et:Ew,eu:Sw,fa:Tw,ff:function(y,O){return O?"other":y>=0&&y<2?"one":"other"},fi:Cw,fil:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-1),ue=B.slice(-1);return O?y==1?"one":"other":q&&(N==1||N==2||N==3)||q&&te!=4&&te!=6&&te!=9||!q&&ue!=4&&ue!=6&&ue!=9?"one":"other"},fo:Iw,fr:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-6);return O?y==1?"one":"other":y>=0&&y<2?"one":N!=0&&q==0&&B?"many":"other"},fur:Ow,fy:Rw,ga:function(y,O){var R=String(y).split("."),N=Number(R[0])==y;return O?y==1?"one":"other":y==1?"one":y==2?"two":N&&y>=3&&y<=6?"few":N&&y>=7&&y<=10?"many":"other"},gd:function(y,O){var R=String(y).split("."),N=Number(R[0])==y;return O?y==1||y==11?"one":y==2||y==12?"two":y==3||y==13?"few":"other":y==1||y==11?"one":y==2||y==12?"two":N&&y>=3&&y<=10||N&&y>=13&&y<=19?"few":"other"},gl:Nw,gsw:Aw,gu:function(y,O){return O?y==1?"one":y==2||y==3?"two":y==4?"few":y==6?"many":"other":y>=0&&y<=1?"one":"other"},guw:Bw,gv:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-1),te=N.slice(-2);return O?"other":B&&q==1?"one":B&&q==2?"two":!B||te!=0&&te!=20&&te!=40&&te!=60&&te!=80?B?"other":"many":"few"},ha:Dw,haw:Mw,he:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=Number(R[0])==y,te=q&&R[0].slice(-1);return O?"other":y==1&&B?"one":N==2&&B?"two":B&&(y<0||y>10)&&q&&te==0?"many":"other"},hi:function(y,O){return O?y==1?"one":y==2||y==3?"two":y==4?"few":y==6?"many":"other":y>=0&&y<=1?"one":"other"},hnj:Lw,hr:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-1),ue=N.slice(-2),me=B.slice(-1),je=B.slice(-2);return O?"other":q&&te==1&&ue!=11||me==1&&je!=11?"one":q&&te>=2&&te<=4&&(ue<12||ue>14)||me>=2&&me<=4&&(je<12||je>14)?"few":"other"},hsb:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-2),ue=B.slice(-2);return O?"other":q&&te==1||ue==1?"one":q&&te==2||ue==2?"two":q&&(te==3||te==4)||ue==3||ue==4?"few":"other"},hu:function(y,O){return O?y==1||y==5?"one":"other":y==1?"one":"other"},hy:function(y,O){return O?y==1?"one":"other":y>=0&&y<2?"one":"other"},ia:Fw,id:Pw,ig:jw,ii:Uw,io:qw,is:function(y,O){var R=String(y).split("."),N=R[0],B=Number(R[0])==y,q=N.slice(-1),te=N.slice(-2);return O?"other":B&&q==1&&te!=11||!B?"one":"other"},it:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-6);return O?y==11||y==8||y==80||y==800?"many":"other":y==1&&B?"one":N!=0&&q==0&&B?"many":"other"},iu:Gw,ja:Yw,jbo:Hw,jgo:zw,jmc:Ww,jv:Vw,jw:Jw,ka:function(y,O){var R=String(y).split(".")[0],N=R.slice(-2);return O?R==1?"one":R==0||N>=2&&N<=20||N==40||N==60||N==80?"many":"other":y==1?"one":"other"},kab:function(y,O){return O?"other":y>=0&&y<2?"one":"other"},kaj:Xw,kcg:Kw,kde:Zw,kea:Qw,kk:function(y,O){var R=String(y).split("."),N=Number(R[0])==y,B=N&&R[0].slice(-1);return O?B==6||B==9||N&&B==0&&y!=0?"many":"other":y==1?"one":"other"},kkj:xw,kl:e2,km:t2,kn:n2,ko:i2,ks:r2,ksb:l2,ksh:function(y,O){return O?"other":y==0?"zero":y==1?"one":"other"},ku:o2,kw:function(y,O){var R=String(y).split("."),N=Number(R[0])==y,B=N&&R[0].slice(-2),q=N&&R[0].slice(-3),te=N&&R[0].slice(-5),ue=N&&R[0].slice(-6);return O?N&&y>=1&&y<=4||B>=1&&B<=4||B>=21&&B<=24||B>=41&&B<=44||B>=61&&B<=64||B>=81&&B<=84?"one":y==5||B==5?"many":"other":y==0?"zero":y==1?"one":B==2||B==22||B==42||B==62||B==82||N&&q==0&&(te>=1e3&&te<=2e4||te==4e4||te==6e4||te==8e4)||y!=0&&ue==1e5?"two":B==3||B==23||B==43||B==63||B==83?"few":y==1||B!=1&&B!=21&&B!=41&&B!=61&&B!=81?"other":"many"},ky:s2,lag:function(y,O){var R=String(y).split(".")[0];return O?"other":y==0?"zero":R!=0&&R!=1||y==0?"other":"one"},lb:f2,lg:a2,lij:function(y,O){var R=String(y).split("."),N=!R[1],B=Number(R[0])==y;return O?y==11||y==8||B&&y>=80&&y<=89||B&&y>=800&&y<=899?"many":"other":y==1&&N?"one":"other"},lkt:u2,ln:c2,lo:function(y,O){return O&&y==1?"one":"other"},lt:function(y,O){var R=String(y).split("."),N=R[1]||"",B=Number(R[0])==y,q=B&&R[0].slice(-1),te=B&&R[0].slice(-2);return O?"other":q==1&&(te<11||te>19)?"one":q>=2&&q<=9&&(te<11||te>19)?"few":N!=0?"many":"other"},lv:function(y,O){var R=String(y).split("."),N=R[1]||"",B=N.length,q=Number(R[0])==y,te=q&&R[0].slice(-1),ue=q&&R[0].slice(-2),me=N.slice(-2),je=N.slice(-1);return O?"other":q&&te==0||ue>=11&&ue<=19||B==2&&me>=11&&me<=19?"zero":te==1&&ue!=11||B==2&&je==1&&me!=11||B!=2&&je==1?"one":"other"},mas:_2,mg:d2,mgo:m2,mk:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-1),ue=N.slice(-2),me=B.slice(-1),je=B.slice(-2);return O?te==1&&ue!=11?"one":te==2&&ue!=12?"two":te!=7&&te!=8||ue==17||ue==18?"other":"many":q&&te==1&&ue!=11||me==1&&je!=11?"one":"other"},ml:p2,mn:h2,mo:function(y,O){var R=String(y).split("."),N=!R[1],B=Number(R[0])==y&&R[0].slice(-2);return O?y==1?"one":"other":y==1&&N?"one":!N||y==0||B>=2&&B<=19?"few":"other"},mr:function(y,O){return O?y==1?"one":y==2||y==3?"two":y==4?"few":"other":y==1?"one":"other"},ms:function(y,O){return O&&y==1?"one":"other"},mt:function(y,O){var R=String(y).split("."),N=Number(R[0])==y&&R[0].slice(-2);return O?"other":y==1?"one":y==0||N>=2&&N<=10?"few":N>=11&&N<=19?"many":"other"},my:g2,nah:b2,naq:v2,nb:$2,nd:y2,ne:function(y,O){var R=String(y).split("."),N=Number(R[0])==y;return O?N&&y>=1&&y<=4?"one":"other":y==1?"one":"other"},nl:k2,nn:w2,nnh:E2,no:S2,nqo:T2,nr:C2,nso:I2,ny:O2,nyn:R2,om:N2,or:function(y,O){var R=String(y).split("."),N=Number(R[0])==y;return O?y==1||y==5||N&&y>=7&&y<=9?"one":y==2||y==3?"two":y==4?"few":y==6?"many":"other":y==1?"one":"other"},os:A2,osa:B2,pa:D2,pap:M2,pcm:L2,pl:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-1),te=N.slice(-2);return O?"other":y==1&&B?"one":B&&q>=2&&q<=4&&(te<12||te>14)?"few":B&&N!=1&&(q==0||q==1)||B&&q>=5&&q<=9||B&&te>=12&&te<=14?"many":"other"},prg:function(y,O){var R=String(y).split("."),N=R[1]||"",B=N.length,q=Number(R[0])==y,te=q&&R[0].slice(-1),ue=q&&R[0].slice(-2),me=N.slice(-2),je=N.slice(-1);return O?"other":q&&te==0||ue>=11&&ue<=19||B==2&&me>=11&&me<=19?"zero":te==1&&ue!=11||B==2&&je==1&&me!=11||B!=2&&je==1?"one":"other"},ps:F2,pt:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-6);return O?"other":N==0||N==1?"one":N!=0&&q==0&&B?"many":"other"},pt_PT:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-6);return O?"other":y==1&&B?"one":N!=0&&q==0&&B?"many":"other"},rm:P2,ro:function(y,O){var R=String(y).split("."),N=!R[1],B=Number(R[0])==y&&R[0].slice(-2);return O?y==1?"one":"other":y==1&&N?"one":!N||y==0||B>=2&&B<=19?"few":"other"},rof:j2,ru:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-1),te=N.slice(-2);return O?"other":B&&q==1&&te!=11?"one":B&&q>=2&&q<=4&&(te<12||te>14)?"few":B&&q==0||B&&q>=5&&q<=9||B&&te>=11&&te<=14?"many":"other"},rwk:U2,sah:q2,saq:G2,sat:Y2,sc:function(y,O){var R=!String(y).split(".")[1];return O?y==11||y==8||y==80||y==800?"many":"other":y==1&&R?"one":"other"},scn:function(y,O){var R=!String(y).split(".")[1];return O?y==11||y==8||y==80||y==800?"many":"other":y==1&&R?"one":"other"},sd:H2,sdh:z2,se:W2,seh:V2,ses:J2,sg:X2,sh:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-1),ue=N.slice(-2),me=B.slice(-1),je=B.slice(-2);return O?"other":q&&te==1&&ue!=11||me==1&&je!=11?"one":q&&te>=2&&te<=4&&(ue<12||ue>14)||me>=2&&me<=4&&(je<12||je>14)?"few":"other"},shi:function(y,O){var R=String(y).split("."),N=Number(R[0])==y;return O?"other":y>=0&&y<=1?"one":N&&y>=2&&y<=10?"few":"other"},si:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"";return O?"other":y==0||y==1||N==0&&B==1?"one":"other"},sk:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1];return O?"other":y==1&&B?"one":N>=2&&N<=4&&B?"few":B?"other":"many"},sl:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=N.slice(-2);return O?"other":B&&q==1?"one":B&&q==2?"two":B&&(q==3||q==4)||!B?"few":"other"},sma:K2,smi:Z2,smj:Q2,smn:x2,sms:eE,sn:tE,so:nE,sq:function(y,O){var R=String(y).split("."),N=Number(R[0])==y,B=N&&R[0].slice(-1),q=N&&R[0].slice(-2);return O?y==1?"one":B==4&&q!=14?"many":"other":y==1?"one":"other"},sr:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-1),ue=N.slice(-2),me=B.slice(-1),je=B.slice(-2);return O?"other":q&&te==1&&ue!=11||me==1&&je!=11?"one":q&&te>=2&&te<=4&&(ue<12||ue>14)||me>=2&&me<=4&&(je<12||je>14)?"few":"other"},ss:iE,ssy:rE,st:lE,su:oE,sv:function(y,O){var R=String(y).split("."),N=!R[1],B=Number(R[0])==y,q=B&&R[0].slice(-1),te=B&&R[0].slice(-2);return O?q!=1&&q!=2||te==11||te==12?"other":"one":y==1&&N?"one":"other"},sw:sE,syr:fE,ta:aE,te:uE,teo:cE,th:_E,ti:dE,tig:mE,tk:function(y,O){var R=String(y).split("."),N=Number(R[0])==y&&R[0].slice(-1);return O?N==6||N==9||y==10?"few":"other":y==1?"one":"other"},tl:function(y,O){var R=String(y).split("."),N=R[0],B=R[1]||"",q=!R[1],te=N.slice(-1),ue=B.slice(-1);return O?y==1?"one":"other":q&&(N==1||N==2||N==3)||q&&te!=4&&te!=6&&te!=9||!q&&ue!=4&&ue!=6&&ue!=9?"one":"other"},tn:pE,to:hE,tpi:gE,tr:bE,ts:vE,tzm:function(y,O){var R=String(y).split("."),N=Number(R[0])==y;return O?"other":y==0||y==1||N&&y>=11&&y<=99?"one":"other"},ug:$E,uk:function(y,O){var R=String(y).split("."),N=R[0],B=!R[1],q=Number(R[0])==y,te=q&&R[0].slice(-1),ue=q&&R[0].slice(-2),me=N.slice(-1),je=N.slice(-2);return O?te==3&&ue!=13?"few":"other":B&&me==1&&je!=11?"one":B&&me>=2&&me<=4&&(je<12||je>14)?"few":B&&me==0||B&&me>=5&&me<=9||B&&je>=11&&je<=14?"many":"other"},und:yE,ur:kE,uz:wE,ve:EE,vi:function(y,O){return O&&y==1?"one":"other"},vo:SE,vun:TE,wa:CE,wae:IE,wo:OE,xh:RE,xog:NE,yi:AE,yo:BE,yue:DE,zh:ME,zu:LE});function No(y){if(typeof y!="string"||y.length<2)throw new RangeError("Invalid language tag: ".concat(y));if(y.startsWith("pt-PT"))return"pt-PT";var O=y.match(/.+?(?=[-_])/);return O?O[0]:y}function Yl(y){if(typeof y=="function"){var O=No(y.name);return{isDefault:!1,id:en(O),lc:O,locale:y.name,getPlural:y,cardinals:y.cardinals||[],ordinals:y.ordinals||[]}}var R=No(y),N=en(R);return function(B){return B in Gl}(N)?{isDefault:!0,id:N,lc:R,locale:y,getCardinal:ev[N],getPlural:Gl[N],cardinals:qs[N].cardinal,ordinals:qs[N].ordinal}:null}function FE(y){return en(No(y))in Gl}var PE=function(){function y(O,R){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},requireAllArguments:!1,returnType:"string",strict:R&&R.strictNumberSign||!1},R),O==="*"?this.plurals=(B=y.defaultLocale,(q=Object.keys(Gl).filter(function(te){return te!==B})).unshift(B),q.map(Yl)):Array.isArray(O)?this.plurals=O.map(Yl).filter(Boolean):O&&(N=Yl(O))&&(this.plurals=[N]),this.plurals.length===0){var N=Yl(y.defaultLocale);this.plurals=[N]}var B,q}return y.escape=function(O,R){var N=R?/[#{}]/g:/[{}]/g;return String(O).replace(N,"'$&'")},y.supportedLocalesOf=function(O){return(Array.isArray(O)?O:[O]).filter(FE)},y.prototype.resolvedOptions=function(){return U(U({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},y.prototype.compile=function(O){var R,N,B=new on(this.options),q="return "+B.compile(O,this.plurals[0]),te=[],ue=[];try{for(var me=Q(Object.entries(B.runtime)),je=me.next();!je.done;je=me.next()){var ct=re(je.value,2),Et=ct[0],Nt=ct[1];te.push(Et),ue.push(Nt)}}catch(ot){R={error:ot}}finally{try{je&&!je.done&&(N=me.return)&&N.call(me)}finally{if(R)throw R.error}}return new(Function.bind.apply(Function,D(D([void 0],re(te),!1),[q],!1)))().apply(void 0,D([],re(ue),!1))},y.defaultLocale="en",y}();return PE}()},669:(l,s,a)=>{l.exports=a(609)},448:(l,s,a)=>{var f=a(867),u=a(26),c=a(372),d=a(327),b=a(97),$=a(109),k=a(985),w=a(874),S=a(648),C=a(644),I=a(205);l.exports=function(A){return new Promise(function(L,F){var j,P=A.data,U=A.headers,Q=A.responseType;function re(){A.cancelToken&&A.cancelToken.unsubscribe(j),A.signal&&A.signal.removeEventListener("abort",j)}f.isFormData(P)&&f.isStandardBrowserEnv()&&delete U["Content-Type"];var D=new XMLHttpRequest;if(A.auth){var G=A.auth.username||"",Z=A.auth.password?unescape(encodeURIComponent(A.auth.password)):"";U.Authorization="Basic "+btoa(G+":"+Z)}var z=b(A.baseURL,A.url);function X(){if(D){var pe="getAllResponseHeaders"in D?$(D.getAllResponseHeaders()):null,ie={data:Q&&Q!=="text"&&Q!=="json"?D.response:D.responseText,status:D.status,statusText:D.statusText,headers:pe,config:A,request:D};u(function(H){L(H),re()},function(H){F(H),re()},ie),D=null}}if(D.open(A.method.toUpperCase(),d(z,A.params,A.paramsSerializer),!0),D.timeout=A.timeout,"onloadend"in D?D.onloadend=X:D.onreadystatechange=function(){D&&D.readyState===4&&(D.status!==0||D.responseURL&&D.responseURL.indexOf("file:")===0)&&setTimeout(X)},D.onabort=function(){D&&(F(new S("Request aborted",S.ECONNABORTED,A,D)),D=null)},D.onerror=function(){F(new S("Network Error",S.ERR_NETWORK,A,D,D)),D=null},D.ontimeout=function(){var pe=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded",ie=A.transitional||w;A.timeoutErrorMessage&&(pe=A.timeoutErrorMessage),F(new S(pe,ie.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,A,D)),D=null},f.isStandardBrowserEnv()){var Y=(A.withCredentials||k(z))&&A.xsrfCookieName?c.read(A.xsrfCookieName):void 0;Y&&(U[A.xsrfHeaderName]=Y)}"setRequestHeader"in D&&f.forEach(U,function(pe,ie){P===void 0&&ie.toLowerCase()==="content-type"?delete U[ie]:D.setRequestHeader(ie,pe)}),f.isUndefined(A.withCredentials)||(D.withCredentials=!!A.withCredentials),Q&&Q!=="json"&&(D.responseType=A.responseType),typeof A.onDownloadProgress=="function"&&D.addEventListener("progress",A.onDownloadProgress),typeof A.onUploadProgress=="function"&&D.upload&&D.upload.addEventListener("progress",A.onUploadProgress),(A.cancelToken||A.signal)&&(j=function(pe){D&&(F(!pe||pe&&pe.type?new C:pe),D.abort(),D=null)},A.cancelToken&&A.cancelToken.subscribe(j),A.signal&&(A.signal.aborted?j():A.signal.addEventListener("abort",j))),P||(P=null);var ee=I(z);ee&&["http","https","file"].indexOf(ee)===-1?F(new S("Unsupported protocol "+ee+":",S.ERR_BAD_REQUEST,A)):D.send(P)})}},609:(l,s,a)=>{var f=a(867),u=a(849),c=a(321),d=a(185),b=function $(k){var w=new c(k),S=u(c.prototype.request,w);return f.extend(S,c.prototype,w),f.extend(S,w),S.create=function(C){return $(d(k,C))},S}(a(546));b.Axios=c,b.CanceledError=a(644),b.CancelToken=a(972),b.isCancel=a(502),b.VERSION=a(288).version,b.toFormData=a(675),b.AxiosError=a(648),b.Cancel=b.CanceledError,b.all=function($){return Promise.all($)},b.spread=a(713),b.isAxiosError=a(268),l.exports=b,l.exports.default=b},972:(l,s,a)=>{var f=a(644);function u(c){if(typeof c!="function")throw new TypeError("executor must be a function.");var d;this.promise=new Promise(function($){d=$});var b=this;this.promise.then(function($){if(b._listeners){var k,w=b._listeners.length;for(k=0;k<w;k++)b._listeners[k]($);b._listeners=null}}),this.promise.then=function($){var k,w=new Promise(function(S){b.subscribe(S),k=S}).then($);return w.cancel=function(){b.unsubscribe(k)},w},c(function($){b.reason||(b.reason=new f($),d(b.reason))})}u.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},u.prototype.subscribe=function(c){this.reason?c(this.reason):this._listeners?this._listeners.push(c):this._listeners=[c]},u.prototype.unsubscribe=function(c){if(this._listeners){var d=this._listeners.indexOf(c);d!==-1&&this._listeners.splice(d,1)}},u.source=function(){var c;return{token:new u(function(d){c=d}),cancel:c}},l.exports=u},644:(l,s,a)=>{var f=a(648);function u(c){f.call(this,c==null?"canceled":c,f.ERR_CANCELED),this.name="CanceledError"}a(867).inherits(u,f,{__CANCEL__:!0}),l.exports=u},502:l=>{l.exports=function(s){return!(!s||!s.__CANCEL__)}},321:(l,s,a)=>{var f=a(867),u=a(327),c=a(782),d=a(572),b=a(185),$=a(97),k=a(875),w=k.validators;function S(C){this.defaults=C,this.interceptors={request:new c,response:new c}}S.prototype.request=function(C,I){typeof C=="string"?(I=I||{}).url=C:I=C||{},(I=b(this.defaults,I)).method?I.method=I.method.toLowerCase():this.defaults.method?I.method=this.defaults.method.toLowerCase():I.method="get";var A=I.transitional;A!==void 0&&k.assertOptions(A,{silentJSONParsing:w.transitional(w.boolean),forcedJSONParsing:w.transitional(w.boolean),clarifyTimeoutError:w.transitional(w.boolean)},!1);var L=[],F=!0;this.interceptors.request.forEach(function(G){typeof G.runWhen=="function"&&G.runWhen(I)===!1||(F=F&&G.synchronous,L.unshift(G.fulfilled,G.rejected))});var j,P=[];if(this.interceptors.response.forEach(function(G){P.push(G.fulfilled,G.rejected)}),!F){var U=[d,void 0];for(Array.prototype.unshift.apply(U,L),U=U.concat(P),j=Promise.resolve(I);U.length;)j=j.then(U.shift(),U.shift());return j}for(var Q=I;L.length;){var re=L.shift(),D=L.shift();try{Q=re(Q)}catch(G){D(G);break}}try{j=d(Q)}catch(G){return Promise.reject(G)}for(;P.length;)j=j.then(P.shift(),P.shift());return j},S.prototype.getUri=function(C){C=b(this.defaults,C);var I=$(C.baseURL,C.url);return u(I,C.params,C.paramsSerializer)},f.forEach(["delete","get","head","options"],function(C){S.prototype[C]=function(I,A){return this.request(b(A||{},{method:C,url:I,data:(A||{}).data}))}}),f.forEach(["post","put","patch"],function(C){function I(A){return function(L,F,j){return this.request(b(j||{},{method:C,headers:A?{"Content-Type":"multipart/form-data"}:{},url:L,data:F}))}}S.prototype[C]=I(),S.prototype[C+"Form"]=I(!0)}),l.exports=S},648:(l,s,a)=>{var f=a(867);function u(b,$,k,w,S){Error.call(this),this.message=b,this.name="AxiosError",$&&(this.code=$),k&&(this.config=k),w&&(this.request=w),S&&(this.response=S)}f.inherits(u,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var c=u.prototype,d={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(b){d[b]={value:b}}),Object.defineProperties(u,d),Object.defineProperty(c,"isAxiosError",{value:!0}),u.from=function(b,$,k,w,S,C){var I=Object.create(c);return f.toFlatObject(b,I,function(A){return A!==Error.prototype}),u.call(I,b.message,$,k,w,S),I.name=b.name,C&&Object.assign(I,C),I},l.exports=u},782:(l,s,a)=>{var f=a(867);function u(){this.handlers=[]}u.prototype.use=function(c,d,b){return this.handlers.push({fulfilled:c,rejected:d,synchronous:!!b&&b.synchronous,runWhen:b?b.runWhen:null}),this.handlers.length-1},u.prototype.eject=function(c){this.handlers[c]&&(this.handlers[c]=null)},u.prototype.forEach=function(c){f.forEach(this.handlers,function(d){d!==null&&c(d)})},l.exports=u},97:(l,s,a)=>{var f=a(793),u=a(303);l.exports=function(c,d){return c&&!f(d)?u(c,d):d}},572:(l,s,a)=>{var f=a(867),u=a(527),c=a(502),d=a(546),b=a(644);function $(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new b}l.exports=function(k){return $(k),k.headers=k.headers||{},k.data=u.call(k,k.data,k.headers,k.transformRequest),k.headers=f.merge(k.headers.common||{},k.headers[k.method]||{},k.headers),f.forEach(["delete","get","head","post","put","patch","common"],function(w){delete k.headers[w]}),(k.adapter||d.adapter)(k).then(function(w){return $(k),w.data=u.call(k,w.data,w.headers,k.transformResponse),w},function(w){return c(w)||($(k),w&&w.response&&(w.response.data=u.call(k,w.response.data,w.response.headers,k.transformResponse))),Promise.reject(w)})}},185:(l,s,a)=>{var f=a(867);l.exports=function(u,c){c=c||{};var d={};function b(I,A){return f.isPlainObject(I)&&f.isPlainObject(A)?f.merge(I,A):f.isPlainObject(A)?f.merge({},A):f.isArray(A)?A.slice():A}function $(I){return f.isUndefined(c[I])?f.isUndefined(u[I])?void 0:b(void 0,u[I]):b(u[I],c[I])}function k(I){if(!f.isUndefined(c[I]))return b(void 0,c[I])}function w(I){return f.isUndefined(c[I])?f.isUndefined(u[I])?void 0:b(void 0,u[I]):b(void 0,c[I])}function S(I){return I in c?b(u[I],c[I]):I in u?b(void 0,u[I]):void 0}var C={url:k,method:k,data:k,baseURL:w,transformRequest:w,transformResponse:w,paramsSerializer:w,timeout:w,timeoutMessage:w,withCredentials:w,adapter:w,responseType:w,xsrfCookieName:w,xsrfHeaderName:w,onUploadProgress:w,onDownloadProgress:w,decompress:w,maxContentLength:w,maxBodyLength:w,beforeRedirect:w,transport:w,httpAgent:w,httpsAgent:w,cancelToken:w,socketPath:w,responseEncoding:w,validateStatus:S};return f.forEach(Object.keys(u).concat(Object.keys(c)),function(I){var A=C[I]||$,L=A(I);f.isUndefined(L)&&A!==S||(d[I]=L)}),d}},26:(l,s,a)=>{var f=a(648);l.exports=function(u,c,d){var b=d.config.validateStatus;d.status&&b&&!b(d.status)?c(new f("Request failed with status code "+d.status,[f.ERR_BAD_REQUEST,f.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d)):u(d)}},527:(l,s,a)=>{var f=a(867),u=a(546);l.exports=function(c,d,b){var $=this||u;return f.forEach(b,function(k){c=k.call($,c,d)}),c}},546:(l,s,a)=>{var f=a(867),u=a(16),c=a(648),d=a(874),b=a(675),$={"Content-Type":"application/x-www-form-urlencoded"};function k(C,I){!f.isUndefined(C)&&f.isUndefined(C["Content-Type"])&&(C["Content-Type"]=I)}var w,S={transitional:d,adapter:((typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(w=a(448)),w),transformRequest:[function(C,I){if(u(I,"Accept"),u(I,"Content-Type"),f.isFormData(C)||f.isArrayBuffer(C)||f.isBuffer(C)||f.isStream(C)||f.isFile(C)||f.isBlob(C))return C;if(f.isArrayBufferView(C))return C.buffer;if(f.isURLSearchParams(C))return k(I,"application/x-www-form-urlencoded;charset=utf-8"),C.toString();var A,L=f.isObject(C),F=I&&I["Content-Type"];if((A=f.isFileList(C))||L&&F==="multipart/form-data"){var j=this.env&&this.env.FormData;return b(A?{"files[]":C}:C,j&&new j)}return L||F==="application/json"?(k(I,"application/json"),function(P,U,Q){if(f.isString(P))try{return(0,JSON.parse)(P),f.trim(P)}catch(re){if(re.name!=="SyntaxError")throw re}return(0,JSON.stringify)(P)}(C)):C}],transformResponse:[function(C){var I=this.transitional||S.transitional,A=I&&I.silentJSONParsing,L=I&&I.forcedJSONParsing,F=!A&&this.responseType==="json";if(F||L&&f.isString(C)&&C.length)try{return JSON.parse(C)}catch(j){if(F)throw j.name==="SyntaxError"?c.from(j,c.ERR_BAD_RESPONSE,this,null,this.response):j}return C}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:a(623)},validateStatus:function(C){return C>=200&&C<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};f.forEach(["delete","get","head"],function(C){S.headers[C]={}}),f.forEach(["post","put","patch"],function(C){S.headers[C]=f.merge($)}),l.exports=S},874:l=>{l.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},288:l=>{l.exports={version:"0.27.2"}},849:l=>{l.exports=function(s,a){return function(){for(var f=new Array(arguments.length),u=0;u<f.length;u++)f[u]=arguments[u];return s.apply(a,f)}}},327:(l,s,a)=>{var f=a(867);function u(c){return encodeURIComponent(c).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}l.exports=function(c,d,b){if(!d)return c;var $;if(b)$=b(d);else if(f.isURLSearchParams(d))$=d.toString();else{var k=[];f.forEach(d,function(S,C){S!=null&&(f.isArray(S)?C+="[]":S=[S],f.forEach(S,function(I){f.isDate(I)?I=I.toISOString():f.isObject(I)&&(I=JSON.stringify(I)),k.push(u(C)+"="+u(I))}))}),$=k.join("&")}if($){var w=c.indexOf("#");w!==-1&&(c=c.slice(0,w)),c+=(c.indexOf("?")===-1?"?":"&")+$}return c}},303:l=>{l.exports=function(s,a){return a?s.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):s}},372:(l,s,a)=>{var f=a(867);l.exports=f.isStandardBrowserEnv()?{write:function(u,c,d,b,$,k){var w=[];w.push(u+"="+encodeURIComponent(c)),f.isNumber(d)&&w.push("expires="+new Date(d).toGMTString()),f.isString(b)&&w.push("path="+b),f.isString($)&&w.push("domain="+$),k===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(u){var c=document.cookie.match(new RegExp("(^|;\\s*)("+u+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(u){this.write(u,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:l=>{l.exports=function(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}},268:(l,s,a)=>{var f=a(867);l.exports=function(u){return f.isObject(u)&&u.isAxiosError===!0}},985:(l,s,a)=>{var f=a(867);l.exports=f.isStandardBrowserEnv()?function(){var u,c=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a");function b($){var k=$;return c&&(d.setAttribute("href",k),k=d.href),d.setAttribute("href",k),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return u=b(window.location.href),function($){var k=f.isString($)?b($):$;return k.protocol===u.protocol&&k.host===u.host}}():function(){return!0}},16:(l,s,a)=>{var f=a(867);l.exports=function(u,c){f.forEach(u,function(d,b){b!==c&&b.toUpperCase()===c.toUpperCase()&&(u[c]=d,delete u[b])})}},623:l=>{l.exports=null},109:(l,s,a)=>{var f=a(867),u=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];l.exports=function(c){var d,b,$,k={};return c&&f.forEach(c.split(`
`),function(w){if($=w.indexOf(":"),d=f.trim(w.substr(0,$)).toLowerCase(),b=f.trim(w.substr($+1)),d){if(k[d]&&u.indexOf(d)>=0)return;k[d]=d==="set-cookie"?(k[d]?k[d]:[]).concat([b]):k[d]?k[d]+", "+b:b}}),k}},205:l=>{l.exports=function(s){var a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}},713:l=>{l.exports=function(s){return function(a){return s.apply(null,a)}}},675:(l,s,a)=>{var f=a(867);l.exports=function(u,c){c=c||new FormData;var d=[];function b($){return $===null?"":f.isDate($)?$.toISOString():f.isArrayBuffer($)||f.isTypedArray($)?typeof Blob=="function"?new Blob([$]):Buffer.from($):$}return function $(k,w){if(f.isPlainObject(k)||f.isArray(k)){if(d.indexOf(k)!==-1)throw Error("Circular reference detected in "+w);d.push(k),f.forEach(k,function(S,C){if(!f.isUndefined(S)){var I,A=w?w+"."+C:C;if(S&&!w&&typeof S=="object"){if(f.endsWith(C,"{}"))S=JSON.stringify(S);else if(f.endsWith(C,"[]")&&(I=f.toArray(S)))return void I.forEach(function(L){!f.isUndefined(L)&&c.append(A,b(L))})}$(S,A)}}),d.pop()}else c.append(w,b(k))}(u),c}},875:(l,s,a)=>{var f=a(288).version,u=a(648),c={};["object","boolean","number","function","string","symbol"].forEach(function(b,$){c[b]=function(k){return typeof k===b||"a"+($<1?"n ":" ")+b}});var d={};c.transitional=function(b,$,k){function w(S,C){return"[Axios v"+f+"] Transitional option '"+S+"'"+C+(k?". "+k:"")}return function(S,C,I){if(b===!1)throw new u(w(C," has been removed"+($?" in "+$:"")),u.ERR_DEPRECATED);return $&&!d[C]&&(d[C]=!0,console.warn(w(C," has been deprecated since v"+$+" and will be removed in the near future"))),!b||b(S,C,I)}},l.exports={assertOptions:function(b,$,k){if(typeof b!="object")throw new u("options must be an object",u.ERR_BAD_OPTION_VALUE);for(var w=Object.keys(b),S=w.length;S-- >0;){var C=w[S],I=$[C];if(I){var A=b[C],L=A===void 0||I(A,C,b);if(L!==!0)throw new u("option "+C+" must be "+L,u.ERR_BAD_OPTION_VALUE)}else if(k!==!0)throw new u("Unknown option "+C,u.ERR_BAD_OPTION)}},validators:c}},867:(l,s,a)=>{var f,u=a(849),c=Object.prototype.toString,d=(f=Object.create(null),function(D){var G=c.call(D);return f[G]||(f[G]=G.slice(8,-1).toLowerCase())});function b(D){return D=D.toLowerCase(),function(G){return d(G)===D}}function $(D){return Array.isArray(D)}function k(D){return D===void 0}var w=b("ArrayBuffer");function S(D){return D!==null&&typeof D=="object"}function C(D){if(d(D)!=="object")return!1;var G=Object.getPrototypeOf(D);return G===null||G===Object.prototype}var I=b("Date"),A=b("File"),L=b("Blob"),F=b("FileList");function j(D){return c.call(D)==="[object Function]"}var P=b("URLSearchParams");function U(D,G){if(D!=null)if(typeof D!="object"&&(D=[D]),$(D))for(var Z=0,z=D.length;Z<z;Z++)G.call(null,D[Z],Z,D);else for(var X in D)Object.prototype.hasOwnProperty.call(D,X)&&G.call(null,D[X],X,D)}var Q,re=(Q=typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array),function(D){return Q&&D instanceof Q});l.exports={isArray:$,isArrayBuffer:w,isBuffer:function(D){return D!==null&&!k(D)&&D.constructor!==null&&!k(D.constructor)&&typeof D.constructor.isBuffer=="function"&&D.constructor.isBuffer(D)},isFormData:function(D){var G="[object FormData]";return D&&(typeof FormData=="function"&&D instanceof FormData||c.call(D)===G||j(D.toString)&&D.toString()===G)},isArrayBufferView:function(D){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(D):D&&D.buffer&&w(D.buffer)},isString:function(D){return typeof D=="string"},isNumber:function(D){return typeof D=="number"},isObject:S,isPlainObject:C,isUndefined:k,isDate:I,isFile:A,isBlob:L,isFunction:j,isStream:function(D){return S(D)&&j(D.pipe)},isURLSearchParams:P,isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:U,merge:function D(){var G={};function Z(Y,ee){C(G[ee])&&C(Y)?G[ee]=D(G[ee],Y):C(Y)?G[ee]=D({},Y):$(Y)?G[ee]=Y.slice():G[ee]=Y}for(var z=0,X=arguments.length;z<X;z++)U(arguments[z],Z);return G},extend:function(D,G,Z){return U(G,function(z,X){D[X]=Z&&typeof z=="function"?u(z,Z):z}),D},trim:function(D){return D.trim?D.trim():D.replace(/^\s+|\s+$/g,"")},stripBOM:function(D){return D.charCodeAt(0)===65279&&(D=D.slice(1)),D},inherits:function(D,G,Z,z){D.prototype=Object.create(G.prototype,z),D.prototype.constructor=D,Z&&Object.assign(D.prototype,Z)},toFlatObject:function(D,G,Z){var z,X,Y,ee={};G=G||{};do{for(X=(z=Object.getOwnPropertyNames(D)).length;X-- >0;)ee[Y=z[X]]||(G[Y]=D[Y],ee[Y]=!0);D=Object.getPrototypeOf(D)}while(D&&(!Z||Z(D,G))&&D!==Object.prototype);return G},kindOf:d,kindOfTest:b,endsWith:function(D,G,Z){D=String(D),(Z===void 0||Z>D.length)&&(Z=D.length),Z-=G.length;var z=D.indexOf(G,Z);return z!==-1&&z===Z},toArray:function(D){if(!D)return null;var G=D.length;if(k(G))return null;for(var Z=new Array(G);G-- >0;)Z[G]=D[G];return Z},isTypedArray:re,isFileList:F}},487:l=>{var s={utf8:{stringToBytes:function(a){return s.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(s.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var f=[],u=0;u<a.length;u++)f.push(255&a.charCodeAt(u));return f},bytesToString:function(a){for(var f=[],u=0;u<a.length;u++)f.push(String.fromCharCode(a[u]));return f.join("")}}};l.exports=s},12:l=>{var s,a;s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(f,u){return f<<u|f>>>32-u},rotr:function(f,u){return f<<32-u|f>>>u},endian:function(f){if(f.constructor==Number)return 16711935&a.rotl(f,8)|4278255360&a.rotl(f,24);for(var u=0;u<f.length;u++)f[u]=a.endian(f[u]);return f},randomBytes:function(f){for(var u=[];f>0;f--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(f){for(var u=[],c=0,d=0;c<f.length;c++,d+=8)u[d>>>5]|=f[c]<<24-d%32;return u},wordsToBytes:function(f){for(var u=[],c=0;c<32*f.length;c+=8)u.push(f[c>>>5]>>>24-c%32&255);return u},bytesToHex:function(f){for(var u=[],c=0;c<f.length;c++)u.push((f[c]>>>4).toString(16)),u.push((15&f[c]).toString(16));return u.join("")},hexToBytes:function(f){for(var u=[],c=0;c<f.length;c+=2)u.push(parseInt(f.substr(c,2),16));return u},bytesToBase64:function(f){for(var u=[],c=0;c<f.length;c+=3)for(var d=f[c]<<16|f[c+1]<<8|f[c+2],b=0;b<4;b++)8*c+6*b<=8*f.length?u.push(s.charAt(d>>>6*(3-b)&63)):u.push("=");return u.join("")},base64ToBytes:function(f){f=f.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],c=0,d=0;c<f.length;d=++c%4)d!=0&&u.push((s.indexOf(f.charAt(c-1))&Math.pow(2,-2*d+8)-1)<<2*d|s.indexOf(f.charAt(c))>>>6-2*d);return u}},l.exports=a},738:l=>{function s(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}l.exports=function(a){return a!=null&&(s(a)||function(f){return typeof f.readFloatLE=="function"&&typeof f.slice=="function"&&s(f.slice(0,0))}(a)||!!a._isBuffer)}},568:(l,s,a)=>{var f,u,c,d,b;f=a(12),u=a(487).utf8,c=a(738),d=a(487).bin,(b=function($,k){$.constructor==String?$=k&&k.encoding==="binary"?d.stringToBytes($):u.stringToBytes($):c($)?$=Array.prototype.slice.call($,0):Array.isArray($)||$.constructor===Uint8Array||($=$.toString());for(var w=f.bytesToWords($),S=8*$.length,C=1732584193,I=-271733879,A=-1732584194,L=271733878,F=0;F<w.length;F++)w[F]=16711935&(w[F]<<8|w[F]>>>24)|4278255360&(w[F]<<24|w[F]>>>8);w[S>>>5]|=128<<S%32,w[14+(S+64>>>9<<4)]=S;var j=b._ff,P=b._gg,U=b._hh,Q=b._ii;for(F=0;F<w.length;F+=16){var re=C,D=I,G=A,Z=L;C=j(C,I,A,L,w[F+0],7,-680876936),L=j(L,C,I,A,w[F+1],12,-389564586),A=j(A,L,C,I,w[F+2],17,606105819),I=j(I,A,L,C,w[F+3],22,-1044525330),C=j(C,I,A,L,w[F+4],7,-176418897),L=j(L,C,I,A,w[F+5],12,1200080426),A=j(A,L,C,I,w[F+6],17,-1473231341),I=j(I,A,L,C,w[F+7],22,-45705983),C=j(C,I,A,L,w[F+8],7,1770035416),L=j(L,C,I,A,w[F+9],12,-1958414417),A=j(A,L,C,I,w[F+10],17,-42063),I=j(I,A,L,C,w[F+11],22,-1990404162),C=j(C,I,A,L,w[F+12],7,1804603682),L=j(L,C,I,A,w[F+13],12,-40341101),A=j(A,L,C,I,w[F+14],17,-1502002290),C=P(C,I=j(I,A,L,C,w[F+15],22,1236535329),A,L,w[F+1],5,-165796510),L=P(L,C,I,A,w[F+6],9,-1069501632),A=P(A,L,C,I,w[F+11],14,643717713),I=P(I,A,L,C,w[F+0],20,-373897302),C=P(C,I,A,L,w[F+5],5,-701558691),L=P(L,C,I,A,w[F+10],9,38016083),A=P(A,L,C,I,w[F+15],14,-660478335),I=P(I,A,L,C,w[F+4],20,-405537848),C=P(C,I,A,L,w[F+9],5,568446438),L=P(L,C,I,A,w[F+14],9,-1019803690),A=P(A,L,C,I,w[F+3],14,-187363961),I=P(I,A,L,C,w[F+8],20,1163531501),C=P(C,I,A,L,w[F+13],5,-1444681467),L=P(L,C,I,A,w[F+2],9,-51403784),A=P(A,L,C,I,w[F+7],14,1735328473),C=U(C,I=P(I,A,L,C,w[F+12],20,-1926607734),A,L,w[F+5],4,-378558),L=U(L,C,I,A,w[F+8],11,-2022574463),A=U(A,L,C,I,w[F+11],16,1839030562),I=U(I,A,L,C,w[F+14],23,-35309556),C=U(C,I,A,L,w[F+1],4,-1530992060),L=U(L,C,I,A,w[F+4],11,1272893353),A=U(A,L,C,I,w[F+7],16,-155497632),I=U(I,A,L,C,w[F+10],23,-1094730640),C=U(C,I,A,L,w[F+13],4,681279174),L=U(L,C,I,A,w[F+0],11,-358537222),A=U(A,L,C,I,w[F+3],16,-722521979),I=U(I,A,L,C,w[F+6],23,76029189),C=U(C,I,A,L,w[F+9],4,-640364487),L=U(L,C,I,A,w[F+12],11,-421815835),A=U(A,L,C,I,w[F+15],16,530742520),C=Q(C,I=U(I,A,L,C,w[F+2],23,-995338651),A,L,w[F+0],6,-198630844),L=Q(L,C,I,A,w[F+7],10,1126891415),A=Q(A,L,C,I,w[F+14],15,-1416354905),I=Q(I,A,L,C,w[F+5],21,-57434055),C=Q(C,I,A,L,w[F+12],6,1700485571),L=Q(L,C,I,A,w[F+3],10,-1894986606),A=Q(A,L,C,I,w[F+10],15,-1051523),I=Q(I,A,L,C,w[F+1],21,-2054922799),C=Q(C,I,A,L,w[F+8],6,1873313359),L=Q(L,C,I,A,w[F+15],10,-30611744),A=Q(A,L,C,I,w[F+6],15,-1560198380),I=Q(I,A,L,C,w[F+13],21,1309151649),C=Q(C,I,A,L,w[F+4],6,-145523070),L=Q(L,C,I,A,w[F+11],10,-1120210379),A=Q(A,L,C,I,w[F+2],15,718787259),I=Q(I,A,L,C,w[F+9],21,-343485551),C=C+re>>>0,I=I+D>>>0,A=A+G>>>0,L=L+Z>>>0}return f.endian([C,I,A,L])})._ff=function($,k,w,S,C,I,A){var L=$+(k&w|~k&S)+(C>>>0)+A;return(L<<I|L>>>32-I)+k},b._gg=function($,k,w,S,C,I,A){var L=$+(k&S|w&~S)+(C>>>0)+A;return(L<<I|L>>>32-I)+k},b._hh=function($,k,w,S,C,I,A){var L=$+(k^w^S)+(C>>>0)+A;return(L<<I|L>>>32-I)+k},b._ii=function($,k,w,S,C,I,A){var L=$+(w^(k|~S))+(C>>>0)+A;return(L<<I|L>>>32-I)+k},b._blocksize=16,b._digestsize=16,l.exports=function($,k){if($==null)throw new Error("Illegal argument "+$);var w=f.wordsToBytes(b($,k));return k&&k.asBytes?w:k&&k.asString?d.bytesToString(w):f.bytesToHex(w)}},61:(l,s,a)=>{var f=a(698).default;function u(){l.exports=u=function(){return c},l.exports.__esModule=!0,l.exports.default=l.exports;var c={},d=Object.prototype,b=d.hasOwnProperty,$=typeof Symbol=="function"?Symbol:{},k=$.iterator||"@@iterator",w=$.asyncIterator||"@@asyncIterator",S=$.toStringTag||"@@toStringTag";function C(H,K,se){return Object.defineProperty(H,K,{value:se,enumerable:!0,configurable:!0,writable:!0}),H[K]}try{C({},"")}catch{C=function(K,se,x){return K[se]=x}}function I(H,K,se,x){var oe=K&&K.prototype instanceof F?K:F,$e=Object.create(oe.prototype),He=new ee(x||[]);return $e._invoke=function(Me,be,Ee){var Ie="suspendedStart";return function(we,nt){if(Ie==="executing")throw new Error("Generator is already running");if(Ie==="completed"){if(we==="throw")throw nt;return{value:void 0,done:!0}}for(Ee.method=we,Ee.arg=nt;;){var Ge=Ee.delegate;if(Ge){var Oe=z(Ge,Ee);if(Oe){if(Oe===L)continue;return Oe}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Ie==="suspendedStart")throw Ie="completed",Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Ie="executing";var Ne=A(Me,be,Ee);if(Ne.type==="normal"){if(Ie=Ee.done?"completed":"suspendedYield",Ne.arg===L)continue;return{value:Ne.arg,done:Ee.done}}Ne.type==="throw"&&(Ie="completed",Ee.method="throw",Ee.arg=Ne.arg)}}}(H,se,He),$e}function A(H,K,se){try{return{type:"normal",arg:H.call(K,se)}}catch(x){return{type:"throw",arg:x}}}c.wrap=I;var L={};function F(){}function j(){}function P(){}var U={};C(U,k,function(){return this});var Q=Object.getPrototypeOf,re=Q&&Q(Q(pe([])));re&&re!==d&&b.call(re,k)&&(U=re);var D=P.prototype=F.prototype=Object.create(U);function G(H){["next","throw","return"].forEach(function(K){C(H,K,function(se){return this._invoke(K,se)})})}function Z(H,K){function se(oe,$e,He,Me){var be=A(H[oe],H,$e);if(be.type!=="throw"){var Ee=be.arg,Ie=Ee.value;return Ie&&f(Ie)=="object"&&b.call(Ie,"__await")?K.resolve(Ie.__await).then(function(we){se("next",we,He,Me)},function(we){se("throw",we,He,Me)}):K.resolve(Ie).then(function(we){Ee.value=we,He(Ee)},function(we){return se("throw",we,He,Me)})}Me(be.arg)}var x;this._invoke=function(oe,$e){function He(){return new K(function(Me,be){se(oe,$e,Me,be)})}return x=x?x.then(He,He):He()}}function z(H,K){var se=H.iterator[K.method];if(se===void 0){if(K.delegate=null,K.method==="throw"){if(H.iterator.return&&(K.method="return",K.arg=void 0,z(H,K),K.method==="throw"))return L;K.method="throw",K.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var x=A(se,H.iterator,K.arg);if(x.type==="throw")return K.method="throw",K.arg=x.arg,K.delegate=null,L;var oe=x.arg;return oe?oe.done?(K[H.resultName]=oe.value,K.next=H.nextLoc,K.method!=="return"&&(K.method="next",K.arg=void 0),K.delegate=null,L):oe:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,L)}function X(H){var K={tryLoc:H[0]};1 in H&&(K.catchLoc=H[1]),2 in H&&(K.finallyLoc=H[2],K.afterLoc=H[3]),this.tryEntries.push(K)}function Y(H){var K=H.completion||{};K.type="normal",delete K.arg,H.completion=K}function ee(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(X,this),this.reset(!0)}function pe(H){if(H){var K=H[k];if(K)return K.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var se=-1,x=function oe(){for(;++se<H.length;)if(b.call(H,se))return oe.value=H[se],oe.done=!1,oe;return oe.value=void 0,oe.done=!0,oe};return x.next=x}}return{next:ie}}function ie(){return{value:void 0,done:!0}}return j.prototype=P,C(D,"constructor",P),C(P,"constructor",j),j.displayName=C(P,S,"GeneratorFunction"),c.isGeneratorFunction=function(H){var K=typeof H=="function"&&H.constructor;return!!K&&(K===j||(K.displayName||K.name)==="GeneratorFunction")},c.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,P):(H.__proto__=P,C(H,S,"GeneratorFunction")),H.prototype=Object.create(D),H},c.awrap=function(H){return{__await:H}},G(Z.prototype),C(Z.prototype,w,function(){return this}),c.AsyncIterator=Z,c.async=function(H,K,se,x,oe){oe===void 0&&(oe=Promise);var $e=new Z(I(H,K,se,x),oe);return c.isGeneratorFunction(K)?$e:$e.next().then(function(He){return He.done?He.value:$e.next()})},G(D),C(D,S,"Generator"),C(D,k,function(){return this}),C(D,"toString",function(){return"[object Generator]"}),c.keys=function(H){var K=[];for(var se in H)K.push(se);return K.reverse(),function x(){for(;K.length;){var oe=K.pop();if(oe in H)return x.value=oe,x.done=!1,x}return x.done=!0,x}},c.values=pe,ee.prototype={constructor:ee,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Y),!H)for(var K in this)K.charAt(0)==="t"&&b.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=void 0)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var K=this;function se(be,Ee){return $e.type="throw",$e.arg=H,K.next=be,Ee&&(K.method="next",K.arg=void 0),!!Ee}for(var x=this.tryEntries.length-1;x>=0;--x){var oe=this.tryEntries[x],$e=oe.completion;if(oe.tryLoc==="root")return se("end");if(oe.tryLoc<=this.prev){var He=b.call(oe,"catchLoc"),Me=b.call(oe,"finallyLoc");if(He&&Me){if(this.prev<oe.catchLoc)return se(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return se(oe.finallyLoc)}else if(He){if(this.prev<oe.catchLoc)return se(oe.catchLoc,!0)}else{if(!Me)throw new Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return se(oe.finallyLoc)}}}},abrupt:function(H,K){for(var se=this.tryEntries.length-1;se>=0;--se){var x=this.tryEntries[se];if(x.tryLoc<=this.prev&&b.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var oe=x;break}}oe&&(H==="break"||H==="continue")&&oe.tryLoc<=K&&K<=oe.finallyLoc&&(oe=null);var $e=oe?oe.completion:{};return $e.type=H,$e.arg=K,oe?(this.method="next",this.next=oe.finallyLoc,L):this.complete($e)},complete:function(H,K){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&K&&(this.next=K),L},finish:function(H){for(var K=this.tryEntries.length-1;K>=0;--K){var se=this.tryEntries[K];if(se.finallyLoc===H)return this.complete(se.completion,se.afterLoc),Y(se),L}},catch:function(H){for(var K=this.tryEntries.length-1;K>=0;--K){var se=this.tryEntries[K];if(se.tryLoc===H){var x=se.completion;if(x.type==="throw"){var oe=x.arg;Y(se)}return oe}}throw new Error("illegal catch attempt")},delegateYield:function(H,K,se){return this.delegate={iterator:pe(H),resultName:K,nextLoc:se},this.method==="next"&&(this.arg=void 0),L}},c}l.exports=u,l.exports.__esModule=!0,l.exports.default=l.exports},698:l=>{function s(a){return l.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l.exports.__esModule=!0,l.exports.default=l.exports,s(a)}l.exports=s,l.exports.__esModule=!0,l.exports.default=l.exports},687:(l,s,a)=>{var f=a(61)();l.exports=f;try{regeneratorRuntime=f}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}}},t={};function i(l){var s=t[l];if(s!==void 0)return s.exports;var a=t[l]={exports:{}};return n[l].call(a.exports,a,a.exports,i),a.exports}i.n=l=>{var s=l&&l.__esModule?()=>l.default:()=>l;return i.d(s,{a:s}),s},i.d=(l,s)=>{for(var a in s)i.o(s,a)&&!i.o(l,a)&&Object.defineProperty(l,a,{enumerable:!0,get:s[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(l,s)=>Object.prototype.hasOwnProperty.call(l,s),i.r=l=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return(()=>{function l(le,fe){(fe==null||fe>le.length)&&(fe=le.length);for(var ae=0,Ye=new Array(fe);ae<fe;ae++)Ye[ae]=le[ae];return Ye}function s(le,fe){if(le){if(typeof le=="string")return l(le,fe);var ae=Object.prototype.toString.call(le).slice(8,-1);return ae==="Object"&&le.constructor&&(ae=le.constructor.name),ae==="Map"||ae==="Set"?Array.from(le):ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae)?l(le,fe):void 0}}function a(le){return function(fe){if(Array.isArray(fe))return l(fe)}(le)||function(fe){if(typeof Symbol!="undefined"&&fe[Symbol.iterator]!=null||fe["@@iterator"]!=null)return Array.from(fe)}(le)||s(le)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(le,fe,ae){return fe in le?Object.defineProperty(le,fe,{value:ae,enumerable:!0,configurable:!0,writable:!0}):le[fe]=ae,le}function u(le,fe,ae,Ye,_t,dt,ht){try{var St=le[dt](ht),It=St.value}catch(Tt){return void ae(Tt)}St.done?fe(It):Promise.resolve(It).then(Ye,_t)}function c(le){return function(){var fe=this,ae=arguments;return new Promise(function(Ye,_t){var dt=le.apply(fe,ae);function ht(It){u(dt,Ye,_t,ht,St,"next",It)}function St(It){u(dt,Ye,_t,ht,St,"throw",It)}ht(void 0)})}}function d(le,fe){if(!(le instanceof fe))throw new TypeError("Cannot call a class as a function")}function b(le,fe){for(var ae=0;ae<fe.length;ae++){var Ye=fe[ae];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(le,Ye.key,Ye)}}function $(le,fe,ae){return fe&&b(le.prototype,fe),ae&&b(le,ae),Object.defineProperty(le,"prototype",{writable:!1}),le}i.r(o),i.d(o,{FETCHING_LOCALES:()=>K,FETCHING_TRANSLATIONS:()=>ee,LOCALES_FETCHED:()=>se,LOCALES_FETCH_FAILED:()=>x,LOCALE_CHANGED:()=>H,MessageFormatRenderer:()=>rt,PseudoTranslationPolicy:()=>xe,SourceErrorPolicy:()=>Le,SourceStringPolicy:()=>qe,TRANSLATIONS_FETCHED:()=>pe,TRANSLATIONS_FETCH_FAILED:()=>ie,ThrowErrorPolicy:()=>Ze,createNativeInstance:()=>lt,escape:()=>Z,explodePlurals:()=>Oe,generateHashedKey:()=>G,generateKey:()=>D,implodePlurals:()=>Ne,isPluralized:()=>Ot,isString:()=>z,normalizeLocale:()=>X,offEvent:()=>He,onEvent:()=>$e,sendEvent:()=>Me,sleep:()=>Y,t:()=>ve,tx:()=>Ve});var k=i(687),w=i.n(k),S=i(669),C=i.n(S),I=function(){function le(){d(this,le),this.translationsByLocale={}}return $(le,[{key:"update",value:function(fe,ae){this.translationsByLocale[fe]||(this.translationsByLocale[fe]={}),Object.assign(this.translationsByLocale[fe],ae)}},{key:"getTranslations",value:function(fe){return this.translationsByLocale[fe]||{}}},{key:"hasTranslations",value:function(fe){return!!this.translationsByLocale[fe]}},{key:"isStale",value:function(fe){return!this.hasTranslations(fe)}},{key:"get",value:function(fe,ae){return this.getTranslations(ae)[fe]||""}}]),le}(),A=function(){function le(){d(this,le)}return $(le,[{key:"handle",value:function(fe,ae,Ye,_t){return ae}}]),le}(),L=function(){function le(){d(this,le)}return $(le,[{key:"handle",value:function(fe,ae){return fe}}]),le}(),F=i(160),j=i.n(F),P={},U=function(){function le(){d(this,le)}return $(le,[{key:"render",value:function(fe,ae,Ye){var _t=(ae||"").split("_")[0];if(!P[_t])try{P[_t]=new(j())(_t)}catch{P[_t]=new(j())}return P[_t].compile(fe)(Ye)}}]),le}(),Q=i(568),re=i.n(Q);function D(le){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return fe._key?fe._key:fe._context?"".concat(le,"::").concat(fe._context):"".concat(le)}function G(le){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fe._key)return fe._key;var ae="";return fe._context&&(ae=(ae=fe._context).replace(/,/g,":")),re()("5:".concat(le,":").concat(ae))}function Z(le){return le.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function z(le){return Object.prototype.toString.call(le)==="[object String]"}function X(le){var fe=le.split("-");return fe.length===1?le:[fe[0],fe[1].toUpperCase()].join("_")}function Y(le){return new Promise(function(fe){setTimeout(function(){fe()},le)})}var ee="FETCHING_TRANSLATIONS",pe="TRANSLATIONS_FETCHED",ie="TRANSLATIONS_FETCH_FAILED",H="LOCALE_CHANGED",K="FETCHING_LOCALES",se="LOCALES_FETCHED",x="LOCALES_FETCH_FAILED",oe={};function $e(le,fe){oe[le]=oe[le]||[],oe[le].push(fe)}function He(le,fe){var ae=oe[le]||[],Ye=ae.indexOf(fe);Ye!==-1&&ae.splice(Ye,1)}function Me(le,fe,ae){(oe[le]||[]).forEach(function(Ye){Ye(fe,ae)})}function be(le,fe){return function(ae){if(Array.isArray(ae))return ae}(le)||function(ae,Ye){var _t=ae==null?null:typeof Symbol!="undefined"&&ae[Symbol.iterator]||ae["@@iterator"];if(_t!=null){var dt,ht,St=[],It=!0,Tt=!1;try{for(_t=_t.call(ae);!(It=(dt=_t.next()).done)&&(St.push(dt.value),!Ye||St.length!==Ye);It=!0);}catch(it){Tt=!0,ht=it}finally{try{It||_t.return==null||_t.return()}finally{if(Tt)throw ht}}return St}}(le,fe)||s(le,fe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ee(le,fe){var ae=typeof Symbol!="undefined"&&le[Symbol.iterator]||le["@@iterator"];if(!ae){if(Array.isArray(le)||(ae=function(It,Tt){if(It){if(typeof It=="string")return Ie(It,Tt);var it=Object.prototype.toString.call(It).slice(8,-1);return it==="Object"&&It.constructor&&(it=It.constructor.name),it==="Map"||it==="Set"?Array.from(It):it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it)?Ie(It,Tt):void 0}}(le))||fe&&le&&typeof le.length=="number"){ae&&(le=ae);var Ye=0,_t=function(){};return{s:_t,n:function(){return Ye>=le.length?{done:!0}:{done:!1,value:le[Ye++]}},e:function(It){throw It},f:_t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dt,ht=!0,St=!1;return{s:function(){ae=ae.call(le)},n:function(){var It=ae.next();return ht=It.done,It},e:function(It){St=!0,dt=It},f:function(){try{ht||ae.return==null||ae.return()}finally{if(St)throw dt}}}}function Ie(le,fe){(fe==null||fe>le.length)&&(fe=le.length);for(var ae=0,Ye=new Array(fe);ae<fe;ae++)Ye[ae]=le[ae];return Ye}var we=["zero","one","two","few","many","other"];function nt(le){var fe=le.indexOf("{");if(fe===-1)return[null,null];var ae=le.substring(0,fe).trim();if(ae[0]==="="){if(ae=ae.substring(1),Number.isNaN(parseInt(ae,10))||parseInt(ae,10)!==parseFloat(ae))return[null,null];if(ae=parseInt(ae,10),(ae=we[ae])===void 0)return[null,null]}else if(we.indexOf(ae)===-1)return[null,null];return[ae,le.substring(fe)]}function Ge(le){for(var fe=0,ae=!1,Ye=0;Ye<le.length;){var _t=le[Ye];if(_t==="'"){var dt=le[Ye+1];dt==="'"?Ye+=1:ae?ae=!1:dt!=="{"&&dt!=="}"||(ae=!0)}else if(_t==="{")ae||(fe+=1);else if(_t==="}"&&(ae||(fe-=1),fe===0))return[le.substring(1,Ye),le.substring(Ye+1).trim()];Ye+=1}return[null,null]}function Oe(le){var fe=[null,{other:le}],ae=function(De){if(!(De.length>1&&De[0]==="{"&&De[De.length-1]==="}"))return[null,null];var et=De.indexOf(",");if(et===-1)return[null,null];var bt=De.indexOf(",",et+1);if(bt===-1)return[null,null];var Dt=De.substring(1,et).trim(),gt=De.substring(et+1,bt).trim();return/^[\w_]+$/.test(Dt)&&gt==="plural"?[Dt,De.substring(bt+1,De.length-1).trim()]:[null,null]}(le),Ye=be(ae,2),_t=Ye[0],dt=Ye[1];if(_t==null)return fe;var ht,St,It={},Tt=be(nt(dt),2);if(ht=Tt[0],dt=Tt[1],ht==null)return fe;var it=be(Ge(dt.trim()),2);if(St=it[0],dt=it[1],St==null)return fe;for(It[ht]=St;dt.trim();){var ze=be(nt(dt.trim()),2);if(ht=ze[0],dt=ze[1],ht==null)return fe;var Je=be(Ge(dt.trim()),2);if(St=Je[0],dt=Je[1],St==null)return fe;It[ht]=St}return(Object.keys(It).length!==1||"other"in It)&&"one"in It&&"other"in It?[_t,It]:fe}function Ne(le){var fe,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"???",Ye=["{".concat(ae,", plural,")],_t=Ee(we);try{for(_t.s();!(fe=_t.n()).done;){var dt=fe.value;if(dt in le){var ht=le[dt];Ye.push(" ".concat(dt," {").concat(ht,"}"))}}}catch(St){_t.e(St)}finally{_t.f()}return Ye.push("}"),Ye.join("")}function Ot(le){var fe=Oe(le)[1];return Object.keys(fe).length>1}function ke(le,fe){var ae=Object.keys(le);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(le);fe&&(Ye=Ye.filter(function(_t){return Object.getOwnPropertyDescriptor(le,_t).enumerable})),ae.push.apply(ae,Ye)}return ae}function Pe(le){for(var fe=1;fe<arguments.length;fe++){var ae=arguments[fe]!=null?arguments[fe]:{};fe%2?ke(Object(ae),!0).forEach(function(Ye){f(le,Ye,ae[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(ae)):ke(Object(ae)).forEach(function(Ye){Object.defineProperty(le,Ye,Object.getOwnPropertyDescriptor(ae,Ye))})}return le}var mt=function(){function le(){d(this,le),this.cdsHost="https://cds.svc.transifex.net",this.token="",this.secret="",this.filterTags="",this.fetchTimeout=0,this.fetchInterval=250,this.cache=new I,this.missingPolicy=new L,this.errorPolicy=new A,this.stringRenderer=new U,this.currentLocale="",this.locales=[],this.languages=[],this.childInstances=[]}var fe,ae,Ye,_t,dt,ht,St,It;return $(le,[{key:"init",value:function(Tt){var it=this;["cdsHost","token","secret","cache","filterTags","fetchTimeout","fetchInterval","missingPolicy","errorPolicy","stringRenderer","currentLocale"].forEach(function(ze){Tt[ze]!==void 0&&(it[ze]=Tt[ze])}),this.fetchedTags={}}},{key:"translate",value:function(Tt,it){return this.translateLocale(this.currentLocale,Tt,it)}},{key:"translateLocale",value:function(Tt,it,ze){try{var Je=this.cache.get(D(it,ze),Tt);if(Je||(Je=this.cache.get(G(it,ze),Tt)),Je&&Je.startsWith("{???")&&Ot(it)){var De=it.substring(1,it.indexOf(",")).trim();Je="{".concat(De).concat(Je.substring(4))}var et=!1;if(Je||(et=!0,Je=it),ze&&ze._escapeVars){var bt={};Object.keys(ze).forEach(function(Dt){var gt=ze[Dt];bt[Dt]=z(gt)?Z(gt):gt}),Je=this.stringRenderer.render(Je,Tt,bt)}else Je=this.stringRenderer.render(Je,Tt,ze);return et&&Tt&&(Je=this.missingPolicy.handle(Je,Tt)),z(Je)||(Je="".concat(Je)),Je}catch(Dt){return this.errorPolicy.handle(Dt,"".concat(it),Tt,ze)}}},{key:"fetchTranslations",value:(It=c(w().mark(function Tt(it){var ze,Je,De,et,bt,Dt,gt,Ht,Bt,Wt=this,sn=arguments;return w().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:if(ze=sn.length>1&&sn[1]!==void 0?sn[1]:{},Je=ze.filterTags||this.filterTags,ze.refresh||this.cache.isStale(it)||!(!Je&&this.cache.hasTranslations(it)||Je&&(this.fetchedTags[it]||[]).indexOf(Je)!==-1)){Pt.next=4;break}return Pt.abrupt("return");case 4:Je&&(it in this.fetchedTags||(this.fetchedTags[it]=[]),this.fetchedTags[it].indexOf(Je)===-1&&this.fetchedTags[it].push(Je)),De=function(Zt){return Me(ie,{localeCode:it,filterTags:Je},Wt),Zt},Pt.prev=6,Me(ee,{localeCode:it,filterTags:Je},this),bt=202,Dt=Date.now();case 10:if(bt!==202){Pt.next=24;break}return gt="".concat(this.cdsHost,"/content/").concat(it),Je&&(gt="".concat(gt,"?filter[tags]=").concat(Je)),Pt.next=15,C().get(gt,{headers:{Authorization:"Bearer ".concat(this.token),"Accept-version":"v2","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.2.4")}});case 15:if(et=Pt.sent,bt=et.status,!(this.fetchTimeout>0&&Date.now()-Dt>=this.fetchTimeout)){Pt.next=19;break}throw De(new Error("Fetch translations timeout"));case 19:if(!(bt===202&&this.fetchInterval>0)){Pt.next=22;break}return Pt.next=22,Y(this.fetchInterval);case 22:Pt.next=10;break;case 24:if(!(Ht=et.data)||!Ht.data){Pt.next=32;break}Bt={},Object.keys(Ht.data).forEach(function(Zt){Ht.data[Zt].string&&(Bt[Zt]=Ht.data[Zt].string)}),this.cache.update(it,Bt),Me(pe,{localeCode:it,filterTags:Je},this),Pt.next=33;break;case 32:throw De(new Error("Could not fetch translations"));case 33:Pt.next=38;break;case 35:throw Pt.prev=35,Pt.t0=Pt.catch(6),De(Pt.t0);case 38:case"end":return Pt.stop()}},Tt,this,[[6,35]])})),function(Tt){return It.apply(this,arguments)})},{key:"invalidateCDS",value:(St=c(w().mark(function Tt(){var it,ze,Je,De=arguments;return w().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(it=De.length>0&&De[0]!==void 0?De[0]:{},this.token){et.next=3;break}throw new Error("token is not defined");case 3:if(this.secret){et.next=5;break}throw new Error("secret is not defined");case 5:return ze=it.purge?"purge":"invalidate",et.next=8,C().post("".concat(this.cdsHost,"/").concat(ze),{},{headers:{Authorization:"Bearer ".concat(this.token,":").concat(this.secret),"Accept-version":"v2","Content-Type":"application/json;charset=utf-8","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.2.4")}});case 8:return Je=et.sent,et.abrupt("return",Je.data);case 10:case"end":return et.stop()}},Tt,this)})),function(){return St.apply(this,arguments)})},{key:"pushSource",value:(ht=c(w().mark(function Tt(it){var ze,Je,De,et,bt,Dt,gt,Ht=arguments;return w().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:if(ze=Ht.length>1&&Ht[1]!==void 0?Ht[1]:{},this.token){Bt.next=3;break}throw new Error("token is not defined");case 3:if(this.secret){Bt.next=5;break}throw new Error("secret is not defined");case 5:return Je={Authorization:"Bearer ".concat(this.token,":").concat(this.secret),"Accept-version":"v2","Content-Type":"application/json;charset=utf-8","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.2.4")},Bt.next=8,C().post("".concat(this.cdsHost,"/content"),{data:it,meta:{purge:!!ze.purge,override_tags:!!ze.overrideTags}},{headers:Je});case 8:if(De=Bt.sent,et="".concat(this.cdsHost).concat(De.data.data.links.job),!ze.noWait){Bt.next=12;break}return Bt.abrupt("return",{jobUrl:et});case 12:bt={status:""};case 13:return Bt.next=15,Y(1500);case 15:return Bt.next=17,C().get(et,{headers:Je});case 17:Dt=Bt.sent,gt=Dt.data.data,bt=Pe(Pe({},gt.details||{}),{},{errors:gt.errors||[],status:gt.status});case 20:if(bt.status==="pending"||bt.status==="processing"){Bt.next=13;break}case 21:return Bt.abrupt("return",Pe({jobUrl:et},bt));case 22:case"end":return Bt.stop()}},Tt,this)})),function(Tt){return ht.apply(this,arguments)})},{key:"getLocales",value:(dt=c(w().mark(function Tt(){var it,ze,Je,De,et,bt=this,Dt=arguments;return w().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if((Dt.length>0&&Dt[0]!==void 0?Dt[0]:{}).refresh||!(this.locales.length>0)){gt.next=4;break}return gt.abrupt("return",a(this.locales));case 4:if(this.token){gt.next=6;break}return gt.abrupt("return",[]);case 6:it=function(Ht){return Me(x,null,bt),Ht},gt.prev=7,Me(K,null,this),Je=202,De=Date.now();case 11:if(Je!==202){gt.next=23;break}return gt.next=14,C().get("".concat(this.cdsHost,"/languages"),{headers:{Authorization:"Bearer ".concat(this.token),"Accept-version":"v2","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.2.4")}});case 14:if(ze=gt.sent,Je=ze.status,!(this.fetchTimeout>0&&Date.now()-De>=this.fetchTimeout)){gt.next=18;break}throw it(new Error("Get locales timeout"));case 18:if(!(Je===202&&this.fetchInterval>0)){gt.next=21;break}return gt.next=21,Y(this.fetchInterval);case 21:gt.next=11;break;case 23:if(!(et=ze.data)||!et.data){gt.next=30;break}this.languages=et.data,this.locales=this.languages.map(function(Ht){return Ht.code}),Me(se,null,this),gt.next=31;break;case 30:throw it(new Error("Could not fetch languages"));case 31:gt.next=36;break;case 33:throw gt.prev=33,gt.t0=gt.catch(7),it(gt.t0);case 36:return gt.abrupt("return",a(this.locales));case 37:case"end":return gt.stop()}},Tt,this,[[7,33]])})),function(){return dt.apply(this,arguments)})},{key:"getCurrentLocale",value:function(){return this.currentLocale}},{key:"isCurrent",value:function(Tt){return Tt===this.currentLocale}},{key:"setCurrentLocale",value:(_t=c(w().mark(function Tt(it){return w().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(!this.isCurrent(it)){ze.next=4;break}return ze.next=3,this._syncInstances(this.childInstances);case 3:return ze.abrupt("return");case 4:if(it){ze.next=10;break}return this.currentLocale="",ze.next=8,this._syncInstances(this.childInstances);case 8:return Me(H,this.currentLocale,this),ze.abrupt("return");case 10:return ze.next=12,this.fetchTranslations(it);case 12:return this.currentLocale=it,ze.next=15,this._syncInstances(this.childInstances);case 15:Me(H,it,this);case 16:case"end":return ze.stop()}},Tt,this)})),function(Tt){return _t.apply(this,arguments)})},{key:"getLanguages",value:(Ye=c(w().mark(function Tt(){var it,ze=arguments;return w().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return it=ze.length>0&&ze[0]!==void 0?ze[0]:{},Je.next=3,this.getLocales(it);case 3:return Je.abrupt("return",a(this.languages));case 4:case"end":return Je.stop()}},Tt,this)})),function(){return Ye.apply(this,arguments)})},{key:"controllerOf",value:(ae=c(w().mark(function Tt(it){return w().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(it!==this){ze.next=2;break}throw new Error("Cannot add self as instance");case 2:if(it.childInstances.indexOf(this)===-1){ze.next=4;break}throw new Error("Cycle reference error, instance is controller of this");case 4:return this.childInstances.push(it),ze.next=7,this._syncInstances([it]);case 7:return ze.abrupt("return",it);case 8:case"end":return ze.stop()}},Tt,this)})),function(Tt){return ae.apply(this,arguments)})},{key:"_syncInstances",value:(fe=c(w().mark(function Tt(it){var ze,Je;return w().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(!(ze=this.getCurrentLocale())){De.next=15;break}Je=0;case 3:if(!(Je<it.length)){De.next=15;break}if(it[Je].getCurrentLocale()===ze){De.next=12;break}return De.prev=5,De.next=8,it[Je].fetchTranslations(ze);case 8:De.next=12;break;case 10:De.prev=10,De.t0=De.catch(5);case 12:Je++,De.next=3;break;case 15:it.forEach(function(et){et.getCurrentLocale()!==ze&&(et.currentLocale=ze,Me(H,ze,et))});case 16:case"end":return De.stop()}},Tt,this,[[5,10]])})),function(Tt){return fe.apply(this,arguments)})}]),le}(),We={a:"\u0227",A:"\u0226",b:"\u0180",B:"\u0181",c:"\u0188",C:"\u0187",d:"\u1E13",D:"\u1E12",e:"\u1E17",E:"\u1E16",f:"\u0192",F:"\u0191",g:"\u0260",G:"\u0193",h:"\u0127",H:"\u0126",i:"\u012B",I:"\u012A",j:"\u0135",J:"\u0134",k:"\u0137",K:"\u0136",l:"\u0140",L:"\u013F",m:"\u1E3F",M:"\u1E3E",n:"\u019E",N:"\u0220",o:"\u01FF",O:"\u01FE",p:"\u01A5",P:"\u01A4",q:"\u024B",Q:"\u024A",r:"\u0159",R:"\u0158",s:"\u015F",S:"\u015E",t:"\u0167",T:"\u0166",v:"\u1E7D",V:"\u1E7C",u:"\u016D",U:"\u016C",w:"\u1E87",W:"\u1E86",x:"\u1E8B",X:"\u1E8A",y:"\u1E8F",Y:"\u1E8E",z:"\u1E91",Z:"\u1E90"},xe=function(){function le(){d(this,le)}return $(le,[{key:"handle",value:function(fe,ae){return fe.split(/__txnative__/).map(function(Ye){for(var _t="",dt=0;dt<Ye.length;dt+=1){var ht=Ye.charAt(dt);if(We[ht]){var St=ht.toLowerCase();_t+=St==="a"||St==="e"||St==="o"||St==="u"?We[ht]+We[ht]:We[ht]}else _t+=ht}return _t}).join("__txnative__")}}]),le}(),qe=L,Le=A,Ze=function(){function le(){d(this,le)}return $(le,[{key:"handle",value:function(fe,ae,Ye,_t){throw fe||new Error('Error translating "'.concat(ae,'"'))}}]),le}(),rt=U,lt=function(le){var fe=new mt;return fe.t=fe.translate.bind(fe),le&&fe.init(le),fe},Ve=new mt,ve=Ve.translate.bind(Ve)})(),o})())})(nn);const oS=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["city_building","overmap_special"]]),hi=r=>{var e;return(e=oS.get(r))!=null?e:r};let xo=lS();const sS=["AMMO","ARMOR","BATTERY","BIONIC_ITEM","BOOK","COMESTIBLE","CONTAINER","ENGINE","GENERIC","GUN","GUNMOD","MAGAZINE","PET_ARMOR","TOOL","TOOLMOD","TOOL_ARMOR","WHEEL","MONSTER"];function fS(r){return typeof r=="string"?r:"str_sp"in r?r.str_sp:r.str}function aS(r){return typeof r=="string"?r+"s":"str_sp"in r?r.str_sp:"str_pl"in r?r.str_pl:r.str+"s"}function gs(r,e,n){const t=fS(r),i=e?aS(r):void 0;return xo.ngettext(t,i,n)||(n===1?t:i!=null?i:t)}const qn=r=>gs(r,!1,1),Js=(r,e=2)=>gs(r,!0,e),Fe=r=>es(r,1),es=(r,e=2)=>{var t;const n=r==null?void 0:r.name;return n==null?(t=r==null?void 0:r.id)!=null?t:r==null?void 0:r.abstract:gs(n,sS.includes(r.type),e)};function Jr(r){const e=(r*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function bs(r){if(typeof r=="undefined")return 0;if(typeof r=="number")return r*250;if(r.endsWith("ml"))return parseInt(r);if(r.endsWith("L"))return parseInt(r)*1e3}function lo(r){if(typeof r=="undefined")return 0;if(typeof r=="number")return r;if(r.endsWith("mg"))return parseInt(r)/1e3;if(r.endsWith("kg"))return parseInt(r)*1e3;if(r.endsWith("g"))return parseInt(r)}function oo(r){if(typeof r=="number")return r/100;const e=1,n=1,t=60,i=t*60,o=i*24,l=[["turns",1*e],["turn",1*e],["t",1*e],["seconds",1*n],["second",1*n],["s",1*n],["minutes",1*t],["minute",1*t],["m",1*t],["hours",1*i],["hour",1*i],["h",1*i],["days",1*o],["day",1*o],["d",1*o]],[s,a]=r.trim().split(/\s+/),f=l.find(u=>u[0]===a);if(!f)throw new Error(`bad duration: ${JSON.stringify(r)}`);return Number(s)*f[1]}function Xs(r){const e=oo(r);return`${Math.round(e/60)} m`}function Ks(r){let e=oo(r),n=e/60|0;e-=n*60;let t=n/60|0;n-=t*60;let i=t/24|0;return t-=i*24,[[i,"d"],[t,"h"],[n,"m"],[e,"s"]].filter(([o])=>o).map(o=>o.join("")).join(" ")}function Ki(r){return`${(bs(r)/1e3).toFixed(2)} L`}function Xr(r){return`${(lo(r)/1e3).toFixed(2)} kg`}class uS{constructor(e,n,t){Yn(this,"_raw");Yn(this,"_byType",new Map);Yn(this,"_byTypeById",new Map);Yn(this,"_abstractsByType",new Map);Yn(this,"_toolReplacements");Yn(this,"_craftingPseudoItems",new Map);Yn(this,"_migrations",new Map);Yn(this,"_flattenCache",new Map);Yn(this,"_nestedMapgensById",new Map);Yn(this,"release");Yn(this,"build_number");Yn(this,"_cachedDeathDrops",new Map);Yn(this,"_cachedUncraftRecipes",null);Yn(this,"_cachedMapgenSpawnItems",new Map);Yn(this,"_flattenItemGroupCache",new WeakMap);Yn(this,"_flatRequirementCache",new WeakMap);Yn(this,"_flatRequirementCacheExpandSubs",new WeakMap);Yn(this,"_flatRequirementCacheOnlyRecoverable",new WeakMap);Yn(this,"_itemComponentCache");this.release=t,this.build_number=n,this._raw=e.filter(i=>typeof i=="object");for(const i of e){if(!Object.hasOwnProperty.call(i,"type"))continue;if(i.type==="MIGRATION"){for(const l of typeof i.id=="string"?[i.id]:i.id){const{replace:s}=i;this._migrations.set(l,s)}continue}const o=hi(i.type);if(this._byType.has(o)||this._byType.set(o,[]),this._byType.get(o).push(i),Object.hasOwnProperty.call(i,"id")){if(this._byTypeById.has(o)||this._byTypeById.set(o,new Map),typeof i.id=="string")this._byTypeById.get(o).set(i.id,i);else if(Array.isArray(i.id))for(const l of i.id)this._byTypeById.get(o).set(l,i)}if((o==="recipe"||o==="uncraft")&&Object.hasOwnProperty.call(i,"result")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const l=i.result+(i.id_suffix?"_"+i.id_suffix:"");this._byTypeById.get(o).set(l,i)}if(o==="monstergroup"&&Object.hasOwnProperty.call(i,"name")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const l=i.name;this._byTypeById.get(o).set(l,i)}Object.hasOwnProperty.call(i,"abstract")&&(this._abstractsByType.has(o)||this._abstractsByType.set(o,new Map),this._abstractsByType.get(o).set(i.abstract,i)),Object.hasOwnProperty.call(i,"crafting_pseudo_item")&&this._craftingPseudoItems.set(i.crafting_pseudo_item,i.id),Object.hasOwnProperty.call(i,"nested_mapgen_id")&&(this._nestedMapgensById.has(i.nested_mapgen_id)||this._nestedMapgensById.set(i.nested_mapgen_id,[]),this._nestedMapgensById.get(i.nested_mapgen_id).push(i))}}byId(e,n){var i;if(typeof n!="string")throw new Error("Requested non-string id");if(e==="item"&&this._migrations.has(n))return this.byId(e,this._migrations.get(n));const t=(i=this._byTypeById.get(e))==null?void 0:i.get(n);if(t)return this._flatten(t)}byType(e){var n,t;return(t=(n=this._byType.get(e))==null?void 0:n.map(i=>this._flatten(i)))!=null?t:[]}abstractById(e,n){var i;if(typeof n!="string")throw new Error("Requested non-string id");const t=(i=this._abstractsByType.get(e))==null?void 0:i.get(n);if(t)return this._flatten(t)}replacementTools(e){var n;if(!this._toolReplacements){this._toolReplacements=new Map;for(const t of this.byType("item"))t.type==="TOOL"&&Object.hasOwnProperty.call(t,"sub")&&(this._toolReplacements.has(t.sub)||this._toolReplacements.set(t.sub,[]),this._toolReplacements.get(t.sub).push(t.id))}return(n=this._toolReplacements.get(e))!=null?n:[]}craftingPseudoItem(e){return this._craftingPseudoItems.get(e)}nestedMapgensById(e){return this._nestedMapgensById.get(e)}all(){return this._raw}_flatten(e){var s,a,f,u,c,d,b,$,k,w,S,C,I,A,L,F,j,P,U,Q,re,D,G,Z,z,X,Y,ee,pe,ie,H,K,se,x,oe,$e,He,Me;const n=e;if(this._flattenCache.has(n))return this._flattenCache.get(n);const t="copy-from"in n?(f=(s=this._byTypeById.get(hi(n.type)))==null?void 0:s.get(n["copy-from"]))!=null?f:(a=this._abstractsByType.get(hi(n.type)))==null?void 0:a.get(n["copy-from"]):null;if("copy-from"in n&&!t&&console.error(`Missing parent in ${(d=(c=(u=n.id)!=null?u:n.abstract)!=null?c:n.result)!=null?d:JSON.stringify(n)}`),t===n)return console.warn("Object copied from itself:",n),this._flattenCache.set(n,n),n;if(!t)return this._flattenCache.set(n,n),n;const{abstract:i,...o}=this._flatten(t),l={...o,...n};o.vitamins&&n.vitamins&&(l.vitamins=[...o.vitamins.filter(be=>!n.vitamins.some(Ee=>Ee[0]===be[0])),...n.vitamins]);for(const be of Object.keys((b=l.relative)!=null?b:{}))if(typeof l.relative[be]=="number")if(be==="melee_damage"){const Ee=Yr(JSON.parse(JSON.stringify(l.melee_damage)));for(const Ie of Ee)Ie.amount=(($=Ie.amount)!=null?$:0)+l.relative[be];l.melee_damage=Ee}else l[be]=((k=l[be])!=null?k:0)+l.relative[be];else if((be==="damage"||be==="ranged_damage")&&l[be]){l[be]=JSON.parse(JSON.stringify(l[be]));const Ee=Yr(l.relative[be]);for(const Ie of Ee){const we=Array.isArray(l[be])?l[be].find(nt=>nt.damage_type===Ie.damage_type):l[be].damage_type===Ie.damage_type?l[be]:null;we&&(we.amount=((w=we.amount)!=null?w:0)+((S=Ie.amount)!=null?S:0),we.armor_penetration=((C=we.armor_penetration)!=null?C:0)+((I=Ie.armor_penetration)!=null?I:0),we.armor_multiplier=((A=we.armor_multiplier)!=null?A:0)+((L=Ie.armor_multiplier)!=null?L:0),we.damage_multiplier=((F=we.damage_multiplier)!=null?F:0)+((j=Ie.damage_multiplier)!=null?j:0),we.constant_armor_multiplier=((P=we.constant_armor_multiplier)!=null?P:0)+((U=Ie.constant_armor_multiplier)!=null?U:0),we.constant_damage_multiplier=((Q=we.constant_damage_multiplier)!=null?Q:0)+((re=Ie.constant_damage_multiplier)!=null?re:0))}}delete l.relative;for(const be of Object.keys((D=l.proportional)!=null?D:{}))if(typeof l.proportional[be]=="number")if(be==="attack_cost"&&!(be in l)&&(l[be]=100),typeof l[be]=="string"){const Ee=/^\s*(\d+)\s*(.+)$/.exec(l[be]);if(Ee){const[,Ie,we]=Ee;l[be]=`${Number(Ie)*l.proportional[be]} ${we}`}}else l[be]*=l.proportional[be],l[be]=l[be]|0;else if(be==="damage"&&l[be]){l.damage=JSON.parse(JSON.stringify(l.damage));const Ee=Yr(l.proportional.damage);for(const Ie of Ee){const we=Array.isArray(l.damage)?l.damage.find(nt=>nt.damage_type===Ie.damage_type):l.damage.damage_type===Ie.damage_type?l.damage:null;we&&(we.amount=((G=we.amount)!=null?G:0)*((Z=Ie.amount)!=null?Z:1),we.armor_penetration=((z=we.armor_penetration)!=null?z:0)*((X=Ie.armor_penetration)!=null?X:1),we.armor_multiplier=((Y=we.armor_multiplier)!=null?Y:0)*((ee=Ie.armor_multiplier)!=null?ee:1),we.damage_multiplier=((pe=we.damage_multiplier)!=null?pe:0)*((ie=Ie.damage_multiplier)!=null?ie:1),we.constant_armor_multiplier=((H=we.constant_armor_multiplier)!=null?H:0)*((K=Ie.constant_armor_multiplier)!=null?K:1),we.constant_damage_multiplier=((se=we.constant_damage_multiplier)!=null?se:0)*((x=Ie.constant_damage_multiplier)!=null?x:1))}}delete l.proportional;for(const be of Object.keys((oe=l.extend)!=null?oe:{}))Array.isArray(l.extend[be])&&(l[be]=(($e=l[be])!=null?$e:[]).concat(l.extend[be]));delete l.extend;for(const be of Object.keys((He=l.delete)!=null?He:{}))if(Array.isArray(l.delete[be])){const Ee=(Ie,we)=>Ie===we||Array.isArray(Ie)&&Array.isArray(we)&&Ie.length===we.length&&Ie.every((nt,Ge)=>Ee(nt,we[Ge]));l[be]=((Me=l[be])!=null?Me:[]).filter(Ie=>!l.delete[be].some(we=>Ee(we,Ie)))}return delete l.delete,this._flattenCache.set(n,l),l}flatDeathDrops(e){var i;if(this._cachedDeathDrops.has(e))return this._cachedDeathDrops.get(e);const n=this.byId("monster",e),t=n.death_drops?this.flattenItemGroup((i=this.normalizeItemGroup(n.death_drops,"distribution"))!=null?i:{subtype:"collection",entries:[]}):[];return t.sort((o,l)=>l.prob-o.prob),this._cachedDeathDrops.set(e,t),t}uncraftRecipe(e){if(!this._cachedUncraftRecipes){this._cachedUncraftRecipes=new Map;for(const n of this.byType("recipe"))n.result&&n.reversible&&this._cachedUncraftRecipes.set(n.result,n);for(const n of this.byType("uncraft"))n.result&&this._cachedUncraftRecipes.set(n.result,n)}return this._cachedUncraftRecipes.get(e)}mapgenSpawnItems(e){var f,u,c,d,b,$,k;if(this._cachedMapgenSpawnItems.has(e))return this._cachedMapgenSpawnItems.get(e);const n=new Map,t=(w,S)=>{n.has(w)||n.set(w,new Set),n.get(w).add(S)},i=(w,S)=>{const C=typeof S=="string"?this.byId("item_group",S):Array.isArray(S)?{subtype:"collection",entries:S}:S;if(C)for(const{id:I}of this.flattenItemGroup(C))t(w,I);else typeof S=="string"&&this.byId("item",S)&&t(w,S)},o=w=>{var S,C,I,A,L;for(const[F,j]of Object.entries((S=w.item)!=null?S:{})){const P=Array.isArray(j)?j:[j];for(const U of P)t(F,U.item)}for(const[F,j]of Object.entries((C=w.items)!=null?C:{})){const P=Array.isArray(j)?j:[j];for(const U of P)i(F,U.item)}for(const[F,j]of Object.entries((I=w.sealed_item)!=null?I:{})){const P=Array.isArray(j)?j:[j];for(const U of P)(A=U.item)!=null&&A.item&&t(F,U.item.item),(L=U.items)!=null&&L.item&&i(F,U.items.item)}};o(e.object);for(const w of(f=e.object.palettes)!=null?f:[])typeof w=="string"&&o(this.byId("palette",w));const l=new Set,s=new Set;for(const w of(u=e.object.rows)!=null?u:[])for(const S of w)s.add(S);for(const w of s){const S=(c=n.get(w))!=null?c:new Set;for(const C of S)l.add(C)}for(const w of(d=e.object.place_item)!=null?d:[])l.add(w.item);for(const w of(b=e.object.place_items)!=null?b:[]){const S=typeof w.item=="string"?this.byId("item_group",w.item):Array.isArray(w.item)?{subtype:"collection",entries:w.item}:w.item;if(S)for(const{id:C}of this.flattenItemGroup(S))l.add(C);else typeof w=="string"&&this.byId("item",w)&&l.add(w)}for(const w of($=e.object.place_loot)!=null?$:[])if(w.item&&l.add(w.item),w.group)for(const{id:S}of this.flattenItemGroup(this.byId("item_group",w.group)))l.add(S);for(const w of(k=e.object.add)!=null?k:[])l.add(w.item);const a=[...l];return this._cachedMapgenSpawnItems.set(e,a),a}flattenItemGroup(e){var f,u,c,d,b;if(this._flattenItemGroupCache.has(e))return this._flattenItemGroupCache.get(e);const n=new Map;function t({id:$,prob:k,count:w}){var L;const{prob:S,count:C}=(L=n.get($))!=null?L:{prob:0,count:[0,0]},I=1-(1-S)*(1-k),A=[w[0]+C[0],w[1]+C[1]];n.set($,{prob:I,count:A})}function i(...$){$.forEach(t)}e["container-item"]&&i({id:e["container-item"],prob:1,count:[1,1]});const o=[];if(e.subtype==="old"||!e.subtype)for(const $ of e.items)Array.isArray($)?o.push({item:$[0],prob:$[1]}):o.push($);else{for(const $ of(f=e.entries)!=null?f:[])Array.isArray($)?o.push({item:$[0],prob:$[1]}):o.push($);for(const $ of(u=e.items)!=null?u:[])Array.isArray($)?o.push({item:$[0],prob:$[1]}):typeof $=="string"?o.push({item:$,prob:100}):o.push($);for(const $ of(c=e.groups)!=null?c:[])Array.isArray($)?o.push({group:$[0],prob:$[1]}):typeof $=="string"?o.push({group:$,prob:100}):o.push($)}function l($,k,w){return{id:$.id,prob:$.prob*k,count:[$.count[0]*w[0],$.count[1]*w[1]]}}function s($){return $.count?typeof $.count=="number"?[$.count,$.count]:$.count:$.charges?typeof $.charges=="number"?[$.charges,$.charges]:$.charges:[1,1]}if(e.subtype==="collection")for(const $ of o){const{prob:k=100}=$,w=Math.min(k,100)/100,S=s($);if($["container-item"]&&i({id:$["container-item"],prob:w,count:[1,1]}),"item"in $){i({id:$.item,prob:w,count:S});const C=this.byId("item",$.item);C&&C.container&&i({id:C.container,prob:w,count:S})}else if("group"in $)i(...this.flattenItemGroup(this.byId("item_group",$.group)).map(C=>l(C,w,S)));else if("collection"in $)i(...this.flattenItemGroup({subtype:"collection",entries:$.collection}).map(C=>l(C,w,S)));else if("distribution"in $)i(...this.flattenItemGroup({subtype:"distribution",entries:$.distribution}).map(C=>l(C,w,S)));else throw new Error(`unknown item group entry: ${JSON.stringify($)}`)}else{let $=0;for(const k of o)$+=(d=k.prob)!=null?d:100;for(const k of o){const w=((b=k.prob)!=null?b:100)/$,S=s(k);if(k["container-item"]&&i({id:k["container-item"],prob:w,count:[1,1]}),"item"in k)i({id:k.item,prob:w,count:S});else if("group"in k)i(...this.flattenItemGroup(this.byId("item_group",k.group)).map(C=>l(C,w,S)));else if("collection"in k)i(...this.flattenItemGroup({subtype:"collection",entries:k.collection}).map(C=>l(C,w,S)));else if("distribution"in k)i(...this.flattenItemGroup({subtype:"distribution",entries:k.distribution}).map(C=>l(C,w,S)));else throw new Error(`unknown item group entry: ${JSON.stringify(k)}`)}}const a=[...n.entries()].map(([$,k])=>({id:$,...k}));return this._flattenItemGroupCache.set(e,a),a}_flatRequirementCacheForOpts(e){if((e==null?void 0:e.expandSubstitutes)&&(e==null?void 0:e.onlyRecoverable))throw new Error("didn't expect to see expandSubstitutes && onlyRecoverable");return e!=null&&e.expandSubstitutes?this._flatRequirementCacheExpandSubs:e!=null&&e.onlyRecoverable?this._flatRequirementCacheOnlyRecoverable:this._flatRequirementCache}flattenRequirement(e,n,t){const i=this._flatRequirementCacheForOpts(t);if(i.has(e))return i.get(e);const{expandSubstitutes:o=!1,onlyRecoverable:l=!1}=t!=null?t:{},s=o?f=>f.flatMap(u=>cS(this,u)):f=>f,a=ts(e).map(f=>s(Eg(this,f,u=>ts(n(u)),l))).map(f=>l?f.filter(u=>{var c,d;return!((d=(c=this.byId("item",u.id))==null?void 0:c.flags)!=null?d:[]).includes("UNRECOVERABLE")}):f).filter(f=>f.length);return i.set(e,a),a}normalizeRequirementsForDisassembly(e){const{tools:n,qualities:t,components:i}=this.normalizeRequirements(e,{onlyRecoverable:!0});let o=!1;const l=[];for(const c of n)for(const d of c){if(["welder","welder_crude","oxy_torch","forge","char_forge"].includes(d.id)){c.length=0,l.push([{id:"SAW_M_FINE",level:1}]);break}if(["sewing_kit","mold_plastic"].includes(d.id)){c.length=0,l.push([{id:"CUT",level:1}]);break}if(d.id==="crucible"){c.length=0;break}if(d.id==="press"){c.length=0,o=!0,l.push([{id:"PULL",level:1}]);break}if(d.id==="fire"&&o){c.length=0;break}}const s=n.filter(c=>c.length);for(const c of t)for(const d of c){if(d.id==="SEW"){l.push([{id:"CUT",level:d.level}]),c.length=0;break}if(d.id==="GLARE"||d.id==="KNIT"){c.length=0;break}}const a=t.filter(c=>c.length),f=a.concat(l.filter(c=>!a.some(d=>d[0].id===c[0].id))),u=i.map(c=>c.filter(d=>{var b,$;return!(($=(b=this.byId("item",d.id))==null?void 0:b.flags)!=null&&$.includes("UNRECOVERABLE"))})).filter(c=>c.length);return{tools:s,qualities:f,components:u}}normalizeRequirements(e,n){const t=typeof e.using=="string"?[[e.using,1]]:e.using,i=(t!=null?t:[]).map(([a,f])=>[this.byId("requirement",a),f]).concat([[e,1]]).filter(a=>a[0]),o=i.flatMap(([a,f])=>{var u;return this.flattenRequirement((u=a.tools)!=null?u:[],c=>c.tools,{expandSubstitutes:!0}).map(c=>c.map(d=>({...d,count:d.count*f})))}),l=i.flatMap(([a,f])=>{var u;return((u=a.qualities)!=null?u:[]).map(c=>Array.isArray(c)?c:[c])}),s=i.flatMap(([a,f])=>{var u;return this.flattenRequirement((u=a.components)!=null?u:[],c=>c.components,n).map(c=>c.map(d=>({...d,count:d.count*f})))});return{tools:o,qualities:l,components:s}}getItemComponents(){if(this._itemComponentCache)return this._itemComponentCache;const e=new Map,n=new Map;return this.byType("recipe").forEach(t=>{if(!t.result||!this.byId("item",t.result))return!1;const i=typeof t.using=="string"?[[t.using,1]]:t.using,o=(i!=null?i:[]).map(([a,f])=>[this.byId("requirement",a),f]).concat([[t,1]]),l=o.flatMap(([a])=>{var f;return this.flattenRequirement((f=a.tools)!=null?f:[],u=>u.tools)});for(const a of l)for(const f of a)e.has(f.id)||e.set(f.id,new Set),e.get(f.id).add(t.result);const s=o.flatMap(([a,f])=>{var u;return this.flattenRequirement((u=a.components)!=null?u:[],c=>c.components).map(c=>c.map(d=>({...d,count:d.count*f})))});for(const a of s)for(const f of a)n.has(f.id)||n.set(f.id,new Set),n.get(f.id).add(t.result)}),this._itemComponentCache={byTool:e,byComponent:n},this._itemComponentCache}normalizeItemGroup(e,n){return e?typeof e=="string"?this.byId("item_group",e):Array.isArray(e)?{subtype:n,entries:e}:{subtype:n,...e}:{subtype:n,entries:[]}}}function Eg(r,e,n,t=!1){var o;const i=[];for(const l of e)if(Array.isArray(l)){const[s,a,...f]=l,u=f.includes("LIST");if(f.includes("NO_RECOVER")&&t)continue;if(u){const d=r.byId("requirement",s);d.type!=="requirement"&&console.error(`Expected a requirement, got ${d.type} (id=${d.id})`);const $=((o=n(d))!=null?o:[])[0];i.push(...Eg(r,$,n,t).map(k=>({...k,count:k.count*a})))}else i.push({id:s,count:a})}else if(typeof l=="string")i.push({id:l,count:1});else throw new Error("unexpected choice type");return i}function cS(r,e){const n=r.replacementTools(e.id);return[e,...n.map(t=>({id:t,count:e.count}))]}function ts(r){return r.map(e=>Array.isArray(e)?e:[e])}const Pr=r=>r.type==="AMMO"||r.type==="COMESTIBLE"||r.stackable;function Yr(r){return Array.isArray(r)?r:"values"in r?r.values:[r]}const _S=["cover_left","cover_right","hatch_wheel_left","hatch_wheel_right","wheel_left","wheel_right","cross_unconnected","cross","horizontal_front_edge","horizontal_front","horizontal_rear_edge","horizontal_rear","horizontal_2_front","horizontal_2_rear","ne_edge","nw_edge","se_edge","sw_edge","vertical_right","vertical_left","vertical_2_right","vertical_2_left","vertical_T_right","vertical_T_left","front_right","front_left","rear_right","rear_left","cover","vertical","horizontal","vertical_2","horizontal_2","ne","nw","se","sw","front","rear","left","right"],Sg=(r,e)=>{if(r.byId("vehicle_part",e))return[e,""];for(const n of _S)if(e.endsWith("_"+n))return[e.slice(0,e.length-n.length-1),n];return[e,""]};function Tg(r){var e;return{subtype:"collection",entries:((e=r.items)!=null?e:[]).map(n=>n.items?{collection:(typeof n.items=="string"?[n.items]:n.items).map(t=>({item:t})),prob:n.chance}:n.item_groups?{collection:(typeof n.item_groups=="string"?[n.item_groups]:n.item_groups).map(t=>({group:t})),prob:n.chance}:{distribution:[]})}}function vs(r){return typeof r=="string"?[{type:r}]:Array.isArray(r)?r.map(e=>typeof e=="string"?{type:e}:Array.isArray(e)?{type:e[0]}:e):r?[r]:[]}const dS=async r=>{const e=await fetch(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${r}/all.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching data`);return e.json()},mS=async(r,e)=>{const n=await fetch(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${r}/lang/${e}.json`,{mode:"cors"});if(!n.ok)throw new Error(`Error ${n.status} (${n.statusText}) fetching locale data`);return n.json()};async function Zs(r){for(;;)try{return await r()}catch(e){console.error(e),await new Promise(n=>setTimeout(n,2e3))}}let Qs=!1;const{subscribe:pS,set:hS}=ro(null),xs={subscribe:pS,async setVersion(r,e){if(Qs)throw new Error("can only set version once");Qs=!0;const[n,t]=await Promise.all([Zs(()=>dS(r)),e&&Zs(()=>mS(r,e)),e&&nn.exports.tx.setCurrentLocale(e)]);t&&(xo.loadJSON(t),xo.setLocale(e));const i=new uS(n.data,n.build_number,n.release);hS(i)}};function gS(r){let e,n=(r[4]?(r[2]?es:Fe)(r[4]):r[1])+"",t,i;return{c(){e=p("a"),t=T(n),ye(e,"href",i="#/"+r[0]+"/"+r[1])},m(o,l){g(o,e,l),m(e,t)},p(o,l){l&22&&n!==(n=(o[4]?(o[2]?es:Fe)(o[4]):o[1])+"")&&ne(t,n),l&3&&i!==(i="#/"+o[0]+"/"+o[1])&&ye(e,"href",i)},i:de,o:de,d(o){o&&h(e)}}}function bS(r){let e,n=!Pr(r[4]),t,i,o=Pr(r[4]),l,s=n&&ef(r);i=new Se({props:{type:r[0],id:r[1],plural:nf(r[3])&&!Pr(r[4])}});let a=o&&tf(r);return{c(){e=p("span"),s&&s.c(),t=M(),J(i.$$.fragment),a&&a.c(),Rt(e,"white-space","nowrap")},m(f,u){g(f,e,u),s&&s.m(e,null),m(e,t),W(i,e,null),a&&a.m(e,null),l=!0},p(f,u){u&16&&(n=!Pr(f[4])),n?s?s.p(f,u):(s=ef(f),s.c(),s.m(e,t)):s&&(s.d(1),s=null);const c={};u&1&&(c.type=f[0]),u&2&&(c.id=f[1]),u&24&&(c.plural=nf(f[3])&&!Pr(f[4])),i.$set(c),u&16&&(o=Pr(f[4])),o?a?a.p(f,u):(a=tf(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){l||(v(i.$$.fragment,f),l=!0)},o(f){E(i.$$.fragment,f),l=!1},d(f){f&&h(e),s&&s.d(),V(i),a&&a.d()}}}function ef(r){let e=so(r[3])+"",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},p(t,i){i&8&&e!==(e=so(t[3])+"")&&ne(n,e)},d(t){t&&h(n)}}}function tf(r){let e=" ",n,t,i=so(r[3])+"",o,l;return{c(){n=T(e),t=T("("),o=T(i),l=T(")")},m(s,a){g(s,n,a),g(s,t,a),g(s,o,a),g(s,l,a)},p(s,a){a&8&&i!==(i=so(s[3])+"")&&ne(o,i)},d(s){s&&h(n),s&&h(t),s&&h(o),s&&h(l)}}}function vS(r){let e,n,t,i;const o=[bS,gS],l=[];function s(a,f){return a[3]!=null?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,[f]){let u=e;e=s(a),e===u?l[e].p(a,f):(ce(),E(l[u],1,1,()=>{l[u]=null}),_e(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),v(n,1),n.m(t.parentNode,t))},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function so(r){return typeof r=="number"?r.toString():r[0]===r[1]?r[0].toString():`${r[0]}\u2013${r[1]}`}function nf(r){return typeof r=="number"?r!==1:r[0]===r[1]?r[0]!==1:!0}function $S(r,e,n){let{type:t}=e,{id:i}=e,{plural:o=!1}=e,{count:l=void 0}=e;const s=Yt("data");let a=s.byId(t,i);return(a==null?void 0:a.type)==="vehicle_part"&&!a.name&&a.item&&(a=s.byId("item",a.item)),r.$$set=f=>{"type"in f&&n(0,t=f.type),"id"in f&&n(1,i=f.id),"plural"in f&&n(2,o=f.plural),"count"in f&&n(3,l=f.count)},[t,i,o,l,a]}class Se extends wt{constructor(e){super(),kt(this,e,$S,vS,vt,{type:0,id:1,plural:2,count:3})}}const yS=async r=>{const e=await fetch(`${r}/tile_config.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching tile data`);const n=await e.json();return await Promise.all(n["tiles-new"].map(async t=>{var f,u;const i=await fetch(`${r}/${t.file}`).then(c=>c.blob()),o=URL.createObjectURL(i),l=new Image;l.src=o;try{await new Promise((c,d)=>{l.onload=c,l.onerror=d})}finally{URL.revokeObjectURL(o)}const s=l.width/((f=t.sprite_width)!=null?f:n.tile_info[0].width)|0,a=l.height/((u=t.sprite_height)!=null?u:n.tile_info[0].height)|0;t.nx=s,t.ny=a})),n},{subscribe:kS,set:rf}=ro(null),Cg={subscribe:kS,setURL(r){r?yS(r).then(e=>{rf({...e,baseUrl:r})},e=>{console.error("Error fetching tiles",e)}):rf(null)}},Mn=0,oi=1,Qn=2,xn=3,ei=4,ti=5,ni=6,Jn=7,ns={},$t=(r,e,n)=>{ns[r]=[e,n]};$t(1,Jn,Mn);$t(2,oi,Mn);$t(3,Qn,Mn);$t(4,ei,Mn);$t(5,ni,Mn);$t(6,ti,Mn);$t(7,xn,Mn);$t(8,Mn,Jn);$t(9,Mn,oi);$t(10,Mn,Qn);$t(11,Mn,ei);$t(12,Mn,ni);$t(13,Mn,ti);$t(14,Mn,xn);$t(15,Jn,ei);$t(16,oi,ei);$t(17,Qn,ei);$t(18,ei,ei);$t(19,ni,ei);$t(20,Mn,ei);$t(21,ti,ei);$t(22,xn,ei);$t(23,Jn,oi);$t(24,oi,oi);$t(25,Qn,oi);$t(26,ei,oi);$t(27,ni,oi);$t(28,ti,oi);$t(29,xn,oi);$t(30,Mn,Mn);$t(31,Jn,Mn);$t(32,Mn,Jn);$t(33,Jn,Jn);$t(34,oi,Jn);$t(35,Qn,Jn);$t(36,xn,Jn);$t(37,ei,Jn);$t(38,ti,Jn);$t(39,ni,Jn);$t(40,Mn,Qn);$t(41,Jn,Qn);$t(42,oi,Qn);$t(43,Qn,Qn);$t(44,xn,Qn);$t(45,ei,Qn);$t(46,ti,Qn);$t(47,ni,Qn);$t(48,Mn,xn);$t(49,Jn,xn);$t(50,oi,xn);$t(51,Qn,xn);$t(52,xn,xn);$t(53,ei,xn);$t(54,ti,xn);$t(55,ni,xn);$t(56,Mn,ti);$t(57,Jn,ti);$t(58,oi,ti);$t(59,Qn,ti);$t(60,xn,ti);$t(61,ei,ti);$t(62,ti,ti);$t(63,ni,ti);$t(64,Mn,ni);$t(65,Jn,ni);$t(66,oi,ni);$t(67,Qn,ni);$t(68,xn,ni);$t(69,ei,ni);$t(70,ti,ni);$t(71,ni,ni);function Ae(r){return{fg:ns[r][0],bg:ns[r][1],bold(){return{...this,is_bold:!0}},blink(){return{...this,is_blink:!0}},is_bold:!1,is_blink:!1,color(){let e=this.fg,n=this.bg;return this.is_bold&&(e=e+8),this.is_blink&&(n=n+8),{fg:e,bg:n}}}}function is(r){return r?r[1]!="_"?is("c_"+r):Ig[r]:is("c_white")}const Ig={};function Be(r,e,n,t){Ig[e]={...n.color(),inverse:t}}Be("def_c_black","c_black",Ae(30),"def_i_black");Be("def_c_white","c_white",Ae(1).bold(),"def_i_white");Be("def_c_light_gray","c_light_gray",Ae(1),"def_i_light_gray");Be("def_c_dark_gray","c_dark_gray",Ae(30).bold(),"def_i_dark_gray");Be("def_c_red","c_red",Ae(2),"def_i_red");Be("def_c_green","c_green",Ae(3),"def_i_green");Be("def_c_blue","c_blue",Ae(4),"def_i_blue");Be("def_c_cyan","c_cyan",Ae(5),"def_i_cyan");Be("def_c_magenta","c_magenta",Ae(6),"def_i_magenta");Be("def_c_brown","c_brown",Ae(7),"def_i_brown");Be("def_c_light_red","c_light_red",Ae(2).bold(),"def_i_light_red");Be("def_c_light_green","c_light_green",Ae(3).bold(),"def_i_light_green");Be("def_c_light_blue","c_light_blue",Ae(4).bold(),"def_i_light_blue");Be("def_c_light_cyan","c_light_cyan",Ae(5).bold(),"def_i_light_cyan");Be("def_c_pink","c_pink",Ae(6).bold(),"def_i_pink");Be("def_c_yellow","c_yellow",Ae(7).bold(),"def_i_yellow");Be("def_h_black","h_black",Ae(20),"def_c_blue");Be("def_h_white","h_white",Ae(15).bold(),"def_c_light_blue_white");Be("def_h_light_gray","h_light_gray",Ae(15),"def_c_blue_white");Be("def_h_dark_gray","h_dark_gray",Ae(20).bold(),"def_c_light_blue");Be("def_h_red","h_red",Ae(16),"def_c_blue_red");Be("def_h_green","h_green",Ae(17),"def_c_blue_green");Be("def_h_blue","h_blue",Ae(20),"def_h_blue");Be("def_h_cyan","h_cyan",Ae(19),"def_c_blue_cyan");Be("def_h_magenta","h_magenta",Ae(21),"def_c_blue_magenta");Be("def_h_brown","h_brown",Ae(22),"def_c_blue_yellow");Be("def_h_light_red","h_light_red",Ae(16).bold(),"def_c_light_blue_red");Be("def_h_light_green","h_light_green",Ae(17).bold(),"def_c_light_blue_green");Be("def_h_light_blue","h_light_blue",Ae(18).bold(),"def_h_light_blue");Be("def_h_light_cyan","h_light_cyan",Ae(19).bold(),"def_c_light_blue_cyan");Be("def_h_pink","h_pink",Ae(21).bold(),"def_c_light_blue_magenta");Be("def_h_yellow","h_yellow",Ae(22).bold(),"def_c_light_blue_yellow");Be("def_i_black","i_black",Ae(32),"def_c_black");Be("def_i_white","i_white",Ae(8).blink(),"def_c_white");Be("def_i_light_gray","i_light_gray",Ae(8),"def_c_light_gray");Be("def_i_dark_gray","i_dark_gray",Ae(32).blink(),"def_c_dark_gray");Be("def_i_red","i_red",Ae(9),"def_c_red");Be("def_i_green","i_green",Ae(10),"def_c_green");Be("def_i_blue","i_blue",Ae(11),"def_c_blue");Be("def_i_cyan","i_cyan",Ae(12),"def_c_cyan");Be("def_i_magenta","i_magenta",Ae(13),"def_c_magenta");Be("def_i_brown","i_brown",Ae(14),"def_c_brown");Be("def_i_light_red","i_light_red",Ae(9).blink(),"def_c_light_red");Be("def_i_light_green","i_light_green",Ae(10).blink(),"def_c_light_green");Be("def_i_light_blue","i_light_blue",Ae(11).blink(),"def_c_light_blue");Be("def_i_light_cyan","i_light_cyan",Ae(12).blink(),"def_c_light_cyan");Be("def_i_pink","i_pink",Ae(13).blink(),"def_c_pink");Be("def_i_yellow","i_yellow",Ae(14).blink(),"def_c_yellow");Be("def_c_black_red","c_black_red",Ae(9).bold(),"def_c_red");Be("def_c_white_red","c_white_red",Ae(23).bold(),"def_c_red_white");Be("def_c_light_gray_red","c_light_gray_red",Ae(23),"def_c_light_red_white");Be("def_c_dark_gray_red","c_dark_gray_red",Ae(9),"def_c_dark_gray_red");Be("def_c_red_red","c_red_red",Ae(9),"def_c_red_red");Be("def_c_green_red","c_green_red",Ae(25),"def_c_red_green");Be("def_c_blue_red","c_blue_red",Ae(26),"def_h_red");Be("def_c_cyan_red","c_cyan_red",Ae(27),"def_c_red_cyan");Be("def_c_magenta_red","c_magenta_red",Ae(28),"def_c_red_magenta");Be("def_c_brown_red","c_brown_red",Ae(29),"def_c_red_yellow");Be("def_c_light_red_red","c_light_red_red",Ae(24).bold(),"def_c_red_red");Be("def_c_light_green_red","c_light_green_red",Ae(25).bold(),"def_c_light_red_green");Be("def_c_light_blue_red","c_light_blue_red",Ae(26).bold(),"def_h_light_red");Be("def_c_light_cyan_red","c_light_cyan_red",Ae(27).bold(),"def_c_light_red_cyan");Be("def_c_pink_red","c_pink_red",Ae(28).bold(),"def_c_light_red_magenta");Be("def_c_yellow_red","c_yellow_red",Ae(29).bold(),"def_c_red_yellow");Be("def_c_unset","c_unset",Ae(31),"def_c_unset");Be("def_c_black_white","c_black_white",Ae(32),"def_c_light_gray");Be("def_c_dark_gray_white","c_dark_gray_white",Ae(32).bold(),"def_c_white");Be("def_c_light_gray_white","c_light_gray_white",Ae(33),"def_c_light_gray_white");Be("def_c_white_white","c_white_white",Ae(33).bold(),"def_c_white_white");Be("def_c_red_white","c_red_white",Ae(34),"def_c_white_red");Be("def_c_light_red_white","c_light_red_white",Ae(34).bold(),"def_c_light_gray_red");Be("def_c_green_white","c_green_white",Ae(35),"def_c_light_gray_green");Be("def_c_light_green_white","c_light_green_white",Ae(35).bold(),"def_c_white_green");Be("def_c_brown_white","c_brown_white",Ae(36),"def_c_light_gray_yellow");Be("def_c_yellow_white","c_yellow_white",Ae(36).bold(),"def_c_white_yellow");Be("def_c_blue_white","c_blue_white",Ae(37),"def_h_light_gray");Be("def_c_light_blue_white","c_light_blue_white",Ae(37).bold(),"def_h_white");Be("def_c_magenta_white","c_magenta_white",Ae(38),"def_c_light_gray_magenta");Be("def_c_pink_white","c_pink_white",Ae(38).bold(),"def_c_white_magenta");Be("def_c_cyan_white","c_cyan_white",Ae(39),"def_c_light_gray_cyan");Be("def_c_light_cyan_white","c_light_cyan_white",Ae(39).bold(),"def_c_white_cyan");Be("def_c_black_green","c_black_green",Ae(40),"def_c_green");Be("def_c_dark_gray_green","c_dark_gray_green",Ae(40).bold(),"def_c_light_green");Be("def_c_light_gray_green","c_light_gray_green",Ae(41),"def_c_green_white");Be("def_c_white_green","c_white_green",Ae(41).bold(),"def_c_light_green_white");Be("def_c_red_green","c_red_green",Ae(42),"def_c_green_red");Be("def_c_light_red_green","c_light_red_green",Ae(42).bold(),"def_c_light_green_red");Be("def_c_green_green","c_green_green",Ae(43),"def_c_green_green");Be("def_c_light_green_green","c_light_green_green",Ae(43).bold(),"def_c_light_green_green");Be("def_c_brown_green","c_brown_green",Ae(44),"def_c_green_yellow");Be("def_c_yellow_green","c_yellow_green",Ae(44).bold(),"def_c_light_green_yellow");Be("def_c_blue_green","c_blue_green",Ae(45),"def_h_green");Be("def_c_light_blue_green","c_light_blue_green",Ae(45).bold(),"def_h_light_green");Be("def_c_magenta_green","c_magenta_green",Ae(46),"def_c_green_magenta");Be("def_c_pink_green","c_pink_green",Ae(46).bold(),"def_c_light_green_magenta");Be("def_c_cyan_green","c_cyan_green",Ae(47),"def_c_green_cyan");Be("def_c_light_cyan_green","c_light_cyan_green",Ae(47).bold(),"def_c_light_green_cyan");Be("def_c_black_yellow","c_black_yellow",Ae(48),"def_c_brown");Be("def_c_dark_gray_yellow","c_dark_gray_yellow",Ae(48).bold(),"def_c_yellow");Be("def_c_light_gray_yellow","c_light_gray_yellow",Ae(49),"def_c_brown_white");Be("def_c_white_yellow","c_white_yellow",Ae(49).bold(),"def_c_yellow_white");Be("def_c_red_yellow","c_red_yellow",Ae(50),"def_c_yellow_red");Be("def_c_light_red_yellow","c_light_red_yellow",Ae(50).bold(),"def_c_yellow_red");Be("def_c_green_yellow","c_green_yellow",Ae(51),"def_c_brown_green");Be("def_c_light_green_yellow","c_light_green_yellow",Ae(51).bold(),"def_c_yellow_green");Be("def_c_brown_yellow","c_brown_yellow",Ae(52),"def_c_brown_yellow");Be("def_c_yellow_yellow","c_yellow_yellow",Ae(52).bold(),"def_c_yellow_yellow");Be("def_c_blue_yellow","c_blue_yellow",Ae(53),"def_h_brown");Be("def_c_light_blue_yellow","c_light_blue_yellow",Ae(53).bold(),"def_h_yellow");Be("def_c_magenta_yellow","c_magenta_yellow",Ae(54),"def_c_brown_magenta");Be("def_c_pink_yellow","c_pink_yellow",Ae(54).bold(),"def_c_yellow_magenta");Be("def_c_cyan_yellow","c_cyan_yellow",Ae(55),"def_c_brown_cyan");Be("def_c_light_cyan_yellow","c_light_cyan_yellow",Ae(55).bold(),"def_c_yellow_cyan");Be("def_c_black_magenta","c_black_magenta",Ae(56),"def_c_magenta");Be("def_c_dark_gray_magenta","c_dark_gray_magenta",Ae(56).bold(),"def_c_pink");Be("def_c_light_gray_magenta","c_light_gray_magenta",Ae(57),"def_c_magenta_white");Be("def_c_white_magenta","c_white_magenta",Ae(57).bold(),"def_c_pink_white");Be("def_c_red_magenta","c_red_magenta",Ae(58),"def_c_magenta_red");Be("def_c_light_red_magenta","c_light_red_magenta",Ae(58).bold(),"def_c_pink_red");Be("def_c_green_magenta","c_green_magenta",Ae(59),"def_c_magenta_green");Be("def_c_light_green_magenta","c_light_green_magenta",Ae(59).bold(),"def_c_pink_green");Be("def_c_brown_magenta","c_brown_magenta",Ae(60),"def_c_magenta_yellow");Be("def_c_yellow_magenta","c_yellow_magenta",Ae(60).bold(),"def_c_pink_yellow");Be("def_c_blue_magenta","c_blue_magenta",Ae(61),"def_h_magenta");Be("def_c_light_blue_magenta","c_light_blue_magenta",Ae(61).bold(),"def_h_pink");Be("def_c_magenta_magenta","c_magenta_magenta",Ae(62),"def_c_magenta_magenta");Be("def_c_pink_magenta","c_pink_magenta",Ae(62).bold(),"def_c_pink_magenta");Be("def_c_cyan_magenta","c_cyan_magenta",Ae(63),"def_c_magenta_cyan");Be("def_c_light_cyan_magenta","c_light_cyan_magenta",Ae(63).bold(),"def_c_pink_cyan");Be("def_c_black_cyan","c_black_cyan",Ae(64),"def_c_cyan");Be("def_c_dark_gray_cyan","c_dark_gray_cyan",Ae(64).bold(),"def_c_light_cyan");Be("def_c_light_gray_cyan","c_light_gray_cyan",Ae(65),"def_c_cyan_white");Be("def_c_white_cyan","c_white_cyan",Ae(65).bold(),"def_c_light_cyan_white");Be("def_c_red_cyan","c_red_cyan",Ae(66),"def_c_cyan_red");Be("def_c_light_red_cyan","c_light_red_cyan",Ae(66).bold(),"def_c_light_cyan_red");Be("def_c_green_cyan","c_green_cyan",Ae(67),"def_c_cyan_green");Be("def_c_light_green_cyan","c_light_green_cyan",Ae(67).bold(),"def_c_light_cyan_green");Be("def_c_brown_cyan","c_brown_cyan",Ae(68),"def_c_cyan_yellow");Be("def_c_yellow_cyan","c_yellow_cyan",Ae(68).bold(),"def_c_light_cyan_yellow");Be("def_c_blue_cyan","c_blue_cyan",Ae(69),"def_h_cyan");Be("def_c_light_blue_cyan","c_light_blue_cyan",Ae(69).bold(),"def_h_light_cyan");Be("def_c_magenta_cyan","c_magenta_cyan",Ae(70),"def_c_cyan_magenta");Be("def_c_pink_cyan","c_pink_cyan",Ae(70).bold(),"def_c_light_cyan_magenta");Be("def_c_cyan_cyan","c_cyan_cyan",Ae(71),"def_c_cyan_cyan");Be("def_c_light_cyan_cyan","c_light_cyan_cyan",Ae(71).bold(),"def_c_light_cyan_cyan");function wS(r){let e,n;return{c(){e=p("span"),n=T(r[3]),Rt(e,"font-family","monospace"),ye(e,"class","c_"+r[4]+" svelte-17io91a")},m(t,i){g(t,e,i),m(e,n)},p:de,d(t){t&&h(e)}}}function ES(r){let e,n,t,i=r[1].bg!=null&&lf(r),o=r[1].fg!=null&&of(r);return{c(){e=p("div"),i&&i.c(),n=M(),o&&o.c(),ye(e,"style",t=Kr({width:`${r[2].width*r[2].pixelscale}px`,height:`${r[2].height*r[2].pixelscale}px`})),ye(e,"class","tile-icon svelte-17io91a")},m(l,s){g(l,e,s),i&&i.m(e,null),m(e,n),o&&o.m(e,null)},p(l,s){l[1].bg!=null?i?i.p(l,s):(i=lf(l),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l[1].fg!=null?o?o.p(l,s):(o=of(l),o.c(),o.m(e,null)):o&&(o.d(1),o=null),s&4&&t!==(t=Kr({width:`${l[2].width*l[2].pixelscale}px`,height:`${l[2].height*l[2].pixelscale}px`}))&&ye(e,"style",t)},d(l){l&&h(e),i&&i.d(),o&&o.d()}}}function lf(r){let e,n;return{c(){e=p("div"),ye(e,"class","icon-layer bg svelte-17io91a"),ye(e,"style",n=Kr({width:`${r[1].bg.width}px`,height:`${r[1].bg.height}px`,"background-image":`url(${`${r[0]}/${encodeURIComponent(r[1].bg.file)}`})`,"background-position":`${-r[1].bg.tx*r[1].bg.width}px ${-r[1].bg.ty*r[1].bg.height}px`,transform:`scale(${r[2].pixelscale}) translate(${r[1].bg.offx}px, ${r[1].bg.offy}px)`}))},m(t,i){g(t,e,i)},p(t,i){i&7&&n!==(n=Kr({width:`${t[1].bg.width}px`,height:`${t[1].bg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].bg.file)}`})`,"background-position":`${-t[1].bg.tx*t[1].bg.width}px ${-t[1].bg.ty*t[1].bg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].bg.offx}px, ${t[1].bg.offy}px)`}))&&ye(e,"style",n)},d(t){t&&h(e)}}}function of(r){let e,n;return{c(){e=p("div"),ye(e,"class","icon-layer fg svelte-17io91a"),ye(e,"style",n=Kr({width:`${r[1].fg.width}px`,height:`${r[1].fg.height}px`,"background-image":`url(${`${r[0]}/${encodeURIComponent(r[1].fg.file)}`})`,"background-position":`${-r[1].fg.tx*r[1].fg.width}px ${-r[1].fg.ty*r[1].fg.height}px`,transform:`scale(${r[2].pixelscale}) translate(${r[1].fg.offx}px, ${r[1].fg.offy}px)`}))},m(t,i){g(t,e,i)},p(t,i){i&7&&n!==(n=Kr({width:`${t[1].fg.width}px`,height:`${t[1].fg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].fg.file)}`})`,"background-position":`${-t[1].fg.tx*t[1].fg.width}px ${-t[1].fg.ty*t[1].fg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].fg.offx}px, ${t[1].fg.offy}px)`}))&&ye(e,"style",n)},d(t){t&&h(e)}}}function SS(r){let e;function n(o,l){return o[1]?ES:wS}let t=n(r),i=t(r);return{c(){i.c(),e=ge()},m(o,l){i.m(o,l),g(o,e,l)},p(o,[l]){t===(t=n(o))&&i?i.p(o,l):(i.d(1),i=t(o),i&&(i.c(),i.m(e.parentNode,e)))},i:de,o:de,d(o){i.d(o),o&&h(e)}}}function Og(r){return typeof r=="string"?`i_${r}`:Og(r[0])}function sf(r,e){if(!r||!e)return;let n=0;const t=[];for(const l of r["tiles-new"])t.push({from:n,to:n+l.nx*l.ny,chunk:l}),n+=l.nx*l.ny;function i(l){for(const s of t)if(l>=s.from&&l<s.to)return s}function o(l){var c,d,b,$;if(l==null)return;const s=i(l),a=l-s.from,f=a%s.chunk.nx,u=a/s.chunk.nx|0;return{file:s.chunk.file,width:(c=s.chunk.sprite_width)!=null?c:r.tile_info[0].width,height:(d=s.chunk.sprite_height)!=null?d:r.tile_info[0].height,offx:(b=s.chunk.sprite_offset_x)!=null?b:0,offy:($=s.chunk.sprite_offset_y)!=null?$:0,tx:f,ty:u}}for(const l of r["tiles-new"]){for(const s of l.tiles)if(Array.isArray(s.id)&&s.id.includes(e)||s.id===e){let a=Array.isArray(s.fg)?s.fg[0]:s.fg,f=Array.isArray(s.bg)?s.bg[0]:s.bg;return a&&typeof a=="object"&&(a=a.sprite),f&&typeof f=="object"&&(f=f.sprite),{fg:o(a),bg:o(f)}}n+=l.nx*l.ny}}function Kr(r){let e="";for(const[n,t]of Object.entries(r))e+=`${n}: ${t};`;return e}function TS(r,e,n){var k;let t,i,o,l;bg(r,Cg,w=>n(6,l=w));let{item:s}=e,a=Yt("data");const f=(k=[s.symbol].flat()[0])!=null?k:" ",u=/^LINE_/.test(f)?"|":f,c=s.color?typeof s.color=="string"?s.color:s.color[0]:s.bgcolor?Og(s.bgcolor):null;function d(w){return["item","monster","terrain","furniture","vehicle_part"].includes(hi(w.type))}function b(w,S,C=10){var j,P,U;function I(Q){return S.type==="vehicle_part"?`vp_${Q}`:Q}const A=sf(w,I((j=S.id)!=null?j:S.abstract));if(A)return A;const L=(P=S.looks_like)!=null?P:S["copy-from"];if(!L)return;const F=sf(w,I(L));if(F)return F;if(C>0){const Q=(U=a.byId(hi(S.type),L))!=null?U:a.abstractById(hi(S.type),L);if(Q)return b(w,Q,C-1)}}function $(w,S,C){var j;if(!w)return;const I=[S].flat()[0],A=I?/^LINE_/.test(I)?"|":I:" ",L=is(Array.isArray(C)?C[0]:C).fg;for(const P of w["tiles-new"])for(const U of(j=P.ascii)!=null?j:[])if(F(U.color)+(U.bold?8:0)===L){const re=U.offset+A.charCodeAt(0),D=re%P.nx,G=re/P.nx|0;return{fg:{file:P.file,tx:D,ty:G,width:w.tile_info[0].width,height:w.tile_info[0].height,offx:0,offy:0}}}function F(P){return P==="BLACK"?0:P==="RED"?1:P==="GREEN"?2:P==="YELLOW"?3:P==="BLUE"?4:P==="MAGENTA"?5:P==="CYAN"?6:P==="WHITE"?7:-1}}return r.$$set=w=>{"item"in w&&n(5,s=w.item)},r.$$.update=()=>{var w;r.$$.dirty&64&&n(2,t=l==null?void 0:l.tile_info[0]),r.$$.dirty&96&&n(1,i=d(s)?(w=b(l,s))!=null?w:$(l,s.symbol,s.color):null),r.$$.dirty&64&&n(0,o=l==null?void 0:l.baseUrl)},[o,i,t,u,c,s,l]}class Mt extends wt{constructor(e){super(),kt(this,e,TS,SS,vt,{item:5})}}function CS(r){let e,n,t=r[0].cooldown+"",i,o,l;return e=new Se({props:{type:"item",id:r[0].gun_type}}),{c(){J(e.$$.fragment),n=T(" (cooldown: "),i=T(t),o=T(")")},m(s,a){W(e,s,a),g(s,n,a),g(s,i,a),g(s,o,a),l=!0},p(s,[a]){const f={};a&1&&(f.id=s[0].gun_type),e.$set(f),(!l||a&1)&&t!==(t=s[0].cooldown+"")&&ne(i,t)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){V(e,s),s&&h(n),s&&h(i),s&&h(o)}}}function IS(r,e,n){let{attack:t}=e;return r.$$set=i=>{"attack"in i&&n(0,t=i.attack)},[t]}class OS extends wt{constructor(e){super(),kt(this,e,IS,CS,vt,{attack:0})}}function RS(r){let e=r[0].id+"",n,t,i,o="damage_max_instance"in r[0]&&ff(r),l=r[0].cooldown&&af(r);return{c(){n=T(e),o&&o.c(),t=ge(),l&&l.c(),i=ge()},m(s,a){g(s,n,a),o&&o.m(s,a),g(s,t,a),l&&l.m(s,a),g(s,i,a)},p(s,a){a&1&&e!==(e=s[0].id+"")&&ne(n,e),"damage_max_instance"in s[0]?o?o.p(s,a):(o=ff(s),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),s[0].cooldown?l?l.p(s,a):(l=af(s),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i:de,o:de,d(s){s&&h(n),o&&o.d(s),s&&h(t),l&&l.d(s),s&&h(i)}}}function NS(r){let e,n,t,i;const o=[DS,BS],l=[];function s(a,f){return a[0].type==="gun"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?l[e].p(a,f):(ce(),E(l[u],1,1,()=>{l[u]=null}),_e(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),v(n,1),n.m(t.parentNode,t))},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function AS(r){let e=r[0][0]+"",n,t,i=r[0].length>1&&cf(r);return{c(){n=T(e),i&&i.c(),t=ge()},m(o,l){g(o,n,l),i&&i.m(o,l),g(o,t,l)},p(o,l){l&1&&e!==(e=o[0][0]+"")&&ne(n,e),o[0].length>1?i?i.p(o,l):(i=cf(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:de,o:de,d(o){o&&h(n),i&&i.d(o),o&&h(t)}}}function ff(r){let e,n=Yr(r[0].damage_max_instance).map(_f).join(" ")+"",t;return{c(){e=T(`:
    `),t=T(n)},m(i,o){g(i,e,o),g(i,t,o)},p(i,o){o&1&&n!==(n=Yr(i[0].damage_max_instance).map(_f).join(" ")+"")&&ne(t,n)},d(i){i&&h(e),i&&h(t)}}}function af(r){let e=" ",n,t,i=r[0].cooldown+"",o,l;return{c(){n=T(e),t=T("(cooldown: "),o=T(i),l=T(")")},m(s,a){g(s,n,a),g(s,t,a),g(s,o,a),g(s,l,a)},p(s,a){a&1&&i!==(i=s[0].cooldown+"")&&ne(o,i)},d(s){s&&h(n),s&&h(t),s&&h(o),s&&h(l)}}}function BS(r){let e=r[0].type+"",n,t,i=r[0].cooldown&&uf(r);return{c(){n=T(e),i&&i.c(),t=ge()},m(o,l){g(o,n,l),i&&i.m(o,l),g(o,t,l)},p(o,l){l&1&&e!==(e=o[0].type+"")&&ne(n,e),o[0].cooldown?i?i.p(o,l):(i=uf(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:de,o:de,d(o){o&&h(n),i&&i.d(o),o&&h(t)}}}function DS(r){let e,n;return e=new OS({props:{attack:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.attack=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function uf(r){let e=" ",n,t,i=r[0].cooldown+"",o,l;return{c(){n=T(e),t=T("(cooldown: "),o=T(i),l=T(")")},m(s,a){g(s,n,a),g(s,t,a),g(s,o,a),g(s,l,a)},p(s,a){a&1&&i!==(i=s[0].cooldown+"")&&ne(o,i)},d(s){s&&h(n),s&&h(t),s&&h(o),s&&h(l)}}}function cf(r){let e=" ",n,t,i=r[0][1]+"",o,l;return{c(){n=T(e),t=T("(cooldown: "),o=T(i),l=T(")")},m(s,a){g(s,n,a),g(s,t,a),g(s,o,a),g(s,l,a)},p(s,a){a&1&&i!==(i=s[0][1]+"")&&ne(o,i)},d(s){s&&h(n),s&&h(t),s&&h(o),s&&h(l)}}}function MS(r){let e,n,t,i,o;const l=[AS,NS,RS],s=[];function a(f,u){return u&1&&(e=null),e==null&&(e=!!Array.isArray(f[0])),e?0:"type"in f[0]?1:"id"in f[0]?2:-1}return~(n=a(r,-1))&&(t=s[n]=l[n](r)),{c(){t&&t.c(),i=ge()},m(f,u){~n&&s[n].m(f,u),g(f,i,u),o=!0},p(f,[u]){let c=n;n=a(f,u),n===c?~n&&s[n].p(f,u):(t&&(ce(),E(s[c],1,1,()=>{s[c]=null}),_e()),~n?(t=s[n],t?t.p(f,u):(t=s[n]=l[n](f),t.c()),v(t,1),t.m(i.parentNode,i)):t=null)},i(f){o||(v(t),o=!0)},o(f){E(t),o=!1},d(f){~n&&s[n].d(f),f&&h(i)}}}const _f=r=>`(${r.damage_type} for ${r.amount} damage)`;function LS(r,e,n){let{special_attack:t}=e;return r.$$set=i=>{"special_attack"in i&&n(0,t=i.special_attack)},[t]}class FS extends wt{constructor(e){super(),kt(this,e,LS,MS,vt,{special_attack:0})}}function df(r,e,n){const t=r.slice();return t[8]=e[n],t}const PS=r=>({item:r&3}),mf=r=>({item:r[8]});function pf(r){let e,n;const t=r[5].default,i=vg(t,r,r[4],mf);return{c(){e=p("li"),i&&i.c()},m(o,l){g(o,e,l),i&&i.m(e,null),n=!0},p(o,l){i&&i.p&&(!n||l&19)&&kg(i,t,o,o[4],n?yg(t,o[4],l,PS):wg(o[4]),mf)},i(o){n||(v(i,o),n=!0)},o(o){E(i,o),n=!1},d(o){o&&h(e),i&&i.d(o)}}}function hf(r){let e,n,t=Number(r[0].length).toLocaleString()+"",i,o,l,s;return{c(){e=p("button"),n=T("See all "),i=T(t),o=T("..."),ye(e,"class","disclosure")},m(a,f){g(a,e,f),m(e,n),m(e,i),m(e,o),l||(s=Oi(e,"click",r[6]),l=!0)},p(a,f){f&1&&t!==(t=Number(a[0].length).toLocaleString()+"")&&ne(i,t)},d(a){a&&h(e),l=!1,s()}}}function jS(r){let e,n,t,i,o=r[0].slice(0,r[1]),l=[];for(let f=0;f<o.length;f+=1)l[f]=pf(df(r,o,f));const s=f=>E(l[f],1,1,()=>{l[f]=null});let a=r[0].length>r[1]&&hf(r);return{c(){e=p("ul");for(let f=0;f<l.length;f+=1)l[f].c();n=M(),a&&a.c(),t=ge()},m(f,u){g(f,e,u);for(let c=0;c<l.length;c+=1)l[c].m(e,null);g(f,n,u),a&&a.m(f,u),g(f,t,u),i=!0},p(f,[u]){if(u&19){o=f[0].slice(0,f[1]);let c;for(c=0;c<o.length;c+=1){const d=df(f,o,c);l[c]?(l[c].p(d,u),v(l[c],1)):(l[c]=pf(d),l[c].c(),v(l[c],1),l[c].m(e,null))}for(ce(),c=o.length;c<l.length;c+=1)s(c);_e()}f[0].length>f[1]?a?a.p(f,u):(a=hf(f),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(f){if(!i){for(let u=0;u<o.length;u+=1)v(l[u]);i=!0}},o(f){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)E(l[u]);i=!1},d(f){f&&h(e),Ce(l,f),f&&h(n),a&&a.d(f),f&&h(t)}}}function US(r,e,n){let{$$slots:t={},$$scope:i}=e,{items:o}=e,{limit:l=10}=e,{grace:s=4}=e,f=typeof globalThis!==void 0&&(globalThis==null?void 0:globalThis.__isTesting__)?1/0:o.length<=l+s?l+s:l;const u=c=>{c.preventDefault(),n(1,f=1/0)};return r.$$set=c=>{"items"in c&&n(0,o=c.items),"limit"in c&&n(2,l=c.limit),"grace"in c&&n(3,s=c.grace),"$$scope"in c&&n(4,i=c.$$scope)},[o,f,l,s,i,t,u]}class xt extends wt{constructor(e){super(),kt(this,e,US,jS,vt,{items:0,limit:2,grace:3})}}function gf(r,e,n){const t=r.slice();return t[10]=e[n],t}function bf(r,e,n){const t=r.slice();return t[13]=e[n].id,t[14]=e[n].prob,t}function vf(r,e,n){const t=r.slice();return t[10]=e[n],t}function $f(r,e,n){const t=r.slice();return t[13]=e[n].id,t[14]=e[n].prob,t}function yf(r,e,n){const t=r.slice();return t[21]=e[n],t}function kf(r,e,n){const t=r.slice();return t[24]=e[n],t}function wf(r,e,n){const t=r.slice();return t[27]=e[n],t}function Ef(r,e,n){const t=r.slice();return t[27]=e[n],t}function Sf(r,e,n){const t=r.slice();return t[27]=e[n],t}function Tf(r,e,n){const t=r.slice();return t[34]=e[n],t}function Cf(r,e,n){const t=r.slice();return t[13]=e[n],t}function If(r){let e,n,t=r[0].bodytype+"",i;return{c(){e=p("dt"),e.textContent="Body Type",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].bodytype+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Of(r){var o;let e,n,t=((o=r[0].species)!=null?o:[]).join(", ")+"",i;return{c(){e=p("dt"),e.textContent="Species",n=p("dd"),i=T(t)},m(l,s){g(l,e,s),g(l,n,s),m(n,i)},p(l,s){var a;s[0]&1&&t!==(t=((a=l[0].species)!=null?a:[]).join(", ")+"")&&ne(i,t)},d(l){l&&h(e),l&&h(n)}}}function qS(r){let e,n,t,i,o,l=r[5],s=[];for(let f=0;f<l.length;f+=1)s[f]=Rf(Cf(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Material",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&32){l=f[5];let c;for(c=0;c<l.length;c+=1){const d=Cf(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Rf(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Rf(r){let e,n,t;return n=new Se({props:{type:"material",id:r[13]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Nf(r){let e,n,t,i,o=r[0].special_attacks,l=[];for(let a=0;a<o.length;a+=1)l[a]=Af(Tf(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Special Attacks",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();ye(t,"class","no-bullets")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f[0]&3){o=a[0].special_attacks;let u;for(u=0;u<o.length;u+=1){const c=Tf(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=Af(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function GS(r){let e,n;return e=new FS({props:{special_attack:r[34]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.special_attack=t[34]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function YS(r){let e,n;return e=new Se({props:{type:"monster_attack",id:r[34][0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.id=t[34][0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Af(r){let e,n,t,i,o,l;const s=[YS,GS],a=[];function f(u,c){return c[0]&1&&(n=null),n==null&&(n=!!(u[34][0]&&u[1].byId("monster_attack",u[34][0]))),n?0:1}return t=f(r,[-1,-1]),i=a[t]=s[t](r),{c(){e=p("li"),i.c(),o=M()},m(u,c){g(u,e,c),a[t].m(e,null),m(e,o),l=!0},p(u,c){let d=t;t=f(u,c),t===d?a[t].p(u,c):(ce(),E(a[d],1,1,()=>{a[d]=null}),_e(),i=a[t],i?i.p(u,c):(i=a[t]=s[t](u),i.c()),v(i,1),i.m(e,o))},i(u){l||(v(i),l=!0)},o(u){E(i),l=!1},d(u){u&&h(e),a[t].d()}}}function Bf(r){let e,n,t=r[0].regenerates+"",i,o;return{c(){e=p("dt"),e.textContent="Regenerates",n=p("dd"),i=T(t),o=T(" hp/turn")},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p(l,s){s[0]&1&&t!==(t=l[0].regenerates+"")&&ne(i,t)},d(l){l&&h(e),l&&h(n)}}}function Df(r){let e,n,t=r[0].special_when_hit[0]+"",i,o,l=r[0].special_when_hit[1]+"",s,a;return{c(){e=p("dt"),e.textContent="When Hit",n=p("dd"),i=T(t),o=T(" ("),s=T(l),a=T("%)")},m(f,u){g(f,e,u),g(f,n,u),m(n,i),m(n,o),m(n,s),m(n,a)},p(f,u){u[0]&1&&t!==(t=f[0].special_when_hit[0]+"")&&ne(i,t),u[0]&1&&l!==(l=f[0].special_when_hit[1]+"")&&ne(s,l)},d(f){f&&h(e),f&&h(n)}}}function Mf(r){let e,n,t,i,o=r[0].anger_triggers,l=[];for(let s=0;s<o.length;s+=1)l[s]=Lf(Sf(r,o,s));return{c(){e=p("dt"),e.textContent="Anger Triggers",n=p("dd"),t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=M(),ye(t,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),m(n,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null);m(n,i)},p(s,a){if(a[0]&17){o=s[0].anger_triggers;let f;for(f=0;f<o.length;f+=1){const u=Sf(s,o,f);l[f]?l[f].p(u,a):(l[f]=Lf(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),Ce(l,s)}}}function Lf(r){let e,n,t=r[27]+"",i,o;return{c(){e=p("li"),n=p("abbr"),i=T(t),ye(n,"title",o=r[4][r[27]])},m(l,s){g(l,e,s),m(e,n),m(n,i)},p(l,s){s[0]&1&&t!==(t=l[27]+"")&&ne(i,t),s[0]&1&&o!==(o=l[4][l[27]])&&ye(n,"title",o)},d(l){l&&h(e)}}}function Ff(r){let e,n,t,i,o=r[0].placate_triggers,l=[];for(let s=0;s<o.length;s+=1)l[s]=Pf(Ef(r,o,s));return{c(){e=p("dt"),e.textContent="Placate Triggers",n=p("dd"),t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=M(),ye(t,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),m(n,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null);m(n,i)},p(s,a){if(a[0]&17){o=s[0].placate_triggers;let f;for(f=0;f<o.length;f+=1){const u=Ef(s,o,f);l[f]?l[f].p(u,a):(l[f]=Pf(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),Ce(l,s)}}}function Pf(r){let e,n,t=r[27]+"",i,o;return{c(){e=p("li"),n=p("abbr"),i=T(t),ye(n,"title",o=r[4][r[27]])},m(l,s){g(l,e,s),m(e,n),m(n,i)},p(l,s){s[0]&1&&t!==(t=l[27]+"")&&ne(i,t),s[0]&1&&o!==(o=l[4][l[27]])&&ye(n,"title",o)},d(l){l&&h(e)}}}function jf(r){let e,n,t,i,o=r[0].fear_triggers,l=[];for(let s=0;s<o.length;s+=1)l[s]=Uf(wf(r,o,s));return{c(){e=p("dt"),e.textContent="Fear Triggers",n=p("dd"),t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=M(),ye(t,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),m(n,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null);m(n,i)},p(s,a){if(a[0]&17){o=s[0].fear_triggers;let f;for(f=0;f<o.length;f+=1){const u=wf(s,o,f);l[f]?l[f].p(u,a):(l[f]=Uf(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),Ce(l,s)}}}function Uf(r){let e,n,t=r[27]+"",i,o;return{c(){e=p("li"),n=p("abbr"),i=T(t),ye(n,"title",o=r[4][r[27]])},m(l,s){g(l,e,s),m(e,n),m(n,i)},p(l,s){s[0]&1&&t!==(t=l[27]+"")&&ne(i,t),s[0]&1&&o!==(o=l[4][l[27]])&&ye(n,"title",o)},d(l){l&&h(e)}}}function qf(r){var s;let e,n,t,i,o=(s=r[0].flags)!=null?s:[],l=[];for(let a=0;a<o.length;a+=1)l[a]=Gf(kf(r,o,a));return{c(){e=p("dt"),e.textContent="Flags",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();i=M(),ye(t,"class","comma-separated")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);m(n,i)},p(a,f){var u;if(f[0]&9){o=(u=a[0].flags)!=null?u:[];let c;for(c=0;c<o.length;c+=1){const d=kf(a,o,c);l[c]?l[c].p(d,f):(l[c]=Gf(d),l[c].c(),l[c].m(t,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=o.length}},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function Gf(r){let e,n,t=r[24]+"",i,o;return{c(){e=p("li"),n=p("abbr"),i=T(t),ye(n,"title",o=r[3][r[24]])},m(l,s){g(l,e,s),m(e,n),m(n,i)},p(l,s){s[0]&1&&t!==(t=l[24]+"")&&ne(i,t),s[0]&1&&o!==(o=l[3][l[24]])&&ye(n,"title",o)},d(l){l&&h(e)}}}function Yf(r){let e,n,t,i;function o(a,f){var u;return f[0]&1&&(t=null),t==null&&(t=!!(((u=a[0].death_function.effect)==null?void 0:u.id)&&a[1].byId("SPELL",a[0].death_function.effect.id))),t?zS:HS}let l=o(r,[-1,-1]),s=l(r);return{c(){e=p("dt"),e.textContent="On Death",n=p("dd"),s.c(),i=M()},m(a,f){g(a,e,f),g(a,n,f),s.m(n,null),m(n,i)},p(a,f){l===(l=o(a,f))&&s?s.p(a,f):(s.d(1),s=l(a),s&&(s.c(),s.m(n,i)))},d(a){a&&h(e),a&&h(n),s.d()}}}function HS(r){var t,i,o;let e=((o=(i=(t=r[0].death_function.effect)==null?void 0:t.id)!=null?i:r[0].death_function.corpse_type)!=null?o:"NORMAL")+"",n;return{c(){n=T(e)},m(l,s){g(l,n,s)},p(l,s){var a,f,u;s[0]&1&&e!==(e=((u=(f=(a=l[0].death_function.effect)==null?void 0:a.id)!=null?f:l[0].death_function.corpse_type)!=null?u:"NORMAL")+"")&&ne(n,e)},d(l){l&&h(n)}}}function zS(r){let e=Fe(r[1].byId("SPELL",r[0].death_function.effect.id))+"",n,t,i=qn(r[1].byId("SPELL",r[0].death_function.effect.id).description)+"",o,l;return{c(){n=T(e),t=T(" ("),o=T(i),l=T(")")},m(s,a){g(s,n,a),g(s,t,a),g(s,o,a),g(s,l,a)},p(s,a){a[0]&1&&e!==(e=Fe(s[1].byId("SPELL",s[0].death_function.effect.id))+"")&&ne(n,e),a[0]&1&&i!==(i=qn(s[1].byId("SPELL",s[0].death_function.effect.id).description)+"")&&ne(o,i)},d(s){s&&h(n),s&&h(t),s&&h(o),s&&h(l)}}}function WS(r){let e,n,t,i,o,l=r[9].monsters,s=[];for(let d=0;d<l.length;d+=1)s[d]=Hf(yf(r,l,d));const a=d=>E(s[d],1,1,()=>{s[d]=null});function f(d,b){if(d[9].age_grow)return JS;if(d[9].half_life)return VS}let u=f(r),c=u&&u(r);return{c(){e=p("dt"),e.textContent="Upgrades Into",n=p("dd"),t=p("ul");for(let d=0;d<s.length;d+=1)s[d].c();i=M(),c&&c.c(),ye(t,"class","comma-separated or")},m(d,b){g(d,e,b),g(d,n,b),m(n,t);for(let $=0;$<s.length;$+=1)s[$].m(t,null);m(n,i),c&&c.m(n,null),o=!0},p(d,b){if(b[0]&512){l=d[9].monsters;let $;for($=0;$<l.length;$+=1){const k=yf(d,l,$);s[$]?(s[$].p(k,b),v(s[$],1)):(s[$]=Hf(k),s[$].c(),v(s[$],1),s[$].m(t,null))}for(ce(),$=l.length;$<s.length;$+=1)a($);_e()}c&&c.p(d,b)},i(d){if(!o){for(let b=0;b<l.length;b+=1)v(s[b]);o=!0}},o(d){s=s.filter(Boolean);for(let b=0;b<s.length;b+=1)E(s[b]);o=!1},d(d){d&&h(e),d&&h(n),Ce(s,d),c&&c.d()}}}function Hf(r){let e,n,t;return n=new Se({props:{type:"monster",id:r[21]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function VS(r){let e,n=r[9].half_life+"",t,i,o,l=r[9].half_life!==1&&XS();return{c(){e=T("with a half-life of "),t=T(n),i=T(" day"),l&&l.c(),o=ge()},m(s,a){g(s,e,a),g(s,t,a),g(s,i,a),l&&l.m(s,a),g(s,o,a)},p:de,d(s){s&&h(e),s&&h(t),s&&h(i),l&&l.d(s),s&&h(o)}}}function JS(r){let e,n=r[9].age_grow+"",t,i,o,l=r[9].age_grow!==1&&KS();return{c(){e=T("in "),t=T(n),i=T(" day"),l&&l.c(),o=ge()},m(s,a){g(s,e,a),g(s,t,a),g(s,i,a),l&&l.m(s,a),g(s,o,a)},p:de,d(s){s&&h(e),s&&h(t),s&&h(i),l&&l.d(s),s&&h(o)}}}function XS(r){let e;return{c(){e=T("s")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function KS(r){let e;return{c(){e=T("s")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function ZS(r){let e,n,t,i,o;return i=new xt({props:{items:r[6],$$slots:{default:[QS,({item:l})=>({0:l}),({item:l})=>[l?1:0]]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Drops",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s[0]&1|s[1]&256&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function QS(r){let e,n,t,i,o=Zf(r[0].prob)+"",l,s,a;return e=new Mt({props:{item:r[1].byId("item",r[0].id)}}),t=new Se({props:{type:"item",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment),i=T(" ("),l=T(o),s=T(")")},m(f,u){W(e,f,u),g(f,n,u),W(t,f,u),g(f,i,u),g(f,l,u),g(f,s,u),a=!0},p(f,u){const c={};u[0]&1&&(c.item=f[1].byId("item",f[0].id)),e.$set(c);const d={};u[0]&1&&(d.id=f[0].id),t.$set(d),(!a||u[0]&1)&&o!==(o=Zf(f[0].prob)+"")&&ne(l,o)},i(f){a||(v(e.$$.fragment,f),v(t.$$.fragment,f),a=!0)},o(f){E(e.$$.fragment,f),E(t.$$.fragment,f),a=!1},d(f){V(e,f),f&&h(n),V(t,f),f&&h(i),f&&h(l),f&&h(s)}}}function xS(r){let e,n,t,i,o,l=r[7].entries,s=[];for(let f=0;f<l.length;f+=1)s[f]=Wf(vf(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Butchering Results",t=M(),i=p("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),m(e,n),m(e,t),m(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u[0]&130){l=f[7].entries;let c;for(c=0;c<l.length;c+=1){const d=vf(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Wf(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),Ce(s,f)}}}function eT(r){let e,n,t,i,o,l;return n=new Mt({props:{item:r[1].byId("item",r[10].drop)}}),i=new Se({props:{type:"item",id:r[10].drop}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment),o=M()},m(s,a){g(s,e,a),W(n,e,null),m(e,t),W(i,e,null),m(e,o),l=!0},p:de,i(s){l||(v(n.$$.fragment,s),v(i.$$.fragment,s),l=!0)},o(s){E(n.$$.fragment,s),E(i.$$.fragment,s),l=!1},d(s){s&&h(e),V(n),V(i)}}}function tT(r){let e,n,t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop)),i=[];for(let l=0;l<t.length;l+=1)i[l]=zf($f(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ge()},m(l,s){for(let a=0;a<i.length;a+=1)i[a].m(l,s);g(l,e,s),n=!0},p(l,s){if(s[0]&130){t=l[1].flattenItemGroup(l[1].byId("item_group",l[10].drop));let a;for(a=0;a<t.length;a+=1){const f=$f(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=zf(f),i[a].c(),v(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){Ce(i,l),l&&h(e)}}}function zf(r){let e,n,t,i,o,l=(r[14]*100).toFixed(2)+"",s,a,f;return n=new Mt({props:{item:r[1].byId("item",r[13])}}),i=new Se({props:{type:"item",id:r[13]}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment),o=T(" ("),s=T(l),a=T(`%)
            `)},m(u,c){g(u,e,c),W(n,e,null),m(e,t),W(i,e,null),m(e,o),m(e,s),m(e,a),f=!0},p:de,i(u){f||(v(n.$$.fragment,u),v(i.$$.fragment,u),f=!0)},o(u){E(n.$$.fragment,u),E(i.$$.fragment,u),f=!1},d(u){u&&h(e),V(n),V(i)}}}function Wf(r){let e,n,t,i;const o=[tT,eT],l=[];function s(a,f){var u;return((u=a[1].byId("harvest_drop_type",a[10].type))==null?void 0:u.group)||a[10].type==="bionic_group"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function nT(r){let e,n,t,i,o,l=r[8].entries,s=[];for(let f=0;f<l.length;f+=1)s[f]=Jf(gf(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Dissection Results",t=M(),i=p("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),m(e,n),m(e,t),m(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u[0]&258){l=f[8].entries;let c;for(c=0;c<l.length;c+=1){const d=gf(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Jf(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),Ce(s,f)}}}function iT(r){let e,n,t,i,o,l;return n=new Mt({props:{item:r[1].byId("item",r[10].drop)}}),i=new Se({props:{type:"item",id:r[10].drop}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment),o=M()},m(s,a){g(s,e,a),W(n,e,null),m(e,t),W(i,e,null),m(e,o),l=!0},p:de,i(s){l||(v(n.$$.fragment,s),v(i.$$.fragment,s),l=!0)},o(s){E(n.$$.fragment,s),E(i.$$.fragment,s),l=!1},d(s){s&&h(e),V(n),V(i)}}}function rT(r){let e,n,t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop)),i=[];for(let l=0;l<t.length;l+=1)i[l]=Vf(bf(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ge()},m(l,s){for(let a=0;a<i.length;a+=1)i[a].m(l,s);g(l,e,s),n=!0},p(l,s){if(s[0]&258){t=l[1].flattenItemGroup(l[1].byId("item_group",l[10].drop));let a;for(a=0;a<t.length;a+=1){const f=bf(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=Vf(f),i[a].c(),v(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){Ce(i,l),l&&h(e)}}}function Vf(r){let e,n,t,i,o,l=(r[14]*100).toFixed(2)+"",s,a,f;return n=new Mt({props:{item:r[1].byId("item",r[13])}}),i=new Se({props:{type:"item",id:r[13]}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment),o=T(" ("),s=T(l),a=T(`%)
            `)},m(u,c){g(u,e,c),W(n,e,null),m(e,t),W(i,e,null),m(e,o),m(e,s),m(e,a),f=!0},p:de,i(u){f||(v(n.$$.fragment,u),v(i.$$.fragment,u),f=!0)},o(u){E(n.$$.fragment,u),E(i.$$.fragment,u),f=!1},d(u){u&&h(e),V(n),V(i)}}}function Jf(r){let e,n,t,i;const o=[rT,iT],l=[];function s(a,f){var u;return((u=a[1].byId("harvest_drop_type",a[10].type))==null?void 0:u.group)||a[10].type==="bionic_group"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function lT(r){var Qi,xi,er,tr,nr,ir,rr,lr,or,sr,fr,ar,ur,cr,_r,dr,mr,pr,hr,gr,br,vr;let e,n,t,i=Fe(r[0])+"",o,l,s,a,f,u,c,d=Ki(r[0].volume)+"",b,$,k,w=Xr(r[0].weight)+"",S,C,I,A=jr(r[0])+"",L,F,j,P,U=Xf(jr(r[0]))+"",Q,re,D,G,Z,z=r[0].description+"",X,Y,ee,pe,ie,H,K,se,x,oe=((Qi=r[0].speed)!=null?Qi:0)+"",$e,He,Me,be=((xi=r[0].melee_skill)!=null?xi:0)+"",Ee,Ie,we,nt=r[2](r[0])+"",Ge,Oe,Ne,Ot,ke,Pe,mt,We,xe=r[0].hp+"",qe,Le,Ze,rt=((er=r[0].dodge)!=null?er:0)+"",lt,Ve,ve,le,fe,ae,Ye=((tr=r[0].armor_bash)!=null?tr:0)+"",_t,dt,ht,St=((nr=r[0].armor_cut)!=null?nr:0)+"",It,Tt,it,ze=((rr=r[0].armor_stab)!=null?rr:Math.floor(((ir=r[0].armor_cut)!=null?ir:0)*.8))+"",Je,De,et,bt=((lr=r[0].armor_bullet)!=null?lr:0)+"",Dt,gt,Ht,Bt=((sr=r[0].armor_acid)!=null?sr:Math.floor(((or=r[0].armor_cut)!=null?or:0)*.5))+"",Wt,sn,Pt,Zt=((fr=r[0].armor_fire)!=null?fr:0)+"",en,$n,Gt,di,on,Cn,Re,In,tn,Xt=((ar=r[0].aggression)!=null?ar:0)+"",yt,fn,rn,Jt=((ur=r[0].morale)!=null?ur:0)+"",Kt,gn,bn,yn=((cr=r[0].vision_day)!=null?cr:40)+"",Sn,On,kn=((_r=r[0].vision_night)!=null?_r:1)+"",Hn,Ai,bi,he,tt=r[0].default_faction+"",si,vi,$i,yi,ki,wi,Ei,Si,Ti,Ci,an;n=new Mt({props:{item:r[0]}});let Ln=r[0].bodytype&&If(r),Fn=r[0].species&&r[0].species.length&&Of(r),Xn=r[5].length&&qS(r),Rn=r[0].special_attacks&&Nf(r),Pn=r[0].regenerates&&Bf(r),jn=r[0].special_when_hit&&Df(r),un=((dr=r[0].anger_triggers)==null?void 0:dr.length)&&Mf(r),Un=((mr=r[0].placate_triggers)==null?void 0:mr.length)&&Ff(r),Te=((pr=r[0].fear_triggers)==null?void 0:pr.length)&&jf(r),st=((hr=r[0].flags)==null?void 0:hr.length)&&qf(r),_n=r[0].death_function&&Yf(r),ui=r[9]&&WS(r),fi=((gr=r[6])==null?void 0:gr.length)&&ZS(r),ci=r[7]&&((br=r[7].entries)!=null?br:[]).length&&xS(r),_i=r[8]&&((vr=r[8].entries)!=null?vr:[]).length&&nT(r);return{c(){e=p("h1"),J(n.$$.fragment),t=M(),o=T(i),l=M(),s=p("section"),a=p("dl"),Ln&&Ln.c(),f=ge(),Fn&&Fn.c(),u=p("dt"),u.textContent="Volume",c=p("dd"),b=T(d),$=p("dt"),$.textContent="Weight",k=p("dd"),S=T(w),Xn&&Xn.c(),C=p("dt"),C.textContent="Difficulty",I=p("dd"),L=T(A),F=M(),j=p("span"),P=T("("),Q=T(U),re=T(")"),G=M(),Z=p("p"),X=T(z),Y=M(),ee=p("div"),pe=p("section"),ie=p("h1"),ie.textContent="Attack",H=M(),K=p("dl"),se=p("dt"),se.textContent="Speed",x=p("dd"),$e=T(oe),He=p("dt"),He.textContent="Melee Skill",Me=p("dd"),Ee=T(be),Ie=p("dt"),Ie.textContent="Damage",we=p("dd"),Ge=T(nt),Rn&&Rn.c(),Oe=M(),Ne=p("section"),Ot=p("h1"),Ot.textContent="Defense",ke=M(),Pe=p("dl"),mt=p("dt"),mt.textContent="HP",We=p("dd"),qe=T(xe),Pn&&Pn.c(),Le=p("dt"),Le.textContent="Dodge",Ze=p("dd"),lt=T(rt),Ve=p("dt"),Ve.textContent="Armor",ve=p("dd"),le=p("dl"),fe=p("dt"),fe.textContent="Bash",ae=p("dd"),_t=T(Ye),dt=p("dt"),dt.textContent="Cut",ht=p("dd"),It=T(St),Tt=p("dt"),Tt.textContent="Stab",it=p("dd"),Je=T(ze),De=p("dt"),De.textContent="Bullet",et=p("dd"),Dt=T(bt),gt=p("dt"),gt.textContent="Acid",Ht=p("dd"),Wt=T(Bt),sn=p("dt"),sn.textContent="Fire",Pt=p("dd"),en=T(Zt),$n=M(),jn&&jn.c(),Gt=M(),di=p("section"),on=p("h1"),on.textContent="Behavior",Cn=M(),Re=p("dl"),In=p("dt"),In.textContent=`Aggression
    `,tn=p("dd"),yt=T(Xt),fn=p("dt"),fn.textContent="Morale",rn=p("dd"),Kt=T(Jt),gn=p("dt"),gn.textContent="Vision Range",bn=p("dd"),Sn=T(yn),On=T(" (day) / "),Hn=T(kn),Ai=T(" (night)"),bi=p("dt"),bi.textContent="Default Faction",he=p("dd"),si=T(tt),un&&un.c(),vi=ge(),Un&&Un.c(),$i=ge(),Te&&Te.c(),yi=ge(),st&&st.c(),ki=ge(),_n&&_n.c(),wi=ge(),ui&&ui.c(),Ei=M(),fi&&fi.c(),Si=M(),ci&&ci.c(),Ti=M(),_i&&_i.c(),Ci=ge(),ye(j,"class",D="c_"+Kf(jr(r[0]))+" fg_only"),Rt(Z,"color","var(--cata-color-gray)"),Rt(Pe,"flex","1"),ye(ee,"class","side-by-side"),ye(In,"title","Monsters with high aggression are more likely to be hostile. Ranges from -100 to 100"),ye(fn,"title","Morale at spawn. Monsters with low morale will flee.")},m(Qe,At){g(Qe,e,At),W(n,e,null),m(e,t),m(e,o),g(Qe,l,At),g(Qe,s,At),m(s,a),Ln&&Ln.m(a,null),m(a,f),Fn&&Fn.m(a,null),m(a,u),m(a,c),m(c,b),m(a,$),m(a,k),m(k,S),Xn&&Xn.m(a,null),m(a,C),m(a,I),m(I,L),m(I,F),m(I,j),m(j,P),m(j,Q),m(j,re),m(s,G),m(s,Z),m(Z,X),g(Qe,Y,At),g(Qe,ee,At),m(ee,pe),m(pe,ie),m(pe,H),m(pe,K),m(K,se),m(K,x),m(x,$e),m(K,He),m(K,Me),m(Me,Ee),m(K,Ie),m(K,we),m(we,Ge),Rn&&Rn.m(K,null),m(ee,Oe),m(ee,Ne),m(Ne,Ot),m(Ne,ke),m(Ne,Pe),m(Pe,mt),m(Pe,We),m(We,qe),Pn&&Pn.m(Pe,null),m(Pe,Le),m(Pe,Ze),m(Ze,lt),m(Pe,Ve),m(Pe,ve),m(ve,le),m(le,fe),m(le,ae),m(ae,_t),m(le,dt),m(le,ht),m(ht,It),m(le,Tt),m(le,it),m(it,Je),m(le,De),m(le,et),m(et,Dt),m(le,gt),m(le,Ht),m(Ht,Wt),m(le,sn),m(le,Pt),m(Pt,en),m(ve,$n),jn&&jn.m(Pe,null),g(Qe,Gt,At),g(Qe,di,At),m(di,on),m(di,Cn),m(di,Re),m(Re,In),m(Re,tn),m(tn,yt),m(Re,fn),m(Re,rn),m(rn,Kt),m(Re,gn),m(Re,bn),m(bn,Sn),m(bn,On),m(bn,Hn),m(bn,Ai),m(Re,bi),m(Re,he),m(he,si),un&&un.m(Re,null),m(Re,vi),Un&&Un.m(Re,null),m(Re,$i),Te&&Te.m(Re,null),m(Re,yi),st&&st.m(Re,null),m(Re,ki),_n&&_n.m(Re,null),m(Re,wi),ui&&ui.m(Re,null),g(Qe,Ei,At),fi&&fi.m(Qe,At),g(Qe,Si,At),ci&&ci.m(Qe,At),g(Qe,Ti,At),_i&&_i.m(Qe,At),g(Qe,Ci,At),an=!0},p(Qe,At){var yr,kr,wr,jt,mi,Sl,Tl,Cl,Il,Ol,Rl,Nl,Al,Bl,Dl,Ml,Ll,Fl,Pl,jl,Ul,ql;const $r={};At[0]&1&&($r.item=Qe[0]),n.$set($r),(!an||At[0]&1)&&i!==(i=Fe(Qe[0])+"")&&ne(o,i),Qe[0].bodytype?Ln?Ln.p(Qe,At):(Ln=If(Qe),Ln.c(),Ln.m(a,f)):Ln&&(Ln.d(1),Ln=null),Qe[0].species&&Qe[0].species.length?Fn?Fn.p(Qe,At):(Fn=Of(Qe),Fn.c(),Fn.m(a,u)):Fn&&(Fn.d(1),Fn=null),(!an||At[0]&1)&&d!==(d=Ki(Qe[0].volume)+"")&&ne(b,d),(!an||At[0]&1)&&w!==(w=Xr(Qe[0].weight)+"")&&ne(S,w),Qe[5].length&&Xn.p(Qe,At),(!an||At[0]&1)&&A!==(A=jr(Qe[0])+"")&&ne(L,A),(!an||At[0]&1)&&U!==(U=Xf(jr(Qe[0]))+"")&&ne(Q,U),(!an||At[0]&1&&D!==(D="c_"+Kf(jr(Qe[0]))+" fg_only"))&&ye(j,"class",D),(!an||At[0]&1)&&z!==(z=Qe[0].description+"")&&ne(X,z),(!an||At[0]&1)&&oe!==(oe=((yr=Qe[0].speed)!=null?yr:0)+"")&&ne($e,oe),(!an||At[0]&1)&&be!==(be=((kr=Qe[0].melee_skill)!=null?kr:0)+"")&&ne(Ee,be),(!an||At[0]&1)&&nt!==(nt=Qe[2](Qe[0])+"")&&ne(Ge,nt),Qe[0].special_attacks?Rn?(Rn.p(Qe,At),At[0]&1&&v(Rn,1)):(Rn=Nf(Qe),Rn.c(),v(Rn,1),Rn.m(K,null)):Rn&&(ce(),E(Rn,1,1,()=>{Rn=null}),_e()),(!an||At[0]&1)&&xe!==(xe=Qe[0].hp+"")&&ne(qe,xe),Qe[0].regenerates?Pn?Pn.p(Qe,At):(Pn=Bf(Qe),Pn.c(),Pn.m(Pe,Le)):Pn&&(Pn.d(1),Pn=null),(!an||At[0]&1)&&rt!==(rt=((wr=Qe[0].dodge)!=null?wr:0)+"")&&ne(lt,rt),(!an||At[0]&1)&&Ye!==(Ye=((jt=Qe[0].armor_bash)!=null?jt:0)+"")&&ne(_t,Ye),(!an||At[0]&1)&&St!==(St=((mi=Qe[0].armor_cut)!=null?mi:0)+"")&&ne(It,St),(!an||At[0]&1)&&ze!==(ze=((Tl=Qe[0].armor_stab)!=null?Tl:Math.floor(((Sl=Qe[0].armor_cut)!=null?Sl:0)*.8))+"")&&ne(Je,ze),(!an||At[0]&1)&&bt!==(bt=((Cl=Qe[0].armor_bullet)!=null?Cl:0)+"")&&ne(Dt,bt),(!an||At[0]&1)&&Bt!==(Bt=((Ol=Qe[0].armor_acid)!=null?Ol:Math.floor(((Il=Qe[0].armor_cut)!=null?Il:0)*.5))+"")&&ne(Wt,Bt),(!an||At[0]&1)&&Zt!==(Zt=((Rl=Qe[0].armor_fire)!=null?Rl:0)+"")&&ne(en,Zt),Qe[0].special_when_hit?jn?jn.p(Qe,At):(jn=Df(Qe),jn.c(),jn.m(Pe,null)):jn&&(jn.d(1),jn=null),(!an||At[0]&1)&&Xt!==(Xt=((Nl=Qe[0].aggression)!=null?Nl:0)+"")&&ne(yt,Xt),(!an||At[0]&1)&&Jt!==(Jt=((Al=Qe[0].morale)!=null?Al:0)+"")&&ne(Kt,Jt),(!an||At[0]&1)&&yn!==(yn=((Bl=Qe[0].vision_day)!=null?Bl:40)+"")&&ne(Sn,yn),(!an||At[0]&1)&&kn!==(kn=((Dl=Qe[0].vision_night)!=null?Dl:1)+"")&&ne(Hn,kn),(!an||At[0]&1)&&tt!==(tt=Qe[0].default_faction+"")&&ne(si,tt),(Ml=Qe[0].anger_triggers)!=null&&Ml.length?un?un.p(Qe,At):(un=Mf(Qe),un.c(),un.m(Re,vi)):un&&(un.d(1),un=null),(Ll=Qe[0].placate_triggers)!=null&&Ll.length?Un?Un.p(Qe,At):(Un=Ff(Qe),Un.c(),Un.m(Re,$i)):Un&&(Un.d(1),Un=null),(Fl=Qe[0].fear_triggers)!=null&&Fl.length?Te?Te.p(Qe,At):(Te=jf(Qe),Te.c(),Te.m(Re,yi)):Te&&(Te.d(1),Te=null),(Pl=Qe[0].flags)!=null&&Pl.length?st?st.p(Qe,At):(st=qf(Qe),st.c(),st.m(Re,ki)):st&&(st.d(1),st=null),Qe[0].death_function?_n?_n.p(Qe,At):(_n=Yf(Qe),_n.c(),_n.m(Re,wi)):_n&&(_n.d(1),_n=null),Qe[9]&&ui.p(Qe,At),(jl=Qe[6])!=null&&jl.length&&fi.p(Qe,At),Qe[7]&&((Ul=Qe[7].entries)!=null?Ul:[]).length&&ci.p(Qe,At),Qe[8]&&((ql=Qe[8].entries)!=null?ql:[]).length&&_i.p(Qe,At)},i(Qe){an||(v(n.$$.fragment,Qe),v(Xn),v(Rn),v(ui),v(fi),v(ci),v(_i),an=!0)},o(Qe){E(n.$$.fragment,Qe),E(Xn),E(Rn),E(ui),E(fi),E(ci),E(_i),an=!1},d(Qe){Qe&&h(e),V(n),Qe&&h(l),Qe&&h(s),Ln&&Ln.d(),Fn&&Fn.d(),Xn&&Xn.d(),Qe&&h(Y),Qe&&h(ee),Rn&&Rn.d(),Pn&&Pn.d(),jn&&jn.d(),Qe&&h(Gt),Qe&&h(di),un&&un.d(),Un&&Un.d(),Te&&Te.d(),st&&st.d(),_n&&_n.d(),ui&&ui.d(),Qe&&h(Ei),fi&&fi.d(Qe),Qe&&h(Si),ci&&ci.d(Qe),Qe&&h(Ti),_i&&_i.d(Qe),Qe&&h(Ci)}}}function jr(r){const{melee_skill:e=0,melee_dice:n=0,melee_cut:t=0,melee_dice_sides:i=0,dodge:o=0,armor_bash:l=-1,armor_cut:s=-1,diff:a=0,special_attacks:f=[],emit_fields:u=[],hp:c,speed:d=0,attack_cost:b=100,morale:$=0,aggression:k=0,vision_day:w=40,vision_night:S=1}=r;let C=(e+1)*n*(t+i)*.04+(o+1)*(3+l+s)*.04+(a+f.length+8*u.length);return C=Math.floor(C),C*=(c+d-b+($+k)*.1)*.01+(w+2*S)*.01,Math.floor(C)}function Xf(r){return r<3?"Minimal threat.":r<10?"Mildly dangerous.":r<20?"Dangerous.":r<30?"Very dangerous.":r<50?"Extremely dangerous.":"Fatally dangerous!"}function Kf(r){return r<3||r<10?"light_gray":r<20?"light_red":(r<30||r<50,"red")}function Zf(r){const e=(r*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function oT(r){return[r.default].concat(r.monsters.map(e=>e.monster).filter(e=>e!==r.default)).filter(e=>e)}function sT(r,e,n){var b;let{item:t}=e,i=Yt("data");function o($){let{melee_dice:k=0,melee_dice_sides:w=0,melee_damage:S=[],melee_cut:C}=$;const I=Yr(S);return C&&I.push({damage_type:"cut",amount:C}),`${k}d${w} bash`+I.map(A=>` + ${A.amount} ${A.damage_type}`).join("")}const l={SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",PATH_AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",PATH_AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",PATH_AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",PATH_AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},s={FIRE:"Triggers if there's a fire within 3 tiles, the strength of the effect equals 5 * the field intensity of the fire.",FRIEND_ATTACKED:"Triggers if the monster sees another monster of the same type being attacked; strength = 15.",FRIEND_DIED:"Triggers if the monster sees another monster of the same type dying; strength = 15.",HURT:"Triggers when the monster is hurt, strength equals 1 + (damage / 3).",MEAT:"Meat or a corpse is nearby.",PLAYER_CLOSE:"Triggers when a potential enemy is within 5 tiles range.",PLAYER_WEAK:"Raises monster aggression by 10 - (percent of hp remaining / 10) if a potential enemy has less than 70% hp remaining",PLAYER_NEAR_BABY:"Increases monster aggression by 8 and morale by 4 if **the player** comes within 3 tiles of its offspring (defined by the baby_monster field in its reproduction data)",SOUND:"Not an actual trigger, monsters above 10 aggression and 0 morale will wander towards, monsters below 0 morale will wander away from the source of the sound for 1 turn (6, if they have the GOODHEARING flag).",STALK:"Raises monster aggresssion by 1, triggers 20% of the time each turn if aggression > 5.",HOSTILE_SEEN:"Increases aggression/decreases morale by a random amount between 0-2 for every potential enemy it can see, up to 20 aggression.",MATING_SEASON:"Increases aggression by 3 if a potential enemy is within 5 tiles range and the season is the same as the monster's mating season (defined by the baby_flags field in its reproduction data)."};let a=(b=t.material)!=null?b:[],f=i.flatDeathDrops(t.id),u=t.harvest?i.byId("harvest",t.harvest):void 0,c=t.dissect?i.byId("harvest",t.dissect):void 0,d=t.upgrades&&(t.upgrades.into||t.upgrades.into_group)?{...t.upgrades,monsters:t.upgrades.into?[t.upgrades.into]:oT(i.byId("monstergroup",t.upgrades.into_group))}:null;return r.$$set=$=>{"item"in $&&n(0,t=$.item)},[t,i,o,l,s,a,f,u,c,d]}class fT extends wt{constructor(e){super(),kt(this,e,sT,lT,vt,{item:0},null,[-1,-1])}}function Qf(r,e,n){const t=r.slice();return t[3]=e[n],t}function xf(r,e,n){const t=r.slice();return t[6]=e[n],t}function ea(r){let e,n=r[6].string+"",t,i;return{c(){e=p("span"),t=T(n),ye(e,"class",i="c_"+r[6].color)},m(o,l){g(o,e,l),m(e,t)},p:de,d(o){o&&h(e)}}}function ta(r){let e=`
`,n,t=r[3],i=[];for(let o=0;o<t.length;o+=1)i[o]=ea(xf(r,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=T(e)},m(o,l){for(let s=0;s<i.length;s+=1)i[s].m(o,l);g(o,n,l)},p(o,l){if(l&1){t=o[3];let s;for(s=0;s<t.length;s+=1){const a=xf(o,t,s);i[s]?i[s].p(a,l):(i[s]=ea(a),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){Ce(i,o),o&&h(n)}}}function aT(r){let e,n,t,i=r[0],o=[];for(let l=0;l<i.length;l+=1)o[l]=ta(Qf(r,i,l));return{c(){e=p("pre"),n=T("");for(let l=0;l<o.length;l+=1)o[l].c();t=T(`
`),Rt(e,"font-family","Unifont, monospace"),Rt(e,"line-height","1")},m(l,s){g(l,e,s),m(e,n);for(let a=0;a<o.length;a+=1)o[a].m(e,null);m(e,t)},p(l,[s]){if(s&1){i=l[0];let a;for(a=0;a<i.length;a+=1){const f=Qf(l,i,a);o[a]?o[a].p(f,s):(o[a]=ta(f),o[a].c(),o[a].m(e,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}},i:de,o:de,d(l){l&&h(e),Ce(o,l)}}}function uT(r,e,n){let{picture:t}=e,i=["white"];const o=[];for(const l of t.picture){const s=[];let a=l;for(;;){const u=a.match(/<\/?color([^>]*?)>/);if(u)u.index>0&&s.push({string:a.substring(0,u.index),color:i[0]}),u[0][1]==="/"&&i.length>1?i.shift():i.unshift(u[1].substring(1)),a=a.substring(u.index+u[0].length);else break}a.length&&s.push({string:a,color:i[0]});const f=41-s.reduce((u,c)=>u+c.string.length,0);f>0&&s.push({string:" ".repeat(f),color:i[0]}),o.push(s)}return r.$$set=l=>{"picture"in l&&n(1,t=l.picture)},[o,t]}class cT extends wt{constructor(e){super(),kt(this,e,uT,aT,vt,{picture:1})}}function na(r){var ie,H,K,se,x;let e,n,t,i,o,l,s,a,f,u,c,d,b,$=((ie=r[0].range)!=null?ie:0)+"",k,w,S,C=((H=r[0].dispersion)!=null?H:0)+"",I,A,L,F=((K=r[0].recoil)!=null?K:0)+"",j,P,U,Q=r[2](r[0]).toFixed(0)+"",re,D,G,Z=((se=r[0].critical_multiplier)!=null?se:2)+"",z,X,Y;s=new Se({props:{type:"ammunition_type",id:r[0].ammo_type}});let ee=r[0].casing&&ia(r),pe=((x=r[0].effects)==null?void 0:x.length)&&ra(r);return{c(){var oe,$e,He;e=p("section"),n=p("h1"),n.textContent="Ammunition",t=M(),i=p("dl"),o=p("dt"),o.textContent="Ammunition Type",l=p("dd"),J(s.$$.fragment),a=p("dt"),a.textContent="Damage",f=p("dd"),f.textContent=`${(oe=r[1].amount)!=null?oe:0} (${($e=r[1].damage_type)!=null?$e:"bullet"})`,u=p("dt"),u.textContent="Armor Penetration",c=p("dd"),c.textContent=`${(He=r[1].armor_penetration)!=null?He:0}`,d=p("dt"),d.textContent="Range",b=p("dd"),k=T($),w=p("dt"),w.textContent="Dispersion",S=p("dd"),I=T(C),A=p("dt"),A.textContent="Recoil",L=p("dd"),j=T(F),P=p("dt"),P.textContent=`Loudness
      `,U=p("dd"),re=T(Q),D=p("dt"),D.textContent="Critical Multiplier",G=p("dd"),z=T(Z),ee&&ee.c(),X=ge(),pe&&pe.c(),ye(P,"title","Base loudness of ammo (possibly modified by gun/gunmods)")},m(oe,$e){g(oe,e,$e),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),W(s,l,null),m(i,a),m(i,f),m(i,u),m(i,c),m(i,d),m(i,b),m(b,k),m(i,w),m(i,S),m(S,I),m(i,A),m(i,L),m(L,j),m(i,P),m(i,U),m(U,re),m(i,D),m(i,G),m(G,z),ee&&ee.m(i,null),m(i,X),pe&&pe.m(i,null),Y=!0},p(oe,$e){var Me,be,Ee,Ie,we;const He={};$e&1&&(He.id=oe[0].ammo_type),s.$set(He),(!Y||$e&1)&&$!==($=((Me=oe[0].range)!=null?Me:0)+"")&&ne(k,$),(!Y||$e&1)&&C!==(C=((be=oe[0].dispersion)!=null?be:0)+"")&&ne(I,C),(!Y||$e&1)&&F!==(F=((Ee=oe[0].recoil)!=null?Ee:0)+"")&&ne(j,F),(!Y||$e&1)&&Q!==(Q=oe[2](oe[0]).toFixed(0)+"")&&ne(re,Q),(!Y||$e&1)&&Z!==(Z=((Ie=oe[0].critical_multiplier)!=null?Ie:2)+"")&&ne(z,Z),oe[0].casing?ee?(ee.p(oe,$e),$e&1&&v(ee,1)):(ee=ia(oe),ee.c(),v(ee,1),ee.m(i,X)):ee&&(ce(),E(ee,1,1,()=>{ee=null}),_e()),(we=oe[0].effects)!=null&&we.length?pe?pe.p(oe,$e):(pe=ra(oe),pe.c(),pe.m(i,null)):pe&&(pe.d(1),pe=null)},i(oe){Y||(v(s.$$.fragment,oe),v(ee),Y=!0)},o(oe){E(s.$$.fragment,oe),E(ee),Y=!1},d(oe){oe&&h(e),V(s),ee&&ee.d(),pe&&pe.d()}}}function ia(r){let e,n,t,i;return t=new Se({props:{id:r[0].casing,type:"item"}}),{c(){e=p("dt"),e.textContent="Casing",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].casing),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function ra(r){let e,n,t=r[0].effects.join(", ")+"",i;return{c(){e=p("dt"),e.textContent="Effects",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].effects.join(", ")+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function _T(r){let e,n,t=(r[0].damage||r[0].show_stats)&&na(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[0].damage||i[0].show_stats?t?(t.p(i,o),o&1&&v(t,1)):(t=na(i),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(ce(),E(t,1,1,()=>{t=null}),_e())},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function dT(r,e,n){var l;let{item:t}=e;const i=Array.isArray(t.damage)?t.damage[0]:t.damage&&"values"in t.damage?t.damage.values[0]:(l=t.damage)!=null?l:{amount:0,damage_type:"bullet",armor_penetration:0};function o(s){var a,f,u,c,d;return((a=s.loudness)!=null?a:-1)>=0?(f=s.loudness)!=null?f:0:((u=s.range)!=null?u:0)*2+((c=i.amount)!=null?c:0)*((d=i.armor_penetration)!=null?d:0)}return r.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,i,o]}class mT extends wt{constructor(e){super(),kt(this,e,dT,_T,vt,{item:0})}}function fo(r){const e=(r*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function pT(r){var n;let e=new Map;for(const[t,i]of r){const o=(n=e.get(t))!=null?n:[];o.push(i),e.set(t,o)}return e}function $s(r,e){const n=new Map;for(const t of r){const i=e(t);for(const o of i)n.has(o)||n.set(o,[]),n.get(o).push(t)}return n}function hT(r,e=n=>n){const n=new Set,t=[];for(const i of r){const o=e(i);n.has(o)||t.push(i),n.add(o)}return t}function la(r,e,n){const t=r.slice();t[18]=e[n];const i=t[18].apd;return t[19]=i,t}function oa(r,e,n){const t=r.slice();t[22]=e[n];const i=t[1].byId("material",t[22].type);return t[23]=i,t}function sa(r,e,n){const t=r.slice();t[22]=e[n];const i=t[1].byId("material",t[22].type);return t[23]=i,t}function fa(r,e,n){const t=r.slice();t[22]=e[n];const i=t[1].byId("material",t[22].type);return t[23]=i,t}function aa(r,e,n){const t=r.slice();return t[22]=e[n],t}function ua(r,e,n){const t=r.slice();return t[22]=e[n],t}function ca(r,e,n){const t=r.slice();return t[22]=e[n],t}function gT(r){let e;return{c(){e=T("Normal")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function bT(r){let e;return{c(){e=T("Outer aura")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function vT(r){let e;return{c(){e=T("Waist")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function $T(r){let e;return{c(){e=T("Outer")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function yT(r){let e;return{c(){e=T("Strapped")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function kT(r){let e;return{c(){e=T("Close to skin")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function wT(r){let e;return{c(){e=T("Personal aura")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function _a(r){let e,n;return{c(){e=p("dt"),e.textContent="Sided",n=p("dd"),n.textContent="Yes"},m(t,i){g(t,e,i),g(t,n,i)},d(t){t&&h(e),t&&h(n)}}}function ET(r){let e,n=r[2](r[18].apd.specifically_covers).join(", ")+"",t,i;return{c(){e=T("("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function ST(r){let e,n,t,i=r[18].apd.coverage+"",o,l,s,a,f=r[18].apd.coverage!==r[18].apd.cover_melee&&CT(r),u=r[18].apd.coverage!==r[18].apd.cover_ranged&&IT(r),c=r[18].apd.cover_vitals&&OT(r);return{c(){e=p("dl"),n=p("dt"),n.textContent="Default",t=p("dd"),o=T(i),l=T("%"),f&&f.c(),s=ge(),u&&u.c(),a=ge(),c&&c.c(),ye(e,"class","svelte-1i5r9mc")},m(d,b){g(d,e,b),m(e,n),m(e,t),m(t,o),m(t,l),f&&f.m(e,null),m(e,s),u&&u.m(e,null),m(e,a),c&&c.m(e,null)},p(d,b){d[18].apd.coverage!==d[18].apd.cover_melee&&f.p(d,b),d[18].apd.coverage!==d[18].apd.cover_ranged&&u.p(d,b),d[18].apd.cover_vitals&&c.p(d,b)},d(d){d&&h(e),f&&f.d(),u&&u.d(),c&&c.d()}}}function TT(r){let e=r[18].apd.coverage+"",n,t;return{c(){n=T(e),t=T("%")},m(i,o){g(i,n,o),g(i,t,o)},p:de,d(i){i&&h(n),i&&h(t)}}}function CT(r){let e,n,t=r[18].apd.cover_melee+"",i,o;return{c(){e=p("dt"),e.textContent="Melee",n=p("dd"),i=T(t),o=T("%")},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p:de,d(l){l&&h(e),l&&h(n)}}}function IT(r){let e,n,t=r[18].apd.cover_ranged+"",i,o;return{c(){e=p("dt"),e.textContent="Ranged",n=p("dd"),i=T(t),o=T("%")},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p:de,d(l){l&&h(e),l&&h(n)}}}function OT(r){let e,n,t=r[18].apd.cover_vitals+"",i,o;return{c(){e=p("dt"),e.textContent="Vitals",n=p("dd"),i=T(t),o=T("%")},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p:de,d(l){l&&h(e),l&&h(n)}}}function RT(r){let e,n,t,i=r[7](r[18].bp_ids[0]).toFixed(2)+"",o,l,s,a=r[8](r[18].bp_ids[0]).toFixed(2)+"",f,u,c;return{c(){e=p("dl"),n=p("dt"),n.textContent="Acid",t=p("dd"),o=T(i),l=p("dt"),l.textContent="Fire",s=p("dd"),f=T(a),u=p("dt"),u.textContent="Environ.",c=p("dd"),c.textContent=`${r[6]()}`,ye(e,"class","protection-env svelte-1i5r9mc")},m(d,b){g(d,e,b),m(e,n),m(e,t),m(t,o),m(e,l),m(e,s),m(s,f),m(e,u),m(e,c)},p:de,d(d){d&&h(e)}}}function da(r){let e,n,t;return n=new Se({props:{type:"material",id:r[22].type}}),{c(){e=p("td"),J(n.$$.fragment),Rt(e,"writing-mode","vertical-rl"),Rt(e,"text-align","right"),Rt(e,"vertical-align","middle"),ye(e,"class","svelte-1i5r9mc")},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function ma(r){var o;let e,n=((o=r[22].thickness)!=null?o:0).toFixed(1)+"",t,i;return{c(){e=p("td"),t=T(n),i=T("mm"),ye(e,"class","svelte-1i5r9mc")},m(l,s){g(l,e,s),m(e,t),m(e,i)},p:de,d(l){l&&h(e)}}}function pa(r){var o;let e,n=((o=r[22].covered_by_mat)!=null?o:100).toFixed(0)+"",t,i;return{c(){e=p("td"),t=T(n),i=T("%"),ye(e,"class","svelte-1i5r9mc")},m(l,s){g(l,e,s),m(e,t),m(e,i)},p:de,d(l){l&&h(e)}}}function ha(r){let e,n=(r[23].bash_resist*r[22].thickness).toFixed(2)+"",t;return{c(){e=p("td"),t=T(n),ye(e,"class","svelte-1i5r9mc")},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function ga(r){let e,n=(r[23].cut_resist*r[22].thickness).toFixed(2)+"",t;return{c(){e=p("td"),t=T(n),ye(e,"class","svelte-1i5r9mc")},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function ba(r){let e,n=(r[23].bullet_resist*r[22].thickness).toFixed(2)+"",t;return{c(){e=p("td"),t=T(n),ye(e,"class","svelte-1i5r9mc")},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function va(r){var Ve;let e,n,t=r[4](r[18].bp_ids)+"",i,o,l,s,a,f,u=r[5](r[18])+"",c,d,b,$,k,w,S=r[6](),C,I,A,L,F,j,P,U,Q,re,D,G,Z,z,X,Y,ee,pe,ie,H,K,se,x,oe,$e,He,Me,be,Ee=((Ve=r[18].apd.specifically_covers)==null?void 0:Ve.length)&&ET(r);function Ie(ve,le){return ve[18].apd.coverage===ve[18].apd.cover_melee&&ve[18].apd.coverage===ve[18].apd.cover_ranged&&ve[18].apd.cover_vitals===0?TT:ST}let nt=Ie(r)(r),Ge=S&&RT(r),Oe=r[19].material,Ne=[];for(let ve=0;ve<Oe.length;ve+=1)Ne[ve]=da(ca(r,Oe,ve));const Ot=ve=>E(Ne[ve],1,1,()=>{Ne[ve]=null});let ke=r[19].material,Pe=[];for(let ve=0;ve<ke.length;ve+=1)Pe[ve]=ma(ua(r,ke,ve));let mt=r[19].material,We=[];for(let ve=0;ve<mt.length;ve+=1)We[ve]=pa(aa(r,mt,ve));let xe=r[19].material,qe=[];for(let ve=0;ve<xe.length;ve+=1)qe[ve]=ha(fa(r,xe,ve));let Le=r[19].material,Ze=[];for(let ve=0;ve<Le.length;ve+=1)Ze[ve]=ga(sa(r,Le,ve));let rt=r[19].material,lt=[];for(let ve=0;ve<rt.length;ve+=1)lt[ve]=ba(oa(r,rt,ve));return{c(){e=p("div"),n=p("h2"),i=T(t),o=M(),Ee&&Ee.c(),l=M(),s=p("dl"),a=p("dt"),a.textContent="Encumbrance",f=p("dd"),c=T(u),d=p("dt"),d.textContent="Coverage",b=p("dd"),nt.c(),$=M(),k=p("dt"),k.textContent="Protection",w=p("dd"),Ge&&Ge.c(),C=M(),I=p("table"),A=p("tbody"),L=p("tr"),F=p("td"),j=M();for(let ve=0;ve<Ne.length;ve+=1)Ne[ve].c();P=M(),U=p("tr"),Q=p("td"),Q.textContent="Thickness",re=M();for(let ve=0;ve<Pe.length;ve+=1)Pe[ve].c();D=M(),G=p("tr"),Z=p("td"),Z.textContent="Coverage",z=M();for(let ve=0;ve<We.length;ve+=1)We[ve].c();X=M(),Y=p("tr"),ee=p("td"),ee.textContent="Bash",pe=M();for(let ve=0;ve<qe.length;ve+=1)qe[ve].c();ie=M(),H=p("tr"),K=p("td"),K.textContent="Cut",se=M();for(let ve=0;ve<Ze.length;ve+=1)Ze[ve].c();x=M(),oe=p("tr"),$e=p("td"),$e.textContent="Ballistic",He=M();for(let ve=0;ve<lt.length;ve+=1)lt[ve].c();Me=M(),ye(n,"class","svelte-1i5r9mc"),ye(F,"class","svelte-1i5r9mc"),ye(L,"class","svelte-1i5r9mc"),ye(Q,"class","svelte-1i5r9mc"),ye(U,"class","svelte-1i5r9mc"),ye(Z,"class","svelte-1i5r9mc"),ye(G,"class","svelte-1i5r9mc"),ye(ee,"class","svelte-1i5r9mc"),ye(Y,"class","svelte-1i5r9mc"),ye(K,"class","svelte-1i5r9mc"),ye(H,"class","svelte-1i5r9mc"),ye($e,"class","svelte-1i5r9mc"),ye(oe,"class","svelte-1i5r9mc"),Rt(I,"text-align","center"),ye(I,"class","svelte-1i5r9mc"),ye(w,"class","protection svelte-1i5r9mc"),ye(s,"class","svelte-1i5r9mc"),ye(e,"class","body-part svelte-1i5r9mc")},m(ve,le){g(ve,e,le),m(e,n),m(n,i),m(n,o),Ee&&Ee.m(n,null),m(e,l),m(e,s),m(s,a),m(s,f),m(f,c),m(s,d),m(s,b),nt.m(b,null),m(b,$),m(s,k),m(s,w),Ge&&Ge.m(w,null),m(w,C),m(w,I),m(I,A),m(A,L),m(L,F),m(L,j);for(let fe=0;fe<Ne.length;fe+=1)Ne[fe].m(L,null);m(A,P),m(A,U),m(U,Q),m(U,re);for(let fe=0;fe<Pe.length;fe+=1)Pe[fe].m(U,null);m(A,D),m(A,G),m(G,Z),m(G,z);for(let fe=0;fe<We.length;fe+=1)We[fe].m(G,null);m(A,X),m(A,Y),m(Y,ee),m(Y,pe);for(let fe=0;fe<qe.length;fe+=1)qe[fe].m(Y,null);m(A,ie),m(A,H),m(H,K),m(H,se);for(let fe=0;fe<Ze.length;fe+=1)Ze[fe].m(H,null);m(A,x),m(A,oe),m(oe,$e),m(oe,He);for(let fe=0;fe<lt.length;fe+=1)lt[fe].m(oe,null);m(e,Me),be=!0},p(ve,le){var fe;if((fe=ve[18].apd.specifically_covers)!=null&&fe.length&&Ee.p(ve,le),nt.p(ve,le),S&&Ge.p(ve,le),le[0]&8){Oe=ve[19].material;let ae;for(ae=0;ae<Oe.length;ae+=1){const Ye=ca(ve,Oe,ae);Ne[ae]?(Ne[ae].p(Ye,le),v(Ne[ae],1)):(Ne[ae]=da(Ye),Ne[ae].c(),v(Ne[ae],1),Ne[ae].m(L,null))}for(ce(),ae=Oe.length;ae<Ne.length;ae+=1)Ot(ae);_e()}if(le[0]&8){ke=ve[19].material;let ae;for(ae=0;ae<ke.length;ae+=1){const Ye=ua(ve,ke,ae);Pe[ae]?Pe[ae].p(Ye,le):(Pe[ae]=ma(Ye),Pe[ae].c(),Pe[ae].m(U,null))}for(;ae<Pe.length;ae+=1)Pe[ae].d(1);Pe.length=ke.length}if(le[0]&8){mt=ve[19].material;let ae;for(ae=0;ae<mt.length;ae+=1){const Ye=aa(ve,mt,ae);We[ae]?We[ae].p(Ye,le):(We[ae]=pa(Ye),We[ae].c(),We[ae].m(G,null))}for(;ae<We.length;ae+=1)We[ae].d(1);We.length=mt.length}if(le[0]&10){xe=ve[19].material;let ae;for(ae=0;ae<xe.length;ae+=1){const Ye=fa(ve,xe,ae);qe[ae]?qe[ae].p(Ye,le):(qe[ae]=ha(Ye),qe[ae].c(),qe[ae].m(Y,null))}for(;ae<qe.length;ae+=1)qe[ae].d(1);qe.length=xe.length}if(le[0]&10){Le=ve[19].material;let ae;for(ae=0;ae<Le.length;ae+=1){const Ye=sa(ve,Le,ae);Ze[ae]?Ze[ae].p(Ye,le):(Ze[ae]=ga(Ye),Ze[ae].c(),Ze[ae].m(H,null))}for(;ae<Ze.length;ae+=1)Ze[ae].d(1);Ze.length=Le.length}if(le[0]&10){rt=ve[19].material;let ae;for(ae=0;ae<rt.length;ae+=1){const Ye=oa(ve,rt,ae);lt[ae]?lt[ae].p(Ye,le):(lt[ae]=ba(Ye),lt[ae].c(),lt[ae].m(oe,null))}for(;ae<lt.length;ae+=1)lt[ae].d(1);lt.length=rt.length}},i(ve){if(!be){for(let le=0;le<Oe.length;le+=1)v(Ne[le]);be=!0}},o(ve){Ne=Ne.filter(Boolean);for(let le=0;le<Ne.length;le+=1)E(Ne[le]);be=!1},d(ve){ve&&h(e),Ee&&Ee.d(),nt.d(),Ge&&Ge.d(),Ce(Ne,ve),Ce(Pe,ve),Ce(We,ve),Ce(qe,ve),Ce(Ze,ve),Ce(lt,ve)}}}function NT(r){var D;let e,n,t,i,o,l,s,a,f,u,c,d,b,$,k,w=((D=r[0].warmth)!=null?D:0)+"",S,C,I,A;function L(G,Z){var z,X,Y,ee,pe,ie;return Z[0]&1&&(s=null),Z[0]&1&&(a=null),Z[0]&1&&(f=null),Z[0]&1&&(u=null),Z[0]&1&&(c=null),Z[0]&1&&(d=null),s==null&&(s=!!((z=G[0].flags)!=null?z:[]).includes("PERSONAL")),s?wT:(a==null&&(a=!!((X=G[0].flags)!=null?X:[]).includes("SKINTIGHT")),a?kT:(f==null&&(f=!!((Y=G[0].flags)!=null?Y:[]).includes("BELTED")),f?yT:(u==null&&(u=!!((ee=G[0].flags)!=null?ee:[]).includes("OUTER")),u?$T:(c==null&&(c=!!((pe=G[0].flags)!=null?pe:[]).includes("WAIST")),c?vT:(d==null&&(d=!!((ie=G[0].flags)!=null?ie:[]).includes("AURA")),d?bT:gT)))))}let F=L(r,[-1,-1]),j=F(r),P=r[0].sided&&_a(),U=r[3],Q=[];for(let G=0;G<U.length;G+=1)Q[G]=va(la(r,U,G));const re=G=>E(Q[G],1,1,()=>{Q[G]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Armor",t=M(),i=p("dl"),o=p("dt"),o.textContent="Layer",l=p("dd"),j.c(),b=M(),$=p("dt"),$.textContent="Warmth",k=p("dd"),S=T(w),P&&P.c(),C=M(),I=p("div");for(let G=0;G<Q.length;G+=1)Q[G].c();ye(I,"class","body-parts svelte-1i5r9mc")},m(G,Z){g(G,e,Z),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),j.m(l,null),m(l,b),m(i,$),m(i,k),m(k,S),P&&P.m(i,null),m(e,C),m(e,I);for(let z=0;z<Q.length;z+=1)Q[z].m(I,null);A=!0},p(G,Z){var z;if(F!==(F=L(G,Z))&&(j.d(1),j=F(G),j&&(j.c(),j.m(l,b))),(!A||Z[0]&1)&&w!==(w=((z=G[0].warmth)!=null?z:0)+"")&&ne(S,w),G[0].sided?P||(P=_a(),P.c(),P.m(i,null)):P&&(P.d(1),P=null),Z[0]&510){U=G[3];let X;for(X=0;X<U.length;X+=1){const Y=la(G,U,X);Q[X]?(Q[X].p(Y,Z),v(Q[X],1)):(Q[X]=va(Y),Q[X].c(),v(Q[X],1),Q[X].m(I,null))}for(ce(),X=U.length;X<Q.length;X+=1)re(X);_e()}},i(G){if(!A){for(let Z=0;Z<U.length;Z+=1)v(Q[Z]);A=!0}},o(G){Q=Q.filter(Boolean);for(let Z=0;Z<Q.length;Z+=1)E(Q[Z]);A=!1},d(G){G&&h(e),j.d(),P&&P.d(),Ce(Q,G)}}}function AT(r,e){const[n,t]=typeof r=="number"?[r,r]:r,[i,o]=typeof e=="number"?[e,e]:e;return[n+i,t+o]}function BT(r){return typeof r=="string"?{type:r}:{...r}}function DT(r){return typeof r[0]=="string"}function MT(r,e,n){var L,F,j,P,U,Q,re,D,G,Z,z,X,Y,ee,pe,ie,H,K,se,x,oe,$e,He,Me,be,Ee,Ie,we,nt,Ge,Oe,Ne,Ot,ke,Pe,mt,We,xe,qe;let{item:t}=e,i=Yt("data");const o=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:DT(t.material)?t.material.map(Le=>({type:Le,portion:1})):t.material.map(Le=>({portion:1,...Le})),l=o.reduce((Le,Ze)=>Le+Ze.portion,0),s=[];for(const Le of(L=t.armor)!=null?L:[]){const Ze=(j=(F=Le.material)==null?void 0:F.map(BT))!=null?j:o.map(rt=>{var lt;return{type:rt.type,covered_by_mat:100,thickness:rt.portion/l*((lt=t.material_thickness)!=null?lt:0)}});for(const rt of hT(Le.covers)){const lt=i.byId("body_part",rt),Ve=s.find(ve=>ve.covers.includes(rt));if(Ve){Ve.encumbrance=AT((P=Ve.encumbrance)!=null?P:0,(U=Le.encumbrance)!=null?U:0);const ve=k(lt,Le)/100,le=k(lt,Ve)/100;Ve.coverage+=((Q=Le.coverage)!=null?Q:0)*ve|0,Ve.cover_melee+=((re=Le.cover_melee)!=null?re:0)*ve|0,Ve.cover_ranged+=((D=Le.cover_ranged)!=null?D:0)*ve|0,Ve.cover_vitals=((G=Ve.cover_vitals)!=null?G:0)+((Z=Le.cover_vitals)!=null?Z:0),Ve.material_thickness=(((X=(z=Le.material_thickness)!=null?z:t.material_thickness)!=null?X:0)*ve+((ee=(Y=Ve.material_thickness)!=null?Y:t.material_thickness)!=null?ee:0)*le)/(ve+le),Ve.environmental_protection=(((ie=(pe=Le.environmental_protection)!=null?pe:t.environmental_protection)!=null?ie:0)*ve+((K=(H=Ve.environmental_protection)!=null?H:t.environmental_protection)!=null?K:0)*le)/(ve+le)|0,Ve.environmental_protection_with_filter=(((x=(se=Le.environmental_protection_with_filter)!=null?se:t.environmental_protection_with_filter)!=null?x:0)*ve+(($e=(oe=Ve.environmental_protection_with_filter)!=null?oe:t.environmental_protection_with_filter)!=null?$e:0)*le)/(ve+le)|0,Ve.layers=(He=Ve.layers)!=null?He:[];for(const fe of(Me=Le.layers)!=null?Me:[])Ve.layers.includes(fe)||Ve.layers.push(fe);for(const fe of Ze){const ae=Ve.material.find(Ye=>Ye.type===fe.type);if(ae){const Ye=k(lt,Le),_t=k(lt,Ve);ae.covered_by_mat=((be=ae.covered_by_mat)!=null?be:100)+((Ee=fe.covered_by_mat)!=null?Ee:100)*Ye/100|0,ae.thickness=(Ye*((Ie=fe.thickness)!=null?Ie:0)+_t*((we=ae.thickness)!=null?we:0))/(_t+Ye)}else{const Ye=k(lt,Le),_t=JSON.parse(JSON.stringify(fe));_t.covered_by_mat=((nt=fe.covered_by_mat)!=null?nt:100)*Ye/100,Ve.material.push(_t)}}for(const fe of(Ge=Le.specifically_covers)!=null?Ge:[])(Oe=Ve.specifically_covers)!=null&&Oe.includes(fe)||(Ve.specifically_covers==null&&(Ve.specifically_covers=[]),Ve.specifically_covers.push(fe))}else{const ve=JSON.parse(JSON.stringify(Le));ve.covers=[rt];const le=k(lt,ve)/100,fe=(Ne=ve.coverage)!=null?Ne:0;ve.coverage=fe*le|0,ve.cover_melee=((Ot=ve.cover_melee)!=null?Ot:fe)*le|0,ve.cover_ranged=((ke=ve.cover_ranged)!=null?ke:fe)*le|0,ve.material=JSON.parse(JSON.stringify(Ze));for(const ae of(Pe=ve.material)!=null?Pe:[])ae.covered_by_mat=((mt=ae.covered_by_mat)!=null?mt:100)*ve.coverage/100;s.push(ve)}}}for(const Le of s)for(const Ze of(We=Le.material)!=null?We:[])Ze.covered_by_mat=((xe=Ze.covered_by_mat)!=null?xe:100)/((qe=Le.coverage)!=null?qe:0)*100|0;function a(Le){const Ze=new Set,rt=[];for(const lt of Le!=null?Le:[]){if(Ze.has(lt))continue;const Ve=i.byId("body_part",lt);Ve.opposite_part&&Le.includes(Ve.opposite_part)?(rt.push(Ve.heading_multiple),Ze.add(Ve.opposite_part)):rt.push(Ve.heading),Ze.add(lt)}return rt}function f(Le){const Ze=new Set,rt=[];for(const lt of Le!=null?Le:[]){if(Ze.has(lt))continue;const Ve=i.byId("sub_body_part",lt);Ve.opposite&&Le.includes(Ve.opposite)?(rt.push(qn(Ve.name_multiple)),Ze.add(Ve.opposite)):rt.push(qn(Ve.name)),Ze.add(lt)}return rt}const u=[...new Set(s.flatMap(Le=>Le.covers))],d=[...$s(u,Le=>{const{covers:Ze,...rt}=s.find(lt=>lt.covers.includes(Le));return[JSON.stringify(rt)]}).values()].map(Le=>{const Ze=s.find(rt=>rt.covers.includes(Le[0]));return{bp_ids:Le,apd:Ze}}),b=Le=>a(Le).join(", "),$=Le=>{var lt;const[Ze,rt]=typeof Le.apd.encumbrance=="number"?[Le.apd.encumbrance,Le.apd.encumbrance]:(lt=Le.apd.encumbrance)!=null?lt:[0,0];return Ze===rt?`${Ze}`:`${Ze} (${rt} when full)`};function k(Le,Ze){var ve,le;if(!((ve=Le.sub_parts)!=null&&ve.length))return 100;let rt=0,lt=0;const Ve=((le=Ze.specifically_covers)!=null?le:[]).length?Ze.specifically_covers.map(fe=>i.byId("sub_body_part",fe)):i.byType("sub_body_part").filter(fe=>fe.parent===Le.id);for(const fe of Ve)Le.id===fe.parent&&(fe.secondary?lt+=fe.max_coverage:rt+=fe.max_coverage);return Math.max(rt,lt)}function w(Le){var Ze;for(const rt of s)if((Ze=rt.covers)!=null&&Ze.includes(Le))return rt.material;return[]}function S(){return s.length===0?0:s.reduce((Ze,rt)=>{var lt,Ve;return Ze+((Ve=(lt=rt.environmental_protection)!=null?lt:t.environmental_protection)!=null?Ve:0)},0)/s.length}function C(Le){var ve;{const le=w(Le);if(le!=null&&le.length){let fe=0;for(const Ye of le)fe+=i.byId("material",Ye.type).acid_resist*((ve=Ye.covered_by_mat)!=null?ve:0)*.01;const ae=S();return ae<10&&(fe*=ae/10),fe}}let Ze=0;const{mats:rt,total:lt}=A();if(rt.length){for(const le of rt)Ze+=i.byId("material",le.type).acid_resist;Ze/=lt}const Ve=S();return Ve<10&&(Ze*=Ve/10),Ze}function I(Le){var ve;{const le=w(Le);if(le!=null&&le.length){let fe=0;for(const Ye of le)fe+=i.byId("material",Ye.type).fire_resist*((ve=Ye.covered_by_mat)!=null?ve:0)*.01;const ae=S();return ae<10&&(fe*=ae/10),fe}}let Ze=0;const{mats:rt,total:lt}=A();if(rt.length){for(const le of rt)Ze+=i.byId("material",le.type).fire_resist;Ze/=lt}const Ve=S();return Ve<10&&(Ze*=Ve/10),Ze}function A(){var rt;let Le=0;const Ze=[];if(Array.isArray(t.material)){for(const lt of t.material)if(typeof lt=="string")Ze.push({type:lt,portion:1}),Le+=1;else if(typeof lt=="object"){const Ve={type:lt.type,portion:(rt=lt.portion)!=null?rt:1};Le+=Ve.portion,Ze.push(Ve)}}return{mats:Ze,total:Le}}return r.$$set=Le=>{"item"in Le&&n(0,t=Le.item)},[t,i,f,d,b,$,S,C,I]}class LT extends wt{constructor(e){super(),kt(this,e,MT,NT,vt,{item:0},null,[-1,-1])}}function $a(r,e,n){const t=r.slice();return t[11]=e[n],t}function ya(r,e,n){const t=r.slice();return t[14]=e[n],t[16]=n,t}function ka(r,e,n){const t=r.slice();return t[11]=e[n],t}function wa(r,e,n){const t=r.slice();return t[14]=e[n],t[16]=n,t}function Ea(r,e,n){const t=r.slice();return t[20]=e[n][0],t[21]=e[n][1],t}function FT(r){let e,n,t;return{c(){e=T("The "),n=p("strong"),n.textContent="head",t=T(".")},m(i,o){g(i,e,o),g(i,n,o),g(i,t,o)},d(i){i&&h(e),i&&h(n),i&&h(t)}}}function PT(r){let e,n,t;return{c(){e=T("The "),n=p("strong"),n.textContent="eyes",t=T(".")},m(i,o){g(i,e,o),g(i,n,o),g(i,t,o)},d(i){i&&h(e),i&&h(n),i&&h(t)}}}function jT(r){let e,n,t;return{c(){e=T("The "),n=p("strong"),n.textContent="mouth",t=T(".")},m(i,o){g(i,e,o),g(i,n,o),g(i,t,o)},d(i){i&&h(e),i&&h(n),i&&h(t)}}}function UT(r){let e,n,t;return{c(){e=T("The "),n=p("strong"),n.textContent="torso",t=T(".")},m(i,o){g(i,e,o),g(i,n,o),g(i,t,o)},d(i){i&&h(e),i&&h(n),i&&h(t)}}}function qT(r){let e,n,t,i,o;return{c(){e=T("The "),n=p("strong"),t=T("right "),i=T(r[20]),o=T(".")},m(l,s){g(l,e,s),g(l,n,s),m(n,t),m(n,i),g(l,o,s)},d(l){l&&h(e),l&&h(n),l&&h(o)}}}function GT(r){let e,n,t,i,o;return{c(){e=T("The "),n=p("strong"),t=T("left "),i=T(r[20]),o=T(".")},m(l,s){g(l,e,s),g(l,n,s),m(n,t),m(n,i),g(l,o,s)},d(l){l&&h(e),l&&h(n),l&&h(o)}}}function YT(r){let e,n,t,i;return{c(){e=T("The "),n=p("strong"),t=T(r[21]),i=T(".")},m(o,l){g(o,e,l),g(o,n,l),m(n,t),g(o,i,l)},d(o){o&&h(e),o&&h(n),o&&h(i)}}}function HT(r){let e,n,t,i;return{c(){e=T("Either "),n=p("strong"),t=T(r[20]),i=T(".")},m(o,l){g(o,e,l),g(o,n,l),m(n,t),g(o,i,l)},d(o){o&&h(e),o&&h(n),o&&h(i)}}}function Sa(r){let e,n,t,i,o,l=" ",s;function a(c,d){if(d&1&&(e=null),e==null&&(e=!!(c[0].sided&&(c[3](`${c[20]}_l`)||c[3](`${c[20]}_r`)))),e)return HT;if(n==null&&(n=!!(c[3](`${c[20]}_l`)&&c[3](`${c[20]}_r`))),n)return YT;if(t==null&&(t=!!c[3](`${c[20]}_l`)),t)return GT;if(i==null&&(i=!!c[3](`${c[20]}_r`)),i)return qT}let f=a(r,-1),u=f&&f(r);return{c(){u&&u.c(),o=M(),s=T(l)},m(c,d){u&&u.m(c,d),g(c,o,d),g(c,s,d)},p(c,d){f!==(f=a(c,d))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(o.parentNode,o)))},d(c){u&&u.d(c),c&&h(o),c&&h(s)}}}function zT(r){let e;return{c(){e=T("Nothing.")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function WT(r){let e;return{c(){e=T("Normal")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function VT(r){let e;return{c(){e=T("Outer aura")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function JT(r){let e;return{c(){e=T("Waist")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function XT(r){let e;return{c(){e=T("Outer")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function KT(r){let e;return{c(){e=T("Strapped")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function ZT(r){let e;return{c(){e=T("Close to skin")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function QT(r){let e;return{c(){e=T("Personal aura")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function xT(r){var o;let e=((o=r[0].encumbrance)!=null?o:0)+"",n,t,i=r[0].max_encumbrance&&Ta(r);return{c(){n=T(e),i&&i.c(),t=ge()},m(l,s){g(l,n,s),i&&i.m(l,s),g(l,t,s)},p(l,s){var a;s&1&&e!==(e=((a=l[0].encumbrance)!=null?a:0)+"")&&ne(n,e),l[0].max_encumbrance?i?i.p(l,s):(i=Ta(l),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(l){l&&h(n),i&&i.d(l),l&&h(t)}}}function e3(r){let e,n=r[5],t=[];for(let i=0;i<n.length;i+=1)t[i]=Ia(ka(r,n,i));return{c(){e=p("dl");for(let i=0;i<t.length;i+=1)t[i].c()},m(i,o){g(i,e,o);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(i,o){if(o&96){n=i[5];let l;for(l=0;l<n.length;l+=1){const s=ka(i,n,l);t[l]?t[l].p(s,o):(t[l]=Ia(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(i){i&&h(e),Ce(t,i)}}}function Ta(r){let e=" ",n,t,i=r[0].max_encumbrance+"",o,l;return{c(){n=T(e),t=T("("),o=T(i),l=T(" when full)")},m(s,a){g(s,n,a),g(s,t,a),g(s,o,a),g(s,l,a)},p(s,a){a&1&&i!==(i=s[0].max_encumbrance+"")&&ne(o,i)},d(s){s&&h(n),s&&h(t),s&&h(o),s&&h(l)}}}function t3(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function Ca(r){let e=r[14]+"",n,t=r[16]!==0&&t3();return{c(){t&&t.c(),n=T(e)},m(i,o){t&&t.m(i,o),g(i,n,o)},p:de,d(i){t&&t.d(i),i&&h(n)}}}function n3(r){var t;let e=((t=r[11].encumbrance)!=null?t:0)+"",n;return{c(){n=T(e)},m(i,o){g(i,n,o)},p:de,d(i){i&&h(n)}}}function i3(r){let e=r[11].encumbrance[0]+"",n,t,i,o=r[11].encumbrance[1]!==r[11].encumbrance[0]&&r3(r);return{c(){n=T(e),t=M(),o&&o.c(),i=ge()},m(l,s){g(l,n,s),g(l,t,s),o&&o.m(l,s),g(l,i,s)},p(l,s){l[11].encumbrance[1]!==l[11].encumbrance[0]&&o.p(l,s)},d(l){l&&h(n),l&&h(t),o&&o.d(l),l&&h(i)}}}function r3(r){let e,n=r[11].encumbrance[1]+"",t,i;return{c(){e=T("("),t=T(n),i=T(" when full)")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function Ia(r){let e,n,t,i,o=r[6](r[11]),l=[];for(let u=0;u<o.length;u+=1)l[u]=Ca(wa(r,o,u));function s(u,c){return Array.isArray(u[11].encumbrance)?i3:n3}let f=s(r)(r);return{c(){e=p("dt");for(let u=0;u<l.length;u+=1)l[u].c();n=M(),t=p("dd"),f.c(),i=M()},m(u,c){g(u,e,c);for(let d=0;d<l.length;d+=1)l[d].m(e,null);m(e,n),g(u,t,c),f.m(t,null),m(t,i)},p(u,c){if(c&96){o=u[6](u[11]);let d;for(d=0;d<o.length;d+=1){const b=wa(u,o,d);l[d]?l[d].p(b,c):(l[d]=Ca(b),l[d].c(),l[d].m(e,n))}for(;d<l.length;d+=1)l[d].d(1);l.length=o.length}f.p(u,c)},d(u){u&&h(e),Ce(l,u),u&&h(t),f.d()}}}function l3(r){var i;let e=((i=r[0].coverage)!=null?i:0)+"",n,t;return{c(){n=T(e),t=T("%")},m(o,l){g(o,n,l),g(o,t,l)},p(o,l){var s;l&1&&e!==(e=((s=o[0].coverage)!=null?s:0)+"")&&ne(n,e)},d(o){o&&h(n),o&&h(t)}}}function o3(r){let e,n=r[0].armor,t=[];for(let i=0;i<n.length;i+=1)t[i]=Ra($a(r,n,i));return{c(){e=p("dl");for(let i=0;i<t.length;i+=1)t[i].c()},m(i,o){g(i,e,o);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(i,o){if(o&65){n=i[0].armor;let l;for(l=0;l<n.length;l+=1){const s=$a(i,n,l);t[l]?t[l].p(s,o):(t[l]=Ra(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(i){i&&h(e),Ce(t,i)}}}function s3(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function Oa(r){let e=r[14]+"",n,t=r[16]!==0&&s3();return{c(){t&&t.c(),n=T(e)},m(i,o){t&&t.m(i,o),g(i,n,o)},p(i,o){o&1&&e!==(e=i[14]+"")&&ne(n,e)},d(i){t&&t.d(i),i&&h(n)}}}function Ra(r){var f;let e,n,t,i=((f=r[11].coverage)!=null?f:0)+"",o,l,s=r[6](r[11]),a=[];for(let u=0;u<s.length;u+=1)a[u]=Oa(ya(r,s,u));return{c(){e=p("dt");for(let u=0;u<a.length;u+=1)a[u].c();n=M(),t=p("dd"),o=T(i),l=T("%")},m(u,c){g(u,e,c);for(let d=0;d<a.length;d+=1)a[d].m(e,null);m(e,n),g(u,t,c),m(t,o),m(t,l)},p(u,c){var d;if(c&65){s=u[6](u[11]);let b;for(b=0;b<s.length;b+=1){const $=ya(u,s,b);a[b]?a[b].p($,c):(a[b]=Oa($),a[b].c(),a[b].m(e,n))}for(;b<a.length;b+=1)a[b].d(1);a.length=s.length}c&1&&i!==(i=((d=u[11].coverage)!=null?d:0)+"")&&ne(o,i)},d(u){u&&h(e),Ce(a,u),u&&h(t)}}}function Na(r){var f;let e,n,t,i,o,l=((f=r[0].environmental_protection)!=null?f:0)+"",s,a=r[1].length&&f3(r);return{c(){e=p("dt"),e.textContent="Protection",n=p("dd"),t=p("dl"),a&&a.c(),i=p("dt"),i.textContent="Environ.",o=p("dd"),s=T(l),ye(i,"title","Environmental")},m(u,c){g(u,e,c),g(u,n,c),m(n,t),a&&a.m(t,null),m(t,i),m(t,o),m(o,s)},p(u,c){var d;u[1].length&&a.p(u,c),c&1&&l!==(l=((d=u[0].environmental_protection)!=null?d:0)+"")&&ne(s,l)},d(u){u&&h(e),u&&h(n),a&&a.d()}}}function f3(r){var Q,re,D;let e,n,t=(r[1].reduce(Aa,0)*((Q=r[0].material_thickness)!=null?Q:0)/r[2]).toFixed(2)+"",i,o,l,s,a=(r[1].reduce(Ba,0)*((re=r[0].material_thickness)!=null?re:0)/r[2]).toFixed(2)+"",f,u,c,d,b=(r[1].reduce(Da,0)*((D=r[0].material_thickness)!=null?D:0)/r[2]).toFixed(2)+"",$,k,w,S,C=r[7]().toFixed(2)+"",I,A,L,F,j=r[8]().toFixed(2)+"",P,U;return{c(){e=p("dt"),e.textContent="Bash",n=p("dd"),i=T(t),o=M(),l=p("dt"),l.textContent="Cut",s=p("dd"),f=T(a),u=M(),c=p("dt"),c.textContent="Ballistic",d=p("dd"),$=T(b),k=M(),w=p("dt"),w.textContent="Acid",S=p("dd"),I=T(C),A=M(),L=p("dt"),L.textContent="Fire",F=p("dd"),P=T(j),U=M()},m(G,Z){g(G,e,Z),g(G,n,Z),m(n,i),m(n,o),g(G,l,Z),g(G,s,Z),m(s,f),m(s,u),g(G,c,Z),g(G,d,Z),m(d,$),m(d,k),g(G,w,Z),g(G,S,Z),m(S,I),m(S,A),g(G,L,Z),g(G,F,Z),m(F,P),m(F,U)},p(G,Z){var z,X,Y;Z&1&&t!==(t=(G[1].reduce(Aa,0)*((z=G[0].material_thickness)!=null?z:0)/G[2]).toFixed(2)+"")&&ne(i,t),Z&1&&a!==(a=(G[1].reduce(Ba,0)*((X=G[0].material_thickness)!=null?X:0)/G[2]).toFixed(2)+"")&&ne(f,a),Z&1&&b!==(b=(G[1].reduce(Da,0)*((Y=G[0].material_thickness)!=null?Y:0)/G[2]).toFixed(2)+"")&&ne($,b),Z&1&&C!==(C=G[7]().toFixed(2)+"")&&ne(I,C),Z&1&&j!==(j=G[8]().toFixed(2)+"")&&ne(P,j)},d(G){G&&h(e),G&&h(n),G&&h(l),G&&h(s),G&&h(c),G&&h(d),G&&h(w),G&&h(S),G&&h(L),G&&h(F)}}}function a3(r){var Ot;let e,n,t,i,o,l,s=r[3]("head"),a,f=r[3]("eyes"),u,c=r[3]("mouth"),d,b=r[3]("torso"),$,k,w,S,C,I,A,L,F,j,P,U,Q,re,D=((Ot=r[0].warmth)!=null?Ot:0)+"",G,Z,z,X,Y,ee,pe,ie=s&&FT(),H=f&&PT(),K=c&&jT(),se=b&&UT(),x=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],oe=[];for(let ke=0;ke<4;ke+=1)oe[ke]=Sa(Ea(r,x,ke));let $e=!r[4]&&zT();function He(ke,Pe){var mt,We,xe,qe,Le,Ze;return Pe&1&&(I=null),Pe&1&&(A=null),Pe&1&&(L=null),Pe&1&&(F=null),Pe&1&&(j=null),Pe&1&&(P=null),I==null&&(I=!!((mt=ke[0].flags)!=null?mt:[]).includes("PERSONAL")),I?QT:(A==null&&(A=!!((We=ke[0].flags)!=null?We:[]).includes("SKINTIGHT")),A?ZT:(L==null&&(L=!!((xe=ke[0].flags)!=null?xe:[]).includes("BELTED")),L?KT:(F==null&&(F=!!((qe=ke[0].flags)!=null?qe:[]).includes("OUTER")),F?XT:(j==null&&(j=!!((Le=ke[0].flags)!=null?Le:[]).includes("WAIST")),j?JT:(P==null&&(P=!!((Ze=ke[0].flags)!=null?Ze:[]).includes("AURA")),P?VT:WT)))))}let Me=He(r,-1),be=Me(r);function Ee(ke,Pe){return ke[5]?e3:xT}let we=Ee(r)(r);function nt(ke,Pe){return ke[0].armor?o3:l3}let Ge=nt(r),Oe=Ge(r),Ne=(r[1].length||r[0].environmental_protection)&&Na(r);return{c(){e=p("section"),n=p("h1"),n.textContent="Armor",t=M(),i=p("dl"),o=p("dt"),o.textContent="Covers",l=p("dd"),ie&&ie.c(),a=M(),H&&H.c(),u=M(),K&&K.c(),d=M(),se&&se.c(),$=M();for(let ke=0;ke<4;ke+=1)oe[ke].c();k=M(),$e&&$e.c(),w=M(),S=p("dt"),S.textContent="Layer",C=p("dd"),be.c(),U=M(),Q=p("dt"),Q.textContent="Warmth",re=p("dd"),G=T(D),Z=p("dt"),Z.textContent="Encumbrance",z=p("dd"),we.c(),X=M(),Y=p("dt"),Y.textContent=`Coverage
    `,ee=p("dd"),Oe.c(),pe=M(),Ne&&Ne.c(),ye(Y,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(ke,Pe){g(ke,e,Pe),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),ie&&ie.m(l,null),m(l,a),H&&H.m(l,null),m(l,u),K&&K.m(l,null),m(l,d),se&&se.m(l,null),m(l,$);for(let mt=0;mt<4;mt+=1)oe[mt].m(l,null);m(l,k),$e&&$e.m(l,null),m(l,w),m(i,S),m(i,C),be.m(C,null),m(C,U),m(i,Q),m(i,re),m(re,G),m(i,Z),m(i,z),we.m(z,null),m(z,X),m(i,Y),m(i,ee),Oe.m(ee,null),m(ee,pe),Ne&&Ne.m(i,null)},p(ke,[Pe]){var mt;if(Pe&9){x=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]];let We;for(We=0;We<4;We+=1){const xe=Ea(ke,x,We);oe[We]?oe[We].p(xe,Pe):(oe[We]=Sa(xe),oe[We].c(),oe[We].m(l,k))}for(;We<4;We+=1)oe[We].d(1)}Me!==(Me=He(ke,Pe))&&(be.d(1),be=Me(ke),be&&(be.c(),be.m(C,U))),Pe&1&&D!==(D=((mt=ke[0].warmth)!=null?mt:0)+"")&&ne(G,D),we.p(ke,Pe),Ge===(Ge=nt(ke))&&Oe?Oe.p(ke,Pe):(Oe.d(1),Oe=Ge(ke),Oe&&(Oe.c(),Oe.m(ee,pe))),ke[1].length||ke[0].environmental_protection?Ne?Ne.p(ke,Pe):(Ne=Na(ke),Ne.c(),Ne.m(i,null)):Ne&&(Ne.d(1),Ne=null)},i:de,o:de,d(ke){ke&&h(e),ie&&ie.d(),H&&H.d(),K&&K.d(),se&&se.d(),Ce(oe,ke),$e&&$e.d(),be.d(),we.d(),Oe.d(),Ne&&Ne.d()}}}function u3(r){return typeof r[0]=="string"}const Aa=(r,e)=>{var n;return r+((n=e.material.bash_resist)!=null?n:0)*e.portion},Ba=(r,e)=>{var n;return r+((n=e.material.cut_resist)!=null?n:0)*e.portion},Da=(r,e)=>{var n;return r+((n=e.material.bullet_resist)!=null?n:0)*e.portion};function c3(r,e,n){var $,k,w;let{item:t}=e,i=Yt("data"),l=(t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:u3(t.material)?t.material.map(S=>({type:S,portion:1})):t.material).map(S=>({material:i.byId("material",S.type),portion:S.portion}));const s=l.reduce((S,C)=>S+C.portion,0);function a(S){var C,I;return((C=t.covers)!=null?C:[]).includes(S)||((I=t.armor)!=null?I:[]).some(A=>{var L;return((L=A.covers)!=null?L:[]).includes(S)})}let f=(($=t.covers)!=null?$:[]).length||((k=t.armor)!=null?k:[]).length;const u=(w=t.armor)!=null?w:t.armor_portion_data;function c(S){var A;const C=new Set,I=[];for(const L of(A=S.covers)!=null?A:[]){if(C.has(L))continue;const F=i.byId("body_part",L);F.opposite_part&&S.covers.includes(F.opposite_part)?(I.push(F.heading_multiple),C.add(F.opposite_part)):I.push(F.heading),C.add(L)}return I}const d=()=>{var I;let S=l.reduce((A,L)=>{var F;return A+((F=L.material.acid_resist)!=null?F:0)*L.portion},0)/s;const C=(I=t.environmental_protection)!=null?I:0;return C<10&&(S*=C/10),S},b=()=>{var I;let S=l.reduce((A,L)=>{var F;return A+((F=L.material.fire_resist)!=null?F:0)*L.portion},0)/s;const C=(I=t.environmental_protection)!=null?I:0;return C<10&&(S*=C/10),S};return r.$$set=S=>{"item"in S&&n(0,t=S.item)},[t,l,s,a,f,u,c,d,b]}class _3 extends wt{constructor(e){super(),kt(this,e,c3,a3,vt,{item:0})}}function d3(r){let e,n,t,i,o;return i=new xt({props:{items:r[1],$$slots:{default:[m3,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Bash",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function Ma(r){let e,n,t=r[3].bash.str_min+"",i,o;return{c(){e=p("span"),n=T("(\u2265 "),i=T(t),o=T(" STR)"),Rt(e,"color","var(--cata-color-gray)")},m(l,s){g(l,e,s),m(e,n),m(e,i),m(e,o)},p(l,s){s&8&&t!==(t=l[3].bash.str_min+"")&&ne(i,t)},d(l){l&&h(e)}}}function m3(r){let e,n,t,i,o,l;e=new Mt({props:{item:r[0].byId(r[3].type,r[3].id)}}),t=new Se({props:{id:r[3].id,type:r[3].type}});let s=r[3].bash.str_min&&Ma(r);return{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment),i=M(),s&&s.c(),o=ge()},m(a,f){W(e,a,f),g(a,n,f),W(t,a,f),g(a,i,f),s&&s.m(a,f),g(a,o,f),l=!0},p(a,f){const u={};f&8&&(u.item=a[0].byId(a[3].type,a[3].id)),e.$set(u);const c={};f&8&&(c.id=a[3].id),f&8&&(c.type=a[3].type),t.$set(c),a[3].bash.str_min?s?s.p(a,f):(s=Ma(a),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i(a){l||(v(e.$$.fragment,a),v(t.$$.fragment,a),l=!0)},o(a){E(e.$$.fragment,a),E(t.$$.fragment,a),l=!1},d(a){V(e,a),a&&h(n),V(t,a),a&&h(i),s&&s.d(a),a&&h(o)}}}function p3(r){let e,n,t=r[1].length&&d3(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function h3(r,e,n){let{item_id:t}=e;const i=Yt("data");let o=i.byType("terrain").concat(i.byType("furniture")).filter(l=>{var a;return((a=l.bash)!=null&&a.items?i.flattenItemGroup({subtype:"collection",entries:typeof l.bash.items=="string"?[{group:l.bash.items}]:l.bash.items}):[]).some(({id:f})=>f===t)}).sort((l,s)=>Fe(l).localeCompare(Fe(s)));return r.$$set=l=>{"item_id"in l&&n(2,t=l.item_id)},[i,o,t]}class g3 extends wt{constructor(e){super(),kt(this,e,h3,p3,vt,{item_id:2})}}function La(r){let e,n,t,i;return t=new Se({props:{type:"item",id:r[0].installation_data}}),{c(){e=p("dt"),e.textContent="Installation data",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].installation_data),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function b3(r){var C,I;let e,n,t,i,o,l,s,a,f,u=((C=r[0].difficulty)!=null?C:0)+"",c,d,b,$=r[0].is_upgrade?"yes":"no",k,w;s=new Se({props:{type:"bionic",id:(I=r[0].bionic_id)!=null?I:r[0].id}});let S=r[0].installation_data&&La(r);return{c(){e=p("section"),n=p("h1"),n.textContent="Bionic",t=M(),i=p("dl"),o=p("dt"),o.textContent="Installs as",l=p("dd"),J(s.$$.fragment),a=p("dt"),a.textContent="Difficulty",f=p("dd"),c=T(u),d=p("dt"),d.textContent="Is upgrade",b=p("dd"),k=T($),S&&S.c()},m(A,L){g(A,e,L),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),W(s,l,null),m(i,a),m(i,f),m(f,c),m(i,d),m(i,b),m(b,k),S&&S.m(i,null),w=!0},p(A,[L]){var j,P;const F={};L&1&&(F.id=(j=A[0].bionic_id)!=null?j:A[0].id),s.$set(F),(!w||L&1)&&u!==(u=((P=A[0].difficulty)!=null?P:0)+"")&&ne(c,u),(!w||L&1)&&$!==($=A[0].is_upgrade?"yes":"no")&&ne(k,$),A[0].installation_data?S?(S.p(A,L),L&1&&v(S,1)):(S=La(A),S.c(),v(S,1),S.m(i,null)):S&&(ce(),E(S,1,1,()=>{S=null}),_e())},i(A){w||(v(s.$$.fragment,A),v(S),w=!0)},o(A){E(s.$$.fragment,A),E(S),w=!1},d(A){A&&h(e),V(s),S&&S.d()}}}function v3(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class $3 extends wt{constructor(e){super(),kt(this,e,v3,b3,vt,{item:0})}}function Fa(r,e,n){const t=r.slice();return t[4]=e[n][0],t[5]=e[n][1],t}function Pa(r){var b,$;let e,n,t,i,o,l=((b=r[0].required_level)!=null?b:0)+"",s,a,f,u=(($=r[0].max_level)!=null?$:0)+"",c,d;return t=new Se({props:{id:r[0].skill,type:"skill"}}),{c(){e=p("dt"),e.textContent="Skill",n=p("dd"),J(t.$$.fragment),i=p("dt"),i.textContent="Required Level",o=p("dd"),s=T(l),a=p("dt"),a.textContent="Maximum Level",f=p("dd"),c=T(u)},m(k,w){g(k,e,w),g(k,n,w),W(t,n,null),g(k,i,w),g(k,o,w),m(o,s),g(k,a,w),g(k,f,w),m(f,c),d=!0},p(k,w){var C,I;const S={};w&1&&(S.id=k[0].skill),t.$set(S),(!d||w&1)&&l!==(l=((C=k[0].required_level)!=null?C:0)+"")&&ne(s,l),(!d||w&1)&&u!==(u=((I=k[0].max_level)!=null?I:0)+"")&&ne(c,u)},i(k){d||(v(t.$$.fragment,k),d=!0)},o(k){E(t.$$.fragment,k),d=!1},d(k){k&&h(e),k&&h(n),V(t),k&&h(i),k&&h(o),k&&h(a),k&&h(f)}}}function ja(r){let e,n,t=r[0].chapters+"",i;return{c(){e=p("dt"),e.textContent="Chapters",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].chapters+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Ua(r){let e,n,t,i;return t=new Se({props:{type:"martial_art",id:r[0].martial_art}}),{c(){e=p("dt"),e.textContent="Martial Art",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].martial_art),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function y3(r){let e,n,t,i,o=[...r[1].entries()].sort(Ga),l=[];for(let a=0;a<o.length;a+=1)l[a]=qa(Fa(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Recipes",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c()},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f&2){o=[...a[1].entries()].sort(Ga);let u;for(u=0;u<o.length;u+=1){const c=Fa(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=qa(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function qa(r){let e,n,t,i=r[5]+"",o,l,s;return n=new Se({props:{id:r[4],type:"item"}}),{c(){e=p("li"),J(n.$$.fragment),t=T(" ("),o=T(i),l=T(")")},m(a,f){g(a,e,f),W(n,e,null),m(e,t),m(e,o),m(e,l),s=!0},p:de,i(a){s||(v(n.$$.fragment,a),s=!0)},o(a){E(n.$$.fragment,a),s=!1},d(a){a&&h(e),V(n)}}}function k3(r){var P,U,Q;let e,n,t,i,o,l,s=((P=r[0].intelligence)!=null?P:0)+"",a,f,u,c=((U=r[0].time)!=null?U:0)+"",d,b,$,k=((Q=r[0].fun)!=null?Q:0)+"",w,S,C,I,A=r[0].skill&&Pa(r),L=r[0].chapters&&ja(r),F=r[0].martial_art&&Ua(r),j=r[1].size&&y3(r);return{c(){e=p("section"),n=p("h1"),n.textContent="Book",t=M(),i=p("dl"),A&&A.c(),o=p("dt"),o.textContent="Required Intelligence",l=p("dd"),a=T(s),f=p("dt"),f.textContent="Read Time",u=p("dd"),d=T(c),b=p("dt"),b.textContent="Fun",$=p("dd"),w=T(k),L&&L.c(),S=ge(),F&&F.c(),C=ge(),j&&j.c()},m(re,D){g(re,e,D),m(e,n),m(e,t),m(e,i),A&&A.m(i,null),m(i,o),m(i,l),m(l,a),m(i,f),m(i,u),m(u,d),m(i,b),m(i,$),m($,w),L&&L.m(i,null),m(i,S),F&&F.m(i,null),m(i,C),j&&j.m(i,null),I=!0},p(re,[D]){var G,Z,z;re[0].skill?A?(A.p(re,D),D&1&&v(A,1)):(A=Pa(re),A.c(),v(A,1),A.m(i,o)):A&&(ce(),E(A,1,1,()=>{A=null}),_e()),(!I||D&1)&&s!==(s=((G=re[0].intelligence)!=null?G:0)+"")&&ne(a,s),(!I||D&1)&&c!==(c=((Z=re[0].time)!=null?Z:0)+"")&&ne(d,c),(!I||D&1)&&k!==(k=((z=re[0].fun)!=null?z:0)+"")&&ne(w,k),re[0].chapters?L?L.p(re,D):(L=ja(re),L.c(),L.m(i,S)):L&&(L.d(1),L=null),re[0].martial_art?F?(F.p(re,D),D&1&&v(F,1)):(F=Ua(re),F.c(),v(F,1),F.m(i,C)):F&&(ce(),E(F,1,1,()=>{F=null}),_e()),re[1].size&&j.p(re,D)},i(re){I||(v(A),v(F),v(j),I=!0)},o(re){E(A),E(F),E(j),I=!1},d(re){re&&h(e),A&&A.d(),L&&L.d(),F&&F.d(),j&&j.d()}}}const Ga=(r,e)=>r[1]!==e[1]?r[1]-e[1]:r[0].localeCompare(e[0]);function w3(r,e,n){var s;let{item:t}=e,i=Yt("data");const o=new Map;function l(a,f){var u;o.set(a,Math.min(f,(u=o.get(a))!=null?u:1/0))}for(const a of i.byType("recipe"))if(Array.isArray(a.book_learn)){for(const[f,u=0]of a.book_learn)if(f===t.id)l(a.result,u);else if(a.book_learn)for(const[c,d]of Object.entries(a.book_learn))c===t.id&&l(a.result,(s=d.skill_level)!=null?s:0)}return r.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,o]}class E3 extends wt{constructor(e){super(),kt(this,e,w3,k3,vt,{item:0})}}function Ya(r,e,n){const t=r.slice();return t[1]=e[n][0],t[2]=e[n][1],t[4]=n,t}function Ha(r){let e,n,t,i=r[0].vitamins,o=[];for(let s=0;s<i.length;s+=1)o[s]=za(Ya(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("dt"),e.textContent="Vitamins (%RDA)",n=p("dd");for(let s=0;s<o.length;s+=1)o[s].c()},m(s,a){g(s,e,a),g(s,n,a);for(let f=0;f<o.length;f+=1)o[f].m(n,null);t=!0},p(s,a){if(a&1){i=s[0].vitamins;let f;for(f=0;f<i.length;f+=1){const u=Ya(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=za(u),o[f].c(),v(o[f],1),o[f].m(n,null))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),s&&h(n),Ce(o,s)}}}function S3(r){let e=" and ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function T3(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function za(r){let e,n,t=r[2]+"",i,o,l,s;e=new Se({props:{id:r[1],type:"vitamin"}});function a(c,d){if(c[4]<c[0].vitamins.length-2)return T3;if(c[4]===c[0].vitamins.length-2)return S3}let f=a(r),u=f&&f(r);return{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T("%)"),u&&u.c(),l=ge()},m(c,d){W(e,c,d),g(c,n,d),g(c,i,d),g(c,o,d),u&&u.m(c,d),g(c,l,d),s=!0},p(c,d){const b={};d&1&&(b.id=c[1]),e.$set(b),(!s||d&1)&&t!==(t=c[2]+"")&&ne(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(l.parentNode,l)))},i(c){s||(v(e.$$.fragment,c),s=!0)},o(c){E(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&h(n),c&&h(i),c&&h(o),u&&u.d(c),c&&h(l)}}}function C3(r){var X,Y,ee,pe,ie,H;let e,n,t,i,o,l,s=((X=r[0].calories)!=null?X:0)+"",a,f,u,c,d=((Y=r[0].quench)!=null?Y:0)+"",b,$,k,w=((ee=r[0].fun)!=null?ee:0)+"",S,C,I,A=((pe=r[0].charges)!=null?pe:1)+"",L,F,j,P=((ie=r[0].spoils_in)!=null?ie:"never")+"",U,Q,re,D=((H=r[0].healthy)!=null?H:0)+"",G,Z,z=r[0].vitamins&&Ha(r);return{c(){e=p("section"),n=p("h1"),n.textContent="Comestible",t=M(),i=p("dl"),o=p("dt"),o.textContent="Calories",l=p("dd"),a=T(s),f=T(" kcal"),u=p("dt"),u.textContent="Quench",c=p("dd"),b=T(d),$=p("dt"),$.textContent="Enjoyability",k=p("dd"),S=T(w),C=p("dt"),C.textContent="Portions",I=p("dd"),L=T(A),F=p("dt"),F.textContent="Spoils In",j=p("dd"),U=T(P),Q=p("dt"),Q.textContent="Health",re=p("dd"),G=T(D),z&&z.c()},m(K,se){g(K,e,se),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),m(l,a),m(l,f),m(i,u),m(i,c),m(c,b),m(i,$),m(i,k),m(k,S),m(i,C),m(i,I),m(I,L),m(i,F),m(i,j),m(j,U),m(i,Q),m(i,re),m(re,G),z&&z.m(i,null),Z=!0},p(K,[se]){var x,oe,$e,He,Me,be;(!Z||se&1)&&s!==(s=((x=K[0].calories)!=null?x:0)+"")&&ne(a,s),(!Z||se&1)&&d!==(d=((oe=K[0].quench)!=null?oe:0)+"")&&ne(b,d),(!Z||se&1)&&w!==(w=(($e=K[0].fun)!=null?$e:0)+"")&&ne(S,w),(!Z||se&1)&&A!==(A=((He=K[0].charges)!=null?He:1)+"")&&ne(L,A),(!Z||se&1)&&P!==(P=((Me=K[0].spoils_in)!=null?Me:"never")+"")&&ne(U,P),(!Z||se&1)&&D!==(D=((be=K[0].healthy)!=null?be:0)+"")&&ne(G,D),K[0].vitamins?z?(z.p(K,se),se&1&&v(z,1)):(z=Ha(K),z.c(),v(z,1),z.m(i,null)):z&&(ce(),E(z,1,1,()=>{z=null}),_e())},i(K){Z||(v(z),Z=!0)},o(K){E(z),Z=!1},d(K){K&&h(e),z&&z.d()}}}function I3(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class O3 extends wt{constructor(e){super(),kt(this,e,I3,C3,vt,{item:0})}}function R3(r){let e,n,t,i,o;return i=new xt({props:{items:r[1],$$slots:{default:[N3,({item:l})=>({10:l}),({item:l})=>l?1024:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Provided By Vehicle Parts",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&3072&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function N3(r){let e,n,t,i;return e=new Mt({props:{item:r[10]}}),t=new Se({props:{type:r[10].type,id:r[10].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1024&&(s.item=o[10]),e.$set(s);const a={};l&1024&&(a.type=o[10].type),l&1024&&(a.id=o[10].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function A3(r){let e,n,t,i,o;return i=new xt({props:{items:r[2],$$slots:{default:[B3,({item:l})=>({10:l}),({item:l})=>l?1024:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Provided By Furniture",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&3072&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function B3(r){let e,n,t,i;return e=new Mt({props:{item:r[10]}}),t=new Se({props:{type:r[10].type,id:r[10].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1024&&(s.item=o[10]),e.$set(s);const a={};l&1024&&(a.type=o[10].type),l&1024&&(a.id=o[10].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function D3(r){let e,n,t,i,o;return i=new xt({props:{items:r[3],$$slots:{default:[M3,({item:l})=>({10:l}),({item:l})=>l?1024:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Component Of",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&3072&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function M3(r){let e,n,t,i;return e=new Mt({props:{item:r[0].byId("item",r[10])}}),t=new Se({props:{type:"item",id:r[10]}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1024&&(s.item=o[0].byId("item",o[10])),e.$set(s);const a={};l&1024&&(a.id=o[10]),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function L3(r){let e,n,t,i,o;return i=new xt({props:{items:r[4],$$slots:{default:[F3,({item:l})=>({10:l}),({item:l})=>l?1024:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Tool For Crafting",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&3072&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function F3(r){let e,n,t,i;return e=new Mt({props:{item:r[0].byId("item",r[10])}}),t=new Se({props:{type:"item",id:r[10]}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1024&&(s.item=o[0].byId("item",o[10])),e.$set(s);const a={};l&1024&&(a.id=o[10]),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function P3(r){let e,n,t,i,o,l=r[1].length&&R3(r),s=r[2].length&&A3(r),a=r[3].length&&D3(r),f=r[4].length&&L3(r);return{c(){l&&l.c(),e=M(),s&&s.c(),n=M(),t=p("div"),a&&a.c(),i=M(),f&&f.c(),ye(t,"class","side-by-side")},m(u,c){l&&l.m(u,c),g(u,e,c),s&&s.m(u,c),g(u,n,c),g(u,t,c),a&&a.m(t,null),m(t,i),f&&f.m(t,null),o=!0},p(u,[c]){u[1].length&&l.p(u,c),u[2].length&&s.p(u,c),u[3].length&&a.p(u,c),u[4].length&&f.p(u,c)},i(u){o||(v(l),v(s),v(a),v(f),o=!0)},o(u){E(l),E(s),E(a),E(f),o=!1},d(u){l&&l.d(u),u&&h(e),s&&s.d(u),u&&h(n),u&&h(t),a&&a.d(),f&&f.d()}}}function j3(r,e,n){var b,$;let{item_id:t}=e;const i=Yt("data"),{byTool:o,byComponent:l}=i.getItemComponents(),s=(b=l.get(t))!=null?b:new Set,a=($=o.get(t))!=null?$:new Set,f=i.byType("vehicle_part").filter(k=>{var w;return k.id&&((w=k.pseudo_tools)==null?void 0:w.some(S=>S.id===t))}),u=i.byType("furniture").filter(k=>k.id&&k.crafting_pseudo_item===t),c=[...s].sort((k,w)=>Fe(i.byId("item",k)).localeCompare(Fe(i.byId("item",w)))),d=[...a].sort((k,w)=>Fe(i.byId("item",k)).localeCompare(Fe(i.byId("item",w))));return r.$$set=k=>{"item_id"in k&&n(5,t=k.item_id)},[i,f,u,c,d,t]}class U3 extends wt{constructor(e){super(),kt(this,e,j3,P3,vt,{item_id:5})}}function q3(r){let e,n,t,i,o;return i=new xt({props:{items:r[1],$$slots:{default:[G3,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Construct",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function Wa(r){let e,n,t,i,o;return n=new Mt({props:{item:r[0].byId(r[3].pre_terrain.startsWith("f_")?"furniture":"terrain",r[3].pre_terrain)}}),i=new Se({props:{type:r[3].pre_terrain.startsWith("f_")?"furniture":"terrain",id:r[3].pre_terrain}}),{c(){e=T("on "),J(n.$$.fragment),t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),W(n,l,s),g(l,t,s),W(i,l,s),o=!0},p(l,s){const a={};s&8&&(a.item=l[0].byId(l[3].pre_terrain.startsWith("f_")?"furniture":"terrain",l[3].pre_terrain)),n.$set(a);const f={};s&8&&(f.type=l[3].pre_terrain.startsWith("f_")?"furniture":"terrain"),s&8&&(f.id=l[3].pre_terrain),i.$set(f)},i(l){o||(v(n.$$.fragment,l),v(i.$$.fragment,l),o=!0)},o(l){E(n.$$.fragment,l),E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(n,l),l&&h(t),V(i,l)}}}function G3(r){let e,n,t,i;e=new Se({props:{id:r[3].group,type:"construction_group"}});let o=r[3].pre_terrain&&Wa(r);return{c(){J(e.$$.fragment),n=M(),o&&o.c(),t=ge()},m(l,s){W(e,l,s),g(l,n,s),o&&o.m(l,s),g(l,t,s),i=!0},p(l,s){const a={};s&8&&(a.id=l[3].group),e.$set(a),l[3].pre_terrain?o?(o.p(l,s),s&8&&v(o,1)):(o=Wa(l),o.c(),v(o,1),o.m(t.parentNode,t)):o&&(ce(),E(o,1,1,()=>{o=null}),_e())},i(l){i||(v(e.$$.fragment,l),v(o),i=!0)},o(l){E(e.$$.fragment,l),E(o),i=!1},d(l){V(e,l),l&&h(n),o&&o.d(l),l&&h(t)}}}function Y3(r){let e,n,t=r[1].length&&q3(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function H3(r,e,n){let{item_id:t}=e;const i=Yt("data"),o=i.byType("construction").filter(l=>i.flattenItemGroup(i.normalizeItemGroup(l.byproducts,"collection")).some(a=>a.id===t)).sort((l,s)=>Fe(l).localeCompare(Fe(s)));return r.$$set=l=>{"item_id"in l&&n(2,t=l.item_id)},[i,o,t]}class z3 extends wt{constructor(e){super(),kt(this,e,H3,Y3,vt,{item_id:2})}}function W3(r){let e,n,t,i,o;return i=new xt({props:{items:r[1],$$slots:{default:[V3,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Deconstruct",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function V3(r){let e,n,t,i;return e=new Mt({props:{item:r[0].byId(r[3].type,r[3].id)}}),t=new Se({props:{id:r[3].id,type:r[3].type}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&8&&(s.item=o[0].byId(o[3].type,o[3].id)),e.$set(s);const a={};l&8&&(a.id=o[3].id),l&8&&(a.type=o[3].type),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function J3(r){let e,n,t=r[1].length&&W3(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function X3(r,e,n){let{item_id:t}=e;const i=Yt("data");let o=i.byType("terrain").concat(i.byType("furniture")).filter(l=>{var a;return((a=l.deconstruct)!=null&&a.items?i.flattenItemGroup({subtype:"collection",entries:typeof l.deconstruct.items=="string"?[{group:l.deconstruct.items}]:l.deconstruct.items}):[]).some(({id:f})=>f===t)}).sort((l,s)=>Fe(l).localeCompare(Fe(s)));return r.$$set=l=>{"item_id"in l&&n(2,t=l.item_id)},[i,o,t]}class K3 extends wt{constructor(e){super(),kt(this,e,X3,J3,vt,{item_id:2})}}function Z3(r){let e,n,t,i,o;return i=new xt({props:{items:r[1],$$slots:{default:[Q3,({item:l})=>({5:l}),({item:l})=>l?32:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Disassemble",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&96&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function Q3(r){let e,n,t,i;return e=new Mt({props:{item:r[0].byId("item",r[5])}}),t=new Se({props:{type:"item",id:r[5]}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&32&&(s.item=o[0].byId("item",o[5])),e.$set(s);const a={};l&32&&(a.id=o[5]),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function x3(r){let e,n,t=r[1].length&&Z3(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function eC(r,e,n){let{item_id:t}=e,i=Yt("data");const o=new Set,l=i.byType("recipe").concat(i.byType("uncraft")).map(a=>a.result).filter(a=>a);for(const a of l){const f=i.uncraftRecipe(a);if(f){const{components:u}=i.normalizeRequirementsForDisassembly(f);u.map(d=>d[0]).some(d=>d.id===t)&&o.add(f.result)}}const s=[...o].sort((a,f)=>Fe(i.byId("item",a)).localeCompare(Fe(i.byId("item",f))));return r.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[i,s,t]}class tC extends wt{constructor(e){super(),kt(this,e,eC,x3,vt,{item_id:2})}}function nC(r){let e,n,t,i,o;return i=new xt({props:{items:r[1],$$slots:{default:[iC,({item:l})=>({8:l}),({item:l})=>l?256:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Dropped By",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&768&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function iC(r){let e,n,t,i,o=Jr(r[8].prob)+"",l,s,a;return e=new Mt({props:{item:r[0].byId("monster",r[8].id)}}),t=new Se({props:{type:"monster",id:r[8].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment),i=T(" ("),l=T(o),s=T(")")},m(f,u){W(e,f,u),g(f,n,u),W(t,f,u),g(f,i,u),g(f,l,u),g(f,s,u),a=!0},p(f,u){const c={};u&256&&(c.item=f[0].byId("monster",f[8].id)),e.$set(c);const d={};u&256&&(d.id=f[8].id),t.$set(d),(!a||u&256)&&o!==(o=Jr(f[8].prob)+"")&&ne(l,o)},i(f){a||(v(e.$$.fragment,f),v(t.$$.fragment,f),a=!0)},o(f){E(e.$$.fragment,f),E(t.$$.fragment,f),a=!1},d(f){V(e,f),f&&h(n),V(t,f),f&&h(i),f&&h(l),f&&h(s)}}}function rC(r){let e,n,t,i,o;return i=new xt({props:{items:r[2],$$slots:{default:[lC,({item:l})=>({7:l}),({item:l})=>l?128:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Butcher",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&640&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function lC(r){let e,n,t,i;return e=new Mt({props:{item:r[7]}}),t=new Se({props:{id:r[7].id,type:"monster"}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&128&&(s.item=o[7]),e.$set(s);const a={};l&128&&(a.id=o[7].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function oC(r){let e,n,t,i,o;return i=new xt({props:{items:r[3],$$slots:{default:[sC,({item:l})=>({7:l}),({item:l})=>l?128:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Dissect",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&640&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function sC(r){let e,n,t,i;return e=new Mt({props:{item:r[7]}}),t=new Se({props:{id:r[7].id,type:"monster"}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&128&&(s.item=o[7]),e.$set(s);const a={};l&128&&(a.id=o[7].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function fC(r){let e,n,t,i,o=r[1].length&&nC(r),l=r[2].length&&rC(r),s=r[3].length&&oC(r);return{c(){o&&o.c(),e=M(),l&&l.c(),n=M(),s&&s.c(),t=ge()},m(a,f){o&&o.m(a,f),g(a,e,f),l&&l.m(a,f),g(a,n,f),s&&s.m(a,f),g(a,t,f),i=!0},p(a,[f]){a[1].length&&o.p(a,f),a[2].length&&l.p(a,f),a[3].length&&s.p(a,f)},i(a){i||(v(o),v(l),v(s),i=!0)},o(a){E(o),E(l),E(s),i=!1},d(a){o&&o.d(a),a&&h(e),l&&l.d(a),a&&h(n),s&&s.d(a),a&&h(t)}}}function aC(r,e,n){let{item_id:t}=e,i=Yt("data");const o=i.byType("monster").flatMap(u=>{if(!u.id)return[];const d=i.flatDeathDrops(u.id).find(b=>b.id===t);return d?[{id:u.id,prob:d.prob}]:[]});o.sort((u,c)=>c.prob-u.prob);const l=u=>{var c,d;return(d=(c=u.entries)==null?void 0:c.flatMap(b=>{var $;return b.type&&(($=i.byId("harvest_drop_type",b.type))==null?void 0:$.group)?i.flattenItemGroup(i.byId("item_group",b.drop)).map(k=>k.id):[b.drop]}))!=null?d:[]},s=i.byType("harvest").filter(u=>l(u).some(c=>c===t)),a=i.byType("monster").filter(u=>u.id&&s.some(c=>c.id===u.harvest)),f=i.byType("monster").filter(u=>u.id&&s.some(c=>c.id===u.dissect));return r.$$set=u=>{"item_id"in u&&n(4,t=u.item_id)},[i,o,a,f,t]}class uC extends wt{constructor(e){super(),kt(this,e,aC,fC,vt,{item_id:4})}}function Va(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t}function cC(r){let e,n,t,i,o;return i=new xt({props:{items:r[1],$$slots:{default:[_C,({item:l})=>({5:l}),({item:l})=>l?32:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Forage",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&1056&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function Ja(r){let e,n=r[6]+"",t;return{c(){e=p("li"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function _C(r){let e,n,t,i,o,l;e=new Mt({props:{item:r[5]}}),t=new Se({props:{type:"terrain",id:r[5].id}});let s=r[0],a=[];for(let f=0;f<s.length;f+=1)a[f]=Ja(Va(r,s,f));return{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment),i=T(` in
      `),o=p("ul");for(let f=0;f<a.length;f+=1)a[f].c();ye(o,"class","comma-separated or")},m(f,u){W(e,f,u),g(f,n,u),W(t,f,u),g(f,i,u),g(f,o,u);for(let c=0;c<a.length;c+=1)a[c].m(o,null);l=!0},p(f,u){const c={};u&32&&(c.item=f[5]),e.$set(c);const d={};if(u&32&&(d.id=f[5].id),t.$set(d),u&1){s=f[0];let b;for(b=0;b<s.length;b+=1){const $=Va(f,s,b);a[b]?a[b].p($,u):(a[b]=Ja($),a[b].c(),a[b].m(o,null))}for(;b<a.length;b+=1)a[b].d(1);a.length=s.length}},i(f){l||(v(e.$$.fragment,f),v(t.$$.fragment,f),l=!0)},o(f){E(e.$$.fragment,f),E(t.$$.fragment,f),l=!1},d(f){V(e,f),f&&h(n),V(t,f),f&&h(i),f&&h(o),Ce(a,f)}}}function dC(r){let e,n,t=r[0].length&&cC(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function mC(r,e,n){let{item_id:t}=e,i=Yt("data");const o={Spring:"forage_spring",Summer:"forage_summer",Autumn:"forage_autumn",Winter:"forage_winter","any season":"trash_forest"},l=Object.keys(o).map(a=>{var u;const f=i.flattenItemGroup(i.byId("item_group",o[a]));return[a,(u=f.find(c=>c.id===t))==null?void 0:u.prob]}).filter(a=>a[1]),s=i.byType("terrain").filter(a=>a.examine_action==="shrub_wildveggies");return r.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[l,s,t]}class pC extends wt{constructor(e){super(),kt(this,e,mC,dC,vt,{item_id:2})}}function hC(r){let e,n,t,i,o;return i=new xt({props:{items:r[0],$$slots:{default:[gC,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Grown From",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function gC(r){var f;let e,n,t,i,o=((f=r[3].seed_data.grow)!=null?f:"1 day")+"",l,s,a;return e=new Mt({props:{item:r[3]}}),t=new Se({props:{id:r[3].id,type:"item"}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment),i=T(" ("),l=T(o),s=T(")")},m(u,c){W(e,u,c),g(u,n,c),W(t,u,c),g(u,i,c),g(u,l,c),g(u,s,c),a=!0},p(u,c){var $;const d={};c&8&&(d.item=u[3]),e.$set(d);const b={};c&8&&(b.id=u[3].id),t.$set(b),(!a||c&8)&&o!==(o=(($=u[3].seed_data.grow)!=null?$:"1 day")+"")&&ne(l,o)},i(u){a||(v(e.$$.fragment,u),v(t.$$.fragment,u),a=!0)},o(u){E(e.$$.fragment,u),E(t.$$.fragment,u),a=!1},d(u){V(e,u),u&&h(n),V(t,u),u&&h(i),u&&h(l),u&&h(s)}}}function bC(r){let e,n,t=r[0].length&&hC(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function vC(r,e,n){let{item_id:t}=e;const o=Yt("data").byType("item").filter(l=>{var s;return!l.id||!l.seed_data?!1:l.seed_data.fruit===t||((s=l.seed_data.byproducts)==null?void 0:s.includes(t))});return r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class $C extends wt{constructor(e){super(),kt(this,e,vC,bC,vt,{item_id:1})}}function Xa(r){let e,n,t=r[0].min_strength+"",i;return{c(){e=p("dt"),e.textContent="Min Strength",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].min_strength+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Ka(r){let e,n,t=r[0].valid_mod_locations.map(Za).join(", ")+"",i,o;return{c(){e=p("dt"),e.textContent="Mod Slots",n=p("dd"),i=T(t),o=M()},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p(l,s){s&1&&t!==(t=l[0].valid_mod_locations.map(Za).join(", ")+"")&&ne(i,t)},d(l){l&&h(e),l&&h(n)}}}function yC(r){var nt,Ge,Oe,Ne,Ot,ke,Pe,mt,We,xe;let e,n,t,i,o,l,s,a,f,u,c,d,b,$=((nt=r[0].range)!=null?nt:0)+"",k,w,S,C=((Ge=r[0].dispersion)!=null?Ge:0)+"",I,A,L,F=(((Oe=r[0].flags)!=null?Oe:[]).includes("DISABLE_SIGHTS")?90:(Ne=r[0].sight_dispersion)!=null?Ne:30)+"",j,P,U,Q,re=((Ot=r[0].recoil)!=null?Ot:0)+"",D,G,Z,z=((ke=r[0].loudness)!=null?ke:0).toFixed(0)+"",X,Y,ee,pe=((Pe=r[0].reload)!=null?Pe:100)+"",ie,H,K,se,x=((mt=r[0].reload_noise_volume)!=null?mt:0)+"",oe,$e,He,Me=((We=r[0].durability)!=null?We:0)+"",be,Ee;s=new Se({props:{type:"skill",id:r[0].skill}});let Ie=r[0].min_strength&&Xa(r),we=((xe=r[0].valid_mod_locations)==null?void 0:xe.length)&&Ka(r);return{c(){var qe,Le,Ze;e=p("section"),n=p("h1"),n.textContent="Ranged",t=M(),i=p("dl"),o=p("dt"),o.textContent="Skill",l=p("dd"),J(s.$$.fragment),Ie&&Ie.c(),a=p("dt"),a.textContent="Base Damage",f=p("dd"),f.textContent=`${(qe=r[1].amount)!=null?qe:0} (${(Le=r[1].damage_type)!=null?Le:"bullet"})
    `,u=p("dt"),u.textContent="Armor Penetration",c=p("dd"),c.textContent=`${(Ze=r[1].armor_penetration)!=null?Ze:0}`,d=p("dt"),d.textContent="Range Bonus",b=p("dd"),k=T($),w=p("dt"),w.textContent="Base Dispersion",S=p("dd"),I=T(C),A=p("dt"),A.textContent="Sight Dispersion",L=p("dd"),j=T(F),P=M(),U=p("dt"),U.textContent="Base Recoil",Q=p("dd"),D=T(re),G=p("dt"),G.textContent=`Loudness Modifier
    `,Z=p("dd"),X=T(z),Y=p("dt"),Y.textContent="Reload Time",ee=p("dd"),ie=T(pe),H=T(" moves"),K=p("dt"),K.textContent=`Reload Noise Volume
    `,se=p("dd"),oe=T(x),we&&we.c(),$e=p("dt"),$e.textContent="Durability",He=p("dd"),be=T(Me),ye(d,"title","Added to ammo range"),ye(w,"title","Added to ammo dispersion"),ye(G,"title","Modifies base loudness as provided by the currently loaded ammo"),ye(K,"title","Volume of the noise made when reloading this weapon")},m(qe,Le){g(qe,e,Le),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),W(s,l,null),Ie&&Ie.m(i,null),m(i,a),m(i,f),m(i,u),m(i,c),m(i,d),m(i,b),m(b,k),m(i,w),m(i,S),m(S,I),m(i,A),m(i,L),m(L,j),m(L,P),m(i,U),m(i,Q),m(Q,D),m(i,G),m(i,Z),m(Z,X),m(i,Y),m(i,ee),m(ee,ie),m(ee,H),m(i,K),m(i,se),m(se,oe),we&&we.m(i,null),m(i,$e),m(i,He),m(He,be),Ee=!0},p(qe,[Le]){var rt,lt,Ve,ve,le,fe,ae,Ye,_t,dt;const Ze={};Le&1&&(Ze.id=qe[0].skill),s.$set(Ze),qe[0].min_strength?Ie?Ie.p(qe,Le):(Ie=Xa(qe),Ie.c(),Ie.m(i,a)):Ie&&(Ie.d(1),Ie=null),(!Ee||Le&1)&&$!==($=((rt=qe[0].range)!=null?rt:0)+"")&&ne(k,$),(!Ee||Le&1)&&C!==(C=((lt=qe[0].dispersion)!=null?lt:0)+"")&&ne(I,C),(!Ee||Le&1)&&F!==(F=(((Ve=qe[0].flags)!=null?Ve:[]).includes("DISABLE_SIGHTS")?90:(ve=qe[0].sight_dispersion)!=null?ve:30)+"")&&ne(j,F),(!Ee||Le&1)&&re!==(re=((le=qe[0].recoil)!=null?le:0)+"")&&ne(D,re),(!Ee||Le&1)&&z!==(z=((fe=qe[0].loudness)!=null?fe:0).toFixed(0)+"")&&ne(X,z),(!Ee||Le&1)&&pe!==(pe=((ae=qe[0].reload)!=null?ae:100)+"")&&ne(ie,pe),(!Ee||Le&1)&&x!==(x=((Ye=qe[0].reload_noise_volume)!=null?Ye:0)+"")&&ne(oe,x),(_t=qe[0].valid_mod_locations)!=null&&_t.length?we?we.p(qe,Le):(we=Ka(qe),we.c(),we.m(i,$e)):we&&(we.d(1),we=null),(!Ee||Le&1)&&Me!==(Me=((dt=qe[0].durability)!=null?dt:0)+"")&&ne(be,Me)},i(qe){Ee||(v(s.$$.fragment,qe),Ee=!0)},o(qe){E(s.$$.fragment,qe),Ee=!1},d(qe){qe&&h(e),V(s),Ie&&Ie.d(),we&&we.d()}}}const Za=([r,e])=>`${r} (${e})`;function kC(r,e,n){var o;let{item:t}=e;const i=Array.isArray(t.ranged_damage)?t.ranged_damage[0]:typeof t.ranged_damage=="number"?t.ranged_damage:t.ranged_damage&&"values"in t.ranged_damage?t.ranged_damage.values[0]:(o=t.ranged_damage)!=null?o:{amount:0,damage_type:"bullet",armor_penetration:0};return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,i]}class wC extends wt{constructor(e){super(),kt(this,e,kC,yC,vt,{item:0})}}function EC(r){let e,n,t,i,o;return i=new xt({props:{items:r[0],$$slots:{default:[SC,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Harvest",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function SC(r){let e,n,t,i;return e=new Mt({props:{item:r[3]}}),t=new Se({props:{type:r[3].type,id:r[3].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&8&&(s.item=o[3]),e.$set(s);const a={};l&8&&(a.type=o[3].type),l&8&&(a.id=o[3].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function TC(r){let e,n,t=r[0].length&&EC(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function CC(r,e,n){let{item_id:t}=e;const i=Yt("data"),o=i.byType("terrain").concat(i.byType("furniture")).filter(l=>{var s;return((s=l.harvest_by_season)!=null?s:[]).some(a=>a.id?i.byId("harvest",a.id).entries.some(u=>u.type==="bionic_group"?i.flattenItemGroup(i.byId("item_group",u.drop)).some(c=>c.id===t):u.drop===t):!1)});return o.sort((l,s)=>Fe(l).localeCompare(Fe(s))),r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class IC extends wt{constructor(e){super(),kt(this,e,CC,TC,vt,{item_id:1})}}function OC(r){let e,n,t,i,o;return i=new xt({props:{items:r[1],$$slots:{default:[RC,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Compatible Items",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&9&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function RC(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"item",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function NC(r){let e,n,t=r[1].length&&OC(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function AC(r,e,n){let{item:t}=e;const o=Yt("data").byType("item").filter(l=>l.id).filter(l=>{var s;return(s=l.pocket_data)==null?void 0:s.some(a=>{var f,u,c;return(a.pocket_type==="MAGAZINE_WELL"||a.pocket_type==="MAGAZINE")&&(((f=a.item_restriction)==null?void 0:f.includes(t.id))||((u=a.allowed_speedloaders)==null?void 0:u.includes(t.id))||((c=a.flag_restriction)==null?void 0:c.some(d=>{var b;return(b=t.flags)==null?void 0:b.includes(d)})))})});return o.sort((l,s)=>Fe(l).localeCompare(Fe(s))),r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,o]}class BC extends wt{constructor(e){super(),kt(this,e,AC,NC,vt,{item:0})}}function Qa(r,e,n){const t=r.slice();return t[11]=e[n],t}function xa(r){var U,Q;let e,n,t,i,o,l,s=((U=r[0].bashing)!=null?U:0)+"",a,f,u,c,d=((Q=r[0].cutting)!=null?Q:0)+"",b,$,k,w,S,C=r[3](r[0])+"",I,A;function L(re,D){return re[4]?MC:DC}let j=L(r)(r),P=r[1].length&&LC(r);return{c(){e=p("section"),n=p("h1"),n.textContent="Melee",t=M(),i=p("dl"),o=p("dt"),o.textContent="Bash",l=p("dd"),a=T(s),f=p("dt"),j.c(),u=M(),c=p("dd"),b=T(d),$=p("dt"),$.textContent="To Hit",k=p("dd"),k.textContent=`${r[2]}`,w=p("dt"),w.textContent="Moves Per Attack",S=p("dd"),I=T(C),P&&P.c()},m(re,D){g(re,e,D),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),m(l,a),m(i,f),j.m(f,null),m(f,u),m(i,c),m(c,b),m(i,$),m(i,k),m(i,w),m(i,S),m(S,I),P&&P.m(i,null),A=!0},p(re,D){var G,Z;(!A||D&1)&&s!==(s=((G=re[0].bashing)!=null?G:0)+"")&&ne(a,s),(!A||D&1)&&d!==(d=((Z=re[0].cutting)!=null?Z:0)+"")&&ne(b,d),(!A||D&1)&&C!==(C=re[3](re[0])+"")&&ne(I,C),re[1].length&&P.p(re,D)},i(re){A||(v(P),A=!0)},o(re){E(P),A=!1},d(re){re&&h(e),j.d(),P&&P.d()}}}function DC(r){let e;return{c(){e=T("Cut")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function MC(r){let e;return{c(){e=T("Pierce")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function LC(r){let e,n,t,i,o=r[1],l=[];for(let a=0;a<o.length;a+=1)l[a]=eu(Qa(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Techniques",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();ye(t,"class","no-bullets")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f&2){o=a[1];let u;for(u=0;u<o.length;u+=1){const c=Qa(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=eu(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function eu(r){let e,n,t,i,o=qn(r[11].description)+"",l,s,a;return t=new Se({props:{type:"technique",id:r[11].id}}),{c(){e=p("li"),n=p("strong"),J(t.$$.fragment),i=T(": "),l=T(o),s=M()},m(f,u){g(f,e,u),m(e,n),W(t,n,null),m(e,i),m(e,l),m(e,s),a=!0},p:de,i(f){a||(v(t.$$.fragment,f),a=!0)},o(f){E(t.$$.fragment,f),a=!1},d(f){f&&h(e),V(t)}}}function FC(r){let e,n,t=(r[0].bashing||r[0].cutting)&&xa(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[0].bashing||i[0].cutting?t?(t.p(i,o),o&1&&v(t,1)):(t=xa(i),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(ce(),E(t,1,1,()=>{t=null}),_e())},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function PC(r,e,n){var $,k,w,S;let t=Yt("data"),{item:i}=e,o=(($=i.techniques)!=null?$:[]).map(C=>t.byId("technique",C));const l={bad:0,none:1,solid:2,weapon:3},s={hand:0,short:1,long:2},a={point:0,line:1,any:2,every:3},f={clumsy:0,uneven:1,neutral:2,good:3},u=({grip:C="weapon",length:I="hand",surface:A="any",balance:L="neutral"})=>{const F=l[C],j=s[I],P=a[A],U=f[L],Q=-2,re=-1,D=-2,G=-2;return Q+re+D+G+F+j+P+U},c=typeof i.to_hit=="object"?u(i.to_hit):(k=i.to_hit)!=null?k:0;function d(C){return Math.floor(65+(Math.floor(bs(C.volume)/62.5)+Math.floor(lo(C.weight)/60)))}const b=((w=i.flags)!=null?w:[]).includes("SPEAR")||((S=i.flags)!=null?S:[]).includes("STAB");return r.$$set=C=>{"item"in C&&n(0,i=C.item)},[i,o,c,d,b]}class jC extends wt{constructor(e){super(),kt(this,e,PC,FC,vt,{item:0})}}function tu(r,e,n){const t=r.slice();return t[5]=e[n],t}function nu(r,e,n){const t=r.slice();return t[8]=e[n],t[10]=n,t}function iu(r,e,n){const t=r.slice();return t[11]=e[n],t}function ru(r,e,n){const t=r.slice();return t[14]=e[n],t[10]=n,t}function UC(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function lu(r){var S,C;let e,n=((S=r[14].amount)!=null?S:1)+"",t,i,o=((C=r[14].amount)!=null?C:1)===1?"":"s",l,s,a,f,u=r[14].level+"",c,d,b="",$,k,w=r[10]!==0&&UC();return a=new Se({props:{type:"tool_quality",id:r[14].id}}),{c(){w&&w.c(),e=M(),t=T(n),i=T(" tool"),l=T(o),s=T(`
          with `),J(a.$$.fragment),f=T(" of "),c=T(u),d=T(`
          or more`),$=T(b)},m(I,A){w&&w.m(I,A),g(I,e,A),g(I,t,A),g(I,i,A),g(I,l,A),g(I,s,A),W(a,I,A),g(I,f,A),g(I,c,A),g(I,d,A),g(I,$,A),k=!0},p:de,i(I){k||(v(a.$$.fragment,I),k=!0)},o(I){E(a.$$.fragment,I),k=!1},d(I){w&&w.d(I),I&&h(e),I&&h(t),I&&h(i),I&&h(l),I&&h(s),V(a,I),I&&h(f),I&&h(c),I&&h(d),I&&h($)}}}function ou(r){let e,n,t,i=r[11],o=[];for(let s=0;s<i.length;s+=1)o[s]=lu(ru(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=T(".")},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a&4){i=s[11];let f;for(f=0;f<i.length;f+=1){const u=ru(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=lu(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function qC(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function GC(r){let e,n;return e=new Se({props:{type:"item",id:r[8].id}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p:de,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function YC(r){let e,n=Fe(r[0].byId("item",r[8].id))+"",t;return{c(){e=p("a"),t=T(n),ye(e,"href","#/furniture/"+r[0].craftingPseudoItem(r[8].id))},m(i,o){g(i,e,o),m(e,t)},p:de,i:de,o:de,d(i){i&&h(e)}}}function HC(r){let e,n=r[8].count+"",t,i,o,l=r[8].count!==1&&zC();return{c(){e=T("("),t=T(n),i=T(" charge"),l&&l.c(),o=T(")")},m(s,a){g(s,e,a),g(s,t,a),g(s,i,a),l&&l.m(s,a),g(s,o,a)},p:de,d(s){s&&h(e),s&&h(t),s&&h(i),l&&l.d(s),s&&h(o)}}}function zC(r){let e;return{c(){e=T("s")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function su(r){let e,n,t,i,o,l,s=r[10]!==0&&qC();const a=[YC,GC],f=[];function u(d,b){return d[0].craftingPseudoItem(d[8].id)?0:1}n=u(r),t=f[n]=a[n](r);let c=r[8].count>0&&HC(r);return{c(){s&&s.c(),e=M(),t.c(),i=M(),c&&c.c(),o=ge()},m(d,b){s&&s.m(d,b),g(d,e,b),f[n].m(d,b),g(d,i,b),c&&c.m(d,b),g(d,o,b),l=!0},p(d,b){t.p(d,b),d[8].count>0&&c.p(d,b)},i(d){l||(v(t),l=!0)},o(d){E(t),l=!1},d(d){s&&s.d(d),d&&h(e),f[n].d(d),d&&h(i),c&&c.d(d),d&&h(o)}}}function fu(r){let e,n,t,i=r[5],o=[];for(let s=0;s<i.length;s+=1)o[s]=su(nu(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=M()},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a&3){i=s[5];let f;for(f=0;f<i.length;f+=1){const u=nu(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=su(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function WC(r){var b;let e,n,t,i,o,l,s=(b=r[2])!=null?b:[],a=[];for(let $=0;$<s.length;$+=1)a[$]=ou(iu(r,s,$));const f=$=>E(a[$],1,1,()=>{a[$]=null});let u=r[1],c=[];for(let $=0;$<u.length;$+=1)c[$]=fu(tu(r,u,$));const d=$=>E(c[$],1,1,()=>{c[$]=null});return{c(){e=p("dt"),e.textContent="Tools Required",n=M(),t=p("dd"),i=p("ul");for(let $=0;$<a.length;$+=1)a[$].c();o=M();for(let $=0;$<c.length;$+=1)c[$].c()},m($,k){g($,e,k),g($,n,k),g($,t,k),m(t,i);for(let w=0;w<a.length;w+=1)a[w].m(i,null);m(i,o);for(let w=0;w<c.length;w+=1)c[w].m(i,null);l=!0},p($,[k]){var w;if(k&4){s=(w=$[2])!=null?w:[];let S;for(S=0;S<s.length;S+=1){const C=iu($,s,S);a[S]?(a[S].p(C,k),v(a[S],1)):(a[S]=ou(C),a[S].c(),v(a[S],1),a[S].m(i,o))}for(ce(),S=s.length;S<a.length;S+=1)f(S);_e()}if(k&3){u=$[1];let S;for(S=0;S<u.length;S+=1){const C=tu($,u,S);c[S]?(c[S].p(C,k),v(c[S],1)):(c[S]=fu(C),c[S].c(),v(c[S],1),c[S].m(i,null))}for(ce(),S=u.length;S<c.length;S+=1)d(S);_e()}},i($){if(!l){for(let k=0;k<s.length;k+=1)v(a[k]);for(let k=0;k<u.length;k+=1)v(c[k]);l=!0}},o($){a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)E(a[k]);c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)E(c[k]);l=!1},d($){$&&h(e),$&&h(n),$&&h(t),Ce(a,$),Ce(c,$)}}}function VC(r,e,n){let{requirement:t}=e,{direction:i="craft"}=e;const o=Yt("data");let{tools:l,qualities:s}=i==="craft"?o.normalizeRequirements(t):o.normalizeRequirementsForDisassembly(t);return r.$$set=a=>{"requirement"in a&&n(3,t=a.requirement),"direction"in a&&n(4,i=a.direction)},[o,l,s,t,i]}class Rg extends wt{constructor(e){super(),kt(this,e,VC,WC,vt,{requirement:3,direction:4})}}function au(r,e,n){const t=r.slice();return t[6]=e[n],t}function uu(r,e,n){const t=r.slice();return t[9]=e[n].id,t[10]=e[n].count,t[12]=n,t}function JC(r){let e,n;return e=new Rg({props:{requirement:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.requirement=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function XC(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=_u(au(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Components",n=M(),t=p("dd"),i=p("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),g(f,n,u),g(f,t,u),m(t,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&18){l=f[4];let c;for(c=0;c<l.length;c+=1){const d=au(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=_u(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),f&&h(t),Ce(s,f)}}}function KC(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function cu(r){let e,n,t,i=r[12]!==0&&KC();return n=new Se({props:{type:"item",id:r[9],count:r[10]}}),{c(){i&&i.c(),e=M(),J(n.$$.fragment)},m(o,l){i&&i.m(o,l),g(o,e,l),W(n,o,l),t=!0},p:de,i(o){t||(v(n.$$.fragment,o),t=!0)},o(o){E(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&h(e),V(n,o)}}}function _u(r){let e,n,t,i=r[6].map(r[5]).filter(du),o=[];for(let s=0;s<i.length;s+=1)o[s]=cu(uu(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=M()},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a&18){i=s[6].map(s[5]).filter(du);let f;for(f=0;f<i.length;f+=1){const u=uu(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=cu(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function ZC(r){var l,s;let e,n,t,i=(((l=r[3])==null?void 0:l.length)||((s=r[2])==null?void 0:s.length))&&JC(r),o=r[4].length&&XC(r);return{c(){i&&i.c(),e=M(),o&&o.c(),n=ge()},m(a,f){i&&i.m(a,f),g(a,e,f),o&&o.m(a,f),g(a,n,f),t=!0},p(a,[f]){var u,c;(((u=a[3])==null?void 0:u.length)||((c=a[2])==null?void 0:c.length))&&i.p(a,f),a[4].length&&o.p(a,f)},i(a){t||(v(i),v(o),t=!0)},o(a){E(i),E(o),t=!1},d(a){i&&i.d(a),a&&h(e),o&&o.d(a),a&&h(n)}}}const du=r=>r.item;function QC(r,e,n){let{requirement:t}=e;const i=Yt("data");let{tools:o,qualities:l,components:s}=i.normalizeRequirements(t);const a=f=>({...f,item:i.byId("item",f.id)});return r.$$set=f=>{"requirement"in f&&n(0,t=f.requirement)},[t,i,o,l,s,a]}class ko extends wt{constructor(e){super(),kt(this,e,QC,ZC,vt,{requirement:0})}}function mu(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1]!==void 0?e[n][1]:0,t}function pu(r,e,n){const t=r.slice();return t[10]=e[n][0],t[7]=e[n][1],t}function hu(r,e,n){const t=r.slice();return t[10]=e[n][0],t[7]=e[n][1],t}function gu(r,e,n){const t=r.slice();return t[15]=e[n],t}function bu(r,e,n){const t=r.slice();return t[18]=e[n],t}function vu(r,e,n){const t=r.slice();return t[10]=e[n][0],t[7]=e[n][1],t[22]=n,t}function xC(r){let e;return{c(){e=T("Craft")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function e4(r){let e;return{c(){e=T("Byproduct")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function $u(r){let e,n,t,i;return t=new Se({props:{id:r[0].result,type:"item"}}),{c(){e=p("dt"),e.textContent="Result",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].result),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function t4(r){let e;return{c(){e=T("none")},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function n4(r){var s;let e,n,t=((s=r[0].difficulty)!=null?s:0)+"",i,o,l;return e=new Se({props:{type:"skill",id:r[0].skill_used}}),{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")")},m(a,f){W(e,a,f),g(a,n,f),g(a,i,f),g(a,o,f),l=!0},p(a,f){var c;const u={};f&1&&(u.id=a[0].skill_used),e.$set(u),(!l||f&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&ne(i,t)},i(a){l||(v(e.$$.fragment,a),l=!0)},o(a){E(e.$$.fragment,a),l=!1},d(a){V(e,a),a&&h(n),a&&h(i),a&&h(o)}}}function i4(r){let e,n,t,i,o=r[2],l=[];for(let f=0;f<o.length;f+=1)l[f]=ku(vu(r,o,f));const s=f=>E(l[f],1,1,()=>{l[f]=null});let a=null;return o.length||(a=yu()),{c(){e=p("dt"),e.textContent="Other Skills",n=p("dd");for(let f=0;f<l.length;f+=1)l[f].c();a&&a.c(),t=M()},m(f,u){g(f,e,u),g(f,n,u);for(let c=0;c<l.length;c+=1)l[c].m(n,null);a&&a.m(n,null),m(n,t),i=!0},p(f,u){if(u&4){o=f[2];let c;for(c=0;c<o.length;c+=1){const d=vu(f,o,c);l[c]?(l[c].p(d,u),v(l[c],1)):(l[c]=ku(d),l[c].c(),v(l[c],1),l[c].m(n,t))}for(ce(),c=o.length;c<l.length;c+=1)s(c);_e(),o.length?a&&(a.d(1),a=null):a||(a=yu(),a.c(),a.m(n,t))}},i(f){if(!i){for(let u=0;u<o.length;u+=1)v(l[u]);i=!0}},o(f){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)E(l[u]);i=!1},d(f){f&&h(e),f&&h(n),Ce(l,f),a&&a.d()}}}function yu(r){let e;return{c(){e=T("none")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function r4(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function l4(r){let e=" and ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function ku(r){let e,n,t=r[7]+"",i,o,l,s;e=new Se({props:{type:"skill",id:r[10]}});function a(c,d){if(c[22]===c[2].length-2)return l4;if(c[22]!==c[2].length-1)return r4}let f=a(r),u=f&&f(r);return{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")"),u&&u.c(),l=ge()},m(c,d){W(e,c,d),g(c,n,d),g(c,i,d),g(c,o,d),u&&u.m(c,d),g(c,l,d),s=!0},p:de,i(c){s||(v(e.$$.fragment,c),s=!0)},o(c){E(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&h(n),c&&h(i),c&&h(o),u&&u.d(c),c&&h(l)}}}function o4(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=wu(bu(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Proficiencies",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M()},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&16){l=f[4];let c;for(c=0;c<l.length;c+=1){const d=bu(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=wu(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function s4(r){let e,n=[[r[18].time_multiplier,"time"],[r[18].fail_multiplier,"fail"],[r[18].learning_time_multiplier,"learning speed"]].filter(b4).map(v4).join(", ")+"",t,i;return{c(){e=T("("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function wu(r){let e,n,t,i,o;n=new Se({props:{type:"proficiency",id:r[18].proficiency}});let l=(r[18].time_multiplier!==1||r[18].fail_multiplier!==1||r[18].learning_time_multiplier!==1)&&s4(r);return{c(){e=p("li"),J(n.$$.fragment),t=M(),l&&l.c(),i=M()},m(s,a){g(s,e,a),W(n,e,null),m(e,t),l&&l.m(e,null),m(e,i),o=!0},p(s,a){(s[18].time_multiplier!==1||s[18].fail_multiplier!==1||s[18].learning_time_multiplier!==1)&&l.p(s,a)},i(s){o||(v(n.$$.fragment,s),o=!0)},o(s){E(n.$$.fragment,s),o=!1},d(s){s&&h(e),V(n),l&&l.d()}}}function f4(r){let e;return{c(){e=p("em"),e.textContent="none"},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function a4(r){let e=r[0].batch_time_factors[0]+"",n,t,i=r[0].batch_time_factors[1]+"",o,l,s=r[0].batch_time_factors[1]===1?"":"s",a;return{c(){n=T(e),t=T("% at >"),o=T(i),l=T(" unit"),a=T(s)},m(f,u){g(f,n,u),g(f,t,u),g(f,o,u),g(f,l,u),g(f,a,u)},p(f,u){u&1&&e!==(e=f[0].batch_time_factors[0]+"")&&ne(n,e),u&1&&i!==(i=f[0].batch_time_factors[1]+"")&&ne(o,i),u&1&&s!==(s=f[0].batch_time_factors[1]===1?"":"s")&&ne(a,s)},d(f){f&&h(n),f&&h(t),f&&h(o),f&&h(l),f&&h(a)}}}function Eu(r){let e,n,t=r[0].charges+"",i;return{c(){e=p("dt"),e.textContent="Recipe Makes",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].charges+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Su(r){let e,n,t,i,o,l=r[0].byproducts,s=[];for(let f=0;f<l.length;f+=1)s[f]=Tu(gu(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Byproducts",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M()},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].byproducts;let c;for(c=0;c<l.length;c+=1){const d=gu(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Tu(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Tu(r){var i;let e,n,t;return n=new Se({props:{type:"item",id:r[15][0],count:(i=r[15][1])!=null?i:1}}),{c(){e=p("li"),J(n.$$.fragment)},m(o,l){g(o,e,l),W(n,e,null),t=!0},p(o,l){var a;const s={};l&1&&(s.id=o[15][0]),l&1&&(s.count=(a=o[15][1])!=null?a:1),n.$set(s)},i(o){t||(v(n.$$.fragment,o),t=!0)},o(o){E(n.$$.fragment,o),t=!1},d(o){o&&h(e),V(n)}}}function u4(r){let e;return{c(){e=T("no")},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function c4(r){let e,n,t,i,o;const l=[d4,_4],s=[];function a(f,u){return u&1&&(n=null),n==null&&(n=!!Array.isArray(f[0].autolearn)),n?0:1}return t=a(r,-1),i=s[t]=l[t](r),{c(){e=p("ul"),i.c(),ye(e,"class","comma-separated")},m(f,u){g(f,e,u),s[t].m(e,null),o=!0},p(f,u){let c=t;t=a(f,u),t===c?s[t].p(f,u):(ce(),E(s[c],1,1,()=>{s[c]=null}),_e(),i=s[t],i?i.p(f,u):(i=s[t]=l[t](f),i.c()),v(i,1),i.m(e,null))},i(f){o||(v(i),o=!0)},o(f){E(i),o=!1},d(f){f&&h(e),s[t].d()}}}function _4(r){let e,n,t,i,o=r[0].skill_used&&Cu(r),l=r[2].length&&m4(r),s=!r[0].skill_used&&!r[2].length&&Ou();return{c(){o&&o.c(),e=M(),l&&l.c(),n=M(),s&&s.c(),t=ge()},m(a,f){o&&o.m(a,f),g(a,e,f),l&&l.m(a,f),g(a,n,f),s&&s.m(a,f),g(a,t,f),i=!0},p(a,f){a[0].skill_used?o?(o.p(a,f),f&1&&v(o,1)):(o=Cu(a),o.c(),v(o,1),o.m(e.parentNode,e)):o&&(ce(),E(o,1,1,()=>{o=null}),_e()),a[2].length&&l.p(a,f),!a[0].skill_used&&!a[2].length?s||(s=Ou(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(a){i||(v(o),v(l),i=!0)},o(a){E(o),E(l),i=!1},d(a){o&&o.d(a),a&&h(e),l&&l.d(a),a&&h(n),s&&s.d(a),a&&h(t)}}}function d4(r){let e,n,t=r[0].autolearn,i=[];for(let l=0;l<t.length;l+=1)i[l]=Ru(hu(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ge()},m(l,s){for(let a=0;a<i.length;a+=1)i[a].m(l,s);g(l,e,s),n=!0},p(l,s){if(s&1){t=l[0].autolearn;let a;for(a=0;a<t.length;a+=1){const f=hu(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=Ru(f),i[a].c(),v(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){Ce(i,l),l&&h(e)}}}function Cu(r){var a;let e,n,t,i=((a=r[0].difficulty)!=null?a:0)+"",o,l,s;return n=new Se({props:{type:"skill",id:r[0].skill_used}}),{c(){e=p("li"),J(n.$$.fragment),t=T(" ("),o=T(i),l=T(")")},m(f,u){g(f,e,u),W(n,e,null),m(e,t),m(e,o),m(e,l),s=!0},p(f,u){var d;const c={};u&1&&(c.id=f[0].skill_used),n.$set(c),(!s||u&1)&&i!==(i=((d=f[0].difficulty)!=null?d:0)+"")&&ne(o,i)},i(f){s||(v(n.$$.fragment,f),s=!0)},o(f){E(n.$$.fragment,f),s=!1},d(f){f&&h(e),V(n)}}}function m4(r){let e,n,t=r[2],i=[];for(let l=0;l<t.length;l+=1)i[l]=Iu(pu(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ge()},m(l,s){for(let a=0;a<i.length;a+=1)i[a].m(l,s);g(l,e,s),n=!0},p(l,s){if(s&4){t=l[2];let a;for(a=0;a<t.length;a+=1){const f=pu(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=Iu(f),i[a].c(),v(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){Ce(i,l),l&&h(e)}}}function Iu(r){let e,n,t,i=r[7]+"",o,l,s;return n=new Se({props:{type:"skill",id:r[10]}}),{c(){e=p("li"),J(n.$$.fragment),t=T(" ("),o=T(i),l=T(")")},m(a,f){g(a,e,f),W(n,e,null),m(e,t),m(e,o),m(e,l),s=!0},p:de,i(a){s||(v(n.$$.fragment,a),s=!0)},o(a){E(n.$$.fragment,a),s=!1},d(a){a&&h(e),V(n)}}}function Ou(r){let e;return{c(){e=p("li"),e.textContent="At birth"},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function Ru(r){let e,n,t,i=r[7]+"",o,l,s;return n=new Se({props:{type:"skill",id:r[10]}}),{c(){e=p("li"),J(n.$$.fragment),t=T(" ("),o=T(i),l=T(")")},m(a,f){g(a,e,f),W(n,e,null),m(e,t),m(e,o),m(e,l),s=!0},p(a,f){const u={};f&1&&(u.id=a[10]),n.$set(u),(!s||f&1)&&i!==(i=a[7]+"")&&ne(o,i)},i(a){s||(v(n.$$.fragment,a),s=!0)},o(a){E(n.$$.fragment,a),s=!1},d(a){a&&h(e),V(n)}}}function p4(r){let e,n,t,i,o=r[3],l=[];for(let a=0;a<o.length;a+=1)l[a]=Nu(mu(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Written In",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();ye(t,"class","comma-separated")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=mu(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=Nu(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function Nu(r){let e,n,t,i,o=r[7]+"",l,s,a;return t=new Se({props:{id:r[6],type:"item"}}),{c(){e=p("li"),n=p("span"),J(t.$$.fragment),i=T(" ("),l=T(o),s=T(")"),Rt(n,"white-space","nowrap")},m(f,u){g(f,e,u),m(e,n),W(t,n,null),m(n,i),m(n,l),m(n,s),a=!0},p:de,i(f){a||(v(t.$$.fragment,f),a=!0)},o(f){E(t.$$.fragment,f),a=!1},d(f){f&&h(e),V(t)}}}function h4(r){var Pe,mt,We;let e,n,t,i,o,l,s,a,f,u,c,d,b=((Pe=r[0].time)!=null?Pe:"0 m")+"",$,k,w,S=((mt=r[0].activity_level)!=null?mt:"MODERATE_EXERCISE")+"",C,I,A,L,F,j,P,U,Q,re,D,G,Z,z,X,Y,ee=JSON.stringify(r[0],null,2)+"",pe,ie;function H(xe,qe){return xe[1]?e4:xC}let K=H(r),se=K(r),x=r[1]&&$u(r);const oe=[n4,t4],$e=[];function He(xe,qe){return xe[0].skill_used?0:1}s=He(r),a=$e[s]=oe[s](r);let Me=r[2].length&&i4(r),be=r[4].length&&o4(r);function Ee(xe,qe){return xe[0].batch_time_factors?a4:f4}let Ie=Ee(r),we=Ie(r),nt=r[0].charges&&Eu(r);j=new ko({props:{requirement:r[0]}});let Ge=((We=r[0].byproducts)==null?void 0:We.length)&&Su(r);const Oe=[c4,u4],Ne=[];function Ot(xe,qe){return xe[0].autolearn?0:1}Q=Ot(r),re=Ne[Q]=Oe[Q](r);let ke=r[3].length&&p4(r);return{c(){e=p("section"),n=p("h1"),se.c(),t=M(),i=p("dl"),x&&x.c(),o=p("dt"),o.textContent="Primary Skill",l=p("dd"),a.c(),f=M(),Me&&Me.c(),u=ge(),be&&be.c(),c=p("dt"),c.textContent="Time to Complete",d=p("dd"),$=T(b),k=p("dt"),k.textContent="Activity Level",w=p("dd"),C=T(S),I=p("dt"),I.textContent="Batch Time Savings",A=p("dd"),we.c(),L=M(),nt&&nt.c(),F=ge(),J(j.$$.fragment),Ge&&Ge.c(),P=p("dt"),P.textContent=`Autolearn
    `,U=p("dd"),re.c(),D=M(),ke&&ke.c(),G=M(),Z=p("details"),z=p("summary"),z.textContent="Recipe JSON",X=M(),Y=p("pre"),pe=T(ee),ye(P,"title","Learned at these skill levels, otherwise only learnable from a book"),ye(e,"class","recipe")},m(xe,qe){g(xe,e,qe),m(e,n),se.m(n,null),m(e,t),m(e,i),x&&x.m(i,null),m(i,o),m(i,l),$e[s].m(l,null),m(l,f),Me&&Me.m(i,null),m(i,u),be&&be.m(i,null),m(i,c),m(i,d),m(d,$),m(i,k),m(i,w),m(w,C),m(i,I),m(i,A),we.m(A,null),m(A,L),nt&&nt.m(i,null),m(i,F),W(j,i,null),Ge&&Ge.m(i,null),m(i,P),m(i,U),Ne[Q].m(U,null),m(U,D),ke&&ke.m(i,null),m(e,G),m(e,Z),m(Z,z),m(Z,X),m(Z,Y),m(Y,pe),ie=!0},p(xe,[qe]){var lt,Ve,ve;K!==(K=H(xe))&&(se.d(1),se=K(xe),se&&(se.c(),se.m(n,null))),xe[1]?x?(x.p(xe,qe),qe&2&&v(x,1)):(x=$u(xe),x.c(),v(x,1),x.m(i,o)):x&&(ce(),E(x,1,1,()=>{x=null}),_e());let Le=s;s=He(xe),s===Le?$e[s].p(xe,qe):(ce(),E($e[Le],1,1,()=>{$e[Le]=null}),_e(),a=$e[s],a?a.p(xe,qe):(a=$e[s]=oe[s](xe),a.c()),v(a,1),a.m(l,f)),xe[2].length&&Me.p(xe,qe),xe[4].length&&be.p(xe,qe),(!ie||qe&1)&&b!==(b=((lt=xe[0].time)!=null?lt:"0 m")+"")&&ne($,b),(!ie||qe&1)&&S!==(S=((Ve=xe[0].activity_level)!=null?Ve:"MODERATE_EXERCISE")+"")&&ne(C,S),Ie===(Ie=Ee(xe))&&we?we.p(xe,qe):(we.d(1),we=Ie(xe),we&&(we.c(),we.m(A,L))),xe[0].charges?nt?nt.p(xe,qe):(nt=Eu(xe),nt.c(),nt.m(i,F)):nt&&(nt.d(1),nt=null);const Ze={};qe&1&&(Ze.requirement=xe[0]),j.$set(Ze),(ve=xe[0].byproducts)!=null&&ve.length?Ge?(Ge.p(xe,qe),qe&1&&v(Ge,1)):(Ge=Su(xe),Ge.c(),v(Ge,1),Ge.m(i,P)):Ge&&(ce(),E(Ge,1,1,()=>{Ge=null}),_e());let rt=Q;Q=Ot(xe),Q===rt?Ne[Q].p(xe,qe):(ce(),E(Ne[rt],1,1,()=>{Ne[rt]=null}),_e(),re=Ne[Q],re?re.p(xe,qe):(re=Ne[Q]=Oe[Q](xe),re.c()),v(re,1),re.m(U,D)),xe[3].length&&ke.p(xe,qe),(!ie||qe&1)&&ee!==(ee=JSON.stringify(xe[0],null,2)+"")&&ne(pe,ee)},i(xe){ie||(v(x),v(a),v(Me),v(be),v(j.$$.fragment,xe),v(Ge),v(re),v(ke),ie=!0)},o(xe){E(x),E(a),E(Me),E(be),E(j.$$.fragment,xe),E(Ge),E(re),E(ke),ie=!1},d(xe){xe&&h(e),se.d(),x&&x.d(),$e[s].d(),Me&&Me.d(),be&&be.d(),we.d(),nt&&nt.d(),V(j),Ge&&Ge.d(),Ne[Q].d(),ke&&ke.d()}}}function g4(r){return r===void 0?[]:r.length===0?[]:Array.isArray(r[0])?r:[r]}const b4=r=>r[0]!==1,v4=([r,e])=>`${r}\xD7 ${e}`;function $4(r,e,n){var f,u;let{recipe:t}=e,{showResult:i=!1}=e;const o=Yt("data");let l=g4(t.skills_required);const s=Array.isArray(t.book_learn)?[...t.book_learn]:[...Object.entries((f=t.book_learn)!=null?f:{})].map(([c,d])=>[c,d.skill_level]);s.sort((c,d)=>{var b,$;return((b=c[1])!=null?b:0)-(($=d[1])!=null?$:0)});const a=((u=t.proficiencies)!=null?u:[]).map(c=>{const d=o.byId("proficiency",c.proficiency);return{fail_multiplier:d.default_fail_multiplier,time_multiplier:d.default_time_multiplier,learning_time_multiplier:1,...c}});return r.$$set=c=>{"recipe"in c&&n(0,t=c.recipe),"showResult"in c&&n(1,i=c.showResult)},[t,i,l,s,a]}class y4 extends wt{constructor(e){super(),kt(this,e,$4,h4,vt,{recipe:0,showResult:1})}}function Au(r,e,n){const t=r.slice();return t[6]=e[n],t}function k4(r){let e=[],n=new Map,t,i,o=r[2];const l=s=>s[6];for(let s=0;s<o.length;s+=1){let a=Au(r,o,s),f=l(a);n.set(f,e[s]=Bu(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ge()},m(s,a){for(let f=0;f<e.length;f+=1)e[f].m(s,a);g(s,t,a),i=!0},p(s,a){a&5&&(o=s[2],ce(),e=iS(e,a,l,1,s,o,n,t.parentNode,nS,Bu,t,Au),_e())},i(s){if(!i){for(let a=0;a<o.length;a+=1)v(e[a]);i=!0}},o(s){for(let a=0;a<e.length;a+=1)E(e[a]);i=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function Bu(r,e){let n,t,i;return t=new y4({props:{recipe:e[6],showResult:e[6].result!==e[0]}}),{key:r,first:null,c(){n=ge(),J(t.$$.fragment),this.first=n},m(o,l){g(o,n,l),W(t,o,l),i=!0},p(o,l){e=o;const s={};l&1&&(s.showResult=e[6].result!==e[0]),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(n),V(t,o)}}}function w4(r){let e,n,t,i,o;return i=new xt({props:{items:r[3],$$slots:{default:[E4,({item:l})=>({5:l}),({item:l})=>l?32:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Byproduct when crafting",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&544&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function E4(r){let e,n,t,i;return e=new Mt({props:{item:r[1].byId("item",r[5].result)}}),t=new Se({props:{type:"item",id:r[5].result}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&32&&(s.item=o[1].byId("item",o[5].result)),e.$set(s);const a={};l&32&&(a.id=o[5].result),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function S4(r){let e,n,t,i=r[2].length&&k4(r),o=r[3].length&&w4(r);return{c(){i&&i.c(),e=M(),o&&o.c(),n=ge()},m(l,s){i&&i.m(l,s),g(l,e,s),o&&o.m(l,s),g(l,n,s),t=!0},p(l,[s]){l[2].length&&i.p(l,s),l[3].length&&o.p(l,s)},i(l){t||(v(i),v(o),t=!0)},o(l){E(i),E(o),t=!1},d(l){i&&i.d(l),l&&h(e),o&&o.d(l),l&&h(n)}}}function T4(r,e,n){let{item_id:t}=e,i=Yt("data");const o=i.byType("recipe").filter(a=>a.result&&!a.obsolete);let l=o.filter(a=>a.result===t);const s=o.filter(a=>{var f;return((f=a.byproducts)!=null?f:[]).some(u=>u[0]===t)});return r.$$set=a=>{"item_id"in a&&n(0,t=a.item_id)},[t,i,l,s]}class C4 extends wt{constructor(e){super(),kt(this,e,T4,S4,vt,{item_id:0})}}function I4(r){let e,n,t,i,o;return i=new xt({props:{items:r[0],$$slots:{default:[O4,({item:l})=>({1:l}),({item:l})=>l?2:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Salvage",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&34&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function O4(r){let e,n,t,i;return e=new Mt({props:{item:r[1]}}),t=new Se({props:{type:"item",id:r[1].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&2&&(s.item=o[1]),e.$set(s);const a={};l&2&&(a.id=o[1].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function R4(r){let e,n,t=r[0].length&&I4(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function N4(r,e,n){let{item_id:t}=e,i=Yt("data");const o=i.byId("item",t);function l(a){return i.byType("item").filter(f=>f.id).filter(f=>{var c;const u=typeof f.material=="string"?[f.material]:(c=f.material)!=null?c:[];return u.length===1&&u[0]===a.id})}const s=i.byType("material").filter(a=>a.id).filter(a=>a.salvaged_into===t).flatMap(a=>l(a)).filter(a=>{var f;return!((f=a.flags)!=null?f:[]).includes("NO_SALVAGE")}).filter(a=>lo(a.weight)>=lo(o.weight)).sort((a,f)=>Fe(a).localeCompare(Fe(f)));return r.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[s,o,t]}class A4 extends wt{constructor(e){super(),kt(this,e,N4,R4,vt,{item_id:2})}}function Ir(r,e){let n=[r!=null?r:1].flat();n.length===1&&(n=[n[0],n[0]]);let t=0,i=0;for(let o=n[0];o<=n[1];++o)t+=1-Math.pow(1-e,o),++i;return t/i}function ao(r){var n,t;if(r.length===1&&((n=r[0].chance)!=null?n:1)===1)return r[0].loot;const e=new Map;for(const{loot:i,chance:o=1}of r)for(const[l,s]of i.entries()){const a=(t=e.get(l))!=null?t:0,f=s*o,u=1-(1-a)*(1-f);e.set(l,u)}return e}function B4(r,e,n){var o;const t={...r.object,rows:((o=r.object.rows)!=null?o:[]).slice(n*24,(n+1)*24).map(l=>l.slice(e*24,(e+1)*24))},i=l=>Array.isArray(l)?l[0]:l;return t.place_items&&(t.place_items=t.place_items.filter(l=>i(l.x)>=e&&i(l.y)>=n&&i(l.x)<e+24&&i(l.y)<n+24)),t.place_item&&(t.place_item=t.place_item.filter(l=>i(l.x)>=e&&i(l.y)>=n&&i(l.x)<e+24&&i(l.y)<n+24)),t.add&&(t.add=t.add.filter(l=>i(l.x)>=e&&i(l.y)>=n&&i(l.x)<e+24&&i(l.y)<n+24)),t.place_loot&&(t.place_loot=t.place_loot.filter(l=>i(l.x)>=e&&i(l.y)>=n&&i(l.x)<e+24&&i(l.y)<n+24)),t.place_nested&&(t.place_nested=t.place_nested.filter(l=>i(l.x)>=e&&i(l.y)>=n&&i(l.x)<e+24&&i(l.y)<n+24)),{...r,object:t}}const D4=typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback:function(r){var e=Date.now();return setTimeout(function(){r({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},0)};function Du(){return new Promise(r=>{D4(r,{timeout:100})})}async function Ng(r){let e=await Du();return r(async()=>{e.timeRemaining()<=0&&(e=await Du())})}const Bo=new WeakMap;async function M4(r){if(Bo.has(r))return Bo.get(r);const e=new Map,n=(l,s)=>{e.has(l)||e.set(l,[]),e.get(l).push(s)},t=r.byType("mapgen").filter(l=>l.om_terrain!=null);for(const l of t)if(typeof l.om_terrain=="string")n(l.om_terrain,l);else if(typeof l.om_terrain[0]=="string")for(const s of l.om_terrain)n(s,l);else for(let s=0;s<l.om_terrain.length;s++)for(let a=0;a<l.om_terrain[s].length;a++)n(l.om_terrain[s][a],B4(l,a,s));const i=r.byType("overmap_special"),o=new Map;return await Ng(async l=>{var s,a;for(const f of i){if(f.subtype==="mutable")continue;const u=[];for(const c of(s=f.overmaps)!=null?s:[]){const d=c.overmap.replace(/_(north|east|west|south)$/,""),b=(a=e.get(d))!=null?a:[],$=uo(b.map(k=>{var w;return{weight:(w=k.weight)!=null?w:1e3,loot:Bg(r,k)}}));u.push($),await l()}o.set(f.id,U4(u))}}),Bo.set(r,o),o}function L4(r,e){var u;if(e.subtype==="mutable")return;const n=[...(u=e.overmaps)!=null?u:[]];let t=1/0,i=1/0,o=-1/0,l=-1/0;const s=new Map;for(const c of n){const d=c.overmap.replace(/_(north|south|east|west)$/,"");if(!r.byId("overmap_terrain",d))continue;const[b,$,k]=c.point;k===0&&(b<t&&(t=b),$<i&&(i=$),b>o&&(o=b),$>l&&(l=$),s.set(`${b}|${$}`,c))}if(t===1/0||i===1/0)return;const a=[l-i,o-t];for(let c=i;c<=l;c++)for(let d=t;d<=o;d++){const b=s.get(`${d}|${c}`);if(b){const $=b.overmap.replace(/_(north|south|east|west)$/,""),k=f($);a.push(k)}else a.push("no_om")}return a.join("\0");function f(c){const d=r.byId("overmap_terrain",c);return d?`${d.sym}${d.color}${d.name}`:"appearance_unk"}}const F4=new Set(["Necropolis","Isherwood Farms","lab_mutagen_6_level","Lab_SECURITY_1x1x6","Lab_CARGO_Surface","hub_01","aircraft_carrier"]),Do=new WeakMap;function P4(r){return Do.has(r)||Do.set(r,j4(r)),Do.get(r)}async function j4(r){const e=await M4(r),n=new Map;return await Ng(async t=>{for(const[i,o]of e.entries()){if(F4.has(i))continue;const l=L4(r,r.byId("overmap_special",i));if(!l)continue;n.has(l)||n.set(l,{loot:void 0,ids:[]});const s=n.get(l);s.loot?s.loot=uo([{loot:s.loot,weight:1},{loot:o,weight:1}]):s.loot=o,await t(),s.ids.push(i)}}),n}function uo(r){var t;const e=r.map(i=>i.weight).reduce((i,o)=>i+o,0),n=new Map;for(const{loot:i,weight:o}of r){const l=(o!=null?o:1e3)/e;for(const[s,a]of i.entries())n.set(s,((t=n.get(s))!=null?t:0)+a*l)}return n}function U4(r){var n;const e=new Map;for(const t of r)for(const[i,o]of t.entries()){const l=(n=e.get(i))!=null?n:0;e.set(i,1-(1-o)*(1-l))}return e}let Mo=0;function Ag(r,e){if(Mo+=1,Mo>4)return new Map;const n=(e!=null?e:[]).map(i=>typeof i=="string"?[i,100]:i),t=uo(n.map(([i,o])=>{var a;const l=(a=r.nestedMapgensById(i))!=null?a:[];return{loot:uo(l.map(f=>{var d;const u=Bg(r,f),c=(d=f.weight)!=null?d:1e3;return{loot:u,weight:c}})),weight:o}}));return Mo-=1,t}const Lo=new WeakMap;function Bg(r,e){var c,d,b,$,k,w,S;if(Lo.has(e))return Lo.get(e);const n=Dg(r,e.object),t=((c=e.object.place_items)!=null?c:[]).map(({item:C,chance:I=100,repeat:A})=>({loot:co(r,C),chance:Ir(A,I/100)})),i=[...(d=e.object.place_item)!=null?d:[],...(b=e.object.add)!=null?b:[]].map(({item:C,chance:I=100,repeat:A})=>({loot:new Map([[C,Ir(A,I/100)]])})),o=(($=e.object.place_loot)!=null?$:[]).map(({item:C,group:I,chance:A=100,repeat:L})=>({loot:C?new Map([[C,1]]):co(r,I),chance:Ir(L,A/100)})),l=((k=e.object.place_nested)!=null?k:[]).map(C=>{var F;const I=Ag(r,C.chunks),A=(F=Array.isArray(C.repeat)?C.repeat[0]:C.repeat)!=null?F:1,L=new Map;for(const[j,P]of I.entries())L.set(j,1-Math.pow(1-P,A));return{loot:L}}),s=ao([...t,...i,...o,...l]),a=new Map;for(const C of(w=e.object.rows)!=null?w:[])for(const I of C)n.has(I)&&a.set(I,((S=a.get(I))!=null?S:0)+1);const f=[];for(const[C,I]of a.entries()){const A=n.get(C),L=new Map;for(const[F,j]of A.entries())L.set(F,1-Math.pow(1-j,I));f.push({loot:L})}f.push({loot:s});const u=ao(f);return Lo.set(e,u),u}function co(r,e){const n=typeof e=="string"?r.byId("item_group",e):Array.isArray(e)?{subtype:"collection",entries:e}:e,t=r.flattenItemGroup(n);return new Map(t.map(({id:i,prob:o})=>[i,o]))}function q4(r){return[r].map(e=>e.flatMap(n=>[...n])).map(e=>[...pT(e)]).map(e=>e.map(([n,t])=>[n,ao(t.map(i=>({loot:i})))])).map(e=>new Map(e))[0]}function Wl(r,e){return new Map(Object.entries(r!=null?r:{}).map(([n,t])=>[n,ao([t].flat().flatMap(i=>[...e(i)]))]))}const Fo=new WeakMap;function Dg(r,e){var a;if(Fo.has(e))return Fo.get(e);const n=Wl(e.sealed_item,function*({item:f,items:u,chance:c=100}){var d,b;u&&(yield{loot:co(r,u.item),chance:Ir(u.repeat,c/100*(((d=u.chance)!=null?d:100)/100))}),f&&(yield{loot:new Map([[f.item,1]]),chance:Ir(f.repeat,c/100*(((b=f.chance)!=null?b:100)/100))})}),t=Wl(e.item,function*({item:f,chance:u=100,repeat:c}){yield{loot:new Map([[f,1]]),chance:Ir(c,u/100)}}),i=Wl(e.items,function*({item:f,chance:u=100,repeat:c}){yield{loot:co(r,f),chance:Ir(c,u/100)}}),o=Wl(e.nested,function*({chunks:f}){yield{loot:Ag(r,f),chance:1}}),l=((a=e.palettes)!=null?a:[]).flatMap(f=>typeof f!="string"?[]:[r.byId("palette",f)]).map(f=>Dg(r,f)),s=q4([t,i,n,o,...l]);return Fo.set(e,s),s}function Mu(r,e,n){const t=r.slice();return t[11]=e[n],t}function Lu(r,e,n){const t=r.slice();return t[14]=e[n],t}function Fu(r){var l;let e,n=((l=r[14].sym)!=null?l:"\xA0")+"",t,i,o;return{c(){e=p("span"),t=T(n),ye(e,"class",i="c_"+r[14].color),ye(e,"title",o=r[14].name)},m(s,a){g(s,e,a),m(e,t)},p:de,d(s){s&&h(e)}}}function Pu(r){let e,n,t=r[11],i=[];for(let o=0;o<t.length;o+=1)i[o]=Fu(Lu(r,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=M(),n=p("br")},m(o,l){for(let s=0;s<i.length;s+=1)i[s].m(o,l);g(o,e,l),g(o,n,l)},p(o,l){if(l&1){t=o[11];let s;for(s=0;s<t.length;s+=1){const a=Lu(o,t,s);i[s]?i[s].p(a,l):(i[s]=Fu(a),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){Ce(i,o),o&&h(e),o&&h(n)}}}function G4(r){let e,n=r[0],t=[];for(let i=0;i<n.length;i+=1)t[i]=Pu(Mu(r,n,i));return{c(){e=p("div");for(let i=0;i<t.length;i+=1)t[i].c();Rt(e,"font-family","Unifont, monospace"),Rt(e,"line-height","1"),Rt(e,"display","inline-block"),Rt(e,"white-space","pre")},m(i,o){g(i,e,o);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(i,[o]){if(o&1){n=i[0];let l;for(l=0;l<n.length;l+=1){const s=Mu(i,n,l);t[l]?t[l].p(s,o):(t[l]=Pu(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},i:de,o:de,d(i){i&&h(e),Ce(t,i)}}}function ju(r){return r.every(e=>e.sym===" ")}function Y4(r,e,n){var $;const t=Yt("data");let{overmapSpecial:i}=e;const o=[...($=i.overmaps)!=null?$:[]];let l=1/0,s=1/0,a=-1/0,f=-1/0;const u=new Map;for(const k of o){const[w,S,C]=k.point;C===0&&(w<l&&(l=w),S<s&&(s=S),w>a&&(a=w),S>f&&(f=S),u.set(`${w}|${S}`,k))}const c=[];for(let k=s;k<=f;k++){const w=[];for(let S=l;S<=a;S++){const C=u.get(`${S}|${k}`);if(C){const[,I,A]=/^(.+?)(?:_(north|south|east|west))?$/.exec(C.overmap),L=b(I,A||"north");w.push(L)}else w.push({color:"black",sym:" ",name:""})}c.push(w)}for(;c.length;){const k=c[0];if(!ju(k))break;c.shift()}for(;c.length;){const k=c[c.length-1];if(!ju(k))break;c.pop()}function d(k,w){const S=w==="north"?0:w==="east"?1:w==="south"?2:w==="west"?3:0;if(S===0)return k;const C=t.byType("rotatable_symbol").find(I=>I.tuple.some(A=>A===k));return C?C.tuple[(C.tuple.indexOf(k)+S)%C.tuple.length]:k}function b(k,w="north"){const S=t.byId("overmap_terrain",k);return S?{color:S.color,sym:d(S.sym,w),name:qn(S.name)}:{color:"black",sym:" ",name:""}}return r.$$set=k=>{"overmapSpecial"in k&&n(1,i=k.overmapSpecial)},[c,i]}class H4 extends wt{constructor(e){super(),kt(this,e,Y4,G4,vt,{overmapSpecial:1})}}function Uu(r,e,n){const t=r.slice();return t[7]=e[n],t}function z4(r){return{c:de,m:de,p:de,i:de,o:de,d:de}}function W4(r){let e,n,t=r[6].length&&V4(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,o){i[6].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function V4(r){let e,n,t,i,o,l,s,a=r[6].slice(0,r[0]),f=[];for(let d=0;d<a.length;d+=1)f[d]=qu(Uu(r,a,d));const u=d=>E(f[d],1,1,()=>{f[d]=null});let c=r[6].length>r[0]&&Gu(r);return{c(){e=p("section"),n=p("h1"),n.textContent="Loot",t=M(),i=p("table"),o=p("tbody");for(let d=0;d<f.length;d+=1)f[d].c();l=M(),c&&c.c(),ye(i,"class","alternating")},m(d,b){g(d,e,b),m(e,n),m(e,t),m(e,i),m(i,o);for(let $=0;$<f.length;$+=1)f[$].m(o,null);m(e,l),c&&c.m(e,null),s=!0},p(d,b){if(b&7){a=d[6].slice(0,d[0]);let $;for($=0;$<a.length;$+=1){const k=Uu(d,a,$);f[$]?(f[$].p(k,b),v(f[$],1)):(f[$]=qu(k),f[$].c(),v(f[$],1),f[$].m(o,null))}for(ce(),$=a.length;$<f.length;$+=1)u($);_e()}d[6].length>d[0]?c?c.p(d,b):(c=Gu(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(d){if(!s){for(let b=0;b<a.length;b+=1)v(f[b]);s=!0}},o(d){f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)E(f[b]);s=!1},d(d){d&&h(e),Ce(f,d),c&&c.d()}}}function qu(r){let e,n,t,i,o,l,s=r[2](r[7].overmap_special)+"",a,f,u,c=fo(r[7].chance)+"",d,b,$,k;return t=new H4({props:{overmapSpecial:r[7].overmap_special}}),{c(){e=p("tr"),n=p("td"),J(t.$$.fragment),i=M(),o=p("td"),l=p("span"),a=T(s),u=T(`
                (`),d=T(c),b=T(")"),$=M(),Rt(n,"text-align","center"),ye(l,"title",f=r[7].ids.join(", ")),Rt(o,"vertical-align","middle")},m(w,S){g(w,e,S),m(e,n),W(t,n,null),m(e,i),m(e,o),m(o,l),m(l,a),m(o,u),m(o,d),m(o,b),m(e,$),k=!0},p(w,S){const C={};S&1&&(C.overmapSpecial=w[7].overmap_special),t.$set(C),(!k||S&1)&&s!==(s=w[2](w[7].overmap_special)+"")&&ne(a,s),(!k||S&1&&f!==(f=w[7].ids.join(", ")))&&ye(l,"title",f),(!k||S&1)&&c!==(c=fo(w[7].chance)+"")&&ne(d,c)},i(w){k||(v(t.$$.fragment,w),k=!0)},o(w){E(t.$$.fragment,w),k=!1},d(w){w&&h(e),V(t)}}}function Gu(r){let e,n,t=Number(r[6].length).toLocaleString()+"",i,o,l,s;return{c(){e=p("button"),n=T("See all "),i=T(t),o=T("..."),ye(e,"class","disclosure")},m(a,f){g(a,e,f),m(e,n),m(e,i),m(e,o),l||(s=Oi(e,"click",r[4]),l=!0)},p:de,d(a){a&&h(e),l=!1,s()}}}function J4(r){let e;return{c(){e=p("section"),e.innerHTML=`<h1>Loot</h1> 
    <p style="color: var(--cata-color-gray)"><em>Loading...</em></p>`},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function X4(r){let e,n,t={ctx:r,current:null,token:null,hasCatch:!1,pending:J4,then:W4,catch:z4,value:6,blocks:[,,,]};return xE(r[1],t),{c(){e=ge(),t.block.c()},m(i,o){g(i,e,o),t.block.m(i,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,[o]){r=i,eS(t,r,o)},i(i){n||(v(t.block),n=!0)},o(i){for(let o=0;o<3;o+=1){const l=t.blocks[o];E(l)}n=!1},d(i){i&&h(e),t.block.d(i),t.token=null,t=null}}}let Po=10,Yu=4;function K4(r,e,n){let{item_id:t}=e;const i=Yt("data"),o=P4(i).then(f=>{const u=[];for(const{loot:c,ids:d}of f.values())if(c.has(t)){const b=c.get(t),$=i.byId("overmap_special",d[0]);u.push({overmap_special:$,ids:d,chance:b})}return u.sort((c,d)=>d.chance-c.chance),n(0,s=u.length<=Po+Yu?Po+Yu:Po),u});function l(f){var I;if(f.subtype==="mutable")return f.id;const u=((I=f.overmaps)!=null?I:[]).filter(A=>A.point[2]===0);let c=1/0,d=1/0,b=-1/0,$=-1/0;const k=new Map;for(const A of u){const[L,F]=A.point;!i.byId("overmap_terrain",A.overmap.replace(/_(north|south|east|west)$/,""))||(L<c&&(c=L),F<d&&(d=F),L>b&&(b=L),F>$&&($=F),k.set(`${L}|${F}`,A))}const w=c+Math.floor((b-c)/2),S=d+Math.floor(($-d)/2),C=k.get(`${w}|${S}`);if(C){const A=i.byId("overmap_terrain",C.overmap.replace(/_(north|south|east|west)$/,""));if(A)return Fe(A)}return f.id}let s=0;const a=f=>{f.preventDefault(),n(0,s=1/0)};return r.$$set=f=>{"item_id"in f&&n(3,t=f.item_id)},[s,o,l,t,a]}class Z4 extends wt{constructor(e){super(),kt(this,e,K4,X4,vt,{item_id:3})}}function Q4(r){let e,n,t,i,o;return i=new xt({props:{items:r[0],$$slots:{default:[x4,({item:{vehicle:l,prob:s}})=>({3:l,4:s}),({item:l})=>(l?8:0)|(l?16:0)]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="In Vehicle",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&56&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function x4(r){let e,n,t=fo(r[4])+"",i,o,l;return e=new Se({props:{id:r[3].id,type:"vehicle"}}),{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")")},m(s,a){W(e,s,a),g(s,n,a),g(s,i,a),g(s,o,a),l=!0},p(s,a){const f={};a&8&&(f.id=s[3].id),e.$set(f),(!l||a&16)&&t!==(t=fo(s[4])+"")&&ne(i,t)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){V(e,s),s&&h(n),s&&h(i),s&&h(o)}}}function eI(r){let e,n,t=r[0].length&&Q4(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function tI(r,e,n){let{item_id:t}=e;const i=Yt("data"),o=i.byType("vehicle").flatMap(l=>{const s=Tg(l),f=i.flattenItemGroup(s).find(u=>u.id===t);return f?[{vehicle:l,prob:f.prob,count:f.count}]:[]});return o.sort((l,s)=>s.prob-l.prob),r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class nI extends wt{constructor(e){super(),kt(this,e,tI,eI,vt,{item_id:1})}}function Hu(r){let e,n,t,i,o,l,s,a,f=r[0].charges_per_use&&zu(r),u=r[0].power_draw&&Wu(r),c=r[0].turns_per_charge&&Vu(r),d=r[0].sub&&Ju(r);return{c(){e=p("section"),n=p("h1"),n.textContent="Tool",t=M(),i=p("dl"),f&&f.c(),o=ge(),u&&u.c(),l=ge(),c&&c.c(),s=ge(),d&&d.c()},m(b,$){g(b,e,$),m(e,n),m(e,t),m(e,i),f&&f.m(i,null),m(i,o),u&&u.m(i,null),m(i,l),c&&c.m(i,null),m(i,s),d&&d.m(i,null),a=!0},p(b,$){b[0].charges_per_use?f?f.p(b,$):(f=zu(b),f.c(),f.m(i,o)):f&&(f.d(1),f=null),b[0].power_draw?u?u.p(b,$):(u=Wu(b),u.c(),u.m(i,l)):u&&(u.d(1),u=null),b[0].turns_per_charge?c?c.p(b,$):(c=Vu(b),c.c(),c.m(i,s)):c&&(c.d(1),c=null),b[0].sub?d?(d.p(b,$),$&1&&v(d,1)):(d=Ju(b),d.c(),v(d,1),d.m(i,null)):d&&(ce(),E(d,1,1,()=>{d=null}),_e())},i(b){a||(v(d),a=!0)},o(b){E(d),a=!1},d(b){b&&h(e),f&&f.d(),u&&u.d(),c&&c.d(),d&&d.d()}}}function zu(r){let e,n,t=r[0].charges_per_use+"",i;return{c(){e=p("dt"),e.textContent="Charges Per Use",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].charges_per_use+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Wu(r){let e,n,t=(r[0].power_draw/1e3).toFixed(1)+"",i,o;return{c(){e=p("dt"),e.textContent="Power Draw",n=p("dd"),i=T(t),o=T(" W")},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p(l,s){s&1&&t!==(t=(l[0].power_draw/1e3).toFixed(1)+"")&&ne(i,t)},d(l){l&&h(e),l&&h(n)}}}function Vu(r){let e,n,t=r[0].turns_per_charge+"",i;return{c(){e=p("dt"),e.textContent="Turns Per Charge",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].turns_per_charge+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Ju(r){let e,n,t,i;return t=new Se({props:{type:"item",id:r[0].sub}}),{c(){e=p("dt"),e.textContent="Substitute",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].sub),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function iI(r){let e,n,t=(r[0].charges_per_use||r[0].sub||r[0].power_draw||r[0].turns_per_charge)&&Hu(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[0].charges_per_use||i[0].sub||i[0].power_draw||i[0].turns_per_charge?t?(t.p(i,o),o&1&&v(t,1)):(t=Hu(i),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(ce(),E(t,1,1,()=>{t=null}),_e())},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function rI(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class lI extends wt{constructor(e){super(),kt(this,e,rI,iI,vt,{item:0})}}function Xu(r){const e=vs(r[3].use_action).find(n=>n.target===r[0]);r[4]=e}function oI(r){let e,n,t,i,o;return i=new xt({props:{items:r[2],$$slots:{default:[sI,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Transformed From",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&41&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function Ku(r){let e=" ",n,t,i=Ks(r[4].transform_age*100)+"",o,l;return{c(){n=T(e),t=T("("),o=T(i),l=T(")")},m(s,a){g(s,n,a),g(s,t,a),g(s,o,a),g(s,l,a)},p(s,a){a&9&&i!==(i=Ks(s[4].transform_age*100)+"")&&ne(o,i)},d(s){s&&h(n),s&&h(t),s&&h(o),s&&h(l)}}}function sI(r){Xu(r);let e,n,t,i,o;e=new Mt({props:{item:r[1].byId("item",r[3].id)}}),t=new Se({props:{type:"item",id:r[3].id}});let l=r[4].transform_age&&Ku(r);return{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment),l&&l.c(),i=ge()},m(s,a){W(e,s,a),g(s,n,a),W(t,s,a),l&&l.m(s,a),g(s,i,a),o=!0},p(s,a){Xu(s);const f={};a&8&&(f.item=s[1].byId("item",s[3].id)),e.$set(f);const u={};a&8&&(u.id=s[3].id),t.$set(u),s[4].transform_age?l?l.p(s,a):(l=Ku(s),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i(s){o||(v(e.$$.fragment,s),v(t.$$.fragment,s),o=!0)},o(s){E(e.$$.fragment,s),E(t.$$.fragment,s),o=!1},d(s){V(e,s),s&&h(n),V(t,s),l&&l.d(s),s&&h(i)}}}function fI(r){let e,n,t=r[2].length&&oI(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,[o]){i[2].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function aI(r,e,n){let{item_id:t}=e;const i=Yt("data"),o=i.byType("item").filter(l=>vs(l.use_action).some(s=>s.target===t));return r.$$set=l=>{"item_id"in l&&n(0,t=l.item_id)},[t,i,o]}class uI extends wt{constructor(e){super(),kt(this,e,aI,fI,vt,{item_id:0})}}function cI(r){var k,w;let e,n,t,i,o,l,s=((k=r[0].diameter)!=null?k:0)+"",a,f,u,c,d=((w=r[0].width)!=null?w:0)+"",b,$;return{c(){e=p("section"),n=p("h1"),n.textContent="Wheel",t=M(),i=p("dl"),o=p("dt"),o.textContent="Diameter",l=p("dd"),a=T(s),f=T('"'),u=p("dt"),u.textContent="Width",c=p("dd"),b=T(d),$=T('"')},m(S,C){g(S,e,C),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),m(l,a),m(l,f),m(i,u),m(i,c),m(c,b),m(c,$)},p(S,[C]){var I,A;C&1&&s!==(s=((I=S[0].diameter)!=null?I:0)+"")&&ne(a,s),C&1&&d!==(d=((A=S[0].width)!=null?A:0)+"")&&ne(b,d)},i:de,o:de,d(S){S&&h(e)}}}function _I(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class dI extends wt{constructor(e){super(),kt(this,e,_I,cI,vt,{item:0})}}function Zu(r,e,n){const t=r.slice();return t[20]=e[n],t}function Qu(r,e,n){const t=r.slice();return t[0]=e[n],t}function xu(r,e,n){const t=r.slice();return t[25]=e[n],t}function ec(r,e,n){const t=r.slice();return t[28]=e[n][0],t[29]=e[n][1],t}function tc(r,e,n){const t=r.slice();return t[28]=e[n],t}function nc(r,e,n){const t=r.slice();return t[34]=e[n],t}function ic(r,e,n){const t=r.slice();return t[28]=e[n].id,t[29]=e[n].count,t}function rc(r,e,n){const t=r.slice();return t[39]=e[n],t}function lc(r,e,n){const t=r.slice();return t[42]=e[n].quality,t[43]=e[n].level,t}function oc(r,e,n){const t=r.slice();return t[42]=e[n].quality,t[43]=e[n].level,t}function sc(r,e,n){const t=r.slice();return t[48]=e[n],t}function fc(r,e,n){const t=r.slice();return t[51]=e[n],t}function ac(r,e,n){const t=r.slice();return t[54]=e[n],t}function uc(r,e,n){const t=r.slice();return t[57]=e[n].type,t[28]=e[n].id,t}function cc(r,e,n){const t=r.slice();return t[60]=e[n].id,t[61]=e[n].max_charges,t}function _c(r,e,n){const t=r.slice();return t[64]=e[n],t}function dc(r,e,n){const t=r.slice();t[67]=e[n];const i=qn(t[67].name);return t[68]=i,t}function mc(r){let e,n,t,i,o=r[0].variants,l=[];for(let s=0;s<o.length;s+=1)l[s]=hc(dc(r,o,s));return{c(){e=p("dt"),e.textContent="AKA",n=p("dd"),t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=M(),ye(t,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),m(n,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null);m(n,i)},p(s,a){if(a[0]&1){o=s[0].variants;let f;for(f=0;f<o.length;f+=1){const u=dc(s,o,f);l[f]?l[f].p(u,a):(l[f]=hc(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),Ce(l,s)}}}function pc(r){let e,n=qn(r[67].name)+"",t;return{c(){e=p("li"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p(i,o){o[0]&1&&n!==(n=qn(i[67].name)+"")&&ne(t,n)},d(i){i&&h(e)}}}function hc(r){let e=r[68]!==Fe(r[0]),n,t=e&&pc(r);return{c(){t&&t.c(),n=ge()},m(i,o){t&&t.m(i,o),g(i,n,o)},p(i,o){o[0]&1&&(e=i[68]!==Fe(i[0])),e?t?t.p(i,o):(t=pc(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&h(n)}}}function mI(r){let e,n,t,i,o,l=r[5],s=[];for(let f=0;f<l.length;f+=1)s[f]=gc(_c(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Material",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&96){l=f[5];let c;for(c=0;c<l.length;c+=1){const d=_c(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=gc(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function pI(r){var s;let e=" ",n,t,i=(((s=r[64].portion)!=null?s:1)/r[6]*100).toFixed(0)+"",o,l;return{c(){n=T(e),t=T("("),o=T(i),l=T("%)")},m(a,f){g(a,n,f),g(a,t,f),g(a,o,f),g(a,l,f)},p:de,d(a){a&&h(n),a&&h(t),a&&h(o),a&&h(l)}}}function gc(r){let e,n,t,i;n=new Se({props:{type:"material",id:r[64].type}});let o=r[5].length>1&&pI(r);return{c(){e=p("li"),J(n.$$.fragment),o&&o.c(),t=M()},m(l,s){g(l,e,s),W(n,e,null),o&&o.m(e,null),m(e,t),i=!0},p(l,s){l[5].length>1&&o.p(l,s)},i(l){i||(v(n.$$.fragment,l),i=!0)},o(l){E(n.$$.fragment,l),i=!1},d(l){l&&h(e),V(n),o&&o.d()}}}function hI(r){let e,n,t,i,o,l=r[12].map(r[18]),s=[];for(let f=0;f<l.length;f+=1)s[f]=bc(cc(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Ammo",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","no-bullets")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&6145){l=f[12].map(f[18]);let c;for(c=0;c<l.length;c+=1){const d=cc(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=bc(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function bc(r){let e,n=r[61]+"",t,i,o=r[0].type==="GUN"?"round":"charge",l,s=r[61]===1?"":"s",a,f,u,c,d;return u=new Se({props:{type:"ammunition_type",id:r[60]}}),{c(){e=p("li"),t=T(n),i=M(),l=T(o),a=T(s),f=T(` of
                  `),J(u.$$.fragment),c=M()},m(b,$){g(b,e,$),m(e,t),m(e,i),m(e,l),m(e,a),m(e,f),W(u,e,null),m(e,c),d=!0},p(b,$){(!d||$[0]&1)&&o!==(o=b[0].type==="GUN"?"round":"charge")&&ne(l,o)},i(b){d||(v(u.$$.fragment,b),d=!0)},o(b){E(u.$$.fragment,b),d=!1},d(b){b&&h(e),V(u)}}}function gI(r){let e,n,t,i,o,l=r[10],s=[];for(let f=0;f<l.length;f+=1)s[f]=vc(uc(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Compatible Magazines",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&1024){l=f[10];let c;for(c=0;c<l.length;c+=1){const d=uc(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=vc(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function vc(r){let e,n,t;return n=new Se({props:{type:r[57],id:r[28]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function $c(r){let e,n,t,i,o,l=r[0].weapon_category,s=[];for(let f=0;f<l.length;f+=1)s[f]=yc(ac(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Category",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&1){l=f[0].weapon_category;let c;for(c=0;c<l.length;c+=1){const d=ac(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=yc(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function yc(r){let e,n,t;return n=new Se({props:{type:"weapon_category",id:r[54]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[54]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function kc(r){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function wc(r){let e,n,t;return n=new Se({props:{type:"json_flag",id:r[51].id}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function bI(r){let e,n,t,i,o,l=r[8],s=[];for(let f=0;f<l.length;f+=1)s[f]=Ec(sc(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Possible Faults",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&256){l=f[8];let c;for(c=0;c<l.length;c+=1){const d=sc(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Ec(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Ec(r){let e,n,t;return n=new Se({props:{type:"fault",id:r[48].id}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function vI(r){let e,n,t,i,o,l,s=r[3],a=[];for(let b=0;b<s.length;b+=1)a[b]=Sc(oc(r,s,b));const f=b=>E(a[b],1,1,()=>{a[b]=null});let u=r[4],c=[];for(let b=0;b<u.length;b+=1)c[b]=Tc(lc(r,u,b));const d=b=>E(c[b],1,1,()=>{c[b]=null});return{c(){e=p("dt"),e.textContent="Qualities",n=p("dd"),t=p("ul");for(let b=0;b<a.length;b+=1)a[b].c();i=M();for(let b=0;b<c.length;b+=1)c[b].c();o=M(),ye(t,"class","no-bullets")},m(b,$){g(b,e,$),g(b,n,$),m(n,t);for(let k=0;k<a.length;k+=1)a[k].m(t,null);m(t,i);for(let k=0;k<c.length;k+=1)c[k].m(t,null);m(n,o),l=!0},p(b,$){if($[0]&8){s=b[3];let k;for(k=0;k<s.length;k+=1){const w=oc(b,s,k);a[k]?(a[k].p(w,$),v(a[k],1)):(a[k]=Sc(w),a[k].c(),v(a[k],1),a[k].m(t,i))}for(ce(),k=s.length;k<a.length;k+=1)f(k);_e()}if($[0]&16){u=b[4];let k;for(k=0;k<u.length;k+=1){const w=lc(b,u,k);c[k]?(c[k].p(w,$),v(c[k],1)):(c[k]=Tc(w),c[k].c(),v(c[k],1),c[k].m(t,null))}for(ce(),k=u.length;k<c.length;k+=1)d(k);_e()}},i(b){if(!l){for(let $=0;$<s.length;$+=1)v(a[$]);for(let $=0;$<u.length;$+=1)v(c[$]);l=!0}},o(b){a=a.filter(Boolean);for(let $=0;$<a.length;$+=1)E(a[$]);c=c.filter(Boolean);for(let $=0;$<c.length;$+=1)E(c[$]);l=!1},d(b){b&&h(e),b&&h(n),Ce(a,b),Ce(c,b)}}}function Sc(r){let e,n,t,i=r[43]+"",o,l,s,a,f;return s=new Se({props:{type:"tool_quality",id:r[42].id}}),{c(){e=p("li"),n=T("Has level "),t=p("strong"),o=T(i),l=M(),J(s.$$.fragment),a=T(" quality.")},m(u,c){g(u,e,c),m(e,n),m(e,t),m(t,o),m(t,l),W(s,t,null),m(e,a),f=!0},p:de,i(u){f||(v(s.$$.fragment,u),f=!0)},o(u){E(s.$$.fragment,u),f=!1},d(u){u&&h(e),V(s)}}}function Tc(r){let e,n,t,i=r[43]+"",o,l,s,a,f;return s=new Se({props:{type:"tool_quality",id:r[42].id}}),{c(){e=p("li"),n=T("Has level "),t=p("strong"),o=T(i),l=M(),J(s.$$.fragment),a=T(` quality
                  (when charged).
                `)},m(u,c){g(u,e,c),m(e,n),m(e,t),m(t,o),m(t,l),W(s,t,null),m(e,a),f=!0},p:de,i(u){f||(v(s.$$.fragment,u),f=!0)},o(u){E(s.$$.fragment,u),f=!1},d(u){u&&h(e),V(s)}}}function $I(r){let e,n,t,i,o,l=r[15],s=[];for(let f=0;f<l.length;f+=1)s[f]=Cc(rc(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Vehicle Parts",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&32768){l=f[15];let c;for(c=0;c<l.length;c+=1){const d=rc(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Cc(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Cc(r){let e,n,t;return n=new Se({props:{type:"vehicle_part",id:r[39].id}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function yI(r){var c,d;let e,n,t,i,o,l,s=r[14].components,a=[];for(let b=0;b<s.length;b+=1)a[b]=Ic(ic(r,s,b));const f=b=>E(a[b],1,1,()=>{a[b]=null});let u=(((c=r[14].qualities)==null?void 0:c.length)||((d=r[14].tools)==null?void 0:d.length))&&kI(r);return{c(){e=p("dt"),e.textContent="Disassembles Into",n=p("dd"),t=p("ul");for(let b=0;b<a.length;b+=1)a[b].c();i=M(),u&&u.c(),o=M(),ye(t,"class","comma-separated")},m(b,$){g(b,e,$),g(b,n,$),m(n,t);for(let k=0;k<a.length;k+=1)a[k].m(t,null);m(n,i),u&&u.m(n,null),m(n,o),l=!0},p(b,$){var k,w;if($[0]&16384){s=b[14].components;let S;for(S=0;S<s.length;S+=1){const C=ic(b,s,S);a[S]?(a[S].p(C,$),v(a[S],1)):(a[S]=Ic(C),a[S].c(),v(a[S],1),a[S].m(t,null))}for(ce(),S=s.length;S<a.length;S+=1)f(S);_e()}(((k=b[14].qualities)==null?void 0:k.length)||((w=b[14].tools)==null?void 0:w.length))&&u.p(b,$)},i(b){if(!l){for(let $=0;$<s.length;$+=1)v(a[$]);v(u),l=!0}},o(b){a=a.filter(Boolean);for(let $=0;$<a.length;$+=1)E(a[$]);E(u),l=!1},d(b){b&&h(e),b&&h(n),Ce(a,b),u&&u.d()}}}function Ic(r){let e,n,t;return n=new Se({props:{id:r[28],count:r[29],type:"item"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function kI(r){let e,n,t;return n=new Rg({props:{requirement:r[13],direction:"uncraft"}}),{c(){e=p("dl"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function wI(r){let e,n,t,i,o=r[16],l=[];for(let a=0;a<o.length;a+=1)l[a]=Oc(nc(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Usage",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();ye(t,"class","comma-separated")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f[0]&65538){o=a[16];let u;for(u=0;u<o.length;u+=1){const c=nc(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=Oc(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function EI(r){let e=" ",n,t,i,o,l;return i=new Se({props:{type:"item",id:r[34].target}}),{c(){n=T(e),t=T(`(\u27F9
                    `),J(i.$$.fragment),o=T(")")},m(s,a){g(s,n,a),g(s,t,a),W(i,s,a),g(s,o,a),l=!0},p:de,i(s){l||(v(i.$$.fragment,s),l=!0)},o(s){E(i.$$.fragment,s),l=!1},d(s){s&&h(n),s&&h(t),V(i,s),s&&h(o)}}}function Oc(r){var s;let e,n=((s=r[34].menu_text)!=null?s:Fe(r[1].byId("item_action",r[34].type)))+"",t,i,o,l=(r[34].type==="transform"||r[34].type==="delayed_transform")&&EI(r);return{c(){e=p("li"),t=T(n),l&&l.c(),i=M()},m(a,f){g(a,e,f),m(e,t),l&&l.m(e,null),m(e,i),o=!0},p(a,f){(a[34].type==="transform"||a[34].type==="delayed_transform")&&l.p(a,f)},i(a){o||(v(l),o=!0)},o(a){E(l),o=!1},d(a){a&&h(e),l&&l.d()}}}function SI(r){let e,n;return e=new cT({props:{picture:r[17]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p:de,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Rc(r){let e,n;return e=new E3({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Nc(r){let e,n,t,i;const o=[CI,TI],l=[];function s(a,f){var u;return(u=a[1].build_number)!=null&&u.startsWith("0.F")?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function TI(r){let e,n;return e=new LT({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function CI(r){let e,n;return e=new _3({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ac(r){let e,n;return e=new $3({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Bc(r){let e,n;return e=new lI({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Dc(r){let e,n,t,i,o,l,s=r[0].displacement+"",a,f;return{c(){e=p("section"),n=p("h1"),n.textContent="Engine",t=M(),i=p("dl"),o=p("dt"),o.textContent="Displacement",l=p("dd"),a=T(s),f=T(" cc")},m(u,c){g(u,e,c),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),m(l,a),m(l,f)},p(u,c){c[0]&1&&s!==(s=u[0].displacement+"")&&ne(a,s)},d(u){u&&h(e)}}}function Mc(r){let e,n;return e=new O3({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Lc(r){let e,n;return e=new dI({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Fc(r){let e,n;return e=new BC({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Pc(r){var S;let e,n,t,i,o,l,s,a,f,u,c=r[0].seed_data.grow+"",d,b,$=[r[0].seed_data.fruit].concat((S=r[0].seed_data.byproducts)!=null?S:[]),k=[];for(let C=0;C<$.length;C+=1)k[C]=jc(tc(r,$,C));const w=C=>E(k[C],1,1,()=>{k[C]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Grows Into",t=M(),i=p("dl"),o=p("dt"),o.textContent="Harvest Results",l=p("dd"),s=p("ul");for(let C=0;C<k.length;C+=1)k[C].c();a=M(),f=p("dt"),f.textContent="Growing Time",u=p("dd"),d=T(c),ye(s,"class","comma-separated")},m(C,I){g(C,e,I),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l),m(l,s);for(let A=0;A<k.length;A+=1)k[A].m(s,null);m(l,a),m(i,f),m(i,u),m(u,d),b=!0},p(C,I){var A;if(I[0]&1){$=[C[0].seed_data.fruit].concat((A=C[0].seed_data.byproducts)!=null?A:[]);let L;for(L=0;L<$.length;L+=1){const F=tc(C,$,L);k[L]?(k[L].p(F,I),v(k[L],1)):(k[L]=jc(F),k[L].c(),v(k[L],1),k[L].m(s,null))}for(ce(),L=$.length;L<k.length;L+=1)w(L);_e()}(!b||I[0]&1)&&c!==(c=C[0].seed_data.grow+"")&&ne(d,c)},i(C){if(!b){for(let I=0;I<$.length;I+=1)v(k[I]);b=!0}},o(C){k=k.filter(Boolean);for(let I=0;I<k.length;I+=1)E(k[I]);b=!1},d(C){C&&h(e),Ce(k,C)}}}function jc(r){let e,n,t;return n=new Se({props:{type:"item",id:r[28]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[28]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Uc(r){let e,n,t,i,o,l;n=new jC({props:{item:r[0]}});const s=[OI,II],a=[];function f(u,c){return u[0].type==="GUN"?0:u[0].type==="AMMO"?1:-1}return~(i=f(r))&&(o=a[i]=s[i](r)),{c(){e=p("div"),J(n.$$.fragment),t=M(),o&&o.c(),ye(e,"class","side-by-side")},m(u,c){g(u,e,c),W(n,e,null),m(e,t),~i&&a[i].m(e,null),l=!0},p(u,c){const d={};c[0]&1&&(d.item=u[0]),n.$set(d);let b=i;i=f(u),i===b?~i&&a[i].p(u,c):(o&&(ce(),E(a[b],1,1,()=>{a[b]=null}),_e()),~i?(o=a[i],o?o.p(u,c):(o=a[i]=s[i](u),o.c()),v(o,1),o.m(e,null)):o=null)},i(u){l||(v(n.$$.fragment,u),v(o),l=!0)},o(u){E(n.$$.fragment,u),E(o),l=!1},d(u){u&&h(e),V(n),~i&&a[i].d()}}}function II(r){let e,n;return e=new mT({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function OI(r){let e,n;return e=new wC({props:{item:r[0]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function RI(r){let e,n,t,i,o=r[9].filter(zc),l=[];for(let a=0;a<o.length;a+=1)l[a]=Hc(Zu(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Pockets",t=M();for(let a=0;a<l.length;a+=1)l[a].c()},m(a,f){g(a,e,f),m(e,n),m(e,t);for(let u=0;u<l.length;u+=1)l[u].m(e,null);i=!0},p(a,f){if(f[0]&512){o=a[9].filter(zc);let u;for(u=0;u<o.length;u+=1){const c=Zu(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=Hc(c),l[u].c(),v(l[u],1),l[u].m(e,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),Ce(l,a)}}}function NI(r){let e,n,t=r[20].max_contains_volume+"",i;return{c(){e=p("dt"),e.textContent="Volume Capacity",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function AI(r){let e,n,t=r[20].max_contains_weight+"",i;return{c(){e=p("dt"),e.textContent="Weight Capacity",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function BI(r){let e,n,t,i,o,l=[...Object.entries(r[20].ammo_restriction)],s=[];for(let f=0;f<l.length;f+=1)s[f]=qc(ec(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Ammo Restriction",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M()},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&512){l=[...Object.entries(f[20].ammo_restriction)];let c;for(c=0;c<l.length;c+=1){const d=ec(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=qc(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function qc(r){let e,n=r[29]+"",t,i,o=r[29]===1?"":"s",l,s,a,f,u;return a=new Se({props:{id:r[28],type:"ammunition_type"}}),{c(){e=p("li"),t=T(n),i=T(" round"),l=T(o),s=T(" of "),J(a.$$.fragment),f=M()},m(c,d){g(c,e,d),m(e,t),m(e,i),m(e,l),m(e,s),W(a,e,null),m(e,f),u=!0},p:de,i(c){u||(v(a.$$.fragment,c),u=!0)},o(c){E(a.$$.fragment,c),u=!1},d(c){c&&h(e),V(a)}}}function DI(r){let e,n,t=r[20].max_item_length+"",i;return{c(){e=p("dt"),e.textContent="Max Item Length",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function MI(r){let e,n,t=r[20].min_item_volume+"",i;return{c(){e=p("dt"),e.textContent="Min Item Volume",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function LI(r){let e,n;return{c(){e=p("dt"),e.textContent="Max Items",n=p("dd"),n.textContent="1"},m(t,i){g(t,e,i),g(t,n,i)},d(t){t&&h(e),t&&h(n)}}}function FI(r){let e,n,t=r[20].sealed_data.spoil_multiplier+"",i;return{c(){e=p("dt"),e.textContent="Spoil Multiplier",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function PI(r){let e,n,t,i,o,l=r[20].flag_restriction,s=[];for(let f=0;f<l.length;f+=1)s[f]=Gc(xu(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Flag Restriction",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&512){l=f[20].flag_restriction;let c;for(c=0;c<l.length;c+=1){const d=xu(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Gc(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Gc(r){let e,n,t;return n=new Se({props:{type:"json_flag",id:r[25]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function jI(r){let e,n,t,i,o,l=r[20].item_restriction,s=[];for(let f=0;f<l.length;f+=1)s[f]=Yc(Qu(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Item Restriction",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&512){l=f[20].item_restriction;let c;for(c=0;c<l.length;c+=1){const d=Qu(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Yc(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Yc(r){let e,n,t;return n=new Se({props:{type:"item",id:r[0]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Hc(r){var j,P;let e,n,t,i,o,l,s,a=r[20].moves+"",f,u,c,d,b,$=r[20].max_contains_volume!=null&&NI(r),k=r[20].max_contains_weight!=null&&AI(r),w=r[20].ammo_restriction&&BI(r),S=r[20].max_item_length&&DI(r),C=r[20].min_item_volume!=="0 ml"&&MI(r),I=r[20].holster&&LI(),A=((P=(j=r[20].sealed_data)==null?void 0:j.spoil_multiplier)!=null?P:1)!==1&&FI(r),L=r[20].flag_restriction&&PI(r),F=r[20].item_restriction&&jI(r);return{c(){e=p("dl"),$&&$.c(),n=ge(),k&&k.c(),t=ge(),w&&w.c(),i=ge(),S&&S.c(),o=ge(),C&&C.c(),l=p("dt"),l.textContent="Moves to Remove Item",s=p("dd"),f=T(a),I&&I.c(),u=ge(),A&&A.c(),c=ge(),L&&L.c(),d=ge(),F&&F.c()},m(U,Q){g(U,e,Q),$&&$.m(e,null),m(e,n),k&&k.m(e,null),m(e,t),w&&w.m(e,null),m(e,i),S&&S.m(e,null),m(e,o),C&&C.m(e,null),m(e,l),m(e,s),m(s,f),I&&I.m(e,null),m(e,u),A&&A.m(e,null),m(e,c),L&&L.m(e,null),m(e,d),F&&F.m(e,null),b=!0},p(U,Q){var re,D;U[20].max_contains_volume!=null&&$.p(U,Q),U[20].max_contains_weight!=null&&k.p(U,Q),U[20].ammo_restriction&&w.p(U,Q),U[20].max_item_length&&S.p(U,Q),U[20].min_item_volume!=="0 ml"&&C.p(U,Q),((D=(re=U[20].sealed_data)==null?void 0:re.spoil_multiplier)!=null?D:1)!==1&&A.p(U,Q),U[20].flag_restriction&&L.p(U,Q),U[20].item_restriction&&F.p(U,Q)},i(U){b||(v(w),v(L),v(F),b=!0)},o(U){E(w),E(L),E(F),b=!1},d(U){U&&h(e),$&&$.d(),k&&k.d(),w&&w.d(),S&&S.d(),C&&C.d(),I&&I.d(),A&&A.d(),L&&L.d(),F&&F.d()}}}function UI(r){var Ai,bi;let e,n,t,i=Fe(r[0])+"",o,l,s,a,f,u,c,d,b,$,k,w=Ki(r[0].volume)+"",S,C,I,A=Xr(r[0].weight)+"",L,F,j,P=r[2](r[0])+"",U,Q,re,D,G,Z,z,X,Y,ee,pe,ie,H,K=qn(r[0].description)+"",se,x,oe,$e,He,Me,be,Ee,Ie,we,nt,Ge,Oe,Ne,Ot=r[9].filter(GI).length,ke,Pe,mt,We,xe,qe,Le,Ze,rt,lt,Ve,ve,le,fe,ae,Ye,_t,dt,ht,St,It,Tt,it,ze,Je,De,et,bt,Dt,gt,Ht,Bt;n=new Mt({props:{item:r[0]}});let Wt=((Ai=r[0].variants)==null?void 0:Ai.length)&&mc(r),sn=r[5].length&&mI(r),Pt=r[12].length&&hI(r),Zt=r[10].length&&gI(r),en=((bi=r[0].weapon_category)==null?void 0:bi.length)&&$c(r),$n=r[7],Gt=[];for(let he=0;he<$n.length;he+=1)Gt[he]=wc(fc(r,$n,he));const di=he=>E(Gt[he],1,1,()=>{Gt[he]=null});let on=null;$n.length||(on=kc());let Cn=r[8].length&&bI(r),Re=(r[3].length||r[4].length)&&vI(r),In=r[15].length&&$I(r),tn=r[14]&&yI(r),Xt=r[16].length&&wI(r),yt=r[17]&&SI(r),fn=r[0].type==="BOOK"&&Rc(r),rn=(r[0].type==="ARMOR"||r[0].type==="TOOL_ARMOR")&&Nc(r),Jt=r[0].type==="BIONIC_ITEM"&&Ac(r),Kt=(r[0].type==="TOOL"||r[0].type==="TOOL_ARMOR")&&Bc(r),gn=r[0].type==="ENGINE"&&r[0].displacement&&Dc(r),bn=r[0].type==="COMESTIBLE"&&Mc(r),yn=r[0].type==="WHEEL"&&Lc(r),Sn=r[0].type==="MAGAZINE"&&Fc(r),On=r[0].seed_data&&Pc(r),kn=(r[0].bashing||r[0].cutting||r[0].type==="GUN"||r[0].type==="AMMO")&&Uc(r),Hn=Ot&&RI(r);return Pe=new U3({props:{item_id:r[0].id}}),Le=new C4({props:{item_id:r[0].id}}),rt=new uC({props:{item_id:r[0].id}}),Ve=new pC({props:{item_id:r[0].id}}),le=new $C({props:{item_id:r[0].id}}),ae=new IC({props:{item_id:r[0].id}}),_t=new uI({props:{item_id:r[0].id}}),ht=new tC({props:{item_id:r[0].id}}),It=new A4({props:{item_id:r[0].id}}),it=new z3({props:{item_id:r[0].id}}),Je=new K3({props:{item_id:r[0].id}}),et=new g3({props:{item_id:r[0].id}}),Dt=new Z4({props:{item_id:r[0].id}}),Ht=new nI({props:{item_id:r[0].id}}),{c(){e=p("h1"),J(n.$$.fragment),t=M(),o=T(i),l=M(),s=p("section"),a=p("h1"),a.textContent="General",f=M(),u=p("div"),c=p("div"),d=p("dl"),Wt&&Wt.c(),b=ge(),sn&&sn.c(),$=p("dt"),$.textContent="Volume",k=p("dd"),S=T(w),C=p("dt"),C.textContent="Weight",I=p("dd"),L=T(A),F=p("dt"),F.textContent="Length",j=p("dd"),U=T(P),Pt&&Pt.c(),Q=ge(),Zt&&Zt.c(),re=ge(),en&&en.c(),D=p("dt"),D.textContent="Flags",G=p("dd"),Z=p("ul");for(let he=0;he<Gt.length;he+=1)Gt[he].c();on&&on.c(),z=M(),Cn&&Cn.c(),X=ge(),Re&&Re.c(),Y=ge(),In&&In.c(),ee=ge(),tn&&tn.c(),pe=ge(),Xt&&Xt.c(),ie=M(),H=p("p"),se=T(K),x=M(),oe=p("div"),yt&&yt.c(),$e=M(),fn&&fn.c(),He=M(),rn&&rn.c(),Me=M(),Jt&&Jt.c(),be=M(),Kt&&Kt.c(),Ee=M(),gn&&gn.c(),Ie=M(),bn&&bn.c(),we=M(),yn&&yn.c(),nt=M(),Sn&&Sn.c(),Ge=M(),On&&On.c(),Oe=M(),kn&&kn.c(),Ne=M(),Hn&&Hn.c(),ke=M(),J(Pe.$$.fragment),mt=M(),We=p("div"),xe=p("h2"),xe.textContent="Obtaining",qe=M(),J(Le.$$.fragment),Ze=M(),J(rt.$$.fragment),lt=M(),J(Ve.$$.fragment),ve=M(),J(le.$$.fragment),fe=M(),J(ae.$$.fragment),Ye=M(),J(_t.$$.fragment),dt=M(),J(ht.$$.fragment),St=M(),J(It.$$.fragment),Tt=M(),J(it.$$.fragment),ze=M(),J(Je.$$.fragment),De=M(),J(et.$$.fragment),bt=M(),J(Dt.$$.fragment),gt=M(),J(Ht.$$.fragment),ye(Z,"class","comma-separated"),Rt(H,"color","var(--cata-color-gray)"),Rt(H,"margin-bottom","0"),ye(u,"class","side-by-side no-margin"),ye(xe,"class","svelte-18ijh8q"),ye(We,"class","hide-header-if-no-sections svelte-18ijh8q")},m(he,tt){g(he,e,tt),W(n,e,null),m(e,t),m(e,o),g(he,l,tt),g(he,s,tt),m(s,a),m(s,f),m(s,u),m(u,c),m(c,d),Wt&&Wt.m(d,null),m(d,b),sn&&sn.m(d,null),m(d,$),m(d,k),m(k,S),m(d,C),m(d,I),m(I,L),m(d,F),m(d,j),m(j,U),Pt&&Pt.m(d,null),m(d,Q),Zt&&Zt.m(d,null),m(d,re),en&&en.m(d,null),m(d,D),m(d,G),m(G,Z);for(let si=0;si<Gt.length;si+=1)Gt[si].m(Z,null);on&&on.m(Z,null),m(G,z),Cn&&Cn.m(d,null),m(d,X),Re&&Re.m(d,null),m(d,Y),In&&In.m(d,null),m(d,ee),tn&&tn.m(d,null),m(d,pe),Xt&&Xt.m(d,null),m(c,ie),m(c,H),m(H,se),m(u,x),m(u,oe),yt&&yt.m(oe,null),g(he,$e,tt),fn&&fn.m(he,tt),g(he,He,tt),rn&&rn.m(he,tt),g(he,Me,tt),Jt&&Jt.m(he,tt),g(he,be,tt),Kt&&Kt.m(he,tt),g(he,Ee,tt),gn&&gn.m(he,tt),g(he,Ie,tt),bn&&bn.m(he,tt),g(he,we,tt),yn&&yn.m(he,tt),g(he,nt,tt),Sn&&Sn.m(he,tt),g(he,Ge,tt),On&&On.m(he,tt),g(he,Oe,tt),kn&&kn.m(he,tt),g(he,Ne,tt),Hn&&Hn.m(he,tt),g(he,ke,tt),W(Pe,he,tt),g(he,mt,tt),g(he,We,tt),m(We,xe),m(We,qe),W(Le,We,null),m(We,Ze),W(rt,We,null),m(We,lt),W(Ve,We,null),m(We,ve),W(le,We,null),m(We,fe),W(ae,We,null),m(We,Ye),W(_t,We,null),m(We,dt),W(ht,We,null),m(We,St),W(It,We,null),m(We,Tt),W(it,We,null),m(We,ze),W(Je,We,null),m(We,De),W(et,We,null),m(We,bt),W(Dt,We,null),m(We,gt),W(Ht,We,null),Bt=!0},p(he,tt){var Pn,jn;const si={};if(tt[0]&1&&(si.item=he[0]),n.$set(si),(!Bt||tt[0]&1)&&i!==(i=Fe(he[0])+"")&&ne(o,i),(Pn=he[0].variants)!=null&&Pn.length?Wt?Wt.p(he,tt):(Wt=mc(he),Wt.c(),Wt.m(d,b)):Wt&&(Wt.d(1),Wt=null),he[5].length&&sn.p(he,tt),(!Bt||tt[0]&1)&&w!==(w=Ki(he[0].volume)+"")&&ne(S,w),(!Bt||tt[0]&1)&&A!==(A=Xr(he[0].weight)+"")&&ne(L,A),(!Bt||tt[0]&1)&&P!==(P=he[2](he[0])+"")&&ne(U,P),he[12].length&&Pt.p(he,tt),he[10].length&&Zt.p(he,tt),(jn=he[0].weapon_category)!=null&&jn.length?en?(en.p(he,tt),tt[0]&1&&v(en,1)):(en=$c(he),en.c(),v(en,1),en.m(d,D)):en&&(ce(),E(en,1,1,()=>{en=null}),_e()),tt[0]&128){$n=he[7];let un;for(un=0;un<$n.length;un+=1){const Un=fc(he,$n,un);Gt[un]?(Gt[un].p(Un,tt),v(Gt[un],1)):(Gt[un]=wc(Un),Gt[un].c(),v(Gt[un],1),Gt[un].m(Z,null))}for(ce(),un=$n.length;un<Gt.length;un+=1)di(un);_e(),!$n.length&&on?on.p(he,tt):$n.length?on&&(on.d(1),on=null):(on=kc(),on.c(),on.m(Z,null))}he[8].length&&Cn.p(he,tt),(he[3].length||he[4].length)&&Re.p(he,tt),he[15].length&&In.p(he,tt),he[14]&&tn.p(he,tt),he[16].length&&Xt.p(he,tt),(!Bt||tt[0]&1)&&K!==(K=qn(he[0].description)+"")&&ne(se,K),he[17]&&yt.p(he,tt),he[0].type==="BOOK"?fn?(fn.p(he,tt),tt[0]&1&&v(fn,1)):(fn=Rc(he),fn.c(),v(fn,1),fn.m(He.parentNode,He)):fn&&(ce(),E(fn,1,1,()=>{fn=null}),_e()),he[0].type==="ARMOR"||he[0].type==="TOOL_ARMOR"?rn?(rn.p(he,tt),tt[0]&1&&v(rn,1)):(rn=Nc(he),rn.c(),v(rn,1),rn.m(Me.parentNode,Me)):rn&&(ce(),E(rn,1,1,()=>{rn=null}),_e()),he[0].type==="BIONIC_ITEM"?Jt?(Jt.p(he,tt),tt[0]&1&&v(Jt,1)):(Jt=Ac(he),Jt.c(),v(Jt,1),Jt.m(be.parentNode,be)):Jt&&(ce(),E(Jt,1,1,()=>{Jt=null}),_e()),he[0].type==="TOOL"||he[0].type==="TOOL_ARMOR"?Kt?(Kt.p(he,tt),tt[0]&1&&v(Kt,1)):(Kt=Bc(he),Kt.c(),v(Kt,1),Kt.m(Ee.parentNode,Ee)):Kt&&(ce(),E(Kt,1,1,()=>{Kt=null}),_e()),he[0].type==="ENGINE"&&he[0].displacement?gn?gn.p(he,tt):(gn=Dc(he),gn.c(),gn.m(Ie.parentNode,Ie)):gn&&(gn.d(1),gn=null),he[0].type==="COMESTIBLE"?bn?(bn.p(he,tt),tt[0]&1&&v(bn,1)):(bn=Mc(he),bn.c(),v(bn,1),bn.m(we.parentNode,we)):bn&&(ce(),E(bn,1,1,()=>{bn=null}),_e()),he[0].type==="WHEEL"?yn?(yn.p(he,tt),tt[0]&1&&v(yn,1)):(yn=Lc(he),yn.c(),v(yn,1),yn.m(nt.parentNode,nt)):yn&&(ce(),E(yn,1,1,()=>{yn=null}),_e()),he[0].type==="MAGAZINE"?Sn?(Sn.p(he,tt),tt[0]&1&&v(Sn,1)):(Sn=Fc(he),Sn.c(),v(Sn,1),Sn.m(Ge.parentNode,Ge)):Sn&&(ce(),E(Sn,1,1,()=>{Sn=null}),_e()),he[0].seed_data?On?(On.p(he,tt),tt[0]&1&&v(On,1)):(On=Pc(he),On.c(),v(On,1),On.m(Oe.parentNode,Oe)):On&&(ce(),E(On,1,1,()=>{On=null}),_e()),he[0].bashing||he[0].cutting||he[0].type==="GUN"||he[0].type==="AMMO"?kn?(kn.p(he,tt),tt[0]&1&&v(kn,1)):(kn=Uc(he),kn.c(),v(kn,1),kn.m(Ne.parentNode,Ne)):kn&&(ce(),E(kn,1,1,()=>{kn=null}),_e()),Ot&&Hn.p(he,tt);const vi={};tt[0]&1&&(vi.item_id=he[0].id),Pe.$set(vi);const $i={};tt[0]&1&&($i.item_id=he[0].id),Le.$set($i);const yi={};tt[0]&1&&(yi.item_id=he[0].id),rt.$set(yi);const ki={};tt[0]&1&&(ki.item_id=he[0].id),Ve.$set(ki);const wi={};tt[0]&1&&(wi.item_id=he[0].id),le.$set(wi);const Ei={};tt[0]&1&&(Ei.item_id=he[0].id),ae.$set(Ei);const Si={};tt[0]&1&&(Si.item_id=he[0].id),_t.$set(Si);const Ti={};tt[0]&1&&(Ti.item_id=he[0].id),ht.$set(Ti);const Ci={};tt[0]&1&&(Ci.item_id=he[0].id),It.$set(Ci);const an={};tt[0]&1&&(an.item_id=he[0].id),it.$set(an);const Ln={};tt[0]&1&&(Ln.item_id=he[0].id),Je.$set(Ln);const Fn={};tt[0]&1&&(Fn.item_id=he[0].id),et.$set(Fn);const Xn={};tt[0]&1&&(Xn.item_id=he[0].id),Dt.$set(Xn);const Rn={};tt[0]&1&&(Rn.item_id=he[0].id),Ht.$set(Rn)},i(he){if(!Bt){v(n.$$.fragment,he),v(sn),v(Pt),v(Zt),v(en);for(let tt=0;tt<$n.length;tt+=1)v(Gt[tt]);v(Cn),v(Re),v(In),v(tn),v(Xt),v(yt),v(fn),v(rn),v(Jt),v(Kt),v(bn),v(yn),v(Sn),v(On),v(kn),v(Hn),v(Pe.$$.fragment,he),v(Le.$$.fragment,he),v(rt.$$.fragment,he),v(Ve.$$.fragment,he),v(le.$$.fragment,he),v(ae.$$.fragment,he),v(_t.$$.fragment,he),v(ht.$$.fragment,he),v(It.$$.fragment,he),v(it.$$.fragment,he),v(Je.$$.fragment,he),v(et.$$.fragment,he),v(Dt.$$.fragment,he),v(Ht.$$.fragment,he),Bt=!0}},o(he){E(n.$$.fragment,he),E(sn),E(Pt),E(Zt),E(en),Gt=Gt.filter(Boolean);for(let tt=0;tt<Gt.length;tt+=1)E(Gt[tt]);E(Cn),E(Re),E(In),E(tn),E(Xt),E(yt),E(fn),E(rn),E(Jt),E(Kt),E(bn),E(yn),E(Sn),E(On),E(kn),E(Hn),E(Pe.$$.fragment,he),E(Le.$$.fragment,he),E(rt.$$.fragment,he),E(Ve.$$.fragment,he),E(le.$$.fragment,he),E(ae.$$.fragment,he),E(_t.$$.fragment,he),E(ht.$$.fragment,he),E(It.$$.fragment,he),E(it.$$.fragment,he),E(Je.$$.fragment,he),E(et.$$.fragment,he),E(Dt.$$.fragment,he),E(Ht.$$.fragment,he),Bt=!1},d(he){he&&h(e),V(n),he&&h(l),he&&h(s),Wt&&Wt.d(),sn&&sn.d(),Pt&&Pt.d(),Zt&&Zt.d(),en&&en.d(),Ce(Gt,he),on&&on.d(),Cn&&Cn.d(),Re&&Re.d(),In&&In.d(),tn&&tn.d(),Xt&&Xt.d(),yt&&yt.d(),he&&h($e),fn&&fn.d(he),he&&h(He),rn&&rn.d(he),he&&h(Me),Jt&&Jt.d(he),he&&h(be),Kt&&Kt.d(he),he&&h(Ee),gn&&gn.d(he),he&&h(Ie),bn&&bn.d(he),he&&h(we),yn&&yn.d(he),he&&h(nt),Sn&&Sn.d(he),he&&h(Ge),On&&On.d(he),he&&h(Oe),kn&&kn.d(he),he&&h(Ne),Hn&&Hn.d(he),he&&h(ke),V(Pe,he),he&&h(mt),he&&h(We),V(Le),V(rt),V(Ve),V(le),V(ae),V(_t),V(ht),V(It),V(it),V(Je),V(et),V(Dt),V(Ht)}}}function qI(r){return typeof r[0]=="string"}const GI=r=>r.pocket_type==="CONTAINER",zc=r=>r.pocket_type==="CONTAINER";function YI(r,e,n){var j,P,U,Q,re;let{item:t}=e,i=Yt("data");function o(D){return D.longest_side?D.longest_side:`${Math.round(Math.cbrt(bs(D.volume)))} cm`}let l=((j=t.qualities)!=null?j:[]).map(([D,G])=>({quality:i.byId("tool_quality",D),level:G})),s=((P=t.charged_qualities)!=null?P:[]).map(([D,G])=>({quality:i.byId("tool_quality",D),level:G}));const a=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:qI(t.material)?t.material.map(D=>({type:D,portion:1})):t.material,f=a.reduce((D,G)=>{var Z;return D+((Z=G.portion)!=null?Z:1)},0);let u=((U=t.flags)!=null?U:[]).map(D=>{var G;return(G=i.byId("json_flag",D))!=null?G:{id:D}}),c=((Q=t.faults)!=null?Q:[]).map(D=>i.byId("fault",D));const d={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let b=((re=t.pocket_data)!=null?re:[]).map(D=>({...d,...D})),$=b.filter(D=>D.pocket_type==="MAGAZINE_WELL").flatMap(D=>{var G,Z;return(Z=(G=D.item_restriction)==null?void 0:G.map(z=>({type:"item",id:z})))!=null?Z:D.flag_restriction.map(z=>({type:"json_flag",id:z}))});function k(D){var Z;let G=0;for(const z of b)z.pocket_type==="MAGAZINE"&&z.ammo_restriction&&(G+=(Z=z.ammo_restriction[D])!=null?Z:0);return G}let w=b.flatMap(D=>{var G;return D.pocket_type==="MAGAZINE"?Object.keys((G=D.ammo_restriction)!=null?G:{}):[]});const S=i.uncraftRecipe(t.id),C=S?(()=>{const{components:D,qualities:G,tools:Z}=i.normalizeRequirementsForDisassembly(S);return{components:D.map(X=>X[0]),qualities:G,tools:Z}})():void 0,I=i.byType("vehicle_part").filter(D=>D.id&&D.item===t.id),A=vs(t.use_action).map(D=>D.type==="repair_item"?{type:D.item_action_type}:D),L=t.ascii_picture&&i.byId("ascii_art",t.ascii_picture),F=D=>({id:D,max_charges:k(D)});return r.$$set=D=>{"item"in D&&n(0,t=D.item)},[t,i,o,l,s,a,f,u,c,b,$,k,w,S,C,I,A,L,F]}class ii extends wt{constructor(e){super(),kt(this,e,YI,UI,vt,{item:0},null,[-1,-1,-1])}}function HI(r){let e,n=JSON.stringify(r[0],null,2)+"",t;return{c(){e=p("pre"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p(i,[o]){o&1&&n!==(n=JSON.stringify(i[0],null,2)+"")&&ne(t,n)},i:de,o:de,d(i){i&&h(e)}}}function zI(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class _o extends wt{constructor(e){super(),kt(this,e,zI,HI,vt,{item:0})}}function Wc(r){let e,n,t,i;return t=new Se({props:{type:"item",id:r[0].repaired_with}}),{c(){e=p("dt"),e.textContent="Repaired With",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].repaired_with),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function Vc(r){let e,n,t,i;return t=new Se({props:{type:"item",id:r[0].salvaged_into}}),{c(){e=p("dt"),e.textContent="Salvaged Into",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].salvaged_into),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function WI(r){let e,n,t,i=Fe(r[0])+"",o,l,s,a;return s=new xt({props:{items:r[1],$$slots:{default:[VI,({item:f})=>({0:f}),({item:f})=>f?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),t=T("Items Made From "),o=T(i),l=M(),J(s.$$.fragment)},m(f,u){g(f,e,u),m(e,n),m(n,t),m(n,o),m(e,l),W(s,e,null),a=!0},p(f,u){(!a||u&1)&&i!==(i=Fe(f[0])+"")&&ne(o,i);const c={};u&9&&(c.$$scope={dirty:u,ctx:f}),s.$set(c)},i(f){a||(v(s.$$.fragment,f),a=!0)},o(f){E(s.$$.fragment,f),a=!1},d(f){f&&h(e),V(s)}}}function VI(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{id:r[0].id,type:"item"}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function JI(r){var Ye,_t,dt,ht,St,It,Tt,it;let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u,c,d=r[0].density+"",b,$,k,w=((Ye=r[0].specific_heat_liquid)!=null?Ye:4.186)+"",S,C,I=((_t=r[0].specific_heat_solid)!=null?_t:2.108)+"",A,L,F,j,P=((dt=r[0].latent_heat)!=null?dt:334)+"",U,Q,re,D,G,Z,z=((ht=r[0].bash_resist)!=null?ht:0)+"",X,Y,ee,pe=((St=r[0].cut_resist)!=null?St:0)+"",ie,H,K,se=((It=r[0].bullet_resist)!=null?It:0)+"",x,oe,$e,He=((Tt=r[0].acid_resist)!=null?Tt:0)+"",Me,be,Ee,Ie=((it=r[0].chip_resist)!=null?it:0)+"",we,nt,Ge,Oe=r[0].elec_resist===0||r[0].elec_resist===1||r[0].conductive?"yes":"no",Ne,Ot,ke,Pe,mt,We=r[0].edible?"yes":"no",xe,qe,Le,Ze=r[0].rotting?"yes":"no",rt,lt,Ve,ve,le=r[0].repaired_with&&Wc(r),fe=r[0].salvaged_into&&Vc(r),ae=r[1].length&&WI(r);return{c(){e=p("h1"),n=T("Material: "),i=T(t),o=M(),l=p("section"),s=p("h1"),s.textContent="Properties",a=M(),f=p("dl"),u=p("dt"),u.textContent="Density",c=p("dd"),b=T(d),$=p("dt"),$.textContent="Specific Heat",k=p("dd"),S=T(w),C=T(" (liquid) / "),A=T(I),L=T(` (solid)
    `),F=p("dt"),F.textContent="Latent Heat",j=p("dd"),U=T(P),Q=p("dt"),Q.textContent="Resistance",re=p("dd"),D=p("dl"),G=p("dt"),G.textContent="Bash",Z=p("dd"),X=T(z),Y=p("dt"),Y.textContent="Cut",ee=p("dd"),ie=T(pe),H=p("dt"),H.textContent="Ballistic",K=p("dd"),x=T(se),oe=p("dt"),oe.textContent="Acid",$e=p("dd"),Me=T(He),be=p("dt"),be.textContent="Chip",Ee=p("dd"),we=T(Ie),nt=p("dt"),nt.textContent="Conductive",Ge=p("dd"),Ne=T(Oe),Ot=M(),le&&le.c(),ke=ge(),fe&&fe.c(),Pe=p("dt"),Pe.textContent="Edible",mt=p("dd"),xe=T(We),qe=p("dt"),qe.textContent="Rots",Le=p("dd"),rt=T(Ze),lt=M(),ae&&ae.c(),Ve=ge(),ye(u,"title","Relative to 'powder', which is 1"),ye(be,"title","Resistance to physical damage of the item itself"),ye(qe,"title","Corpses made of this material will go bad")},m(ze,Je){g(ze,e,Je),m(e,n),m(e,i),g(ze,o,Je),g(ze,l,Je),m(l,s),m(l,a),m(l,f),m(f,u),m(f,c),m(c,b),m(f,$),m(f,k),m(k,S),m(k,C),m(k,A),m(k,L),m(f,F),m(f,j),m(j,U),m(f,Q),m(f,re),m(re,D),m(D,G),m(D,Z),m(Z,X),m(D,Y),m(D,ee),m(ee,ie),m(D,H),m(D,K),m(K,x),m(D,oe),m(D,$e),m($e,Me),m(D,be),m(D,Ee),m(Ee,we),m(D,nt),m(D,Ge),m(Ge,Ne),m(re,Ot),le&&le.m(f,null),m(f,ke),fe&&fe.m(f,null),m(f,Pe),m(f,mt),m(mt,xe),m(f,qe),m(f,Le),m(Le,rt),g(ze,lt,Je),ae&&ae.m(ze,Je),g(ze,Ve,Je),ve=!0},p(ze,[Je]){var De,et,bt,Dt,gt,Ht,Bt,Wt;(!ve||Je&1)&&t!==(t=Fe(ze[0])+"")&&ne(i,t),(!ve||Je&1)&&d!==(d=ze[0].density+"")&&ne(b,d),(!ve||Je&1)&&w!==(w=((De=ze[0].specific_heat_liquid)!=null?De:4.186)+"")&&ne(S,w),(!ve||Je&1)&&I!==(I=((et=ze[0].specific_heat_solid)!=null?et:2.108)+"")&&ne(A,I),(!ve||Je&1)&&P!==(P=((bt=ze[0].latent_heat)!=null?bt:334)+"")&&ne(U,P),(!ve||Je&1)&&z!==(z=((Dt=ze[0].bash_resist)!=null?Dt:0)+"")&&ne(X,z),(!ve||Je&1)&&pe!==(pe=((gt=ze[0].cut_resist)!=null?gt:0)+"")&&ne(ie,pe),(!ve||Je&1)&&se!==(se=((Ht=ze[0].bullet_resist)!=null?Ht:0)+"")&&ne(x,se),(!ve||Je&1)&&He!==(He=((Bt=ze[0].acid_resist)!=null?Bt:0)+"")&&ne(Me,He),(!ve||Je&1)&&Ie!==(Ie=((Wt=ze[0].chip_resist)!=null?Wt:0)+"")&&ne(we,Ie),(!ve||Je&1)&&Oe!==(Oe=ze[0].elec_resist===0||ze[0].elec_resist===1||ze[0].conductive?"yes":"no")&&ne(Ne,Oe),ze[0].repaired_with?le?(le.p(ze,Je),Je&1&&v(le,1)):(le=Wc(ze),le.c(),v(le,1),le.m(f,ke)):le&&(ce(),E(le,1,1,()=>{le=null}),_e()),ze[0].salvaged_into?fe?(fe.p(ze,Je),Je&1&&v(fe,1)):(fe=Vc(ze),fe.c(),v(fe,1),fe.m(f,Pe)):fe&&(ce(),E(fe,1,1,()=>{fe=null}),_e()),(!ve||Je&1)&&We!==(We=ze[0].edible?"yes":"no")&&ne(xe,We),(!ve||Je&1)&&Ze!==(Ze=ze[0].rotting?"yes":"no")&&ne(rt,Ze),ze[1].length&&ae.p(ze,Je)},i(ze){ve||(v(le),v(fe),v(ae),ve=!0)},o(ze){E(le),E(fe),E(ae),ve=!1},d(ze){ze&&h(e),ze&&h(o),ze&&h(l),le&&le.d(),fe&&fe.d(),ze&&h(lt),ae&&ae.d(ze),ze&&h(Ve)}}}function XI(r){return typeof r[0]=="string"}function KI(r,e,n){const t=Yt("data");let{item:i}=e,o=t.byType("item").filter(l=>{const s=l.material==null?[]:typeof l.material=="string"?[l.material]:XI(l.material)?l.material:l.material.map(a=>a.type);return l.id&&s.some(a=>a===i.id)}).sort((l,s)=>Fe(l).localeCompare(Fe(s)));return r.$$set=l=>{"item"in l&&n(0,i=l.item)},[i,o]}class ZI extends wt{constructor(e){super(),kt(this,e,KI,JI,vt,{item:0})}}function Jc(r,e,n){const t=r.slice();return t[6]=e[n],t}function Xc(r){let e;return{c(){e=T("(default)")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function Kc(r){let e,n,t,i,o;n=new Se({props:{type:"item",id:r[6].id}});let l=r[6].id===r[0].default&&Xc();return{c(){e=p("li"),J(n.$$.fragment),t=M(),l&&l.c(),i=M()},m(s,a){g(s,e,a),W(n,e,null),m(e,t),l&&l.m(e,null),m(e,i),o=!0},p(s,a){s[6].id===s[0].default?l||(l=Xc(),l.c(),l.m(e,i)):l&&(l.d(1),l=null)},i(s){o||(v(n.$$.fragment,s),o=!0)},o(s){E(n.$$.fragment,s),o=!1},d(s){s&&h(e),V(n),l&&l.d()}}}function QI(r){let e;return{c(){e=p("p"),e.innerHTML='<em style="color: var(--cata-color-gray)">No items use this ammo.</em>'},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function xI(r){let e,n;return e=new xt({props:{items:r[2],$$slots:{default:[eO,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&513&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function eO(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"item",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function tO(r){let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u,c,d,b,$,k,w,S=r[1],C=[];for(let j=0;j<S.length;j+=1)C[j]=Kc(Jc(r,S,j));const I=j=>E(C[j],1,1,()=>{C[j]=null}),A=[xI,QI],L=[];function F(j,P){return j[2].length>0?0:1}return $=F(r),k=L[$]=A[$](r),{c(){e=p("h1"),n=T("Ammunition Type: "),i=T(t),o=M(),l=p("section"),s=p("h1"),s.textContent="Compatible Variants",a=M(),f=p("ul");for(let j=0;j<C.length;j+=1)C[j].c();u=M(),c=p("section"),d=p("h1"),d.textContent="Used By",b=M(),k.c()},m(j,P){g(j,e,P),m(e,n),m(e,i),g(j,o,P),g(j,l,P),m(l,s),m(l,a),m(l,f);for(let U=0;U<C.length;U+=1)C[U].m(f,null);g(j,u,P),g(j,c,P),m(c,d),m(c,b),L[$].m(c,null),w=!0},p(j,[P]){if((!w||P&1)&&t!==(t=Fe(j[0])+"")&&ne(i,t),P&3){S=j[1];let U;for(U=0;U<S.length;U+=1){const Q=Jc(j,S,U);C[U]?(C[U].p(Q,P),v(C[U],1)):(C[U]=Kc(Q),C[U].c(),v(C[U],1),C[U].m(f,null))}for(ce(),U=S.length;U<C.length;U+=1)I(U);_e()}k.p(j,P)},i(j){if(!w){for(let P=0;P<S.length;P+=1)v(C[P]);v(k),w=!0}},o(j){C=C.filter(Boolean);for(let P=0;P<C.length;P+=1)E(C[P]);E(k),w=!1},d(j){j&&h(e),j&&h(o),j&&h(l),Ce(C,j),j&&h(u),j&&h(c),L[$].d()}}}function nO(r,e,n){let{item:t}=e;const i=Yt("data"),o=i.byType("item").flatMap(f=>f.type!=="AMMO"||!f.id?[]:f.ammo_type===t.id?[f]:[]);o.sort((f,u)=>Fe(f).localeCompare(Fe(u)));const l={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1},s=(f,u)=>{var b;return((b=f.pocket_data)!=null?b:[]).map($=>({...l,...$})).flatMap($=>{var k;return $.pocket_type==="MAGAZINE"?Object.keys((k=$.ammo_restriction)!=null?k:{}):[]}).some($=>$===u.id)},a=i.byType("item").filter(f=>s(f,t));return a.sort((f,u)=>Fe(f).localeCompare(Fe(u))),r.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,o,a]}class iO extends wt{constructor(e){super(),kt(this,e,nO,tO,vt,{item:0})}}function Zc(r,e,n){const t=r.slice();return t[8]=e[n],t}function Qc(r,e,n){const t=r.slice();return t[8]=e[n],t}function xc(r,e,n){const t=r.slice();return t[8]=e[n],t}function e_(r,e,n){const t=r.slice();return t[8]=e[n][0],t[15]=e[n][1],t}function t_(r,e,n){const t=r.slice();return t[18]=e[n],t}function n_(r){let e,n,t,i,o=r[0].usages,l=[];for(let s=0;s<o.length;s+=1)l[s]=r_(e_(r,o,s));return{c(){e=p("section"),n=p("h1"),n.textContent="Usages",t=M(),i=p("dl");for(let s=0;s<l.length;s+=1)l[s].c()},m(s,a){g(s,e,a),m(e,n),m(e,t),m(e,i);for(let f=0;f<l.length;f+=1)l[f].m(i,null)},p(s,a){if(a&3){o=s[0].usages;let f;for(f=0;f<o.length;f+=1){const u=e_(s,o,f);l[f]?l[f].p(u,a):(l[f]=r_(u),l[f].c(),l[f].m(i,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),Ce(l,s)}}}function i_(r){let e,n=Fe(r[1].byId("item_action",r[18]))+"",t;return{c(){e=p("li"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p(i,o){o&1&&n!==(n=Fe(i[1].byId("item_action",i[18]))+"")&&ne(t,n)},d(i){i&&h(e)}}}function r_(r){let e,n,t=r[8]+"",i,o,l,s,a=r[15],f=[];for(let u=0;u<a.length;u+=1)f[u]=i_(t_(r,a,u));return{c(){e=p("dt"),n=T("At Level "),i=T(t),o=p("dd"),l=p("ul");for(let u=0;u<f.length;u+=1)f[u].c();s=M(),Rt(e,"font-variant","tabular-nums"),ye(l,"class","comma-separated")},m(u,c){g(u,e,c),m(e,n),m(e,i),g(u,o,c),m(o,l);for(let d=0;d<f.length;d+=1)f[d].m(l,null);m(o,s)},p(u,c){if(c&1&&t!==(t=u[8]+"")&&ne(i,t),c&3){a=u[15];let d;for(d=0;d<a.length;d+=1){const b=t_(u,a,d);f[d]?f[d].p(b,c):(f[d]=i_(b),f[d].c(),f[d].m(l,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=a.length}},d(u){u&&h(e),u&&h(o),Ce(f,u)}}}function rO(r){let e,n,t,i,o,l=[...r[2].keys()].sort(f_),s=[];for(let f=0;f<l.length;f+=1)s[f]=l_(xc(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Tools",t=M(),i=p("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),m(e,n),m(e,t),m(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&5){l=[...f[2].keys()].sort(f_);let c;for(c=0;c<l.length;c+=1){const d=xc(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=l_(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),Ce(s,f)}}}function lO(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"item",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function l_(r){let e,n,t=r[8]+"",i,o,l,s,a;return l=new xt({props:{items:r[2].get(r[8]).sort(r[5]),limit:20,$$slots:{default:[lO,({item:f})=>({0:f}),({item:f})=>f?1:0]},$$scope:{ctx:r}}}),{c(){e=p("dt"),n=T("Level "),i=T(t),o=p("dd"),J(l.$$.fragment),s=M(),Rt(e,"font-variant","tabular-nums")},m(f,u){g(f,e,u),m(e,n),m(e,i),g(f,o,u),W(l,o,null),m(o,s),a=!0},p(f,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:f}),l.$set(c)},i(f){a||(v(l.$$.fragment,f),a=!0)},o(f){E(l.$$.fragment,f),a=!1},d(f){f&&h(e),f&&h(o),V(l)}}}function oO(r){let e,n,t,i,o,l=[...r[3].keys()].sort(a_),s=[];for(let f=0;f<l.length;f+=1)s[f]=o_(Qc(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Vehicle Parts",t=M(),i=p("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),m(e,n),m(e,t),m(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&9){l=[...f[3].keys()].sort(a_);let c;for(c=0;c<l.length;c+=1){const d=Qc(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=o_(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),Ce(s,f)}}}function sO(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"vehicle_part",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function o_(r){let e,n,t=r[8]+"",i,o,l,s,a;return l=new xt({props:{items:r[3].get(r[8]).sort(r[6]),limit:20,$$slots:{default:[sO,({item:f})=>({0:f}),({item:f})=>f?1:0]},$$scope:{ctx:r}}}),{c(){e=p("dt"),n=T("Level "),i=T(t),o=p("dd"),J(l.$$.fragment),s=M(),Rt(e,"font-variant","tabular-nums")},m(f,u){g(f,e,u),m(e,n),m(e,i),g(f,o,u),W(l,o,null),m(o,s),a=!0},p(f,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:f}),l.$set(c)},i(f){a||(v(l.$$.fragment,f),a=!0)},o(f){E(l.$$.fragment,f),a=!1},d(f){f&&h(e),f&&h(o),V(l)}}}function fO(r){let e,n,t,i,o,l=[...r[4].keys()].sort(u_),s=[];for(let f=0;f<l.length;f+=1)s[f]=s_(Zc(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Recipes",t=M(),i=p("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),m(e,n),m(e,t),m(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&19){l=[...f[4].keys()].sort(u_);let c;for(c=0;c<l.length;c+=1){const d=Zc(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=s_(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),Ce(s,f)}}}function aO(r){let e,n,t,i;return e=new Mt({props:{item:r[1].byId("item",r[0])}}),t=new Se({props:{type:"item",id:r[0]}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[1].byId("item",o[0])),e.$set(s);const a={};l&1&&(a.id=o[0]),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function s_(r){let e,n,t=r[8]+"",i,o,l,s,a;return l=new xt({props:{items:r[4].get(r[8]),limit:20,$$slots:{default:[aO,({item:f})=>({0:f}),({item:f})=>f?1:0]},$$scope:{ctx:r}}}),{c(){e=p("dt"),n=T("Level "),i=T(t),o=p("dd"),J(l.$$.fragment),s=M(),Rt(e,"font-variant","tabular-nums")},m(f,u){g(f,e,u),m(e,n),m(e,i),g(f,o,u),W(l,o,null),m(o,s),a=!0},p(f,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:f}),l.$set(c)},i(f){a||(v(l.$$.fragment,f),a=!0)},o(f){E(l.$$.fragment,f),a=!1},d(f){f&&h(e),f&&h(o),V(l)}}}function uO(r){let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u,c=r[0].usages&&n_(r),d=r[2].size>0&&rO(r),b=r[3].size>0&&oO(r),$=r[4].size>0&&fO(r);return{c(){e=p("h1"),n=T("Quality: "),i=T(t),o=M(),c&&c.c(),l=M(),d&&d.c(),s=M(),b&&b.c(),a=M(),$&&$.c(),f=ge()},m(k,w){g(k,e,w),m(e,n),m(e,i),g(k,o,w),c&&c.m(k,w),g(k,l,w),d&&d.m(k,w),g(k,s,w),b&&b.m(k,w),g(k,a,w),$&&$.m(k,w),g(k,f,w),u=!0},p(k,[w]){(!u||w&1)&&t!==(t=Fe(k[0])+"")&&ne(i,t),k[0].usages?c?c.p(k,w):(c=n_(k),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null),k[2].size>0&&d.p(k,w),k[3].size>0&&b.p(k,w),k[4].size>0&&$.p(k,w)},i(k){u||(v(d),v(b),v($),u=!0)},o(k){E(d),E(b),E($),u=!1},d(k){k&&h(e),k&&h(o),c&&c.d(k),k&&h(l),d&&d.d(k),k&&h(s),b&&b.d(k),k&&h(a),$&&$.d(k),k&&h(f)}}}const f_=(r,e)=>r-e,a_=(r,e)=>r-e,u_=(r,e)=>r-e;function cO(r,e,n){var c,d,b;let{item:t}=e,i=Yt("data"),o=new Map;for(const $ of i.byType("item")){if(!$.id)continue;const k=((c=$.qualities)!=null?c:[]).concat((d=$.charged_qualities)!=null?d:[]).find(([w,S])=>w===t.id);if(k){const[,w]=k;o.has(w)||o.set(w,[]),o.get(w).push($)}}const l=new Map;for(const $ of i.byType("vehicle_part")){if(!$.id)continue;const k=((b=$.qualities)!=null?b:[]).find(([w,S])=>w===t.id);if(k){const[,w]=k;l.has(w)||l.set(w,[]),l.get(w).push($)}}const s=new Map;for(const $ of i.byType("recipe")){if(!$.result||$.construction_blueprint||!i.byId("item",$.result))continue;const{qualities:k}=i.normalizeRequirements($);for(const w of k)for(const{id:S,level:C}of w)S===t.id&&(s.has(C)||s.set(C,new Set),s.get(C).add($.result))}const a=new Map;for(const[$,k]of s)a.set($,[...k].sort((w,S)=>Fe(i.byId("item",w)).localeCompare(Fe(i.byId("item",S)))));const f=($,k)=>Fe($).localeCompare(Fe(k)),u=($,k)=>Fe($).localeCompare(Fe(k));return r.$$set=$=>{"item"in $&&n(0,t=$.item)},[t,i,o,l,a,f,u]}class _O extends wt{constructor(e){super(),kt(this,e,cO,uO,vt,{item:0})}}function c_(r,e,n){const t=r.slice();return t[10]=e[n].id,t[11]=e[n].count,t}function __(r,e,n){const t=r.slice();return t[14]=e[n],t}function d_(r,e,n){const t=r.slice();return t[10]=e[n].id,t[11]=e[n].count,t[18]=n,t}function m_(r,e,n){const t=r.slice();return t[19]=e[n],t}function p_(r,e,n){const t=r.slice();return t[22]=e[n],t[18]=n,t}function h_(r,e,n){const t=r.slice();return t[24]=e[n],t}function g_(r,e,n){const t=r.slice();return t[27]=e[n],t[18]=n,t}function b_(r,e,n){const t=r.slice();return t[10]=e[n][0],t[29]=e[n][1],t[18]=n,t}function v_(r){let e,n=Fe(r[2].byId("construction_group",r[0].group))+"",t;return{c(){e=p("h1"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p(i,o){o&1&&n!==(n=Fe(i[2].byId("construction_group",i[0].group))+"")&&ne(t,n)},d(i){i&&h(e)}}}function $_(r){let e,n,t,i;const o=[mO,dO],l=[];function s(a,f){return a[0].skill?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?l[e].p(a,f):(ce(),E(l[u],1,1,()=>{l[u]=null}),_e(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),v(n,1),n.m(t.parentNode,t))},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function dO(r){let e;return{c(){e=p("em"),e.textContent="none"},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function mO(r){var s;let e,n,t=((s=r[0].difficulty)!=null?s:0)+"",i,o,l;return e=new Se({props:{type:"skill",id:r[0].skill}}),{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")")},m(a,f){W(e,a,f),g(a,n,f),g(a,i,f),g(a,o,f),l=!0},p(a,f){var c;const u={};f&1&&(u.id=a[0].skill),e.$set(u),(!l||f&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&ne(i,t)},i(a){l||(v(e.$$.fragment,a),l=!0)},o(a){E(e.$$.fragment,a),l=!1},d(a){V(e,a),a&&h(n),a&&h(i),a&&h(o)}}}function pO(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function hO(r){let e=" and ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function y_(r){let e,n,t=r[29]+"",i,o,l,s;e=new Se({props:{type:"skill",id:r[10]}});function a(c,d){if(c[18]===c[0].required_skills.length-2)return hO;if(c[18]!==c[0].required_skills.length-1)return pO}let f=a(r),u=f&&f(r);return{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")"),u&&u.c(),l=ge()},m(c,d){W(e,c,d),g(c,n,d),g(c,i,d),g(c,o,d),u&&u.m(c,d),g(c,l,d),s=!0},p(c,d){const b={};d&1&&(b.id=c[10]),e.$set(b),(!s||d&1)&&t!==(t=c[29]+"")&&ne(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(l.parentNode,l)))},i(c){s||(v(e.$$.fragment,c),s=!0)},o(c){E(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&h(n),c&&h(i),c&&h(o),u&&u.d(c),c&&h(l)}}}function k_(r){let e,n,t,i,o,l,s;return t=new Mt({props:{item:r[2].byId(r[0].pre_terrain.startsWith("f_")?"furniture":"terrain",r[0].pre_terrain)}}),o=new Se({props:{type:r[0].pre_terrain.startsWith("f_")?"furniture":"terrain",id:r[0].pre_terrain}}),{c(){e=p("dt"),e.textContent="Requires",n=p("dd"),J(t.$$.fragment),i=M(),J(o.$$.fragment),l=M()},m(a,f){g(a,e,f),g(a,n,f),W(t,n,null),m(n,i),W(o,n,null),m(n,l),s=!0},p(a,f){const u={};f&1&&(u.item=a[2].byId(a[0].pre_terrain.startsWith("f_")?"furniture":"terrain",a[0].pre_terrain)),t.$set(u);const c={};f&1&&(c.type=a[0].pre_terrain.startsWith("f_")?"furniture":"terrain"),f&1&&(c.id=a[0].pre_terrain),o.$set(c)},i(a){s||(v(t.$$.fragment,a),v(o.$$.fragment,a),s=!0)},o(a){E(t.$$.fragment,a),E(o.$$.fragment,a),s=!1},d(a){a&&h(e),a&&h(n),V(t),V(o)}}}function gO(r){var b;let e,n,t,i,o,l,s=(b=r[5])!=null?b:[],a=[];for(let $=0;$<s.length;$+=1)a[$]=E_(h_(r,s,$));const f=$=>E(a[$],1,1,()=>{a[$]=null});let u=r[3],c=[];for(let $=0;$<u.length;$+=1)c[$]=T_(m_(r,u,$));const d=$=>E(c[$],1,1,()=>{c[$]=null});return{c(){e=p("dt"),e.textContent="Tools Required",n=p("dd"),t=p("ul");for(let $=0;$<a.length;$+=1)a[$].c();i=M();for(let $=0;$<c.length;$+=1)c[$].c();o=M()},m($,k){g($,e,k),g($,n,k),m(n,t);for(let w=0;w<a.length;w+=1)a[w].m(t,null);m(t,i);for(let w=0;w<c.length;w+=1)c[w].m(t,null);m(n,o),l=!0},p($,k){var w;if(k&32){s=(w=$[5])!=null?w:[];let S;for(S=0;S<s.length;S+=1){const C=h_($,s,S);a[S]?(a[S].p(C,k),v(a[S],1)):(a[S]=E_(C),a[S].c(),v(a[S],1),a[S].m(t,i))}for(ce(),S=s.length;S<a.length;S+=1)f(S);_e()}if(k&12){u=$[3];let S;for(S=0;S<u.length;S+=1){const C=m_($,u,S);c[S]?(c[S].p(C,k),v(c[S],1)):(c[S]=T_(C),c[S].c(),v(c[S],1),c[S].m(t,null))}for(ce(),S=u.length;S<c.length;S+=1)d(S);_e()}},i($){if(!l){for(let k=0;k<s.length;k+=1)v(a[k]);for(let k=0;k<u.length;k+=1)v(c[k]);l=!0}},o($){a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)E(a[k]);c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)E(c[k]);l=!1},d($){$&&h(e),$&&h(n),Ce(a,$),Ce(c,$)}}}function bO(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function w_(r){var S,C;let e,n=((S=r[27].amount)!=null?S:1)+"",t,i,o=((C=r[27].amount)!=null?C:1)===1?"":"s",l,s,a,f,u=r[27].level+"",c,d,b="",$,k,w=r[18]!==0&&bO();return a=new Se({props:{type:"tool_quality",id:r[27].id}}),{c(){w&&w.c(),e=M(),t=T(n),i=T(" tool"),l=T(o),s=T(`
                with `),J(a.$$.fragment),f=T(" of "),c=T(u),d=T(`
                or more`),$=T(b)},m(I,A){w&&w.m(I,A),g(I,e,A),g(I,t,A),g(I,i,A),g(I,l,A),g(I,s,A),W(a,I,A),g(I,f,A),g(I,c,A),g(I,d,A),g(I,$,A),k=!0},p:de,i(I){k||(v(a.$$.fragment,I),k=!0)},o(I){E(a.$$.fragment,I),k=!1},d(I){w&&w.d(I),I&&h(e),I&&h(t),I&&h(i),I&&h(l),I&&h(s),V(a,I),I&&h(f),I&&h(c),I&&h(d),I&&h($)}}}function E_(r){let e,n,t,i=r[24],o=[];for(let s=0;s<i.length;s+=1)o[s]=w_(g_(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=T(".")},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a&32){i=s[24];let f;for(f=0;f<i.length;f+=1){const u=g_(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=w_(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function vO(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function $O(r){let e,n;return e=new Se({props:{type:"item",id:r[22].id}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p:de,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function yO(r){let e,n=Fe(r[2].byId("item",r[22].id))+"",t;return{c(){e=p("a"),t=T(n),ye(e,"href","#/furniture/"+r[2].craftingPseudoItem(r[22].id))},m(i,o){g(i,e,o),m(e,t)},p:de,i:de,o:de,d(i){i&&h(e)}}}function kO(r){let e,n=r[22].count+"",t,i,o,l=r[22].count!==1&&wO();return{c(){e=T("("),t=T(n),i=T(" charge"),l&&l.c(),o=T(")")},m(s,a){g(s,e,a),g(s,t,a),g(s,i,a),l&&l.m(s,a),g(s,o,a)},p:de,d(s){s&&h(e),s&&h(t),s&&h(i),l&&l.d(s),s&&h(o)}}}function wO(r){let e;return{c(){e=T("s")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function S_(r){let e,n,t,i,o,l,s=r[18]!==0&&vO();const a=[yO,$O],f=[];function u(d,b){return d[2].craftingPseudoItem(d[22].id)?0:1}n=u(r),t=f[n]=a[n](r);let c=r[22].count>0&&kO(r);return{c(){s&&s.c(),e=M(),t.c(),i=M(),c&&c.c(),o=ge()},m(d,b){s&&s.m(d,b),g(d,e,b),f[n].m(d,b),g(d,i,b),c&&c.m(d,b),g(d,o,b),l=!0},p(d,b){t.p(d,b),d[22].count>0&&c.p(d,b)},i(d){l||(v(t),l=!0)},o(d){E(t),l=!1},d(d){s&&s.d(d),d&&h(e),f[n].d(d),d&&h(i),c&&c.d(d),d&&h(o)}}}function T_(r){let e,n,t,i=r[19],o=[];for(let s=0;s<i.length;s+=1)o[s]=S_(p_(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=M()},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a&12){i=s[19];let f;for(f=0;f<i.length;f+=1){const u=p_(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=S_(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function EO(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=I_(__(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Components",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M()},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&20){l=f[4];let c;for(c=0;c<l.length;c+=1){const d=__(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=I_(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function SO(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function C_(r){let e,n,t,i=r[18]!==0&&SO();return n=new Se({props:{id:r[10],count:r[11],type:"item"}}),{c(){i&&i.c(),e=M(),J(n.$$.fragment)},m(o,l){i&&i.m(o,l),g(o,e,l),W(n,o,l),t=!0},p:de,i(o){t||(v(n.$$.fragment,o),t=!0)},o(o){E(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&h(e),V(n,o)}}}function I_(r){let e,n,t,i=r[14].map(r[7]),o=[];for(let s=0;s<i.length;s+=1)o[s]=C_(d_(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=M()},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a&20){i=s[14].map(s[7]);let f;for(f=0;f<i.length;f+=1){const u=d_(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=C_(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function TO(r){let e,n,t,i,o=r[6],l=[];for(let a=0;a<o.length;a+=1)l[a]=O_(c_(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Byproducts",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();ye(t,"class","comma-separated")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f&68){o=a[6];let u;for(u=0;u<o.length;u+=1){const c=c_(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=O_(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function O_(r){let e,n,t,i,o,l;return n=new Mt({props:{item:r[2].byId("item",r[10])}}),i=new Se({props:{type:"item",id:r[10],count:r[11]}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment),o=M()},m(s,a){g(s,e,a),W(n,e,null),m(e,t),W(i,e,null),m(e,o),l=!0},p:de,i(s){l||(v(n.$$.fragment,s),v(i.$$.fragment,s),l=!0)},o(s){E(n.$$.fragment,s),E(i.$$.fragment,s),l=!1},d(s){s&&h(e),V(n),V(i)}}}function R_(r){let e,n=r[0].pre_note+"",t;return{c(){e=p("p"),t=T(n),Rt(e,"color","var(--cata-color-gray)")},m(i,o){g(i,e,o),m(e,t)},p(i,o){o&1&&n!==(n=i[0].pre_note+"")&&ne(t,n)},d(i){i&&h(e)}}}function CO(r){var ee,pe;let e,n,t,i,o,l,s,a,f=(typeof r[0].time=="number"?`${r[0].time} m`:(ee=r[0].time)!=null?ee:"0 m")+"",u,c,d,b,$,k,w,S,C,I,A,L=JSON.stringify(r[0],null,2)+"",F,j,P=r[1]&&v_(r),U=(pe=r[0].required_skills)!=null?pe:[],Q=[];for(let ie=0;ie<U.length;ie+=1)Q[ie]=y_(b_(r,U,ie));const re=ie=>E(Q[ie],1,1,()=>{Q[ie]=null});let D=null;U.length||(D=$_(r));let G=r[0].pre_terrain&&k_(r),Z=(r[5].length||r[3].length)&&gO(r),z=r[4].length&&EO(r),X=r[6].length&&TO(r),Y=r[0].pre_note&&R_(r);return{c(){e=p("section"),P&&P.c(),n=M(),t=p("dl"),i=p("dt"),i.textContent="Required Skills",o=p("dd");for(let ie=0;ie<Q.length;ie+=1)Q[ie].c();D&&D.c(),l=M(),s=p("dt"),s.textContent="Time",a=p("dd"),u=T(f),c=M(),G&&G.c(),d=ge(),Z&&Z.c(),b=ge(),z&&z.c(),$=ge(),X&&X.c(),k=M(),Y&&Y.c(),w=M(),S=p("details"),C=p("summary"),C.textContent="Construction JSON",I=M(),A=p("pre"),F=T(L)},m(ie,H){g(ie,e,H),P&&P.m(e,null),m(e,n),m(e,t),m(t,i),m(t,o);for(let K=0;K<Q.length;K+=1)Q[K].m(o,null);D&&D.m(o,null),m(o,l),m(t,s),m(t,a),m(a,u),m(a,c),G&&G.m(t,null),m(t,d),Z&&Z.m(t,null),m(t,b),z&&z.m(t,null),m(t,$),X&&X.m(t,null),m(e,k),Y&&Y.m(e,null),m(e,w),m(e,S),m(S,C),m(S,I),m(S,A),m(A,F),j=!0},p(ie,[H]){var K,se;if(ie[1]?P?P.p(ie,H):(P=v_(ie),P.c(),P.m(e,n)):P&&(P.d(1),P=null),H&1){U=(K=ie[0].required_skills)!=null?K:[];let x;for(x=0;x<U.length;x+=1){const oe=b_(ie,U,x);Q[x]?(Q[x].p(oe,H),v(Q[x],1)):(Q[x]=y_(oe),Q[x].c(),v(Q[x],1),Q[x].m(o,l))}for(ce(),x=U.length;x<Q.length;x+=1)re(x);_e(),!U.length&&D?D.p(ie,H):U.length?D&&(ce(),E(D,1,1,()=>{D=null}),_e()):(D=$_(ie),D.c(),v(D,1),D.m(o,l))}(!j||H&1)&&f!==(f=(typeof ie[0].time=="number"?`${ie[0].time} m`:(se=ie[0].time)!=null?se:"0 m")+"")&&ne(u,f),ie[0].pre_terrain?G?(G.p(ie,H),H&1&&v(G,1)):(G=k_(ie),G.c(),v(G,1),G.m(t,d)):G&&(ce(),E(G,1,1,()=>{G=null}),_e()),(ie[5].length||ie[3].length)&&Z.p(ie,H),ie[4].length&&z.p(ie,H),ie[6].length&&X.p(ie,H),ie[0].pre_note?Y?Y.p(ie,H):(Y=R_(ie),Y.c(),Y.m(e,w)):Y&&(Y.d(1),Y=null),(!j||H&1)&&L!==(L=JSON.stringify(ie[0],null,2)+"")&&ne(F,L)},i(ie){if(!j){for(let H=0;H<U.length;H+=1)v(Q[H]);v(G),v(Z),v(z),v(X),j=!0}},o(ie){Q=Q.filter(Boolean);for(let H=0;H<Q.length;H+=1)E(Q[H]);E(G),E(Z),E(z),E(X),j=!1},d(ie){ie&&h(e),P&&P.d(),Ce(Q,ie),D&&D.d(),G&&G.d(),Z&&Z.d(),z&&z.d(),X&&X.d(),Y&&Y.d()}}}function IO(r,e,n){var b;const t=Yt("data");let{construction:i}=e,{includeTitle:o=!1}=e;const s=(typeof i.using=="string"?[[i.using,1]]:(b=i.using)!=null?b:[]).map(([$,k])=>[t.byId("requirement",$),k]).concat([[i,1]]),a=s.flatMap(([$,k])=>{var w;return t.flattenRequirement((w=$.tools)!=null?w:[],S=>S.tools,{expandSubstitutes:!0}).map(S=>S.map(C=>({...C,count:C.count*k})))}),f=s.flatMap(([$,k])=>{var w;return t.flattenRequirement((w=$.components)!=null?w:[],S=>S.components).map(S=>S.map(C=>({...C,count:C.count*k})))}),u=s.flatMap(([$,k])=>{var w;return((w=$.qualities)!=null?w:[]).map(S=>Array.isArray(S)?S:[S])}),c=t.flattenItemGroup(t.normalizeItemGroup(i.byproducts,"collection")),d=$=>({...$,item:t.byId("item",$.id)});return r.$$set=$=>{"construction"in $&&n(0,i=$.construction),"includeTitle"in $&&n(1,o=$.includeTitle)},[i,o,t,a,f,u,c,d]}class Mg extends wt{constructor(e){super(),kt(this,e,IO,CO,vt,{construction:0,includeTitle:1})}}function N_(r,e,n){const t=r.slice();return t[7]=e[n],t}function A_(r,e,n){const t=r.slice();return t[10]=e[n],t}function B_(r,e,n){const t=r.slice();return t[13]=e[n],t}function D_(r,e,n){const t=r.slice();return t[16]=e[n],t}function M_(r,e,n){const t=r.slice();return t[19]=e[n],t}function L_(r,e,n){const t=r.slice();return t[22]=e[n].id,t[23]=e[n].prob,t}function jo(r){const e=r.slice(),n=e[0].bash.furn_set;return e[26]=n,e}function F_(r,e,n){const t=r.slice();return t[22]=e[n].id,t[23]=e[n].prob,t[27]=e[n].count,t}function Uo(r){const e=r.slice(),n=e[0].deconstruct.furn_set;return e[26]=n,e}function P_(r,e,n){const t=r.slice();return t[22]=e[n].id,t[23]=e[n].prob,t[27]=e[n].count,t}function OO(r){let e,n=r[0].move_cost_mod*50+"",t;return{c(){e=T("+"),t=T(n)},m(i,o){g(i,e,o),g(i,t,o)},p(i,o){o[0]&1&&n!==(n=i[0].move_cost_mod*50+"")&&ne(t,n)},d(i){i&&h(e),i&&h(t)}}}function RO(r){let e;return{c(){e=p("em"),e.textContent="impassable"},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function j_(r){let e,n,t=r[0].comfort+"",i;return{c(){e=p("dt"),e.textContent="Comfort",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].comfort+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function U_(r){let e,n,t=r[0].max_volume+"",i;return{c(){e=p("dt"),e.textContent="Max Volume",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].max_volume+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function q_(r){let e,n,t,i;return t=new Se({props:{type:"item",id:r[0].crafting_pseudo_item}}),{c(){e=p("dt"),e.textContent="Provides",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l[0]&1&&(s.id=o[0].crafting_pseudo_item),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function NO(r){var c;let e,n,t,i,o,l,s=r[2],a=[];for(let d=0;d<s.length;d+=1)a[d]=G_(P_(r,s,d));const f=d=>E(a[d],1,1,()=>{a[d]=null});let u=((c=r[0].deconstruct)==null?void 0:c.furn_set)&&Y_(Uo(r));return{c(){e=p("dt"),e.textContent="Deconstruct",n=p("dd"),t=p("ul");for(let d=0;d<a.length;d+=1)a[d].c();i=M(),u&&u.c(),o=M(),ye(t,"class","comma-separated")},m(d,b){g(d,e,b),g(d,n,b),m(n,t);for(let $=0;$<a.length;$+=1)a[$].m(t,null);m(n,i),u&&u.m(n,null),m(n,o),l=!0},p(d,b){var $;if(b[0]&4){s=d[2];let k;for(k=0;k<s.length;k+=1){const w=P_(d,s,k);a[k]?(a[k].p(w,b),v(a[k],1)):(a[k]=G_(w),a[k].c(),v(a[k],1),a[k].m(t,null))}for(ce(),k=s.length;k<a.length;k+=1)f(k);_e()}($=d[0].deconstruct)!=null&&$.furn_set?u?(u.p(Uo(d),b),b[0]&1&&v(u,1)):(u=Y_(Uo(d)),u.c(),v(u,1),u.m(n,o)):u&&(ce(),E(u,1,1,()=>{u=null}),_e())},i(d){if(!l){for(let b=0;b<s.length;b+=1)v(a[b]);v(u),l=!0}},o(d){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)E(a[b]);E(u),l=!1},d(d){d&&h(e),d&&h(n),Ce(a,d),u&&u.d()}}}function AO(r){let e,n=r[27][0]+"",t,i,o=r[27][1]+"",l,s;return{c(){e=T("\xA0("),t=T(n),i=T("\u2013"),l=T(o),s=T(")")},m(a,f){g(a,e,f),g(a,t,f),g(a,i,f),g(a,l,f),g(a,s,f)},p:de,d(a){a&&h(e),a&&h(t),a&&h(i),a&&h(l),a&&h(s)}}}function BO(r){let e,n=r[27][0]!==1&&DO(r);return{c(){n&&n.c(),e=ge()},m(t,i){n&&n.m(t,i),g(t,e,i)},p(t,i){t[27][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&h(e)}}}function DO(r){let e,n=r[27][0]+"",t,i;return{c(){e=T("\xA0("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function MO(r){let e,n=Lg(r[23])+"",t,i;return{c(){e=T("\xA0("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function G_(r){let e,n,t,i="",o,l="",s,a;t=new Se({props:{type:"item",id:r[22]}});function f(b,$){return b[27][0]===b[27][1]?BO:AO}let c=f(r)(r),d=r[23]!==1&&MO(r);return{c(){e=p("li"),n=p("span"),J(t.$$.fragment),o=T(i),c.c(),s=T(l),d&&d.c(),Rt(n,"white-space","nowrap")},m(b,$){g(b,e,$),m(e,n),W(t,n,null),m(n,o),c.m(n,null),m(n,s),d&&d.m(n,null),a=!0},p(b,$){c.p(b,$),b[23]!==1&&d.p(b,$)},i(b){a||(v(t.$$.fragment,b),a=!0)},o(b){E(t.$$.fragment,b),a=!1},d(b){b&&h(e),V(t),c.d(),d&&d.d()}}}function Y_(r){let e,n,t,i,o,l,s;return i=new Mt({props:{item:r[1].byId("furniture",r[26])}}),l=new Se({props:{type:"furniture",id:r[26]}}),{c(){e=p("dl"),n=p("dt"),n.textContent="Becomes",t=p("dd"),J(i.$$.fragment),o=M(),J(l.$$.fragment)},m(a,f){g(a,e,f),m(e,n),m(e,t),W(i,t,null),m(t,o),W(l,t,null),s=!0},p(a,f){const u={};f[0]&1&&(u.item=a[1].byId("furniture",a[26])),i.$set(u);const c={};f[0]&1&&(c.id=a[26]),l.$set(c)},i(a){s||(v(i.$$.fragment,a),v(l.$$.fragment,a),s=!0)},o(a){E(i.$$.fragment,a),E(l.$$.fragment,a),s=!1},d(a){a&&h(e),V(i),V(l)}}}function LO(r){var w,S,C;let e,n,t,i,o,l,s,a=((S=(w=r[0].bash)==null?void 0:w.str_min)!=null?S:0)+"",f,u,c,d=r[3],b=[];for(let I=0;I<d.length;I+=1)b[I]=H_(F_(r,d,I));const $=I=>E(b[I],1,1,()=>{b[I]=null});let k=((C=r[0].bash)==null?void 0:C.furn_set)&&z_(jo(r));return{c(){e=p("dt"),e.textContent="Bash",n=p("dd"),t=p("ul");for(let I=0;I<b.length;I+=1)b[I].c();i=M(),o=p("dl"),l=p("dt"),l.textContent="Strength Required",s=p("dd"),f=T(a),k&&k.c(),u=M(),ye(t,"class","comma-separated")},m(I,A){g(I,e,A),g(I,n,A),m(n,t);for(let L=0;L<b.length;L+=1)b[L].m(t,null);m(n,i),m(n,o),m(o,l),m(o,s),m(s,f),k&&k.m(o,null),m(n,u),c=!0},p(I,A){var L,F,j;if(A[0]&8){d=I[3];let P;for(P=0;P<d.length;P+=1){const U=F_(I,d,P);b[P]?(b[P].p(U,A),v(b[P],1)):(b[P]=H_(U),b[P].c(),v(b[P],1),b[P].m(t,null))}for(ce(),P=d.length;P<b.length;P+=1)$(P);_e()}(!c||A[0]&1)&&a!==(a=((F=(L=I[0].bash)==null?void 0:L.str_min)!=null?F:0)+"")&&ne(f,a),(j=I[0].bash)!=null&&j.furn_set?k?(k.p(jo(I),A),A[0]&1&&v(k,1)):(k=z_(jo(I)),k.c(),v(k,1),k.m(o,null)):k&&(ce(),E(k,1,1,()=>{k=null}),_e())},i(I){if(!c){for(let A=0;A<d.length;A+=1)v(b[A]);v(k),c=!0}},o(I){b=b.filter(Boolean);for(let A=0;A<b.length;A+=1)E(b[A]);E(k),c=!1},d(I){I&&h(e),I&&h(n),Ce(b,I),k&&k.d()}}}function FO(r){let e,n=r[27][0]+"",t,i,o=r[27][1]+"",l,s;return{c(){e=T("\xA0("),t=T(n),i=T("\u2013"),l=T(o),s=T(")")},m(a,f){g(a,e,f),g(a,t,f),g(a,i,f),g(a,l,f),g(a,s,f)},p:de,d(a){a&&h(e),a&&h(t),a&&h(i),a&&h(l),a&&h(s)}}}function PO(r){let e,n=r[27][0]!==1&&jO(r);return{c(){n&&n.c(),e=ge()},m(t,i){n&&n.m(t,i),g(t,e,i)},p(t,i){t[27][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&h(e)}}}function jO(r){let e,n=r[27][0]+"",t,i;return{c(){e=T("\xA0("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function UO(r){let e,n=Lg(r[23])+"",t,i;return{c(){e=T("\xA0("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function H_(r){let e,n,t,i="",o,l="",s,a;t=new Se({props:{type:"item",id:r[22]}});function f(b,$){return b[27][0]===b[27][1]?PO:FO}let c=f(r)(r),d=r[23]!==1&&UO(r);return{c(){e=p("li"),n=p("span"),J(t.$$.fragment),o=T(i),c.c(),s=T(l),d&&d.c(),Rt(n,"white-space","nowrap")},m(b,$){g(b,e,$),m(e,n),W(t,n,null),m(n,o),c.m(n,null),m(n,s),d&&d.m(n,null),a=!0},p(b,$){c.p(b,$),b[23]!==1&&d.p(b,$)},i(b){a||(v(t.$$.fragment,b),a=!0)},o(b){E(t.$$.fragment,b),a=!1},d(b){b&&h(e),V(t),c.d(),d&&d.d()}}}function z_(r){let e,n,t,i,o,l;return t=new Mt({props:{item:r[1].byId("furniture",r[26])}}),o=new Se({props:{type:"furniture",id:r[26]}}),{c(){e=p("dt"),e.textContent="Becomes",n=p("dd"),J(t.$$.fragment),i=M(),J(o.$$.fragment)},m(s,a){g(s,e,a),g(s,n,a),W(t,n,null),m(n,i),W(o,n,null),l=!0},p(s,a){const f={};a[0]&1&&(f.item=s[1].byId("furniture",s[26])),t.$set(f);const u={};a[0]&1&&(u.id=s[26]),o.$set(u)},i(s){l||(v(t.$$.fragment,s),v(o.$$.fragment,s),l=!0)},o(s){E(t.$$.fragment,s),E(o.$$.fragment,s),l=!1},d(s){s&&h(e),s&&h(n),V(t),V(o)}}}function qO(r){let e,n,t,i,o,l=["winter","spring","summer","autumn"].filter(r[6]),s=[];for(let f=0;f<l.length;f+=1)s[f]=X_(B_(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Harvest",n=p("dd"),t=p("dl");for(let f=0;f<s.length;f+=1)s[f].c();i=M()},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&34){l=["winter","spring","summer","autumn"].filter(f[6]);let c;for(c=0;c<l.length;c+=1){const d=B_(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=X_(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function GO(r){let e,n,t,i,o;return n=new Mt({props:{item:r[1].byId("item",r[19].drop)}}),i=new Se({props:{type:"item",id:r[19].drop}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),W(n,e,null),m(e,t),W(i,e,null),o=!0},p:de,i(l){o||(v(n.$$.fragment,l),v(i.$$.fragment,l),o=!0)},o(l){E(n.$$.fragment,l),E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(n),V(i)}}}function YO(r){let e,n,t=r[1].flattenItemGroup(r[1].byId("item_group",r[19].drop)),i=[];for(let l=0;l<t.length;l+=1)i[l]=W_(L_(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ge()},m(l,s){for(let a=0;a<i.length;a+=1)i[a].m(l,s);g(l,e,s),n=!0},p(l,s){if(s[0]&34){t=l[1].flattenItemGroup(l[1].byId("item_group",l[19].drop));let a;for(a=0;a<t.length;a+=1){const f=L_(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=W_(f),i[a].c(),v(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){Ce(i,l),l&&h(e)}}}function W_(r){let e,n,t,i,o,l=(r[23]*100).toFixed(2)+"",s,a,f;return n=new Mt({props:{item:r[1].byId("item",r[22])}}),i=new Se({props:{type:"item",id:r[22]}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment),o=T(" ("),s=T(l),a=T("%)")},m(u,c){g(u,e,c),W(n,e,null),m(e,t),W(i,e,null),m(e,o),m(e,s),m(e,a),f=!0},p:de,i(u){f||(v(n.$$.fragment,u),v(i.$$.fragment,u),f=!0)},o(u){E(n.$$.fragment,u),E(i.$$.fragment,u),f=!1},d(u){u&&h(e),V(n),V(i)}}}function V_(r){let e,n,t,i;const o=[YO,GO],l=[];function s(a,f){return a[19].type==="bionic_group"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function J_(r){let e,n,t=r[16].entries,i=[];for(let l=0;l<t.length;l+=1)i[l]=V_(M_(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){e=p("ul");for(let l=0;l<i.length;l+=1)i[l].c()},m(l,s){g(l,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(l,s){if(s[0]&34){t=l[16].entries;let a;for(a=0;a<t.length;a+=1){const f=M_(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=V_(f),i[a].c(),v(i[a],1),i[a].m(e,null))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){l&&h(e),Ce(i,l)}}}function X_(r){let e,n=r[13]+"",t,i,o,l,s=[r[1].byId("harvest",r[5].get(r[13]))],a=[];for(let u=0;u<1;u+=1)a[u]=J_(D_(r,s,u));const f=u=>E(a[u],1,1,()=>{a[u]=null});return{c(){e=p("dt"),t=T(n),i=p("dd");for(let u=0;u<1;u+=1)a[u].c();o=M(),Rt(e,"text-transform","capitalize")},m(u,c){g(u,e,c),m(e,t),g(u,i,c);for(let d=0;d<1;d+=1)a[d].m(i,null);m(i,o),l=!0},p(u,c){if(c[0]&34){s=[u[1].byId("harvest",u[5].get(u[13]))];let d;for(d=0;d<1;d+=1){const b=D_(u,s,d);a[d]?(a[d].p(b,c),v(a[d],1)):(a[d]=J_(b),a[d].c(),v(a[d],1),a[d].m(i,o))}for(ce(),d=1;d<1;d+=1)f(d);_e()}},i(u){if(!l){for(let c=0;c<1;c+=1)v(a[c]);l=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)E(a[c]);l=!1},d(u){u&&h(e),u&&h(i),Ce(a,u)}}}function K_(r){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function Z_(r){let e,n,t;return n=new Se({props:{type:"json_flag",id:r[10]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[10]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function HO(r){let e,n,t,i,o=r[4],l=[];for(let a=0;a<o.length;a+=1)l[a]=Q_(N_(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("h2"),e.textContent="Construction",n=M();for(let a=0;a<l.length;a+=1)l[a].c();t=ge()},m(a,f){g(a,e,f),g(a,n,f);for(let u=0;u<l.length;u+=1)l[u].m(a,f);g(a,t,f),i=!0},p(a,f){if(f[0]&16){o=a[4];let u;for(u=0;u<o.length;u+=1){const c=N_(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=Q_(c),l[u].c(),v(l[u],1),l[u].m(t.parentNode,t))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a),a&&h(t)}}}function Q_(r){let e,n;return e=new Mg({props:{construction:r[7],includeTitle:!0}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p:de,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function zO(r){var Ne,Ot;let e,n,t,i=Fe(r[0])+"",o,l,s,a,f,u,c,d,b,$,k,w=(r[0].required_str>=0?r[0].required_str:"not movable")+"",S,C,I,A=((Ne=r[0].coverage)!=null?Ne:0)+"",L,F,j,P,U,Q,re,D,G,Z,z,X,Y=r[0].description+"",ee,pe,ie,H;n=new Mt({props:{item:r[0]}});function K(ke,Pe){return ke[0].move_cost_mod<0?RO:OO}let se=K(r),x=se(r),oe=r[0].comfort&&j_(r),$e=r[0].max_volume&&U_(r),He=r[0].crafting_pseudo_item&&q_(r),Me=r[2].length&&NO(r),be=r[3].length&&LO(r),Ee=r[5].size&&qO(r),Ie=(Ot=r[0].flags)!=null?Ot:[],we=[];for(let ke=0;ke<Ie.length;ke+=1)we[ke]=Z_(A_(r,Ie,ke));const nt=ke=>E(we[ke],1,1,()=>{we[ke]=null});let Ge=null;Ie.length||(Ge=K_());let Oe=r[4].length&&HO(r);return{c(){e=p("h1"),J(n.$$.fragment),t=M(),o=T(i),l=M(),s=p("section"),a=p("h1"),a.textContent="General",f=M(),u=p("dl"),c=p("dt"),c.textContent="Move Cost Modifier",d=p("dd"),x.c(),b=M(),$=p("dt"),$.textContent="Strength Required to Drag",k=p("dd"),S=T(w),C=p("dt"),C.textContent="Coverage",I=p("dd"),L=T(A),F=T("%"),oe&&oe.c(),j=ge(),$e&&$e.c(),P=ge(),He&&He.c(),U=ge(),Me&&Me.c(),Q=ge(),be&&be.c(),re=ge(),Ee&&Ee.c(),D=p("dt"),D.textContent="Flags",G=p("dd"),Z=p("ul");for(let ke=0;ke<we.length;ke+=1)we[ke].c();Ge&&Ge.c(),z=M(),X=p("p"),ee=T(Y),pe=M(),Oe&&Oe.c(),ie=ge(),ye(Z,"class","comma-separated"),Rt(X,"color","var(--cata-color-gray)")},m(ke,Pe){g(ke,e,Pe),W(n,e,null),m(e,t),m(e,o),g(ke,l,Pe),g(ke,s,Pe),m(s,a),m(s,f),m(s,u),m(u,c),m(u,d),x.m(d,null),m(d,b),m(u,$),m(u,k),m(k,S),m(u,C),m(u,I),m(I,L),m(I,F),oe&&oe.m(u,null),m(u,j),$e&&$e.m(u,null),m(u,P),He&&He.m(u,null),m(u,U),Me&&Me.m(u,null),m(u,Q),be&&be.m(u,null),m(u,re),Ee&&Ee.m(u,null),m(u,D),m(u,G),m(G,Z);for(let mt=0;mt<we.length;mt+=1)we[mt].m(Z,null);Ge&&Ge.m(Z,null),m(s,z),m(s,X),m(X,ee),g(ke,pe,Pe),Oe&&Oe.m(ke,Pe),g(ke,ie,Pe),H=!0},p(ke,Pe){var We,xe;const mt={};if(Pe[0]&1&&(mt.item=ke[0]),n.$set(mt),(!H||Pe[0]&1)&&i!==(i=Fe(ke[0])+"")&&ne(o,i),se===(se=K(ke))&&x?x.p(ke,Pe):(x.d(1),x=se(ke),x&&(x.c(),x.m(d,b))),(!H||Pe[0]&1)&&w!==(w=(ke[0].required_str>=0?ke[0].required_str:"not movable")+"")&&ne(S,w),(!H||Pe[0]&1)&&A!==(A=((We=ke[0].coverage)!=null?We:0)+"")&&ne(L,A),ke[0].comfort?oe?oe.p(ke,Pe):(oe=j_(ke),oe.c(),oe.m(u,j)):oe&&(oe.d(1),oe=null),ke[0].max_volume?$e?$e.p(ke,Pe):($e=U_(ke),$e.c(),$e.m(u,P)):$e&&($e.d(1),$e=null),ke[0].crafting_pseudo_item?He?(He.p(ke,Pe),Pe[0]&1&&v(He,1)):(He=q_(ke),He.c(),v(He,1),He.m(u,U)):He&&(ce(),E(He,1,1,()=>{He=null}),_e()),ke[2].length&&Me.p(ke,Pe),ke[3].length&&be.p(ke,Pe),ke[5].size&&Ee.p(ke,Pe),Pe[0]&1){Ie=(xe=ke[0].flags)!=null?xe:[];let qe;for(qe=0;qe<Ie.length;qe+=1){const Le=A_(ke,Ie,qe);we[qe]?(we[qe].p(Le,Pe),v(we[qe],1)):(we[qe]=Z_(Le),we[qe].c(),v(we[qe],1),we[qe].m(Z,null))}for(ce(),qe=Ie.length;qe<we.length;qe+=1)nt(qe);_e(),!Ie.length&&Ge?Ge.p(ke,Pe):Ie.length?Ge&&(Ge.d(1),Ge=null):(Ge=K_(),Ge.c(),Ge.m(Z,null))}(!H||Pe[0]&1)&&Y!==(Y=ke[0].description+"")&&ne(ee,Y),ke[4].length&&Oe.p(ke,Pe)},i(ke){if(!H){v(n.$$.fragment,ke),v(He),v(Me),v(be),v(Ee);for(let Pe=0;Pe<Ie.length;Pe+=1)v(we[Pe]);v(Oe),H=!0}},o(ke){E(n.$$.fragment,ke),E(He),E(Me),E(be),E(Ee),we=we.filter(Boolean);for(let Pe=0;Pe<we.length;Pe+=1)E(we[Pe]);E(Oe),H=!1},d(ke){ke&&h(e),V(n),ke&&h(l),ke&&h(s),x.d(),oe&&oe.d(),$e&&$e.d(),He&&He.d(),Me&&Me.d(),be&&be.d(),Ee&&Ee.d(),Ce(we,ke),Ge&&Ge.d(),ke&&h(pe),Oe&&Oe.d(ke),ke&&h(ie)}}}function Lg(r){const e=(r*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function WO(r,e,n){var u,c,d;const t=Yt("data");let{item:i}=e;const o=(u=i.deconstruct)!=null&&u.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.deconstruct.items=="string"?[{group:i.deconstruct.items}]:i.deconstruct.items}):[],l=(c=i.bash)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.bash.items=="string"?[{group:i.bash.items}]:i.bash.items}):[],s=t.byType("construction").filter(b=>b.post_terrain===i.id),a=new Map;for(const{seasons:b,id:$}of(d=i.harvest_by_season)!=null?d:[])for(const k of b)a.set(k,$);const f=b=>a.has(b);return r.$$set=b=>{"item"in b&&n(0,i=b.item)},[i,t,o,l,s,a,f]}class VO extends wt{constructor(e){super(),kt(this,e,WO,zO,vt,{item:0},null,[-1,-1])}}function x_(r,e,n){const t=r.slice();return t[5]=e[n],t}function ed(r,e,n){const t=r.slice();return t[8]=e[n],t}function JO(r){let e,n,t,i,o,l=[...r[2].keys()].sort(id),s=[];for(let f=0;f<l.length;f+=1)s[f]=nd(x_(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Books",t=M(),i=p("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),m(e,n),m(e,t),m(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&4){l=[...f[2].keys()].sort(id);let c;for(c=0;c<l.length;c+=1){const d=x_(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=nd(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),Ce(s,f)}}}function td(r){let e,n,t;return n=new Se({props:{id:r[8].id,type:"item"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function nd(r){let e,n,t=r[5]+"",i,o,l,s,a,f=r[2].get(r[5]).sort(rd),u=[];for(let d=0;d<f.length;d+=1)u[d]=td(ed(r,f,d));const c=d=>E(u[d],1,1,()=>{u[d]=null});return{c(){e=p("dt"),n=T("Level "),i=T(t),o=p("dd"),l=p("ul");for(let d=0;d<u.length;d+=1)u[d].c();s=M(),Rt(e,"font-variant","tabular-nums")},m(d,b){g(d,e,b),m(e,n),m(e,i),g(d,o,b),m(o,l);for(let $=0;$<u.length;$+=1)u[$].m(l,null);m(o,s),a=!0},p(d,b){if(b&4){f=d[2].get(d[5]).sort(rd);let $;for($=0;$<f.length;$+=1){const k=ed(d,f,$);u[$]?(u[$].p(k,b),v(u[$],1)):(u[$]=td(k),u[$].c(),v(u[$],1),u[$].m(l,null))}for(ce(),$=f.length;$<u.length;$+=1)c($);_e()}},i(d){if(!a){for(let b=0;b<f.length;b+=1)v(u[b]);a=!0}},o(d){u=u.filter(Boolean);for(let b=0;b<u.length;b+=1)E(u[b]);a=!1},d(d){d&&h(e),d&&h(o),Ce(u,d)}}}function XO(r){let e,n,t,i,o;return i=new xt({props:{items:r[3],$$slots:{default:[KO,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Used By",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&2049&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function KO(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"item",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function ZO(r){let e,n,t=Fe(r[0])+"",i,o,l,s,a=r[0].description+"",f,u,c,d,b,$=r[1].length&&JO(r),k=r[3].length&&XO(r);return{c(){e=p("h1"),n=T("Skill: "),i=T(t),o=M(),l=p("section"),s=p("p"),f=T(a),u=M(),$&&$.c(),c=M(),k&&k.c(),d=ge(),Rt(s,"color","var(--cata-color-gray)")},m(w,S){g(w,e,S),m(e,n),m(e,i),g(w,o,S),g(w,l,S),m(l,s),m(s,f),g(w,u,S),$&&$.m(w,S),g(w,c,S),k&&k.m(w,S),g(w,d,S),b=!0},p(w,[S]){(!b||S&1)&&t!==(t=Fe(w[0])+"")&&ne(i,t),(!b||S&1)&&a!==(a=w[0].description+"")&&ne(f,a),w[1].length&&$.p(w,S),w[3].length&&k.p(w,S)},i(w){b||(v($),v(k),b=!0)},o(w){E($),E(k),b=!1},d(w){w&&h(e),w&&h(o),w&&h(l),w&&h(u),$&&$.d(w),w&&h(c),k&&k.d(w),w&&h(d)}}}const id=(r,e)=>r-e,rd=(r,e)=>{var n,t;return((n=r.required_level)!=null?n:0)-((t=e.required_level)!=null?t:0)};function QO(r,e,n){var a,f,u;let{item:t}=e;const i=Yt("data"),o=i.byType("item").filter(c=>c.id&&c.type==="BOOK"&&c.skill===t.id).sort((c,d)=>Fe(c).localeCompare(Fe(d))),l=new Map;for(const c of o)l.has((a=c.max_level)!=null?a:0)||l.set((f=c.max_level)!=null?f:0,[]),l.get((u=c.max_level)!=null?u:0).push(c);const s=i.byType("item").filter(c=>c.id&&c.type==="GUN"&&c.skill===t.id);return s.sort((c,d)=>Fe(c).localeCompare(Fe(d))),r.$$set=c=>{"item"in c&&n(0,t=c.item)},[t,o,l,s]}class xO extends wt{constructor(e){super(),kt(this,e,QO,ZO,vt,{item:0})}}function ld(r,e,n){const t=r.slice();return t[3]=e[n],t}function od(r){let e,n,t,i,o=r[0].required_proficiencies,l=[];for(let a=0;a<o.length;a+=1)l[a]=sd(ld(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Required Proficiencies",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();ye(t,"class","comma-separated")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f&1){o=a[0].required_proficiencies;let u;for(u=0;u<o.length;u+=1){const c=ld(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=sd(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function sd(r){let e,n,t;return n=new Se({props:{id:r[3],type:"proficiency"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[3]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function eR(r){let e,n,t,i,o;return i=new xt({props:{items:r[2],$$slots:{default:[tR,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Recipes",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&65&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function tR(r){let e,n,t,i;return e=new Mt({props:{item:r[1].byId("item",r[0])}}),t=new Se({props:{type:"item",id:r[0]}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[1].byId("item",o[0])),e.$set(s);const a={};l&1&&(a.id=o[0]),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function nR(r){var z,X;let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u=(r[0].can_learn?r[0].time_to_learn:"not learnable")+"",c,d,b,$=((z=r[0].default_time_multiplier)!=null?z:2)+"",k,w,S,C,I=((X=r[0].default_fail_multiplier)!=null?X:2)+"",A,L,F,j,P=r[0].description+"",U,Q,re,D,G=r[0].required_proficiencies&&od(r),Z=r[2].length&&eR(r);return{c(){e=p("h1"),n=T("Proficiency: "),i=T(t),o=M(),l=p("section"),s=p("dl"),a=p("dt"),a.textContent="Time to Learn",f=p("dd"),c=T(u),d=p("dt"),d.textContent="Default Time Multiplier",b=p("dd"),k=T($),w=T("\xD7"),S=p("dt"),S.textContent="Default Fail Multiplier",C=p("dd"),A=T(I),L=T("\xD7"),G&&G.c(),F=M(),j=p("p"),U=T(P),Q=M(),Z&&Z.c(),re=ge(),Rt(j,"color","var(--cata-color-gray)")},m(Y,ee){g(Y,e,ee),m(e,n),m(e,i),g(Y,o,ee),g(Y,l,ee),m(l,s),m(s,a),m(s,f),m(f,c),m(s,d),m(s,b),m(b,k),m(b,w),m(s,S),m(s,C),m(C,A),m(C,L),G&&G.m(s,null),m(l,F),m(l,j),m(j,U),g(Y,Q,ee),Z&&Z.m(Y,ee),g(Y,re,ee),D=!0},p(Y,[ee]){var pe,ie;(!D||ee&1)&&t!==(t=Fe(Y[0])+"")&&ne(i,t),(!D||ee&1)&&u!==(u=(Y[0].can_learn?Y[0].time_to_learn:"not learnable")+"")&&ne(c,u),(!D||ee&1)&&$!==($=((pe=Y[0].default_time_multiplier)!=null?pe:2)+"")&&ne(k,$),(!D||ee&1)&&I!==(I=((ie=Y[0].default_fail_multiplier)!=null?ie:2)+"")&&ne(A,I),Y[0].required_proficiencies?G?(G.p(Y,ee),ee&1&&v(G,1)):(G=od(Y),G.c(),v(G,1),G.m(s,null)):G&&(ce(),E(G,1,1,()=>{G=null}),_e()),(!D||ee&1)&&P!==(P=Y[0].description+"")&&ne(U,P),Y[2].length&&Z.p(Y,ee)},i(Y){D||(v(G),v(Z),D=!0)},o(Y){E(G),E(Z),D=!1},d(Y){Y&&h(e),Y&&h(o),Y&&h(l),G&&G.d(),Y&&h(Q),Z&&Z.d(Y),Y&&h(re)}}}function iR(r,e,n){let{item:t}=e;const i=Yt("data"),o=[...new Set(i.byType("recipe").filter(l=>{var s;return((s=l.proficiencies)!=null?s:[]).some(a=>a.proficiency===t.id)}).map(l=>l.result))].sort((l,s)=>Fe(i.byId("item",l)).localeCompare(Fe(i.byId("item",s))));return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,i,o]}class rR extends wt{constructor(e){super(),kt(this,e,iR,nR,vt,{item:0})}}function fd(r,e,n){const t=r.slice();return t[14]=e[n].color,t[15]=e[n].string,t}function ad(r){let e,n,t=r[6],i=[];for(let o=0;o<t.length;o+=1)i[o]=ud(fd(r,t,o));return{c(){e=p("section"),n=p("p");for(let o=0;o<i.length;o+=1)i[o].c()},m(o,l){g(o,e,l),m(e,n);for(let s=0;s<i.length;s+=1)i[s].m(n,null)},p(o,l){if(l&192){t=o[6];let s;for(s=0;s<t.length;s+=1){const a=fd(o,t,s);i[s]?i[s].p(a,l):(i[s]=ud(a),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){o&&h(e),Ce(i,o)}}}function ud(r){let e,n=r[15]+"",t;return{c(){e=p("span"),t=T(n),Rt(e,"color","var(--cata-color-"+r[7](r[14])+")")},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function lR(r){let e,n,t,i,o;return i=new xt({props:{items:r[1].sort(r[8]),$$slots:{default:[oR,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Items",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&262145&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function oR(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"item",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function sR(r){let e,n,t,i,o;return i=new xt({props:{items:r[2].sort(r[9]),$$slots:{default:[fR,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Vehicle Parts",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&262145&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function fR(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"vehicle_part",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function aR(r){let e,n,t,i,o;return i=new xt({props:{items:r[4].sort(r[10]),$$slots:{default:[uR,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Terrain",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&262145&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function uR(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"terrain",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function cR(r){let e,n,t,i,o;return i=new xt({props:{items:r[3].sort(r[11]),$$slots:{default:[_R,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Furniture",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&262145&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function _R(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"furniture",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function dR(r){let e,n,t,i,o;return i=new xt({props:{items:r[5].sort(r[12]),$$slots:{default:[mR,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Bionics",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&262145&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function mR(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"bionic",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function pR(r){let e,n,t=r[0].id+"",i,o,l,s,a,f,u,c,d,b=r[0].info&&ad(r),$=r[1].length&&lR(r),k=r[2].length&&sR(r),w=r[4].length&&aR(r),S=r[3].length&&cR(r),C=r[5].length&&dR(r);return{c(){e=p("h1"),n=T("Flag: "),i=T(t),o=M(),b&&b.c(),l=M(),$&&$.c(),s=M(),k&&k.c(),a=M(),w&&w.c(),f=M(),S&&S.c(),u=M(),C&&C.c(),c=ge()},m(I,A){g(I,e,A),m(e,n),m(e,i),g(I,o,A),b&&b.m(I,A),g(I,l,A),$&&$.m(I,A),g(I,s,A),k&&k.m(I,A),g(I,a,A),w&&w.m(I,A),g(I,f,A),S&&S.m(I,A),g(I,u,A),C&&C.m(I,A),g(I,c,A),d=!0},p(I,[A]){(!d||A&1)&&t!==(t=I[0].id+"")&&ne(i,t),I[0].info?b?b.p(I,A):(b=ad(I),b.c(),b.m(l.parentNode,l)):b&&(b.d(1),b=null),I[1].length&&$.p(I,A),I[2].length&&k.p(I,A),I[4].length&&w.p(I,A),I[3].length&&S.p(I,A),I[5].length&&C.p(I,A)},i(I){d||(v($),v(k),v(w),v(S),v(C),d=!0)},o(I){E($),E(k),E(w),E(S),E(C),d=!1},d(I){I&&h(e),I&&h(o),b&&b.d(I),I&&h(l),$&&$.d(I),I&&h(s),k&&k.d(I),I&&h(a),w&&w.d(I),I&&h(f),S&&S.d(I),I&&h(u),C&&C.d(I),I&&h(c)}}}function hR(r){let e=["gray"];const n=[];let t=r;for(;;){const i=t.match(/<\/?(info|good|bad|color|color_[^>]+)>/);if(i)i.index>0&&n.push({string:t.substring(0,i.index),color:e[0]}),i[0][1]==="/"&&e.length>1?e.shift():e.unshift(i[1]),t=t.substring(i.index+i[0].length);else break}return t.length&&n.push({string:t,color:e[0]}),n}function gR(r,e,n){var S;let{item:t}=e,i=Yt("data");const o=i.byType("item").filter(C=>{var I;return C.id&&((I=C.flags)==null?void 0:I.includes(t.id))}),l=i.byType("vehicle_part").filter(C=>{var I;return C.id&&((I=C.flags)==null?void 0:I.includes(t.id))}),s=i.byType("furniture").filter(C=>{var I;return C.id&&((I=C.flags)==null?void 0:I.includes(t.id))}),a=i.byType("terrain").filter(C=>{var I;return C.id&&((I=C.flags)==null?void 0:I.includes(t.id))}),f=i.byType("bionic").filter(C=>{var I,A,L;return C.id&&(((I=C.flags)==null?void 0:I.includes(t.id))||((A=C.active_flags)==null?void 0:A.includes(t.id))||((L=C.inactive_flags)==null?void 0:L.includes(t.id)))}),u=hR((S=t.info)!=null?S:""),c=C=>{if(C==="info")return"cyan";if(C==="good")return"green";if(C==="bad")return"red";const I=/^color_(.+)$/.exec(C);return I?I[1]:"gray"},d=(C,I)=>Fe(C).localeCompare(Fe(I)),b=(C,I)=>Fe(C).localeCompare(Fe(I)),$=(C,I)=>Fe(C).localeCompare(Fe(I)),k=(C,I)=>Fe(C).localeCompare(Fe(I)),w=(C,I)=>Fe(C).localeCompare(Fe(I));return r.$$set=C=>{"item"in C&&n(0,t=C.item)},[t,o,l,s,a,f,u,c,d,b,$,k,w]}class bR extends wt{constructor(e){super(),kt(this,e,gR,pR,vt,{item:0})}}function cd(r,e,n){const t=r.slice();return t[5]=e[n].tools,t[6]=e[n].components,t[7]=e[n].qualities,t[8]=e[n].mending_method,t}function _d(r,e,n){const t=r.slice();return t[11]=e[n],t}function dd(r,e,n){const t=r.slice();return t[14]=e[n].id,t[15]=e[n].count,t[17]=n,t}function md(r,e,n){const t=r.slice();return t[18]=e[n],t}function pd(r,e,n){const t=r.slice();return t[21]=e[n],t[17]=n,t}function hd(r,e,n){const t=r.slice();return t[23]=e[n],t}function gd(r,e,n){const t=r.slice();return t[26]=e[n],t[17]=n,t}function bd(r,e,n){const t=r.slice();return t[14]=e[n].id,t[28]=e[n].level,t[17]=n,t}function vd(r,e,n){const t=r.slice();return t[30]=e[n],t}function $d(r){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function yd(r){let e,n,t=r[30]+"",i,o;return{c(){e=p("li"),n=p("abbr"),i=T(t),ye(n,"title",o=r[3][r[30]])},m(l,s){g(l,e,s),m(e,n),m(n,i)},p(l,s){s[0]&1&&t!==(t=l[30]+"")&&ne(i,t),s[0]&1&&o!==(o=l[3][l[30]])&&ye(n,"title",o)},d(l){l&&h(e)}}}function vR(r){let e;return{c(){e=p("h2"),e.textContent="Mending Methods"},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function kd(r){let e;return{c(){e=T("none")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function $R(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function yR(r){let e=" and ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function wd(r){let e,n,t=r[28]+"",i,o,l,s;e=new Se({props:{type:"skill",id:r[14]}});function a(c,d){if(c[17]===c[8].skills.length-2)return yR;if(c[17]!==c[8].skills.length-1)return $R}let f=a(r),u=f&&f(r);return{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")"),u&&u.c(),l=ge()},m(c,d){W(e,c,d),g(c,n,d),g(c,i,d),g(c,o,d),u&&u.m(c,d),g(c,l,d),s=!0},p:de,i(c){s||(v(e.$$.fragment,c),s=!0)},o(c){E(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&h(n),c&&h(i),c&&h(o),u&&u.d(c),c&&h(l)}}}function kR(r){var b;let e,n,t,i,o,l,s=(b=r[7])!=null?b:[],a=[];for(let $=0;$<s.length;$+=1)a[$]=Sd(hd(r,s,$));const f=$=>E(a[$],1,1,()=>{a[$]=null});let u=r[5],c=[];for(let $=0;$<u.length;$+=1)c[$]=Cd(md(r,u,$));const d=$=>E(c[$],1,1,()=>{c[$]=null});return{c(){e=p("dt"),e.textContent="Tools Required",n=p("dd"),t=p("ul");for(let $=0;$<a.length;$+=1)a[$].c();i=M();for(let $=0;$<c.length;$+=1)c[$].c();o=M()},m($,k){g($,e,k),g($,n,k),m(n,t);for(let w=0;w<a.length;w+=1)a[w].m(t,null);m(t,i);for(let w=0;w<c.length;w+=1)c[w].m(t,null);m(n,o),l=!0},p($,k){var w;if(k[0]&4){s=(w=$[7])!=null?w:[];let S;for(S=0;S<s.length;S+=1){const C=hd($,s,S);a[S]?(a[S].p(C,k),v(a[S],1)):(a[S]=Sd(C),a[S].c(),v(a[S],1),a[S].m(t,i))}for(ce(),S=s.length;S<a.length;S+=1)f(S);_e()}if(k[0]&6){u=$[5];let S;for(S=0;S<u.length;S+=1){const C=md($,u,S);c[S]?(c[S].p(C,k),v(c[S],1)):(c[S]=Cd(C),c[S].c(),v(c[S],1),c[S].m(t,null))}for(ce(),S=u.length;S<c.length;S+=1)d(S);_e()}},i($){if(!l){for(let k=0;k<s.length;k+=1)v(a[k]);for(let k=0;k<u.length;k+=1)v(c[k]);l=!0}},o($){a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)E(a[k]);c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)E(c[k]);l=!1},d($){$&&h(e),$&&h(n),Ce(a,$),Ce(c,$)}}}function wR(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function Ed(r){var S,C;let e,n=((S=r[26].amount)!=null?S:1)+"",t,i,o=((C=r[26].amount)!=null?C:1)===1?"":"s",l,s,a,f,u=r[26].level+"",c,d,b="",$,k,w=r[17]!==0&&wR();return a=new Se({props:{type:"tool_quality",id:r[26].id}}),{c(){w&&w.c(),e=M(),t=T(n),i=T(" tool"),l=T(o),s=T(`
                  with `),J(a.$$.fragment),f=T(" of "),c=T(u),d=T(`
                  or more`),$=T(b)},m(I,A){w&&w.m(I,A),g(I,e,A),g(I,t,A),g(I,i,A),g(I,l,A),g(I,s,A),W(a,I,A),g(I,f,A),g(I,c,A),g(I,d,A),g(I,$,A),k=!0},p:de,i(I){k||(v(a.$$.fragment,I),k=!0)},o(I){E(a.$$.fragment,I),k=!1},d(I){w&&w.d(I),I&&h(e),I&&h(t),I&&h(i),I&&h(l),I&&h(s),V(a,I),I&&h(f),I&&h(c),I&&h(d),I&&h($)}}}function Sd(r){let e,n,t,i=r[23],o=[];for(let s=0;s<i.length;s+=1)o[s]=Ed(gd(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=T(".")},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a[0]&4){i=s[23];let f;for(f=0;f<i.length;f+=1){const u=gd(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=Ed(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function ER(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function SR(r){let e,n;return e=new Se({props:{type:"item",id:r[21].id}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p:de,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function TR(r){let e,n=Fe(r[1].byId("item",r[21].id))+"",t;return{c(){e=p("a"),t=T(n),ye(e,"href","#/furniture/"+r[1].craftingPseudoItem(r[21].id))},m(i,o){g(i,e,o),m(e,t)},p:de,i:de,o:de,d(i){i&&h(e)}}}function CR(r){let e,n=r[21].count+"",t,i,o,l=r[21].count!==1&&IR();return{c(){e=T("("),t=T(n),i=T(" charge"),l&&l.c(),o=T(")")},m(s,a){g(s,e,a),g(s,t,a),g(s,i,a),l&&l.m(s,a),g(s,o,a)},p:de,d(s){s&&h(e),s&&h(t),s&&h(i),l&&l.d(s),s&&h(o)}}}function IR(r){let e;return{c(){e=T("s")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function Td(r){let e,n,t,i,o,l,s=r[17]!==0&&ER();const a=[TR,SR],f=[];function u(d,b){return d[1].craftingPseudoItem(d[21].id)?0:1}n=u(r),t=f[n]=a[n](r);let c=r[21].count>0&&CR(r);return{c(){s&&s.c(),e=M(),t.c(),i=M(),c&&c.c(),o=ge()},m(d,b){s&&s.m(d,b),g(d,e,b),f[n].m(d,b),g(d,i,b),c&&c.m(d,b),g(d,o,b),l=!0},p(d,b){t.p(d,b),d[21].count>0&&c.p(d,b)},i(d){l||(v(t),l=!0)},o(d){E(t),l=!1},d(d){s&&s.d(d),d&&h(e),f[n].d(d),d&&h(i),c&&c.d(d),d&&h(o)}}}function Cd(r){let e,n,t,i=r[18],o=[];for(let s=0;s<i.length;s+=1)o[s]=Td(pd(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=M()},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a[0]&6){i=s[18];let f;for(f=0;f<i.length;f+=1){const u=pd(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=Td(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function OR(r){let e,n,t,i,o,l=r[6],s=[];for(let f=0;f<l.length;f+=1)s[f]=Od(_d(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Components",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M()},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&6){l=f[6];let c;for(c=0;c<l.length;c+=1){const d=_d(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Od(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function RR(r){let e=" OR ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function Id(r){let e,n,t,i=r[17]!==0&&RR();return n=new Se({props:{id:r[14],count:r[15],type:"item"}}),{c(){i&&i.c(),e=M(),J(n.$$.fragment)},m(o,l){i&&i.m(o,l),g(o,e,l),W(n,o,l),t=!0},p:de,i(o){t||(v(n.$$.fragment,o),t=!0)},o(o){E(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&h(e),V(n,o)}}}function Od(r){let e,n,t,i=r[11].map(r[4]),o=[];for(let s=0;s<i.length;s+=1)o[s]=Id(dd(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li");for(let s=0;s<o.length;s+=1)o[s].c();n=M()},m(s,a){g(s,e,a);for(let f=0;f<o.length;f+=1)o[f].m(e,null);m(e,n),t=!0},p(s,a){if(a[0]&6){i=s[11].map(s[4]);let f;for(f=0;f<i.length;f+=1){const u=dd(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=Id(u),o[f].c(),v(o[f],1),o[f].m(e,n))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function NR(r){let e,n,t,i;return t=new Se({props:{type:"fault",id:r[8].turns_into}}),{c(){e=p("dt"),e.textContent="Turns Into",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p:de,i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function Rd(r){let e,n,t=Fe(r[8])+"",i,o,l,s,a,f,u,c,d=r[8].time+"",b,$,k,w,S,C=r[8].skills,I=[];for(let U=0;U<C.length;U+=1)I[U]=wd(bd(r,C,U));const A=U=>E(I[U],1,1,()=>{I[U]=null});let L=null;C.length||(L=kd());let F=(r[7].length||r[5].length)&&kR(r),j=r[6].length&&OR(r),P=r[8].turns_into&&NR(r);return{c(){e=p("section"),n=p("h1"),i=T(t),o=M(),l=p("dl"),s=p("dt"),s.textContent="Skills Used",a=p("dd");for(let U=0;U<I.length;U+=1)I[U].c();L&&L.c(),f=M(),u=p("dt"),u.textContent="Time to Complete",c=p("dd"),b=T(d),F&&F.c(),$=ge(),j&&j.c(),k=ge(),P&&P.c(),w=M()},m(U,Q){g(U,e,Q),m(e,n),m(n,i),m(e,o),m(e,l),m(l,s),m(l,a);for(let re=0;re<I.length;re+=1)I[re].m(a,null);L&&L.m(a,null),m(a,f),m(l,u),m(l,c),m(c,b),F&&F.m(l,null),m(l,$),j&&j.m(l,null),m(l,k),P&&P.m(l,null),m(e,w),S=!0},p(U,Q){if(Q[0]&4){C=U[8].skills;let re;for(re=0;re<C.length;re+=1){const D=bd(U,C,re);I[re]?(I[re].p(D,Q),v(I[re],1)):(I[re]=wd(D),I[re].c(),v(I[re],1),I[re].m(a,f))}for(ce(),re=C.length;re<I.length;re+=1)A(re);_e(),C.length?L&&(L.d(1),L=null):L||(L=kd(),L.c(),L.m(a,f))}(U[7].length||U[5].length)&&F.p(U,Q),U[6].length&&j.p(U,Q),U[8].turns_into&&P.p(U,Q)},i(U){if(!S){for(let Q=0;Q<C.length;Q+=1)v(I[Q]);v(F),v(j),v(P),S=!0}},o(U){I=I.filter(Boolean);for(let Q=0;Q<I.length;Q+=1)E(I[Q]);E(F),E(j),E(P),S=!1},d(U){U&&h(e),Ce(I,U),L&&L.d(),F&&F.d(),j&&j.d(),P&&P.d()}}}function AR(r){var Q;let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u,c,d,b=r[0].description+"",$,k,w,S,C,I=(Q=r[0].flags)!=null?Q:[],A=[];for(let re=0;re<I.length;re+=1)A[re]=yd(vd(r,I,re));let L=null;I.length||(L=$d());let F=r[2].length&&vR(),j=r[2],P=[];for(let re=0;re<j.length;re+=1)P[re]=Rd(cd(r,j,re));const U=re=>E(P[re],1,1,()=>{P[re]=null});return{c(){e=p("h1"),n=T("Fault: "),i=T(t),o=M(),l=p("section"),s=p("dl"),a=p("dt"),a.textContent="Flags",f=p("dd"),u=p("ul");for(let re=0;re<A.length;re+=1)A[re].c();L&&L.c(),c=M(),d=p("p"),$=T(b),k=M(),F&&F.c(),w=M();for(let re=0;re<P.length;re+=1)P[re].c();S=ge(),ye(u,"class","comma-separated"),Rt(d,"color","var(--cata-color-gray)")},m(re,D){g(re,e,D),m(e,n),m(e,i),g(re,o,D),g(re,l,D),m(l,s),m(s,a),m(s,f),m(f,u);for(let G=0;G<A.length;G+=1)A[G].m(u,null);L&&L.m(u,null),m(l,c),m(l,d),m(d,$),g(re,k,D),F&&F.m(re,D),g(re,w,D);for(let G=0;G<P.length;G+=1)P[G].m(re,D);g(re,S,D),C=!0},p(re,D){var G;if((!C||D[0]&1)&&t!==(t=Fe(re[0])+"")&&ne(i,t),D[0]&9){I=(G=re[0].flags)!=null?G:[];let Z;for(Z=0;Z<I.length;Z+=1){const z=vd(re,I,Z);A[Z]?A[Z].p(z,D):(A[Z]=yd(z),A[Z].c(),A[Z].m(u,null))}for(;Z<A.length;Z+=1)A[Z].d(1);A.length=I.length,!I.length&&L?L.p(re,D):I.length?L&&(L.d(1),L=null):(L=$d(),L.c(),L.m(u,null))}if((!C||D[0]&1)&&b!==(b=re[0].description+"")&&ne($,b),D[0]&6){j=re[2];let Z;for(Z=0;Z<j.length;Z+=1){const z=cd(re,j,Z);P[Z]?(P[Z].p(z,D),v(P[Z],1)):(P[Z]=Rd(z),P[Z].c(),v(P[Z],1),P[Z].m(S.parentNode,S))}for(ce(),Z=j.length;Z<P.length;Z+=1)U(Z);_e()}},i(re){if(!C){for(let D=0;D<j.length;D+=1)v(P[D]);C=!0}},o(re){P=P.filter(Boolean);for(let D=0;D<P.length;D+=1)E(P[D]);C=!1},d(re){re&&h(e),re&&h(o),re&&h(l),Ce(A,re),L&&L.d(),re&&h(k),F&&F.d(re),re&&h(w),Ce(P,re),re&&h(S)}}}function BR(r,e,n){var a;const t=Yt("data");let{item:i}=e;const o=((a=i.mending_methods)!=null?a:[]).map(f=>{var $,k,w;const u=typeof f.requirements=="string"?t.byId("requirement",f.requirements):f.requirements,c=t.flattenRequirement(($=u.tools)!=null?$:[],S=>S.tools,{expandSubstitutes:!0}),d=t.flattenRequirement((k=u.components)!=null?k:[],S=>S.components),b=ts((w=u.qualities)!=null?w:[]);return{mending_method:f,tools:c,components:d,qualities:b}}),l={NO_ALTERNATOR_CHARGE:"The alternator connected to this engine does not work.",BAD_COLD_START:"The engine starts as if the temperature was 20 F colder. Does not stack with multiples of itself.",IMMOBILIZER:"Prevents engine from starting and makes it beep.",BAD_FUEL_PUMP:"Prevents engine from starting and makes it stutter.",BAD_STARTER:"Prevents engine from starting and makes click noise.",DOUBLE_FUEL_CONSUMPTION:"Doubles fuel consumption of the engine. Does not stack with multiples of itself.",EXTRA_EXHAUST:"Makes the engine emit more exhaust smoke. Does not stack with multiples of itself.",REDUCE_ENG_POWER:"Multiplies engine power by 0.6. Does not stack with multiples of itself.",ENG_BACKFIRE:"Causes the engine to backfire as if it had zero hp.",BLACKPOWDER_FOULING_DAMAGE:"Causes the gun to take random acid damage over time.",NO_DIRTYING:"Prevents the gun from receiving `fault_gun_dirt` fault.",JAMMED_GUN:"Stops burst fire. Adds delay on next shot.",UNLUBRICATED:"Randomly causes screeching noise when firing and applies damage when that happens.",BAD_CYCLING:"One in 16 chance that the gun fails to cycle when fired resulting in `fault_gun_chamber_spent` fault."},s=f=>({...f,item:t.byId("item",f.id)});return r.$$set=f=>{"item"in f&&n(0,i=f.item)},[i,t,o,l,s]}class DR extends wt{constructor(e){super(),kt(this,e,BR,AR,vt,{item:0},null,[-1,-1])}}function Nd(r,e,n){const t=r.slice();return t[5]=e[n],t}function Ad(r,e,n){const t=r.slice();return t[5]=e[n],t}function Bd(r){let e,n,t,i,o=r[2],l=[];for(let s=0;s<o.length;s+=1)l[s]=Dd(Ad(r,o,s));return{c(){e=p("dt"),e.textContent="Excess",n=p("dd"),t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=M(),ye(t,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),m(n,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null);m(n,i)},p(s,a){if(a&4){o=s[2];let f;for(f=0;f<o.length;f+=1){const u=Ad(s,o,f);l[f]?l[f].p(u,a):(l[f]=Dd(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),Ce(l,s)}}}function Dd(r){let e,n=qn(r[5])+"",t;return{c(){e=p("li"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function Md(r){let e,n,t,i,o=r[3],l=[];for(let s=0;s<o.length;s+=1)l[s]=Ld(Nd(r,o,s));return{c(){e=p("dt"),e.textContent="Deficiency",n=p("dd"),t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=M(),ye(t,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),m(n,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null);m(n,i)},p(s,a){if(a&8){o=s[3];let f;for(f=0;f<o.length;f+=1){const u=Nd(s,o,f);l[f]?l[f].p(u,a):(l[f]=Ld(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),Ce(l,s)}}}function Ld(r){let e,n=qn(r[5])+"",t;return{c(){e=p("li"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function MR(r){let e,n,t=r[0].pct+"",i,o,l;return e=new Se({props:{id:r[0].comestible.id,type:"item"}}),{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T("% RDA)")},m(s,a){W(e,s,a),g(s,n,a),g(s,i,a),g(s,o,a),l=!0},p(s,a){const f={};a&1&&(f.id=s[0].comestible.id),e.$set(f),(!l||a&1)&&t!==(t=s[0].pct+"")&&ne(i,t)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){V(e,s),s&&h(n),s&&h(i),s&&h(o)}}}function LR(r){var Y,ee,pe;let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u=r[0].vit_type+"",c,d,b,$,k=((Y=r[0].min)!=null?Y:0)+"",w,S,C,I=((ee=r[0].max)!=null?ee:0)+"",A,L,F,j=((pe=r[0].rate)!=null?pe:"0 m")+"",P,U,Q,re,D,G,Z,z=r[0].excess&&Bd(r),X=r[0].deficiency&&Md(r);return G=new xt({props:{items:r[1],$$slots:{default:[MR,({item:ie})=>({0:ie}),({item:ie})=>ie?1:0]},$$scope:{ctx:r}}}),{c(){e=p("h1"),n=T("Vitamin: "),i=T(t),o=M(),l=p("section"),s=p("dl"),a=p("dt"),a.textContent="Type",f=p("dd"),c=T(u),z&&z.c(),d=ge(),X&&X.c(),b=p("dt"),b.textContent="Min",$=p("dd"),w=T(k),S=p("dt"),S.textContent="Max",C=p("dd"),A=T(I),L=p("dt"),L.textContent="Rate",F=p("dd"),P=T(j),U=M(),Q=p("section"),re=p("h1"),re.textContent="Comestibles",D=M(),J(G.$$.fragment)},m(ie,H){g(ie,e,H),m(e,n),m(e,i),g(ie,o,H),g(ie,l,H),m(l,s),m(s,a),m(s,f),m(f,c),z&&z.m(s,null),m(s,d),X&&X.m(s,null),m(s,b),m(s,$),m($,w),m(s,S),m(s,C),m(C,A),m(s,L),m(s,F),m(F,P),g(ie,U,H),g(ie,Q,H),m(Q,re),m(Q,D),W(G,Q,null),Z=!0},p(ie,[H]){var se,x,oe;(!Z||H&1)&&t!==(t=Fe(ie[0])+"")&&ne(i,t),(!Z||H&1)&&u!==(u=ie[0].vit_type+"")&&ne(c,u),ie[0].excess?z?z.p(ie,H):(z=Bd(ie),z.c(),z.m(s,d)):z&&(z.d(1),z=null),ie[0].deficiency?X?X.p(ie,H):(X=Md(ie),X.c(),X.m(s,b)):X&&(X.d(1),X=null),(!Z||H&1)&&k!==(k=((se=ie[0].min)!=null?se:0)+"")&&ne(w,k),(!Z||H&1)&&I!==(I=((x=ie[0].max)!=null?x:0)+"")&&ne(A,I),(!Z||H&1)&&j!==(j=((oe=ie[0].rate)!=null?oe:"0 m")+"")&&ne(P,j);const K={};H&1025&&(K.$$scope={dirty:H,ctx:ie}),G.$set(K)},i(ie){Z||(v(G.$$.fragment,ie),Z=!0)},o(ie){E(G.$$.fragment,ie),Z=!1},d(ie){ie&&h(e),ie&&h(o),ie&&h(l),z&&z.d(),X&&X.d(),ie&&h(U),ie&&h(Q),V(G)}}}function FR(r,e,n){var a,f;let{item:t}=e;const i=Yt("data"),o=i.byType("item").filter(u=>{var c;return u.type==="COMESTIBLE"&&u.id&&((c=u.vitamins)!=null?c:[]).some(d=>d[0]===t.id)}).map(u=>{const c=u;return{comestible:c,pct:c.vitamins.find(d=>d[0]===t.id)[1]}});o.sort((u,c)=>c.pct-u.pct);const l=t.excess?(a=i.byId("effect_type",t.excess).name)!=null?a:[]:[],s=t.deficiency?(f=i.byId("effect_type",t.deficiency).name)!=null?f:[]:[];return r.$$set=u=>{"item"in u&&n(0,t=u.item)},[t,o,l,s]}class PR extends wt{constructor(e){super(),kt(this,e,FR,LR,vt,{item:0})}}function Fd(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function Pd(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function jd(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function Ud(r,e,n){const t=r.slice();return t[12]=e[n],t}function qd(r,e,n){const t=r.slice();return t[15]=e[n].id,t[16]=e[n].count,t[17]=e[n].prob,t}function Gd(r,e,n){const t=r.slice();return t[15]=e[n].id,t}function Yd(r,e,n){const t=r.slice();return t[22]=e[n][0],t[7]=e[n][1],t}function Hd(r,e,n){const t=r.slice();return t[25]=e[n],t}function jR(r){let e,n,t,i;return t=new Se({props:{type:"item",id:r[0].fuel_type}}),{c(){e=p("dt"),e.textContent=`${nn.exports.t("Charge",{_context:wn})}`,n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].fuel_type),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function UR(r){let e,n,t,i,o,l=r[0].fuel_options,s=[];for(let f=0;f<l.length;f+=1)s[f]=zd(Hd(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Charge",{_context:wn})}`,n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated or")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].fuel_options;let c;for(c=0;c<l.length;c+=1){const d=Hd(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=zd(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function zd(r){let e,n,t;return n=new Se({props:{type:"item",id:r[25]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[25]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Wd(r){let e,n,t=Ki(r[0].size)+"",i;return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Capacity",{_context:wn})}`,n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=Ki(o[0].size)+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Vd(r){let e,n,t=Ki(r[0].folded_volume)+"",i;return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Folded Volume",{_context:wn})}`,n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=Ki(o[0].folded_volume)+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Jd(r){let e,n,t,i,o,l=r[0].qualities,s=[];for(let f=0;f<l.length;f+=1)s[f]=Xd(Yd(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Qualities",{_context:wn})}`,n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","no-bullets")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].qualities;let c;for(c=0;c<l.length;c+=1){const d=Yd(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Xd(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Xd(r){var u;let e,n,t,i=((u=r[7])!=null?u:1)+"",o,l,s,a,f;return s=new Se({props:{type:"tool_quality",id:r[22]}}),{c(){e=p("li"),n=T("Has level "),t=p("strong"),o=T(i),l=M(),J(s.$$.fragment),a=T(` quality.
            `)},m(c,d){g(c,e,d),m(e,n),m(e,t),m(t,o),m(t,l),W(s,t,null),m(e,a),f=!0},p(c,d){var $;(!f||d&1)&&i!==(i=(($=c[7])!=null?$:1)+"")&&ne(o,i);const b={};d&1&&(b.id=c[22]),s.$set(b)},i(c){f||(v(s.$$.fragment,c),f=!0)},o(c){E(s.$$.fragment,c),f=!1},d(c){c&&h(e),V(s)}}}function Kd(r){let e,n,t=r[0].comfort+"",i;return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Comfort",{_context:wn})}`,n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].comfort+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Zd(r){let e,n,t=r[0].floor_bedding_warmth+"",i;return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Bedding Warmth",{_context:wn})}`,n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].floor_bedding_warmth+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Qd(r){let e,n,t=r[0].epower+"",i;return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Electric Power",{_context:wn})}`,n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=o[0].epower+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function xd(r){let e,n,t=-r[0].energy_consumption+"",i;return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Drain",{_context:wn})}`,n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&1&&t!==(t=-o[0].energy_consumption+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function em(r){let e,n,t=r[0].power+"",i,o,l,s=r[0].muscle_power_factor&&tm(r);return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Power",{_context:wn})}`,n=p("dd"),i=T(t),o=M(),s&&s.c(),l=M()},m(a,f){g(a,e,f),g(a,n,f),m(n,i),m(n,o),s&&s.m(n,null),m(n,l)},p(a,f){f&1&&t!==(t=a[0].power+"")&&ne(i,t),a[0].muscle_power_factor?s?s.p(a,f):(s=tm(a),s.c(),s.m(n,l)):s&&(s.d(1),s=null)},d(a){a&&h(e),a&&h(n),s&&s.d()}}}function tm(r){let e,n=r[0].muscle_power_factor+"",t;return{c(){e=T("+ (str \u2212 8) \xD7 "),t=T(n)},m(i,o){g(i,e,o),g(i,t,o)},p(i,o){o&1&&n!==(n=i[0].muscle_power_factor+"")&&ne(t,n)},d(i){i&&h(e),i&&h(t)}}}function nm(r){let e,n=r[1](r[0])+"",t,i,o=r[0].bonus+"",l;return{c(){e=p("dt"),t=T(n),i=p("dd"),l=T(o)},m(s,a){g(s,e,a),m(e,t),g(s,i,a),m(i,l)},p(s,a){a&1&&n!==(n=s[1](s[0])+"")&&ne(t,n),a&1&&o!==(o=s[0].bonus+"")&&ne(l,o)},d(s){s&&h(e),s&&h(i)}}}function im(r){let e,n,t,i,o,l=r[0].pseudo_tools,s=[];for(let f=0;f<l.length;f+=1)s[f]=rm(Gd(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Provides",{_context:wn,_comment:"List of tools that the vehicle part acts as"})} 
      `,n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].pseudo_tools;let c;for(c=0;c<l.length;c+=1){const d=Gd(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=rm(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function rm(r){let e,n;return e=new Se({props:{type:"item",id:r[15]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[15]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function qR(r){let e,n,t,i,o,l=r[3],s=[];for(let f=0;f<l.length;f+=1)s[f]=lm(qd(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent=`${nn.exports.t("Breaks Into",{_context:wn,_comment:"List of possible parts obtained by bashing the vehicle part"})} 
      `,n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&8){l=f[3];let c;for(c=0;c<l.length;c+=1){const d=qd(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=lm(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function GR(r){let e,n=Jr(r[17])+"",t,i;return{c(){e=T("("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function lm(r){let e,n,t;n=new Se({props:{id:r[15],count:r[16],type:"item"}});let i=r[17]!==1&&GR(r);return{c(){e=p("li"),J(n.$$.fragment),i&&i.c()},m(o,l){g(o,e,l),W(n,e,null),i&&i.m(e,null),t=!0},p(o,l){o[17]!==1&&i.p(o,l)},i(o){t||(v(n.$$.fragment,o),t=!0)},o(o){E(n.$$.fragment,o),t=!1},d(o){o&&h(e),V(n),i&&i.d()}}}function om(r){let e;return{c(){e=p("em"),e.textContent=`${nn.exports.t("none")}`},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function sm(r){let e,n,t;return n=new Se({props:{type:"json_flag",id:r[12]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[12]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function fm(r){let e=nn.exports.t("none")+"",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},p:de,d(t){t&&h(n)}}}function YR(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function HR(r){let e=" and ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function am(r){let e,n,t=r[7]+"",i,o,l,s;e=new Se({props:{type:"skill",id:r[6]}});function a(c,d){if(c[9]===c[0].requirements.install.skills.length-2)return HR;if(c[9]!==c[0].requirements.install.skills.length-1)return YR}let f=a(r),u=f&&f(r);return{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")"),u&&u.c(),l=ge()},m(c,d){W(e,c,d),g(c,n,d),g(c,i,d),g(c,o,d),u&&u.m(c,d),g(c,l,d),s=!0},p(c,d){const b={};d&1&&(b.id=c[6]),e.$set(b),(!s||d&1)&&t!==(t=c[7]+"")&&ne(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(l.parentNode,l)))},i(c){s||(v(e.$$.fragment,c),s=!0)},o(c){E(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&h(n),c&&h(i),c&&h(o),u&&u.d(c),c&&h(l)}}}function um(r){let e;return{c(){e=T("none")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function zR(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function WR(r){let e=" and ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function cm(r){let e,n,t=r[7]+"",i,o,l,s;e=new Se({props:{type:"skill",id:r[6]}});function a(c,d){if(c[9]===c[0].requirements.removal.skills.length-2)return WR;if(c[9]!==c[0].requirements.removal.skills.length-1)return zR}let f=a(r),u=f&&f(r);return{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")"),u&&u.c(),l=ge()},m(c,d){W(e,c,d),g(c,n,d),g(c,i,d),g(c,o,d),u&&u.m(c,d),g(c,l,d),s=!0},p(c,d){const b={};d&1&&(b.id=c[6]),e.$set(b),(!s||d&1)&&t!==(t=c[7]+"")&&ne(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(l.parentNode,l)))},i(c){s||(v(e.$$.fragment,c),s=!0)},o(c){E(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&h(n),c&&h(i),c&&h(o),u&&u.d(c),c&&h(l)}}}function _m(r){let e,n;return e=new ko({props:{requirement:r[0].requirements.removal}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.requirement=t[0].requirements.removal),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function dm(r){var A,L,F,j,P;let e,n,t,i,o,l,s,a,f,u=((F=(L=(A=r[0].requirements)==null?void 0:A.repair)==null?void 0:L.time)!=null?F:"1 hour")+"",c,d,b,$,k,w=(P=(j=r[0].requirements.repair)==null?void 0:j.skills)!=null?P:[],S=[];for(let U=0;U<w.length;U+=1)S[U]=pm(Fd(r,w,U));const C=U=>E(S[U],1,1,()=>{S[U]=null});let I=null;return w.length||(I=mm()),d=new ko({props:{requirement:r[0].requirements.repair}}),{c(){e=p("section"),n=p("h1"),n.textContent=`${nn.exports.t("Repair",{_context:wn})}`,t=M(),i=p("dl"),o=p("dt"),o.textContent=`${nn.exports.t("Skills Required")}`,l=p("dd");for(let U=0;U<S.length;U+=1)S[U].c();I&&I.c(),s=M(),a=p("dt"),a.textContent=`${nn.exports.t("Time",{_context:wn,_comment:"Time taken to perform the action"})} 
      `,f=p("dd"),c=T(u),J(d.$$.fragment),b=M(),$=p("p"),$.textContent=`${nn.exports.t("Repair time and requirements are lower for parts that are less damaged.")}`,ye(a,"title","Time required goes down with better skills"),Rt($,"color","var(--cata-color-gray)"),Rt($,"font-style","italic")},m(U,Q){g(U,e,Q),m(e,n),m(e,t),m(e,i),m(i,o),m(i,l);for(let re=0;re<S.length;re+=1)S[re].m(l,null);I&&I.m(l,null),m(l,s),m(i,a),m(i,f),m(f,c),W(d,i,null),m(e,b),m(e,$),k=!0},p(U,Q){var D,G,Z,z,X;if(Q&1){w=(G=(D=U[0].requirements.repair)==null?void 0:D.skills)!=null?G:[];let Y;for(Y=0;Y<w.length;Y+=1){const ee=Fd(U,w,Y);S[Y]?(S[Y].p(ee,Q),v(S[Y],1)):(S[Y]=pm(ee),S[Y].c(),v(S[Y],1),S[Y].m(l,s))}for(ce(),Y=w.length;Y<S.length;Y+=1)C(Y);_e(),w.length?I&&(I.d(1),I=null):I||(I=mm(),I.c(),I.m(l,s))}(!k||Q&1)&&u!==(u=((X=(z=(Z=U[0].requirements)==null?void 0:Z.repair)==null?void 0:z.time)!=null?X:"1 hour")+"")&&ne(c,u);const re={};Q&1&&(re.requirement=U[0].requirements.repair),d.$set(re)},i(U){if(!k){for(let Q=0;Q<w.length;Q+=1)v(S[Q]);v(d.$$.fragment,U),k=!0}},o(U){S=S.filter(Boolean);for(let Q=0;Q<S.length;Q+=1)E(S[Q]);E(d.$$.fragment,U),k=!1},d(U){U&&h(e),Ce(S,U),I&&I.d(),V(d)}}}function mm(r){let e;return{c(){e=T("none")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function VR(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function JR(r){let e=" and ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function pm(r){let e,n,t=r[7]+"",i,o,l,s;e=new Se({props:{type:"skill",id:r[6]}});function a(c,d){if(c[9]===c[0].requirements.repair.skills.length-2)return JR;if(c[9]!==c[0].requirements.repair.skills.length-1)return VR}let f=a(r),u=f&&f(r);return{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")"),u&&u.c(),l=ge()},m(c,d){W(e,c,d),g(c,n,d),g(c,i,d),g(c,o,d),u&&u.m(c,d),g(c,l,d),s=!0},p(c,d){const b={};d&1&&(b.id=c[6]),e.$set(b),(!s||d&1)&&t!==(t=c[7]+"")&&ne(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(l.parentNode,l)))},i(c){s||(v(e.$$.fragment,c),s=!0)},o(c){E(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&h(n),c&&h(i),c&&h(o),u&&u.d(c),c&&h(l)}}}function XR(r){let e,n,t,i,o;return i=new xt({props:{items:r[4],$$slots:{default:[KR,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent=`${nn.exports.t("Vehicles",{_context:wn,_comment:"Heading for list of vehicles which contain this vehicle part"})}`,t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&268435457&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function KR(r){let e,n;return e=new Se({props:{type:"vehicle",id:r[0].id}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ZR(r){var bn,yn,Sn,On,kn,Hn,Ai,bi,he,tt,si,vi,$i,yi,ki,wi,Ei,Si,Ti,Ci,an,Ln,Fn,Xn,Rn,Pn,jn,un,Un;let e,n,t,i=(r[0].name?Fe(r[0]):Fe(r[2].byId("item",r[0].item)))+"",o,l,s,a,f,u,c,d,b,$,k,w=Xr(r[2].byId("item",r[0].item).weight)+"",S,C,I,A,L,F=((bn=r[0].durability)!=null?bn:0)+"",j,P,U,Q,re,D,G,Z=((yn=r[0].damage_modifier)!=null?yn:100)+"",z,X,Y,ee,pe,ie=r[0].bonus&&r[1](r[0]),H,K,se,x,oe,$e,He,Me=qn((Sn=r[0].description)!=null?Sn:r[2].byId("item",r[0].item).description)+"",be,Ee,Ie,we,nt,Ge,Oe,Ne,Ot,ke,Pe,mt,We=((Hn=(kn=(On=r[0].requirements)==null?void 0:On.install)==null?void 0:kn.time)!=null?Hn:"1 hour")+"",xe,qe,Le,Ze,rt,lt,Ve,ve,le,fe,ae,Ye,_t=((vi=(bi=(Ai=r[0].requirements)==null?void 0:Ai.removal)==null?void 0:bi.time)!=null?vi:Xs(`${oo((si=(tt=(he=r[0].requirements)==null?void 0:he.install)==null?void 0:tt.time)!=null?si:"1 hour")/2} s`))+"",dt,ht,St,It,Tt,it;n=new Mt({props:{item:r[0]}}),b=new Se({props:{id:r[0].item,type:"item"}});const ze=[UR,jR],Je=[];function De(Te,st){var _n;return(_n=Te[0].fuel_options)!=null&&_n.length?0:Te[0].fuel_type?1:-1}~(C=De(r))&&(I=Je[C]=ze[C](r));let et=r[0].size&&Wd(r),bt=r[0].folded_volume&&Vd(r),Dt=(($i=r[0].qualities)==null?void 0:$i.length)&&Jd(r),gt=r[0].comfort&&Kd(r),Ht=r[0].floor_bedding_warmth&&Zd(r),Bt=r[0].epower&&Qd(r),Wt=r[0].energy_consumption&&xd(r),sn=r[0].power&&em(r),Pt=ie&&nm(r),Zt=((yi=r[0].pseudo_tools)==null?void 0:yi.length)&&im(r),en=((ki=r[3])==null?void 0:ki.length)&&qR(r),$n=(wi=r[0].flags)!=null?wi:[],Gt=[];for(let Te=0;Te<$n.length;Te+=1)Gt[Te]=sm(Ud(r,$n,Te));const di=Te=>E(Gt[Te],1,1,()=>{Gt[Te]=null});let on=null;$n.length||(on=om());let Cn=(Ti=(Si=(Ei=r[0].requirements)==null?void 0:Ei.install)==null?void 0:Si.skills)!=null?Ti:[],Re=[];for(let Te=0;Te<Cn.length;Te+=1)Re[Te]=am(jd(r,Cn,Te));const In=Te=>E(Re[Te],1,1,()=>{Re[Te]=null});let tn=null;Cn.length||(tn=fm()),qe=new ko({props:{requirement:{...(an=(Ci=r[0].requirements)==null?void 0:Ci.install)!=null?an:{},components:((Xn=(Fn=(Ln=r[0].requirements)==null?void 0:Ln.install)==null?void 0:Fn.components)!=null?Xn:[]).concat([[[r[0].item,1]]])}}});let Xt=(jn=(Pn=(Rn=r[0].requirements)==null?void 0:Rn.removal)==null?void 0:Pn.skills)!=null?jn:[],yt=[];for(let Te=0;Te<Xt.length;Te+=1)yt[Te]=cm(Pd(r,Xt,Te));const fn=Te=>E(yt[Te],1,1,()=>{yt[Te]=null});let rn=null;Xt.length||(rn=um());let Jt=((un=r[0].requirements)==null?void 0:un.removal)&&_m(r),Kt=((Un=r[0].requirements)==null?void 0:Un.repair)&&dm(r),gn=r[4].length&&XR(r);return{c(){e=p("h1"),J(n.$$.fragment),t=M(),o=T(i),l=M(),s=p("section"),a=p("h1"),a.textContent=`${nn.exports.t("Vehicle Part")}`,f=M(),u=p("dl"),c=p("dt"),c.textContent=`${nn.exports.t("Item",{_context:wn})}`,d=p("dd"),J(b.$$.fragment),$=p("dt"),$.textContent=`${nn.exports.t("Weight")}`,k=p("dd"),S=T(w),I&&I.c(),A=p("dt"),A.textContent=`${nn.exports.t("Durability",{_context:wn})} 
    `,L=p("dd"),j=T(F),et&&et.c(),P=ge(),bt&&bt.c(),U=ge(),Dt&&Dt.c(),Q=ge(),gt&&gt.c(),re=ge(),Ht&&Ht.c(),D=p("dt"),D.textContent=`${nn.exports.t("Damage",{_context:wn})}`,G=p("dd"),z=T(Z),X=T("%"),Bt&&Bt.c(),Y=ge(),Wt&&Wt.c(),ee=ge(),sn&&sn.c(),pe=ge(),Pt&&Pt.c(),H=ge(),Zt&&Zt.c(),K=ge(),en&&en.c(),se=p("dt"),se.textContent=`${nn.exports.t("Flags")}`,x=p("dd"),oe=p("ul");for(let Te=0;Te<Gt.length;Te+=1)Gt[Te].c();on&&on.c(),$e=M(),He=p("p"),be=T(Me),Ee=M(),Ie=p("div"),we=p("section"),nt=p("h1"),nt.textContent=`${nn.exports.t("Install",{_context:wn})}`,Ge=M(),Oe=p("dl"),Ne=p("dt"),Ne.textContent=`${nn.exports.t("Skills Required")}`,Ot=p("dd");for(let Te=0;Te<Re.length;Te+=1)Re[Te].c();tn&&tn.c(),ke=M(),Pe=p("dt"),Pe.textContent=`${nn.exports.t("Time",{_context:wn,_comment:"Time taken to perform the action"})} 
      `,mt=p("dd"),xe=T(We),J(qe.$$.fragment),Le=M(),Ze=p("section"),rt=p("h1"),rt.textContent=`${nn.exports.t("Remove",{_context:wn})}`,lt=M(),Ve=p("dl"),ve=p("dt"),ve.textContent=`${nn.exports.t("Skills Required")}`,le=p("dd");for(let Te=0;Te<yt.length;Te+=1)yt[Te].c();rn&&rn.c(),fe=M(),ae=p("dt"),ae.textContent=`${nn.exports.t("Time",{_context:wn,_comment:"Time taken to perform the action"})} 
      `,Ye=p("dd"),dt=T(_t),ht=M(),Jt&&Jt.c(),St=M(),Kt&&Kt.c(),It=M(),gn&&gn.c(),Tt=ge(),ye(A,"title","Maximum damage part can sustain before being destroyed"),ye(oe,"class","comma-separated"),Rt(He,"color","var(--cata-color-gray)"),ye(Pe,"title","Time required goes down with better skills"),ye(ae,"title","Time required goes down with better skills"),ye(Ie,"class","side-by-side")},m(Te,st){g(Te,e,st),W(n,e,null),m(e,t),m(e,o),g(Te,l,st),g(Te,s,st),m(s,a),m(s,f),m(s,u),m(u,c),m(u,d),W(b,d,null),m(u,$),m(u,k),m(k,S),~C&&Je[C].m(u,null),m(u,A),m(u,L),m(L,j),et&&et.m(u,null),m(u,P),bt&&bt.m(u,null),m(u,U),Dt&&Dt.m(u,null),m(u,Q),gt&&gt.m(u,null),m(u,re),Ht&&Ht.m(u,null),m(u,D),m(u,G),m(G,z),m(G,X),Bt&&Bt.m(u,null),m(u,Y),Wt&&Wt.m(u,null),m(u,ee),sn&&sn.m(u,null),m(u,pe),Pt&&Pt.m(u,null),m(u,H),Zt&&Zt.m(u,null),m(u,K),en&&en.m(u,null),m(u,se),m(u,x),m(x,oe);for(let _n=0;_n<Gt.length;_n+=1)Gt[_n].m(oe,null);on&&on.m(oe,null),m(s,$e),m(s,He),m(He,be),g(Te,Ee,st),g(Te,Ie,st),m(Ie,we),m(we,nt),m(we,Ge),m(we,Oe),m(Oe,Ne),m(Oe,Ot);for(let _n=0;_n<Re.length;_n+=1)Re[_n].m(Ot,null);tn&&tn.m(Ot,null),m(Ot,ke),m(Oe,Pe),m(Oe,mt),m(mt,xe),W(qe,Oe,null),m(Ie,Le),m(Ie,Ze),m(Ze,rt),m(Ze,lt),m(Ze,Ve),m(Ve,ve),m(Ve,le);for(let _n=0;_n<yt.length;_n+=1)yt[_n].m(le,null);rn&&rn.m(le,null),m(le,fe),m(Ve,ae),m(Ve,Ye),m(Ye,dt),m(Ye,ht),Jt&&Jt.m(Ve,null),g(Te,St,st),Kt&&Kt.m(Te,st),g(Te,It,st),gn&&gn.m(Te,st),g(Te,Tt,st),it=!0},p(Te,[st]){var _i,Qi,xi,er,tr,nr,ir,rr,lr,or,sr,fr,ar,ur,cr,_r,dr,mr,pr,hr,gr,br,vr,Qe,At,$r,yr,kr,wr;const _n={};st&1&&(_n.item=Te[0]),n.$set(_n),(!it||st&1)&&i!==(i=(Te[0].name?Fe(Te[0]):Fe(Te[2].byId("item",Te[0].item)))+"")&&ne(o,i);const ui={};st&1&&(ui.id=Te[0].item),b.$set(ui),(!it||st&1)&&w!==(w=Xr(Te[2].byId("item",Te[0].item).weight)+"")&&ne(S,w);let fi=C;if(C=De(Te),C===fi?~C&&Je[C].p(Te,st):(I&&(ce(),E(Je[fi],1,1,()=>{Je[fi]=null}),_e()),~C?(I=Je[C],I?I.p(Te,st):(I=Je[C]=ze[C](Te),I.c()),v(I,1),I.m(u,A)):I=null),(!it||st&1)&&F!==(F=((_i=Te[0].durability)!=null?_i:0)+"")&&ne(j,F),Te[0].size?et?et.p(Te,st):(et=Wd(Te),et.c(),et.m(u,P)):et&&(et.d(1),et=null),Te[0].folded_volume?bt?bt.p(Te,st):(bt=Vd(Te),bt.c(),bt.m(u,U)):bt&&(bt.d(1),bt=null),(Qi=Te[0].qualities)!=null&&Qi.length?Dt?(Dt.p(Te,st),st&1&&v(Dt,1)):(Dt=Jd(Te),Dt.c(),v(Dt,1),Dt.m(u,Q)):Dt&&(ce(),E(Dt,1,1,()=>{Dt=null}),_e()),Te[0].comfort?gt?gt.p(Te,st):(gt=Kd(Te),gt.c(),gt.m(u,re)):gt&&(gt.d(1),gt=null),Te[0].floor_bedding_warmth?Ht?Ht.p(Te,st):(Ht=Zd(Te),Ht.c(),Ht.m(u,D)):Ht&&(Ht.d(1),Ht=null),(!it||st&1)&&Z!==(Z=((xi=Te[0].damage_modifier)!=null?xi:100)+"")&&ne(z,Z),Te[0].epower?Bt?Bt.p(Te,st):(Bt=Qd(Te),Bt.c(),Bt.m(u,Y)):Bt&&(Bt.d(1),Bt=null),Te[0].energy_consumption?Wt?Wt.p(Te,st):(Wt=xd(Te),Wt.c(),Wt.m(u,ee)):Wt&&(Wt.d(1),Wt=null),Te[0].power?sn?sn.p(Te,st):(sn=em(Te),sn.c(),sn.m(u,pe)):sn&&(sn.d(1),sn=null),st&1&&(ie=Te[0].bonus&&Te[1](Te[0])),ie?Pt?Pt.p(Te,st):(Pt=nm(Te),Pt.c(),Pt.m(u,H)):Pt&&(Pt.d(1),Pt=null),(er=Te[0].pseudo_tools)!=null&&er.length?Zt?(Zt.p(Te,st),st&1&&v(Zt,1)):(Zt=im(Te),Zt.c(),v(Zt,1),Zt.m(u,K)):Zt&&(ce(),E(Zt,1,1,()=>{Zt=null}),_e()),(tr=Te[3])!=null&&tr.length&&en.p(Te,st),st&1){$n=(nr=Te[0].flags)!=null?nr:[];let jt;for(jt=0;jt<$n.length;jt+=1){const mi=Ud(Te,$n,jt);Gt[jt]?(Gt[jt].p(mi,st),v(Gt[jt],1)):(Gt[jt]=sm(mi),Gt[jt].c(),v(Gt[jt],1),Gt[jt].m(oe,null))}for(ce(),jt=$n.length;jt<Gt.length;jt+=1)di(jt);_e(),!$n.length&&on?on.p(Te,st):$n.length?on&&(on.d(1),on=null):(on=om(),on.c(),on.m(oe,null))}if((!it||st&1)&&Me!==(Me=qn((ir=Te[0].description)!=null?ir:Te[2].byId("item",Te[0].item).description)+"")&&ne(be,Me),st&1){Cn=(or=(lr=(rr=Te[0].requirements)==null?void 0:rr.install)==null?void 0:lr.skills)!=null?or:[];let jt;for(jt=0;jt<Cn.length;jt+=1){const mi=jd(Te,Cn,jt);Re[jt]?(Re[jt].p(mi,st),v(Re[jt],1)):(Re[jt]=am(mi),Re[jt].c(),v(Re[jt],1),Re[jt].m(Ot,ke))}for(ce(),jt=Cn.length;jt<Re.length;jt+=1)In(jt);_e(),!Cn.length&&tn?tn.p(Te,st):Cn.length?tn&&(tn.d(1),tn=null):(tn=fm(),tn.c(),tn.m(Ot,ke))}(!it||st&1)&&We!==(We=((ar=(fr=(sr=Te[0].requirements)==null?void 0:sr.install)==null?void 0:fr.time)!=null?ar:"1 hour")+"")&&ne(xe,We);const ci={};if(st&1&&(ci.requirement={...(cr=(ur=Te[0].requirements)==null?void 0:ur.install)!=null?cr:{},components:((mr=(dr=(_r=Te[0].requirements)==null?void 0:_r.install)==null?void 0:dr.components)!=null?mr:[]).concat([[[Te[0].item,1]]])}),qe.$set(ci),st&1){Xt=(gr=(hr=(pr=Te[0].requirements)==null?void 0:pr.removal)==null?void 0:hr.skills)!=null?gr:[];let jt;for(jt=0;jt<Xt.length;jt+=1){const mi=Pd(Te,Xt,jt);yt[jt]?(yt[jt].p(mi,st),v(yt[jt],1)):(yt[jt]=cm(mi),yt[jt].c(),v(yt[jt],1),yt[jt].m(le,fe))}for(ce(),jt=Xt.length;jt<yt.length;jt+=1)fn(jt);_e(),Xt.length?rn&&(rn.d(1),rn=null):rn||(rn=um(),rn.c(),rn.m(le,fe))}(!it||st&1)&&_t!==(_t=((yr=(vr=(br=Te[0].requirements)==null?void 0:br.removal)==null?void 0:vr.time)!=null?yr:Xs(`${oo(($r=(At=(Qe=Te[0].requirements)==null?void 0:Qe.install)==null?void 0:At.time)!=null?$r:"1 hour")/2} s`))+"")&&ne(dt,_t),(kr=Te[0].requirements)!=null&&kr.removal?Jt?(Jt.p(Te,st),st&1&&v(Jt,1)):(Jt=_m(Te),Jt.c(),v(Jt,1),Jt.m(Ve,null)):Jt&&(ce(),E(Jt,1,1,()=>{Jt=null}),_e()),(wr=Te[0].requirements)!=null&&wr.repair?Kt?(Kt.p(Te,st),st&1&&v(Kt,1)):(Kt=dm(Te),Kt.c(),v(Kt,1),Kt.m(It.parentNode,It)):Kt&&(ce(),E(Kt,1,1,()=>{Kt=null}),_e()),Te[4].length&&gn.p(Te,st)},i(Te){if(!it){v(n.$$.fragment,Te),v(b.$$.fragment,Te),v(I),v(Dt),v(Zt),v(en);for(let st=0;st<$n.length;st+=1)v(Gt[st]);for(let st=0;st<Cn.length;st+=1)v(Re[st]);v(qe.$$.fragment,Te);for(let st=0;st<Xt.length;st+=1)v(yt[st]);v(Jt),v(Kt),v(gn),it=!0}},o(Te){E(n.$$.fragment,Te),E(b.$$.fragment,Te),E(I),E(Dt),E(Zt),E(en),Gt=Gt.filter(Boolean);for(let st=0;st<Gt.length;st+=1)E(Gt[st]);Re=Re.filter(Boolean);for(let st=0;st<Re.length;st+=1)E(Re[st]);E(qe.$$.fragment,Te),yt=yt.filter(Boolean);for(let st=0;st<yt.length;st+=1)E(yt[st]);E(Jt),E(Kt),E(gn),it=!1},d(Te){Te&&h(e),V(n),Te&&h(l),Te&&h(s),V(b),~C&&Je[C].d(),et&&et.d(),bt&&bt.d(),Dt&&Dt.d(),gt&&gt.d(),Ht&&Ht.d(),Bt&&Bt.d(),Wt&&Wt.d(),sn&&sn.d(),Pt&&Pt.d(),Zt&&Zt.d(),en&&en.d(),Ce(Gt,Te),on&&on.d(),Te&&h(Ee),Te&&h(Ie),Ce(Re,Te),tn&&tn.d(),V(qe),Ce(yt,Te),rn&&rn.d(),Jt&&Jt.d(),Te&&h(St),Kt&&Kt.d(Te),Te&&h(It),gn&&gn.d(Te),Te&&h(Tt)}}}const wn="Vehicle Part";function QR(r,e,n){let{item:t}=e;function i(f){var d;const u=["LIGHT","CONE_LIGHT","WIDE_CONE_LIGHT","CIRCLE_LIGHT","DOME_LIGHT","AISLE_LIGHT","EVENTURN","ODDTURN","ATOMIC_LIGHT"],c=(d=f.flags)!=null?d:[];if(c.includes("SEATBELT"))return nn.exports.t("Strength",{_context:wn});if(c.includes("HORN"))return nn.exports.t("Noise",{_context:wn});if(c.includes("MUFFLER"))return nn.exports.t("Noise Reduction",{_context:wn});if(c.includes("VISION"))return nn.exports.t("Range",{_context:wn});if(u.some(b=>c.includes(b)))return nn.exports.t("Light",{_context:wn});if(c.includes("REAPER"))return nn.exports.t("Plant Harvested",{_context:wn})}const o=Yt("data"),l=typeof t.breaks_into=="string"?o.byId("item_group",t.breaks_into):Array.isArray(t.breaks_into)?{subtype:"collection",entries:t.breaks_into}:t.breaks_into?t.breaks_into:null,s=l&&o.flattenItemGroup(l),a=o.byType("vehicle").filter(f=>f.parts.some(u=>{var d;return(u.part?[{part:u.part,fuel:u.fuel}]:(d=u.parts)==null?void 0:d.map(b=>typeof b=="string"?{part:b}:b)).some(b=>Sg(o,b.part)[0]===t.id)}));return a.sort((f,u)=>Fe(f).localeCompare(Fe(u))),r.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,i,o,s,a]}class xR extends wt{constructor(e){super(),kt(this,e,QR,ZR,vt,{item:0})}}function hm(r,e,n){const t=r.slice();return t[1]=e[n],t}function gm(r,e,n){const t=r.slice();return t[1]=e[n],t}function bm(r){var u,c;let e,n,t,i,o,l=(u=r[0].mult_bonuses)!=null?u:[],s=[];for(let d=0;d<l.length;d+=1)s[d]=ym(gm(r,l,d));let a=(c=r[0].flat_bonuses)!=null?c:[],f=[];for(let d=0;d<a.length;d+=1)f[d]=wm(hm(r,a,d));return{c(){e=p("dt"),e.textContent="Bonus",n=M(),t=p("dd"),i=p("ul");for(let d=0;d<s.length;d+=1)s[d].c();o=M();for(let d=0;d<f.length;d+=1)f[d].c()},m(d,b){g(d,e,b),g(d,n,b),g(d,t,b),m(t,i);for(let $=0;$<s.length;$+=1)s[$].m(i,null);m(i,o);for(let $=0;$<f.length;$+=1)f[$].m(i,null)},p(d,b){var $,k;if(b&1){l=($=d[0].mult_bonuses)!=null?$:[];let w;for(w=0;w<l.length;w+=1){const S=gm(d,l,w);s[w]?s[w].p(S,b):(s[w]=ym(S),s[w].c(),s[w].m(i,o))}for(;w<s.length;w+=1)s[w].d(1);s.length=l.length}if(b&1){a=(k=d[0].flat_bonuses)!=null?k:[];let w;for(w=0;w<a.length;w+=1){const S=hm(d,a,w);f[w]?f[w].p(S,b):(f[w]=wm(S),f[w].c(),f[w].m(i,null))}for(;w<f.length;w+=1)f[w].d(1);f.length=a.length}},d(d){d&&h(e),d&&h(n),d&&h(t),Ce(s,d),Ce(f,d)}}}function vm(r){let e=r[1].type+"",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},p(t,i){i&1&&e!==(e=t[1].type+"")&&ne(n,e)},d(t){t&&h(n)}}}function $m(r){let e,n=po(r[1]["scaling-stat"])+"",t;return{c(){e=T("of "),t=T(n)},m(i,o){g(i,e,o),g(i,t,o)},p(i,o){o&1&&n!==(n=po(i[1]["scaling-stat"])+"")&&ne(t,n)},d(i){i&&h(e),i&&h(t)}}}function ym(r){let e,n=ho(r[1].stat),t,i=mo(r[1].stat)+"",o,l,s=(r[1].scale*100).toFixed(0)+"",a,f,u=n&&vm(r),c=r[1]["scaling-stat"]&&$m(r);return{c(){e=p("li"),u&&u.c(),t=M(),o=T(i),l=T(": "),a=T(s),f=T("% "),c&&c.c()},m(d,b){g(d,e,b),u&&u.m(e,null),m(e,t),m(e,o),m(e,l),m(e,a),m(e,f),c&&c.m(e,null)},p(d,b){b&1&&(n=ho(d[1].stat)),n?u?u.p(d,b):(u=vm(d),u.c(),u.m(e,t)):u&&(u.d(1),u=null),b&1&&i!==(i=mo(d[1].stat)+"")&&ne(o,i),b&1&&s!==(s=(d[1].scale*100).toFixed(0)+"")&&ne(a,s),d[1]["scaling-stat"]?c?c.p(d,b):(c=$m(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(d){d&&h(e),u&&u.d(),c&&c.d()}}}function km(r){let e=r[1].type+"",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},p(t,i){i&1&&e!==(e=t[1].type+"")&&ne(n,e)},d(t){t&&h(n)}}}function eN(r){let e=r[1].scale<0?"":"+",n,t=r[1].scale+"",i;return{c(){n=T(e),i=T(t)},m(o,l){g(o,n,l),g(o,i,l)},p(o,l){l&1&&e!==(e=o[1].scale<0?"":"+")&&ne(n,e),l&1&&t!==(t=o[1].scale+"")&&ne(i,t)},d(o){o&&h(n),o&&h(i)}}}function tN(r){let e=r[1].scale<0?"":"+",n,t=(r[1].scale*100).toFixed(0)+"",i,o,l=po(r[1]["scaling-stat"])+"",s;return{c(){n=T(e),i=T(t),o=T("% of "),s=T(l)},m(a,f){g(a,n,f),g(a,i,f),g(a,o,f),g(a,s,f)},p(a,f){f&1&&e!==(e=a[1].scale<0?"":"+")&&ne(n,e),f&1&&t!==(t=(a[1].scale*100).toFixed(0)+"")&&ne(i,t),f&1&&l!==(l=po(a[1]["scaling-stat"])+"")&&ne(s,l)},d(a){a&&h(n),a&&h(i),a&&h(o),a&&h(s)}}}function wm(r){let e,n=ho(r[1].stat),t,i=mo(r[1].stat)+"",o,l,s,a=n&&km(r);function f(d,b){return d[1]["scaling-stat"]?tN:eN}let u=f(r),c=u(r);return{c(){e=p("li"),a&&a.c(),t=M(),o=T(i),l=T(`:
          `),c.c(),s=M()},m(d,b){g(d,e,b),a&&a.m(e,null),m(e,t),m(e,o),m(e,l),c.m(e,null),m(e,s)},p(d,b){b&1&&(n=ho(d[1].stat)),n?a?a.p(d,b):(a=km(d),a.c(),a.m(e,t)):a&&(a.d(1),a=null),b&1&&i!==(i=mo(d[1].stat)+"")&&ne(o,i),u===(u=f(d))&&c?c.p(d,b):(c.d(1),c=u(d),c&&(c.c(),c.m(e,s)))},d(d){d&&h(e),a&&a.d(),c.d()}}}function nN(r){let e,n=(r[0].mult_bonuses||r[0].flat_bonuses)&&bm(r);return{c(){n&&n.c(),e=ge()},m(t,i){n&&n.m(t,i),g(t,e,i)},p(t,[i]){t[0].mult_bonuses||t[0].flat_bonuses?n?n.p(t,i):(n=bm(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:de,o:de,d(t){n&&n.d(t),t&&h(e)}}}function mo(r){switch(r){case"hit":return"Accuracy";case"crit_chance":return"Critical Hit Chance";case"dodge":return"Dodge";case"block":return"Block";case"block_effectiveness":return"Block effectiveness";case"speed":return"Speed";case"movecost":return"Move cost";case"damage":return"damage";case"armor":return"Armor";case"arpen":return"Armor penetration";case"target_armor_multiplier":return"Target armor multiplier";default:return""}}function po(r){switch(r){case"str":return"strength";case"dex":return"dexterity";case"int":return"intelligence";case"per":return"perception";default:return""}}function ho(r){return r==="damage"||r==="armor"||r==="arpen"}function iN(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class Fg extends wt{constructor(e){super(),kt(this,e,iN,nN,vt,{item:0})}}function Em(r,e,n){const t=r.slice();return t[3]=e[n],t}function Sm(r,e,n){const t=r.slice();return t[6]=e[n].name,t[7]=e[n].level,t[9]=n,t}function Tm(r){let e;return{c(){e=p("em"),e.textContent="none"},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function rN(r){let e=", ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function lN(r){let e=" and ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},d(t){t&&h(n)}}}function Cm(r){let e,n,t=r[7]+"",i,o,l,s;e=new Se({props:{type:"skill",id:r[6]}});function a(c,d){if(c[9]===c[0].skill_requirements.length-2)return lN;if(c[9]!==c[0].skill_requirements.length-1)return rN}let f=a(r),u=f&&f(r);return{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")"),u&&u.c(),l=ge()},m(c,d){W(e,c,d),g(c,n,d),g(c,i,d),g(c,o,d),u&&u.m(c,d),g(c,l,d),s=!0},p(c,d){const b={};d&1&&(b.id=c[6]),e.$set(b),(!s||d&1)&&t!==(t=c[7]+"")&&ne(i,t),f!==(f=a(c))&&(u&&u.d(1),u=f&&f(c),u&&(u.c(),u.m(l.parentNode,l)))},i(c){s||(v(e.$$.fragment,c),s=!0)},o(c){E(e.$$.fragment,c),s=!1},d(c){V(e,c),c&&h(n),c&&h(i),c&&h(o),u&&u.d(c),c&&h(l)}}}function oN(r){let e,n,t,i,o=r[2],l=[];for(let s=0;s<o.length;s+=1)l[s]=Im(Em(r,o,s));return{c(){e=p("dt"),e.textContent="Required Buffs",n=M(),t=p("dd"),i=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();ye(i,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),g(s,t,a),m(t,i);for(let f=0;f<l.length;f+=1)l[f].m(i,null)},p(s,a){if(a&6){o=s[2];let f;for(f=0;f<o.length;f+=1){const u=Em(s,o,f);l[f]?l[f].p(u,a):(l[f]=Im(u),l[f].c(),l[f].m(i,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),s&&h(t),Ce(l,s)}}}function sN(r){let e,n=r[3]+"",t;return{c(){e=p("li"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function fN(r){let e,n=Fe(r[1].get(r[3]))+"",t;return{c(){e=p("li"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p(i,o){o&2&&n!==(n=Fe(i[1].get(i[3]))+"")&&ne(t,n)},d(i){i&&h(e)}}}function Im(r){let e,n;function t(l,s){return s&2&&(e=null),e==null&&(e=!!l[1].has(l[3])),e?fN:sN}let i=t(r,-1),o=i(r);return{c(){o.c(),n=ge()},m(l,s){o.m(l,s),g(l,n,s)},p(l,s){i===(i=t(l,s))&&o?o.p(l,s):(o.d(1),o=i(l),o&&(o.c(),o.m(n.parentNode,n)))},d(l){o.d(l),l&&h(n)}}}function Om(r){let e,n,t;return{c(){e=p("dt"),e.textContent="Requires Adjacent Wall",n=M(),t=p("dd"),t.textContent="Yes"},m(i,o){g(i,e,o),g(i,n,o),g(i,t,o)},d(i){i&&h(e),i&&h(n),i&&h(t)}}}function aN(r){var z,X;let e,n,t,i,o,l,s,a,f,u=r[0].melee_allowed?"Yes":"No",c,d,b,$,k,w=r[0].unarmed_allowed?"Yes":"No",S,C,I,A,L,F=(z=r[0].unarmed_weapons_allowed)==null||z?"Yes":"No",j,P,U=(X=r[0].skill_requirements)!=null?X:[],Q=[];for(let Y=0;Y<U.length;Y+=1)Q[Y]=Cm(Sm(r,U,Y));const re=Y=>E(Q[Y],1,1,()=>{Q[Y]=null});let D=null;U.length||(D=Tm());let G=r[2].length&&oN(r),Z=r[0].wall_adjacent&&Om();return{c(){e=p("dt"),e.textContent="Required Skills",n=M(),t=p("dd");for(let Y=0;Y<Q.length;Y+=1)Q[Y].c();D&&D.c(),i=M(),G&&G.c(),o=M(),Z&&Z.c(),l=M(),s=p("dt"),s.textContent="Melee Weapon Allowed",a=M(),f=p("dd"),c=T(u),d=M(),b=p("dt"),b.textContent="Unarmed Allowed",$=M(),k=p("dd"),S=T(w),C=M(),I=p("dt"),I.textContent="Unarmed Weapon Allowed",A=M(),L=p("dd"),j=T(F)},m(Y,ee){g(Y,e,ee),g(Y,n,ee),g(Y,t,ee);for(let pe=0;pe<Q.length;pe+=1)Q[pe].m(t,null);D&&D.m(t,null),g(Y,i,ee),G&&G.m(Y,ee),g(Y,o,ee),Z&&Z.m(Y,ee),g(Y,l,ee),g(Y,s,ee),g(Y,a,ee),g(Y,f,ee),m(f,c),g(Y,d,ee),g(Y,b,ee),g(Y,$,ee),g(Y,k,ee),m(k,S),g(Y,C,ee),g(Y,I,ee),g(Y,A,ee),g(Y,L,ee),m(L,j),P=!0},p(Y,[ee]){var pe,ie;if(ee&1){U=(pe=Y[0].skill_requirements)!=null?pe:[];let H;for(H=0;H<U.length;H+=1){const K=Sm(Y,U,H);Q[H]?(Q[H].p(K,ee),v(Q[H],1)):(Q[H]=Cm(K),Q[H].c(),v(Q[H],1),Q[H].m(t,null))}for(ce(),H=U.length;H<Q.length;H+=1)re(H);_e(),!U.length&&D?D.p(Y,ee):U.length?D&&(D.d(1),D=null):(D=Tm(),D.c(),D.m(t,null))}Y[2].length&&G.p(Y,ee),Y[0].wall_adjacent?Z||(Z=Om(),Z.c(),Z.m(l.parentNode,l)):Z&&(Z.d(1),Z=null),(!P||ee&1)&&u!==(u=Y[0].melee_allowed?"Yes":"No")&&ne(c,u),(!P||ee&1)&&w!==(w=Y[0].unarmed_allowed?"Yes":"No")&&ne(S,w),(!P||ee&1)&&F!==(F=(ie=Y[0].unarmed_weapons_allowed)==null||ie?"Yes":"No")&&ne(j,F)},i(Y){if(!P){for(let ee=0;ee<U.length;ee+=1)v(Q[ee]);P=!0}},o(Y){Q=Q.filter(Boolean);for(let ee=0;ee<Q.length;ee+=1)E(Q[ee]);P=!1},d(Y){Y&&h(e),Y&&h(n),Y&&h(t),Ce(Q,Y),D&&D.d(),Y&&h(i),G&&G.d(Y),Y&&h(o),Z&&Z.d(Y),Y&&h(l),Y&&h(s),Y&&h(a),Y&&h(f),Y&&h(d),Y&&h(b),Y&&h($),Y&&h(k),Y&&h(C),Y&&h(I),Y&&h(A),Y&&h(L)}}}function uN(r,e,n){var l;let{item:t}=e,{buffMap:i=new Map}=e;const o=typeof t.req_buffs=="string"?[t.req_buffs]:(l=t.req_buffs)!=null?l:[];return r.$$set=s=>{"item"in s&&n(0,t=s.item),"buffMap"in s&&n(1,i=s.buffMap)},[t,i,o]}class Pg extends wt{constructor(e){super(),kt(this,e,uN,aN,vt,{item:0,buffMap:1})}}function Rm(r){let e,n,t;function i(s,a){if(s[1].weighting>1)return _N;if(s[1].weighting<-1)return cN}let o=i(r),l=o&&o(r);return{c(){e=p("dt"),e.textContent="Chance to Activate",n=p("dd"),l&&l.c(),t=M()},m(s,a){g(s,e,a),g(s,n,a),l&&l.m(n,null),m(n,t)},p(s,a){o===(o=i(s))&&l?l.p(s,a):(l&&l.d(1),l=o&&o(s),l&&(l.c(),l.m(n,t)))},d(s){s&&h(e),s&&h(n),l&&l.d()}}}function cN(r){let e,n=Math.abs(r[1].weighting)+"",t;return{c(){e=T("1/"),t=T(n)},m(i,o){g(i,e,o),g(i,t,o)},p(i,o){o&2&&n!==(n=Math.abs(i[1].weighting)+"")&&ne(t,n)},d(i){i&&h(e),i&&h(t)}}}function _N(r){let e,n=((r[1].weighting-1)*100).toFixed(0)+"",t,i;return{c(){e=T("+"),t=T(n),i=T("%")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p(o,l){l&2&&n!==(n=((o[1].weighting-1)*100).toFixed(0)+"")&&ne(t,n)},d(o){o&&h(e),o&&h(t),o&&h(i)}}}function dN(r){let e,n;return{c(){e=p("dt"),e.textContent="Target Requirements",n=p("dd"),n.textContent=`${r[4].join(", ")} 
      `},m(t,i){g(t,e,i),g(t,n,i)},p:de,d(t){t&&h(e),t&&h(n)}}}function Nm(r){let e,n,t=r[1].aoe+"",i;return{c(){e=p("dt"),e.textContent="AoE Shape",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&2&&t!==(t=o[1].aoe+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Am(r){let e,n,t=r[1].stun_dur+"",i;return{c(){e=p("dt"),e.textContent="Stun Duration",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&2&&t!==(t=o[1].stun_dur+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Bm(r){let e,n,t=r[1].down_dur+"",i;return{c(){e=p("dt"),e.textContent="Down Duration",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&2&&t!==(t=o[1].down_dur+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Dm(r){let e,n,t=r[1].knockback_dist+"",i;return{c(){e=p("dt"),e.textContent="Knockback Distance",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l&2&&t!==(t=o[1].knockback_dist+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function Mm(r){let e,n=r[1].description+"",t;return{c(){e=p("p"),t=T(n),Rt(e,"color","var(--cata-color-gray)")},m(i,o){g(i,e,o),m(e,t)},p(i,o){o&2&&n!==(n=i[1].description+"")&&ne(t,n)},d(i){i&&h(e)}}}function mN(r){let e,n,t,i,o;return i=new xt({props:{items:r[2],limit:20,$$slots:{default:[pN,({item:l})=>({1:l}),({item:l})=>l?2:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Weapons",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&66&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function pN(r){let e,n;return e=new Se({props:{type:"item",id:r[1].id}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&2&&(o.id=t[1].id),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function hN(r){let e,n,t,i=r[1].name+"",o,l,s,a,f,u,c,d,b=r[1].crit_ok?"Yes":r[1].crit_tec?"Only":"No",$,k,w,S,C,I,A,L,F,j,P,U,Q,re=JSON.stringify(r[1],null,2)+"",D,G,Z,z;u=new Pg({props:{item:r[1],buffMap:r[0]}});let X=r[1].weighting&&r[1].weighting!==1&&Rm(r),Y=r[4].length&&dN(r),ee=r[1].aoe&&Nm(r);C=new Fg({props:{item:r[1]}});let pe=r[1].stun_dur&&Am(r),ie=r[1].down_dur&&Bm(r),H=r[1].knockback_dist&&Dm(r),K=r[1].description&&Mm(r),se=r[2].length&&mN(r);return{c(){e=p("section"),n=p("h1"),t=T("Technique: "),o=T(i),l=M(),s=p("dl"),a=p("dt"),a.textContent="Type",f=p("dd"),f.textContent=`${r[3]}`,J(u.$$.fragment),c=p("dt"),c.textContent="Activate on Crit?",d=p("dd"),$=T(b),X&&X.c(),k=ge(),Y&&Y.c(),w=ge(),ee&&ee.c(),S=ge(),J(C.$$.fragment),pe&&pe.c(),I=ge(),ie&&ie.c(),A=ge(),H&&H.c(),L=M(),K&&K.c(),F=M(),j=p("details"),P=p("summary"),P.textContent="Technique JSON",U=M(),Q=p("pre"),D=T(re),G=M(),se&&se.c(),Z=ge()},m(x,oe){g(x,e,oe),m(e,n),m(n,t),m(n,o),m(e,l),m(e,s),m(s,a),m(s,f),W(u,s,null),m(s,c),m(s,d),m(d,$),X&&X.m(s,null),m(s,k),Y&&Y.m(s,null),m(s,w),ee&&ee.m(s,null),m(s,S),W(C,s,null),pe&&pe.m(s,null),m(s,I),ie&&ie.m(s,null),m(s,A),H&&H.m(s,null),m(e,L),K&&K.m(e,null),m(e,F),m(e,j),m(j,P),m(j,U),m(j,Q),m(Q,D),g(x,G,oe),se&&se.m(x,oe),g(x,Z,oe),z=!0},p(x,[oe]){(!z||oe&2)&&i!==(i=x[1].name+"")&&ne(o,i);const $e={};oe&2&&($e.item=x[1]),oe&1&&($e.buffMap=x[0]),u.$set($e),(!z||oe&2)&&b!==(b=x[1].crit_ok?"Yes":x[1].crit_tec?"Only":"No")&&ne($,b),x[1].weighting&&x[1].weighting!==1?X?X.p(x,oe):(X=Rm(x),X.c(),X.m(s,k)):X&&(X.d(1),X=null),x[4].length&&Y.p(x,oe),x[1].aoe?ee?ee.p(x,oe):(ee=Nm(x),ee.c(),ee.m(s,S)):ee&&(ee.d(1),ee=null);const He={};oe&2&&(He.item=x[1]),C.$set(He),x[1].stun_dur?pe?pe.p(x,oe):(pe=Am(x),pe.c(),pe.m(s,I)):pe&&(pe.d(1),pe=null),x[1].down_dur?ie?ie.p(x,oe):(ie=Bm(x),ie.c(),ie.m(s,A)):ie&&(ie.d(1),ie=null),x[1].knockback_dist?H?H.p(x,oe):(H=Dm(x),H.c(),H.m(s,null)):H&&(H.d(1),H=null),x[1].description?K?K.p(x,oe):(K=Mm(x),K.c(),K.m(e,F)):K&&(K.d(1),K=null),(!z||oe&2)&&re!==(re=JSON.stringify(x[1],null,2)+"")&&ne(D,re),x[2].length&&se.p(x,oe)},i(x){z||(v(u.$$.fragment,x),v(C.$$.fragment,x),v(se),z=!0)},o(x){E(u.$$.fragment,x),E(C.$$.fragment,x),E(se),z=!1},d(x){x&&h(e),V(u),X&&X.d(),Y&&Y.d(),ee&&ee.d(),V(C),pe&&pe.d(),ie&&ie.d(),H&&H.d(),K&&K.d(),x&&h(G),se&&se.d(x),x&&h(Z)}}}function gN(r,e,n){let{item:t}=e,{buffMap:i=new Map}=e;const l=Yt("data").byType("item").filter(f=>{var u;return f.id&&((u=f.techniques)!=null?u:[]).includes(t.id)}).sort((f,u)=>f.id.localeCompare(u.id)),s=t.block_counter?"Block Counter":t.dodge_counter?"Dodge Counter":t.miss_recovery?"Miss Recovery":t.grab_break?"Grab Break":t.defensive?"Defensive":"Offensive",a=[];return t.human_target&&a.push("humanoid"),t.downed_target&&a.push("downed"),t.stunned_target&&a.push("stunned"),r.$$set=f=>{"item"in f&&n(1,t=f.item),"buffMap"in f&&n(0,i=f.buffMap)},[i,t,l,s,a]}class bN extends wt{constructor(e){super(),kt(this,e,gN,hN,vt,{item:1,buffMap:0})}}function Lm(r,e,n){const t=r.slice();return t[6]=e[n],t}function Fm(r,e,n){const t=r.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function Pm(r,e,n){const t=r.slice();return t[13]=e[n],t}function jm(r,e,n){const t=r.slice();return t[16]=e[n],t}function Um(r,e,n){const t=r.slice();return t[19]=e[n],t}function qm(r,e,n){const t=r.slice();return t[22]=e[n][0],t[23]=e[n][1],t}function Gm(r){var $,k,w;let e,n,t,i,o,l,s,a=r[0].learn_difficulty!=null&&Ym(r),f=(($=r[0].autolearn)==null?void 0:$.length)&&Hm(r),u=r[2].length&&vN(r),c=r[0].weapon_category&&Jm(r),d=(((k=r[0].arm_block)!=null?k:99)!=99||r[0].arm_block_with_bio_armor_arms)&&Km(r),b=(((w=r[0].leg_block)!=null?w:99)!==99||r[0].leg_block_with_bio_armor_legs)&&Zm(r);return{c(){e=p("dl"),a&&a.c(),n=ge(),f&&f.c(),t=ge(),u&&u.c(),i=ge(),c&&c.c(),o=ge(),d&&d.c(),l=ge(),b&&b.c()},m(S,C){g(S,e,C),a&&a.m(e,null),m(e,n),f&&f.m(e,null),m(e,t),u&&u.m(e,null),m(e,i),c&&c.m(e,null),m(e,o),d&&d.m(e,null),m(e,l),b&&b.m(e,null),s=!0},p(S,C){var I,A,L;S[0].learn_difficulty!=null?a?a.p(S,C):(a=Ym(S),a.c(),a.m(e,n)):a&&(a.d(1),a=null),(I=S[0].autolearn)!=null&&I.length?f?(f.p(S,C),C&1&&v(f,1)):(f=Hm(S),f.c(),v(f,1),f.m(e,t)):f&&(ce(),E(f,1,1,()=>{f=null}),_e()),S[2].length&&u.p(S,C),S[0].weapon_category?c?(c.p(S,C),C&1&&v(c,1)):(c=Jm(S),c.c(),v(c,1),c.m(e,o)):c&&(ce(),E(c,1,1,()=>{c=null}),_e()),((A=S[0].arm_block)!=null?A:99)!=99||S[0].arm_block_with_bio_armor_arms?d?(d.p(S,C),C&1&&v(d,1)):(d=Km(S),d.c(),v(d,1),d.m(e,l)):d&&(ce(),E(d,1,1,()=>{d=null}),_e()),((L=S[0].leg_block)!=null?L:99)!==99||S[0].leg_block_with_bio_armor_legs?b?(b.p(S,C),C&1&&v(b,1)):(b=Zm(S),b.c(),v(b,1),b.m(e,null)):b&&(ce(),E(b,1,1,()=>{b=null}),_e())},i(S){s||(v(f),v(u),v(c),v(d),v(b),s=!0)},o(S){E(f),E(u),E(c),E(d),E(b),s=!1},d(S){S&&h(e),a&&a.d(),f&&f.d(),u&&u.d(),c&&c.d(),d&&d.d(),b&&b.d()}}}function Ym(r){let e,n,t=r[0].learn_difficulty+"",i,o,l=ip(r[0].learn_difficulty)+"",s,a;return{c(){e=p("dt"),e.textContent="Difficulty to Learn",n=p("dd"),i=T(t),o=T(" ("),s=T(l),a=T(`)
        `)},m(f,u){g(f,e,u),g(f,n,u),m(n,i),m(n,o),m(n,s),m(n,a)},p(f,u){u&1&&t!==(t=f[0].learn_difficulty+"")&&ne(i,t),u&1&&l!==(l=ip(f[0].learn_difficulty)+"")&&ne(s,l)},d(f){f&&h(e),f&&h(n)}}}function Hm(r){let e,n,t,i,o=r[0].autolearn&&zm(r);return{c(){e=p("dt"),e.textContent=`Autolearn
        `,n=p("dd"),o&&o.c(),t=M(),ye(e,"title","Learned at these skill levels, otherwise only learnable from a book")},m(l,s){g(l,e,s),g(l,n,s),o&&o.m(n,null),m(n,t),i=!0},p(l,s){l[0].autolearn?o?(o.p(l,s),s&1&&v(o,1)):(o=zm(l),o.c(),v(o,1),o.m(n,t)):o&&(ce(),E(o,1,1,()=>{o=null}),_e())},i(l){i||(v(o),i=!0)},o(l){E(o),i=!1},d(l){l&&h(e),l&&h(n),o&&o.d()}}}function zm(r){let e,n,t=r[0].autolearn,i=[];for(let l=0;l<t.length;l+=1)i[l]=Wm(qm(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){e=p("ul");for(let l=0;l<i.length;l+=1)i[l].c();ye(e,"class","comma-separated")},m(l,s){g(l,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(l,s){if(s&1){t=l[0].autolearn;let a;for(a=0;a<t.length;a+=1){const f=qm(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=Wm(f),i[a].c(),v(i[a],1),i[a].m(e,null))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){l&&h(e),Ce(i,l)}}}function Wm(r){let e,n,t,i=r[23]+"",o,l,s;return n=new Se({props:{type:"skill",id:r[22]}}),{c(){e=p("li"),J(n.$$.fragment),t=T(" ("),o=T(i),l=T(")")},m(a,f){g(a,e,f),W(n,e,null),m(e,t),m(e,o),m(e,l),s=!0},p(a,f){const u={};f&1&&(u.id=a[22]),n.$set(u),(!s||f&1)&&i!==(i=a[23]+"")&&ne(o,i)},i(a){s||(v(n.$$.fragment,a),s=!0)},o(a){E(n.$$.fragment,a),s=!1},d(a){a&&h(e),V(n)}}}function vN(r){let e,n,t,i,o,l=r[2],s=[];for(let f=0;f<l.length;f+=1)s[f]=Vm(Um(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Found In",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&4){l=f[2];let c;for(c=0;c<l.length;c+=1){const d=Um(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Vm(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Vm(r){let e,n,t;return n=new Se({props:{type:"item",id:r[19].id}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Jm(r){let e,n,t,i,o,l=r[0].weapon_category,s=[];for(let f=0;f<l.length;f+=1)s[f]=Xm(jm(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Weapon Category",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].weapon_category;let c;for(c=0;c<l.length;c+=1){const d=jm(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Xm(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Xm(r){let e,n,t;return n=new Se({props:{type:"weapon_category",id:r[16]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[16]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Km(r){let e,n,t,i,o,l;const s=[yN,$N],a=[];function f(u,c){return u[0].arm_block_with_bio_armor_arms?0:1}return t=f(r),i=a[t]=s[t](r),{c(){e=p("dt"),e.textContent="Arm Block",n=p("dd"),i.c(),o=M()},m(u,c){g(u,e,c),g(u,n,c),a[t].m(n,null),m(n,o),l=!0},p(u,c){let d=t;t=f(u),t===d?a[t].p(u,c):(ce(),E(a[d],1,1,()=>{a[d]=null}),_e(),i=a[t],i?i.p(u,c):(i=a[t]=s[t](u),i.c()),v(i,1),i.m(n,o))},i(u){l||(v(i),l=!0)},o(u){E(i),l=!1},d(u){u&&h(e),u&&h(n),a[t].d()}}}function $N(r){let e,n,t=r[0].arm_block+"",i,o,l;return e=new Se({props:{type:"skill",id:"unarmed"}}),{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")")},m(s,a){W(e,s,a),g(s,n,a),g(s,i,a),g(s,o,a),l=!0},p(s,a){(!l||a&1)&&t!==(t=s[0].arm_block+"")&&ne(i,t)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){V(e,s),s&&h(n),s&&h(i),s&&h(o)}}}function yN(r){let e,n,t;return n=new Se({props:{type:"item",id:"bio_armor_arms"}}),{c(){e=T("with "),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,i,o),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n,i)}}}function Zm(r){let e,n,t,i,o;const l=[wN,kN],s=[];function a(f,u){return f[0].leg_block_with_bio_armor_legs?0:1}return t=a(r),i=s[t]=l[t](r),{c(){e=p("dt"),e.textContent="Leg Block",n=p("dd"),i.c()},m(f,u){g(f,e,u),g(f,n,u),s[t].m(n,null),o=!0},p(f,u){let c=t;t=a(f),t===c?s[t].p(f,u):(ce(),E(s[c],1,1,()=>{s[c]=null}),_e(),i=s[t],i?i.p(f,u):(i=s[t]=l[t](f),i.c()),v(i,1),i.m(n,null))},i(f){o||(v(i),o=!0)},o(f){E(i),o=!1},d(f){f&&h(e),f&&h(n),s[t].d()}}}function kN(r){let e,n,t=r[0].leg_block+"",i,o,l;return e=new Se({props:{type:"skill",id:"unarmed"}}),{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")")},m(s,a){W(e,s,a),g(s,n,a),g(s,i,a),g(s,o,a),l=!0},p(s,a){(!l||a&1)&&t!==(t=s[0].leg_block+"")&&ne(i,t)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){V(e,s),s&&h(n),s&&h(i),s&&h(o)}}}function wN(r){let e,n,t;return n=new Se({props:{type:"item",id:"bio_armor_legs"}}),{c(){e=T("with "),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,i,o),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n,i)}}}function Qm(r){let e,n,t,i,o;return i=new xt({props:{items:[...r[0].weapons].sort(r[5]),$$slots:{default:[EN,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Weapons",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&1&&(a.items=[...l[0].weapons].sort(l[5])),s&67108865&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function EN(r){let e,n;return e=new Se({props:{id:r[0],type:"item"}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function SN(r){let e,n,t=r[13].buff_duration+"",i;return{c(){e=p("dt"),e.textContent="Duration",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function TN(r){let e,n,t=r[13].max_stacks+"",i;return{c(){e=p("dt"),e.textContent="Max Stacks",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function CN(r){let e,n,t=r[13].bonus_dodges+"",i;return{c(){e=p("dt"),e.textContent="Bonus Dodges",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function IN(r){let e,n,t=r[13].bonus_blocks+"",i;return{c(){e=p("dt"),e.textContent="Bonus Blocks",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p:de,d(o){o&&h(e),o&&h(n)}}}function ON(r){let e,n;return{c(){e=p("dt"),e.textContent="Silent",n=p("dd"),n.textContent="Yes",ye(e,"title","Attacks will be completely silent")},m(t,i){g(t,e,i),g(t,n,i)},d(t){t&&h(e),t&&h(n)}}}function RN(r){let e,n;return{c(){e=p("dt"),e.textContent="Stealthy",n=p("dd"),n.textContent="Yes",ye(e,"title","Movement will make less noise")},m(t,i){g(t,e,i),g(t,n,i)},d(t){t&&h(e),t&&h(n)}}}function NN(r){let e,n;return{c(){e=p("dt"),e.textContent="Throw Immune",n=p("dd"),n.textContent="Yes",ye(e,"title","Immune to throws/grabs")},m(t,i){g(t,e,i),g(t,n,i)},d(t){t&&h(e),t&&h(n)}}}function AN(r){let e,n=r[13].description+"",t;return{c(){e=p("p"),t=T(n),Rt(e,"color","var(--cata-color-gray)"),Rt(e,"white-space","pre-wrap")},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function xm(r){let e,n,t=r[9]+"",i,o,l=r[13].name+"",s,a,f,u,c,d,b,$,k,w,S,C,I;u=new Pg({props:{item:r[13],buffMap:r[4]}}),c=new Fg({props:{item:r[13]}});let A=r[13].buff_duration&&SN(r),L=r[13].max_stacks&&TN(r),F=r[13].bonus_dodges&&CN(r),j=r[13].bonus_blocks&&IN(r),P=r[13].quiet&&ON(),U=r[13].stealthy&&RN(),Q=r[13].throw_immune&&NN(),re=r[13].description&&AN(r);return{c(){e=p("section"),n=p("h1"),i=T(t),o=T(": "),s=T(l),a=M(),f=p("dl"),J(u.$$.fragment),J(c.$$.fragment),A&&A.c(),d=ge(),L&&L.c(),b=ge(),F&&F.c(),$=ge(),j&&j.c(),k=ge(),P&&P.c(),w=ge(),U&&U.c(),S=ge(),Q&&Q.c(),C=M(),re&&re.c()},m(D,G){g(D,e,G),m(e,n),m(n,i),m(n,o),m(n,s),m(e,a),m(e,f),W(u,f,null),W(c,f,null),A&&A.m(f,null),m(f,d),L&&L.m(f,null),m(f,b),F&&F.m(f,null),m(f,$),j&&j.m(f,null),m(f,k),P&&P.m(f,null),m(f,w),U&&U.m(f,null),m(f,S),Q&&Q.m(f,null),m(e,C),re&&re.m(e,null),I=!0},p(D,G){D[13].buff_duration&&A.p(D,G),D[13].max_stacks&&L.p(D,G),D[13].bonus_dodges&&F.p(D,G),D[13].bonus_blocks&&j.p(D,G),D[13].description&&re.p(D,G)},i(D){I||(v(u.$$.fragment,D),v(c.$$.fragment,D),I=!0)},o(D){E(u.$$.fragment,D),E(c.$$.fragment,D),I=!1},d(D){D&&h(e),V(u),V(c),A&&A.d(),L&&L.d(),F&&F.d(),j&&j.d(),P&&P.d(),U&&U.d(),Q&&Q.d(),re&&re.d()}}}function ep(r){let e,n,t=r[10],i=[];for(let l=0;l<t.length;l+=1)i[l]=xm(Pm(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ge()},m(l,s){for(let a=0;a<i.length;a+=1)i[a].m(l,s);g(l,e,s),n=!0},p(l,s){if(s&24){t=l[10];let a;for(a=0;a<t.length;a+=1){const f=Pm(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=xm(f),i[a].c(),v(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){Ce(i,l),l&&h(e)}}}function tp(r){let e,n,t,i,o=r[0].techniques,l=[];for(let a=0;a<o.length;a+=1)l[a]=np(Lm(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("h1"),e.textContent="Techniques",n=M();for(let a=0;a<l.length;a+=1)l[a].c();t=ge()},m(a,f){g(a,e,f),g(a,n,f);for(let u=0;u<l.length;u+=1)l[u].m(a,f);g(a,t,f),i=!0},p(a,f){if(f&19){o=a[0].techniques;let u;for(u=0;u<o.length;u+=1){const c=Lm(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=np(c),l[u].c(),v(l[u],1),l[u].m(t.parentNode,t))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a),a&&h(t)}}}function np(r){let e,n;return e=new bN({props:{item:r[1].byId("technique",r[6]),buffMap:r[4]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.item=t[1].byId("technique",t[6])),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function BN(r){var Q,re,D,G,Z;let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u,c=r[0].description+"",d,b,$,k,w,S,C,I,A=(r[0].learn_difficulty!=null||((Q=r[0].autolearn)==null?void 0:Q.length)||((re=r[0].arm_block)!=null?re:99)!==99||((D=r[0].leg_block)!=null?D:99)!==99||r[0].arm_block_with_bio_armor_arms||r[0].leg_block_with_bio_armor_legs||r[2].length)&&Gm(r),L=((G=r[0].weapons)==null?void 0:G.length)&&Qm(r),F=r[3],j=[];for(let z=0;z<F.length;z+=1)j[z]=ep(Fm(r,F,z));const P=z=>E(j[z],1,1,()=>{j[z]=null});let U=((Z=r[0].techniques)==null?void 0:Z.length)&&tp(r);return{c(){e=p("h1"),n=T("Martial Art: "),i=T(t),o=M(),l=p("section"),s=p("h1"),s.textContent="General",a=M(),A&&A.c(),f=M(),u=p("p"),d=T(c),b=M(),L&&L.c(),$=M(),k=p("h1"),k.textContent="Buffs",w=M();for(let z=0;z<j.length;z+=1)j[z].c();S=M(),U&&U.c(),C=ge(),Rt(u,"color","var(--cata-color-gray)")},m(z,X){g(z,e,X),m(e,n),m(e,i),g(z,o,X),g(z,l,X),m(l,s),m(l,a),A&&A.m(l,null),m(l,f),m(l,u),m(u,d),g(z,b,X),L&&L.m(z,X),g(z,$,X),g(z,k,X),g(z,w,X);for(let Y=0;Y<j.length;Y+=1)j[Y].m(z,X);g(z,S,X),U&&U.m(z,X),g(z,C,X),I=!0},p(z,[X]){var Y,ee,pe,ie,H;if((!I||X&1)&&t!==(t=Fe(z[0])+"")&&ne(i,t),z[0].learn_difficulty!=null||((Y=z[0].autolearn)==null?void 0:Y.length)||((ee=z[0].arm_block)!=null?ee:99)!==99||((pe=z[0].leg_block)!=null?pe:99)!==99||z[0].arm_block_with_bio_armor_arms||z[0].leg_block_with_bio_armor_legs||z[2].length?A?(A.p(z,X),X&1&&v(A,1)):(A=Gm(z),A.c(),v(A,1),A.m(l,f)):A&&(ce(),E(A,1,1,()=>{A=null}),_e()),(!I||X&1)&&c!==(c=z[0].description+"")&&ne(d,c),(ie=z[0].weapons)!=null&&ie.length?L?(L.p(z,X),X&1&&v(L,1)):(L=Qm(z),L.c(),v(L,1),L.m($.parentNode,$)):L&&(ce(),E(L,1,1,()=>{L=null}),_e()),X&24){F=z[3];let K;for(K=0;K<F.length;K+=1){const se=Fm(z,F,K);j[K]?(j[K].p(se,X),v(j[K],1)):(j[K]=ep(se),j[K].c(),v(j[K],1),j[K].m(S.parentNode,S))}for(ce(),K=F.length;K<j.length;K+=1)P(K);_e()}(H=z[0].techniques)!=null&&H.length?U?(U.p(z,X),X&1&&v(U,1)):(U=tp(z),U.c(),v(U,1),U.m(C.parentNode,C)):U&&(ce(),E(U,1,1,()=>{U=null}),_e())},i(z){if(!I){v(A),v(L);for(let X=0;X<F.length;X+=1)v(j[X]);v(U),I=!0}},o(z){E(A),E(L),j=j.filter(Boolean);for(let X=0;X<j.length;X+=1)E(j[X]);E(U),I=!1},d(z){z&&h(e),z&&h(o),z&&h(l),A&&A.d(),z&&h(b),L&&L.d(z),z&&h($),z&&h(k),z&&h(w),Ce(j,z),z&&h(S),U&&U.d(z),z&&h(C)}}}function ip(r){return r<=2?"easy":r<=4?"moderately hard":r<=6?"hard":r<=8?"very hard":"extremely hard"}function DN(r,e,n){var f,u,c,d,b,$,k,w,S,C,I;const t=Yt("data");let{item:i}=e;const o=t.byType("item").filter(A=>A.type==="BOOK"&&A.martial_art===i.id),l=[["Passive",(f=i.static_buffs)!=null?f:[]],["Move",(u=i.onmove_buffs)!=null?u:[]],["Pause",(c=i.onpause_buffs)!=null?c:[]],["Hit",(d=i.onhit_buffs)!=null?d:[]],["Miss",(b=i.onmiss_buffs)!=null?b:[]],["Attack",($=i.onattack_buffs)!=null?$:[]],["Crit",(k=i.oncrit_buffs)!=null?k:[]],["Kill",(w=i.onkill_buffs)!=null?w:[]],["Dodge",(S=i.ondodge_buffs)!=null?S:[]],["Block",(C=i.onblock_buffs)!=null?C:[]],["Get hit",(I=i.ongethit_buffs)!=null?I:[]]],s=new Map(l.flatMap(A=>A[1]).map(A=>[A.id,A])),a=(A,L)=>Fe(t.byId("item",A)).localeCompare(Fe(t.byId("item",L)));return r.$$set=A=>{"item"in A&&n(0,i=A.item)},[i,t,o,l,s,a]}class MN extends wt{constructor(e){super(),kt(this,e,DN,BN,vt,{item:0})}}function LN(r){let e;const n=r[5].default,t=vg(n,r,r[4],null);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&16)&&kg(t,n,i,i[4],e?yg(n,i[4],o,null):wg(i[4]),null)},i(i){e||(v(t,i),e=!0)},o(i){E(t,i),e=!1},d(i){t&&t.d(i)}}}function FN(r){let e,n,t=r[1].message+"",i,o,l,s,a=(r[2]?r[1].stack:"")+"",f,u;return{c(){e=p("div"),n=p("b"),i=T(t),o=M(),l=p("pre"),s=T("      "),f=T(a),u=T(`
    `),ye(l,"class","trace svelte-1nrekyi"),ye(e,"class","error svelte-1nrekyi")},m(c,d){g(c,e,d),m(e,n),m(n,i),m(e,o),m(e,l),m(l,s),m(l,f),m(l,u)},p(c,d){d&2&&t!==(t=c[1].message+"")&&ne(i,t),d&2&&a!==(a=(c[2]?c[1].stack:"")+"")&&ne(f,a)},i:de,o:de,d(c){c&&h(e)}}}function PN(r){let e,n,t,i;const o=[FN,LN],l=[];function s(a,f){return a[1]?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,[f]){let u=e;e=s(a),e===u?l[e].p(a,f):(ce(),E(l[u],1,1,()=>{l[u]=null}),_e(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),v(n,1),n.m(t.parentNode,t))},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function jN(r,e,n){let t,i=de,o=()=>(i(),i=gg(a,d=>n(1,t=d)),a);r.$$.on_destroy.push(()=>i());let{$$slots:l={},$$scope:s}=e,{error:a=null}=e;o();let{onError:f=null}=e,c=(typeof process!="undefined"&&process.env&&"production")!=="production";return r.$$set=d=>{"error"in d&&o(n(0,a=d.error)),"onError"in d&&n(3,f=d.onError),"$$scope"in d&&n(4,s=d.$$scope)},r.$$.update=()=>{r.$$.dirty&10&&t&&f&&f(t)},[a,t,c,f,s,l]}class UN extends wt{constructor(e){super(),kt(this,e,jN,PN,vt,{error:0,onError:3})}}const qN=["c","l","h","m","p","a","i","o","d"];function GN(r){if(r.$$render){let n=r.$$render;return r.$$render=(t,i,o,l)=>{const s=ro(void 0);try{return n(t,{error:s,...i},o,l)}catch(a){return s.set(a),n(t,{error:s,...i},o,{})}},r}function e(n,t){return function(...o){try{return n(...o)}catch(l){t(l)}}}return class extends r{constructor(t){const i=ro(void 0);t.props.$$slots.default=t.props.$$slots.default.map(o=>(...l)=>{let a=e(o,i.set)(...l);if(a)for(let f of qN)a[f]&&(a[f]=e(a[f],i.set));return a}),super(t),this.$$set({error:i})}}}const YN=GN(UN);function rp(r,e,n){const t=r.slice();return t[4]=e[n],t}function lp(r,e,n){const t=r.slice();return t[4]=e[n],t}function op(r,e,n){const t=r.slice();return t[9]=e[n],t}function sp(r,e,n){const t=r.slice();return t[9]=e[n],t}function fp(r,e,n){const t=r.slice();return t[9]=e[n],t}function ap(r,e,n){const t=r.slice();return t[16]=e[n],t}function up(r,e,n){const t=r.slice();return t[16]=e[n],t}function cp(r,e,n){const t=r.slice();return t[16]=e[n],t}function _p(r,e,n){const t=r.slice();return t[23]=e[n],t}function dp(r,e,n){const t=r.slice();return t[26]=e[n],t}function mp(r){let e;return{c(){e=T("Threshold ")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function pp(r){let e,n,t,i,o,l=r[0].category,s=[];for(let f=0;f<l.length;f+=1)s[f]=hp(dp(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Category",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].category;let c;for(c=0;c<l.length;c+=1){const d=dp(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=hp(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function hp(r){let e,n,t;return n=new Se({props:{type:"mutation_category",id:r[26]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[26]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function gp(r){let e;return{c(){e=T("s")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function HN(r){let e;return{c(){e=p("em"),e.textContent="None"},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function zN(r){let e,n,t=r[0].types,i=[];for(let l=0;l<t.length;l+=1)i[l]=bp(_p(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){e=p("ul");for(let l=0;l<i.length;l+=1)i[l].c();ye(e,"class","comma-separated")},m(l,s){g(l,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(l,s){if(s&1){t=l[0].types;let a;for(a=0;a<t.length;a+=1){const f=_p(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=bp(f),i[a].c(),v(i[a],1),i[a].m(e,null))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){l&&h(e),Ce(i,l)}}}function bp(r){let e,n,t;return n=new Se({props:{type:"mutation_type",id:r[23]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[23]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function WN(r){let e;return{c(){e=p("em"),e.textContent="None"},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function VN(r){let e,n,t,i,o,l=r[0].prereqs,s=[];for(let u=0;u<l.length;u+=1)s[u]=vp(cp(r,l,u));const a=u=>E(s[u],1,1,()=>{s[u]=null});let f=r[0].prereqs2&&$p(r);return{c(){e=p("ul"),n=p("li"),t=p("ul");for(let u=0;u<s.length;u+=1)s[u].c();i=M(),f&&f.c(),ye(t,"class","comma-separated or")},m(u,c){g(u,e,c),m(e,n),m(n,t);for(let d=0;d<s.length;d+=1)s[d].m(t,null);m(e,i),f&&f.m(e,null),o=!0},p(u,c){if(c&1){l=u[0].prereqs;let d;for(d=0;d<l.length;d+=1){const b=cp(u,l,d);s[d]?(s[d].p(b,c),v(s[d],1)):(s[d]=vp(b),s[d].c(),v(s[d],1),s[d].m(t,null))}for(ce(),d=l.length;d<s.length;d+=1)a(d);_e()}u[0].prereqs2?f?(f.p(u,c),c&1&&v(f,1)):(f=$p(u),f.c(),v(f,1),f.m(e,null)):f&&(ce(),E(f,1,1,()=>{f=null}),_e())},i(u){if(!o){for(let c=0;c<l.length;c+=1)v(s[c]);v(f),o=!0}},o(u){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)E(s[c]);E(f),o=!1},d(u){u&&h(e),Ce(s,u),f&&f.d()}}}function vp(r){let e,n,t;return n=new Se({props:{type:"mutation",id:r[16]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[16]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function $p(r){let e,n,t,i=r[0].prereqs2,o=[];for(let s=0;s<i.length;s+=1)o[s]=yp(up(r,i,s));const l=s=>E(o[s],1,1,()=>{o[s]=null});return{c(){e=p("li"),n=p("ul");for(let s=0;s<o.length;s+=1)o[s].c();ye(n,"class","comma-separated or")},m(s,a){g(s,e,a),m(e,n);for(let f=0;f<o.length;f+=1)o[f].m(n,null);t=!0},p(s,a){if(a&1){i=s[0].prereqs2;let f;for(f=0;f<i.length;f+=1){const u=up(s,i,f);o[f]?(o[f].p(u,a),v(o[f],1)):(o[f]=yp(u),o[f].c(),v(o[f],1),o[f].m(n,null))}for(ce(),f=i.length;f<o.length;f+=1)l(f);_e()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)v(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)E(o[a]);t=!1},d(s){s&&h(e),Ce(o,s)}}}function yp(r){let e,n,t;return n=new Se({props:{type:"mutation",id:r[16]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[16]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function kp(r){let e,n,t,i,o,l=r[0].threshreq,s=[];for(let f=0;f<l.length;f+=1)s[f]=wp(ap(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Threshold Requirement",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated or")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].threshreq;let c;for(c=0;c<l.length;c+=1){const d=ap(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=wp(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function wp(r){let e,n,t;return n=new Se({props:{type:"mutation",id:r[16]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[16]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Ep(r){let e,n,t,i,o,l=r[0].leads_to,s=[];for(let f=0;f<l.length;f+=1)s[f]=Sp(fp(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Leads To",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].leads_to;let c;for(c=0;c<l.length;c+=1){const d=fp(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Sp(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Sp(r){let e,n,t;return n=new Se({props:{id:r[9],type:"mutation"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[9]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Tp(r){let e,n,t,i,o,l=r[0].changes_to,s=[];for(let f=0;f<l.length;f+=1)s[f]=Cp(sp(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Changes To",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=f[0].changes_to;let c;for(c=0;c<l.length;c+=1){const d=sp(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Cp(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Cp(r){let e,n,t;return n=new Se({props:{id:r[9],type:"mutation"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[9]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Ip(r){let e,n,t,i,o=r[0].cancels,l=[];for(let a=0;a<o.length;a+=1)l[a]=Op(op(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Conflicts With",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();ye(t,"class","comma-separated")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f&1){o=a[0].cancels;let u;for(u=0;u<o.length;u+=1){const c=op(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=Op(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function Op(r){let e,n,t;return n=new Se({props:{id:r[9],type:"mutation"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[9]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Rp(r){let e,n,t,i,o,l=r[1],s=[];for(let f=0;f<l.length;f+=1)s[f]=Np(lp(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Post-Threshold Mutations",t=M(),i=p("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),m(e,n),m(e,t),m(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&2){l=f[1];let c;for(c=0;c<l.length;c+=1){const d=lp(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Np(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),Ce(s,f)}}}function Np(r){let e,n,t;return n=new Se({props:{id:r[4].id,type:"mutation"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function JN(r){let e,n,t,i,o,l=r[2],s=[];for(let f=0;f<l.length;f+=1)s[f]=Ap(rp(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("section"),n=p("h1"),n.textContent="Required By",t=M(),i=p("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,u){g(f,e,u),m(e,n),m(e,t),m(e,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);o=!0},p(f,u){if(u&4){l=f[2];let c;for(c=0;c<l.length;c+=1){const d=rp(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Ap(d),s[c].c(),v(s[c],1),s[c].m(i,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),Ce(s,f)}}}function Ap(r){let e,n,t;return n=new Se({props:{id:r[4].id,type:"mutation"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function XN(r){var Ge;let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u=r[0].points+"",c,d,b,$,k,w,S,C,I,A,L,F,j,P,U,Q,re,D,G=qn(r[0].description)+"",Z,z,X,Y,ee,pe=r[0].threshold&&mp(),ie=r[0].category&&pp(r),H=((Ge=r[0].types)==null?void 0:Ge.length)>1&&gp();const K=[zN,HN],se=[];function x(Oe,Ne){return Oe[0].types?0:1}w=x(r),S=se[w]=K[w](r);const oe=[VN,WN],$e=[];function He(Oe,Ne){return Oe[0].prereqs?0:1}L=He(r),F=$e[L]=oe[L](r);let Me=r[0].threshreq&&kp(r),be=r[0].leads_to&&Ep(r),Ee=r[0].changes_to&&Tp(r),Ie=r[0].cancels&&Ip(r),we=r[0].threshold&&r[1].length&&Rp(r),nt=r[2].length&&JN(r);return{c(){e=p("h1"),pe&&pe.c(),n=T("Mutation: "),i=T(t),o=M(),l=p("section"),s=p("dl"),a=p("dt"),a.textContent="Points",f=p("dd"),c=T(u),ie&&ie.c(),d=p("dt"),b=T("Type"),H&&H.c(),$=M(),k=p("dd"),S.c(),C=M(),I=p("dt"),I.textContent="Prerequisites",A=p("dd"),F.c(),j=M(),Me&&Me.c(),P=ge(),be&&be.c(),U=ge(),Ee&&Ee.c(),Q=ge(),Ie&&Ie.c(),re=M(),D=p("p"),Z=T(G),z=M(),we&&we.c(),X=M(),nt&&nt.c(),Y=ge(),ye(d,"title","You can't have two mutations that share a type."),Rt(D,"color","var(--cata-color-gray)")},m(Oe,Ne){g(Oe,e,Ne),pe&&pe.m(e,null),m(e,n),m(e,i),g(Oe,o,Ne),g(Oe,l,Ne),m(l,s),m(s,a),m(s,f),m(f,c),ie&&ie.m(s,null),m(s,d),m(d,b),H&&H.m(d,null),m(d,$),m(s,k),se[w].m(k,null),m(k,C),m(s,I),m(s,A),$e[L].m(A,null),m(A,j),Me&&Me.m(s,null),m(s,P),be&&be.m(s,null),m(s,U),Ee&&Ee.m(s,null),m(s,Q),Ie&&Ie.m(s,null),m(l,re),m(l,D),m(D,Z),g(Oe,z,Ne),we&&we.m(Oe,Ne),g(Oe,X,Ne),nt&&nt.m(Oe,Ne),g(Oe,Y,Ne),ee=!0},p(Oe,[Ne]){var Pe;Oe[0].threshold?pe||(pe=mp(),pe.c(),pe.m(e,n)):pe&&(pe.d(1),pe=null),(!ee||Ne&1)&&t!==(t=Fe(Oe[0])+"")&&ne(i,t),(!ee||Ne&1)&&u!==(u=Oe[0].points+"")&&ne(c,u),Oe[0].category?ie?(ie.p(Oe,Ne),Ne&1&&v(ie,1)):(ie=pp(Oe),ie.c(),v(ie,1),ie.m(s,d)):ie&&(ce(),E(ie,1,1,()=>{ie=null}),_e()),((Pe=Oe[0].types)==null?void 0:Pe.length)>1?H||(H=gp(),H.c(),H.m(d,$)):H&&(H.d(1),H=null);let Ot=w;w=x(Oe),w===Ot?se[w].p(Oe,Ne):(ce(),E(se[Ot],1,1,()=>{se[Ot]=null}),_e(),S=se[w],S?S.p(Oe,Ne):(S=se[w]=K[w](Oe),S.c()),v(S,1),S.m(k,C));let ke=L;L=He(Oe),L===ke?$e[L].p(Oe,Ne):(ce(),E($e[ke],1,1,()=>{$e[ke]=null}),_e(),F=$e[L],F?F.p(Oe,Ne):(F=$e[L]=oe[L](Oe),F.c()),v(F,1),F.m(A,j)),Oe[0].threshreq?Me?(Me.p(Oe,Ne),Ne&1&&v(Me,1)):(Me=kp(Oe),Me.c(),v(Me,1),Me.m(s,P)):Me&&(ce(),E(Me,1,1,()=>{Me=null}),_e()),Oe[0].leads_to?be?(be.p(Oe,Ne),Ne&1&&v(be,1)):(be=Ep(Oe),be.c(),v(be,1),be.m(s,U)):be&&(ce(),E(be,1,1,()=>{be=null}),_e()),Oe[0].changes_to?Ee?(Ee.p(Oe,Ne),Ne&1&&v(Ee,1)):(Ee=Tp(Oe),Ee.c(),v(Ee,1),Ee.m(s,Q)):Ee&&(ce(),E(Ee,1,1,()=>{Ee=null}),_e()),Oe[0].cancels?Ie?(Ie.p(Oe,Ne),Ne&1&&v(Ie,1)):(Ie=Ip(Oe),Ie.c(),v(Ie,1),Ie.m(s,null)):Ie&&(ce(),E(Ie,1,1,()=>{Ie=null}),_e()),(!ee||Ne&1)&&G!==(G=qn(Oe[0].description)+"")&&ne(Z,G),Oe[0].threshold&&Oe[1].length?we?(we.p(Oe,Ne),Ne&1&&v(we,1)):(we=Rp(Oe),we.c(),v(we,1),we.m(X.parentNode,X)):we&&(ce(),E(we,1,1,()=>{we=null}),_e()),Oe[2].length&&nt.p(Oe,Ne)},i(Oe){ee||(v(ie),v(S),v(F),v(Me),v(be),v(Ee),v(Ie),v(we),v(nt),ee=!0)},o(Oe){E(ie),E(S),E(F),E(Me),E(be),E(Ee),E(Ie),E(we),E(nt),ee=!1},d(Oe){Oe&&h(e),pe&&pe.d(),Oe&&h(o),Oe&&h(l),ie&&ie.d(),H&&H.d(),se[w].d(),$e[L].d(),Me&&Me.d(),be&&be.d(),Ee&&Ee.d(),Ie&&Ie.d(),Oe&&h(z),we&&we.d(Oe),Oe&&h(X),nt&&nt.d(Oe),Oe&&h(Y)}}}function KN(r,e,n){let{item:t}=e,i=Yt("data");const o=i.byType("mutation").filter(s=>{var a;return((a=s.threshreq)!=null?a:[]).includes(t.id)}).sort((s,a)=>Fe(s).localeCompare(Fe(a))),l=i.byType("mutation").filter(s=>{var a,f;return((a=s.prereqs)!=null?a:[]).includes(t.id)||((f=s.prereqs2)!=null?f:[]).includes(t.id)}).sort((s,a)=>Fe(s).localeCompare(Fe(a)));return r.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,o,l]}class ZN extends wt{constructor(e){super(),kt(this,e,KN,XN,vt,{item:0})}}function rs(r,e){const n=[];let t=!0;const i=new Set(r),o=new Set;for(;i.size;){const s=i.values().next().value;if(l(s),!t)throw new Error("Not a DAG")}return n;function l(s){if(!!i.has(s)){if(o.has(s)){t=!1;return}o.add(s);for(const a of e(s))l(a);o.delete(s),i.delete(s),n.push(s)}}}function Bp(r,e,n){const t=r.slice();return t[7]=e[n],t}function Dp(r,e,n){const t=r.slice();return t[7]=e[n],t}function Mp(r){let e,n,t=Fe(r[0])+"",i;return{c(){e=p("h1"),n=T("Mutation Category: "),i=T(t)},m(o,l){g(o,e,l),m(e,n),m(e,i)},p(o,l){l&1&&t!==(t=Fe(o[0])+"")&&ne(i,t)},d(o){o&&h(e)}}}function Lp(r){let e,n=Fe(r[0])+"",t;return{c(){e=p("h1"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p(i,o){o&1&&n!==(n=Fe(i[0])+"")&&ne(t,n)},d(i){i&&h(e)}}}function Fp(r){let e,n,t,i;return t=new Se({props:{id:r[0].threshold_mut,type:"mutation"}}),{c(){e=p("dt"),e.textContent="Threshold Mutation",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].threshold_mut),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function QN(r){let e,n,t,i,o,l=r[2],s=[];for(let f=0;f<l.length;f+=1)s[f]=Pp(Dp(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Pre-Threshold Mutations",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M()},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&4){l=f[2];let c;for(c=0;c<l.length;c+=1){const d=Dp(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Pp(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Pp(r){let e,n,t;return n=new Se({props:{id:r[7].id,type:"mutation"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function xN(r){let e,n,t,i,o=r[3],l=[];for(let a=0;a<o.length;a+=1)l[a]=jp(Bp(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Post-Threshold Mutations",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c()},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=Bp(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=jp(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function jp(r){let e,n,t;return n=new Se({props:{id:r[7].id,type:"mutation"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function eA(r){let e,n,t,i,o,l,s,a=!r[1]&&Mp(r),f=r[1]&&Lp(r),u=r[0].threshold_mut&&Fp(r),c=r[2].length&&QN(r),d=r[3].length&&xN(r);return{c(){a&&a.c(),e=M(),n=p("section"),f&&f.c(),t=M(),i=p("dl"),u&&u.c(),o=ge(),c&&c.c(),l=ge(),d&&d.c()},m(b,$){a&&a.m(b,$),g(b,e,$),g(b,n,$),f&&f.m(n,null),m(n,t),m(n,i),u&&u.m(i,null),m(i,o),c&&c.m(i,null),m(i,l),d&&d.m(i,null),s=!0},p(b,[$]){b[1]?a&&(a.d(1),a=null):a?a.p(b,$):(a=Mp(b),a.c(),a.m(e.parentNode,e)),b[1]?f?f.p(b,$):(f=Lp(b),f.c(),f.m(n,t)):f&&(f.d(1),f=null),b[0].threshold_mut?u?(u.p(b,$),$&1&&v(u,1)):(u=Fp(b),u.c(),v(u,1),u.m(i,o)):u&&(ce(),E(u,1,1,()=>{u=null}),_e()),b[2].length&&c.p(b,$),b[3].length&&d.p(b,$)},i(b){s||(v(u),v(c),v(d),s=!0)},o(b){E(u),E(c),E(d),s=!1},d(b){a&&a.d(b),b&&h(e),b&&h(n),f&&f.d(),u&&u.d(),c&&c.d(),d&&d.d()}}}function tA(r,e,n){let t=Yt("data"),{item:i}=e,{inCatalog:o=!1}=e;const l=t.byType("mutation").filter(u=>{var c;return((c=u.category)!=null?c:[]).includes(i.id)});l.sort((u,c)=>Fe(u).localeCompare(Fe(c)));const s=u=>{var c,d,b;return((c=u.prereqs)!=null?c:[]).concat((d=u.prereqs2)!=null?d:[]).concat((b=u.threshreq)!=null?b:[])},a=rs(l.filter(u=>!u.threshreq||u.threshreq.length===0),u=>s(u).map(c=>t.byId("mutation",c))),f=rs(l.filter(u=>!(!u.threshreq||u.threshreq.length===0)),u=>s(u).map(c=>t.byId("mutation",c)));return r.$$set=u=>{"item"in u&&n(0,i=u.item),"inCatalog"in u&&n(1,o=u.inCatalog)},[i,o,a,f]}class jg extends wt{constructor(e){super(),kt(this,e,tA,eA,vt,{item:0,inCatalog:1})}}function Up(r,e,n){const t=r.slice();return t[4]=e[n],t}function qp(r){let e,n,t;return n=new Se({props:{id:r[4].id,type:"mutation"}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p:de,i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function nA(r){let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u,c,d=r[1],b=[];for(let k=0;k<d.length;k+=1)b[k]=qp(Up(r,d,k));const $=k=>E(b[k],1,1,()=>{b[k]=null});return{c(){e=p("h1"),n=T("Mutation Type: "),i=T(t),o=M(),l=p("section"),s=p("dl"),a=p("dt"),a.textContent="Mutations",f=p("dd"),u=p("ul");for(let k=0;k<b.length;k+=1)b[k].c()},m(k,w){g(k,e,w),m(e,n),m(e,i),g(k,o,w),g(k,l,w),m(l,s),m(s,a),m(s,f),m(f,u);for(let S=0;S<b.length;S+=1)b[S].m(u,null);c=!0},p(k,[w]){if((!c||w&1)&&t!==(t=Fe(k[0])+"")&&ne(i,t),w&2){d=k[1];let S;for(S=0;S<d.length;S+=1){const C=Up(k,d,S);b[S]?(b[S].p(C,w),v(b[S],1)):(b[S]=qp(C),b[S].c(),v(b[S],1),b[S].m(u,null))}for(ce(),S=d.length;S<b.length;S+=1)$(S);_e()}},i(k){if(!c){for(let w=0;w<d.length;w+=1)v(b[w]);c=!0}},o(k){b=b.filter(Boolean);for(let w=0;w<b.length;w+=1)E(b[w]);c=!1},d(k){k&&h(e),k&&h(o),k&&h(l),Ce(b,k)}}}function iA(r,e,n){let{item:t}=e,i=Yt("data");const o=s=>{var a,f,u;return((a=s.prereqs)!=null?a:[]).concat((f=s.prereqs2)!=null?f:[]).concat((u=s.threshreq)!=null?u:[])},l=rs(i.byType("mutation").filter(s=>{var a;return((a=s.types)!=null?a:[]).includes(t.id)}).sort((s,a)=>Fe(s).localeCompare(Fe(a))),s=>o(s).map(a=>i.byId("mutation",a)));return r.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,l]}class rA extends wt{constructor(e){super(),kt(this,e,iA,nA,vt,{item:0})}}function Gp(r,e,n){const t=r.slice();return t[21]=e[n],t}function Yp(r,e,n){const t=r.slice();return t[24]=e[n],t}function lA(r){let e=" ",n;return{c(){n=T(e)},m(t,i){g(t,n,i)},p:de,d(t){t&&h(n)}}}function oA(r){let e,n=r[2](r[24].partId,r[24].variant)+"",t;return{c(){e=p("span"),t=T(n),ye(e,"title",`${r[24].partId}_${r[24].variant}`),ye(e,"class",`c_${r[3](r[24].partId)}`)},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function Hp(r){let e;function n(o,l){return o[24]?oA:lA}let i=n(r)(r);return{c(){i.c(),e=ge()},m(o,l){i.m(o,l),g(o,e,l)},p(o,l){i.p(o,l)},d(o){i.d(o),o&&h(e)}}}function zp(r){let e=`
`,n,t=r[21],i=[];for(let o=0;o<t.length;o+=1)i[o]=Hp(Yp(r,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=T(e)},m(o,l){for(let s=0;s<i.length;s+=1)i[s].m(o,l);g(o,n,l)},p(o,l){if(l&28){t=o[21];let s;for(s=0;s<t.length;s+=1){const a=Yp(o,t,s);i[s]?i[s].p(a,l):(i[s]=Hp(a),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){Ce(i,o),o&&h(n)}}}function sA(r){let e,n,t,i,o;return i=new xt({props:{items:r[6],$$slots:{default:[fA,({item:{id:l,count:s}})=>({19:l,20:s}),({item:l})=>(l?524288:0)|(l?1048576:0)]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Parts",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&135790592&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function fA(r){let e,n,t=r[20]+"",i,o,l;return e=new Se({props:{id:r[19],type:"vehicle_part"}}),{c(){J(e.$$.fragment),n=T(" ("),i=T(t),o=T(")")},m(s,a){W(e,s,a),g(s,n,a),g(s,i,a),g(s,o,a),l=!0},p(s,a){const f={};a&524288&&(f.id=s[19]),e.$set(f),(!l||a&1048576)&&t!==(t=s[20]+"")&&ne(i,t)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){V(e,s),s&&h(n),s&&h(i),s&&h(o)}}}function aA(r){let e,n,t,i,o;return i=new xt({props:{items:r[5],$$slots:{default:[uA,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),n=p("h1"),n.textContent="Items",t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),m(e,n),m(e,t),W(i,e,null),o=!0},p(l,s){const a={};s&134217729&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(v(i.$$.fragment,l),o=!0)},o(l){E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(i)}}}function uA(r){let e,n,t,i,o=Jr(r[0].prob)+"",l,s,a;return e=new Mt({props:{item:r[1].byId("item",r[0].id)}}),t=new Se({props:{id:r[0].id,type:"item"}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment),i=T(`
      (`),l=T(o),s=T(")")},m(f,u){W(e,f,u),g(f,n,u),W(t,f,u),g(f,i,u),g(f,l,u),g(f,s,u),a=!0},p(f,u){const c={};u&1&&(c.item=f[1].byId("item",f[0].id)),e.$set(c);const d={};u&1&&(d.id=f[0].id),t.$set(d),(!a||u&1)&&o!==(o=Jr(f[0].prob)+"")&&ne(l,o)},i(f){a||(v(e.$$.fragment,f),v(t.$$.fragment,f),a=!0)},o(f){E(e.$$.fragment,f),E(t.$$.fragment,f),a=!1},d(f){V(e,f),f&&h(n),V(t,f),f&&h(i),f&&h(l),f&&h(s)}}}function cA(r){let e,n=Fe(r[0])+"",t,i,o,l,s,a,f,u,c,d,b=r[4],$=[];for(let S=0;S<b.length;S+=1)$[S]=zp(Gp(r,b,S));let k=r[6].length&&sA(r),w=r[5].length&&aA(r);return{c(){e=p("h1"),t=T(n),i=M(),o=p("section"),l=p("pre"),s=T("    ");for(let S=0;S<$.length;S+=1)$[S].c();a=T(`
  `),f=M(),k&&k.c(),u=M(),w&&w.c(),c=ge(),Rt(l,"font-family","Unifont, monospace"),Rt(l,"line-height","1")},m(S,C){g(S,e,C),m(e,t),g(S,i,C),g(S,o,C),m(o,l),m(l,s);for(let I=0;I<$.length;I+=1)$[I].m(l,null);m(l,a),g(S,f,C),k&&k.m(S,C),g(S,u,C),w&&w.m(S,C),g(S,c,C),d=!0},p(S,[C]){if((!d||C&1)&&n!==(n=Fe(S[0])+"")&&ne(t,n),C&28){b=S[4];let I;for(I=0;I<b.length;I+=1){const A=Gp(S,b,I);$[I]?$[I].p(A,C):($[I]=zp(A),$[I].c(),$[I].m(l,a))}for(;I<$.length;I+=1)$[I].d(1);$.length=b.length}S[6].length&&k.p(S,C),S[5].length&&w.p(S,C)},i(S){d||(v(k),v(w),d=!0)},o(S){E(k),E(w),d=!1},d(S){S&&h(e),S&&h(i),S&&h(o),Ce($,S),S&&h(f),k&&k.d(S),S&&h(u),w&&w.d(S),S&&h(c)}}}function _A(r,e,n){let{item:t}=e;const i=Yt("data");let o=1/0,l=-1/0,s=1/0,a=-1/0;for(const F of t.parts)F.x<o&&(o=F.x),F.x>l&&(l=F.x),F.y<s&&(s=F.y),F.y>a&&(a=F.y);const f={cover:"^",cross:"c",horizontal:"h",horizontal_2:"=",vertical:"j",vertical_2:"H",ne:"u",nw:"y",se:"n",sw:"b"},u={on_roof:9,on_cargo:8,center:7,under:6,structure:5,engine_block:4,on_battery_mount:3,fuel_source:2,roof:-1,armor:-2},c={XOXO:"\u2502",OXOX:"\u2500",XXOO:"\u2514",OXXO:"\u250C",OOXX:"\u2510",XOOX:"\u2518",XXXO:"\u251C",XXOX:"\u2534",XOXX:"\u2524",OXXX:"\u252C",XXXX:"\u253C"},d=F=>{switch(F){case"j":return c.XOXO;case"h":return c.OXOX;case"c":return c.XXXX;case"y":return c.OXXO;case"u":return c.OOXX;case"n":return c.XOOX;case"b":return c.XXOO;default:return F}},b=(F,j)=>{var re,D;const P=i.byId("vehicle_part",F),U=(re=P.symbol)!=null?re:"=",Q={...P.standard_symbols?f:{},...P.symbols};return d((D=Q[j])!=null?D:U)},$=F=>i.byId("vehicle_part",F).color,k=t.parts.map(F=>{var P;const j=(F.part?[{part:F.part,fuel:F.fuel}]:(P=F.parts)==null?void 0:P.map(U=>typeof U=="string"?{part:U}:U)).map(({part:U,fuel:Q})=>{const[re,D]=Sg(i,U);return{partId:re,variant:D,fuel:Q}});return{x:F.x,y:F.y,parts:j}}),w=F=>{var Q;const P=i.byId("vehicle_part",F).location;return(Q=u[P])!=null?Q:0},S=[];for(let F=l;F>=o;F--){const j=[];for(let P=s;P<=a;P++){const U=k.filter(D=>D.x===F&&D.y===P).flatMap(D=>D.parts);if(!U.length){j.push(void 0);continue}let Q=U[0],re=w(Q.partId);for(const D of U){const G=w(D.partId);G>=0&&G>re&&(re=G,Q=D)}j.push(Q)}S.push(j)}const C=i.flattenItemGroup(Tg(t));C.sort((F,j)=>j.prob-F.prob);const I=k.flatMap(F=>F.parts),L=[...$s(I,F=>[F.partId]).entries()].map(([F,j])=>({id:F,count:j.length}));return L.sort((F,j)=>F.count===j.count?Fe(i.byId("vehicle_part",F.id)).localeCompare(Fe(i.byId("vehicle_part",j.id))):j.count-F.count),r.$$set=F=>{"item"in F&&n(0,t=F.item)},[t,i,b,$,S,C,L]}class dA extends wt{constructor(e){super(),kt(this,e,_A,cA,vt,{item:0})}}function Wp(r,e,n){const t=r.slice();return t[7]=e[n],t}function Vp(r,e,n){const t=r.slice();return t[10]=e[n],t}function Jp(r,e,n){const t=r.slice();return t[13]=e[n],t}function Xp(r,e,n){const t=r.slice();return t[16]=e[n],t}function Kp(r,e,n){const t=r.slice();return t[19]=e[n].id,t[20]=e[n].prob,t}function Zp(r,e,n){const t=r.slice();return t[23]=e[n][0],t[24]=e[n][1],t}function Qp(r,e,n){const t=r.slice();return t[19]=e[n].id,t[20]=e[n].prob,t[27]=e[n].count,t}function xp(r){let e,n,t,i,o,l,s;return t=new Mt({props:{item:r[1].byId("terrain",r[0].transforms_into)}}),o=new Se({props:{id:r[0].transforms_into,type:"terrain"}}),{c(){e=p("dt"),e.textContent="Transforms Into",n=p("dd"),J(t.$$.fragment),i=M(),J(o.$$.fragment),l=M()},m(a,f){g(a,e,f),g(a,n,f),W(t,n,null),m(n,i),W(o,n,null),m(n,l),s=!0},p(a,f){const u={};f&1&&(u.item=a[1].byId("terrain",a[0].transforms_into)),t.$set(u);const c={};f&1&&(c.id=a[0].transforms_into),o.$set(c)},i(a){s||(v(t.$$.fragment,a),v(o.$$.fragment,a),s=!0)},o(a){E(t.$$.fragment,a),E(o.$$.fragment,a),s=!1},d(a){a&&h(e),a&&h(n),V(t),V(o)}}}function mA(r){let e,n=r[23]+"",t,i,o,l,s,a=r[24],f=[];for(let c=0;c<a.length;c+=1)f[c]=e1(Qp(r,a,c));const u=c=>E(f[c],1,1,()=>{f[c]=null});return{c(){e=p("dt"),t=T(n),i=p("dd"),o=p("ul");for(let c=0;c<f.length;c+=1)f[c].c();l=M(),ye(o,"class","comma-separated")},m(c,d){g(c,e,d),m(e,t),g(c,i,d),m(i,o);for(let b=0;b<f.length;b+=1)f[b].m(o,null);m(i,l),s=!0},p(c,d){if(d&4){a=c[24];let b;for(b=0;b<a.length;b+=1){const $=Qp(c,a,b);f[b]?(f[b].p($,d),v(f[b],1)):(f[b]=e1($),f[b].c(),v(f[b],1),f[b].m(o,null))}for(ce(),b=a.length;b<f.length;b+=1)u(b);_e()}},i(c){if(!s){for(let d=0;d<a.length;d+=1)v(f[d]);s=!0}},o(c){f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)E(f[d]);s=!1},d(c){c&&h(e),c&&h(i),Ce(f,c)}}}function pA(r){let e,n=r[27][0]+"",t,i,o=r[27][1]+"",l,s;return{c(){e=T("\xA0("),t=T(n),i=T("\u2013"),l=T(o),s=T(")")},m(a,f){g(a,e,f),g(a,t,f),g(a,i,f),g(a,l,f),g(a,s,f)},p:de,d(a){a&&h(e),a&&h(t),a&&h(i),a&&h(l),a&&h(s)}}}function hA(r){let e,n=r[27][0]!==1&&gA(r);return{c(){n&&n.c(),e=ge()},m(t,i){n&&n.m(t,i),g(t,e,i)},p(t,i){t[27][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&h(e)}}}function gA(r){let e,n=r[27][0]+"",t,i;return{c(){e=T("\xA0("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function bA(r){let e,n=Jr(r[20])+"",t,i;return{c(){e=T("\xA0("),t=T(n),i=T(")")},m(o,l){g(o,e,l),g(o,t,l),g(o,i,l)},p:de,d(o){o&&h(e),o&&h(t),o&&h(i)}}}function e1(r){let e,n,t,i="",o,l="",s,a;t=new Se({props:{type:"item",id:r[19]}});function f(b,$){return b[27][0]===b[27][1]?hA:pA}let c=f(r)(r),d=r[20]!==1&&bA(r);return{c(){e=p("li"),n=p("span"),J(t.$$.fragment),o=T(i),c.c(),s=T(l),d&&d.c(),Rt(n,"white-space","nowrap")},m(b,$){g(b,e,$),m(e,n),W(t,n,null),m(n,o),c.m(n,null),m(n,s),d&&d.m(n,null),a=!0},p(b,$){c.p(b,$),b[20]!==1&&d.p(b,$)},i(b){a||(v(t.$$.fragment,b),a=!0)},o(b){E(t.$$.fragment,b),a=!1},d(b){b&&h(e),V(t),c.d(),d&&d.d()}}}function t1(r){let e,n,t=r[24].length&&mA(r);return{c(){t&&t.c(),e=ge()},m(i,o){t&&t.m(i,o),g(i,e,o),n=!0},p(i,o){i[24].length&&t.p(i,o)},i(i){n||(v(t),n=!0)},o(i){E(t),n=!1},d(i){t&&t.d(i),i&&h(e)}}}function vA(r){let e,n,t,i,o,l=["winter","spring","summer","autumn"].filter(r[4]),s=[];for(let f=0;f<l.length;f+=1)s[f]=l1(Vp(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Harvest",n=p("dd"),t=p("dl");for(let f=0;f<s.length;f+=1)s[f].c();i=M()},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&10){l=["winter","spring","summer","autumn"].filter(f[4]);let c;for(c=0;c<l.length;c+=1){const d=Vp(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=l1(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function $A(r){let e,n,t,i,o;return n=new Mt({props:{item:r[1].byId("item",r[16].drop)}}),i=new Se({props:{type:"item",id:r[16].drop}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment)},m(l,s){g(l,e,s),W(n,e,null),m(e,t),W(i,e,null),o=!0},p:de,i(l){o||(v(n.$$.fragment,l),v(i.$$.fragment,l),o=!0)},o(l){E(n.$$.fragment,l),E(i.$$.fragment,l),o=!1},d(l){l&&h(e),V(n),V(i)}}}function yA(r){let e,n,t=r[1].flattenItemGroup(r[1].byId("item_group",r[16].drop)),i=[];for(let l=0;l<t.length;l+=1)i[l]=n1(Kp(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ge()},m(l,s){for(let a=0;a<i.length;a+=1)i[a].m(l,s);g(l,e,s),n=!0},p(l,s){if(s&10){t=l[1].flattenItemGroup(l[1].byId("item_group",l[16].drop));let a;for(a=0;a<t.length;a+=1){const f=Kp(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=n1(f),i[a].c(),v(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){Ce(i,l),l&&h(e)}}}function n1(r){let e,n,t,i,o,l=(r[20]*100).toFixed(2)+"",s,a,f;return n=new Mt({props:{item:r[1].byId("item",r[19])}}),i=new Se({props:{type:"item",id:r[19]}}),{c(){e=p("li"),J(n.$$.fragment),t=M(),J(i.$$.fragment),o=T(" ("),s=T(l),a=T("%)")},m(u,c){g(u,e,c),W(n,e,null),m(e,t),W(i,e,null),m(e,o),m(e,s),m(e,a),f=!0},p:de,i(u){f||(v(n.$$.fragment,u),v(i.$$.fragment,u),f=!0)},o(u){E(n.$$.fragment,u),E(i.$$.fragment,u),f=!1},d(u){u&&h(e),V(n),V(i)}}}function i1(r){let e,n,t,i;const o=[yA,$A],l=[];function s(a,f){return a[16].type==="bionic_group"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function r1(r){let e,n,t=r[13].entries,i=[];for(let l=0;l<t.length;l+=1)i[l]=i1(Xp(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){e=p("ul");for(let l=0;l<i.length;l+=1)i[l].c()},m(l,s){g(l,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(l,s){if(s&10){t=l[13].entries;let a;for(a=0;a<t.length;a+=1){const f=Xp(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=i1(f),i[a].c(),v(i[a],1),i[a].m(e,null))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){l&&h(e),Ce(i,l)}}}function l1(r){let e,n=r[10]+"",t,i,o,l,s=[r[1].byId("harvest",r[3].get(r[10]))],a=[];for(let u=0;u<1;u+=1)a[u]=r1(Jp(r,s,u));const f=u=>E(a[u],1,1,()=>{a[u]=null});return{c(){e=p("dt"),t=T(n),i=p("dd");for(let u=0;u<1;u+=1)a[u].c();o=M(),Rt(e,"text-transform","capitalize")},m(u,c){g(u,e,c),m(e,t),g(u,i,c);for(let d=0;d<1;d+=1)a[d].m(i,null);m(i,o),l=!0},p(u,c){if(c&10){s=[u[1].byId("harvest",u[3].get(u[10]))];let d;for(d=0;d<1;d+=1){const b=Jp(u,s,d);a[d]?(a[d].p(b,c),v(a[d],1)):(a[d]=r1(b),a[d].c(),v(a[d],1),a[d].m(i,o))}for(ce(),d=1;d<1;d+=1)f(d);_e()}},i(u){if(!l){for(let c=0;c<1;c+=1)v(a[c]);l=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)E(a[c]);l=!1},d(u){u&&h(e),u&&h(i),Ce(a,u)}}}function o1(r){let e;return{c(){e=p("li"),e.innerHTML="<em>none</em>"},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function s1(r){let e,n,t;return n=new Se({props:{type:"json_flag",id:r[7]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[7]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function kA(r){var H,K,se;let e,n,t,i=Fe(r[0])+"",o,l,s,a,f,u,c=((H=r[0].move_cost)!=null?H:100)+"",d,b,$,k=((K=r[0].coverage)!=null?K:0)+"",w,S,C,I,A,L,F,j,P,U=qn(r[0].description)+"",Q,re;n=new Mt({props:{item:r[0]}});let D=r[0].transforms_into&&xp(r),G=r[2],Z=[];for(let x=0;x<G.length;x+=1)Z[x]=t1(Zp(r,G,x));const z=x=>E(Z[x],1,1,()=>{Z[x]=null});let X=r[3].size&&vA(r),Y=(se=r[0].flags)!=null?se:[],ee=[];for(let x=0;x<Y.length;x+=1)ee[x]=s1(Wp(r,Y,x));const pe=x=>E(ee[x],1,1,()=>{ee[x]=null});let ie=null;return Y.length||(ie=o1()),{c(){e=p("h1"),J(n.$$.fragment),t=M(),o=T(i),l=M(),s=p("section"),a=p("dl"),f=p("dt"),f.textContent="Move Cost",u=p("dd"),d=T(c),b=p("dt"),b.textContent="Coverage",$=p("dd"),w=T(k),S=T("%"),D&&D.c(),C=ge();for(let x=0;x<Z.length;x+=1)Z[x].c();I=ge(),X&&X.c(),A=p("dt"),A.textContent="Flags",L=p("dd"),F=p("ul");for(let x=0;x<ee.length;x+=1)ee[x].c();ie&&ie.c(),j=M(),P=p("p"),Q=T(U),ye(F,"class","comma-separated"),Rt(P,"color","var(--cata-color-gray)"),Rt(P,"margin-bottom","0")},m(x,oe){g(x,e,oe),W(n,e,null),m(e,t),m(e,o),g(x,l,oe),g(x,s,oe),m(s,a),m(a,f),m(a,u),m(u,d),m(a,b),m(a,$),m($,w),m($,S),D&&D.m(a,null),m(a,C);for(let $e=0;$e<Z.length;$e+=1)Z[$e].m(a,null);m(a,I),X&&X.m(a,null),m(a,A),m(a,L),m(L,F);for(let $e=0;$e<ee.length;$e+=1)ee[$e].m(F,null);ie&&ie.m(F,null),m(s,j),m(s,P),m(P,Q),re=!0},p(x,[oe]){var He,Me,be;const $e={};if(oe&1&&($e.item=x[0]),n.$set($e),(!re||oe&1)&&i!==(i=Fe(x[0])+"")&&ne(o,i),(!re||oe&1)&&c!==(c=((He=x[0].move_cost)!=null?He:100)+"")&&ne(d,c),(!re||oe&1)&&k!==(k=((Me=x[0].coverage)!=null?Me:0)+"")&&ne(w,k),x[0].transforms_into?D?(D.p(x,oe),oe&1&&v(D,1)):(D=xp(x),D.c(),v(D,1),D.m(a,C)):D&&(ce(),E(D,1,1,()=>{D=null}),_e()),oe&4){G=x[2];let Ee;for(Ee=0;Ee<G.length;Ee+=1){const Ie=Zp(x,G,Ee);Z[Ee]?(Z[Ee].p(Ie,oe),v(Z[Ee],1)):(Z[Ee]=t1(Ie),Z[Ee].c(),v(Z[Ee],1),Z[Ee].m(a,I))}for(ce(),Ee=G.length;Ee<Z.length;Ee+=1)z(Ee);_e()}if(x[3].size&&X.p(x,oe),oe&1){Y=(be=x[0].flags)!=null?be:[];let Ee;for(Ee=0;Ee<Y.length;Ee+=1){const Ie=Wp(x,Y,Ee);ee[Ee]?(ee[Ee].p(Ie,oe),v(ee[Ee],1)):(ee[Ee]=s1(Ie),ee[Ee].c(),v(ee[Ee],1),ee[Ee].m(F,null))}for(ce(),Ee=Y.length;Ee<ee.length;Ee+=1)pe(Ee);_e(),!Y.length&&ie?ie.p(x,oe):Y.length?ie&&(ie.d(1),ie=null):(ie=o1(),ie.c(),ie.m(F,null))}(!re||oe&1)&&U!==(U=qn(x[0].description)+"")&&ne(Q,U)},i(x){if(!re){v(n.$$.fragment,x),v(D);for(let oe=0;oe<G.length;oe+=1)v(Z[oe]);v(X);for(let oe=0;oe<Y.length;oe+=1)v(ee[oe]);re=!0}},o(x){E(n.$$.fragment,x),E(D),Z=Z.filter(Boolean);for(let oe=0;oe<Z.length;oe+=1)E(Z[oe]);E(X),ee=ee.filter(Boolean);for(let oe=0;oe<ee.length;oe+=1)E(ee[oe]);re=!1},d(x){x&&h(e),V(n),x&&h(l),x&&h(s),D&&D.d(),Ce(Z,x),X&&X.d(),Ce(ee,x),ie&&ie.d()}}}function wA(r,e,n){var u,c,d;const t=Yt("data");let{item:i}=e;const o=(u=i.deconstruct)!=null&&u.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.deconstruct.items=="string"?[{group:i.deconstruct.items}]:i.deconstruct.items}):[],l=(c=i.bash)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.bash.items=="string"?[{group:i.bash.items}]:i.bash.items}):[],s=[["Deconstruct",o],["Bash",l]],a=new Map;for(const{seasons:b,id:$}of(d=i.harvest_by_season)!=null?d:[])for(const k of b)a.set(k,$);const f=b=>a.has(b);return r.$$set=b=>{"item"in b&&n(0,i=b.item)},[i,t,s,a,f]}class EA extends wt{constructor(e){super(),kt(this,e,wA,kA,vt,{item:0})}}function SA(r){let e;return{c(){e=p("p"),e.textContent="There are no weapons in this category.",Rt(e,"color","var(--cata-color-gray)")},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function TA(r){let e,n;return e=new xt({props:{items:r[1],$$slots:{default:[CA,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&17&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function CA(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"item",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function IA(r){let e;return{c(){e=p("p"),e.textContent="There are no martial arts that use this weapon category.",Rt(e,"color","var(--cata-color-gray)")},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function OA(r){let e,n;return e=new xt({props:{items:r[2],$$slots:{default:[RA,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&17&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function RA(r){let e,n,t,i;return e=new Mt({props:{item:r[0]}}),t=new Se({props:{type:"martial_art",id:r[0].id}}),{c(){J(e.$$.fragment),n=M(),J(t.$$.fragment)},m(o,l){W(e,o,l),g(o,n,l),W(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(v(e.$$.fragment,o),v(t.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),E(t.$$.fragment,o),i=!1},d(o){V(e,o),o&&h(n),V(t,o)}}}function NA(r){let e,n,t=Fe(r[0])+"",i,o,l,s,a,f,u,c,d,b,$,k,w,S;const C=[TA,SA],I=[];function A(P,U){return P[1].length?0:1}f=A(r),u=I[f]=C[f](r);const L=[OA,IA],F=[];function j(P,U){return P[2].length?0:1}return k=j(r),w=F[k]=L[k](r),{c(){e=p("h1"),n=T("Weapon Category: "),i=T(t),o=M(),l=p("section"),s=p("h1"),s.textContent="Weapons",a=M(),u.c(),c=M(),d=p("section"),b=p("h1"),b.textContent="Martial Arts",$=M(),w.c()},m(P,U){g(P,e,U),m(e,n),m(e,i),g(P,o,U),g(P,l,U),m(l,s),m(l,a),I[f].m(l,null),g(P,c,U),g(P,d,U),m(d,b),m(d,$),F[k].m(d,null),S=!0},p(P,[U]){(!S||U&1)&&t!==(t=Fe(P[0])+"")&&ne(i,t),u.p(P,U),w.p(P,U)},i(P){S||(v(u),v(w),S=!0)},o(P){E(u),E(w),S=!1},d(P){P&&h(e),P&&h(o),P&&h(l),I[f].d(),P&&h(c),P&&h(d),F[k].d()}}}function AA(r,e,n){let{item:t}=e;const i=Yt("data"),o=i.byType("item").filter(s=>s.id).filter(s=>{var a;return((a=s.weapon_category)!=null?a:[]).some(f=>f===t.id)});o.sort((s,a)=>Fe(s).localeCompare(Fe(a)));const l=i.byType("martial_art").filter(s=>s.id).filter(s=>{var a;return(a=s.weapon_category)==null?void 0:a.some(f=>f===t.id)});return l.sort((s,a)=>Fe(s).localeCompare(Fe(a))),r.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,o,l]}class BA extends wt{constructor(e){super(),kt(this,e,AA,NA,vt,{item:0})}}function f1(r,e,n){const t=r.slice();return t[3]=e[n],t}function a1(r){let e,n;return e=new Mg({props:{construction:r[3]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p:de,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function DA(r){let e,n=Fe(r[0])+"",t,i,o,l,s=r[1],a=[];for(let u=0;u<s.length;u+=1)a[u]=a1(f1(r,s,u));const f=u=>E(a[u],1,1,()=>{a[u]=null});return{c(){e=p("h1"),t=T(n),i=M();for(let u=0;u<a.length;u+=1)a[u].c();o=ge()},m(u,c){g(u,e,c),m(e,t),g(u,i,c);for(let d=0;d<a.length;d+=1)a[d].m(u,c);g(u,o,c),l=!0},p(u,[c]){if((!l||c&1)&&n!==(n=Fe(u[0])+"")&&ne(t,n),c&2){s=u[1];let d;for(d=0;d<s.length;d+=1){const b=f1(u,s,d);a[d]?(a[d].p(b,c),v(a[d],1)):(a[d]=a1(b),a[d].c(),v(a[d],1),a[d].m(o.parentNode,o))}for(ce(),d=s.length;d<a.length;d+=1)f(d);_e()}},i(u){if(!l){for(let c=0;c<s.length;c+=1)v(a[c]);l=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)E(a[c]);l=!1},d(u){u&&h(e),u&&h(i),Ce(a,u),u&&h(o)}}}function MA(r,e,n){let{item:t}=e;const o=Yt("data").byType("construction").filter(l=>l.group===t.id);return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,o]}class LA extends wt{constructor(e){super(),kt(this,e,MA,DA,vt,{item:0})}}function u1(r,e,n){const t=r.slice();return t[3]=e[n],t}function c1(r,e,n){const t=r.slice();return t[6]=e[n],t}function _1(r,e,n){const t=r.slice();return t[9]=e[n],t}function d1(r){let e,n=r[0].description+"",t;return{c(){e=p("p"),t=T(n),Rt(e,"color","var(--cata-color-gray)")},m(i,o){g(i,e,o),m(e,t)},p(i,o){o&1&&n!==(n=i[0].description+"")&&ne(t,n)},d(i){i&&h(e)}}}function m1(r){let e,n,t,i,o,l=[r[0].hidden_by].flat(),s=[];for(let f=0;f<l.length;f+=1)s[f]=p1(_1(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Hidden By",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated and")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&1){l=[f[0].hidden_by].flat();let c;for(c=0;c<l.length;c+=1){const d=_1(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=p1(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function p1(r){let e,n,t;return n=new Se({props:{type:r[0].type,id:r[9]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.type=i[0].type),o&1&&(l.id=i[9]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function FA(r){let e,n,t,i,o,l=r[2],s=[];for(let f=0;f<l.length;f+=1)s[f]=h1(c1(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Unlocks",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated and")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u&5){l=f[2];let c;for(c=0;c<l.length;c+=1){const d=c1(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=h1(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function h1(r){let e,n,t;return n=new Se({props:{type:r[0].type,id:r[6].id}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.type=i[0].type),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function g1(r){var k;let e,n,t,i,o=r[0].time_constraint.since+"",l,s,a,f=r[0].time_constraint.is+"",u,c,d=((k=r[0].time_constraint.target)!=null?k:"")+"",b,$;return{c(){e=p("dt"),e.textContent="Time Constraint",n=p("dd"),t=T("Time since "),i=p("strong"),l=T(o),s=T(` is
        `),a=p("strong"),u=T(f),c=M(),b=T(d),$=M()},m(w,S){g(w,e,S),g(w,n,S),m(n,t),m(n,i),m(i,l),m(n,s),m(n,a),m(a,u),m(a,c),m(a,b),m(n,$)},p(w,S){var C;S&1&&o!==(o=w[0].time_constraint.since+"")&&ne(l,o),S&1&&f!==(f=w[0].time_constraint.is+"")&&ne(u,f),S&1&&d!==(d=((C=w[0].time_constraint.target)!=null?C:"")+"")&&ne(b,d)},d(w){w&&h(e),w&&h(n)}}}function PA(r){var c;let e,n=Js(r[1].byId("event_statistic",r[3].event_statistic).description)+"",t,i,o,l=r[3].is+"",s,a,f=((c=r[3].target)!=null?c:"")+"",u;return{c(){e=p("strong"),t=T(n),i=T(`
              is `),o=p("strong"),s=T(l),a=M(),u=T(f)},m(d,b){g(d,e,b),m(e,t),g(d,i,b),g(d,o,b),m(o,s),m(o,a),m(o,u)},p(d,b){var $;b&1&&n!==(n=Js(d[1].byId("event_statistic",d[3].event_statistic).description)+"")&&ne(t,n),b&1&&l!==(l=d[3].is+"")&&ne(s,l),b&1&&f!==(f=(($=d[3].target)!=null?$:"")+"")&&ne(u,f)},d(d){d&&h(e),d&&h(i),d&&h(o)}}}function jA(r){let e,n=r[3].description+"",t;return{c(){e=p("strong"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p(i,o){o&1&&n!==(n=i[3].description+"")&&ne(t,n)},d(i){i&&h(e)}}}function b1(r){let e,n;function t(l,s){return l[3].description?jA:PA}let i=t(r),o=i(r);return{c(){e=p("li"),o.c(),n=M()},m(l,s){g(l,e,s),o.m(e,null),m(e,n)},p(l,s){i===(i=t(l))&&o?o.p(l,s):(o.d(1),o=i(l),o&&(o.c(),o.m(e,n)))},d(l){l&&h(e),o.d()}}}function UA(r){let e,n=r[0].type==="achievement"?"Achievement":"Conduct",t,i,o=Fe(r[0])+"",l,s,a,f,u,c,d,b,$,k,w,S=r[0].description&&d1(r),C=r[0].hidden_by&&m1(r),I=r[2].length&&FA(r),A=r[0].time_constraint&&g1(r),L=r[0].requirements,F=[];for(let j=0;j<L.length;j+=1)F[j]=b1(u1(r,L,j));return{c(){e=p("h1"),t=T(n),i=T(": "),l=T(o),s=M(),a=p("section"),S&&S.c(),f=M(),u=p("dl"),C&&C.c(),c=ge(),I&&I.c(),d=ge(),A&&A.c(),b=p("dt"),b.textContent="Requirements",$=p("dd"),k=p("ul");for(let j=0;j<F.length;j+=1)F[j].c()},m(j,P){g(j,e,P),m(e,t),m(e,i),m(e,l),g(j,s,P),g(j,a,P),S&&S.m(a,null),m(a,f),m(a,u),C&&C.m(u,null),m(u,c),I&&I.m(u,null),m(u,d),A&&A.m(u,null),m(u,b),m(u,$),m($,k);for(let U=0;U<F.length;U+=1)F[U].m(k,null);w=!0},p(j,[P]){if((!w||P&1)&&n!==(n=j[0].type==="achievement"?"Achievement":"Conduct")&&ne(t,n),(!w||P&1)&&o!==(o=Fe(j[0])+"")&&ne(l,o),j[0].description?S?S.p(j,P):(S=d1(j),S.c(),S.m(a,f)):S&&(S.d(1),S=null),j[0].hidden_by?C?(C.p(j,P),P&1&&v(C,1)):(C=m1(j),C.c(),v(C,1),C.m(u,c)):C&&(ce(),E(C,1,1,()=>{C=null}),_e()),j[2].length&&I.p(j,P),j[0].time_constraint?A?A.p(j,P):(A=g1(j),A.c(),A.m(u,b)):A&&(A.d(1),A=null),P&3){L=j[0].requirements;let U;for(U=0;U<L.length;U+=1){const Q=u1(j,L,U);F[U]?F[U].p(Q,P):(F[U]=b1(Q),F[U].c(),F[U].m(k,null))}for(;U<F.length;U+=1)F[U].d(1);F.length=L.length}},i(j){w||(v(C),v(I),w=!0)},o(j){E(C),E(I),w=!1},d(j){j&&h(e),j&&h(s),j&&h(a),S&&S.d(),C&&C.d(),I&&I.d(),A&&A.d(),Ce(F,j)}}}function qA(r,e,n){let{item:t}=e;const i=Yt("data"),o=i.byType("achievement").filter(l=>{var s;return l.id!==t.id&&[(s=l.hidden_by)!=null?s:[]].flat().includes(t.id)});return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,i,o]}class v1 extends wt{constructor(e){super(),kt(this,e,qA,UA,vt,{item:0})}}function GA(r){let e,n,t=hi(r[0].type)+"",i,o,l,s;return{c(){e=p("section"),n=T("\u26A0\uFE0F This "),i=T(t),o=T(" is marked as "),l=p("em"),l.textContent="obsolete",s=T(`, meaning that it
  is likely not possible to obtain in this version.`),ye(e,"class","obsoletion-warning svelte-tb1bo")},m(a,f){g(a,e,f),m(e,n),m(e,i),m(e,o),m(e,l),m(e,s)},p(a,[f]){f&1&&t!==(t=hi(a[0].type)+"")&&ne(i,t)},i:de,o:de,d(a){a&&h(e)}}}function YA(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class HA extends wt{constructor(e){super(),kt(this,e,YA,GA,vt,{item:0})}}function $1(r,e,n){const t=r.slice();return t[2]=e[n],t}function y1(r,e,n){const t=r.slice();return t[2]=e[n],t}function k1(r,e,n){const t=r.slice();return t[7]=e[n],t}function w1(r,e,n){const t=r.slice();return t[7]=e[n],t}function E1(r,e,n){const t=r.slice();return t[12]=e[n],t}function S1(r,e,n){const t=r.slice();return t[15]=e[n],t}function T1(r,e,n){const t=r.slice();return t[15]=e[n],t}function C1(r,e,n){const t=r.slice();return t[20]=e[n],t}function I1(r,e,n){const t=r.slice();return t[23]=e[n][0],t[24]=e[n][1],t}function O1(r,e,n){const t=r.slice();return t[27]=e[n][0],t[28]=e[n][1],t}function R1(r,e,n){const t=r.slice();return t[27]=e[n][0],t[31]=e[n][1],t}function zA(r){let e;return{c(){e=p("em"),e.textContent="none"},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function WA(r){let e,n=r[0].occupied_bodyparts,t=[];for(let i=0;i<n.length;i+=1)t[i]=N1(R1(r,n,i));return{c(){e=p("ul");for(let i=0;i<t.length;i+=1)t[i].c();ye(e,"class","comma-separated")},m(i,o){g(i,e,o);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(i,o){if(o[0]&3){n=i[0].occupied_bodyparts;let l;for(l=0;l<n.length;l+=1){const s=R1(i,n,l);t[l]?t[l].p(s,o):(t[l]=N1(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(i){i&&h(e),Ce(t,i)}}}function N1(r){let e,n=Fe(r[1].byId("body_part",r[27]))+"",t,i,o=r[31]+"",l,s,a=r[31]===1?"slot":"slots",f,u;return{c(){e=p("li"),t=T(n),i=T(" ("),l=T(o),s=M(),f=T(a),u=T(`)
            `)},m(c,d){g(c,e,d),m(e,t),m(e,i),m(e,l),m(e,s),m(e,f),m(e,u)},p(c,d){d[0]&1&&n!==(n=Fe(c[1].byId("body_part",c[27]))+"")&&ne(t,n),d[0]&1&&o!==(o=c[31]+"")&&ne(l,o),d[0]&1&&a!==(a=c[31]===1?"slot":"slots")&&ne(f,a)},d(c){c&&h(e)}}}function A1(r){let e,n,t,i,o=r[0].encumbrance,l=[];for(let s=0;s<o.length;s+=1)l[s]=B1(O1(r,o,s));return{c(){e=p("dt"),e.textContent="Encumbrance",n=p("dd"),t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=M(),ye(t,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),m(n,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null);m(n,i)},p(s,a){if(a[0]&3){o=s[0].encumbrance;let f;for(f=0;f<o.length;f+=1){const u=O1(s,o,f);l[f]?l[f].p(u,a):(l[f]=B1(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),Ce(l,s)}}}function B1(r){let e,n=Fe(r[1].byId("body_part",r[27]))+"",t,i,o=r[28]+"",l,s;return{c(){e=p("li"),t=T(n),i=T(" ("),l=T(o),s=T(")")},m(a,f){g(a,e,f),m(e,t),m(e,i),m(e,l),m(e,s)},p(a,f){f[0]&1&&n!==(n=Fe(a[1].byId("body_part",a[27]))+"")&&ne(t,n),f[0]&1&&o!==(o=a[28]+"")&&ne(l,o)},d(a){a&&h(e)}}}function D1(r){let e,n,t,i,o=r[0].stat_bonus,l=[];for(let s=0;s<o.length;s+=1)l[s]=M1(I1(r,o,s));return{c(){e=p("dt"),e.textContent="Stat Bonuses",n=p("dd"),t=p("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=M(),ye(t,"class","comma-separated")},m(s,a){g(s,e,a),g(s,n,a),m(n,t);for(let f=0;f<l.length;f+=1)l[f].m(t,null);m(n,i)},p(s,a){if(a[0]&1){o=s[0].stat_bonus;let f;for(f=0;f<o.length;f+=1){const u=I1(s,o,f);l[f]?l[f].p(u,a):(l[f]=M1(u),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&h(e),s&&h(n),Ce(l,s)}}}function M1(r){let e,n=r[24]>=0?`+${r[24]}`:`\u2013${-r[24]}`,t,i,o=r[23]+"",l;return{c(){e=p("li"),t=T(n),i=M(),l=T(o)},m(s,a){g(s,e,a),m(e,t),m(e,i),m(e,l)},p(s,a){a[0]&1&&n!==(n=s[24]>=0?`+${s[24]}`:`\u2013${-s[24]}`)&&ne(t,n),a[0]&1&&o!==(o=s[23]+"")&&ne(l,o)},d(s){s&&h(e)}}}function L1(r){let e,n;return{c(){e=p("dt"),e.textContent="Removable",n=p("dd"),n.textContent="no"},m(t,i){g(t,e,i),g(t,n,i)},d(t){t&&h(e),t&&h(n)}}}function F1(r){let e,n,t=r[0].act_cost+"",i;return{c(){e=p("dt"),e.textContent="Activation Cost",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].act_cost+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function P1(r){let e,n,t=r[0].trigger_cost+"",i;return{c(){e=p("dt"),e.textContent="Trigger Cost",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].trigger_cost+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function j1(r){let e,n,t=r[0].react_cost+"",i;return{c(){e=p("dt"),e.textContent="Power Over Time",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].react_cost+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function U1(r){let e,n,t=(r[0].vitamin_absorb_mod*100).toFixed(0)+"",i,o;return{c(){e=p("dt"),e.textContent="Vitamin Absorption Modifier",n=p("dd"),i=T(t),o=T("%")},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p(l,s){s[0]&1&&t!==(t=(l[0].vitamin_absorb_mod*100).toFixed(0)+"")&&ne(i,t)},d(l){l&&h(e),l&&h(n)}}}function q1(r){let e,n,t,i,o,l=r[0].fuel_options,s=[];for(let f=0;f<l.length;f+=1)s[f]=G1(C1(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Fuel",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&1){l=f[0].fuel_options;let c;for(c=0;c<l.length;c+=1){const d=C1(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=G1(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function G1(r){let e,n,t;return n=new Se({props:{type:"material",id:r[20]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[20]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function Y1(r){let e,n,t=r[0].fuel_capacity+"",i;return{c(){e=p("dt"),e.textContent="Fuel Capacity",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].fuel_capacity+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function H1(r){let e,n,t=r[0].fuel_efficiency*100+"",i,o;return{c(){e=p("dt"),e.textContent="Fuel Efficiency",n=p("dd"),i=T(t),o=T("%")},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p(l,s){s[0]&1&&t!==(t=l[0].fuel_efficiency*100+"")&&ne(i,t)},d(l){l&&h(e),l&&h(n)}}}function z1(r){let e,n,t=r[0].passive_fuel_efficiency*100+"",i,o;return{c(){e=p("dt"),e.textContent="Passive Fuel Efficiency",n=p("dd"),i=T(t),o=T("%")},m(l,s){g(l,e,s),g(l,n,s),m(n,i),m(n,o)},p(l,s){s[0]&1&&t!==(t=l[0].passive_fuel_efficiency*100+"")&&ne(i,t)},d(l){l&&h(e),l&&h(n)}}}function W1(r){let e,n;return{c(){e=p("dt"),e.textContent="Emits Heat",n=p("dd"),n.textContent="yes"},m(t,i){g(t,e,i),g(t,n,i)},d(t){t&&h(e),t&&h(n)}}}function V1(r){let e,n,t=r[0].power_trickle+"",i;return{c(){e=p("dt"),e.textContent="Power Trickle",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].power_trickle+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function J1(r){let e,n,t=r[0].time+"",i,o,l=r[0].time!==1?"s":"",s;return{c(){e=p("dt"),e.textContent="Charge Time",n=p("dd"),i=T(t),o=T(" turn"),s=T(l)},m(a,f){g(a,e,f),g(a,n,f),m(n,i),m(n,o),m(n,s)},p(a,f){f[0]&1&&t!==(t=a[0].time+"")&&ne(i,t),f[0]&1&&l!==(l=a[0].time!==1?"s":"")&&ne(s,l)},d(a){a&&h(e),a&&h(n)}}}function X1(r){let e,n,t=r[0].capacity+"",i;return{c(){e=p("dt"),e.textContent="Capacity",n=p("dd"),i=T(t)},m(o,l){g(o,e,l),g(o,n,l),m(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].capacity+"")&&ne(i,t)},d(o){o&&h(e),o&&h(n)}}}function K1(r){let e,n,t,i;return t=new Se({props:{type:"item",id:r[0].fake_weapon}}),{c(){e=p("dt"),e.textContent="Acts As",n=p("dd"),J(t.$$.fragment)},m(o,l){g(o,e,l),g(o,n,l),W(t,n,null),i=!0},p(o,l){const s={};l[0]&1&&(s.id=o[0].fake_weapon),t.$set(s)},i(o){i||(v(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&h(e),o&&h(n),V(t)}}}function Z1(r){let e,n,t,i,o,l=r[0].toggled_pseudo_items,s=[];for(let f=0;f<l.length;f+=1)s[f]=Q1(T1(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Acts As",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&1){l=f[0].toggled_pseudo_items;let c;for(c=0;c<l.length;c+=1){const d=T1(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Q1(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function Q1(r){let e,n,t;return n=new Se({props:{type:"item",id:r[15]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[15]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function x1(r){let e,n,t,i,o,l=r[0].passive_pseudo_items,s=[];for(let f=0;f<l.length;f+=1)s[f]=eh(S1(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Acts As",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&1){l=f[0].passive_pseudo_items;let c;for(c=0;c<l.length;c+=1){const d=S1(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=eh(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function eh(r){let e,n,t;return n=new Se({props:{type:"item",id:r[15]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[15]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function th(r){let e,n,t,i,o,l=r[0].included_bionics,s=[];for(let f=0;f<l.length;f+=1)s[f]=nh(E1(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Includes",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&1){l=f[0].included_bionics;let c;for(c=0;c<l.length;c+=1){const d=E1(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=nh(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function nh(r){let e,n,t;return n=new Se({props:{type:"bionic",id:r[12]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[12]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function VA(r){let e;return{c(){e=p("em"),e.textContent="none"},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function JA(r){let e,n,t=r[0].flags,i=[];for(let l=0;l<t.length;l+=1)i[l]=ih(w1(r,t,l));const o=l=>E(i[l],1,1,()=>{i[l]=null});return{c(){e=p("ul");for(let l=0;l<i.length;l+=1)i[l].c();ye(e,"class","comma-separated")},m(l,s){g(l,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null);n=!0},p(l,s){if(s[0]&1){t=l[0].flags;let a;for(a=0;a<t.length;a+=1){const f=w1(l,t,a);i[a]?(i[a].p(f,s),v(i[a],1)):(i[a]=ih(f),i[a].c(),v(i[a],1),i[a].m(e,null))}for(ce(),a=t.length;a<i.length;a+=1)o(a);_e()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)v(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)E(i[s]);n=!1},d(l){l&&h(e),Ce(i,l)}}}function ih(r){let e,n,t;return n=new Se({props:{type:"json_flag",id:r[7]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[7]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function rh(r){let e,n,t,i,o,l=r[0].active_flags,s=[];for(let f=0;f<l.length;f+=1)s[f]=lh(k1(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Flags When Active",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&1){l=f[0].active_flags;let c;for(c=0;c<l.length;c+=1){const d=k1(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=lh(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function lh(r){let e,n,t;return n=new Se({props:{type:"json_flag",id:r[7]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[7]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function oh(r){let e,n,t,i,o,l=r[0].mutation_conflicts,s=[];for(let f=0;f<l.length;f+=1)s[f]=fh(y1(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("dt"),e.textContent="Conflicts With Mutations",n=p("dd"),t=p("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=M(),ye(t,"class","comma-separated")},m(f,u){g(f,e,u),g(f,n,u),m(n,t);for(let c=0;c<s.length;c+=1)s[c].m(t,null);m(n,i),o=!0},p(f,u){if(u[0]&3){l=f[0].mutation_conflicts;let c;for(c=0;c<l.length;c+=1){const d=y1(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=fh(d),s[c].c(),v(s[c],1),s[c].m(t,null))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(n),Ce(s,f)}}}function sh(r){let e,n,t;return n=new Se({props:{type:"mutation",id:r[2]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[2]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function fh(r){let e=r[1].byId("mutation",r[2]),n,t,i=e&&sh(r);return{c(){i&&i.c(),n=ge()},m(o,l){i&&i.m(o,l),g(o,n,l),t=!0},p(o,l){l[0]&1&&(e=o[1].byId("mutation",o[2])),e?i?(i.p(o,l),l[0]&1&&v(i,1)):(i=sh(o),i.c(),v(i,1),i.m(n.parentNode,n)):i&&(ce(),E(i,1,1,()=>{i=null}),_e())},i(o){t||(v(i),t=!0)},o(o){E(i),t=!1},d(o){i&&i.d(o),o&&h(n)}}}function ah(r){let e,n,t,i,o=r[0].canceled_mutations,l=[];for(let a=0;a<o.length;a+=1)l[a]=ch($1(r,o,a));const s=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=p("dt"),e.textContent="Removes Mutations",n=p("dd"),t=p("ul");for(let a=0;a<l.length;a+=1)l[a].c();ye(t,"class","comma-separated")},m(a,f){g(a,e,f),g(a,n,f),m(n,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);i=!0},p(a,f){if(f[0]&3){o=a[0].canceled_mutations;let u;for(u=0;u<o.length;u+=1){const c=$1(a,o,u);l[u]?(l[u].p(c,f),v(l[u],1)):(l[u]=ch(c),l[u].c(),v(l[u],1),l[u].m(t,null))}for(ce(),u=o.length;u<l.length;u+=1)s(u);_e()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)v(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)E(l[f]);i=!1},d(a){a&&h(e),a&&h(n),Ce(l,a)}}}function uh(r){let e,n,t;return n=new Se({props:{type:"mutation",id:r[2]}}),{c(){e=p("li"),J(n.$$.fragment)},m(i,o){g(i,e,o),W(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[2]),n.$set(l)},i(i){t||(v(n.$$.fragment,i),t=!0)},o(i){E(n.$$.fragment,i),t=!1},d(i){i&&h(e),V(n)}}}function ch(r){let e=r[1].byId("mutation",r[2]),n,t,i=e&&uh(r);return{c(){i&&i.c(),n=ge()},m(o,l){i&&i.m(o,l),g(o,n,l),t=!0},p(o,l){l[0]&1&&(e=o[1].byId("mutation",o[2])),e?i?(i.p(o,l),l[0]&1&&v(i,1)):(i=uh(o),i.c(),v(i,1),i.m(n.parentNode,n)):i&&(ce(),E(i,1,1,()=>{i=null}),_e())},i(o){t||(v(i),t=!0)},o(o){E(i),t=!1},d(o){i&&i.d(o),o&&h(n)}}}function XA(r){var It,Tt,it,ze,Je;let e,n=Fe(r[0])+"",t,i,o,l,s,a,f,u,c,d,b,$,k,w,S,C,I,A,L,F,j,P,U,Q,re,D,G,Z,z,X=r[0].dupes_allowed?"yes":"no",Y,ee,pe,ie,H,K,se,x,oe,$e,He=qn(r[0].description)+"",Me,be;function Ee(De,et){return De[0].occupied_bodyparts?WA:zA}let Ie=Ee(r),we=Ie(r),nt=r[0].encumbrance&&A1(r),Ge=r[0].stat_bonus&&D1(r),Oe=r[0].cant_remove_reason&&L1(),Ne=r[0].act_cost&&F1(r),Ot=r[0].trigger_cost&&P1(r),ke=r[0].react_cost&&j1(r),Pe=((It=r[0].vitamin_absorb_mod)!=null?It:1)!==1&&U1(r),mt=((Tt=r[0].fuel_options)==null?void 0:Tt.length)&&q1(r),We=r[0].fuel_capacity&&Y1(r),xe=r[0].fuel_efficiency&&H1(r),qe=r[0].passive_fuel_efficiency&&z1(r),Le=r[0].exothermic_power_gen&&W1(),Ze=r[0].power_trickle&&V1(r),rt=r[0].time&&J1(r),lt=r[0].capacity&&X1(r),Ve=r[0].fake_weapon&&K1(r),ve=((it=r[0].toggled_pseudo_items)==null?void 0:it.length)&&Z1(r),le=((ze=r[0].passive_pseudo_items)==null?void 0:ze.length)&&x1(r),fe=((Je=r[0].included_bionics)==null?void 0:Je.length)&&th(r);const ae=[JA,VA],Ye=[];function _t(De,et){var bt;return(bt=De[0].flags)!=null&&bt.length?0:1}ie=_t(r),H=Ye[ie]=ae[ie](r);let dt=r[0].active_flags&&rh(r),ht=r[0].mutation_conflicts&&oh(r),St=r[0].canceled_mutations&&ah(r);return{c(){e=p("h1"),t=T(n),i=M(),o=p("section"),l=p("h1"),l.textContent="General",s=M(),a=p("dl"),f=p("dt"),f.textContent="Occupied Body Parts",u=p("dd"),we.c(),c=M(),nt&&nt.c(),d=ge(),Ge&&Ge.c(),b=ge(),Oe&&Oe.c(),$=ge(),Ne&&Ne.c(),k=ge(),Ot&&Ot.c(),w=ge(),ke&&ke.c(),S=ge(),Pe&&Pe.c(),C=ge(),mt&&mt.c(),I=ge(),We&&We.c(),A=ge(),xe&&xe.c(),L=ge(),qe&&qe.c(),F=ge(),Le&&Le.c(),j=ge(),Ze&&Ze.c(),P=ge(),rt&&rt.c(),U=ge(),lt&&lt.c(),Q=ge(),Ve&&Ve.c(),re=ge(),ve&&ve.c(),D=ge(),le&&le.c(),G=ge(),fe&&fe.c(),Z=p("dt"),Z.textContent="Duplicates Allowed",z=p("dd"),Y=T(X),ee=p("dt"),ee.textContent="Flags",pe=p("dd"),H.c(),K=M(),dt&&dt.c(),se=ge(),ht&&ht.c(),x=ge(),St&&St.c(),oe=M(),$e=p("p"),Me=T(He),Rt($e,"color","var(--cata-color-gray)")},m(De,et){g(De,e,et),m(e,t),g(De,i,et),g(De,o,et),m(o,l),m(o,s),m(o,a),m(a,f),m(a,u),we.m(u,null),m(u,c),nt&&nt.m(a,null),m(a,d),Ge&&Ge.m(a,null),m(a,b),Oe&&Oe.m(a,null),m(a,$),Ne&&Ne.m(a,null),m(a,k),Ot&&Ot.m(a,null),m(a,w),ke&&ke.m(a,null),m(a,S),Pe&&Pe.m(a,null),m(a,C),mt&&mt.m(a,null),m(a,I),We&&We.m(a,null),m(a,A),xe&&xe.m(a,null),m(a,L),qe&&qe.m(a,null),m(a,F),Le&&Le.m(a,null),m(a,j),Ze&&Ze.m(a,null),m(a,P),rt&&rt.m(a,null),m(a,U),lt&&lt.m(a,null),m(a,Q),Ve&&Ve.m(a,null),m(a,re),ve&&ve.m(a,null),m(a,D),le&&le.m(a,null),m(a,G),fe&&fe.m(a,null),m(a,Z),m(a,z),m(z,Y),m(a,ee),m(a,pe),Ye[ie].m(pe,null),m(pe,K),dt&&dt.m(a,null),m(a,se),ht&&ht.m(a,null),m(a,x),St&&St.m(a,null),m(o,oe),m(o,$e),m($e,Me),be=!0},p(De,et){var Dt,gt,Ht,Bt,Wt;(!be||et[0]&1)&&n!==(n=Fe(De[0])+"")&&ne(t,n),Ie===(Ie=Ee(De))&&we?we.p(De,et):(we.d(1),we=Ie(De),we&&(we.c(),we.m(u,c))),De[0].encumbrance?nt?nt.p(De,et):(nt=A1(De),nt.c(),nt.m(a,d)):nt&&(nt.d(1),nt=null),De[0].stat_bonus?Ge?Ge.p(De,et):(Ge=D1(De),Ge.c(),Ge.m(a,b)):Ge&&(Ge.d(1),Ge=null),De[0].cant_remove_reason?Oe||(Oe=L1(),Oe.c(),Oe.m(a,$)):Oe&&(Oe.d(1),Oe=null),De[0].act_cost?Ne?Ne.p(De,et):(Ne=F1(De),Ne.c(),Ne.m(a,k)):Ne&&(Ne.d(1),Ne=null),De[0].trigger_cost?Ot?Ot.p(De,et):(Ot=P1(De),Ot.c(),Ot.m(a,w)):Ot&&(Ot.d(1),Ot=null),De[0].react_cost?ke?ke.p(De,et):(ke=j1(De),ke.c(),ke.m(a,S)):ke&&(ke.d(1),ke=null),((Dt=De[0].vitamin_absorb_mod)!=null?Dt:1)!==1?Pe?Pe.p(De,et):(Pe=U1(De),Pe.c(),Pe.m(a,C)):Pe&&(Pe.d(1),Pe=null),(gt=De[0].fuel_options)!=null&&gt.length?mt?(mt.p(De,et),et[0]&1&&v(mt,1)):(mt=q1(De),mt.c(),v(mt,1),mt.m(a,I)):mt&&(ce(),E(mt,1,1,()=>{mt=null}),_e()),De[0].fuel_capacity?We?We.p(De,et):(We=Y1(De),We.c(),We.m(a,A)):We&&(We.d(1),We=null),De[0].fuel_efficiency?xe?xe.p(De,et):(xe=H1(De),xe.c(),xe.m(a,L)):xe&&(xe.d(1),xe=null),De[0].passive_fuel_efficiency?qe?qe.p(De,et):(qe=z1(De),qe.c(),qe.m(a,F)):qe&&(qe.d(1),qe=null),De[0].exothermic_power_gen?Le||(Le=W1(),Le.c(),Le.m(a,j)):Le&&(Le.d(1),Le=null),De[0].power_trickle?Ze?Ze.p(De,et):(Ze=V1(De),Ze.c(),Ze.m(a,P)):Ze&&(Ze.d(1),Ze=null),De[0].time?rt?rt.p(De,et):(rt=J1(De),rt.c(),rt.m(a,U)):rt&&(rt.d(1),rt=null),De[0].capacity?lt?lt.p(De,et):(lt=X1(De),lt.c(),lt.m(a,Q)):lt&&(lt.d(1),lt=null),De[0].fake_weapon?Ve?(Ve.p(De,et),et[0]&1&&v(Ve,1)):(Ve=K1(De),Ve.c(),v(Ve,1),Ve.m(a,re)):Ve&&(ce(),E(Ve,1,1,()=>{Ve=null}),_e()),(Ht=De[0].toggled_pseudo_items)!=null&&Ht.length?ve?(ve.p(De,et),et[0]&1&&v(ve,1)):(ve=Z1(De),ve.c(),v(ve,1),ve.m(a,D)):ve&&(ce(),E(ve,1,1,()=>{ve=null}),_e()),(Bt=De[0].passive_pseudo_items)!=null&&Bt.length?le?(le.p(De,et),et[0]&1&&v(le,1)):(le=x1(De),le.c(),v(le,1),le.m(a,G)):le&&(ce(),E(le,1,1,()=>{le=null}),_e()),(Wt=De[0].included_bionics)!=null&&Wt.length?fe?(fe.p(De,et),et[0]&1&&v(fe,1)):(fe=th(De),fe.c(),v(fe,1),fe.m(a,Z)):fe&&(ce(),E(fe,1,1,()=>{fe=null}),_e()),(!be||et[0]&1)&&X!==(X=De[0].dupes_allowed?"yes":"no")&&ne(Y,X);let bt=ie;ie=_t(De),ie===bt?Ye[ie].p(De,et):(ce(),E(Ye[bt],1,1,()=>{Ye[bt]=null}),_e(),H=Ye[ie],H?H.p(De,et):(H=Ye[ie]=ae[ie](De),H.c()),v(H,1),H.m(pe,K)),De[0].active_flags?dt?(dt.p(De,et),et[0]&1&&v(dt,1)):(dt=rh(De),dt.c(),v(dt,1),dt.m(a,se)):dt&&(ce(),E(dt,1,1,()=>{dt=null}),_e()),De[0].mutation_conflicts?ht?(ht.p(De,et),et[0]&1&&v(ht,1)):(ht=oh(De),ht.c(),v(ht,1),ht.m(a,x)):ht&&(ce(),E(ht,1,1,()=>{ht=null}),_e()),De[0].canceled_mutations?St?(St.p(De,et),et[0]&1&&v(St,1)):(St=ah(De),St.c(),v(St,1),St.m(a,null)):St&&(ce(),E(St,1,1,()=>{St=null}),_e()),(!be||et[0]&1)&&He!==(He=qn(De[0].description)+"")&&ne(Me,He)},i(De){be||(v(mt),v(Ve),v(ve),v(le),v(fe),v(H),v(dt),v(ht),v(St),be=!0)},o(De){E(mt),E(Ve),E(ve),E(le),E(fe),E(H),E(dt),E(ht),E(St),be=!1},d(De){De&&h(e),De&&h(i),De&&h(o),we.d(),nt&&nt.d(),Ge&&Ge.d(),Oe&&Oe.d(),Ne&&Ne.d(),Ot&&Ot.d(),ke&&ke.d(),Pe&&Pe.d(),mt&&mt.d(),We&&We.d(),xe&&xe.d(),qe&&qe.d(),Le&&Le.d(),Ze&&Ze.d(),rt&&rt.d(),lt&&lt.d(),Ve&&Ve.d(),ve&&ve.d(),le&&le.d(),fe&&fe.d(),Ye[ie].d(),dt&&dt.d(),ht&&ht.d(),St&&St.d()}}}function KA(r,e,n){let{item:t}=e;const i=Yt("data");return r.$$set=o=>{"item"in o&&n(0,t=o.item)},[t,i]}class ZA extends wt{constructor(e){super(),kt(this,e,KA,XA,vt,{item:0},null,[-1,-1])}}function QA(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function wo(){return!QA()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Vi(r,e){return r.require(e)}function xA(r){let e;try{e=Vi(Gi,r)}catch{}try{const{cwd:n}=Vi(Gi,"process");e=Vi(Gi,`${n()}/node_modules/${r}`)}catch{}return e}var e5={};function En(){return wo()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:e5}function ys(r,e,n){var t=n||En(),i=t.__SENTRY__=t.__SENTRY__||{},o=i[r]||(i[r]=e());return o}var Ug=Object.prototype.toString;function qg(r){switch(Ug.call(r)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Yi(r,Error)}}function il(r,e){return Ug.call(r)===`[object ${e}]`}function Gg(r){return il(r,"ErrorEvent")}function _h(r){return il(r,"DOMError")}function t5(r){return il(r,"DOMException")}function Zr(r){return il(r,"String")}function Yg(r){return r===null||typeof r!="object"&&typeof r!="function"}function Qr(r){return il(r,"Object")}function ks(r){return typeof Event!="undefined"&&Yi(r,Event)}function n5(r){return typeof Element!="undefined"&&Yi(r,Element)}function i5(r){return il(r,"RegExp")}function ws(r){return Boolean(r&&r.then&&typeof r.then=="function")}function r5(r){return Qr(r)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r}function Hg(r){return typeof r=="number"&&r!==r}function Yi(r,e){try{return r instanceof e}catch{return!1}}function hl(r,e){try{let s=r;var n=5,t=80,i=[];let a=0,f=0;var o=" > ",l=o.length;let u;for(;s&&a++<n&&(u=l5(s,e),!(u==="html"||a>1&&f+i.length*l+u.length>=t));)i.push(u),f+=u.length,s=s.parentNode;return i.reverse().join(o)}catch{return"<unknown>"}}function l5(r,e){var n=r,t=[];let i,o,l,s,a;if(!n||!n.tagName)return"";t.push(n.tagName.toLowerCase());var f=e&&e.length?e.filter(c=>n.getAttribute(c)).map(c=>[c,n.getAttribute(c)]):null;if(f&&f.length)f.forEach(c=>{t.push(`[${c[0]}="${c[1]}"]`)});else if(n.id&&t.push(`#${n.id}`),i=n.className,i&&Zr(i))for(o=i.split(/\s+/),a=0;a<o.length;a++)t.push(`.${o[a]}`);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)l=u[a],s=n.getAttribute(l),s&&t.push(`[${l}="${s}"]`);return t.join("")}function o5(){var r=En();try{return r.document.location.href}catch{return""}}class ri extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var s5=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function f5(r){return r==="http"||r==="https"}function Es(r,e=!1){const{host:n,path:t,pass:i,port:o,projectId:l,protocol:s,publicKey:a}=r;return`${s}://${a}${e&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${t&&`${t}/`}${l}`}function a5(r){var e=s5.exec(r);if(!e)throw new ri(`Invalid Sentry Dsn: ${r}`);const[n,t,i="",o,l="",s]=e.slice(1);let a="",f=s;var u=f.split("/");if(u.length>1&&(a=u.slice(0,-1).join("/"),f=u.pop()),f){var c=f.match(/^\d+/);c&&(f=c[0])}return zg({host:o,pass:i,path:a,projectId:f,port:l,protocol:n,publicKey:t})}function zg(r){return{protocol:r.protocol,publicKey:r.publicKey||"",pass:r.pass||"",host:r.host,port:r.port||"",path:r.path||"",projectId:r.projectId}}function u5(r){if(!(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__))return;const{port:e,projectId:n,protocol:t}=r;var i=["protocol","publicKey","host","projectId"];if(i.forEach(o=>{if(!r[o])throw new ri(`Invalid Sentry Dsn: ${o} missing`)}),!n.match(/^\d+$/))throw new ri(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!f5(t))throw new ri(`Invalid Sentry Dsn: Invalid protocol ${t}`);if(e&&isNaN(parseInt(e,10)))throw new ri(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function c5(r){var e=typeof r=="string"?a5(r):zg(r);return u5(e),e}var _5=En(),d5="Sentry Logger ",go=["debug","info","warn","error","log","assert","trace"];function Wg(r){var e=En();if(!("console"in e))return r();var n=e.console,t={};go.forEach(i=>{var o=n[i]&&n[i].__sentry_original__;i in e.console&&o&&(t[i]=n[i],n[i]=o)});try{return r()}finally{Object.keys(t).forEach(i=>{n[i]=t[i]})}}function dh(){let r=!1;var e={enable:()=>{r=!0},disable:()=>{r=!1}};return typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?go.forEach(n=>{e[n]=(...t)=>{r&&Wg(()=>{_5.console[n](`${d5}[${n}]:`,...t)})}}):go.forEach(n=>{e[n]=()=>{}}),e}let at;typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?at=ys("logger",dh):at=dh();function cl(r,e=0){return typeof r!="string"||e===0||r.length<=e?r:`${r.substr(0,e)}...`}function mh(r,e){if(!Array.isArray(r))return"";var n=[];for(let i=0;i<r.length;i++){var t=r[i];try{n.push(String(t))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function gl(r,e){return Zr(r)?i5(e)?e.test(r):typeof e=="string"?r.indexOf(e)!==-1:!1:!1}function li(r,e,n){if(e in r){var t=r[e],i=n(t);if(typeof i=="function")try{Vg(i,t)}catch{}r[e]=i}}function Ss(r,e,n){Object.defineProperty(r,e,{value:n,writable:!0,configurable:!0})}function Vg(r,e){var n=e.prototype||{};r.prototype=e.prototype=n,Ss(r,"__sentry_original__",e)}function Ts(r){return r.__sentry_original__}function m5(r){return Object.keys(r).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`).join("&")}function Jg(r){if(qg(r))return{message:r.message,name:r.name,stack:r.stack,...hh(r)};if(ks(r)){var e={type:r.type,target:ph(r.target),currentTarget:ph(r.currentTarget),...hh(r)};return typeof CustomEvent!="undefined"&&Yi(r,CustomEvent)&&(e.detail=r.detail),e}else return r}function ph(r){try{return n5(r)?hl(r):Object.prototype.toString.call(r)}catch{return"<unknown>"}}function hh(r){if(typeof r=="object"&&r!==null){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}else return{}}function p5(r,e=40){var n=Object.keys(Jg(r));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return cl(n[0],e);for(let i=n.length;i>0;i--){var t=n.slice(0,i).join(", ");if(!(t.length>e))return i===n.length?t:cl(t,e)}return""}function Rr(r){var e=new Map;return ls(r,e)}function ls(r,e){if(Qr(r)){var n=e.get(r);if(n!==void 0)return n;var t={};e.set(r,t);for(var i of Object.keys(r))typeof r[i]!="undefined"&&(t[i]=ls(r[i],e));return t}if(Array.isArray(r)){var n=e.get(r);if(n!==void 0)return n;var t=[];return e.set(r,t),r.forEach(s=>{t.push(ls(s,e))}),t}return r}var h5=50;function Xg(...r){var e=r.sort((n,t)=>n[0]-t[0]).map(n=>n[1]);return(n,t=0)=>{var i=[];for(var o of n.split(`
`).slice(t))for(var l of e){var s=l(o);if(s){i.push(s);break}}return b5(i)}}function g5(r){return Array.isArray(r)?Xg(...r):r}function b5(r){if(!r.length)return[];let e=r;var n=e[0].function||"",t=e[e.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(e=e.slice(1)),t.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,h5).map(i=>({...i,filename:i.filename||e[0].filename,function:i.function||"?"})).reverse()}var qo="<anonymous>";function Zi(r){try{return!r||typeof r!="function"?qo:r.name||qo}catch{return qo}}function Cs(){if(!("fetch"in En()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function os(r){return r&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(r.toString())}function v5(){if(!Cs())return!1;var r=En();if(os(r.fetch))return!0;let e=!1;var n=r.document;if(n&&typeof n.createElement=="function")try{var t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(e=os(t.contentWindow.fetch)),n.head.removeChild(t)}catch(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function $5(){var r=En(),e=r.chrome,n=e&&e.app&&e.app.runtime,t="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!n&&t}var Bn=En(),_l={},gh={};function y5(r){if(!gh[r])switch(gh[r]=!0,r){case"console":k5();break;case"dom":N5();break;case"xhr":T5();break;case"fetch":w5();break;case"history":C5();break;case"error":A5();break;case"unhandledrejection":B5();break;default:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("unknown instrumentation type:",r);return}}function pi(r,e){_l[r]=_l[r]||[],_l[r].push(e),y5(r)}function Ni(r,e){if(!(!r||!_l[r]))for(var n of _l[r]||[])try{n(e)}catch(t){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error(`Error while triggering instrumentation handler.
Type: ${r}
Name: ${Zi(n)}
Error:`,t)}}function k5(){"console"in Bn&&go.forEach(function(r){r in Bn.console&&li(Bn.console,r,function(e){return function(...n){Ni("console",{args:n,level:r}),e&&e.apply(Bn.console,n)}})})}function w5(){!v5()||li(Bn,"fetch",function(r){return function(...e){var n={args:e,fetchData:{method:E5(e),url:S5(e)},startTimestamp:Date.now()};return Ni("fetch",{...n}),r.apply(Bn,e).then(t=>(Ni("fetch",{...n,endTimestamp:Date.now(),response:t}),t),t=>{throw Ni("fetch",{...n,endTimestamp:Date.now(),error:t}),t})}})}function E5(r=[]){return"Request"in Bn&&Yi(r[0],Request)&&r[0].method?String(r[0].method).toUpperCase():r[1]&&r[1].method?String(r[1].method).toUpperCase():"GET"}function S5(r=[]){return typeof r[0]=="string"?r[0]:"Request"in Bn&&Yi(r[0],Request)?r[0].url:String(r[0])}function T5(){if("XMLHttpRequest"in Bn){var r=XMLHttpRequest.prototype;li(r,"open",function(e){return function(...n){var t=this,i=n[1],o=t.__sentry_xhr__={method:Zr(n[0])?n[0].toUpperCase():n[0],url:n[1]};Zr(i)&&o.method==="POST"&&i.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var l=function(){if(t.readyState===4){try{o.status_code=t.status}catch{}Ni("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:t})}};return"onreadystatechange"in t&&typeof t.onreadystatechange=="function"?li(t,"onreadystatechange",function(s){return function(...a){return l(),s.apply(t,a)}}):t.addEventListener("readystatechange",l),e.apply(t,n)}}),li(r,"send",function(e){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),Ni("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}}let Vl;function C5(){if(!$5())return;var r=Bn.onpopstate;Bn.onpopstate=function(...n){var t=Bn.location.href,i=Vl;if(Vl=t,Ni("history",{from:i,to:t}),r)try{return r.apply(this,n)}catch{}};function e(n){return function(...t){var i=t.length>2?t[2]:void 0;if(i){var o=Vl,l=String(i);Vl=l,Ni("history",{from:o,to:l})}return n.apply(this,t)}}li(Bn.history,"pushState",e),li(Bn.history,"replaceState",e)}var I5=1e3;let Jl,Xl;function O5(r,e){if(!r||r.type!==e.type)return!0;try{if(r.target!==e.target)return!0}catch{}return!1}function R5(r){if(r.type!=="keypress")return!1;try{var e=r.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function bh(r,e=!1){return n=>{if(!(!n||Xl===n)&&!R5(n)){var t=n.type==="keypress"?"input":n.type;Jl===void 0?(r({event:n,name:t,global:e}),Xl=n):O5(Xl,n)&&(r({event:n,name:t,global:e}),Xl=n),clearTimeout(Jl),Jl=Bn.setTimeout(()=>{Jl=void 0},I5)}}}function N5(){if("document"in Bn){var r=Ni.bind(null,"dom"),e=bh(r,!0);Bn.document.addEventListener("click",e,!1),Bn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{var t=Bn[n]&&Bn[n].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(li(t,"addEventListener",function(i){return function(o,l,s){if(o==="click"||o=="keypress")try{var a=this,f=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},u=f[o]=f[o]||{refCount:0};if(!u.handler){var c=bh(r);u.handler=c,i.call(this,o,c,s)}u.refCount+=1}catch{}return i.call(this,o,l,s)}}),li(t,"removeEventListener",function(i){return function(o,l,s){if(o==="click"||o=="keypress")try{var a=this,f=a.__sentry_instrumentation_handlers__||{},u=f[o];u&&(u.refCount-=1,u.refCount<=0&&(i.call(this,o,u.handler,s),u.handler=void 0,delete f[o]),Object.keys(f).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,s)}}))})}}let Go=null;function A5(){Go=Bn.onerror,Bn.onerror=function(r,e,n,t,i){return Ni("error",{column:t,error:i,line:n,msg:r,url:e}),Go?Go.apply(this,arguments):!1}}let Yo=null;function B5(){Yo=Bn.onunhandledrejection,Bn.onunhandledrejection=function(r){return Ni("unhandledrejection",r),Yo?Yo.apply(this,arguments):!0}}function D5(){var r=typeof WeakSet=="function",e=r?new WeakSet:[];function n(i){if(r)return e.has(i)?!0:(e.add(i),!1);for(let l=0;l<e.length;l++){var o=e[l];if(o===i)return!0}return e.push(i),!1}function t(i){if(r)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[n,t]}function Ji(){var r=En(),e=r.crypto||r.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var t=i=>{let o=i.toString(16);for(;o.length<4;)o=`0${o}`;return o};return t(n[0])+t(n[1])+t(n[2])+t(n[3])+t(n[4])+t(n[5])+t(n[6])+t(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,i=>{var o=Math.random()*16|0,l=i==="x"?o:o&3|8;return l.toString(16)})}function Ho(r){if(!r)return{};var e=r.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",t=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+t}}function Kg(r){return r.exception&&r.exception.values?r.exception.values[0]:void 0}function Or(r){const{message:e,event_id:n}=r;if(e)return e;var t=Kg(r);return t?t.type&&t.value?`${t.type}: ${t.value}`:t.type||t.value||n||"<unknown>":n||"<unknown>"}function ss(r,e,n){var t=r.exception=r.exception||{},i=t.values=t.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function bl(r,e){var n=Kg(r);if(!!n){var t={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...t,...i,...e},e&&"data"in e){var o={...i&&i.data,...e.data};n.mechanism.data=o}}}function vh(r){if(r&&r.__sentry_captured__)return!0;try{Ss(r,"__sentry_captured__",!0)}catch{}return!1}function Tr(r,e=1/0,n=1/0){try{return Qg("",r,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Zg(r,e=3,n=100*1024){var t=Tr(r,e);return F5(t)>n?Zg(r,e-1,n):t}function Qg(r,e,n=1/0,t=1/0,i=D5()){const[o,l]=i;var s=e;if(s&&typeof s.toJSON=="function")try{return s.toJSON()}catch{}if(e===null||["number","boolean","string"].includes(typeof e)&&!Hg(e))return e;var a=M5(r,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;if(n===0)return a.replace("object ","");if(o(e))return"[Circular ~]";var f=Array.isArray(e)?[]:{};let u=0;var c=Jg(e);for(var d in c)if(!!Object.prototype.hasOwnProperty.call(c,d)){if(u>=t){f[d]="[MaxProperties ~]";break}var b=c[d];f[d]=Qg(d,b,n-1,t,i),u+=1}return l(e),f}function M5(r,e){try{return r==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":r==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":r5(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${Zi(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(n){return`**non-serializable** (${n})`}}function L5(r){return~-encodeURI(r).split(/%..|./).length}function F5(r){return L5(JSON.stringify(r))}var Ui;(function(r){var e=0;r[r.PENDING=e]="PENDING";var n=1;r[r.RESOLVED=n]="RESOLVED";var t=2;r[r.REJECTED=t]="REJECTED"})(Ui||(Ui={}));function Ar(r){return new ai(e=>{e(r)})}function fs(r){return new ai((e,n)=>{n(r)})}class ai{__init(){this._state=Ui.PENDING}__init2(){this._handlers=[]}constructor(e){ai.prototype.__init.call(this),ai.prototype.__init2.call(this),ai.prototype.__init3.call(this),ai.prototype.__init4.call(this),ai.prototype.__init5.call(this),ai.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new ai((t,i)=>{this._handlers.push([!1,o=>{if(!e)t(o);else try{t(e(o))}catch(l){i(l)}},o=>{if(!n)i(o);else try{t(n(o))}catch(l){i(l)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new ai((n,t)=>{let i,o;return this.then(l=>{o=!1,i=l,e&&e()},l=>{o=!0,i=l,e&&e()}).then(()=>{if(o){t(i);return}n(i)})})}__init3(){this._resolve=e=>{this._setResult(Ui.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(Ui.REJECTED,e)}}__init5(){this._setResult=(e,n)=>{if(this._state===Ui.PENDING){if(ws(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==Ui.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Ui.RESOLVED&&n[1](this._value),this._state===Ui.REJECTED&&n[2](this._value),n[0]=!0)})}}}}function P5(r){var e=[];function n(){return r===void 0||e.length<r}function t(l){return e.splice(e.indexOf(l),1)[0]}function i(l){if(!n())return fs(new ri("Not adding Promise due to buffer limit reached."));var s=l();return e.indexOf(s)===-1&&e.push(s),s.then(()=>t(s)).then(null,()=>t(s).then(null,()=>{})),s}function o(l){return new ai((s,a)=>{let f=e.length;if(!f)return s(!0);var u=setTimeout(()=>{l&&l>0&&s(!1)},l);e.forEach(c=>{Ar(c).then(()=>{--f||(clearTimeout(u),s(!0))},a)})})}return{$:e,add:i,drain:o}}function zi(r,e){return r!=null?r:e()}function j5(r){let e,n=r[0],t=1;for(;t<r.length;){var i=r[t],o=r[t+1];if(t+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(e=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...l)=>n.call(e,...l)),e=void 0)}return n}var U5=["fatal","error","warning","log","info","debug"];function q5(r){return r==="warn"?"warning":U5.includes(r)?r:"log"}var as={nowSeconds:()=>Date.now()/1e3};function G5(){const{performance:r}=En();if(!(!r||!r.now)){var e=Date.now()-r.now();return{now:()=>r.now(),timeOrigin:e}}}function Y5(){try{var r=Vi(Gi,"perf_hooks");return r.performance}catch{return}}var zo=wo()?Y5():G5(),$h=zo===void 0?as:{nowSeconds:()=>(zo.timeOrigin+zo.now())/1e3},Eo=as.nowSeconds.bind(as),Is=$h.nowSeconds.bind($h),vl=Is,$l=(()=>{const{performance:r}=En();if(!(!r||!r.now)){var e=3600*1e3,n=r.now(),t=Date.now(),i=r.timeOrigin?Math.abs(r.timeOrigin+n-t):e,o=i<e,l=r.timing&&r.timing.navigationStart,s=typeof l=="number",a=s?Math.abs(l+n-t):e,f=a<e;return o||f?i<=a?r.timeOrigin:l:t}})(),H5=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function z5(r){var e=r.match(H5);if(e){let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}function So(r,e=[]){return[r,e]}function W5(r,e){const[n,t]=r;return[n,[...t,e]]}function yh(r,e){var n=r[1];n.forEach(t=>{var i=t[0].type;e(t,i)})}function us(r,e){var n=e||new TextEncoder;return n.encode(r)}function xg(r,e){const[n,t]=r;let i=JSON.stringify(n);function o(s){typeof i=="string"?i=typeof s=="string"?i+s:[us(i,e),s]:i.push(typeof s=="string"?us(s,e):s)}for(var l of t){const[s,a]=l;o(`
${JSON.stringify(s)}
`),o(typeof a=="string"||a instanceof Uint8Array?a:JSON.stringify(a))}return typeof i=="string"?i:V5(i)}function V5(r){var e=r.reduce((o,l)=>o+l.length,0),n=new Uint8Array(e);let t=0;for(var i of r)n.set(i,t),t+=i.length;return n}function J5(r,e){var n=typeof r.data=="string"?us(r.data,e):r.data;return[Rr({type:"attachment",length:n.length,filename:r.filename,content_type:r.contentType,attachment_type:r.attachmentType}),n]}var X5={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function kh(r){return X5[r]}function K5(r,e,n){var t=[{type:"client_report"},{timestamp:n||Eo(),discarded_events:r}];return So(e?{dsn:e}:{},[t])}var Z5=60*1e3;function Q5(r,e=Date.now()){var n=parseInt(`${r}`,10);if(!isNaN(n))return n*1e3;var t=Date.parse(`${r}`);return isNaN(t)?Z5:t-e}function x5(r,e){return r[e]||r.all||0}function e6(r,e,n=Date.now()){return x5(r,e)>n}function t6(r,{statusCode:e,headers:n},t=Date.now()){var i={...r},o=n&&n["x-sentry-rate-limits"],l=n&&n["retry-after"];if(o)for(var s of o.trim().split(",")){const[c,d]=s.split(":",2);var a=parseInt(c,10),f=(isNaN(a)?60:a)*1e3;if(!d)i.all=t+f;else for(var u of d.split(";"))i[u]=t+f}else l?i.all=t+Q5(l,t):e===429&&(i.all=t+60*1e3);return i}var Ur="baggage",n6="sentry-",i6=/^sentry-/,r6=8192;function e0(r,e="",n=!0){return[{...r},e,n]}function wh(r,e,n){t0(r)&&(r[0][e]=n)}function cs(r){return Object.keys(r[0]).length===0}function l6(r){return r[0]}function o6(r){return r[1]}function t0(r){return r[2]}function n0(r){r[2]=!1}function s6(r){return Object.keys(r[0]).reduce((e,n)=>{var t=r[0][n],i=`${n6}${encodeURIComponent(n)}=${encodeURIComponent(t)}`,o=e===""?i:`${e},${i}`;return o.length>r6?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Not adding key: ${n} with val: ${t} to baggage due to exceeding baggage size limits.`),e):o},r[1])}function i0(r){return r.split(",").reduce(([e,n],t)=>{const[i,o]=t.split("=");if(i6.test(i)){var l=decodeURIComponent(i.split("-")[1]);return[{...e,[l]:decodeURIComponent(o)},n,!0]}else return[e,n===""?t:`${n},${t}`,!0]},[{},"",!0])}function ul(r,e){if(!r&&!e)return"";var n=e&&i0(e)||void 0,t=n&&o6(n),i=e0(r&&r[0]||{},t||r&&r[1]||"");return s6(i)}function f6(r,e){var n=i0(r||"");return(!cs(n)||e&&cs(n))&&n0(n),n}function a6(r){var e=Is(),n={sid:Ji(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>c6(n)};return r&&xr(n,r),n}function xr(r,e={}){if(e.user&&(!r.ipAddress&&e.user.ip_address&&(r.ipAddress=e.user.ip_address),!r.did&&!e.did&&(r.did=e.user.id||e.user.email||e.user.username)),r.timestamp=e.timestamp||Is(),e.ignoreDuration&&(r.ignoreDuration=e.ignoreDuration),e.sid&&(r.sid=e.sid.length===32?e.sid:Ji()),e.init!==void 0&&(r.init=e.init),!r.did&&e.did&&(r.did=`${e.did}`),typeof e.started=="number"&&(r.started=e.started),r.ignoreDuration)r.duration=void 0;else if(typeof e.duration=="number")r.duration=e.duration;else{var n=r.timestamp-r.started;r.duration=n>=0?n:0}e.release&&(r.release=e.release),e.environment&&(r.environment=e.environment),!r.ipAddress&&e.ipAddress&&(r.ipAddress=e.ipAddress),!r.userAgent&&e.userAgent&&(r.userAgent=e.userAgent),typeof e.errors=="number"&&(r.errors=e.errors),e.status&&(r.status=e.status)}function u6(r,e){let n={};e?n={status:e}:r.status==="ok"&&(n={status:"exited"}),xr(r,n)}function c6(r){return Rr({sid:`${r.sid}`,init:r.init,started:new Date(r.started*1e3).toISOString(),timestamp:new Date(r.timestamp*1e3).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}var Eh=100;class Vn{constructor(){Vn.prototype.__init.call(this),Vn.prototype.__init2.call(this),Vn.prototype.__init3.call(this),Vn.prototype.__init4.call(this),Vn.prototype.__init5.call(this),Vn.prototype.__init6.call(this),Vn.prototype.__init7.call(this),Vn.prototype.__init8.call(this),Vn.prototype.__init9.call(this),Vn.prototype.__init10.call(this)}__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(e){var n=new Vn;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments]),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&xr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts={...this._contexts,[e]:n},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof Vn?n:this}return e instanceof Vn?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Qr(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,n){var t=typeof n=="number"?Math.min(n,Eh):Eh;if(t<=0)return this;var i={timestamp:Eo(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-t),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors([...r0(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,n,t,i=0){return new ai((o,l)=>{var s=e[i];if(n===null||typeof s!="function")o(n);else{var a=s({...n},t);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&s.id&&a===null&&at.log(`Event processor "${s.id}" dropped event`),ws(a)?a.then(f=>this._notifyEventProcessors(e,f,t,i+1).then(o)).then(null,l):this._notifyEventProcessors(e,a,t,i+1).then(o).then(null,l)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function r0(){return ys("globalEventProcessors",()=>[])}function Os(r){r0().push(r)}var Rs=4,_6=100;class El{__init(){this._stack=[{}]}constructor(e,n=new Vn,t=Rs){this._version=t,El.prototype.__init.call(this),this.getStackTop().scope=n,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=Vn.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){var t=this._lastEventId=n&&n.event_id?n.event_id:Ji(),i=new Error("Sentry syntheticException");return this._withClient((o,l)=>{o.captureException(e,{originalException:e,syntheticException:i,...n,event_id:t},l)}),t}captureMessage(e,n,t){var i=this._lastEventId=t&&t.event_id?t.event_id:Ji(),o=new Error(e);return this._withClient((l,s)=>{l.captureMessage(e,n,{originalException:e,syntheticException:o,...t,event_id:i},s)}),i}captureEvent(e,n){var t=n&&n.event_id?n.event_id:Ji();return e.type!=="transaction"&&(this._lastEventId=t),this._withClient((i,o)=>{i.captureEvent(e,{...n,event_id:t},o)}),t}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:t,client:i}=this.getStackTop();if(!t||!i)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:l=_6}=i.getOptions&&i.getOptions()||{};if(!(l<=0)){var s=Eo(),a={timestamp:s,...e},f=o?Wg(()=>o(a,n)):a;f!==null&&t.addBreadcrumb(f,l)}}setUser(e){var n=this.getScope();n&&n.setUser(e)}setTags(e){var n=this.getScope();n&&n.setTags(e)}setExtras(e){var n=this.getScope();n&&n.setExtras(e)}setTag(e,n){var t=this.getScope();t&&t.setTag(e,n)}setExtra(e,n){var t=this.getScope();t&&t.setExtra(e,n)}setContext(e,n){var t=this.getScope();t&&t.setContext(e,n)}configureScope(e){const{scope:n,client:t}=this.getStackTop();n&&t&&e(n)}run(e){var n=Sh(this);try{e(this)}finally{Sh(n)}}getIntegration(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){return this._callExtensionMethod("startTransaction",e,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),n=e&&e.scope,t=n&&n.getSession();t&&u6(t),this._sendSessionUpdate(),n&&n.setSession()}startSession(e){const{scope:n,client:t}=this.getStackTop(),{release:i,environment:o}=t&&t.getOptions()||{};var l=En();const{userAgent:s}=l.navigator||{};var a=a6({release:i,environment:o,...n&&{user:n.getUser()},...s&&{userAgent:s},...e});if(n){var f=n.getSession&&n.getSession();f&&f.status==="ok"&&xr(f,{status:"exited"}),this.endSession(),n.setSession(a)}return a}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop();if(!!e){var t=e.getSession();t&&n&&n.captureSession&&n.captureSession(t)}}_withClient(e){const{scope:n,client:t}=this.getStackTop();t&&e(t,n)}_callExtensionMethod(e,...n){var t=rl(),i=t.__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function rl(){var r=En();return r.__SENTRY__=r.__SENTRY__||{extensions:{},hub:void 0},r}function Sh(r){var e=rl(),n=Wi(e);return Ns(e,r),n}function Gn(){var r=rl();return(!l0(r)||Wi(r).isOlderThan(Rs))&&Ns(r,new El),wo()?d6(r):Wi(r)}function d6(r){try{var e=rl().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return Wi(r);if(!l0(n)||Wi(n).isOlderThan(Rs)){var t=Wi(r).getStackTop();Ns(n,new El(t.client,Vn.clone(t.scope)))}return Wi(n)}catch{return Wi(r)}}function l0(r){return!!(r&&r.__SENTRY__&&r.__SENTRY__.hub)}function Wi(r){return ys("hub",()=>new El,r)}function Ns(r,e){if(!r)return!1;var n=r.__SENTRY__=r.__SENTRY__||{};return n.hub=e,!0}function o0(r,e){return Gn().captureException(r,{captureContext:e})}function m6(r){Gn().withScope(r)}var p6="7";function h6(r){var e=r.protocol?`${r.protocol}:`:"",n=r.port?`:${r.port}`:"";return`${e}//${r.host}${n}${r.path?`/${r.path}`:""}/api/`}function g6(r){return`${h6(r)}${r.projectId}/envelope/`}function b6(r){return m5({sentry_key:r.publicKey,sentry_version:p6})}function s0(r,e){return e||`${g6(r)}?${b6(r)}`}function f0(r){if(!r||!r.sdk)return;const{name:e,version:n}=r.sdk;return{name:e,version:n}}function v6(r,e){return e&&(r.sdk=r.sdk||{},r.sdk.name=r.sdk.name||e.name,r.sdk.version=r.sdk.version||e.version,r.sdk.integrations=[...r.sdk.integrations||[],...e.integrations||[]],r.sdk.packages=[...r.sdk.packages||[],...e.packages||[]]),r}function $6(r,e,n,t){var i=f0(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!t&&{dsn:Es(e)}},l="aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r];return So(o,[l])}function y6(r,e,n,t){var i=f0(n),o=r.type||"event";const{transactionSampling:l}=r.sdkProcessingMetadata||{},{method:s,rate:a}=l||{};v6(r,n&&n.sdk),delete r.sdkProcessingMetadata;var f=k6(r,i,t,e),u=[{type:o,sample_rates:[{id:s,rate:a}]},r];return So(f,[u])}function k6(r,e,n,t){var i=r.contexts&&r.contexts.baggage;const{environment:o,release:l,transaction:s,userid:a,usersegment:f}=i||{};return{event_id:r.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:Es(t)},...r.type==="transaction"&&r.contexts&&r.contexts.trace&&{trace:Rr({trace_id:r.contexts.trace.trace_id,public_key:t.publicKey,environment:o,release:l,transaction:s,...(a||f)&&{user:{id:a,segment:f}}})}}}var Th=[];function Ch(r){return r.reduce((e,n)=>(e.every(t=>n.name!==t.name)&&e.push(n),e),[])}function w6(r){var e=r.defaultIntegrations&&[...r.defaultIntegrations]||[],n=r.integrations;let t=[...Ch(e)];Array.isArray(n)?t=[...t.filter(l=>n.every(s=>s.name!==l.name)),...Ch(n)]:typeof n=="function"&&(t=n(t),t=Array.isArray(t)?t:[t]);var i=t.map(l=>l.name),o="Debug";return i.indexOf(o)!==-1&&t.push(...t.splice(i.indexOf(o),1)),t}function E6(r){var e={};return r.forEach(n=>{e[n.name]=n,Th.indexOf(n.name)===-1&&(n.setupOnce(Os,Gn),Th.push(n.name),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`Integration installed: ${n.name}`))}),e}var Ih="Not capturing exception because it's already been captured.";class qr{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(qr.prototype.__init.call(this),qr.prototype.__init2.call(this),qr.prototype.__init3.call(this),qr.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=c5(e.dsn);var n=s0(this._dsn,e.tunnel);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("No DSN provided, client will not do anything.")}captureException(e,n,t){if(vh(e)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(Ih);return}let i=n&&n.event_id;return this._process(this.eventFromException(e,n).then(o=>this._captureEvent(o,n,t)).then(o=>{i=o})),i}captureMessage(e,n,t,i){let o=t&&t.event_id;var l=Yg(e)?this.eventFromMessage(String(e),n,t):this.eventFromException(e,t);return this._process(l.then(s=>this._captureEvent(s,t,i)).then(s=>{o=s})),o}captureEvent(e,n,t){if(n&&n.originalException&&vh(n.originalException)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(Ih);return}let i=n&&n.event_id;return this._process(this._captureEvent(e,n,t).then(o=>{i=o})),i}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),xr(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var n=this._transport;return n?this._isClientDoneProcessing(e).then(t=>n.flush(e).then(i=>t&&i)):Ar(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=E6(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,n={}){if(this._dsn){let i=y6(e,this._dsn,this._options._metadata,this._options.tunnel);for(var t of n.attachments||[])i=W5(i,J5(t,j5([this,"access",o=>o._options,"access",o=>o.transportOptions,"optionalAccess",o=>o.textEncoder])));this._sendEnvelope(i)}}sendSession(e){if(this._dsn){var n=$6(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n){if(this._options.sendClientReports){var t=`${e}:${n}`;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`Adding outcome: "${t}"`),this._outcomes[t]=this._outcomes[t]+1||1}}_updateSessionFromEvent(e,n){let t=!1,i=!1;var o=n.exception&&n.exception.values;if(o){i=!0;for(var l of o){var s=l.mechanism;if(s&&s.handled===!1){t=!0;break}}}var a=e.status==="ok",f=a&&e.errors===0||a&&t;f&&(xr(e,{...t&&{status:"crashed"},errors:e.errors||Number(i||t)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ai(n=>{let t=0;var i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(t+=i,e&&t>=e&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,t){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var l={...e,event_id:e.event_id||n.event_id||Ji(),timestamp:e.timestamp||Eo()};this._applyClientOptions(l),this._applyIntegrationsMetadata(l);let s=t;n.captureContext&&(s=Vn.clone(s).update(n.captureContext));let a=Ar(l);if(s){var f=[...n.attachments||[],...s.getAttachments()];f.length&&(n.attachments=f),a=s.applyToEvent(l,n)}return a.then(u=>typeof i=="number"&&i>0?this._normalizeEvent(u,i,o):u)}_normalizeEvent(e,n,t){if(!e)return null;var i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Tr(o.data,n,t)}}))},...e.user&&{user:Tr(e.user,n,t)},...e.contexts&&{contexts:Tr(e.contexts,n,t)},...e.extra&&{extra:Tr(e.extra,n,t)}};return e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=Tr(e.contexts.trace.data,n,t))),e.spans&&(i.spans=e.spans.map(o=>(o.data&&(o.data=Tr(o.data,n,t)),o))),i}_applyClientOptions(e){var n=this.getOptions();const{environment:t,release:i,dist:o,maxValueLength:l=250}=n;"environment"in e||(e.environment="environment"in n?t:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=cl(e.message,l));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=cl(s.value,l));var a=e.request;a&&a.url&&(a.url=cl(a.url,l))}_applyIntegrationsMetadata(e){var n=Object.keys(this._integrations);n.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...n])}_captureEvent(e,n={},t){return this._processEvent(e,n,t).then(i=>i.event_id,i=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(i)})}_processEvent(e,n,t){const{beforeSend:i,sampleRate:o}=this.getOptions();if(!this._isEnabled())return fs(new ri("SDK not enabled, will not capture event."));var l=e.type==="transaction";return!l&&typeof o=="number"&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),fs(new ri(`Discarding event because it's not included in the random sample (sampling rate = ${o})`))):this._prepareEvent(e,n,t).then(s=>{if(s===null)throw this.recordDroppedEvent("event_processor",e.type||"error"),new ri("An event processor returned null, will not send event.");var a=n.data&&n.data.__sentry__===!0;if(a||l||!i)return s;var f=i(s,n);return S6(f)}).then(s=>{if(s===null)throw this.recordDroppedEvent("before_send",e.type||"error"),new ri("`beforeSend` returned `null`, will not send event.");var a=t&&t.getSession();return!l&&a&&this._updateSessionFromEvent(a,s),this.sendEvent(s,n),s}).then(null,s=>{throw s instanceof ri?s:(this.captureException(s,{data:{__sentry__:!0},originalException:s}),new ri(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${s}`))})}_process(e){this._numProcessing+=1,e.then(n=>(this._numProcessing-=1,n),n=>(this._numProcessing-=1,n))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[t,i]=n.split(":");return{reason:t,category:i,quantity:e[n]}})}}function S6(r){var e="`beforeSend` method has to return `null` or a valid event.";if(ws(r))return r.then(n=>{if(!(Qr(n)||n===null))throw new ri(e);return n},n=>{throw new ri(`beforeSend rejected with ${n}`)});if(!(Qr(r)||r===null))throw new ri(e);return r}function T6(r,e){e.debug===!0&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?at.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=Gn(),t=n.getScope();t&&t.update(e.initialScope);var i=new r(e);n.bindClient(i)}var C6=30;function a0(r,e,n=P5(r.bufferSize||C6)){let t={};var i=l=>n.drain(l);function o(l){var s=[];if(yh(l,(c,d)=>{var b=kh(d);e6(t,b)?r.recordDroppedEvent("ratelimit_backoff",b):s.push(c)}),s.length===0)return Ar();var a=So(l[0],s),f=c=>{yh(a,(d,b)=>{r.recordDroppedEvent(c,kh(b))})},u=()=>e({body:xg(a,r.textEncoder)}).then(c=>{c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),t=t6(t,c)},c=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error("Failed while sending event:",c),f("network_error")});return n.add(u).then(c=>c,c=>{if(c instanceof ri)return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error("Skipped sending event due to full buffer"),f("queue_overflow"),Ar();throw c})}return{send:o,flush:i}}var Oh="7.2.0";let Rh;class yl{constructor(){yl.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=yl.id}setupOnce(){Rh=Function.prototype.toString,Function.prototype.toString=function(...e){var n=Ts(this)||this;return Rh.apply(n,e)}}}yl.__initStatic();var I6=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Hr{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Hr.id}constructor(e={}){this._options=e,Hr.prototype.__init.call(this)}setupOnce(e,n){var t=i=>{var o=n();if(o){var l=o.getIntegration(Hr);if(l){var s=o.getClient(),a=s?s.getOptions():{},f=O6(l._options,a);return R6(i,f)?null:i}}return i};t.id=this.name,e(t)}}Hr.__initStatic();function O6(r={},e={}){return{allowUrls:[...r.allowUrls||[],...e.allowUrls||[]],denyUrls:[...r.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...r.ignoreErrors||[],...e.ignoreErrors||[],...I6],ignoreInternal:r.ignoreInternal!==void 0?r.ignoreInternal:!0}}function R6(r,e){return e.ignoreInternal&&M6(r)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Event dropped due to being internal Sentry Error.
Event: ${Or(r)}`),!0):N6(r,e.ignoreErrors)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Or(r)}`),!0):A6(r,e.denyUrls)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Or(r)}.
Url: ${bo(r)}`),!0):B6(r,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Or(r)}.
Url: ${bo(r)}`),!0)}function N6(r,e){return!e||!e.length?!1:D6(r).some(n=>e.some(t=>gl(n,t)))}function A6(r,e){if(!e||!e.length)return!1;var n=bo(r);return n?e.some(t=>gl(n,t)):!1}function B6(r,e){if(!e||!e.length)return!0;var n=bo(r);return n?e.some(t=>gl(n,t)):!0}function D6(r){if(r.message)return[r.message];if(r.exception)try{const{type:e="",value:n=""}=r.exception.values&&r.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error(`Cannot extract message for event ${Or(r)}`),[]}return[]}function M6(r){try{return r.exception.values[0].type==="SentryError"}catch{}return!1}function L6(r=[]){for(let n=r.length-1;n>=0;n--){var e=r[n];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function bo(r){try{let e;try{e=r.exception.values[0].stacktrace.frames}catch{}return e?L6(e):null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error(`Cannot extract url for event ${Or(r)}`),null}}function u0(r,e){var n=As(r,e),t={type:e&&e.name,value:U6(e)};return n.length&&(t.stacktrace={frames:n}),t.type===void 0&&t.value===""&&(t.value="Unrecoverable error caught"),t}function F6(r,e,n,t){var i={exception:{values:[{type:ks(e)?e.constructor.name:t?"UnhandledRejection":"Error",value:`Non-Error ${t?"promise rejection":"exception"} captured with keys: ${p5(e)}`}]},extra:{__serialized__:Zg(e)}};if(n){var o=As(r,n);o.length&&(i.exception.values[0].stacktrace={frames:o})}return i}function Wo(r,e){return{exception:{values:[u0(r,e)]}}}function As(r,e){var n=e.stacktrace||e.stack||"",t=j6(e);try{return r(n,t)}catch{}return[]}var P6=/Minified React error #\d+;/i;function j6(r){if(r){if(typeof r.framesToPop=="number")return r.framesToPop;if(P6.test(r.message))return 1}return 0}function U6(r){var e=r&&r.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function q6(r,e,n,t){var i=n&&n.syntheticException||void 0,o=Bs(r,e,i,t);return bl(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Ar(o)}function G6(r,e,n="info",t,i){var o=t&&t.syntheticException||void 0,l=_s(r,e,o,i);return l.level=n,t&&t.event_id&&(l.event_id=t.event_id),Ar(l)}function Bs(r,e,n,t,i){let o;if(Gg(e)&&e.error){var l=e;return Wo(r,l.error)}if(_h(e)||t5(e)){var s=e;if("stack"in e)o=Wo(r,e);else{var a=s.name||(_h(s)?"DOMError":"DOMException"),f=s.message?`${a}: ${s.message}`:a;o=_s(r,f,n,t),ss(o,f)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}if(qg(e))return Wo(r,e);if(Qr(e)||ks(e)){var u=e;return o=F6(r,u,n,i),bl(o,{synthetic:!0}),o}return o=_s(r,e,n,t),ss(o,`${e}`,void 0),bl(o,{synthetic:!0}),o}function _s(r,e,n,t){var i={message:e};if(t&&n){var o=As(r,n);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]})}return i}var c0="Breadcrumbs";class kl{static __initStatic(){this.id=c0}__init(){this.name=kl.id}constructor(e){kl.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&pi("console",H6),this.options.dom&&pi("dom",Y6(this.options.dom)),this.options.xhr&&pi("xhr",z6),this.options.fetch&&pi("fetch",W6),this.options.history&&pi("history",V6)}}kl.__initStatic();function Y6(r){function e(n){let t,i=typeof r=="object"?r.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{t=n.event.target?hl(n.event.target,i):hl(n.event,i)}catch{t="<unknown>"}t.length!==0&&Gn().addBreadcrumb({category:`ui.${n.name}`,message:t},{event:n.event,name:n.name,global:n.global})}return e}function H6(r){var e={category:"console",data:{arguments:r.args,logger:"console"},level:q5(r.level),message:mh(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)e.message=`Assertion failed: ${mh(r.args.slice(1)," ")||"console.assert"}`,e.data.arguments=r.args.slice(1);else return;Gn().addBreadcrumb(e,{input:r.args,level:r.level})}function z6(r){if(r.endTimestamp){if(r.xhr.__sentry_own_request__)return;const{method:e,url:n,status_code:t,body:i}=r.xhr.__sentry_xhr__||{};Gn().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:t},type:"http"},{xhr:r.xhr,input:i});return}}function W6(r){!r.endTimestamp||r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"||(r.error?Gn().addBreadcrumb({category:"fetch",data:r.fetchData,level:"error",type:"http"},{data:r.error,input:r.args}):Gn().addBreadcrumb({category:"fetch",data:{...r.fetchData,status_code:r.response.status},type:"http"},{input:r.args,response:r.response}))}function V6(r){var e=En();let n=r.from,t=r.to;var i=Ho(e.location.href);let o=Ho(n);var l=Ho(t);o.path||(o=i),i.protocol===l.protocol&&i.host===l.host&&(t=l.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),Gn().addBreadcrumb({category:"navigation",data:{from:n,to:t}})}var Ri=En();let Kl;function _0(){if(Kl)return Kl;if(os(Ri.fetch))return Kl=Ri.fetch.bind(Ri);var r=Ri.document;let e=Ri.fetch;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n);var t=n.contentWindow;t&&t.fetch&&(e=t.fetch),r.head.removeChild(n)}catch(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Kl=e.bind(Ri)}function J6(r,e){var n=Object.prototype.toString.call(Ri&&Ri.navigator)==="[object Navigator]",t=n&&typeof Ri.navigator.sendBeacon=="function";if(t){var i=Ri.navigator.sendBeacon.bind(Ri.navigator);i(r,e)}else if(Cs()){var o=_0();o(r,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,l=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error(l)})}}var Vo=En();class X6 extends qr{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Oh}],version:Oh},super(e),e.sendClientReports&&Vo.document&&Vo.document.addEventListener("visibilitychange",()=>{Vo.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return q6(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",t){return G6(this._options.stackParser,e,n,t,this._options.attachStacktrace)}sendEvent(e,n){var t=this.getIntegrationById(c0);t&&t.options&&t.options.sentry&&Gn().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:Or(e)},{event:e}),super.sendEvent(e,n)}_prepareEvent(e,n,t){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,t)}_flushOutcomes(){var e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("Sending outcomes:",e);var n=s0(this._dsn,this._options.tunnel),t=K5(e,this._options.tunnel&&Es(this._dsn));try{J6(n,xg(t))}catch(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.error(i)}}}function K6(r,e=_0()){function n(t){var i={body:t.body,method:"POST",referrerPolicy:"origin",headers:r.headers,...r.fetchOptions};return e(r.url,i).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}return a0(r,n)}var Z6=4;function Q6(r){function e(n){return new ai((t,i)=>{var o=new XMLHttpRequest;o.onerror=i,o.onreadystatechange=()=>{o.readyState===Z6&&t({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",r.url);for(var l in r.headers)Object.prototype.hasOwnProperty.call(r.headers,l)&&o.setRequestHeader(l,r.headers[l]);o.send(n.body)})}return a0(r,e)}var To="?",x6=30,eB=40,tB=50;function Ds(r,e,n,t){var i={filename:r,function:e,in_app:!0};return n!==void 0&&(i.lineno=n),t!==void 0&&(i.colno=t),i}var nB=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,iB=/\((\S*)(?::(\d+))(?::(\d+))\)/,rB=r=>{var e=nB.exec(r);if(e){var n=e[2]&&e[2].indexOf("eval")===0;if(n){var t=iB.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[i,o]=d0(e[1]||To,e[2]);return Ds(o,i,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},lB=[x6,rB],oB=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,sB=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,fB=r=>{var e=oB.exec(r);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1;if(n){var t=sB.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let i=e[3],o=e[1]||To;return[o,i]=d0(o,i),Ds(i,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},aB=[tB,fB],uB=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,cB=r=>{var e=uB.exec(r);return e?Ds(e[2],e[1]||To,+e[3],e[4]?+e[4]:void 0):void 0},_B=[eB,cB],dB=[lB,aB,_B],mB=Xg(...dB),d0=(r,e)=>{var n=r.indexOf("safari-extension")!==-1,t=r.indexOf("safari-web-extension")!==-1;return n||t?[r.indexOf("@")!==-1?r.split("@")[0]:To,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[r,e]};let ds=0;function m0(){return ds>0}function pB(){ds+=1,setTimeout(()=>{ds-=1})}function el(r,e={},n){if(typeof r!="function")return r;try{var t=r.__sentry_wrapped__;if(t)return t;if(Ts(r))return r}catch{return r}var i=function(){var s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var a=s.map(f=>el(f,e));return r.apply(this,a)}catch(f){throw pB(),m6(u=>{u.addEventProcessor(c=>(e.mechanism&&(ss(c,void 0,void 0),bl(c,e.mechanism)),c.extra={...c.extra,arguments:s},c)),o0(f)}),f}};try{for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}catch{}Vg(i,r),Ss(r,"__sentry_wrapped__",i);try{var l=Object.getOwnPropertyDescriptor(i,"name");l.configurable&&Object.defineProperty(i,"name",{get(){return r.name}})}catch{}return i}class Xi{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Xi.id}__init2(){this._installFunc={onerror:hB,onunhandledrejection:gB}}constructor(e){Xi.prototype.__init.call(this),Xi.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var n in e){var t=this._installFunc[n];t&&e[n]&&($B(n),t(),this._installFunc[n]=void 0)}}}Xi.__initStatic();function hB(){pi("error",r=>{const[e,n,t]=g0();if(!e.getIntegration(Xi))return;const{msg:i,url:o,line:l,column:s,error:a}=r;if(!(m0()||a&&a.__sentry_own_request__)){var f=a===void 0&&Zr(i)?vB(i,o,l,s):p0(Bs(n,a||i,void 0,t,!1),o,l,s);f.level="error",h0(e,a,f,"onerror")}})}function gB(){pi("unhandledrejection",r=>{const[e,n,t]=g0();if(!e.getIntegration(Xi))return;let i=r;try{"reason"in r?i=r.reason:"detail"in r&&"reason"in r.detail&&(i=r.detail.reason)}catch{}if(m0()||i&&i.__sentry_own_request__)return!0;var o=Yg(i)?bB(i):Bs(n,i,void 0,t,!0);o.level="error",h0(e,i,o,"onunhandledrejection")})}function bB(r){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(r)}`}]}}}function vB(r,e,n,t){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=Gg(r)?r.message:r,l="Error";var s=o.match(i);s&&(l=s[1],o=s[2]);var a={exception:{values:[{type:l,value:o}]}};return p0(a,e,n,t)}function p0(r,e,n,t){var i=r.exception=r.exception||{},o=i.values=i.values||[],l=o[0]=o[0]||{},s=l.stacktrace=l.stacktrace||{},a=s.frames=s.frames||[],f=isNaN(parseInt(t,10))?void 0:t,u=isNaN(parseInt(n,10))?void 0:n,c=Zr(e)&&e.length>0?e:o5();return a.length===0&&a.push({colno:f,filename:c,function:"?",in_app:!0,lineno:u}),r}function $B(r){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`Global Handler attached: ${r}`)}function h0(r,e,n,t){bl(n,{handled:!1,type:t}),r.captureEvent(n,{originalException:e})}function g0(){var r=Gn(),e=r.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[r,n.stackParser,n.attachStacktrace]}var yB=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class wl{static __initStatic(){this.id="TryCatch"}__init(){this.name=wl.id}constructor(e){wl.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){var e=En();this._options.setTimeout&&li(e,"setTimeout",Nh),this._options.setInterval&&li(e,"setInterval",Nh),this._options.requestAnimationFrame&&li(e,"requestAnimationFrame",kB),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&li(XMLHttpRequest.prototype,"send",wB);var n=this._options.eventTarget;if(n){var t=Array.isArray(n)?n:yB;t.forEach(EB)}}}wl.__initStatic();function Nh(r){return function(...e){var n=e[0];return e[0]=el(n,{mechanism:{data:{function:Zi(r)},handled:!0,type:"instrument"}}),r.apply(this,e)}}function kB(r){return function(e){return r.apply(this,[el(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Zi(r)},handled:!0,type:"instrument"}})])}}function wB(r){return function(...e){var n=this,t=["onload","onerror","onprogress","onreadystatechange"];return t.forEach(i=>{i in n&&typeof n[i]=="function"&&li(n,i,function(o){var l={mechanism:{data:{function:i,handler:Zi(o)},handled:!0,type:"instrument"}},s=Ts(o);return s&&(l.mechanism.data.handler=Zi(s)),el(o,l)})}),r.apply(this,e)}}function EB(r){var e=En(),n=e[r]&&e[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(li(n,"addEventListener",function(t){return function(i,o,l){try{typeof o.handleEvent=="function"&&(o.handleEvent=el(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Zi(o),target:r},handled:!0,type:"instrument"}}))}catch{}return t.apply(this,[i,el(o,{mechanism:{data:{function:"addEventListener",handler:Zi(o),target:r},handled:!0,type:"instrument"}}),l])}}),li(n,"removeEventListener",function(t){return function(i,o,l){var s=o;try{var a=s&&s.__sentry_wrapped__;a&&t.call(this,i,a,l)}catch{}return t.call(this,i,s,l)}}))}var SB="cause",TB=5;class zr{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=zr.id}constructor(e={}){zr.prototype.__init.call(this),this._key=e.key||SB,this._limit=e.limit||TB}setupOnce(){var e=Gn().getClient();!e||Os((n,t)=>{var i=Gn().getIntegration(zr);return i?CB(e.getOptions().stackParser,i._key,i._limit,n,t):n})}}zr.__initStatic();function CB(r,e,n,t,i){if(!t.exception||!t.exception.values||!i||!Yi(i.originalException,Error))return t;var o=b0(r,n,i.originalException,e);return t.exception.values=[...o,...t.exception.values],t}function b0(r,e,n,t,i=[]){if(!Yi(n[t],Error)||i.length+1>=e)return i;var o=u0(r,n[t]);return b0(r,e,n[t],t,[o,...i])}var Sr=En();class Wr{constructor(){Wr.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Wr.id}setupOnce(){Os(e=>{if(Gn().getIntegration(Wr)){if(!Sr.navigator&&!Sr.location&&!Sr.document)return e;var n=e.request&&e.request.url||Sr.location&&Sr.location.href;const{referrer:o}=Sr.document||{},{userAgent:l}=Sr.navigator||{};var t={...e.request&&e.request.headers,...o&&{Referer:o},...l&&{"User-Agent":l}},i={...n&&{url:n},headers:t};return{...e,request:i}}return e})}}Wr.__initStatic();class Vr{constructor(){Vr.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Vr.id}setupOnce(e,n){var t=i=>{var o=n().getIntegration(Vr);if(o){try{if(IB(i,o._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=i}return o._previousEvent=i}return i};t.id=this.name,e(t)}}Vr.__initStatic();function IB(r,e){return e?!!(OB(r,e)||RB(r,e)):!1}function OB(r,e){var n=r.message,t=e.message;return!(!n&&!t||n&&!t||!n&&t||n!==t||!$0(r,e)||!v0(r,e))}function RB(r,e){var n=Ah(e),t=Ah(r);return!(!n||!t||n.type!==t.type||n.value!==t.value||!$0(r,e)||!v0(r,e))}function v0(r,e){let n=Bh(r),t=Bh(e);if(!n&&!t)return!0;if(n&&!t||!n&&t||(n=n,t=t,t.length!==n.length))return!1;for(let l=0;l<t.length;l++){var i=t[l],o=n[l];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function $0(r,e){let n=r.fingerprint,t=e.fingerprint;if(!n&&!t)return!0;if(n&&!t||!n&&t)return!1;n=n,t=t;try{return n.join("")===t.join("")}catch{return!1}}function Ah(r){return r.exception&&r.exception.values&&r.exception.values[0]}function Bh(r){var e=r.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var NB=[new Hr,new yl,new wl,new kl,new Xi,new zr,new Vr,new Wr];function AB(r={}){if(r.defaultIntegrations===void 0&&(r.defaultIntegrations=NB),r.release===void 0){var e=En();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(r.release=e.SENTRY_RELEASE.id)}r.autoSessionTracking===void 0&&(r.autoSessionTracking=!0),r.sendClientReports===void 0&&(r.sendClientReports=!0);var n={...r,stackParser:g5(r.stackParser||mB),integrations:w6(r),transport:r.transport||(Cs()?K6:Q6)};T6(X6,n),r.autoSessionTracking&&BB()}function Dh(r){r.startSession({ignoreDuration:!0}),r.captureSession()}function BB(){var r=En(),e=r.document;if(typeof e=="undefined"){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var n=Gn();!n.captureSession||(Dh(n),pi("history",({from:t,to:i})=>{t===void 0||t===i||Dh(Gn())}))}function DB(r){let e,n,t,i,o,l,s,a;const f=[PB,FB,LB],u=[];function c(d,b){return d[1]?0:globalThis!=null&&globalThis.process?1:2}return e=c(r),n=u[e]=f[e](r),{c(){n.c(),t=M(),i=p("details"),o=p("summary"),o.textContent="Raw JSON",l=M(),s=p("pre"),s.textContent=`${JSON.stringify(r[3],null,2)}`},m(d,b){u[e].m(d,b),g(d,t,b),g(d,i,b),m(i,o),m(i,l),m(i,s),a=!0},p(d,b){let $=e;e=c(d),e===$?u[e].p(d,b):(ce(),E(u[$],1,1,()=>{u[$]=null}),_e(),n=u[e],n?n.p(d,b):(n=u[e]=f[e](d),n.c()),v(n,1),n.m(t.parentNode,t))},i(d){a||(v(n),a=!0)},o(d){E(n),a=!1},d(d){u[e].d(d),d&&h(t),d&&h(i)}}}function MB(r){let e,n=r[0].type+"",t,i,o=r[0].id+"",l;return{c(){e=T("Unknown obj: "),t=T(n),i=T("/"),l=T(o)},m(s,a){g(s,e,a),g(s,t,a),g(s,i,a),g(s,l,a)},p(s,a){a&1&&n!==(n=s[0].type+"")&&ne(t,n),a&1&&o!==(o=s[0].id+"")&&ne(l,o)},i:de,o:de,d(s){s&&h(e),s&&h(t),s&&h(i),s&&h(l)}}}function LB(r){let e,n;return e=new YN({props:{onError:r[2],$$slots:{default:[UB]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&64&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function FB(r){var l;let e,n,t;var i=(l=r[4][r[3].type])!=null?l:_o;function o(s){return{props:{item:s[3]}}}return i&&(e=new i(o(r))),{c(){e&&J(e.$$.fragment),n=ge()},m(s,a){e&&W(e,s,a),g(s,n,a),t=!0},p(s,a){var f;if(i!==(i=(f=s[4][s[3].type])!=null?f:_o)){if(e){ce();const u=e;E(u.$$.fragment,1,0,()=>{V(u,1)}),_e()}i?(e=new i(o(s)),J(e.$$.fragment),v(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}},i(s){t||(e&&v(e.$$.fragment,s),t=!0)},o(s){e&&E(e.$$.fragment,s),t=!1},d(s){s&&h(n),e&&V(e,s)}}}function PB(r){let e,n,t,i,o,l,s,a,f=r[1].message+"",u,c,d,b=r[1].stack+"",$;return{c(){e=p("section"),n=p("h1"),n.textContent="Error",t=M(),i=p("p"),i.textContent=`There was a problem displaying this page. Not all versions of Cataclysm
        are supported by the Guide currently. Try selecting a different build.`,o=M(),l=p("p"),s=p("details"),a=p("summary"),u=T(f),c=M(),d=p("pre"),$=T(b)},m(k,w){g(k,e,w),m(e,n),m(e,t),m(e,i),m(e,o),m(e,l),m(l,s),m(s,a),m(a,u),m(s,c),m(s,d),m(d,$)},p(k,w){w&2&&f!==(f=k[1].message+"")&&ne(u,f),w&2&&b!==(b=k[1].stack+"")&&ne($,b)},i:de,o:de,d(k){k&&h(e)}}}function jB(r){let e,n;return e=new HA({props:{item:r[3]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p:de,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function UB(r){var f;let e=/obsolet/.test(r[3].__filename),n,t,i,o,l=e&&jB(r);var s=(f=r[4][r[3].type])!=null?f:_o;function a(u){return{props:{item:u[3]}}}return s&&(t=new s(a(r))),{c(){l&&l.c(),n=M(),t&&J(t.$$.fragment),i=ge()},m(u,c){l&&l.m(u,c),g(u,n,c),t&&W(t,u,c),g(u,i,c),o=!0},p(u,c){var d;if(e&&l.p(u,c),s!==(s=(d=u[4][u[3].type])!=null?d:_o)){if(t){ce();const b=t;E(b.$$.fragment,1,0,()=>{V(b,1)}),_e()}s?(t=new s(a(u)),J(t.$$.fragment),v(t.$$.fragment,1),W(t,i.parentNode,i)):t=null}},i(u){o||(v(l),t&&v(t.$$.fragment,u),o=!0)},o(u){E(l),t&&E(t.$$.fragment,u),o=!1},d(u){l&&l.d(u),u&&h(n),u&&h(i),t&&V(t,u)}}}function qB(r){let e,n,t,i;const o=[MB,DB],l=[];function s(a,f){return a[3]?1:0}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,[f]){n.p(a,f)},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function GB(r,e){return e==="json_flag"?{id:r,type:e}:null}function YB(r,e,n){var f;let{item:t}=e,{data:i}=e;ps("data",i);let o=null;function l(u){n(1,o=u),o0(u,{contexts:{item:{type:t.type,id:t.id}}})}let s=(f=i.byId(t.type,t.id))!=null?f:GB(t.id,t.type);const a={MONSTER:fT,AMMO:ii,GUN:ii,ARMOR:ii,PET_ARMOR:ii,TOOL:ii,TOOLMOD:ii,TOOL_ARMOR:ii,BOOK:ii,COMESTIBLE:ii,ENGINE:ii,WHEEL:ii,GUNMOD:ii,MAGAZINE:ii,BATTERY:ii,GENERIC:ii,BIONIC_ITEM:ii,material:ZI,ammunition_type:iO,tool_quality:_O,furniture:VO,skill:xO,proficiency:rR,json_flag:bR,fault:DR,vitamin:PR,vehicle_part:xR,martial_art:MN,mutation:ZN,mutation_category:jg,mutation_type:rA,vehicle:dA,terrain:EA,weapon_category:BA,construction_group:LA,achievement:v1,conduct:v1,bionic:ZA};return r.$$set=u=>{"item"in u&&n(0,t=u.item),"data"in u&&n(5,i=u.data)},[t,o,l,s,a,i]}class HB extends wt{constructor(e){super(),kt(this,e,YB,qB,vt,{item:0,data:5})}}var y0={exports:{}};(function(r){((e,n)=>{r.exports?r.exports=n():e.fuzzysort=n()})(al,e=>{var n=(z,X)=>{if(z=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!z||!X)return D;var Y=u(z);P(X)||(X=f(X));var ee=Y.bitflags;return(ee&X._bitflags)!==ee?D:d(Y,X)},t=(z,X,Y)=>{if(z=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:X?X[0]:D}];if(!z)return Y&&Y.all?c(z,X,Y):re;var ee=u(z),pe=ee.bitflags;ee.containsSpace;var ie=Y&&Y.threshold||Q,H=Y&&Y.limit||U,K=0,se=0,x=X.length;if(Y&&Y.key)for(var oe=Y.key,$e=0;$e<x;++$e){var He=X[$e],Me=j(He,oe);if(!!Me&&(P(Me)||(Me=f(Me)),(pe&Me._bitflags)===pe)){var be=d(ee,Me);be!==D&&(be.score<ie||(be={target:be.target,_targetLower:"",_targetLowerCodes:D,_nextBeginningIndexes:D,_bitflags:0,score:be.score,_indexes:be._indexes,obj:He},K<H?(Z.add(be),++K):(++se,be.score>Z.peek().score&&Z.replaceTop(be))))}}else if(Y&&Y.keys)for(var Ee=Y.scoreFn||F,Ie=Y.keys,we=Ie.length,$e=0;$e<x;++$e){for(var He=X[$e],nt=new Array(we),Ge=0;Ge<we;++Ge){var oe=Ie[Ge],Me=j(He,oe);if(!Me){nt[Ge]=D;continue}P(Me)||(Me=f(Me)),(pe&Me._bitflags)!==pe?nt[Ge]=D:nt[Ge]=d(ee,Me)}nt.obj=He;var Oe=Ee(nt);Oe!==D&&(Oe<ie||(nt.score=Oe,K<H?(Z.add(nt),++K):(++se,Oe>Z.peek().score&&Z.replaceTop(nt))))}else for(var $e=0;$e<x;++$e){var Me=X[$e];if(!!Me&&(P(Me)||(Me=f(Me)),(pe&Me._bitflags)===pe)){var be=d(ee,Me);be!==D&&(be.score<ie||(K<H?(Z.add(be),++K):(++se,be.score>Z.peek().score&&Z.replaceTop(be))))}}if(K===0)return re;for(var Ne=new Array(K),$e=K-1;$e>=0;--$e)Ne[$e]=Z.poll();return Ne.total=K+se,Ne},i=(z,X,Y)=>{if(typeof X=="function")return o(z,X);if(z===D)return D;X===void 0&&(X="<b>"),Y===void 0&&(Y="</b>");var ee="",pe=0,ie=!1,H=z.target,K=H.length,se=z._indexes;se=se.slice(0,se.len).sort(($e,He)=>$e-He);for(var x=0;x<K;++x){var oe=H[x];if(se[pe]===x){if(++pe,ie||(ie=!0,ee+=X),pe===se.length){ee+=oe+Y+H.substr(x+1);break}}else ie&&(ie=!1,ee+=Y);ee+=oe}return ee},o=(x,X)=>{if(x===D)return D;var Y=x.target,ee=Y.length,pe=x._indexes;pe=pe.slice(0,pe.len).sort((He,Me)=>He-Me);for(var ie="",H=0,K=0,se=!1,x=[],oe=0;oe<ee;++oe){var $e=Y[oe];if(pe[K]===oe){if(++K,se||(se=!0,x.push(ie),ie=""),K===pe.length){ie+=$e,x.push(X(ie,H++)),ie="",x.push(Y.substr(oe+1));break}}else se&&(se=!1,x.push(X(ie,H++)),ie="");ie+=$e}return x},l=z=>z._indexes.slice(0,z._indexes.len).sort((X,Y)=>X-Y),s=z=>{typeof z!="string"&&(z="");var X=$(z);return{target:z,_targetLower:X._lower,_targetLowerCodes:X.lowerCodes,_nextBeginningIndexes:D,_bitflags:X.bitflags,score:D,_indexes:[0],obj:D}},a=z=>{typeof z!="string"&&(z=""),z=z.trim();var X=$(z),Y=[];if(X.containsSpace){var ee=z.split(/\s+/);ee=[...new Set(ee)];for(var pe=0;pe<ee.length;pe++)if(ee[pe]!==""){var ie=$(ee[pe]);Y.push({lowerCodes:ie.lowerCodes,_lower:ee[pe].toLowerCase(),containsSpace:!1})}}return{lowerCodes:X.lowerCodes,bitflags:X.bitflags,containsSpace:X.containsSpace,_lower:X._lower,spaceSearches:Y}},f=z=>{if(z.length>999)return s(z);var X=C.get(z);return X!==void 0||(X=s(z),C.set(z,X)),X},u=z=>{if(z.length>999)return a(z);var X=I.get(z);return X!==void 0||(X=a(z),I.set(z,X)),X},c=(z,X,Y)=>{var ee=[];ee.total=X.length;var pe=Y&&Y.limit||U;if(Y&&Y.key)for(var ie=0;ie<X.length;ie++){var H=X[ie],K=j(H,Y.key);if(!!K){P(K)||(K=f(K)),K.score=Q,K._indexes.len=0;var se=K;if(se={target:se.target,_targetLower:"",_targetLowerCodes:D,_nextBeginningIndexes:D,_bitflags:0,score:K.score,_indexes:D,obj:H},ee.push(se),ee.length>=pe)return ee}}else if(Y&&Y.keys)for(var ie=0;ie<X.length;ie++){for(var H=X[ie],x=new Array(Y.keys.length),oe=Y.keys.length-1;oe>=0;--oe){var K=j(H,Y.keys[oe]);if(!K){x[oe]=D;continue}P(K)||(K=f(K)),K.score=Q,K._indexes.len=0,x[oe]=K}if(x.obj=H,x.score=Q,ee.push(x),ee.length>=pe)return ee}else for(var ie=0;ie<X.length;ie++){var K=X[ie];if(!!K&&(P(K)||(K=f(K)),K.score=Q,K._indexes.len=0,ee.push(K),ee.length>=pe))return ee}return ee},d=(z,X)=>{if(z.containsSpace)return b(z,X);for(var Y=z._lower,ee=z.lowerCodes,pe=ee[0],ie=X._targetLowerCodes,H=ee.length,K=ie.length,$e=0,se=0,x=0;;){var oe=pe===ie[se];if(oe){if(A[x++]=se,++$e,$e===H)break;pe=ee[$e]}if(++se,se>=K)return D}var $e=0,He=!1,Me=0,be=X._nextBeginningIndexes;be===D&&(be=X._nextBeginningIndexes=w(X.target)),se=A[0]===0?0:be[A[0]-1];var Ee=0;if(se!==K)for(;;)if(se>=K){if($e<=0||(++Ee,Ee>200))break;--$e;var Ie=L[--Me];se=be[Ie]}else{var oe=ee[$e]===ie[se];if(oe){if(L[Me++]=se,++$e,$e===H){He=!0;break}++se}else se=be[se]}var we=X._targetLower.indexOf(Y,A[0]),nt=~we;if(nt&&!He)for(var Ge=0;Ge<x;++Ge)A[Ge]=we+Ge;var Oe=!1;nt&&(Oe=X._nextBeginningIndexes[we-1]===we);{if(He)var Ne=L,Ot=Me;else var Ne=A,Ot=x;for(var ke=0,Pe=0,Ge=1;Ge<H;++Ge)Ne[Ge]-Ne[Ge-1]!==1&&(ke-=Ne[Ge],++Pe);var mt=Ne[H-1]-Ne[0]-(H-1);if(ke-=(12+mt)*Pe,Ne[0]!==0&&(ke-=Ne[0]*10),!He)ke*=1e3;else{for(var We=1,Ge=be[0];Ge<K;Ge=be[Ge])++We;We>24&&(ke*=(We-24)*10)}nt&&(ke/=10),Oe&&(ke/=10),ke-=K-H,X.score=ke;for(var Ge=0;Ge<Ot;++Ge)X._indexes[Ge]=Ne[Ge];return X._indexes.len=Ot,X}},b=(z,X)=>{for(var Y=new Set,ee=0,pe=D,ie=0,H=z.spaceSearches,x=0;x<H.length;++x){var K=H[x];if(pe=d(K,X),pe===D)return D;ee+=pe.score,pe._indexes[0]<ie&&(ee-=ie-pe._indexes[0]),ie=pe._indexes[0];for(var se=0;se<pe._indexes.len;++se)Y.add(pe._indexes[se])}pe.score=ee;var x=0;for(let oe of Y)pe._indexes[x++]=oe;return pe._indexes.len=x,pe},$=z=>{for(var X=z.length,Y=z.toLowerCase(),ee=[],pe=0,ie=!1,H=0;H<X;++H){var K=ee[H]=Y.charCodeAt(H);if(K===32){ie=!0;continue}var se=K>=97&&K<=122?K-97:K>=48&&K<=57?26:K<=127?30:31;pe|=1<<se}return{lowerCodes:ee,bitflags:pe,containsSpace:ie,_lower:Y}},k=z=>{for(var X=z.length,Y=[],ee=0,pe=!1,ie=!1,H=0;H<X;++H){var K=z.charCodeAt(H),se=K>=65&&K<=90,x=se||K>=97&&K<=122||K>=48&&K<=57,oe=se&&!pe||!ie||!x;pe=se,ie=x,oe&&(Y[ee++]=H)}return Y},w=z=>{for(var X=z.length,Y=k(z),ee=[],pe=Y[0],ie=0,H=0;H<X;++H)pe>H?ee[H]=pe:(pe=Y[++ie],ee[H]=pe===void 0?X:pe);return ee},S=()=>{C.clear(),I.clear(),A=[],L=[]},C=new Map,I=new Map,A=[],L=[],F=z=>{for(var X=Q,Y=z.length,ee=0;ee<Y;++ee){var pe=z[ee];if(pe!==D){var ie=pe.score;ie>X&&(X=ie)}}return X===Q?D:X},j=(z,X)=>{var Y=z[X];if(Y!==void 0)return Y;var ee=X;Array.isArray(X)||(ee=X.split("."));for(var pe=ee.length,ie=-1;z&&++ie<pe;)z=z[ee[ie]];return z},P=z=>typeof z=="object",U=1/0,Q=-U,re=[];re.total=0;var D=null,G=z=>{var X=[],Y=0,ee={},pe=ie=>{for(var H=0,K=X[H],se=1;se<Y;){var x=se+1;H=se,x<Y&&X[x].score<X[se].score&&(H=x),X[H-1>>1]=X[H],se=1+(H<<1)}for(var oe=H-1>>1;H>0&&K.score<X[oe].score;oe=(H=oe)-1>>1)X[H]=X[oe];X[H]=K};return ee.add=ie=>{var H=Y;X[Y++]=ie;for(var K=H-1>>1;H>0&&ie.score<X[K].score;K=(H=K)-1>>1)X[H]=X[K];X[H]=ie},ee.poll=ie=>{if(Y!==0){var H=X[0];return X[0]=X[--Y],pe(),H}},ee.peek=ie=>{if(Y!==0)return X[0]},ee.replaceTop=ie=>{X[0]=ie,pe()},ee},Z=G();return{single:n,go:t,highlight:i,prepare:s,indexes:l,cleanup:S}})})(y0);function Mh(r,e,n){const t=r.slice();return t[6]=e[n],t}function Lh(r,e,n){const t=r.slice();return t[9]=e[n],t}function zB(r){let e;return{c(){e=p("pre"),e.textContent="..."},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function WB(r){let e,n,t=[...r[1].keys()],i=[];for(let s=0;s<t.length;s+=1)i[s]=Uh(Mh(r,t,s));const o=s=>E(i[s],1,1,()=>{i[s]=null});let l=null;return t.length||(l=Fh()),{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=ge(),l&&l.c()},m(s,a){for(let f=0;f<i.length;f+=1)i[f].m(s,a);g(s,e,a),l&&l.m(s,a),n=!0},p(s,a){if(a&3){t=[...s[1].keys()];let f;for(f=0;f<t.length;f+=1){const u=Mh(s,t,f);i[f]?(i[f].p(u,a),v(i[f],1)):(i[f]=Uh(u),i[f].c(),v(i[f],1),i[f].m(e.parentNode,e))}for(ce(),f=t.length;f<i.length;f+=1)o(f);_e(),!t.length&&l?l.p(s,a):t.length?l&&(l.d(1),l=null):(l=Fh(),l.c(),l.m(e.parentNode,e))}},i(s){if(!n){for(let a=0;a<t.length;a+=1)v(i[a]);n=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)E(i[a]);n=!1},d(s){Ce(i,s),s&&h(e),l&&l.d(s)}}}function Fh(r){let e;return{c(){e=p("em"),e.textContent="No results."},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function Ph(r){let e;return{c(){e=p("em"),e.textContent="(obsolete)",Rt(e,"color","var(--cata-color-gray)")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function jh(r){let e,n,t,i,o=Fe(r[0]._flatten(r[9]))+"",l,s,a,f=/obsolet/.test(r[9].__filename),u;n=new Mt({props:{item:r[0]._flatten(r[9])}});let c=f&&Ph();return{c(){e=p("li"),J(n.$$.fragment),t=M(),i=p("a"),l=T(o),a=M(),c&&c.c(),ye(i,"href",s="#/"+hi(r[9].type)+"/"+r[9].id)},m(d,b){g(d,e,b),W(n,e,null),m(e,t),m(e,i),m(i,l),m(e,a),c&&c.m(e,null),u=!0},p(d,b){const $={};b&3&&($.item=d[0]._flatten(d[9])),n.$set($),(!u||b&3)&&o!==(o=Fe(d[0]._flatten(d[9]))+"")&&ne(l,o),(!u||b&2&&s!==(s="#/"+hi(d[9].type)+"/"+d[9].id))&&ye(i,"href",s),b&2&&(f=/obsolet/.test(d[9].__filename)),f?c||(c=Ph(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(d){u||(v(n.$$.fragment,d),u=!0)},o(d){E(n.$$.fragment,d),u=!1},d(d){d&&h(e),V(n),c&&c.d()}}}function Uh(r){let e,n=r[6].replace(/_/g," ")+"",t,i,o,l,s,a=r[1].get(r[6]),f=[];for(let c=0;c<a.length;c+=1)f[c]=jh(Lh(r,a,c));const u=c=>E(f[c],1,1,()=>{f[c]=null});return{c(){e=p("h1"),t=T(n),i=M(),o=p("ul");for(let c=0;c<f.length;c+=1)f[c].c();l=M()},m(c,d){g(c,e,d),m(e,t),g(c,i,d),g(c,o,d);for(let b=0;b<f.length;b+=1)f[b].m(o,null);m(o,l),s=!0},p(c,d){if((!s||d&2)&&n!==(n=c[6].replace(/_/g," ")+"")&&ne(t,n),d&3){a=c[1].get(c[6]);let b;for(b=0;b<a.length;b+=1){const $=Lh(c,a,b);f[b]?(f[b].p($,d),v(f[b],1)):(f[b]=jh($),f[b].c(),v(f[b],1),f[b].m(o,l))}for(ce(),b=a.length;b<f.length;b+=1)u(b);_e()}},i(c){if(!s){for(let d=0;d<a.length;d+=1)v(f[d]);s=!0}},o(c){f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)E(f[d]);s=!1},d(c){c&&h(e),c&&h(i),c&&h(o),Ce(f,c)}}}function VB(r){let e,n,t,i;const o=[WB,zB],l=[];function s(a,f){return a[1]?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,[f]){let u=e;e=s(a),e===u?l[e].p(a,f):(ce(),E(l[u],1,1,()=>{l[u]=null}),_e(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),v(n,1),n.m(t.parentNode,t))},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}const JB=/[\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f\u3131-\ud79d]/;function XB(r,e,n){let t;const i=new Set(["item","monster","furniture","vehicle_part","tool_quality","martial_art","mutation","vehicle","terrain"]);let{data:o}=e,l,{search:s}=e;function a(f){const u=y0.exports.go(f,l,{limit:100,keys:["id","name","variant_id"],threshold:-1e4}),c=new Map;for(const{obj:d}of u){const b=d.type;if(!i.has(b)||(c.has(b)||c.set(b,[]),c.get(b).some(k=>k.id===d.id)))continue;const $=o.byId(b,d.id);c.get(b).push($)}return c}return r.$$set=f=>{"data"in f&&n(0,o=f.data),"search"in f&&n(2,s=f.search)},r.$$.update=()=>{var f;r.$$.dirty&1&&ps("data",o),r.$$.dirty&1&&(l=[...(f=o==null?void 0:o.all())!=null?f:[]].filter(u=>"id"in u&&typeof u.id=="string"&&i.has(hi(u.type))).filter(u=>u.type==="mutation"?!/Fake\d$/.test(u.id):!0).flatMap(u=>[{id:u.id,name:Fe(u),type:hi(u.type)}].concat("variants"in u?u.variants.map(c=>({id:u.id,variant_id:c.id,name:qn(c.name),type:hi(u.type)})):[]))),r.$$.dirty&5&&n(1,t=s&&(s.length>=2||JB.test(s))&&o&&a(s)),r.$$.dirty&4&&history.replaceState({search:s},"")},[o,t,s]}class KB extends wt{constructor(e){super(),kt(this,e,XB,VB,vt,{data:0,search:2})}}function qh(r,e,n){const t=r.slice();return t[9]=e[n],t}function ZB(r){let e,n,t,i,o,l=r[9]&&xB(r);return t=new xt({props:{items:r[3].get(r[9]).filter(r[5]),limit:r[4].length===1?1/0:10,$$slots:{default:[e8,({item:s})=>({12:s}),({item:s})=>s?4096:0]},$$scope:{ctx:r}}}),{c(){e=p("section"),l&&l.c(),n=M(),J(t.$$.fragment),i=M()},m(s,a){g(s,e,a),l&&l.m(e,null),m(e,n),W(t,e,null),m(e,i),o=!0},p(s,a){s[9]&&l.p(s,a);const f={};a&12289&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){o||(v(t.$$.fragment,s),o=!0)},o(s){E(t.$$.fragment,s),o=!1},d(s){s&&h(e),l&&l.d(),V(t)}}}function QB(r){let e,n;return e=new jg({props:{item:r[1].byId("mutation_category",r[9]),inCatalog:!0}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&2&&(o.item=t[1].byId("mutation_category",t[9])),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function xB(r){let e,n=r[9]+"",t;return{c(){e=p("h1"),t=T(n)},m(i,o){g(i,e,o),m(e,t)},p:de,d(i){i&&h(e)}}}function Gh(r){let e,n;return e=new Mt({props:{item:r[12]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i&4096&&(o.item=t[12]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function e8(r){let e,n,t,i=(r[0]==="item"||r[0]==="terrain"||r[0]==="furniture"||r[0]==="monster"||r[0]==="vehicle_part")&&Gh(r);return n=new Se({props:{type:r[2],id:r[12].id}}),{c(){i&&i.c(),e=M(),J(n.$$.fragment)},m(o,l){i&&i.m(o,l),g(o,e,l),W(n,o,l),t=!0},p(o,l){o[0]==="item"||o[0]==="terrain"||o[0]==="furniture"||o[0]==="monster"||o[0]==="vehicle_part"?i?(i.p(o,l),l&1&&v(i,1)):(i=Gh(o),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(ce(),E(i,1,1,()=>{i=null}),_e());const s={};l&4096&&(s.id=o[12].id),n.$set(s)},i(o){t||(v(i),v(n.$$.fragment,o),t=!0)},o(o){E(i),E(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&h(e),V(n,o)}}}function Yh(r){let e,n,t,i,o;const l=[QB,ZB],s=[];function a(f,u){return u&3&&(e=null),e==null&&(e=!!(f[0]==="mutation"&&f[9]&&f[1].byId("mutation_category",f[9]))),e?0:1}return n=a(r,-1),t=s[n]=l[n](r),{c(){t.c(),i=ge()},m(f,u){s[n].m(f,u),g(f,i,u),o=!0},p(f,u){let c=n;n=a(f,u),n===c?s[n].p(f,u):(ce(),E(s[c],1,1,()=>{s[c]=null}),_e(),t=s[n],t?t.p(f,u):(t=s[n]=l[n](f),t.c()),v(t,1),t.m(i.parentNode,i))},i(f){o||(v(t),o=!0)},o(f){E(t),o=!1},d(f){s[n].d(f),f&&h(i)}}}function t8(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=Yh(qh(r,l,f));const a=f=>E(s[f],1,1,()=>{s[f]=null});return{c(){e=p("h1"),n=T(r[0]),t=M();for(let f=0;f<s.length;f+=1)s[f].c();i=ge()},m(f,u){g(f,e,u),m(e,n),g(f,t,u);for(let c=0;c<s.length;c+=1)s[c].m(f,u);g(f,i,u),o=!0},p(f,[u]){if((!o||u&1)&&ne(n,f[0]),u&4159){l=f[4];let c;for(c=0;c<l.length;c+=1){const d=qh(f,l,c);s[c]?(s[c].p(d,u),v(s[c],1)):(s[c]=Yh(d),s[c].c(),v(s[c],1),s[c].m(i.parentNode,i))}for(ce(),c=l.length;c<s.length;c+=1)a(c);_e()}},i(f){if(!o){for(let u=0;u<l.length;u+=1)v(s[u]);o=!0}},o(f){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)E(s[u]);o=!1},d(f){f&&h(e),f&&h(t),Ce(s,f),f&&h(i)}}}function n8(r){return r.category?r.category.toLowerCase():r.type==="GUN"?"guns":r.type==="MAGAZINE"?"magazines":r.type==="AMMO"?"ammo":r.type==="TOOL"?"tools":r.type==="ARMOR"?"clothing":r.type==="COMESTIBLE"?r.comestible_type==="MED"?"drugs":"food":r.type==="BOOK"?"books":r.type==="GUNMOD"?"mods":r.type==="BIONIC_ITEM"?"bionics":r.bashing||r.cutting?"weapons":"other"}function i8(r,e,n){var d,b;let{type:t}=e,{data:i}=e,o=t;ps("data",i);const l=i.byType(t).filter($=>$.id);l.sort(($,k)=>Fe($).localeCompare(Fe(k)));function s($){return Fe(i.byId("ITEM_CATEGORY",$))}const a=(d={monster:$=>{var k;return[(k=$.default_faction)!=null?k:""]},item:$=>[`${$.type} (${s(n8($))})`],vehicle_part:$=>{var k;return(k=$.categories)!=null?k:[""]},mutation:$=>{var k;return(k=$.category)!=null?k:[""]}}[t])!=null?d:()=>[""],f=$s(l,a),u=[...f.keys()].sort(),c=(b={mutation:$=>!/Fake\d$/.test($.id)}[t])!=null?b:()=>!0;return r.$$set=$=>{"type"in $&&n(0,t=$.type),"data"in $&&n(1,i=$.data)},[t,i,o,f,u,c]}class r8 extends wt{constructor(e){super(),kt(this,e,i8,t8,vt,{type:0,data:1})}}var l8="./assets/dont_panic.c90f0625.png",k0="Expected a function",Hh=0/0,o8="[object Symbol]",s8=/^\s+|\s+$/g,f8=/^[-+]0x[0-9a-f]+$/i,a8=/^0b[01]+$/i,u8=/^0o[0-7]+$/i,c8=parseInt,_8=typeof al=="object"&&al&&al.Object===Object&&al,d8=typeof self=="object"&&self&&self.Object===Object&&self,m8=_8||d8||Function("return this")(),p8=Object.prototype,h8=p8.toString,g8=Math.max,b8=Math.min,Jo=function(){return m8.Date.now()};function v8(r,e,n){var t,i,o,l,s,a,f=0,u=!1,c=!1,d=!0;if(typeof r!="function")throw new TypeError(k0);e=zh(e)||0,vo(n)&&(u=!!n.leading,c="maxWait"in n,o=c?g8(zh(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function b(F){var j=t,P=i;return t=i=void 0,f=F,l=r.apply(P,j),l}function $(F){return f=F,s=setTimeout(S,e),u?b(F):l}function k(F){var j=F-a,P=F-f,U=e-j;return c?b8(U,o-P):U}function w(F){var j=F-a,P=F-f;return a===void 0||j>=e||j<0||c&&P>=o}function S(){var F=Jo();if(w(F))return C(F);s=setTimeout(S,k(F))}function C(F){return s=void 0,d&&t?b(F):(t=i=void 0,l)}function I(){s!==void 0&&clearTimeout(s),f=0,t=a=i=s=void 0}function A(){return s===void 0?l:C(Jo())}function L(){var F=Jo(),j=w(F);if(t=arguments,i=this,a=F,j){if(s===void 0)return $(a);if(c)return s=setTimeout(S,e),b(a)}return s===void 0&&(s=setTimeout(S,e)),l}return L.cancel=I,L.flush=A,L}function $8(r,e,n){var t=!0,i=!0;if(typeof r!="function")throw new TypeError(k0);return vo(n)&&(t="leading"in n?!!n.leading:t,i="trailing"in n?!!n.trailing:i),v8(r,e,{leading:t,maxWait:e,trailing:i})}function vo(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function y8(r){return!!r&&typeof r=="object"}function k8(r){return typeof r=="symbol"||y8(r)&&h8.call(r)==o8}function zh(r){if(typeof r=="number")return r;if(k8(r))return Hh;if(vo(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=vo(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(s8,"");var n=a8.test(r);return n||u8.test(r)?c8(r.slice(2),n?2:8):f8.test(r)?Hh:+r}var w8=$8;const{window:Wh}=tS;function Vh(r,e,n){const t=r.slice();return t[25]=e[n],t}function E8(r){const e=r.slice(),n=e[6]==="latest"?e[3][0].build_number:e[6];return e[24]=n,e}function Jh(r,e,n){const t=r.slice();return t[28]=e[n].name,t[11]=e[n].url,t}function Xh(r,e,n){const t=r.slice();return t[31]=e[n],t[33]=n,t}function Kh(r,e,n){const t=r.slice();return t[31]=e[n],t}function S8(r){let e,n,t,i,o,l,s,a,f,u,c,d,b,$,k,w=r[5]&&Zh(r);return{c(){e=p("img"),t=M(),i=p("p"),i.innerHTML=`The <strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the
      zombie survival roguelike game
      <a href="https://cataclysmdda.org/">Cataclysm: Dark Days Ahead</a>. You
      can search for things in the game, like items (e.g. a
      <a href="#/item/flashlight">flashlight</a>), furniture (e.g. a
      <a href="#/furniture/f_table">table</a>), or monsters (e.g. a
      <a href="#/monster/mon_zombie">zombie</a>), and find useful information
      about them. The data in the Guide comes directly from the JSON files in
      the game itself.`,o=M(),l=p("p"),s=T(`The Guide stores all its data locally and is offline-capable, so you can
      take it with you whereever you go. There's nothing to do to make the Guide
      work offline, just visit the page and it will work even without internet
      access, as long as you've visited it once before.
      `),w&&w.c(),a=M(),f=p("p"),f.textContent=`More popular than the Celestial Home Care Omnibus, better selling than
      Fifty-three More Things to do in Zero Gravity, and more controversial than
      Oolon Colluphid's trilogy of philosophical blockbusters Where God Went
      Wrong, Some More of God's Greatest Mistakes and Who is this God Person
      Anyway?`,u=M(),c=p("p"),c.innerHTML=`The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a>
      by <a href="https://www.nornagon.net">nornagon</a>. If you notice any
      problems, please
      <a href="https://github.com/nornagon/cdda-guide/issues">file an issue</a>!`,d=M(),b=p("h2"),b.textContent="Catalogs",$=M(),k=p("ul"),k.innerHTML=`<li><a href="#/item">Items</a></li> 
      <li><a href="#/monster">Monsters</a></li> 
      <li><a href="#/furniture">Furniture</a></li> 
      <li><a href="#/terrain">Terrain</a></li> 
      <li><a href="#/vehicle_part">Vehicle Parts</a></li> 
      <li><a href="#/tool_quality">Qualities</a></li> 
      <li><a href="#/mutation">Mutations</a></li> 
      <li><a href="#/martial_art">Martial Arts</a></li> 
      <li><a href="#/json_flag">Flags</a></li> 
      <li><a href="#/achievement">Achievements</a> /
        <a href="#/conduct">Conducts</a></li>`,WE(e.src,n=l8)||ye(e,"src",n),ye(e,"height","200"),ye(e,"width","343"),Rt(e,"float","right"),ye(e,"alt","The words 'Don't Panic' in big friendly letters"),Rt(f,"font-style","italic"),Rt(f,"color","var(--cata-color-gray)")},m(S,C){g(S,e,C),g(S,t,C),g(S,i,C),g(S,o,C),g(S,l,C),m(l,s),w&&w.m(l,null),g(S,a,C),g(S,f,C),g(S,u,C),g(S,c,C),g(S,d,C),g(S,b,C),g(S,$,C),g(S,k,C)},p(S,C){S[5]?w?w.p(S,C):(w=Zh(S),w.c(),w.m(l,null)):w&&(w.d(1),w=null)},i:de,o:de,d(S){S&&h(e),S&&h(t),S&&h(i),S&&h(o),S&&h(l),w&&w.d(),S&&h(a),S&&h(f),S&&h(u),S&&h(c),S&&h(d),S&&h(b),S&&h($),S&&h(k)}}}function T8(r){let e=r[4],n,t,i=Qh(r);return{c(){i.c(),n=ge()},m(o,l){i.m(o,l),g(o,n,l),t=!0},p(o,l){l[0]&16&&vt(e,e=o[4])?(ce(),E(i,1,1,de),_e(),i=Qh(o),i.c(),v(i,1),i.m(n.parentNode,n)):i.p(o,l)},i(o){t||(v(i),t=!0)},o(o){E(i),t=!1},d(o){o&&h(n),i.d(o)}}}function C8(r){let e,n,t,i;const o=[O8,I8],l=[];function s(a,f){return a[1]?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?l[e].p(a,f):(ce(),E(l[u],1,1,()=>{l[u]=null}),_e(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),v(n,1),n.m(t.parentNode,t))},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function Zh(r){let e,n,t,i,o;return{c(){e=T("It's also "),n=p("button"),n.textContent="installable",t=T(", so you can pop it out of your browser and use it like a regular app."),ye(n,"class","disclosure")},m(l,s){g(l,e,s),g(l,n,s),g(l,t,s),i||(o=Oi(n,"click",r[15]),i=!0)},p:de,d(l){l&&h(e),l&&h(n),l&&h(t),i=!1,o()}}}function Qh(r){let e,n;return e=new KB({props:{data:r[1],search:r[4]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&2&&(o.data=t[1]),i[0]&16&&(o.search=t[4]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function I8(r){let e;return{c(){e=p("em"),e.textContent="Loading...",Rt(e,"color","var(--cata-color-gray)")},m(n,t){g(n,e,t)},p:de,i:de,o:de,d(n){n&&h(e)}}}function O8(r){let e=r[2],n,t,i=xh(r);return{c(){i.c(),n=ge()},m(o,l){i.m(o,l),g(o,n,l),t=!0},p(o,l){l[0]&4&&vt(e,e=o[2])?(ce(),E(i,1,1,de),_e(),i=xh(o),i.c(),v(i,1),i.m(n.parentNode,n)):i.p(o,l)},i(o){t||(v(i),t=!0)},o(o){E(i),t=!1},d(o){o&&h(n),i.d(o)}}}function R8(r){let e,n;return e=new r8({props:{type:r[2].type,data:r[1]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&4&&(o.type=t[2].type),i[0]&2&&(o.data=t[1]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function N8(r){let e,n;return e=new HB({props:{item:r[2],data:r[1]}}),{c(){J(e.$$.fragment)},m(t,i){W(e,t,i),n=!0},p(t,i){const o={};i[0]&4&&(o.item=t[2]),i[0]&2&&(o.data=t[1]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function xh(r){let e,n,t,i;const o=[N8,R8],l=[];function s(a,f){return a[2].id?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ge()},m(a,f){l[e].m(a,f),g(a,t,f),i=!0},p(a,f){let u=e;e=s(a),e===u?l[e].p(a,f):(ce(),E(l[u],1,1,()=>{l[u]=null}),_e(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),v(n,1),n.m(t.parentNode,t))},i(a){i||(v(n),i=!0)},o(a){E(n),i=!1},d(a){l[e].d(a),a&&h(t)}}}function A8(r){let e;return{c(){e=p("em"),e.textContent="(loading...)",Rt(e,"color","var(--cata-color-gray)")},m(n,t){g(n,e,t)},p:de,d(n){n&&h(e)}}}function B8(r){let e;function n(o,l){if(o[3])return M8;if(o[1])return D8}let t=n(r),i=t&&t(r);return{c(){i&&i.c(),e=ge()},m(o,l){i&&i.m(o,l),g(o,e,l)},p(o,l){t===(t=n(o))&&i?i.p(o,l):(i&&i.d(1),i=t&&t(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i&&i.d(o),o&&h(e)}}}function D8(r){let e,n,t=r[1].build_number+"",i,o;return{c(){e=p("select"),n=p("option"),i=T(t),n.__value=o=r[1].build_number,n.value=n.__value,e.disabled=!0},m(l,s){g(l,e,s),m(e,n),m(n,i)},p(l,s){s[0]&2&&t!==(t=l[1].build_number+"")&&ne(i,t),s[0]&10&&o!==(o=l[1].build_number)&&(n.__value=o,n.value=n.__value)},d(l){l&&h(e)}}}function M8(r){let e,n,t,i,o,l,s=r[3].filter(og),a=[];for(let c=0;c<s.length;c+=1)a[c]=eg(Kh(r,s,c));let f=r[3].filter(sg),u=[];for(let c=0;c<f.length;c+=1)u[c]=tg(Xh(r,f,c));return{c(){e=p("select"),n=p("optgroup");for(let c=0;c<a.length;c+=1)a[c].c();t=p("optgroup");for(let c=0;c<u.length;c+=1)u[c].c();ye(n,"label","Stable"),ye(t,"label","Experimental")},m(c,d){var b,$;g(c,e,d),m(e,n);for(let k=0;k<a.length;k+=1)a[k].m(n,null);m(e,t);for(let k=0;k<u.length;k+=1)u[k].m(t,null);ml(e,($=(b=r[1])==null?void 0:b.build_number)!=null?$:r[6]==="latest"?r[3][0].build_number:r[6]),o||(l=Oi(e,"change",r[16]),o=!0)},p(c,d){var b,$,k,w;if(d[0]&8){s=c[3].filter(og);let S;for(S=0;S<s.length;S+=1){const C=Kh(c,s,S);a[S]?a[S].p(C,d):(a[S]=eg(C),a[S].c(),a[S].m(n,null))}for(;S<a.length;S+=1)a[S].d(1);a.length=s.length}if(d[0]&8){f=c[3].filter(sg);let S;for(S=0;S<f.length;S+=1){const C=Xh(c,f,S);u[S]?u[S].p(C,d):(u[S]=tg(C),u[S].c(),u[S].m(t,null))}for(;S<u.length;S+=1)u[S].d(1);u.length=f.length}d[0]&10&&i!==(i=($=(b=c[1])==null?void 0:b.build_number)!=null?$:c[6]==="latest"?c[3][0].build_number:c[6])&&ml(e,(w=(k=c[1])==null?void 0:k.build_number)!=null?w:c[6]==="latest"?c[3][0].build_number:c[6])},d(c){c&&h(e),Ce(a,c),Ce(u,c),o=!1,l()}}}function eg(r){let e,n=r[31].build_number+"",t,i;return{c(){e=p("option"),t=T(n),e.__value=i=r[31].build_number,e.value=e.__value},m(o,l){g(o,e,l),m(e,t)},p(o,l){l[0]&8&&n!==(n=o[31].build_number+"")&&ne(t,n),l[0]&8&&i!==(i=o[31].build_number)&&(e.__value=i,e.value=e.__value)},d(o){o&&h(e)}}}function L8(r){let e;return{c(){e=T("\xA0(latest)")},m(n,t){g(n,e,t)},d(n){n&&h(e)}}}function tg(r){let e,n=r[31].build_number+"",t,i,o=r[33]===0&&L8();return{c(){e=p("option"),t=T(n),o&&o.c(),e.__value=i=r[31].build_number,e.value=e.__value},m(l,s){g(l,e,s),m(e,t),o&&o.m(e,null)},p(l,s){s[0]&8&&n!==(n=l[31].build_number+"")&&ne(t,n),s[0]&8&&i!==(i=l[31].build_number)&&(e.__value=i,e.value=e.__value)},d(l){l&&h(e),o&&o.d()}}}function ng(r){let e,n=r[28]+"",t,i;return{c(){e=p("option"),t=T(n),e.__value=i=r[11],e.value=e.__value},m(o,l){g(o,e,l),m(e,t)},p:de,d(o){o&&h(e)}}}function F8(r){let e,n;return{c(){e=p("select"),n=p("option"),n.textContent="Loading...",n.__value="Loading...",n.value=n.__value,e.disabled=!0},m(t,i){g(t,e,i),m(e,n)},p:de,d(t){t&&h(e)}}}function ig(r){var a,f;let e,n,t,i;function o(...u){return r[18](r[24],...u)}let l=[...(f=(a=r[3].find(o))==null?void 0:a.langs)!=null?f:[]].sort(fg),s=[];for(let u=0;u<l.length;u+=1)s[u]=rg(Vh(r,l,u));return{c(){e=p("select"),n=p("option"),n.textContent="English";for(let u=0;u<s.length;u+=1)s[u].c();n.__value="en",n.value=n.__value},m(u,c){var d;g(u,e,c),m(e,n);for(let b=0;b<s.length;b+=1)s[b].m(e,null);ml(e,(d=r[7])!=null?d:"en"),t||(i=Oi(e,"change",r[19]),t=!0)},p(u,c){var d,b;if(r=u,c[0]&72){l=[...(b=(d=r[3].find(o))==null?void 0:d.langs)!=null?b:[]].sort(fg);let $;for($=0;$<l.length;$+=1){const k=Vh(r,l,$);s[$]?s[$].p(k,c):(s[$]=rg(k),s[$].c(),s[$].m(e,null))}for(;$<s.length;$+=1)s[$].d(1);s.length=l.length}},d(u){u&&h(e),Ce(s,u),t=!1,i()}}}function rg(r){let e,n=lg(r[25])+"",t,i;return{c(){e=p("option"),t=T(n),e.__value=i=r[25],e.value=e.__value},m(o,l){g(o,e,l),m(e,t)},p(o,l){l[0]&8&&n!==(n=lg(o[25])+"")&&ne(t,n),l[0]&8&&i!==(i=o[25])&&(e.__value=i,e.value=e.__value)},d(o){o&&h(e)}}}function P8(r){let e,n,t,i,o,l,s,a,f,u,c,d,b,$,k,w,S,C,I,A,L,F,j,P,U,Q;const re=[C8,T8,S8],D=[];function G(se,x){return se[2]?0:se[4]?1:2}c=G(r),d=D[c]=re[c](r);function Z(se,x){return se[1]||se[3]?B8:A8}let z=Z(r),X=z(r),Y=r[8],ee=[];for(let se=0;se<Y.length;se+=1)ee[se]=ng(Jh(r,Y,se));function pe(se,x){return se[3]?ig:F8}function ie(se,x){return x===ig?E8(se):se}let H=pe(r),K=H(ie(r,H));return{c(){e=p("header"),n=p("nav"),t=p("div"),i=p("strong"),o=p("a"),o.textContent="Hitchhiker's Guide to the Cataclysm",l=M(),s=p("div"),a=p("input"),f=M(),u=p("main"),d.c(),b=M(),$=p("p"),k=T(`Build:
    `),X.c(),w=M(),S=p("span"),C=T(`Tiles:
      
      `),I=p("select"),A=p("option"),A.textContent="None (ASCII)";for(let se=0;se<ee.length;se+=1)ee[se].c();L=M(),F=p("span"),j=T(`Language:
      `),K.c(),ye(o,"href","#"),ye(t,"class","title svelte-16u5hjb"),Rt(a,"margin","0"),Rt(a,"width","100%"),ye(a,"placeholder","Search..."),ye(a,"id","search"),ye(s,"class","search svelte-16u5hjb"),ye(n,"class","svelte-16u5hjb"),ye(e,"class","svelte-16u5hjb"),A.__value="",A.value=A.__value,Rt(S,"white-space","nowrap"),Rt(F,"white-space","nowrap"),ye(u,"class","svelte-16u5hjb")},m(se,x){g(se,e,x),m(e,n),m(n,t),m(t,i),m(i,o),m(n,l),m(n,s),m(s,a),zs(a,r[4]),g(se,f,x),g(se,u,x),D[c].m(u,null),m(u,b),m(u,$),m($,k),X.m($,null),m($,w),m($,S),m(S,C),m(S,I),m(I,A);for(let oe=0;oe<ee.length;oe+=1)ee[oe].m(I,null);ml(I,r[0]),m($,L),m($,F),m(F,j),K.m(F,null),P=!0,U||(Q=[Oi(Wh,"hashchange",r[9]),Oi(Wh,"keydown",U8),Oi(o,"click",r[13]),Oi(a,"input",r[14]),Oi(a,"input",r[10]),Oi(I,"change",r[17])],U=!0)},p(se,x){x[0]&16&&a.value!==se[4]&&zs(a,se[4]);let oe=c;if(c=G(se),c===oe?D[c].p(se,x):(ce(),E(D[oe],1,1,()=>{D[oe]=null}),_e(),d=D[c],d?d.p(se,x):(d=D[c]=re[c](se),d.c()),v(d,1),d.m(u,b)),z===(z=Z(se))&&X?X.p(se,x):(X.d(1),X=z(se),X&&(X.c(),X.m($,w))),x[0]&256){Y=se[8];let $e;for($e=0;$e<Y.length;$e+=1){const He=Jh(se,Y,$e);ee[$e]?ee[$e].p(He,x):(ee[$e]=ng(He),ee[$e].c(),ee[$e].m(I,null))}for(;$e<ee.length;$e+=1)ee[$e].d(1);ee.length=Y.length}(!P||x[0]&257)&&ml(I,se[0]),H===(H=pe(se))&&K?K.p(ie(se,H),x):(K.d(1),K=H(ie(se,H)),K&&(K.c(),K.m(F,null)))},i(se){P||(v(d),P=!0)},o(se){E(d),P=!1},d(se){se&&h(e),se&&h(f),se&&h(u),D[c].d(),X.d(),Ce(ee,se),K.d(),U=!1,nl(Q)}}}function j8(r){const e=new URL(location.href);return e.hash=r,e.toString()}function U8(r){r.key==="/"&&document.activeElement.id!=="search"&&(document.getElementById("search").focus(),r.preventDefault())}function lg(r){var e;return(e={en:"English",ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",cs:"\u010Cesk\xFD Jazyk",da:"Dansk",de:"Deutsch",el:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",es_AR:"Espa\xF1ol (Argentina)",es_ES:"Espa\xF1ol (Espa\xF1a)",fr:"Fran\xE7ais",hu:"Magyar",id:"Bahasa Indonesia",is:"\xCDslenska",it_IT:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",nb:"Norsk",nl:"Nederlands",pl:"Polski",pt_BR:"Portugu\xEAs (Brasil)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sr:"\u0421\u0440\u043F\u0441\u043A\u0438",tr:"T\xFCrk\xE7e",uk_UA:"\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0438\u0439",zh_CN:"\u4E2D\u6587 (\u5929\u671D)",zh_TW:"\u4E2D\u6587 (\u53F0\u7063)"}[r])!=null?e:Intl!=null&&Intl.DisplayNames?new Intl.DisplayNames([r.replace(/_/,"-")],{type:"language"}).of(r.replace(/_/,"-")):r}const og=r=>!r.prerelease,sg=r=>r.prerelease,fg=(r,e)=>r.localeCompare(e);function q8(r,e,n){var re;let t,i;bg(r,xs,D=>n(1,i=D));let o=null,l=null;fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/builds.json").then(D=>D.json()).then(D=>{n(3,l=D)}).catch(D=>{console.error(D)});const s=new URL(location.href),a=(re=s.searchParams.get("v"))!=null?re:"latest",f=s.searchParams.get("lang");xs.setVersion(a,f);const u=[{name:"AltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Altica"},{name:"BrownLikeBears",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/BrownLikeBears"},{name:"Chibi_Ultica",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/ChibiUltica"},{name:"Cuteclysm(Alpha)",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Cuteclysm"},{name:"Hollow Moon",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/HollowMoon"},{name:"MSXotto+",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/MshockXotto%2B"},{name:"NeoDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/NeoDaysTileset"},{name:"RetroDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/RetroDaysTileset"},{name:"UltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/UltimateCataclysm"}],c=D=>D==="null"||!D?"":D;function d(){try{return c(localStorage.getItem("cdda-guide:tileset"))}catch{return null}}function b(D){try{localStorage.setItem("cdda-guide:tileset",c(D))}catch{}}let $=d();function k(){const D=window.location.hash.slice(1);let G;if(G=/^\/([^\/]+)(?:\/(.+))?$/.exec(D)){const[,Z,z]=G;Z==="search"?(n(2,o=null),n(4,w=decodeURIComponent(z!=null?z:""))):n(2,o={type:Z,id:z?decodeURIComponent(z):""}),window.scrollTo(0,0)}else n(2,o=null),n(4,w="")}XE(k);let w="";const S=w8(history.replaceState.bind(history),100),C=()=>{o?history.pushState(null,"",location.href.replace(/#.*$/,"")):S(null,"",j8("/search/"+w)),n(2,o=null)};let I;window.addEventListener("beforeinstallprompt",D=>{n(5,I=D)});const A=()=>n(4,w="");function L(){w=this.value,n(4,w)}const F=D=>{D.preventDefault(),I.prompt()},j=D=>{const G=new URL(location.href),Z=D.currentTarget.value;Z===l[0].build_number?G.searchParams.delete("v"):G.searchParams.set("v",Z),location.href=G.toString()},P=D=>{n(0,$=D.currentTarget.value)},U=(D,G)=>G.build_number===D,Q=D=>{const G=new URL(location.href),Z=D.currentTarget.value;Z==="en"?G.searchParams.delete("lang"):G.searchParams.set("lang",Z),location.href=G.toString()};return r.$$.update=()=>{r.$$.dirty[0]&1&&b($),r.$$.dirty[0]&3&&n(12,t=i?$.replace("{version}",i.build_number):null),r.$$.dirty[0]&4096&&Cg.setURL(t)},[$,i,o,l,w,I,a,f,u,k,C,s,t,A,L,F,j,P,U,Q]}class G8 extends wt{constructor(e){super(),kt(this,e,q8,P8,vt,{},null,[-1,-1])}}function Ms(r){var e=Gn().getClient(),n=r||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function Co(r){var e=r||Gn(),n=e.getScope();return n&&n.getTransaction()}function Zn(r){return r/1e3}function Y8(){pi("error",ag),pi("unhandledrejection",ag)}function ag(){var r=Co();if(r){var e="internal_error";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] Transaction: ${e} -> Global error occured`),r.setStatus(e)}}class Io{__init(){this.spans=[]}constructor(e=1e3){Io.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Hi{__init2(){this.traceId=Ji()}__init3(){this.spanId=Ji().substring(16)}__init4(){this.startTimestamp=vl()}__init5(){this.tags={}}__init6(){this.data={}}constructor(e){if(Hi.prototype.__init2.call(this),Hi.prototype.__init3.call(this),Hi.prototype.__init4.call(this),Hi.prototype.__init5.call(this),Hi.prototype.__init6.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){var n=new Hi({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));var n=H8(e);return n!=="unknown_error"&&this.setStatus(n),this}isSuccess(){return this.status==="ok"}finish(e){this.endTimestamp=typeof e=="number"?e:vl()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return Rr({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=zi(e.data,()=>({})),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=zi(e.spanId,()=>this.spanId),this.startTimestamp=zi(e.startTimestamp,()=>this.startTimestamp),this.status=e.status,this.tags=zi(e.tags,()=>({})),this.traceId=zi(e.traceId,()=>this.traceId),this}getTraceContext(){return Rr({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}getBaggage(){var e=this.transaction&&this.transaction.metadata.baggage,n=!e||t0(e)&&cs(e)?this._getBaggageWithSentryValues(e):e;return n}toJSON(){return Rr({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}_getBaggageWithSentryValues(e=e0({})){var n=this.transaction&&this.transaction._hub||Gn(),t=n.getClient();const{environment:i,release:o}=t&&t.getOptions()||{};return i&&wh(e,"environment",i),o&&wh(e,"release",o),n0(e),e}}function H8(r){if(r<400&&r>=100)return"ok";if(r>=400&&r<500)switch(r){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(r>=500&&r<600)switch(r){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class Oo extends Hi{__init(){this._measurements={}}constructor(e,n){super(e),Oo.prototype.__init.call(this),this._hub=n||Gn(),this.name=e.name||"",this.metadata=e.metadata||{},this._trimEnd=e.trimEnd,this.transaction=this}setName(e){this.name=e}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Io(e)),this.spanRecorder.add(this)}setMeasurement(e,n,t=""){this._measurements[e]={value:n,unit:t}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),this.sampled!==!0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var n=this._hub.getClient();n&&n.recordDroppedEvent("sample_rate","transaction");return}var t=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&l.endTimestamp):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce((l,s)=>l.endTimestamp&&s.endTimestamp?l.endTimestamp>s.endTimestamp?l:s:l).endTimestamp);var i={contexts:{trace:this.getTraceContext(),baggage:l6(this.getBaggage())},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},o=Object.keys(this._measurements).length>0;return o&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(i)}}toContext(){var e=super.toContext();return Rr({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=zi(e.name,()=>""),this._trimEnd=e.trimEnd,this}}var w0=1e3,E0=3e4,z8=5e3;class W8 extends Io{constructor(e,n,t,i){super(i),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=t}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp=typeof n=="number"?n:vl(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class Gr extends Oo{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,n,t=w0,i=E0,o=!1){super(e,n),this._idleHub=n,this._idleTimeout=t,this._finalTimeout=i,this._onScope=o,Gr.prototype.__init.call(this),Gr.prototype.__init2.call(this),Gr.prototype.__init3.call(this),Gr.prototype.__init4.call(this),o&&(ug(n),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(l=>l.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(e=vl()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(var n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var i=t.startTimestamp<e;return i||(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),i}),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] No active IdleTransaction");return this._onScope&&ug(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){var n=i=>{this._finished||this._pushActivity(i)},t=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new W8(n,t,this.spanId,e),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(e)},this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var n=vl()+this._idleTimeout/1e3;this._startIdleTimeout(n)}}_beat(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},z8)}}function ug(r){var e=r.getScope();if(e){var n=e.getTransaction();n&&e.setSpan(void 0)}}function V8(){var r=this.getScope();if(r){var e=r.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function S0(r,e,n){if(!Ms(e))return r.sampled=!1,r;if(r.sampled!==void 0)return r.setMetadata({transactionSampling:{method:"explicitly_set"}}),r;let t;return typeof e.tracesSampler=="function"?(t=e.tracesSampler(n),r.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(t)}})):n.parentSampled!==void 0?(t=n.parentSampled,r.setMetadata({transactionSampling:{method:"inheritance"}})):(t=e.tracesSampleRate,r.setMetadata({transactionSampling:{method:"client_rate",rate:Number(t)}})),J8(t)?t?(r.sampled=Math.random()<t,r.sampled?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] starting ${r.op} transaction - ${r.name}`),r):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(t)})`),r)):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),r.sampled=!1,r):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("[Tracing] Discarding transaction because of invalid sample rate."),r.sampled=!1,r)}function J8(r){return Hg(r)||!(typeof r=="number"||typeof r=="boolean")?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),!1):r<0||r>1?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${r}.`),!1):!0}function X8(r,e){var n=this.getClient(),t=n&&n.getOptions()||{};let i=new Oo(r,this);return i=S0(i,t,{parentSampled:r.parentSampled,transactionContext:r,...e}),i.sampled&&i.initSpanRecorder(t._experiments&&t._experiments.maxSpans),i}function K8(r,e,n,t,i,o){var l=r.getClient(),s=l&&l.getOptions()||{};let a=new Gr(e,r,n,t,i);return a=S0(a,s,{parentSampled:e.parentSampled,transactionContext:e,...o}),a.sampled&&a.initSpanRecorder(s._experiments&&s._experiments.maxSpans),a}function Z8(){var r=rl();!r.__SENTRY__||(r.__SENTRY__.extensions=r.__SENTRY__.extensions||{},r.__SENTRY__.extensions.startTransaction||(r.__SENTRY__.extensions.startTransaction=X8),r.__SENTRY__.extensions.traceHeaders||(r.__SENTRY__.extensions.traceHeaders=V8))}function Q8(){var r=rl();if(!!r.__SENTRY__){var e={mongodb(){var t=Vi(Gi,"./integrations/node/mongo");return new t.Mongo},mongoose(){var t=Vi(Gi,"./integrations/node/mongo");return new t.Mongo({mongoose:!0})},mysql(){var t=Vi(Gi,"./integrations/node/mysql");return new t.Mysql},pg(){var t=Vi(Gi,"./integrations/node/postgres");return new t.Postgres}},n=Object.keys(e).filter(t=>!!xA(t)).map(t=>{try{return e[t]()}catch{return}}).filter(t=>t);n.length>0&&(r.__SENTRY__.integrations=[...r.__SENTRY__.integrations||[],...n])}}function x8(){Z8(),wo()&&Q8(),Y8()}var Zl=En();function eD(){Zl&&Zl.document?Zl.document.addEventListener("visibilitychange",()=>{var r=Co();if(Zl.document.hidden&&r){var e="cancelled";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${r.op}`),r.status||r.setStatus(e),r.setTag("visibilitychange","document.hidden"),r.finish()}}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Ls=(r,e,n)=>{let t;return i=>{e.value>=0&&(i||n)&&(e.delta=e.value-(t||0),(e.delta||t===void 0)&&(t=e.value,r(e)))}},tD=()=>`v2-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Fs=(r,e)=>({name:r,value:zi(e,()=>-1),delta:0,entries:[],id:tD()}),Ps=(r,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(r)){if(r==="first-input"&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(t=>t.getEntries().map(e));return n.observe({type:r,buffered:!0}),n}}catch{}},Ro=(r,e)=>{var n=t=>{(t.type==="pagehide"||En().document.visibilityState==="hidden")&&(r(t),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},nD=(r,e)=>{var n=Fs("CLS",0);let t,i=0,o=[];var l=a=>{if(a&&!a.hadRecentInput){var f=o[0],u=o[o.length-1];i&&o.length!==0&&a.startTime-u.startTime<1e3&&a.startTime-f.startTime<5e3?(i+=a.value,o.push(a)):(i=a.value,o=[a]),i>n.value&&(n.value=i,n.entries=o,t&&t())}},s=Ps("layout-shift",l);s&&(t=Ls(r,n,e),Ro(()=>{s.takeRecords().map(l),t(!0)}))};let io=-1;var iD=()=>En().document.visibilityState==="hidden"?0:1/0,rD=()=>{Ro(({timeStamp:r})=>{io=r},!0)},js=()=>(io<0&&(io=iD(),rD()),{get firstHiddenTime(){return io}}),lD=(r,e)=>{var n=js(),t=Fs("FID");let i;var o=s=>{i&&s.startTime<n.firstHiddenTime&&(t.value=s.processingStart-s.startTime,t.entries.push(s),i(!0))},l=Ps("first-input",o);l&&(i=Ls(r,t,e),Ro(()=>{l.takeRecords().map(o),l.disconnect()},!0))},cg={},oD=(r,e)=>{var n=js(),t=Fs("LCP");let i;var o=a=>{var f=a.startTime;f<n.firstHiddenTime&&(t.value=f,t.entries.push(a)),i&&i()},l=Ps("largest-contentful-paint",o);if(l){i=Ls(r,t,e);var s=()=>{cg[t.id]||(l.takeRecords().map(o),l.disconnect(),cg[t.id]=!0,i(!0))};["keydown","click"].forEach(a=>{addEventListener(a,s,{once:!0,capture:!0})}),Ro(s,!0)}};function Ql(r){return typeof r=="number"&&isFinite(r)}function tl(r,{startTimestamp:e,...n}){return e&&r.startTimestamp>e&&(r.startTimestamp=e),r.startChild({startTimestamp:e,...n})}var Nr=En();function T0(){return Nr&&Nr.addEventListener&&Nr.performance}let _g=0,Tn={},Di,dl;function sD(r=!1){var e=T0();e&&$l&&(e.mark&&Nr.performance.mark("sentry-tracing-init"),fD(),aD(r),uD())}function fD(){nD(r=>{var e=r.entries.pop();!e||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding CLS"),Tn.cls={value:r.value,unit:"millisecond"},dl=e)})}function aD(r){oD(e=>{var n=e.entries.pop();if(!!n){var t=Zn($l),i=Zn(n.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding LCP"),Tn.lcp={value:e.value,unit:"millisecond"},Tn["mark.lcp"]={value:t+i,unit:"second"},Di=n}},r)}function uD(){lD(r=>{var e=r.entries.pop();if(!!e){var n=Zn($l),t=Zn(e.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding FID"),Tn.fid={value:r.value,unit:"millisecond"},Tn["mark.fid"]={value:n+t,unit:"second"}}})}function cD(r){var e=T0();if(!e||!Nr.performance.getEntries||!$l)return;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Tracing] Adding & adjusting spans using Performance API");var n=Zn($l),t=e.getEntries();let i,o;t.slice(_g).forEach(l=>{var s=Zn(l.startTime),a=Zn(l.duration);if(!(r.op==="navigation"&&n+s<r.startTimestamp))switch(l.entryType){case"navigation":{dD(r,l,n),i=n+Zn(l.responseStart),o=n+Zn(l.requestStart);break}case"mark":case"paint":case"measure":{var f=_D(r,l,s,a,n),u=js(),c=l.startTime<u.firstHiddenTime;l.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding FP"),Tn.fp={value:l.startTime,unit:"millisecond"},Tn["mark.fp"]={value:f,unit:"second"}),l.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding FCP"),Tn.fcp={value:l.startTime,unit:"millisecond"},Tn["mark.fcp"]={value:f,unit:"second"});break}case"resource":{var d=l.name.replace(Nr.location.origin,"");pD(r,l,d,s,a,n);break}}}),_g=Math.max(t.length-1,0),hD(r),r.op==="pageload"&&(typeof i=="number"&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding TTFB"),Tn.ttfb={value:(i-r.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=i&&(Tn["ttfb.requestTime"]={value:(i-o)*1e3,unit:"second"})),["fcp","fp","lcp"].forEach(l=>{if(!(!Tn[l]||n>=r.startTimestamp)){var s=Tn[l].value,a=n+Zn(s),f=Math.abs((a-r.startTimestamp)*1e3),u=f-s;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Measurements] Normalized ${l} from ${s} to ${f} (${u})`),Tn[l].value=f}}),Tn["mark.fid"]&&Tn.fid&&tl(r,{description:"first input delay",endTimestamp:Tn["mark.fid"].value+Zn(Tn.fid.value),op:"web.vitals",startTimestamp:Tn["mark.fid"].value}),"fcp"in Tn||delete Tn.cls,Object.keys(Tn).forEach(l=>{r.setMeasurement(l,Tn[l].value,Tn[l].unit)}),gD(r)),Di=void 0,dl=void 0,Tn={}}function _D(r,e,n,t,i){var o=i+n,l=o+t;return tl(r,{description:e.name,endTimestamp:l,op:e.entryType,startTimestamp:o}),o}function dD(r,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(t=>{xl(r,e,t,n)}),xl(r,e,"secureConnection",n,"TLS/SSL","connectEnd"),xl(r,e,"fetch",n,"cache","domainLookupStart"),xl(r,e,"domainLookup",n,"DNS"),mD(r,e,n)}function xl(r,e,n,t,i,o){var l=o?e[o]:e[`${n}End`],s=e[`${n}Start`];!s||!l||tl(r,{op:"browser",description:zi(i,()=>n),startTimestamp:t+Zn(s),endTimestamp:t+Zn(l)})}function mD(r,e,n){tl(r,{op:"browser",description:"request",startTimestamp:n+Zn(e.requestStart),endTimestamp:n+Zn(e.responseEnd)}),tl(r,{op:"browser",description:"response",startTimestamp:n+Zn(e.responseStart),endTimestamp:n+Zn(e.responseEnd)})}function pD(r,e,n,t,i,o){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var l={};"transferSize"in e&&(l["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(l["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(l["Decoded Body Size"]=e.decodedBodySize);var s=o+t,a=s+i;tl(r,{description:n,endTimestamp:a,op:e.initiatorType?`resource.${e.initiatorType}`:"resource",startTimestamp:s,data:l})}}function hD(r){var e=Nr.navigator;if(!!e){var n=e.connection;n&&(n.effectiveType&&r.setTag("effectiveConnectionType",n.effectiveType),n.type&&r.setTag("connectionType",n.type),Ql(n.rtt)&&(Tn["connection.rtt"]={value:n.rtt,unit:"millisecond"}),Ql(n.downlink)&&(Tn["connection.downlink"]={value:n.downlink,unit:""})),Ql(e.deviceMemory)&&r.setTag("deviceMemory",`${e.deviceMemory} GB`),Ql(e.hardwareConcurrency)&&r.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}}function gD(r){Di&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding LCP Data"),Di.element&&r.setTag("lcp.element",hl(Di.element)),Di.id&&r.setTag("lcp.id",Di.id),Di.url&&r.setTag("lcp.url",Di.url.trim().slice(0,200)),r.setTag("lcp.size",Di.size)),dl&&dl.sources&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log("[Measurements] Adding CLS Data"),dl.sources.forEach((e,n)=>r.setTag(`cls.source.${n+1}`,hl(e.node))))}var bD=["localhost",/^\//],$o={traceFetch:!0,traceXHR:!0,tracingOrigins:bD};function vD(r){const{traceFetch:e,traceXHR:n,tracingOrigins:t,shouldCreateSpanForRequest:i}={...$o,...r};var o={},l=f=>{if(o[f])return o[f];var u=t;return o[f]=u.some(c=>gl(f,c))&&!gl(f,"sentry_key"),o[f]};let s=l;typeof i=="function"&&(s=f=>l(f)&&i(f));var a={};e&&pi("fetch",f=>{$D(f,s,a)}),n&&pi("xhr",f=>{kD(f,s,a)})}function $D(r,e,n){if(!(!Ms()||!(r.fetchData&&e(r.fetchData.url)))){if(r.endTimestamp){var t=r.fetchData.__span;if(!t)return;var i=n[t];i&&(r.response?i.setHttpStatus(r.response.status):r.error&&i.setStatus("internal_error"),i.finish(),delete n[t]);return}var o=Co();if(o){var i=o.startChild({data:{...r.fetchData,type:"fetch"},description:`${r.fetchData.method} ${r.fetchData.url}`,op:"http.client"});r.fetchData.__span=i.spanId,n[i.spanId]=i;var l=r.args[0]=r.args[0],s=r.args[1]=r.args[1]||{};s.headers=yD(l,i,s)}}}function yD(r,e,n){let t=n.headers;Yi(r,Request)&&(t=r.headers);var i=e.getBaggage();if(t)if(typeof t.append=="function")t.append("sentry-trace",e.toTraceparent()),t.append(Ur,ul(i,t.get(Ur)));else if(Array.isArray(t)){const[,o]=t.find(([l,s])=>l===Ur);t=[...t,["sentry-trace",e.toTraceparent()],[Ur,ul(i,o)]]}else t={...t,"sentry-trace":e.toTraceparent(),baggage:ul(i,t.baggage)};else t={"sentry-trace":e.toTraceparent(),baggage:ul(i)};return t}function kD(r,e,n){if(!(!Ms()||r.xhr&&r.xhr.__sentry_own_request__||!(r.xhr&&r.xhr.__sentry_xhr__&&e(r.xhr.__sentry_xhr__.url)))){var t=r.xhr.__sentry_xhr__;if(r.endTimestamp){var i=r.xhr.__sentry_xhr_span_id__;if(!i)return;var o=n[i];o&&(o.setHttpStatus(t.status_code),o.finish(),delete n[i]);return}var l=Co();if(l){var o=l.startChild({data:{...t.data,type:"xhr",method:t.method,url:t.url},description:`${t.method} ${t.url}`,op:"http.client"});if(r.xhr.__sentry_xhr_span_id__=o.spanId,n[r.xhr.__sentry_xhr_span_id__]=o,r.xhr.setRequestHeader)try{r.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var s=r.xhr.getRequestHeader&&r.xhr.getRequestHeader(Ur);r.xhr.setRequestHeader(Ur,ul(o.getBaggage(),s))}catch{}}}}var ol=En();function wD(r,e=!0,n=!0){if(!ol||!ol.location){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("Could not initialize routing instrumentation due to invalid location");return}let t=ol.location.href,i;e&&(i=r({name:ol.location.pathname,op:"pageload"})),n&&pi("history",({to:o,from:l})=>{if(l===void 0&&t&&t.indexOf(o)!==-1){t=void 0;return}l!==o&&(t=void 0,i&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=r({name:ol.location.pathname,op:"navigation"}))})}var ED="BrowserTracing",SD={idleTimeout:w0,finalTimeout:E0,markBackgroundTransactions:!0,routingInstrumentation:wD,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...$o};class Us{__init(){this.name=ED}constructor(e){Us.prototype.__init.call(this);let n=$o.tracingOrigins;e&&(e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?n=e.tracingOrigins:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...SD,...e,tracingOrigins:n};const{_metricOptions:t}=this.options;sD(t&&t._reportAllChanges)}setupOnce(e,n){this._getCurrentHub=n,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`[Tracing] We added a reasonable default for you: ${$o.tracingOrigins}`));const{routingInstrumentation:t,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:l,traceFetch:s,traceXHR:a,tracingOrigins:f,shouldCreateSpanForRequest:u}=this.options;t(c=>this._createRouteTransaction(c),o,i),l&&eD(),vD({traceFetch:s,traceXHR:a,tracingOrigins:f,shouldCreateSpanForRequest:u})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:n,idleTimeout:t,finalTimeout:i}=this.options;var o=e.op==="pageload"?TD():void 0,l={...e,...o,trimEnd:!0},s=typeof n=="function"?n(l):l,a=s===void 0?{...l,sampled:!1}:s;a.sampled===!1&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] Will not send ${a.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&at.log(`[Tracing] Starting ${a.op} transaction on scope`);var f=this._getCurrentHub();const{location:u}=En();var c=K8(f,a,t,i,!0,{location:u});return c.registerBeforeFinishCallback(d=>{cD(d),d.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),c}}function TD(){var r=dg("sentry-trace"),e=dg("baggage"),n=r?z5(r):void 0,t=f6(e,r);if(n||t)return{...n&&n,...t&&{metadata:{baggage:t}}}}function dg(r){var e=En();if(e.document&&e.document.querySelector){var n=e.document.querySelector(`meta[name=${r}]`);return n?n.getAttribute("content"):null}else return null}(typeof __SENTRY_TRACING__=="undefined"||__SENTRY_TRACING__)&&x8();try{self["workbox:window:6.5.2"]&&_()}catch{}function ms(r,e){return new Promise(function(n){var t=new MessageChannel;t.port1.onmessage=function(i){n(i.data)},r.postMessage(e,[t.port2])})}function CD(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function mg(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function ID(r,e){var n;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=function(i,o){if(i){if(typeof i=="string")return mg(i,o);var l=Object.prototype.toString.call(i).slice(8,-1);return l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set"?Array.from(i):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?mg(i,o):void 0}}(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=r[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Xo=function(){var r=this;this.promise=new Promise(function(e,n){r.resolve=e,r.reject=n})};function Ko(r,e){var n=location.href;return new URL(r,n).href===new URL(e,n).href}var sl=function(r,e){this.type=r,Object.assign(this,e)};function eo(r,e,n){return n?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}function OD(){}var RD={type:"SKIP_WAITING"};function pg(r,e){if(!e)return r&&r.then?r.then(OD):Promise.resolve()}var ND=function(r){var e,n;function t(s,a){var f,u;return a===void 0&&(a={}),(f=r.call(this)||this).nn={},f.tn=0,f.rn=new Xo,f.en=new Xo,f.on=new Xo,f.un=0,f.an=new Set,f.cn=function(){var c=f.fn,d=c.installing;f.tn>0||!Ko(d.scriptURL,f.sn.toString())||performance.now()>f.un+6e4?(f.vn=d,c.removeEventListener("updatefound",f.cn)):(f.hn=d,f.an.add(d),f.rn.resolve(d)),++f.tn,d.addEventListener("statechange",f.ln)},f.ln=function(c){var d=f.fn,b=c.target,$=b.state,k=b===f.vn,w={sw:b,isExternal:k,originalEvent:c};!k&&f.mn&&(w.isUpdate=!0),f.dispatchEvent(new sl($,w)),$==="installed"?f.wn=self.setTimeout(function(){$==="installed"&&d.waiting===b&&f.dispatchEvent(new sl("waiting",w))},200):$==="activating"&&(clearTimeout(f.wn),k||f.en.resolve(b))},f.dn=function(c){var d=f.hn,b=d!==navigator.serviceWorker.controller;f.dispatchEvent(new sl("controlling",{isExternal:b,originalEvent:c,sw:d,isUpdate:f.mn})),b||f.on.resolve(d)},f.gn=(u=function(c){var d=c.data,b=c.ports,$=c.source;return eo(f.getSW(),function(){f.an.has($)&&f.dispatchEvent(new sl("message",{data:d,originalEvent:c,ports:b,sw:$}))})},function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];try{return Promise.resolve(u.apply(this,c))}catch(b){return Promise.reject(b)}}),f.sn=s,f.nn=a,navigator.serviceWorker.addEventListener("message",f.gn),f}n=r,(e=t).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,o,l=t.prototype;return l.register=function(s){var a=(s===void 0?{}:s).immediate,f=a!==void 0&&a;try{var u=this;return function(c,d){var b=c();return b&&b.then?b.then(d):d(b)}(function(){if(!f&&document.readyState!=="complete")return pg(new Promise(function(c){return window.addEventListener("load",c)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),eo(u.bn(),function(c){u.fn=c,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var d=u.fn.waiting;return d&&Ko(d.scriptURL,u.sn.toString())&&(u.hn=d,Promise.resolve().then(function(){u.dispatchEvent(new sl("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(c){return Promise.reject(c)}},l.update=function(){try{return this.fn?pg(this.fn.update()):void 0}catch(s){return Promise.reject(s)}},l.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},l.messageSW=function(s){try{return eo(this.getSW(),function(a){return ms(a,s)})}catch(a){return Promise.reject(a)}},l.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&ms(this.fn.waiting,RD)},l.pn=function(){var s=navigator.serviceWorker.controller;return s&&Ko(s.scriptURL,this.sn.toString())?s:void 0},l.bn=function(){try{var s=this;return function(a,f){try{var u=a()}catch(c){return f(c)}return u&&u.then?u.then(void 0,f):u}(function(){return eo(navigator.serviceWorker.register(s.sn,s.nn),function(a){return s.un=performance.now(),a})},function(a){throw a})}catch(a){return Promise.reject(a)}},i=t,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&CD(i.prototype,o),t}(function(){function r(){this.Pn=new Map}var e=r.prototype;return e.addEventListener=function(n,t){this.Sn(n).add(t)},e.removeEventListener=function(n,t){this.Sn(n).delete(t)},e.dispatchEvent=function(n){n.target=this;for(var t,i=ID(this.Sn(n.type));!(t=i()).done;)(0,t.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},r}());function AD(r={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:t,onRegistered:i,onRegisterError:o}=r;let l,s;const a=async(f=!0)=>{f&&(l==null||l.addEventListener("controlling",u=>{u.isUpdate&&window.location.reload()})),s&&s.waiting&&await ms(s.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){l=new ND("./sw.js",{scope:"./",type:"classic"}),l.addEventListener("activated",f=>{f.isUpdate||t==null||t()});{const f=()=>{n==null||n()};l.addEventListener("waiting",f),l.addEventListener("externalwaiting",f)}l.register({immediate:e}).then(f=>{s=f,i==null||i(f)}).catch(f=>{o==null||o(f)})}return a}nn.exports.tx.init({token:"1/1d8c1f9e14b4c21d70dd3f6fccdd0ab16b691105"});function BD(r,e){return e.substring(e.length-r)}location.hostname!=="localhost"&&AB({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new Us],tracesSampleRate:.2,release:`cdda-guide@${BD(8,"1a16a850563dcfcdca28a6751ddc1ef87111b69b")}`});AD({});new G8({target:document.body})});export default DD();
//# sourceMappingURL=index.73432215.js.map
