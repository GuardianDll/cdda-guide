var O1=Object.defineProperty;var B1=(i,e,n)=>e in i?O1(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var A1=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Ut=(i,e,n)=>(B1(i,typeof e!="symbol"?e+"":e,n),n);var gC=A1((vC,qn)=>{const M1=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}};M1();function Z(){}function D1(i,e){for(const n in e)i[n]=e[n];return i}function Ep(i){return i()}function Co(){return Object.create(null)}function Sl(i){i.forEach(Ep)}function L1(i){return typeof i=="function"}function He(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let pi;function G1(i,e){return pi||(pi=document.createElement("a")),pi.href=e,i===pi.href}function U1(i){return Object.keys(i).length===0}function Tp(i,...e){if(i==null)return Z;const n=i.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Sp(i,e,n){i.$$.on_destroy.push(Tp(e,n))}function Cp(i,e,n,t){if(i){const l=Ip(i,e,n,t);return i[0](l)}}function Ip(i,e,n,t){return i[1]&&t?D1(n.ctx.slice(),i[1](t(e))):n.ctx}function Rp(i,e,n,t){if(i[2]&&t){const l=i[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],r=Math.max(e.dirty.length,l.length);for(let f=0;f<r;f+=1)o[f]=e.dirty[f]|l[f];return o}return e.dirty|l}return e.dirty}function Np(i,e,n,t,l,o){if(l){const r=Ip(e,n,t,o);i.p(r,l)}}function Op(i){if(i.ctx.length>32){const e=[],n=i.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(i,e){i.appendChild(e)}function h(i,e,n){i.insertBefore(e,n||null)}function p(i){i.parentNode.removeChild(i)}function ce(i,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].d(e)}function g(i){return document.createElement(i)}function w(i){return document.createTextNode(i)}function C(){return w(" ")}function ie(){return w("")}function Tn(i,e,n,t){return i.addEventListener(e,n,t),()=>i.removeEventListener(e,n,t)}function ue(i,e,n){n==null?i.removeAttribute(e):i.getAttribute(e)!==n&&i.setAttribute(e,n)}function q1(i){return Array.from(i.childNodes)}function W(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Io(i,e){i.value=e==null?"":e}function Je(i,e,n,t){n===null?i.style.removeProperty(e):i.style.setProperty(e,n,t?"important":"")}function Ri(i,e){for(let n=0;n<i.options.length;n+=1){const t=i.options[n];if(t.__value===e){t.selected=!0;return}}i.selectedIndex=-1}let ri;function ti(i){ri=i}function Mr(){if(!ri)throw new Error("Function called outside component initialization");return ri}function P1(i){Mr().$$.on_mount.push(i)}function Dr(i,e){return Mr().$$.context.set(i,e),e}function xe(i){return Mr().$$.context.get(i)}const xl=[],Ro=[],Si=[],No=[],F1=Promise.resolve();let hr=!1;function Y1(){hr||(hr=!0,F1.then(Bp))}function gr(i){Si.push(i)}const er=new Set;let hi=0;function Bp(){const i=ri;do{for(;hi<xl.length;){const e=xl[hi];hi++,ti(e),j1(e.$$)}for(ti(null),xl.length=0,hi=0;Ro.length;)Ro.pop()();for(let e=0;e<Si.length;e+=1){const n=Si[e];er.has(n)||(er.add(n),n())}Si.length=0}while(xl.length);for(;No.length;)No.pop()();hr=!1,er.clear(),ti(i)}function j1(i){if(i.fragment!==null){i.update(),Sl(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(gr)}}const Ci=new Set;let xn;function x(){xn={r:0,c:[],p:xn}}function ee(){xn.r||Sl(xn.c),xn=xn.p}function b(i,e){i&&i.i&&(Ci.delete(i),i.i(e))}function k(i,e,n,t){if(i&&i.o){if(Ci.has(i))return;Ci.add(i),xn.c.push(()=>{Ci.delete(i),t&&(n&&i.d(1),t())}),i.o(e)}}const H1=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function W1(i,e){k(i,1,1,()=>{e.delete(i.key)})}function z1(i,e,n,t,l,o,r,f,a,s,u,c){let m=i.length,$=o.length,v=m;const E={};for(;v--;)E[i[v].key]=v;const T=[],y=new Map,S=new Map;for(v=$;v--;){const N=c(l,o,v),R=n(N);let G=r.get(R);G?t&&G.p(N,e):(G=s(R,N),G.c()),y.set(R,T[v]=G),R in E&&S.set(R,Math.abs(v-E[R]))}const I=new Set,B=new Set;function O(N){b(N,1),N.m(f,u),r.set(N.key,N),u=N.first,$--}for(;m&&$;){const N=T[$-1],R=i[m-1],G=N.key,M=R.key;N===R?(u=N.first,m--,$--):y.has(M)?!r.has(G)||I.has(G)?O(N):B.has(M)?m--:S.get(G)>S.get(M)?(B.add(G),O(N)):(I.add(M),m--):(a(R,r),m--)}for(;m--;){const N=i[m];y.has(N.key)||a(N,r)}for(;$;)O(T[$-1]);return T}function F(i){i&&i.c()}function q(i,e,n,t){const{fragment:l,on_mount:o,on_destroy:r,after_update:f}=i.$$;l&&l.m(e,n),t||gr(()=>{const a=o.map(Ep).filter(L1);r?r.push(...a):Sl(a),i.$$.on_mount=[]}),f.forEach(gr)}function P(i,e){const n=i.$$;n.fragment!==null&&(Sl(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V1(i,e){i.$$.dirty[0]===-1&&(xl.push(i),Y1(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function ze(i,e,n,t,l,o,r,f=[-1]){const a=ri;ti(i);const s=i.$$={fragment:null,ctx:null,props:o,update:Z,not_equal:l,bound:Co(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Co(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};r&&r(s.root);let u=!1;if(s.ctx=n?n(i,e.props||{},(c,m,...$)=>{const v=$.length?$[0]:m;return s.ctx&&l(s.ctx[c],s.ctx[c]=v)&&(!s.skip_bound&&s.bound[c]&&s.bound[c](v),u&&V1(i,c)),m}):[],s.update(),u=!0,Sl(s.before_update),s.fragment=t?t(s.ctx):!1,e.target){if(e.hydrate){const c=q1(e.target);s.fragment&&s.fragment.l(c),c.forEach(p)}else s.fragment&&s.fragment.c();e.intro&&b(i.$$.fragment),q(i,e.target,e.anchor,e.customElement),Bp()}ti(a)}class Ve{$destroy(){P(this,1),this.$destroy=Z}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!U1(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fl=[];function Ni(i,e=Z){let n;const t=new Set;function l(f){if(He(i,f)&&(i=f,n)){const a=!fl.length;for(const s of t)s[1](),fl.push(s,i);if(a){for(let s=0;s<fl.length;s+=2)fl[s][0](fl[s+1]);fl.length=0}}}function o(f){l(f(i))}function r(f,a=Z){const s=[f,a];return t.add(s),t.size===1&&(n=e(l)||Z),f(i),()=>{t.delete(s),t.size===0&&(n(),n=null)}}return{set:l,update:o,subscribe:r}}const X1=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["city_building","overmap_special"]]),bn=i=>{var e;return(e=X1.get(i))!=null?e:i},Jt=i=>typeof i=="string"?i:"str_sp"in i?i.str_sp:i.str,br=i=>typeof i=="string"?i+"s":"str_sp"in i?i.str_sp:"str_pl"in i?i.str_pl:i.str+"s",ge=i=>{var e,n;return Jt((n=(e=i==null?void 0:i.name)!=null?e:i==null?void 0:i.id)!=null?n:i==null?void 0:i.abstract)},Oo=i=>{var e,n;return br((n=(e=i==null?void 0:i.name)!=null?e:i==null?void 0:i.id)!=null?n:i==null?void 0:i.abstract)};function bl(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function Lr(i){if(typeof i=="undefined")return 0;if(typeof i=="number")return i*250;if(i.endsWith("ml"))return parseInt(i);if(i.endsWith("L"))return parseInt(i)*1e3}function Oi(i){if(typeof i=="undefined")return 0;if(typeof i=="number")return i;if(i.endsWith("mg"))return parseInt(i)/1e3;if(i.endsWith("kg"))return parseInt(i)*1e3;if(i.endsWith("g"))return parseInt(i)}function Jn(i){return`${(Lr(i)/1e3).toFixed(2)} L`}function $l(i){return`${(Oi(i)/1e3).toFixed(2)} kg`}class J1{constructor(e,n,t){Ut(this,"_raw");Ut(this,"_byType",new Map);Ut(this,"_byTypeById",new Map);Ut(this,"_abstractsByType",new Map);Ut(this,"_toolReplacements");Ut(this,"_craftingPseudoItems",new Map);Ut(this,"_migrations",new Map);Ut(this,"_flattenCache",new Map);Ut(this,"_nestedMapgensById",new Map);Ut(this,"release");Ut(this,"build_number");Ut(this,"_cachedDeathDrops",new Map);Ut(this,"_cachedMapgenSpawnItems",new Map);Ut(this,"_flattenItemGroupCache",new WeakMap);Ut(this,"_flatRequirementCache",new WeakMap);Ut(this,"_flatRequirementCacheExpandSubs",new WeakMap);Ut(this,"_flatRequirementCacheOnlyRecoverable",new WeakMap);Ut(this,"_itemComponentCache");this.release=t,this.build_number=n,this._raw=e;for(const l of e){if(!Object.hasOwnProperty.call(l,"type"))continue;if(l.type==="MIGRATION"){for(const r of typeof l.id=="string"?[l.id]:l.id){const{replace:f}=l;this._migrations.set(r,f)}continue}const o=bn(l.type);if(this._byType.has(o)||this._byType.set(o,[]),this._byType.get(o).push(l),Object.hasOwnProperty.call(l,"id")){if(this._byTypeById.has(o)||this._byTypeById.set(o,new Map),typeof l.id=="string")this._byTypeById.get(o).set(l.id,l);else if(Array.isArray(l.id))for(const r of l.id)this._byTypeById.get(o).set(r,l)}if((o==="recipe"||o==="uncraft")&&Object.hasOwnProperty.call(l,"result")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=l.result+(l.id_suffix?"_"+l.id_suffix:"");this._byTypeById.get(o).set(r,l)}if(o==="monstergroup"&&Object.hasOwnProperty.call(l,"name")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=l.name;this._byTypeById.get(o).set(r,l)}Object.hasOwnProperty.call(l,"abstract")&&(this._abstractsByType.has(o)||this._abstractsByType.set(o,new Map),this._abstractsByType.get(o).set(l.abstract,l)),Object.hasOwnProperty.call(l,"crafting_pseudo_item")&&this._craftingPseudoItems.set(l.crafting_pseudo_item,l.id),Object.hasOwnProperty.call(l,"nested_mapgen_id")&&(this._nestedMapgensById.has(l.nested_mapgen_id)||this._nestedMapgensById.set(l.nested_mapgen_id,[]),this._nestedMapgensById.get(l.nested_mapgen_id).push(l))}}byId(e,n){var l;if(typeof n!="string")throw new Error("Requested non-string id");if(e==="item"&&this._migrations.has(n))return this.byId(e,this._migrations.get(n));const t=(l=this._byTypeById.get(e))==null?void 0:l.get(n);if(t)return this._flatten(t)}byType(e){var n,t;return(t=(n=this._byType.get(e))==null?void 0:n.map(l=>this._flatten(l)))!=null?t:[]}abstractById(e,n){var l;if(typeof n!="string")throw new Error("Requested non-string id");const t=(l=this._abstractsByType.get(e))==null?void 0:l.get(n);if(t)return this._flatten(t)}replacementTools(e){var n;if(!this._toolReplacements){this._toolReplacements=new Map;for(const t of this.byType("item"))t.type==="TOOL"&&Object.hasOwnProperty.call(t,"sub")&&(this._toolReplacements.has(t.sub)||this._toolReplacements.set(t.sub,[]),this._toolReplacements.get(t.sub).push(t.id))}return(n=this._toolReplacements.get(e))!=null?n:[]}craftingPseudoItem(e){return this._craftingPseudoItems.get(e)}nestedMapgensById(e){return this._nestedMapgensById.get(e)}all(){return this._raw}_flatten(e){var f,a,s,u,c,m,$,v,E,T,y,S,I,B,O,N,R,G,M,X,A,D,J,j,U,Y,L,H,le,z,Q,K,oe,V,te,_e,Ge,$e;const n=e;if(this._flattenCache.has(n))return this._flattenCache.get(n);const t="copy-from"in n?(s=(f=this._byTypeById.get(bn(n.type)))==null?void 0:f.get(n["copy-from"]))!=null?s:(a=this._abstractsByType.get(bn(n.type)))==null?void 0:a.get(n["copy-from"]):null;if("copy-from"in n&&!t&&console.error(`Missing parent in ${(m=(c=(u=n.id)!=null?u:n.abstract)!=null?c:n.result)!=null?m:JSON.stringify(n)}`),t===n)return console.warn("Object copied from itself:",n),this._flattenCache.set(n,n),n;if(!t)return this._flattenCache.set(n,n),n;const{abstract:l,...o}=this._flatten(t),r={...o,...n};for(const me of Object.keys(($=r.relative)!=null?$:{}))if(typeof r.relative[me]=="number")if(me==="melee_damage"){const be=dl(JSON.parse(JSON.stringify(r.melee_damage)));for(const ve of be)ve.amount=((v=ve.amount)!=null?v:0)+r.relative[me];r.melee_damage=be}else r[me]=((E=r[me])!=null?E:0)+r.relative[me];else if(me==="damage"&&r[me]){r.damage=JSON.parse(JSON.stringify(r.damage));const be=dl(r.relative.damage);for(const ve of be){const de=Array.isArray(r.damage)?r.damage.find(De=>De.damage_type===ve.damage_type):r.damage.damage_type===ve.damage_type?r.damage:null;de&&(de.amount=((T=de.amount)!=null?T:0)+((y=ve.amount)!=null?y:0),de.armor_penetration=((S=de.armor_penetration)!=null?S:0)+((I=ve.armor_penetration)!=null?I:0),de.armor_multiplier=((B=de.armor_multiplier)!=null?B:0)+((O=ve.armor_multiplier)!=null?O:0),de.damage_multiplier=((N=de.damage_multiplier)!=null?N:0)+((R=ve.damage_multiplier)!=null?R:0),de.constant_armor_multiplier=((G=de.constant_armor_multiplier)!=null?G:0)+((M=ve.constant_armor_multiplier)!=null?M:0),de.constant_damage_multiplier=((X=de.constant_damage_multiplier)!=null?X:0)+((A=ve.constant_damage_multiplier)!=null?A:0))}}delete r.relative;for(const me of Object.keys((D=r.proportional)!=null?D:{}))if(typeof r.proportional[me]=="number")if(me==="attack_cost"&&!(me in r)&&(r[me]=100),typeof r[me]=="string"){const be=/^\s*(\d+)\s*(.+)$/.exec(r[me]);if(be){const[,ve,de]=be;r[me]=`${Number(ve)*r.proportional[me]} ${de}`}}else r[me]*=r.proportional[me],r[me]=r[me]|0;else if(me==="damage"&&r[me]){r.damage=JSON.parse(JSON.stringify(r.damage));const be=dl(r.proportional.damage);for(const ve of be){const de=Array.isArray(r.damage)?r.damage.find(De=>De.damage_type===ve.damage_type):r.damage.damage_type===ve.damage_type?r.damage:null;de&&(de.amount=((J=de.amount)!=null?J:0)*((j=ve.amount)!=null?j:1),de.armor_penetration=((U=de.armor_penetration)!=null?U:0)*((Y=ve.armor_penetration)!=null?Y:1),de.armor_multiplier=((L=de.armor_multiplier)!=null?L:0)*((H=ve.armor_multiplier)!=null?H:1),de.damage_multiplier=((le=de.damage_multiplier)!=null?le:0)*((z=ve.damage_multiplier)!=null?z:1),de.constant_armor_multiplier=((Q=de.constant_armor_multiplier)!=null?Q:0)*((K=ve.constant_armor_multiplier)!=null?K:1),de.constant_damage_multiplier=((oe=de.constant_damage_multiplier)!=null?oe:0)*((V=ve.constant_damage_multiplier)!=null?V:1))}}delete r.proportional;for(const me of Object.keys((te=r.extend)!=null?te:{}))Array.isArray(r.extend[me])&&(r[me]=((_e=r[me])!=null?_e:[]).concat(r.extend[me]));delete r.extend;for(const me of Object.keys((Ge=r.delete)!=null?Ge:{}))if(Array.isArray(r.delete[me])){const be=(ve,de)=>ve===de||Array.isArray(ve)&&Array.isArray(de)&&ve.length===de.length&&ve.every((De,Ie)=>be(De,de[Ie]));r[me]=(($e=r[me])!=null?$e:[]).filter(ve=>!r.delete[me].some(de=>be(de,ve)))}return delete r.delete,this._flattenCache.set(n,r),r}flatDeathDrops(e){if(this._cachedDeathDrops.has(e))return this._cachedDeathDrops.get(e);const n=this.byId("monster",e),t=n.death_drops?this.flattenItemGroup(this.normalizeItemGroup(n.death_drops,"distribution")):[];return t.sort((l,o)=>o.prob-l.prob),this._cachedDeathDrops.set(e,t),t}uncraftRecipe(e){for(const n of this.byType("uncraft"))if(n.result===e)return n;for(const n of this.byType("recipe"))if(n.result===e&&n.reversible)return n}mapgenSpawnItems(e){var s,u,c,m,$,v,E;if(this._cachedMapgenSpawnItems.has(e))return this._cachedMapgenSpawnItems.get(e);const n=new Map,t=(T,y)=>{n.has(T)||n.set(T,new Set),n.get(T).add(y)},l=(T,y)=>{const S=typeof y=="string"?this.byId("item_group",y):Array.isArray(y)?{subtype:"collection",entries:y}:y;if(S)for(const{id:I}of this.flattenItemGroup(S))t(T,I);else typeof y=="string"&&this.byId("item",y)&&t(T,y)},o=T=>{var y,S,I,B,O;for(const[N,R]of Object.entries((y=T.item)!=null?y:{})){const G=Array.isArray(R)?R:[R];for(const M of G)t(N,M.item)}for(const[N,R]of Object.entries((S=T.items)!=null?S:{})){const G=Array.isArray(R)?R:[R];for(const M of G)l(N,M.item)}for(const[N,R]of Object.entries((I=T.sealed_item)!=null?I:{})){const G=Array.isArray(R)?R:[R];for(const M of G)(B=M.item)!=null&&B.item&&t(N,M.item.item),(O=M.items)!=null&&O.item&&l(N,M.items.item)}};o(e.object);for(const T of(s=e.object.palettes)!=null?s:[])typeof T=="string"&&o(this.byId("palette",T));const r=new Set,f=new Set;for(const T of(u=e.object.rows)!=null?u:[])for(const y of T)f.add(y);for(const T of f){const y=(c=n.get(T))!=null?c:new Set;for(const S of y)r.add(S)}for(const T of(m=e.object.place_item)!=null?m:[])r.add(T.item);for(const T of($=e.object.place_items)!=null?$:[]){const y=typeof T.item=="string"?this.byId("item_group",T.item):Array.isArray(T.item)?{subtype:"collection",entries:T.item}:T.item;if(y)for(const{id:S}of this.flattenItemGroup(y))r.add(S);else typeof T=="string"&&this.byId("item",T)&&r.add(T)}for(const T of(v=e.object.place_loot)!=null?v:[])if(T.item&&r.add(T.item),T.group)for(const{id:y}of this.flattenItemGroup(this.byId("item_group",T.group)))r.add(y);for(const T of(E=e.object.add)!=null?E:[])r.add(T.item);const a=[...r];return this._cachedMapgenSpawnItems.set(e,a),a}flattenItemGroup(e){var s,u,c,m,$;if(this._flattenItemGroupCache.has(e))return this._flattenItemGroupCache.get(e);const n=new Map;function t({id:v,prob:E,count:T}){var O;const{prob:y,count:S}=(O=n.get(v))!=null?O:{prob:0,count:[0,0]},I=1-(1-y)*(1-E),B=[T[0]+S[0],T[1]+S[1]];n.set(v,{prob:I,count:B})}function l(...v){v.forEach(t)}e["container-item"]&&l({id:e["container-item"],prob:1,count:[1,1]});const o=[];if(e.subtype==="old"||!e.subtype)for(const v of e.items)Array.isArray(v)?o.push({item:v[0],prob:v[1]}):o.push(v);else{for(const v of(s=e.entries)!=null?s:[])Array.isArray(v)?o.push({item:v[0],prob:v[1]}):o.push(v);for(const v of(u=e.items)!=null?u:[])Array.isArray(v)?o.push({item:v[0],prob:v[1]}):typeof v=="string"?o.push({item:v,prob:100}):o.push(v);for(const v of(c=e.groups)!=null?c:[])Array.isArray(v)?o.push({group:v[0],prob:v[1]}):typeof v=="string"?o.push({group:v,prob:100}):o.push(v)}function r(v,E,T){return{id:v.id,prob:v.prob*E,count:[v.count[0]*T[0],v.count[1]*T[1]]}}function f(v){return v.count?typeof v.count=="number"?[v.count,v.count]:v.count:v.charges?typeof v.charges=="number"?[v.charges,v.charges]:v.charges:[1,1]}if(e.subtype==="collection")for(const v of o){const{prob:E=100}=v,T=Math.min(E,100)/100,y=f(v);if(v["container-item"]&&l({id:v["container-item"],prob:T,count:[1,1]}),"item"in v){l({id:v.item,prob:T,count:y});const S=this.byId("item",v.item);S&&S.container&&l({id:S.container,prob:T,count:y})}else if("group"in v)l(...this.flattenItemGroup(this.byId("item_group",v.group)).map(S=>r(S,T,y)));else if("collection"in v)l(...this.flattenItemGroup({subtype:"collection",entries:v.collection}).map(S=>r(S,T,y)));else if("distribution"in v)l(...this.flattenItemGroup({subtype:"distribution",entries:v.distribution}).map(S=>r(S,T,y)));else throw new Error(`unknown item group entry: ${JSON.stringify(v)}`)}else{let v=0;for(const E of o)v+=(m=E.prob)!=null?m:100;for(const E of o){const T=(($=E.prob)!=null?$:100)/v,y=f(E);if(E["container-item"]&&l({id:E["container-item"],prob:T,count:[1,1]}),"item"in E)l({id:E.item,prob:T,count:y});else if("group"in E)l(...this.flattenItemGroup(this.byId("item_group",E.group)).map(S=>r(S,T,y)));else if("collection"in E)l(...this.flattenItemGroup({subtype:"collection",entries:E.collection}).map(S=>r(S,T,y)));else if("distribution"in E)l(...this.flattenItemGroup({subtype:"distribution",entries:E.distribution}).map(S=>r(S,T,y)));else throw new Error(`unknown item group entry: ${JSON.stringify(E)}`)}}const a=[...n.entries()].map(([v,E])=>({id:v,...E}));return this._flattenItemGroupCache.set(e,a),a}_flatRequirementCacheForOpts(e){if((e==null?void 0:e.expandSubstitutes)&&(e==null?void 0:e.onlyRecoverable))throw new Error("didn't expect to see expandSubstitutes && onlyRecoverable");return e!=null&&e.expandSubstitutes?this._flatRequirementCacheExpandSubs:e!=null&&e.onlyRecoverable?this._flatRequirementCacheOnlyRecoverable:this._flatRequirementCache}flattenRequirement(e,n,t){const l=this._flatRequirementCacheForOpts(t);if(l.has(e))return l.get(e);const{expandSubstitutes:o=!1,onlyRecoverable:r=!1}=t!=null?t:{},f=o?s=>s.flatMap(u=>K1(this,u)):s=>s,a=$r(e).map(s=>f(Ap(this,s,u=>$r(n(u)),r))).map(s=>r?s.filter(u=>{var c;return!((c=this.byId("item",u.id).flags)!=null?c:[]).includes("UNRECOVERABLE")}):s).filter(s=>s.length);return l.set(e,a),a}normalizeRequirements(e){const n=typeof e.using=="string"?[[e.using,1]]:e.using,t=(n!=null?n:[]).map(([f,a])=>[this.byId("requirement",f),a]).concat([[e,1]]).filter(f=>f[0]),l=t.flatMap(([f,a])=>{var s;return this.flattenRequirement((s=f.tools)!=null?s:[],u=>u.tools,{expandSubstitutes:!0}).map(u=>u.map(c=>({...c,count:c.count*a})))}),o=t.flatMap(([f,a])=>{var s;return((s=f.qualities)!=null?s:[]).map(u=>Array.isArray(u)?u:[u])}),r=t.flatMap(([f,a])=>{var s;return this.flattenRequirement((s=f.components)!=null?s:[],u=>u.components).map(u=>u.map(c=>({...c,count:c.count*a})))});return{tools:l,qualities:o,components:r}}getItemComponents(){if(this._itemComponentCache)return this._itemComponentCache;const e=new Map,n=new Map;return this.byType("recipe").forEach(t=>{if(!t.result||!this.byId("item",t.result))return!1;const l=typeof t.using=="string"?[[t.using,1]]:t.using,o=(l!=null?l:[]).map(([a,s])=>[this.byId("requirement",a),s]).concat([[t,1]]),r=o.flatMap(([a])=>{var s;return this.flattenRequirement((s=a.tools)!=null?s:[],u=>u.tools)});for(const a of r)for(const s of a)e.has(s.id)||e.set(s.id,new Set),e.get(s.id).add(t.result);const f=o.flatMap(([a,s])=>{var u;return this.flattenRequirement((u=a.components)!=null?u:[],c=>c.components).map(c=>c.map(m=>({...m,count:m.count*s})))});for(const a of f)for(const s of a)n.has(s.id)||n.set(s.id,new Set),n.get(s.id).add(t.result)}),this._itemComponentCache={byTool:e,byComponent:n},this._itemComponentCache}normalizeItemGroup(e,n){return e?typeof e=="string"?this.byId("item_group",e):Array.isArray(e)?{subtype:n,entries:e}:{subtype:n,...e}:{subtype:n,entries:[]}}}function Ap(i,e,n,t=!1){var o;const l=[];for(const r of e)if(Array.isArray(r)){const[f,a,...s]=r,u=s.includes("LIST");if(s.includes("NO_RECOVER")&&t)continue;if(u){const m=i.byId("requirement",f);m.type!=="requirement"&&console.error(`Expected a requirement, got ${m.type} (id=${m.id})`);const v=((o=n(m))!=null?o:[])[0];l.push(...Ap(i,v,n,t).map(E=>({...E,count:E.count*a})))}else l.push({id:f,count:a})}else if(typeof r=="string")l.push({id:r,count:1});else throw new Error("unexpected choice type");return l}function K1(i,e){const n=i.replacementTools(e.id);return[e,...n.map(t=>({id:t,count:e.count}))]}function $r(i){return i.map(e=>Array.isArray(e)?e:[e])}const sl=i=>i.type==="AMMO"||i.type==="COMESTIBLE"||i.stackable;function dl(i){return Array.isArray(i)?i:"values"in i?i.values:[i]}const Q1=["cover_left","cover_right","hatch_wheel_left","hatch_wheel_right","wheel_left","wheel_right","cross_unconnected","cross","horizontal_front_edge","horizontal_front","horizontal_rear_edge","horizontal_rear","horizontal_2_front","horizontal_2_rear","ne_edge","nw_edge","se_edge","sw_edge","vertical_right","vertical_left","vertical_2_right","vertical_2_left","vertical_T_right","vertical_T_left","front_right","front_left","rear_right","rear_left","cover","vertical","horizontal","vertical_2","horizontal_2","ne","nw","se","sw","front","rear","left","right"],Mp=(i,e)=>{if(i.byId("vehicle_part",e))return[e,""];for(const n of Q1)if(e.endsWith("_"+n))return[e.slice(0,e.length-n.length-1),n];return[e,""]};function Dp(i){var e;return{subtype:"collection",entries:((e=i.items)!=null?e:[]).map(n=>n.items?{collection:(typeof n.items=="string"?[n.items]:n.items).map(t=>({item:t})),prob:n.chance}:n.item_groups?{collection:(typeof n.item_groups=="string"?[n.item_groups]:n.item_groups).map(t=>({group:t})),prob:n.chance}:{distribution:[]})}}const Z1=async i=>{const e=await fetch(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${i}/all.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching data`);const n=await e.json();return new J1(n.data,n.build_number,n.release)};async function x1(i){for(;;)try{return await i()}catch(e){console.error(e),await new Promise(n=>setTimeout(n,2e3))}}let Bo=!1;const{subscribe:eh,set:th}=Ni(null),Ao={subscribe:eh,setVersion(i){if(Bo)throw new Error("can only set version once");Bo=!0,x1(()=>Z1(i)).then(th)}};function nh(i){let e,n=(i[4]?(i[2]?Oo:ge)(i[4]):i[1])+"",t,l;return{c(){e=g("a"),t=w(n),ue(e,"href",l="#/"+i[0]+"/"+i[1])},m(o,r){h(o,e,r),d(e,t)},p(o,r){r&22&&n!==(n=(o[4]?(o[2]?Oo:ge)(o[4]):o[1])+"")&&W(t,n),r&3&&l!==(l="#/"+o[0]+"/"+o[1])&&ue(e,"href",l)},i:Z,o:Z,d(o){o&&p(e)}}}function lh(i){let e,n=!sl(i[4]),t,l,o=sl(i[4]),r,f=n&&Mo(i);l=new ae({props:{type:i[0],id:i[1],plural:Lo(i[3])&&!sl(i[4])}});let a=o&&Do(i);return{c(){e=g("span"),f&&f.c(),t=C(),F(l.$$.fragment),a&&a.c(),Je(e,"white-space","nowrap")},m(s,u){h(s,e,u),f&&f.m(e,null),d(e,t),q(l,e,null),a&&a.m(e,null),r=!0},p(s,u){u&16&&(n=!sl(s[4])),n?f?f.p(s,u):(f=Mo(s),f.c(),f.m(e,t)):f&&(f.d(1),f=null);const c={};u&1&&(c.type=s[0]),u&2&&(c.id=s[1]),u&24&&(c.plural=Lo(s[3])&&!sl(s[4])),l.$set(c),u&16&&(o=sl(s[4])),o?a?a.p(s,u):(a=Do(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(s){r||(b(l.$$.fragment,s),r=!0)},o(s){k(l.$$.fragment,s),r=!1},d(s){s&&p(e),f&&f.d(),P(l),a&&a.d()}}}function Mo(i){let e=Bi(i[3])+"",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},p(t,l){l&8&&e!==(e=Bi(t[3])+"")&&W(n,e)},d(t){t&&p(n)}}}function Do(i){let e=" ",n,t,l=Bi(i[3])+"",o,r;return{c(){n=w(e),t=w("("),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&8&&l!==(l=Bi(f[3])+"")&&W(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function ih(i){let e,n,t,l;const o=[lh,nh],r=[];function f(a,s){return a[3]!=null?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Bi(i){return typeof i=="number"?i.toString():i[0]===i[1]?i[0].toString():`${i[0]}\u2013${i[1]}`}function Lo(i){return typeof i=="number"?i!==1:i[0]===i[1]?i[0]!==1:!0}function rh(i,e,n){let{type:t}=e,{id:l}=e,{plural:o=!1}=e,{count:r=void 0}=e;const f=xe("data");let a=f.byId(t,l);return(a==null?void 0:a.type)==="vehicle_part"&&!a.name&&a.item&&(a=f.byId("item",a.item)),i.$$set=s=>{"type"in s&&n(0,t=s.type),"id"in s&&n(1,l=s.id),"plural"in s&&n(2,o=s.plural),"count"in s&&n(3,r=s.count)},[t,l,o,r,a]}class ae extends Ve{constructor(e){super(),ze(this,e,rh,ih,He,{type:0,id:1,plural:2,count:3})}}const oh=async i=>{var t,l;const e=await fetch(`${i}/tile_config.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching tile data`);const n=await e.json();for(const o of n["tiles-new"]){const r=await fetch(`${i}/${o.file}`).then(c=>c.blob()),f=URL.createObjectURL(r),a=new Image;a.src=f;try{await new Promise((c,m)=>{a.onload=c,a.onerror=m})}finally{URL.revokeObjectURL(f)}const s=a.width/((t=o.sprite_width)!=null?t:n.tile_info[0].width)|0,u=a.height/((l=o.sprite_height)!=null?l:n.tile_info[0].height)|0;o.nx=s,o.ny=u}return n},{subscribe:fh,set:Go}=Ni(null),Lp={subscribe:fh,setURL(i){i?oh(i).then(e=>{Go({...e,baseUrl:i})}):Go(null)}},Ot=0,an=1,Kt=2,Qt=3,Zt=4,xt=5,en=6,Pt=7,vr={},qe=(i,e,n)=>{vr[i]=[e,n]};qe(1,Pt,Ot);qe(2,an,Ot);qe(3,Kt,Ot);qe(4,Zt,Ot);qe(5,en,Ot);qe(6,xt,Ot);qe(7,Qt,Ot);qe(8,Ot,Pt);qe(9,Ot,an);qe(10,Ot,Kt);qe(11,Ot,Zt);qe(12,Ot,en);qe(13,Ot,xt);qe(14,Ot,Qt);qe(15,Pt,Zt);qe(16,an,Zt);qe(17,Kt,Zt);qe(18,Zt,Zt);qe(19,en,Zt);qe(20,Ot,Zt);qe(21,xt,Zt);qe(22,Qt,Zt);qe(23,Pt,an);qe(24,an,an);qe(25,Kt,an);qe(26,Zt,an);qe(27,en,an);qe(28,xt,an);qe(29,Qt,an);qe(30,Ot,Ot);qe(31,Pt,Ot);qe(32,Ot,Pt);qe(33,Pt,Pt);qe(34,an,Pt);qe(35,Kt,Pt);qe(36,Qt,Pt);qe(37,Zt,Pt);qe(38,xt,Pt);qe(39,en,Pt);qe(40,Ot,Kt);qe(41,Pt,Kt);qe(42,an,Kt);qe(43,Kt,Kt);qe(44,Qt,Kt);qe(45,Zt,Kt);qe(46,xt,Kt);qe(47,en,Kt);qe(48,Ot,Qt);qe(49,Pt,Qt);qe(50,an,Qt);qe(51,Kt,Qt);qe(52,Qt,Qt);qe(53,Zt,Qt);qe(54,xt,Qt);qe(55,en,Qt);qe(56,Ot,xt);qe(57,Pt,xt);qe(58,an,xt);qe(59,Kt,xt);qe(60,Qt,xt);qe(61,Zt,xt);qe(62,xt,xt);qe(63,en,xt);qe(64,Ot,en);qe(65,Pt,en);qe(66,an,en);qe(67,Kt,en);qe(68,Qt,en);qe(69,Zt,en);qe(70,xt,en);qe(71,en,en);function fe(i){return{fg:vr[i][0],bg:vr[i][1],bold(){return{...this,is_bold:!0}},blink(){return{...this,is_blink:!0}},is_bold:!1,is_blink:!1,color(){let e=this.fg,n=this.bg;return this.is_bold&&(e=e+8),this.is_blink&&(n=n+8),{fg:e,bg:n}}}}function kr(i){return i?i[1]!="_"?kr("c_"+i):Gp[i]:kr("c_white")}const Gp={};function se(i,e,n,t){Gp[e]={...n.color(),inverse:t}}se("def_c_black","c_black",fe(30),"def_i_black");se("def_c_white","c_white",fe(1).bold(),"def_i_white");se("def_c_light_gray","c_light_gray",fe(1),"def_i_light_gray");se("def_c_dark_gray","c_dark_gray",fe(30).bold(),"def_i_dark_gray");se("def_c_red","c_red",fe(2),"def_i_red");se("def_c_green","c_green",fe(3),"def_i_green");se("def_c_blue","c_blue",fe(4),"def_i_blue");se("def_c_cyan","c_cyan",fe(5),"def_i_cyan");se("def_c_magenta","c_magenta",fe(6),"def_i_magenta");se("def_c_brown","c_brown",fe(7),"def_i_brown");se("def_c_light_red","c_light_red",fe(2).bold(),"def_i_light_red");se("def_c_light_green","c_light_green",fe(3).bold(),"def_i_light_green");se("def_c_light_blue","c_light_blue",fe(4).bold(),"def_i_light_blue");se("def_c_light_cyan","c_light_cyan",fe(5).bold(),"def_i_light_cyan");se("def_c_pink","c_pink",fe(6).bold(),"def_i_pink");se("def_c_yellow","c_yellow",fe(7).bold(),"def_i_yellow");se("def_h_black","h_black",fe(20),"def_c_blue");se("def_h_white","h_white",fe(15).bold(),"def_c_light_blue_white");se("def_h_light_gray","h_light_gray",fe(15),"def_c_blue_white");se("def_h_dark_gray","h_dark_gray",fe(20).bold(),"def_c_light_blue");se("def_h_red","h_red",fe(16),"def_c_blue_red");se("def_h_green","h_green",fe(17),"def_c_blue_green");se("def_h_blue","h_blue",fe(20),"def_h_blue");se("def_h_cyan","h_cyan",fe(19),"def_c_blue_cyan");se("def_h_magenta","h_magenta",fe(21),"def_c_blue_magenta");se("def_h_brown","h_brown",fe(22),"def_c_blue_yellow");se("def_h_light_red","h_light_red",fe(16).bold(),"def_c_light_blue_red");se("def_h_light_green","h_light_green",fe(17).bold(),"def_c_light_blue_green");se("def_h_light_blue","h_light_blue",fe(18).bold(),"def_h_light_blue");se("def_h_light_cyan","h_light_cyan",fe(19).bold(),"def_c_light_blue_cyan");se("def_h_pink","h_pink",fe(21).bold(),"def_c_light_blue_magenta");se("def_h_yellow","h_yellow",fe(22).bold(),"def_c_light_blue_yellow");se("def_i_black","i_black",fe(32),"def_c_black");se("def_i_white","i_white",fe(8).blink(),"def_c_white");se("def_i_light_gray","i_light_gray",fe(8),"def_c_light_gray");se("def_i_dark_gray","i_dark_gray",fe(32).blink(),"def_c_dark_gray");se("def_i_red","i_red",fe(9),"def_c_red");se("def_i_green","i_green",fe(10),"def_c_green");se("def_i_blue","i_blue",fe(11),"def_c_blue");se("def_i_cyan","i_cyan",fe(12),"def_c_cyan");se("def_i_magenta","i_magenta",fe(13),"def_c_magenta");se("def_i_brown","i_brown",fe(14),"def_c_brown");se("def_i_light_red","i_light_red",fe(9).blink(),"def_c_light_red");se("def_i_light_green","i_light_green",fe(10).blink(),"def_c_light_green");se("def_i_light_blue","i_light_blue",fe(11).blink(),"def_c_light_blue");se("def_i_light_cyan","i_light_cyan",fe(12).blink(),"def_c_light_cyan");se("def_i_pink","i_pink",fe(13).blink(),"def_c_pink");se("def_i_yellow","i_yellow",fe(14).blink(),"def_c_yellow");se("def_c_black_red","c_black_red",fe(9).bold(),"def_c_red");se("def_c_white_red","c_white_red",fe(23).bold(),"def_c_red_white");se("def_c_light_gray_red","c_light_gray_red",fe(23),"def_c_light_red_white");se("def_c_dark_gray_red","c_dark_gray_red",fe(9),"def_c_dark_gray_red");se("def_c_red_red","c_red_red",fe(9),"def_c_red_red");se("def_c_green_red","c_green_red",fe(25),"def_c_red_green");se("def_c_blue_red","c_blue_red",fe(26),"def_h_red");se("def_c_cyan_red","c_cyan_red",fe(27),"def_c_red_cyan");se("def_c_magenta_red","c_magenta_red",fe(28),"def_c_red_magenta");se("def_c_brown_red","c_brown_red",fe(29),"def_c_red_yellow");se("def_c_light_red_red","c_light_red_red",fe(24).bold(),"def_c_red_red");se("def_c_light_green_red","c_light_green_red",fe(25).bold(),"def_c_light_red_green");se("def_c_light_blue_red","c_light_blue_red",fe(26).bold(),"def_h_light_red");se("def_c_light_cyan_red","c_light_cyan_red",fe(27).bold(),"def_c_light_red_cyan");se("def_c_pink_red","c_pink_red",fe(28).bold(),"def_c_light_red_magenta");se("def_c_yellow_red","c_yellow_red",fe(29).bold(),"def_c_red_yellow");se("def_c_unset","c_unset",fe(31),"def_c_unset");se("def_c_black_white","c_black_white",fe(32),"def_c_light_gray");se("def_c_dark_gray_white","c_dark_gray_white",fe(32).bold(),"def_c_white");se("def_c_light_gray_white","c_light_gray_white",fe(33),"def_c_light_gray_white");se("def_c_white_white","c_white_white",fe(33).bold(),"def_c_white_white");se("def_c_red_white","c_red_white",fe(34),"def_c_white_red");se("def_c_light_red_white","c_light_red_white",fe(34).bold(),"def_c_light_gray_red");se("def_c_green_white","c_green_white",fe(35),"def_c_light_gray_green");se("def_c_light_green_white","c_light_green_white",fe(35).bold(),"def_c_white_green");se("def_c_brown_white","c_brown_white",fe(36),"def_c_light_gray_yellow");se("def_c_yellow_white","c_yellow_white",fe(36).bold(),"def_c_white_yellow");se("def_c_blue_white","c_blue_white",fe(37),"def_h_light_gray");se("def_c_light_blue_white","c_light_blue_white",fe(37).bold(),"def_h_white");se("def_c_magenta_white","c_magenta_white",fe(38),"def_c_light_gray_magenta");se("def_c_pink_white","c_pink_white",fe(38).bold(),"def_c_white_magenta");se("def_c_cyan_white","c_cyan_white",fe(39),"def_c_light_gray_cyan");se("def_c_light_cyan_white","c_light_cyan_white",fe(39).bold(),"def_c_white_cyan");se("def_c_black_green","c_black_green",fe(40),"def_c_green");se("def_c_dark_gray_green","c_dark_gray_green",fe(40).bold(),"def_c_light_green");se("def_c_light_gray_green","c_light_gray_green",fe(41),"def_c_green_white");se("def_c_white_green","c_white_green",fe(41).bold(),"def_c_light_green_white");se("def_c_red_green","c_red_green",fe(42),"def_c_green_red");se("def_c_light_red_green","c_light_red_green",fe(42).bold(),"def_c_light_green_red");se("def_c_green_green","c_green_green",fe(43),"def_c_green_green");se("def_c_light_green_green","c_light_green_green",fe(43).bold(),"def_c_light_green_green");se("def_c_brown_green","c_brown_green",fe(44),"def_c_green_yellow");se("def_c_yellow_green","c_yellow_green",fe(44).bold(),"def_c_light_green_yellow");se("def_c_blue_green","c_blue_green",fe(45),"def_h_green");se("def_c_light_blue_green","c_light_blue_green",fe(45).bold(),"def_h_light_green");se("def_c_magenta_green","c_magenta_green",fe(46),"def_c_green_magenta");se("def_c_pink_green","c_pink_green",fe(46).bold(),"def_c_light_green_magenta");se("def_c_cyan_green","c_cyan_green",fe(47),"def_c_green_cyan");se("def_c_light_cyan_green","c_light_cyan_green",fe(47).bold(),"def_c_light_green_cyan");se("def_c_black_yellow","c_black_yellow",fe(48),"def_c_brown");se("def_c_dark_gray_yellow","c_dark_gray_yellow",fe(48).bold(),"def_c_yellow");se("def_c_light_gray_yellow","c_light_gray_yellow",fe(49),"def_c_brown_white");se("def_c_white_yellow","c_white_yellow",fe(49).bold(),"def_c_yellow_white");se("def_c_red_yellow","c_red_yellow",fe(50),"def_c_yellow_red");se("def_c_light_red_yellow","c_light_red_yellow",fe(50).bold(),"def_c_yellow_red");se("def_c_green_yellow","c_green_yellow",fe(51),"def_c_brown_green");se("def_c_light_green_yellow","c_light_green_yellow",fe(51).bold(),"def_c_yellow_green");se("def_c_brown_yellow","c_brown_yellow",fe(52),"def_c_brown_yellow");se("def_c_yellow_yellow","c_yellow_yellow",fe(52).bold(),"def_c_yellow_yellow");se("def_c_blue_yellow","c_blue_yellow",fe(53),"def_h_brown");se("def_c_light_blue_yellow","c_light_blue_yellow",fe(53).bold(),"def_h_yellow");se("def_c_magenta_yellow","c_magenta_yellow",fe(54),"def_c_brown_magenta");se("def_c_pink_yellow","c_pink_yellow",fe(54).bold(),"def_c_yellow_magenta");se("def_c_cyan_yellow","c_cyan_yellow",fe(55),"def_c_brown_cyan");se("def_c_light_cyan_yellow","c_light_cyan_yellow",fe(55).bold(),"def_c_yellow_cyan");se("def_c_black_magenta","c_black_magenta",fe(56),"def_c_magenta");se("def_c_dark_gray_magenta","c_dark_gray_magenta",fe(56).bold(),"def_c_pink");se("def_c_light_gray_magenta","c_light_gray_magenta",fe(57),"def_c_magenta_white");se("def_c_white_magenta","c_white_magenta",fe(57).bold(),"def_c_pink_white");se("def_c_red_magenta","c_red_magenta",fe(58),"def_c_magenta_red");se("def_c_light_red_magenta","c_light_red_magenta",fe(58).bold(),"def_c_pink_red");se("def_c_green_magenta","c_green_magenta",fe(59),"def_c_magenta_green");se("def_c_light_green_magenta","c_light_green_magenta",fe(59).bold(),"def_c_pink_green");se("def_c_brown_magenta","c_brown_magenta",fe(60),"def_c_magenta_yellow");se("def_c_yellow_magenta","c_yellow_magenta",fe(60).bold(),"def_c_pink_yellow");se("def_c_blue_magenta","c_blue_magenta",fe(61),"def_h_magenta");se("def_c_light_blue_magenta","c_light_blue_magenta",fe(61).bold(),"def_h_pink");se("def_c_magenta_magenta","c_magenta_magenta",fe(62),"def_c_magenta_magenta");se("def_c_pink_magenta","c_pink_magenta",fe(62).bold(),"def_c_pink_magenta");se("def_c_cyan_magenta","c_cyan_magenta",fe(63),"def_c_magenta_cyan");se("def_c_light_cyan_magenta","c_light_cyan_magenta",fe(63).bold(),"def_c_pink_cyan");se("def_c_black_cyan","c_black_cyan",fe(64),"def_c_cyan");se("def_c_dark_gray_cyan","c_dark_gray_cyan",fe(64).bold(),"def_c_light_cyan");se("def_c_light_gray_cyan","c_light_gray_cyan",fe(65),"def_c_cyan_white");se("def_c_white_cyan","c_white_cyan",fe(65).bold(),"def_c_light_cyan_white");se("def_c_red_cyan","c_red_cyan",fe(66),"def_c_cyan_red");se("def_c_light_red_cyan","c_light_red_cyan",fe(66).bold(),"def_c_light_cyan_red");se("def_c_green_cyan","c_green_cyan",fe(67),"def_c_cyan_green");se("def_c_light_green_cyan","c_light_green_cyan",fe(67).bold(),"def_c_light_cyan_green");se("def_c_brown_cyan","c_brown_cyan",fe(68),"def_c_cyan_yellow");se("def_c_yellow_cyan","c_yellow_cyan",fe(68).bold(),"def_c_light_cyan_yellow");se("def_c_blue_cyan","c_blue_cyan",fe(69),"def_h_cyan");se("def_c_light_blue_cyan","c_light_blue_cyan",fe(69).bold(),"def_h_light_cyan");se("def_c_magenta_cyan","c_magenta_cyan",fe(70),"def_c_cyan_magenta");se("def_c_pink_cyan","c_pink_cyan",fe(70).bold(),"def_c_light_cyan_magenta");se("def_c_cyan_cyan","c_cyan_cyan",fe(71),"def_c_cyan_cyan");se("def_c_light_cyan_cyan","c_light_cyan_cyan",fe(71).bold(),"def_c_light_cyan_cyan");function sh(i){let e,n;return{c(){e=g("span"),n=w(i[3]),Je(e,"font-family","monospace"),ue(e,"class","c_"+i[4]+" svelte-17io91a")},m(t,l){h(t,e,l),d(e,n)},p:Z,d(t){t&&p(e)}}}function ah(i){let e,n,t,l=i[1].bg!=null&&Uo(i),o=i[1].fg!=null&&qo(i);return{c(){e=g("div"),l&&l.c(),n=C(),o&&o.c(),ue(e,"style",t=vl({width:`${i[2].width*i[2].pixelscale}px`,height:`${i[2].height*i[2].pixelscale}px`})),ue(e,"class","tile-icon svelte-17io91a")},m(r,f){h(r,e,f),l&&l.m(e,null),d(e,n),o&&o.m(e,null)},p(r,f){r[1].bg!=null?l?l.p(r,f):(l=Uo(r),l.c(),l.m(e,n)):l&&(l.d(1),l=null),r[1].fg!=null?o?o.p(r,f):(o=qo(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null),f&4&&t!==(t=vl({width:`${r[2].width*r[2].pixelscale}px`,height:`${r[2].height*r[2].pixelscale}px`}))&&ue(e,"style",t)},d(r){r&&p(e),l&&l.d(),o&&o.d()}}}function Uo(i){let e,n;return{c(){e=g("div"),ue(e,"class","icon-layer bg svelte-17io91a"),ue(e,"style",n=vl({width:`${i[1].bg.width}px`,height:`${i[1].bg.height}px`,"background-image":`url(${`${i[0]}/${encodeURIComponent(i[1].bg.file)}`})`,"background-position":`${-i[1].bg.tx*i[1].bg.width}px ${-i[1].bg.ty*i[1].bg.height}px`,transform:`scale(${i[2].pixelscale}) translate(${i[1].bg.offx}px, ${i[1].bg.offy}px)`}))},m(t,l){h(t,e,l)},p(t,l){l&7&&n!==(n=vl({width:`${t[1].bg.width}px`,height:`${t[1].bg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].bg.file)}`})`,"background-position":`${-t[1].bg.tx*t[1].bg.width}px ${-t[1].bg.ty*t[1].bg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].bg.offx}px, ${t[1].bg.offy}px)`}))&&ue(e,"style",n)},d(t){t&&p(e)}}}function qo(i){let e,n;return{c(){e=g("div"),ue(e,"class","icon-layer fg svelte-17io91a"),ue(e,"style",n=vl({width:`${i[1].fg.width}px`,height:`${i[1].fg.height}px`,"background-image":`url(${`${i[0]}/${encodeURIComponent(i[1].fg.file)}`})`,"background-position":`${-i[1].fg.tx*i[1].fg.width}px ${-i[1].fg.ty*i[1].fg.height}px`,transform:`scale(${i[2].pixelscale}) translate(${i[1].fg.offx}px, ${i[1].fg.offy}px)`}))},m(t,l){h(t,e,l)},p(t,l){l&7&&n!==(n=vl({width:`${t[1].fg.width}px`,height:`${t[1].fg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].fg.file)}`})`,"background-position":`${-t[1].fg.tx*t[1].fg.width}px ${-t[1].fg.ty*t[1].fg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].fg.offx}px, ${t[1].fg.offy}px)`}))&&ue(e,"style",n)},d(t){t&&p(e)}}}function uh(i){let e;function n(o,r){return o[1]?ah:sh}let t=n(i),l=t(i);return{c(){l.c(),e=ie()},m(o,r){l.m(o,r),h(o,e,r)},p(o,[r]){t===(t=n(o))&&l?l.p(o,r):(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},i:Z,o:Z,d(o){l.d(o),o&&p(e)}}}function Up(i){return typeof i=="string"?`i_${i}`:Up(i[0])}function Po(i,e){if(!i||!e)return;let n=0;const t=[];for(const r of i["tiles-new"])t.push({from:n,to:n+r.nx*r.ny,chunk:r}),n+=r.nx*r.ny;function l(r){for(const f of t)if(r>=f.from&&r<f.to)return f}function o(r){var c,m,$,v;if(r==null)return;const f=l(r),a=r-f.from,s=a%f.chunk.nx,u=a/f.chunk.nx|0;return{file:f.chunk.file,width:(c=f.chunk.sprite_width)!=null?c:i.tile_info[0].width,height:(m=f.chunk.sprite_height)!=null?m:i.tile_info[0].height,offx:($=f.chunk.sprite_offset_x)!=null?$:0,offy:(v=f.chunk.sprite_offset_y)!=null?v:0,tx:s,ty:u}}for(const r of i["tiles-new"]){for(const f of r.tiles)if(Array.isArray(f.id)&&f.id.includes(e)||f.id===e){let a=Array.isArray(f.fg)?f.fg[0]:f.fg,s=Array.isArray(f.bg)?f.bg[0]:f.bg;return a&&typeof a=="object"&&(a=a.sprite),s&&typeof s=="object"&&(s=s.sprite),{fg:o(a),bg:o(s)}}n+=r.nx*r.ny}}function vl(i){let e="";for(const[n,t]of Object.entries(i))e+=`${n}: ${t};`;return e}function ch(i,e,n){var E;let t,l,o,r;Sp(i,Lp,T=>n(6,r=T));let{item:f}=e,a=xe("data");const s=(E=[f.symbol].flat()[0])!=null?E:" ",u=/^LINE_/.test(s)?"|":s,c=f.color?typeof f.color=="string"?f.color:f.color[0]:f.bgcolor?Up(f.bgcolor):null;function m(T){return["item","monster","terrain","furniture","vehicle_part"].includes(bn(T.type))}function $(T,y,S=10){var R,G,M;function I(X){return y.type==="vehicle_part"?`vp_${X}`:X}const B=Po(T,I((R=y.id)!=null?R:y.abstract));if(B)return B;const O=(G=y.looks_like)!=null?G:y["copy-from"];if(!O)return;const N=Po(T,I(O));if(N)return N;if(S>0){const X=(M=a.byId(bn(y.type),O))!=null?M:a.abstractById(bn(y.type),O);if(X)return $(T,X,S-1)}}function v(T,y,S){var R;if(!T)return;const I=[y].flat()[0],B=I?/^LINE_/.test(I)?"|":I:" ",O=kr(Array.isArray(S)?S[0]:S).fg;for(const G of T["tiles-new"])for(const M of(R=G.ascii)!=null?R:[])if(N(M.color)+(M.bold?8:0)===O){const A=M.offset+B.charCodeAt(0),D=A%G.nx,J=A/G.nx|0;return{fg:{file:G.file,tx:D,ty:J,width:T.tile_info[0].width,height:T.tile_info[0].height,offx:0,offy:0}}}function N(G){return G==="BLACK"?0:G==="RED"?1:G==="GREEN"?2:G==="YELLOW"?3:G==="BLUE"?4:G==="MAGENTA"?5:G==="CYAN"?6:G==="WHITE"?7:-1}}return i.$$set=T=>{"item"in T&&n(5,f=T.item)},i.$$.update=()=>{var T;i.$$.dirty&64&&n(2,t=r==null?void 0:r.tile_info[0]),i.$$.dirty&96&&n(1,l=m(f)?(T=$(r,f))!=null?T:v(r,f.symbol,f.color):null),i.$$.dirty&64&&n(0,o=r==null?void 0:r.baseUrl)},[o,l,t,u,c,f,r]}class Qe extends Ve{constructor(e){super(),ze(this,e,ch,uh,He,{item:5})}}function _h(i){let e,n,t=i[0].cooldown+"",l,o,r;return e=new ae({props:{type:"item",id:i[0].gun_type}}),{c(){F(e.$$.fragment),n=w(" (cooldown: "),l=w(t),o=w(")")},m(f,a){q(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,[a]){const s={};a&1&&(s.id=f[0].gun_type),e.$set(s),(!r||a&1)&&t!==(t=f[0].cooldown+"")&&W(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){P(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function dh(i,e,n){let{attack:t}=e;return i.$$set=l=>{"attack"in l&&n(0,t=l.attack)},[t]}class mh extends Ve{constructor(e){super(),ze(this,e,dh,_h,He,{attack:0})}}function ph(i){let e=i[0].id+"",n,t,l,o="damage_max_instance"in i[0]&&Fo(i),r=i[0].cooldown&&Yo(i);return{c(){n=w(e),o&&o.c(),t=ie(),r&&r.c(),l=ie()},m(f,a){h(f,n,a),o&&o.m(f,a),h(f,t,a),r&&r.m(f,a),h(f,l,a)},p(f,a){a&1&&e!==(e=f[0].id+"")&&W(n,e),"damage_max_instance"in f[0]?o?o.p(f,a):(o=Fo(f),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),f[0].cooldown?r?r.p(f,a):(r=Yo(f),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i:Z,o:Z,d(f){f&&p(n),o&&o.d(f),f&&p(t),r&&r.d(f),f&&p(l)}}}function hh(i){let e,n,t,l;const o=[$h,bh],r=[];function f(a,s){return a[0].type==="gun"?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function gh(i){let e=i[0][0]+"",n,t,l=i[0].length>1&&Ho(i);return{c(){n=w(e),l&&l.c(),t=ie()},m(o,r){h(o,n,r),l&&l.m(o,r),h(o,t,r)},p(o,r){r&1&&e!==(e=o[0][0]+"")&&W(n,e),o[0].length>1?l?l.p(o,r):(l=Ho(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:Z,o:Z,d(o){o&&p(n),l&&l.d(o),o&&p(t)}}}function Fo(i){let e,n=dl(i[0].damage_max_instance).map(Wo).join(" ")+"",t;return{c(){e=w(`:
    `),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o&1&&n!==(n=dl(l[0].damage_max_instance).map(Wo).join(" ")+"")&&W(t,n)},d(l){l&&p(e),l&&p(t)}}}function Yo(i){let e=" ",n,t,l=i[0].cooldown+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&1&&l!==(l=f[0].cooldown+"")&&W(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function bh(i){let e=i[0].type+"",n,t,l=i[0].cooldown&&jo(i);return{c(){n=w(e),l&&l.c(),t=ie()},m(o,r){h(o,n,r),l&&l.m(o,r),h(o,t,r)},p(o,r){r&1&&e!==(e=o[0].type+"")&&W(n,e),o[0].cooldown?l?l.p(o,r):(l=jo(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:Z,o:Z,d(o){o&&p(n),l&&l.d(o),o&&p(t)}}}function $h(i){let e,n;return e=new mh({props:{attack:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.attack=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function jo(i){let e=" ",n,t,l=i[0].cooldown+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&1&&l!==(l=f[0].cooldown+"")&&W(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function Ho(i){let e=" ",n,t,l=i[0][1]+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&1&&l!==(l=f[0][1]+"")&&W(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function vh(i){let e,n,t,l,o;const r=[gh,hh,ph],f=[];function a(s,u){return u&1&&(e=null),e==null&&(e=!!Array.isArray(s[0])),e?0:"type"in s[0]?1:"id"in s[0]?2:-1}return~(n=a(i,-1))&&(t=f[n]=r[n](i)),{c(){t&&t.c(),l=ie()},m(s,u){~n&&f[n].m(s,u),h(s,l,u),o=!0},p(s,[u]){let c=n;n=a(s,u),n===c?~n&&f[n].p(s,u):(t&&(x(),k(f[c],1,1,()=>{f[c]=null}),ee()),~n?(t=f[n],t?t.p(s,u):(t=f[n]=r[n](s),t.c()),b(t,1),t.m(l.parentNode,l)):t=null)},i(s){o||(b(t),o=!0)},o(s){k(t),o=!1},d(s){~n&&f[n].d(s),s&&p(l)}}}const Wo=i=>`(${i.damage_type} for ${i.amount} damage)`;function kh(i,e,n){let{special_attack:t}=e;return i.$$set=l=>{"special_attack"in l&&n(0,t=l.special_attack)},[t]}class yh extends Ve{constructor(e){super(),ze(this,e,kh,vh,He,{special_attack:0})}}function zo(i,e,n){const t=i.slice();return t[8]=e[n],t}const wh=i=>({item:i&3}),Vo=i=>({item:i[8]});function Xo(i){let e,n;const t=i[5].default,l=Cp(t,i,i[4],Vo);return{c(){e=g("li"),l&&l.c()},m(o,r){h(o,e,r),l&&l.m(e,null),n=!0},p(o,r){l&&l.p&&(!n||r&19)&&Np(l,t,o,o[4],n?Rp(t,o[4],r,wh):Op(o[4]),Vo)},i(o){n||(b(l,o),n=!0)},o(o){k(l,o),n=!1},d(o){o&&p(e),l&&l.d(o)}}}function Jo(i){let e,n,t=Number(i[0].length).toLocaleString()+"",l,o,r,f;return{c(){e=g("button"),n=w("See all "),l=w(t),o=w("..."),ue(e,"class","disclosure")},m(a,s){h(a,e,s),d(e,n),d(e,l),d(e,o),r||(f=Tn(e,"click",i[6]),r=!0)},p(a,s){s&1&&t!==(t=Number(a[0].length).toLocaleString()+"")&&W(l,t)},d(a){a&&p(e),r=!1,f()}}}function Eh(i){let e,n,t,l,o=i[0].slice(0,i[1]),r=[];for(let s=0;s<o.length;s+=1)r[s]=Xo(zo(i,o,s));const f=s=>k(r[s],1,1,()=>{r[s]=null});let a=i[0].length>i[1]&&Jo(i);return{c(){e=g("ul");for(let s=0;s<r.length;s+=1)r[s].c();n=C(),a&&a.c(),t=ie()},m(s,u){h(s,e,u);for(let c=0;c<r.length;c+=1)r[c].m(e,null);h(s,n,u),a&&a.m(s,u),h(s,t,u),l=!0},p(s,[u]){if(u&19){o=s[0].slice(0,s[1]);let c;for(c=0;c<o.length;c+=1){const m=zo(s,o,c);r[c]?(r[c].p(m,u),b(r[c],1)):(r[c]=Xo(m),r[c].c(),b(r[c],1),r[c].m(e,null))}for(x(),c=o.length;c<r.length;c+=1)f(c);ee()}s[0].length>s[1]?a?a.p(s,u):(a=Jo(s),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(s){if(!l){for(let u=0;u<o.length;u+=1)b(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);l=!1},d(s){s&&p(e),ce(r,s),s&&p(n),a&&a.d(s),s&&p(t)}}}function Th(i,e,n){let{$$slots:t={},$$scope:l}=e,{items:o}=e,{limit:r=10}=e,{grace:f=4}=e,s=globalThis.__isTesting__?1/0:o.length<=r+f?r+f:r;const u=c=>{c.preventDefault(),n(1,s=1/0)};return i.$$set=c=>{"items"in c&&n(0,o=c.items),"limit"in c&&n(2,r=c.limit),"grace"in c&&n(3,f=c.grace),"$$scope"in c&&n(4,l=c.$$scope)},[o,s,r,f,l,t,u]}class ft extends Ve{constructor(e){super(),ze(this,e,Th,Eh,He,{items:0,limit:2,grace:3})}}function Ko(i,e,n){const t=i.slice();return t[10]=e[n],t}function Qo(i,e,n){const t=i.slice();return t[13]=e[n].id,t[14]=e[n].prob,t}function Zo(i,e,n){const t=i.slice();return t[10]=e[n],t}function xo(i,e,n){const t=i.slice();return t[13]=e[n].id,t[14]=e[n].prob,t}function ef(i,e,n){const t=i.slice();return t[21]=e[n],t}function tf(i,e,n){const t=i.slice();return t[24]=e[n],t}function nf(i,e,n){const t=i.slice();return t[27]=e[n],t}function lf(i,e,n){const t=i.slice();return t[27]=e[n],t}function rf(i,e,n){const t=i.slice();return t[27]=e[n],t}function of(i,e,n){const t=i.slice();return t[34]=e[n],t}function ff(i,e,n){const t=i.slice();return t[13]=e[n],t}function sf(i){let e,n,t=i[0].bodytype+"",l;return{c(){e=g("dt"),e.textContent="Body Type",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].bodytype+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function af(i){var o;let e,n,t=((o=i[0].species)!=null?o:[]).join(", ")+"",l;return{c(){e=g("dt"),e.textContent="Species",n=g("dd"),l=w(t)},m(r,f){h(r,e,f),h(r,n,f),d(n,l)},p(r,f){var a;f[0]&1&&t!==(t=((a=r[0].species)!=null?a:[]).join(", ")+"")&&W(l,t)},d(r){r&&p(e),r&&p(n)}}}function Sh(i){let e,n,t,l,o,r=i[5],f=[];for(let s=0;s<r.length;s+=1)f[s]=uf(ff(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Material",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&32){r=s[5];let c;for(c=0;c<r.length;c+=1){const m=ff(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=uf(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function uf(i){let e,n,t;return n=new ae({props:{type:"material",id:i[13]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function cf(i){let e,n,t,l,o=i[0].special_attacks,r=[];for(let a=0;a<o.length;a+=1)r[a]=_f(of(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Special Attacks",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ue(t,"class","no-bullets")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s[0]&3){o=a[0].special_attacks;let u;for(u=0;u<o.length;u+=1){const c=of(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=_f(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function Ch(i){let e,n;return e=new yh({props:{special_attack:i[34]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.special_attack=t[34]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ih(i){let e,n;return e=new ae({props:{type:"monster_attack",id:i[34][0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.id=t[34][0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function _f(i){let e,n,t,l,o,r;const f=[Ih,Ch],a=[];function s(u,c){return c[0]&1&&(n=null),n==null&&(n=!!(u[34][0]&&u[1].byId("monster_attack",u[34][0]))),n?0:1}return t=s(i,[-1,-1]),l=a[t]=f[t](i),{c(){e=g("li"),l.c(),o=C()},m(u,c){h(u,e,c),a[t].m(e,null),d(e,o),r=!0},p(u,c){let m=t;t=s(u,c),t===m?a[t].p(u,c):(x(),k(a[m],1,1,()=>{a[m]=null}),ee(),l=a[t],l?l.p(u,c):(l=a[t]=f[t](u),l.c()),b(l,1),l.m(e,o))},i(u){r||(b(l),r=!0)},o(u){k(l),r=!1},d(u){u&&p(e),a[t].d()}}}function df(i){let e,n,t=i[0].regenerates+"",l,o;return{c(){e=g("dt"),e.textContent="Regenerates",n=g("dd"),l=w(t),o=w(" hp/turn")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f[0]&1&&t!==(t=r[0].regenerates+"")&&W(l,t)},d(r){r&&p(e),r&&p(n)}}}function mf(i){let e,n,t=i[0].special_when_hit[0]+"",l,o,r=i[0].special_when_hit[1]+"",f,a;return{c(){e=g("dt"),e.textContent="When Hit",n=g("dd"),l=w(t),o=w(" ("),f=w(r),a=w("%)")},m(s,u){h(s,e,u),h(s,n,u),d(n,l),d(n,o),d(n,f),d(n,a)},p(s,u){u[0]&1&&t!==(t=s[0].special_when_hit[0]+"")&&W(l,t),u[0]&1&&r!==(r=s[0].special_when_hit[1]+"")&&W(f,r)},d(s){s&&p(e),s&&p(n)}}}function pf(i){let e,n,t,l,o=i[0].anger_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=hf(rf(i,o,f));return{c(){e=g("dt"),e.textContent="Anger Triggers",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=C(),ue(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&17){o=f[0].anger_triggers;let s;for(s=0;s<o.length;s+=1){const u=rf(f,o,s);r[s]?r[s].p(u,a):(r[s]=hf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ce(r,f)}}}function hf(i){let e,n,t=i[27]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ue(n,"title",o=i[4][i[27]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&W(l,t),f[0]&1&&o!==(o=r[4][r[27]])&&ue(n,"title",o)},d(r){r&&p(e)}}}function gf(i){let e,n,t,l,o=i[0].placate_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=bf(lf(i,o,f));return{c(){e=g("dt"),e.textContent="Placate Triggers",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=C(),ue(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&17){o=f[0].placate_triggers;let s;for(s=0;s<o.length;s+=1){const u=lf(f,o,s);r[s]?r[s].p(u,a):(r[s]=bf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ce(r,f)}}}function bf(i){let e,n,t=i[27]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ue(n,"title",o=i[4][i[27]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&W(l,t),f[0]&1&&o!==(o=r[4][r[27]])&&ue(n,"title",o)},d(r){r&&p(e)}}}function $f(i){let e,n,t,l,o=i[0].fear_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=vf(nf(i,o,f));return{c(){e=g("dt"),e.textContent="Fear Triggers",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=C(),ue(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&17){o=f[0].fear_triggers;let s;for(s=0;s<o.length;s+=1){const u=nf(f,o,s);r[s]?r[s].p(u,a):(r[s]=vf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ce(r,f)}}}function vf(i){let e,n,t=i[27]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ue(n,"title",o=i[4][i[27]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&W(l,t),f[0]&1&&o!==(o=r[4][r[27]])&&ue(n,"title",o)},d(r){r&&p(e)}}}function kf(i){var f;let e,n,t,l,o=(f=i[0].flags)!=null?f:[],r=[];for(let a=0;a<o.length;a+=1)r[a]=yf(tf(i,o,a));return{c(){e=g("dt"),e.textContent="Flags",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();l=C(),ue(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);d(n,l)},p(a,s){var u;if(s[0]&9){o=(u=a[0].flags)!=null?u:[];let c;for(c=0;c<o.length;c+=1){const m=tf(a,o,c);r[c]?r[c].p(m,s):(r[c]=yf(m),r[c].c(),r[c].m(t,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function yf(i){let e,n,t=i[24]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ue(n,"title",o=i[3][i[24]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[24]+"")&&W(l,t),f[0]&1&&o!==(o=r[3][r[24]])&&ue(n,"title",o)},d(r){r&&p(e)}}}function wf(i){let e,n,t,l;function o(a,s){var u;return s[0]&1&&(t=null),t==null&&(t=!!(((u=a[0].death_function.effect)==null?void 0:u.id)&&a[1].byId("SPELL",a[0].death_function.effect.id))),t?Nh:Rh}let r=o(i,[-1,-1]),f=r(i);return{c(){e=g("dt"),e.textContent="On Death",n=g("dd"),f.c(),l=C()},m(a,s){h(a,e,s),h(a,n,s),f.m(n,null),d(n,l)},p(a,s){r===(r=o(a,s))&&f?f.p(a,s):(f.d(1),f=r(a),f&&(f.c(),f.m(n,l)))},d(a){a&&p(e),a&&p(n),f.d()}}}function Rh(i){var t,l,o;let e=((o=(l=(t=i[0].death_function.effect)==null?void 0:t.id)!=null?l:i[0].death_function.corpse_type)!=null?o:"NORMAL")+"",n;return{c(){n=w(e)},m(r,f){h(r,n,f)},p(r,f){var a,s,u;f[0]&1&&e!==(e=((u=(s=(a=r[0].death_function.effect)==null?void 0:a.id)!=null?s:r[0].death_function.corpse_type)!=null?u:"NORMAL")+"")&&W(n,e)},d(r){r&&p(n)}}}function Nh(i){let e=ge(i[1].byId("SPELL",i[0].death_function.effect.id))+"",n,t,l=Jt(i[1].byId("SPELL",i[0].death_function.effect.id).description)+"",o,r;return{c(){n=w(e),t=w(" ("),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a[0]&1&&e!==(e=ge(f[1].byId("SPELL",f[0].death_function.effect.id))+"")&&W(n,e),a[0]&1&&l!==(l=Jt(f[1].byId("SPELL",f[0].death_function.effect.id).description)+"")&&W(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function Oh(i){let e,n,t,l,o,r=i[9].monsters,f=[];for(let m=0;m<r.length;m+=1)f[m]=Ef(ef(i,r,m));const a=m=>k(f[m],1,1,()=>{f[m]=null});function s(m,$){if(m[9].age_grow)return Ah;if(m[9].half_life)return Bh}let u=s(i),c=u&&u(i);return{c(){e=g("dt"),e.textContent="Upgrades Into",n=g("dd"),t=g("ul");for(let m=0;m<f.length;m+=1)f[m].c();l=C(),c&&c.c(),ue(t,"class","comma-separated or")},m(m,$){h(m,e,$),h(m,n,$),d(n,t);for(let v=0;v<f.length;v+=1)f[v].m(t,null);d(n,l),c&&c.m(n,null),o=!0},p(m,$){if($[0]&512){r=m[9].monsters;let v;for(v=0;v<r.length;v+=1){const E=ef(m,r,v);f[v]?(f[v].p(E,$),b(f[v],1)):(f[v]=Ef(E),f[v].c(),b(f[v],1),f[v].m(t,null))}for(x(),v=r.length;v<f.length;v+=1)a(v);ee()}c&&c.p(m,$)},i(m){if(!o){for(let $=0;$<r.length;$+=1)b(f[$]);o=!0}},o(m){f=f.filter(Boolean);for(let $=0;$<f.length;$+=1)k(f[$]);o=!1},d(m){m&&p(e),m&&p(n),ce(f,m),c&&c.d()}}}function Ef(i){let e,n,t;return n=new ae({props:{type:"monster",id:i[21]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Bh(i){let e,n=i[9].half_life+"",t,l,o,r=i[9].half_life!==1&&Mh();return{c(){e=w("with a half-life of "),t=w(n),l=w(" day"),r&&r.c(),o=ie()},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:Z,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function Ah(i){let e,n=i[9].age_grow+"",t,l,o,r=i[9].age_grow!==1&&Dh();return{c(){e=w("in "),t=w(n),l=w(" day"),r&&r.c(),o=ie()},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:Z,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function Mh(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Dh(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Lh(i){let e,n,t,l,o;return l=new ft({props:{items:i[6],$$slots:{default:[Gh,({item:r})=>({0:r}),({item:r})=>[r?1:0]]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Drops",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f[0]&1|f[1]&256&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function Gh(i){let e,n,t,l,o=Of(i[0].prob)+"",r,f,a;return e=new Qe({props:{item:i[1].byId("item",i[0].id)}}),t=new ae({props:{type:"item",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment),l=w(" ("),r=w(o),f=w(")")},m(s,u){q(e,s,u),h(s,n,u),q(t,s,u),h(s,l,u),h(s,r,u),h(s,f,u),a=!0},p(s,u){const c={};u[0]&1&&(c.item=s[1].byId("item",s[0].id)),e.$set(c);const m={};u[0]&1&&(m.id=s[0].id),t.$set(m),(!a||u[0]&1)&&o!==(o=Of(s[0].prob)+"")&&W(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){P(e,s),s&&p(n),P(t,s),s&&p(l),s&&p(r),s&&p(f)}}}function Uh(i){let e,n,t,l,o,r=i[7].entries,f=[];for(let s=0;s<r.length;s+=1)f[s]=Sf(Zo(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Butchering Results",t=C(),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u[0]&130){r=s[7].entries;let c;for(c=0;c<r.length;c+=1){const m=Zo(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Sf(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ce(f,s)}}}function qh(i){let e,n,t,l,o,r;return n=new Qe({props:{item:i[1].byId("item",i[10].drop)}}),l=new ae({props:{type:"item",id:i[10].drop}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment),o=C()},m(f,a){h(f,e,a),q(n,e,null),d(e,t),q(l,e,null),d(e,o),r=!0},p:Z,i(f){r||(b(n.$$.fragment,f),b(l.$$.fragment,f),r=!0)},o(f){k(n.$$.fragment,f),k(l.$$.fragment,f),r=!1},d(f){f&&p(e),P(n),P(l)}}}function Ph(i){let e,n,t=i[1].flattenItemGroup(i[1].byId("item_group",i[10].drop)),l=[];for(let r=0;r<t.length;r+=1)l[r]=Tf(xo(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f[0]&130){t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop));let a;for(a=0;a<t.length;a+=1){const s=xo(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Tf(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ce(l,r),r&&p(e)}}}function Tf(i){let e,n,t,l,o,r=(i[14]*100).toFixed(2)+"",f,a,s;return n=new Qe({props:{item:i[1].byId("item",i[13])}}),l=new ae({props:{type:"item",id:i[13]}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment),o=w(" ("),f=w(r),a=w(`%)
            `)},m(u,c){h(u,e,c),q(n,e,null),d(e,t),q(l,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:Z,i(u){s||(b(n.$$.fragment,u),b(l.$$.fragment,u),s=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),s=!1},d(u){u&&p(e),P(n),P(l)}}}function Sf(i){let e,n,t,l;const o=[Ph,qh],r=[];function f(a,s){var u;return(u=a[1].byId("harvest_drop_type",a[10].type))!=null&&u.group?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Fh(i){let e,n,t,l,o,r=i[8].entries,f=[];for(let s=0;s<r.length;s+=1)f[s]=If(Ko(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Dissection Results",t=C(),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u[0]&258){r=s[8].entries;let c;for(c=0;c<r.length;c+=1){const m=Ko(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=If(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ce(f,s)}}}function Yh(i){let e,n,t,l,o,r;return n=new Qe({props:{item:i[1].byId("item",i[10].drop)}}),l=new ae({props:{type:"item",id:i[10].drop}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment),o=C()},m(f,a){h(f,e,a),q(n,e,null),d(e,t),q(l,e,null),d(e,o),r=!0},p:Z,i(f){r||(b(n.$$.fragment,f),b(l.$$.fragment,f),r=!0)},o(f){k(n.$$.fragment,f),k(l.$$.fragment,f),r=!1},d(f){f&&p(e),P(n),P(l)}}}function jh(i){let e,n,t=i[1].flattenItemGroup(i[1].byId("item_group",i[10].drop)),l=[];for(let r=0;r<t.length;r+=1)l[r]=Cf(Qo(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f[0]&258){t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop));let a;for(a=0;a<t.length;a+=1){const s=Qo(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Cf(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ce(l,r),r&&p(e)}}}function Cf(i){let e,n,t,l,o,r=(i[14]*100).toFixed(2)+"",f,a,s;return n=new Qe({props:{item:i[1].byId("item",i[13])}}),l=new ae({props:{type:"item",id:i[13]}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment),o=w(" ("),f=w(r),a=w(`%)
            `)},m(u,c){h(u,e,c),q(n,e,null),d(e,t),q(l,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:Z,i(u){s||(b(n.$$.fragment,u),b(l.$$.fragment,u),s=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),s=!1},d(u){u&&p(e),P(n),P(l)}}}function If(i){let e,n,t,l;const o=[jh,Yh],r=[];function f(a,s){var u;return(u=a[1].byId("harvest_drop_type",a[10].type))!=null&&u.group?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Hh(i){var Rl,Nl,Ol,Bl,Al,Ml,Dl,Ll,Gl,Ul,ql,Pl,Fl,Yl,jl,Hl,Wl,zl,Vl,Xl,Jl,Kl;let e,n,t,l=ge(i[0])+"",o,r,f,a,s,u,c,m=Jn(i[0].volume)+"",$,v,E,T=$l(i[0].weight)+"",y,S,I,B=al(i[0])+"",O,N,R,G,M=Rf(al(i[0]))+"",X,A,D,J,j,U=i[0].description+"",Y,L,H,le,z,Q,K,oe,V,te=((Rl=i[0].speed)!=null?Rl:0)+"",_e,Ge,$e,me=((Nl=i[0].melee_skill)!=null?Nl:0)+"",be,ve,de,De=i[2](i[0])+"",Ie,ke,Te,rt,ye,pe,Le,We,Me=i[0].hp+"",Oe,Ze,he,Be=((Ol=i[0].dodge)!=null?Ol:0)+"",Pe,Ne,Se,Fe,Ue,Xe,it=((Bl=i[0].armor_bash)!=null?Bl:0)+"",mt,Nt,tn,Gt=((Al=i[0].armor_cut)!=null?Al:0)+"",Mt,ut,It,Ye=((Dl=i[0].armor_stab)!=null?Dl:Math.floor(((Ml=i[0].armor_cut)!=null?Ml:0)*.8))+"",Ke,vt,pt,dt=((Ll=i[0].armor_bullet)!=null?Ll:0)+"",ht,gt,lt,st=((Ul=i[0].armor_acid)!=null?Ul:Math.floor(((Gl=i[0].armor_cut)!=null?Gl:0)*.5))+"",ot,nn,tt,ln=((ql=i[0].armor_fire)!=null?ql:0)+"",kt,Bt,at,rn,wt,bt,je,St,ct,et=((Pl=i[0].aggression)!=null?Pl:0)+"",nt,_t,Ct,Ft=((Fl=i[0].morale)!=null?Fl:0)+"",Sn,ne,Ce,cn=((Yl=i[0].vision_day)!=null?Yl:40)+"",Cn,Fn,yn=((jl=i[0].vision_night)!=null?jl:1)+"",In,Yn,Rn,Nn,wn=i[0].default_faction+"",On,Bn,An,Mn,Dn,Ln,At,Gn,rl,ol,$t;n=new Qe({props:{item:i[0]}});let Yt=i[0].bodytype&&sf(i),jt=i[0].species&&i[0].species.length&&af(i),dn=i[5].length&&Sh(i),Dt=i[0].special_attacks&&cf(i),re=i[0].regenerates&&df(i),Re=i[0].special_when_hit&&mf(i),yt=((Hl=i[0].anger_triggers)==null?void 0:Hl.length)&&pf(i),Ht=((Wl=i[0].placate_triggers)==null?void 0:Wl.length)&&gf(i),Wt=((zl=i[0].fear_triggers)==null?void 0:zl.length)&&$f(i),zt=((Vl=i[0].flags)==null?void 0:Vl.length)&&kf(i),Vt=i[0].death_function&&wf(i),mn=i[9]&&Oh(i),pn=((Xl=i[6])==null?void 0:Xl.length)&&Lh(i),hn=i[7]&&((Jl=i[7].entries)!=null?Jl:[]).length&&Uh(i),gn=i[8]&&((Kl=i[8].entries)!=null?Kl:[]).length&&Fh(i);return{c(){e=g("h1"),F(n.$$.fragment),t=C(),o=w(l),r=C(),f=g("section"),a=g("dl"),Yt&&Yt.c(),s=ie(),jt&&jt.c(),u=g("dt"),u.textContent="Volume",c=g("dd"),$=w(m),v=g("dt"),v.textContent="Weight",E=g("dd"),y=w(T),dn&&dn.c(),S=g("dt"),S.textContent="Difficulty",I=g("dd"),O=w(B),N=C(),R=g("span"),G=w("("),X=w(M),A=w(")"),J=C(),j=g("p"),Y=w(U),L=C(),H=g("div"),le=g("section"),z=g("h1"),z.textContent="Attack",Q=C(),K=g("dl"),oe=g("dt"),oe.textContent="Speed",V=g("dd"),_e=w(te),Ge=g("dt"),Ge.textContent="Melee Skill",$e=g("dd"),be=w(me),ve=g("dt"),ve.textContent="Damage",de=g("dd"),Ie=w(De),Dt&&Dt.c(),ke=C(),Te=g("section"),rt=g("h1"),rt.textContent="Defense",ye=C(),pe=g("dl"),Le=g("dt"),Le.textContent="HP",We=g("dd"),Oe=w(Me),re&&re.c(),Ze=g("dt"),Ze.textContent="Dodge",he=g("dd"),Pe=w(Be),Ne=g("dt"),Ne.textContent="Armor",Se=g("dd"),Fe=g("dl"),Ue=g("dt"),Ue.textContent="Bash",Xe=g("dd"),mt=w(it),Nt=g("dt"),Nt.textContent="Cut",tn=g("dd"),Mt=w(Gt),ut=g("dt"),ut.textContent="Stab",It=g("dd"),Ke=w(Ye),vt=g("dt"),vt.textContent="Bullet",pt=g("dd"),ht=w(dt),gt=g("dt"),gt.textContent="Acid",lt=g("dd"),ot=w(st),nn=g("dt"),nn.textContent="Fire",tt=g("dd"),kt=w(ln),Bt=C(),Re&&Re.c(),at=C(),rn=g("section"),wt=g("h1"),wt.textContent="Behavior",bt=C(),je=g("dl"),St=g("dt"),St.textContent=`Aggression
    `,ct=g("dd"),nt=w(et),_t=g("dt"),_t.textContent="Morale",Ct=g("dd"),Sn=w(Ft),ne=g("dt"),ne.textContent="Vision Range",Ce=g("dd"),Cn=w(cn),Fn=w(" (day) / "),In=w(yn),Yn=w(" (night)"),Rn=g("dt"),Rn.textContent="Default Faction",Nn=g("dd"),On=w(wn),yt&&yt.c(),Bn=ie(),Ht&&Ht.c(),An=ie(),Wt&&Wt.c(),Mn=ie(),zt&&zt.c(),Dn=ie(),Vt&&Vt.c(),Ln=ie(),mn&&mn.c(),At=C(),pn&&pn.c(),Gn=C(),hn&&hn.c(),rl=C(),gn&&gn.c(),ol=ie(),ue(R,"class",D="c_"+Nf(al(i[0]))+" fg_only"),Je(j,"color","var(--cata-color-gray)"),Je(pe,"flex","1"),ue(H,"class","side-by-side"),ue(St,"title","Monsters with high aggression are more likely to be hostile. Ranges from -100 to 100"),ue(_t,"title","Morale at spawn. Monsters with low morale will flee.")},m(we,Ee){h(we,e,Ee),q(n,e,null),d(e,t),d(e,o),h(we,r,Ee),h(we,f,Ee),d(f,a),Yt&&Yt.m(a,null),d(a,s),jt&&jt.m(a,null),d(a,u),d(a,c),d(c,$),d(a,v),d(a,E),d(E,y),dn&&dn.m(a,null),d(a,S),d(a,I),d(I,O),d(I,N),d(I,R),d(R,G),d(R,X),d(R,A),d(f,J),d(f,j),d(j,Y),h(we,L,Ee),h(we,H,Ee),d(H,le),d(le,z),d(le,Q),d(le,K),d(K,oe),d(K,V),d(V,_e),d(K,Ge),d(K,$e),d($e,be),d(K,ve),d(K,de),d(de,Ie),Dt&&Dt.m(K,null),d(H,ke),d(H,Te),d(Te,rt),d(Te,ye),d(Te,pe),d(pe,Le),d(pe,We),d(We,Oe),re&&re.m(pe,null),d(pe,Ze),d(pe,he),d(he,Pe),d(pe,Ne),d(pe,Se),d(Se,Fe),d(Fe,Ue),d(Fe,Xe),d(Xe,mt),d(Fe,Nt),d(Fe,tn),d(tn,Mt),d(Fe,ut),d(Fe,It),d(It,Ke),d(Fe,vt),d(Fe,pt),d(pt,ht),d(Fe,gt),d(Fe,lt),d(lt,ot),d(Fe,nn),d(Fe,tt),d(tt,kt),d(Se,Bt),Re&&Re.m(pe,null),h(we,at,Ee),h(we,rn,Ee),d(rn,wt),d(rn,bt),d(rn,je),d(je,St),d(je,ct),d(ct,nt),d(je,_t),d(je,Ct),d(Ct,Sn),d(je,ne),d(je,Ce),d(Ce,Cn),d(Ce,Fn),d(Ce,In),d(Ce,Yn),d(je,Rn),d(je,Nn),d(Nn,On),yt&&yt.m(je,null),d(je,Bn),Ht&&Ht.m(je,null),d(je,An),Wt&&Wt.m(je,null),d(je,Mn),zt&&zt.m(je,null),d(je,Dn),Vt&&Vt.m(je,null),d(je,Ln),mn&&mn.m(je,null),h(we,At,Ee),pn&&pn.m(we,Ee),h(we,Gn,Ee),hn&&hn.m(we,Ee),h(we,rl,Ee),gn&&gn.m(we,Ee),h(we,ol,Ee),$t=!0},p(we,Ee){var io,ro,oo,fo,so,ao,uo,co,_o,mo,po,ho,go,bo,$o,vo,ko,yo,wo,Eo,To,So;const $n={};Ee[0]&1&&($n.item=we[0]),n.$set($n),(!$t||Ee[0]&1)&&l!==(l=ge(we[0])+"")&&W(o,l),we[0].bodytype?Yt?Yt.p(we,Ee):(Yt=sf(we),Yt.c(),Yt.m(a,s)):Yt&&(Yt.d(1),Yt=null),we[0].species&&we[0].species.length?jt?jt.p(we,Ee):(jt=af(we),jt.c(),jt.m(a,u)):jt&&(jt.d(1),jt=null),(!$t||Ee[0]&1)&&m!==(m=Jn(we[0].volume)+"")&&W($,m),(!$t||Ee[0]&1)&&T!==(T=$l(we[0].weight)+"")&&W(y,T),we[5].length&&dn.p(we,Ee),(!$t||Ee[0]&1)&&B!==(B=al(we[0])+"")&&W(O,B),(!$t||Ee[0]&1)&&M!==(M=Rf(al(we[0]))+"")&&W(X,M),(!$t||Ee[0]&1&&D!==(D="c_"+Nf(al(we[0]))+" fg_only"))&&ue(R,"class",D),(!$t||Ee[0]&1)&&U!==(U=we[0].description+"")&&W(Y,U),(!$t||Ee[0]&1)&&te!==(te=((io=we[0].speed)!=null?io:0)+"")&&W(_e,te),(!$t||Ee[0]&1)&&me!==(me=((ro=we[0].melee_skill)!=null?ro:0)+"")&&W(be,me),(!$t||Ee[0]&1)&&De!==(De=we[2](we[0])+"")&&W(Ie,De),we[0].special_attacks?Dt?(Dt.p(we,Ee),Ee[0]&1&&b(Dt,1)):(Dt=cf(we),Dt.c(),b(Dt,1),Dt.m(K,null)):Dt&&(x(),k(Dt,1,1,()=>{Dt=null}),ee()),(!$t||Ee[0]&1)&&Me!==(Me=we[0].hp+"")&&W(Oe,Me),we[0].regenerates?re?re.p(we,Ee):(re=df(we),re.c(),re.m(pe,Ze)):re&&(re.d(1),re=null),(!$t||Ee[0]&1)&&Be!==(Be=((oo=we[0].dodge)!=null?oo:0)+"")&&W(Pe,Be),(!$t||Ee[0]&1)&&it!==(it=((fo=we[0].armor_bash)!=null?fo:0)+"")&&W(mt,it),(!$t||Ee[0]&1)&&Gt!==(Gt=((so=we[0].armor_cut)!=null?so:0)+"")&&W(Mt,Gt),(!$t||Ee[0]&1)&&Ye!==(Ye=((uo=we[0].armor_stab)!=null?uo:Math.floor(((ao=we[0].armor_cut)!=null?ao:0)*.8))+"")&&W(Ke,Ye),(!$t||Ee[0]&1)&&dt!==(dt=((co=we[0].armor_bullet)!=null?co:0)+"")&&W(ht,dt),(!$t||Ee[0]&1)&&st!==(st=((mo=we[0].armor_acid)!=null?mo:Math.floor(((_o=we[0].armor_cut)!=null?_o:0)*.5))+"")&&W(ot,st),(!$t||Ee[0]&1)&&ln!==(ln=((po=we[0].armor_fire)!=null?po:0)+"")&&W(kt,ln),we[0].special_when_hit?Re?Re.p(we,Ee):(Re=mf(we),Re.c(),Re.m(pe,null)):Re&&(Re.d(1),Re=null),(!$t||Ee[0]&1)&&et!==(et=((ho=we[0].aggression)!=null?ho:0)+"")&&W(nt,et),(!$t||Ee[0]&1)&&Ft!==(Ft=((go=we[0].morale)!=null?go:0)+"")&&W(Sn,Ft),(!$t||Ee[0]&1)&&cn!==(cn=((bo=we[0].vision_day)!=null?bo:40)+"")&&W(Cn,cn),(!$t||Ee[0]&1)&&yn!==(yn=(($o=we[0].vision_night)!=null?$o:1)+"")&&W(In,yn),(!$t||Ee[0]&1)&&wn!==(wn=we[0].default_faction+"")&&W(On,wn),(vo=we[0].anger_triggers)!=null&&vo.length?yt?yt.p(we,Ee):(yt=pf(we),yt.c(),yt.m(je,Bn)):yt&&(yt.d(1),yt=null),(ko=we[0].placate_triggers)!=null&&ko.length?Ht?Ht.p(we,Ee):(Ht=gf(we),Ht.c(),Ht.m(je,An)):Ht&&(Ht.d(1),Ht=null),(yo=we[0].fear_triggers)!=null&&yo.length?Wt?Wt.p(we,Ee):(Wt=$f(we),Wt.c(),Wt.m(je,Mn)):Wt&&(Wt.d(1),Wt=null),(wo=we[0].flags)!=null&&wo.length?zt?zt.p(we,Ee):(zt=kf(we),zt.c(),zt.m(je,Dn)):zt&&(zt.d(1),zt=null),we[0].death_function?Vt?Vt.p(we,Ee):(Vt=wf(we),Vt.c(),Vt.m(je,Ln)):Vt&&(Vt.d(1),Vt=null),we[9]&&mn.p(we,Ee),(Eo=we[6])!=null&&Eo.length&&pn.p(we,Ee),we[7]&&((To=we[7].entries)!=null?To:[]).length&&hn.p(we,Ee),we[8]&&((So=we[8].entries)!=null?So:[]).length&&gn.p(we,Ee)},i(we){$t||(b(n.$$.fragment,we),b(dn),b(Dt),b(mn),b(pn),b(hn),b(gn),$t=!0)},o(we){k(n.$$.fragment,we),k(dn),k(Dt),k(mn),k(pn),k(hn),k(gn),$t=!1},d(we){we&&p(e),P(n),we&&p(r),we&&p(f),Yt&&Yt.d(),jt&&jt.d(),dn&&dn.d(),we&&p(L),we&&p(H),Dt&&Dt.d(),re&&re.d(),Re&&Re.d(),we&&p(at),we&&p(rn),yt&&yt.d(),Ht&&Ht.d(),Wt&&Wt.d(),zt&&zt.d(),Vt&&Vt.d(),mn&&mn.d(),we&&p(At),pn&&pn.d(we),we&&p(Gn),hn&&hn.d(we),we&&p(rl),gn&&gn.d(we),we&&p(ol)}}}function al(i){const{melee_skill:e=0,melee_dice:n=0,melee_cut:t=0,melee_dice_sides:l=0,dodge:o=0,armor_bash:r=-1,armor_cut:f=-1,diff:a=0,special_attacks:s=[],emit_fields:u=[],hp:c,speed:m=0,attack_cost:$=100,morale:v=0,aggression:E=0,vision_day:T=40,vision_night:y=1}=i;let S=(e+1)*n*(t+l)*.04+(o+1)*(3+r+f)*.04+(a+s.length+8*u.length);return S=Math.floor(S),S*=(c+m-$+(v+E)*.1)*.01+(T+2*y)*.01,Math.floor(S)}function Rf(i){return i<3?"Minimal threat.":i<10?"Mildly dangerous.":i<20?"Dangerous.":i<30?"Very dangerous.":i<50?"Extremely dangerous.":"Fatally dangerous!"}function Nf(i){return i<3||i<10?"light_gray":i<20?"light_red":(i<30||i<50,"red")}function Of(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function Wh(i){return[i.default].concat(i.monsters.map(e=>e.monster).filter(e=>e!==i.default)).filter(e=>e)}function zh(i,e,n){var $;let{item:t}=e,l=xe("data");function o(v){let{melee_dice:E=0,melee_dice_sides:T=0,melee_damage:y=[],melee_cut:S}=v;const I=dl(y);return S&&I.push({damage_type:"cut",amount:S}),`${E}d${T} bash`+I.map(B=>` + ${B.amount} ${B.damage_type}`).join("")}const r={SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",PATH_AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",PATH_AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",PATH_AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",PATH_AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},f={FIRE:"Triggers if there's a fire within 3 tiles, the strength of the effect equals 5 * the field intensity of the fire.",FRIEND_ATTACKED:"Triggers if the monster sees another monster of the same type being attacked; strength = 15.",FRIEND_DIED:"Triggers if the monster sees another monster of the same type dying; strength = 15.",HURT:"Triggers when the monster is hurt, strength equals 1 + (damage / 3).",MEAT:"Meat or a corpse is nearby.",PLAYER_CLOSE:"Triggers when a potential enemy is within 5 tiles range.",PLAYER_WEAK:"Raises monster aggression by 10 - (percent of hp remaining / 10) if a potential enemy has less than 70% hp remaining",PLAYER_NEAR_BABY:"Increases monster aggression by 8 and morale by 4 if **the player** comes within 3 tiles of its offspring (defined by the baby_monster field in its reproduction data)",SOUND:"Not an actual trigger, monsters above 10 aggression and 0 morale will wander towards, monsters below 0 morale will wander away from the source of the sound for 1 turn (6, if they have the GOODHEARING flag).",STALK:"Raises monster aggresssion by 1, triggers 20% of the time each turn if aggression > 5.",HOSTILE_SEEN:"Increases aggression/decreases morale by a random amount between 0-2 for every potential enemy it can see, up to 20 aggression.",MATING_SEASON:"Increases aggression by 3 if a potential enemy is within 5 tiles range and the season is the same as the monster's mating season (defined by the baby_flags field in its reproduction data)."};let a=($=t.material)!=null?$:[],s=l.flatDeathDrops(t.id),u=t.harvest?l.byId("harvest",t.harvest):void 0,c=t.dissect?l.byId("harvest",t.dissect):void 0,m=t.upgrades&&(t.upgrades.into||t.upgrades.into_group)?{...t.upgrades,monsters:t.upgrades.into?[t.upgrades.into]:Wh(l.byId("monstergroup",t.upgrades.into_group))}:null;return i.$$set=v=>{"item"in v&&n(0,t=v.item)},[t,l,o,r,f,a,s,u,c,m]}class Vh extends Ve{constructor(e){super(),ze(this,e,zh,Hh,He,{item:0},null,[-1,-1])}}function Bf(i,e,n){const t=i.slice();return t[3]=e[n],t}function Af(i,e,n){const t=i.slice();return t[6]=e[n],t}function Mf(i){let e,n=i[6].string+"",t,l;return{c(){e=g("span"),t=w(n),ue(e,"class",l="c_"+i[6].color)},m(o,r){h(o,e,r),d(e,t)},p:Z,d(o){o&&p(e)}}}function Df(i){let e=`
`,n,t=i[3],l=[];for(let o=0;o<t.length;o+=1)l[o]=Mf(Af(i,t,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();n=w(e)},m(o,r){for(let f=0;f<l.length;f+=1)l[f].m(o,r);h(o,n,r)},p(o,r){if(r&1){t=o[3];let f;for(f=0;f<t.length;f+=1){const a=Af(o,t,f);l[f]?l[f].p(a,r):(l[f]=Mf(a),l[f].c(),l[f].m(n.parentNode,n))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(o){ce(l,o),o&&p(n)}}}function Xh(i){let e,n,t,l=i[0],o=[];for(let r=0;r<l.length;r+=1)o[r]=Df(Bf(i,l,r));return{c(){e=g("pre"),n=w("");for(let r=0;r<o.length;r+=1)o[r].c();t=w(`
`),Je(e,"font-family","Unifont, monospace"),Je(e,"line-height","1")},m(r,f){h(r,e,f),d(e,n);for(let a=0;a<o.length;a+=1)o[a].m(e,null);d(e,t)},p(r,[f]){if(f&1){l=r[0];let a;for(a=0;a<l.length;a+=1){const s=Bf(r,l,a);o[a]?o[a].p(s,f):(o[a]=Df(s),o[a].c(),o[a].m(e,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=l.length}},i:Z,o:Z,d(r){r&&p(e),ce(o,r)}}}function Jh(i,e,n){let{picture:t}=e,l=["white"];const o=[];for(const r of t.picture){const f=[];let a=r;for(;;){const u=a.match(/<\/?color([^>]*?)>/);if(u)u.index>0&&f.push({string:a.substr(0,u.index),color:l[0]}),u[0][1]==="/"&&l.length>1?l.shift():l.unshift(u[1].substr(1)),a=a.substr(u.index+u[0].length);else break}a.length&&f.push({string:a,color:l[0]});const s=41-f.reduce((u,c)=>u+c.string.length,0);s>0&&f.push({string:" ".repeat(s),color:l[0]}),o.push(f)}return i.$$set=r=>{"picture"in r&&n(1,t=r.picture)},[o,t]}class Kh extends Ve{constructor(e){super(),ze(this,e,Jh,Xh,He,{picture:1})}}function Lf(i){var z,Q,K,oe,V;let e,n,t,l,o,r,f,a,s,u,c,m,$,v=((z=i[0].range)!=null?z:0)+"",E,T,y,S=((Q=i[0].dispersion)!=null?Q:0)+"",I,B,O,N=((K=i[0].recoil)!=null?K:0)+"",R,G,M,X=i[2](i[0])+"",A,D,J,j=((oe=i[0].critical_multiplier)!=null?oe:2)+"",U,Y,L;f=new ae({props:{type:"ammunition_type",id:i[0].ammo_type}});let H=i[0].casing&&Gf(i),le=((V=i[0].effects)==null?void 0:V.length)&&Uf(i);return{c(){var te,_e,Ge;e=g("section"),n=g("h1"),n.textContent="Ammunition",t=C(),l=g("dl"),o=g("dt"),o.textContent="Ammunition Type",r=g("dd"),F(f.$$.fragment),a=g("dt"),a.textContent="Damage",s=g("dd"),s.textContent=`${(te=i[1].amount)!=null?te:0} (${(_e=i[1].damage_type)!=null?_e:"bullet"})`,u=g("dt"),u.textContent="Armor Penetration",c=g("dd"),c.textContent=`${(Ge=i[1].armor_penetration)!=null?Ge:0}`,m=g("dt"),m.textContent="Range",$=g("dd"),E=w(v),T=g("dt"),T.textContent="Dispersion",y=g("dd"),I=w(S),B=g("dt"),B.textContent="Recoil",O=g("dd"),R=w(N),G=g("dt"),G.textContent=`Loudness
      `,M=g("dd"),A=w(X),D=g("dt"),D.textContent="Critical Multiplier",J=g("dd"),U=w(j),H&&H.c(),Y=ie(),le&&le.c(),ue(G,"title","Base loudness of ammo (possibly modified by gun/gunmods)")},m(te,_e){h(te,e,_e),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),q(f,r,null),d(l,a),d(l,s),d(l,u),d(l,c),d(l,m),d(l,$),d($,E),d(l,T),d(l,y),d(y,I),d(l,B),d(l,O),d(O,R),d(l,G),d(l,M),d(M,A),d(l,D),d(l,J),d(J,U),H&&H.m(l,null),d(l,Y),le&&le.m(l,null),L=!0},p(te,_e){var $e,me,be,ve,de;const Ge={};_e&1&&(Ge.id=te[0].ammo_type),f.$set(Ge),(!L||_e&1)&&v!==(v=(($e=te[0].range)!=null?$e:0)+"")&&W(E,v),(!L||_e&1)&&S!==(S=((me=te[0].dispersion)!=null?me:0)+"")&&W(I,S),(!L||_e&1)&&N!==(N=((be=te[0].recoil)!=null?be:0)+"")&&W(R,N),(!L||_e&1)&&X!==(X=te[2](te[0])+"")&&W(A,X),(!L||_e&1)&&j!==(j=((ve=te[0].critical_multiplier)!=null?ve:2)+"")&&W(U,j),te[0].casing?H?(H.p(te,_e),_e&1&&b(H,1)):(H=Gf(te),H.c(),b(H,1),H.m(l,Y)):H&&(x(),k(H,1,1,()=>{H=null}),ee()),(de=te[0].effects)!=null&&de.length?le?le.p(te,_e):(le=Uf(te),le.c(),le.m(l,null)):le&&(le.d(1),le=null)},i(te){L||(b(f.$$.fragment,te),b(H),L=!0)},o(te){k(f.$$.fragment,te),k(H),L=!1},d(te){te&&p(e),P(f),H&&H.d(),le&&le.d()}}}function Gf(i){let e,n,t,l;return t=new ae({props:{id:i[0].casing,type:"item"}}),{c(){e=g("dt"),e.textContent="Casing",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].casing),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function Uf(i){let e,n,t=i[0].effects.join(", ")+"",l;return{c(){e=g("dt"),e.textContent="Effects",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].effects.join(", ")+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function Qh(i){let e,n,t=(i[0].damage||i[0].show_stats)&&Lf(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].damage||l[0].show_stats?t?(t.p(l,o),o&1&&b(t,1)):(t=Lf(l),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(x(),k(t,1,1,()=>{t=null}),ee())},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function Zh(i,e,n){var r;let{item:t}=e;const l=Array.isArray(t.damage)?t.damage[0]:t.damage&&"values"in t.damage?t.damage.values[0]:(r=t.damage)!=null?r:{amount:0,damage_type:"bullet",armor_penetration:0};function o(f){var a,s,u,c,m;return((a=f.loudness)!=null?a:-1)>=0?(s=f.loudness)!=null?s:0:((u=f.range)!=null?u:0)*2+((c=l.amount)!=null?c:0)*((m=l.armor_penetration)!=null?m:0)}return i.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,l,o]}class xh extends Ve{constructor(e){super(),ze(this,e,Zh,Qh,He,{item:0})}}function Ai(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function eg(i){var n;let e=new Map;for(const[t,l]of i){const o=(n=e.get(t))!=null?n:[];o.push(l),e.set(t,o)}return e}function Gr(i,e){const n=new Map;for(const t of i){const l=e(t);for(const o of l)n.has(o)||n.set(o,[]),n.get(o).push(t)}return n}function tg(i,e=n=>n){const n=new Set,t=[];for(const l of i){const o=e(l);n.has(o)||t.push(l),n.add(o)}return t}function qf(i,e,n){const t=i.slice();return t[18]=e[n],t}function ng(i){let e;return{c(){e=w("Normal")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function lg(i){let e;return{c(){e=w("Outer aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ig(i){let e;return{c(){e=w("Waist")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function rg(i){let e;return{c(){e=w("Outer")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function og(i){let e;return{c(){e=w("Strapped")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function fg(i){let e;return{c(){e=w("Close to skin")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function sg(i){let e;return{c(){e=w("Personal aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Pf(i){let e,n;return{c(){e=g("dt"),e.textContent="Sided",n=g("dd"),n.textContent="Yes"},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function ag(i){let e,n=i[1](i[18].apd.specifically_covers).join(", ")+"",t,l;return{c(){e=w("("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:Z,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function ug(i){let e,n,t,l=i[18].apd.coverage+"",o,r,f,a,s=i[18].apd.coverage!==i[18].apd.cover_melee&&_g(i),u=i[18].apd.coverage!==i[18].apd.cover_ranged&&dg(i),c=i[18].apd.cover_vitals&&mg(i);return{c(){e=g("dl"),n=g("dt"),n.textContent="Default",t=g("dd"),o=w(l),r=w("%"),s&&s.c(),f=ie(),u&&u.c(),a=ie(),c&&c.c()},m(m,$){h(m,e,$),d(e,n),d(e,t),d(t,o),d(t,r),s&&s.m(e,null),d(e,f),u&&u.m(e,null),d(e,a),c&&c.m(e,null)},p(m,$){m[18].apd.coverage!==m[18].apd.cover_melee&&s.p(m,$),m[18].apd.coverage!==m[18].apd.cover_ranged&&u.p(m,$),m[18].apd.cover_vitals&&c.p(m,$)},d(m){m&&p(e),s&&s.d(),u&&u.d(),c&&c.d()}}}function cg(i){let e=i[18].apd.coverage+"",n,t;return{c(){n=w(e),t=w("%")},m(l,o){h(l,n,o),h(l,t,o)},p:Z,d(l){l&&p(n),l&&p(t)}}}function _g(i){let e,n,t=i[18].apd.cover_melee+"",l,o;return{c(){e=g("dt"),e.textContent="Melee",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p:Z,d(r){r&&p(e),r&&p(n)}}}function dg(i){let e,n,t=i[18].apd.cover_ranged+"",l,o;return{c(){e=g("dt"),e.textContent="Ranged",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p:Z,d(r){r&&p(e),r&&p(n)}}}function mg(i){let e,n,t=i[18].apd.cover_vitals+"",l,o;return{c(){e=g("dt"),e.textContent="Vitals",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p:Z,d(r){r&&p(e),r&&p(n)}}}function pg(i){let e,n,t=i[7](i[18].bp_ids[0]).toFixed(2)+"",l,o,r,f=i[8](i[18].bp_ids[0]).toFixed(2)+"",a,s,u;return{c(){e=g("dt"),e.textContent="Acid",n=g("dd"),l=w(t),o=g("dt"),o.textContent="Fire",r=g("dd"),a=w(f),s=g("dt"),s.textContent="Environ.",u=g("dd"),u.textContent=`${i[6]()}`},m(c,m){h(c,e,m),h(c,n,m),d(n,l),h(c,o,m),h(c,r,m),d(r,a),h(c,s,m),h(c,u,m)},p:Z,d(c){c&&p(e),c&&p(n),c&&p(o),c&&p(r),c&&p(s),c&&p(u)}}}function Ff(i){var oe;let e,n,t=i[3](i[18].bp_ids)+"",l,o,r,f,a,s,u=i[4](i[18])+"",c,m,$,v,E,T,y,S,I,B=i[5](i[18].bp_ids[0],0,bg).toFixed(2)+"",O,N,R,G,M=i[5](i[18].bp_ids[0],0,$g).toFixed(2)+"",X,A,D,J=i[5](i[18].bp_ids[0],0,vg).toFixed(2)+"",j,U,Y=i[6](),L,H=((oe=i[18].apd.specifically_covers)==null?void 0:oe.length)&&ag(i);function le(V,te){return V[18].apd.coverage===V[18].apd.cover_melee&&V[18].apd.coverage===V[18].apd.cover_ranged&&V[18].apd.cover_vitals===0?cg:ug}let Q=le(i)(i),K=Y&&pg(i);return{c(){e=g("div"),n=g("h2"),l=w(t),o=C(),H&&H.c(),r=C(),f=g("dl"),a=g("dt"),a.textContent="Encumbrance",s=g("dd"),c=w(u),m=g("dt"),m.textContent="Coverage",$=g("dd"),Q.c(),v=C(),E=g("dt"),E.textContent="Protection",T=g("dd"),y=g("dl"),S=g("dt"),S.textContent="Bash",I=g("dd"),O=w(B),N=C(),R=g("dt"),R.textContent="Cut",G=g("dd"),X=w(M),A=g("dt"),A.textContent="Ballistic",D=g("dd"),j=w(J),U=C(),K&&K.c(),L=C(),ue(n,"class","svelte-z6vyu0"),Je(y,"font-variant","tabular-nums"),ue(e,"class","body-part svelte-z6vyu0")},m(V,te){h(V,e,te),d(e,n),d(n,l),d(n,o),H&&H.m(n,null),d(e,r),d(e,f),d(f,a),d(f,s),d(s,c),d(f,m),d(f,$),Q.m($,null),d($,v),d(f,E),d(f,T),d(T,y),d(y,S),d(y,I),d(I,O),d(I,N),d(y,R),d(y,G),d(G,X),d(y,A),d(y,D),d(D,j),d(D,U),K&&K.m(y,null),d(e,L)},p(V,te){var _e;(_e=V[18].apd.specifically_covers)!=null&&_e.length&&H.p(V,te),Q.p(V,te),Y&&K.p(V,te)},d(V){V&&p(e),H&&H.d(),Q.d(),K&&K.d()}}}function hg(i){var X;let e,n,t,l,o,r,f,a,s,u,c,m,$,v,E,T=((X=i[0].warmth)!=null?X:0)+"",y,S,I;function B(A,D){var J,j,U,Y,L,H;return D&1&&(f=null),D&1&&(a=null),D&1&&(s=null),D&1&&(u=null),D&1&&(c=null),D&1&&(m=null),f==null&&(f=!!((J=A[0].flags)!=null?J:[]).includes("PERSONAL")),f?sg:(a==null&&(a=!!((j=A[0].flags)!=null?j:[]).includes("SKINTIGHT")),a?fg:(s==null&&(s=!!((U=A[0].flags)!=null?U:[]).includes("BELTED")),s?og:(u==null&&(u=!!((Y=A[0].flags)!=null?Y:[]).includes("OUTER")),u?rg:(c==null&&(c=!!((L=A[0].flags)!=null?L:[]).includes("WAIST")),c?ig:(m==null&&(m=!!((H=A[0].flags)!=null?H:[]).includes("AURA")),m?lg:ng)))))}let O=B(i,-1),N=O(i),R=i[0].sided&&Pf(),G=i[2],M=[];for(let A=0;A<G.length;A+=1)M[A]=Ff(qf(i,G,A));return{c(){e=g("section"),n=g("h1"),n.textContent="Armor",t=C(),l=g("dl"),o=g("dt"),o.textContent="Layer",r=g("dd"),N.c(),$=C(),v=g("dt"),v.textContent="Warmth",E=g("dd"),y=w(T),R&&R.c(),S=C(),I=g("div");for(let A=0;A<M.length;A+=1)M[A].c();ue(I,"class","body-parts svelte-z6vyu0")},m(A,D){h(A,e,D),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),N.m(r,null),d(r,$),d(l,v),d(l,E),d(E,y),R&&R.m(l,null),d(e,S),d(e,I);for(let J=0;J<M.length;J+=1)M[J].m(I,null)},p(A,[D]){var J;if(O!==(O=B(A,D))&&(N.d(1),N=O(A),N&&(N.c(),N.m(r,$))),D&1&&T!==(T=((J=A[0].warmth)!=null?J:0)+"")&&W(y,T),A[0].sided?R||(R=Pf(),R.c(),R.m(l,null)):R&&(R.d(1),R=null),D&510){G=A[2];let j;for(j=0;j<G.length;j+=1){const U=qf(A,G,j);M[j]?M[j].p(U,D):(M[j]=Ff(U),M[j].c(),M[j].m(I,null))}for(;j<M.length;j+=1)M[j].d(1);M.length=G.length}},i:Z,o:Z,d(A){A&&p(e),N.d(),R&&R.d(),ce(M,A)}}}function gg(i,e){const[n,t]=typeof i=="number"?[i,i]:i,[l,o]=typeof e=="number"?[e,e]:e;return[n+l,t+o]}function Yf(i){return typeof i=="string"?{type:i}:i}const bg=i=>i.bash_resist,$g=i=>i.cut_resist,vg=i=>i.bullet_resist;function kg(i,e,n){var O,N,R,G,M,X,A,D,J,j,U,Y,L,H,le,z,Q,K,oe,V,te,_e,Ge,$e,me,be,ve,de,De,Ie,ke,Te,rt,ye,pe,Le,We,Me,Oe,Ze;let{item:t}=e,l=xe("data");const o=[];for(const he of(O=t.armor)!=null?O:[])if((N=he.covers)!=null?N:t.covers)for(const Be of tg((R=he.covers)!=null?R:t.covers)){const Pe=l.byId("body_part",Be),Ne=o.find(Se=>Se.covers.includes(Be));if(Ne){Ne.encumbrance=gg((G=Ne.encumbrance)!=null?G:0,(M=he.encumbrance)!=null?M:0);const Se=$(Pe,he)/100,Fe=$(Pe,Ne)/100;Ne.coverage+=((X=he.coverage)!=null?X:0)*Se|0,Ne.cover_melee+=((A=he.cover_melee)!=null?A:0)*Se|0,Ne.cover_ranged+=((D=he.cover_ranged)!=null?D:0)*Se|0,Ne.cover_vitals=((J=Ne.cover_vitals)!=null?J:0)+((j=he.cover_vitals)!=null?j:0),Ne.material_thickness=(((Y=(U=he.material_thickness)!=null?U:t.material_thickness)!=null?Y:0)*Se+((H=(L=Ne.material_thickness)!=null?L:t.material_thickness)!=null?H:0)*Fe)/(Se+Fe),Ne.environmental_protection=(((z=(le=he.environmental_protection)!=null?le:t.environmental_protection)!=null?z:0)*Se+((K=(Q=Ne.environmental_protection)!=null?Q:t.environmental_protection)!=null?K:0)*Fe)/(Se+Fe)|0,Ne.environmental_protection_with_filter=(((V=(oe=he.environmental_protection_with_filter)!=null?oe:t.environmental_protection_with_filter)!=null?V:0)*Se+((_e=(te=Ne.environmental_protection_with_filter)!=null?te:t.environmental_protection_with_filter)!=null?_e:0)*Fe)/(Se+Fe)|0,Ne.layers=(Ge=Ne.layers)!=null?Ge:[];for(const Ue of($e=he.layers)!=null?$e:[])Ne.layers.includes(Ue)||Ne.layers.push(Ue);for(const Ue of(be=(me=he.material)==null?void 0:me.map(Yf))!=null?be:[]){const Xe=Ne.material.find(it=>it.type===Ue.type);if(Xe){const it=$(Pe,he),mt=$(Pe,Ne);Xe.covered_by_mat=((ve=Xe.covered_by_mat)!=null?ve:100)+((de=Ue.covered_by_mat)!=null?de:100)*it/100|0,Xe.thickness=(it*((De=Ue.thickness)!=null?De:0)+mt*((Ie=Xe.thickness)!=null?Ie:0))/(mt+it)}else{const it=$(Pe,he),mt=JSON.parse(JSON.stringify(Ue));mt.covered_by_mat=((ke=Ue.covered_by_mat)!=null?ke:100)*it/100,Ne.material.push(mt)}}for(const Ue of(Te=he.specifically_covers)!=null?Te:[])(rt=Ne.specifically_covers)!=null&&rt.includes(Ue)||(Ne.specifically_covers==null&&(Ne.specifically_covers=[]),Ne.specifically_covers.push(Ue))}else{const Se=JSON.parse(JSON.stringify(he));Se.covers=[Be];const Fe=$(Pe,Se)/100,Ue=(ye=Se.coverage)!=null?ye:0;Se.coverage=Ue*Fe|0,Se.cover_melee=((pe=Se.cover_melee)!=null?pe:Ue)*Fe|0,Se.cover_ranged=((Le=Se.cover_ranged)!=null?Le:Ue)*Fe|0,Se.material=(We=Se.material)==null?void 0:We.map(Yf),o.push(Se)}}for(const he of o)for(const Be of(Me=he.material)!=null?Me:[])Be.covered_by_mat=((Oe=Be.covered_by_mat)!=null?Oe:100)/(((Ze=he.coverage)!=null?Ze:0)/100)|0;function r(he){const Be=new Set,Pe=[];for(const Ne of he!=null?he:[]){if(Be.has(Ne))continue;const Se=l.byId("body_part",Ne);Se.opposite_part&&he.includes(Se.opposite_part)?(Pe.push(Se.heading_multiple),Be.add(Se.opposite_part)):Pe.push(Se.heading),Be.add(Ne)}return Pe}function f(he){const Be=new Set,Pe=[];for(const Ne of he!=null?he:[]){if(Be.has(Ne))continue;const Se=l.byId("sub_body_part",Ne);Se.opposite&&he.includes(Se.opposite)?(Pe.push(Jt(Se.name_multiple)),Be.add(Se.opposite)):Pe.push(Jt(Se.name)),Be.add(Ne)}return Pe}const a=[...new Set(o.flatMap(he=>he.covers))],u=[...Gr(a,he=>{const{covers:Be,...Pe}=o.find(Ne=>Ne.covers.includes(he));return[JSON.stringify(Pe)]}).values()].map(he=>{const Be=o.find(Pe=>Pe.covers.includes(he[0]));return{bp_ids:he,apd:Be}}),c=he=>r(he).join(", "),m=he=>{var Ne;const[Be,Pe]=typeof he.apd.encumbrance=="number"?[he.apd.encumbrance,he.apd.encumbrance]:(Ne=he.apd.encumbrance)!=null?Ne:[0,0];return Be===Pe?`${Be}`:`${Be} (${Pe} when full)`};function $(he,Be){var Fe,Ue;if(!((Fe=he.sub_parts)!=null&&Fe.length))return 100;let Pe=0,Ne=0;const Se=((Ue=Be.specifically_covers)!=null?Ue:[]).length?Be.specifically_covers.map(Xe=>l.byId("sub_body_part",Xe)):l.byType("sub_body_part").filter(Xe=>Xe.parent===he.id);for(const Xe of Se)he.id===Xe.parent&&(Xe.secondary?Ne+=Xe.max_coverage:Pe+=Xe.max_coverage);return Math.max(Pe,Ne)}function v(he){var Be;for(const Pe of o)if((Be=Pe.covers)!=null&&Be.includes(he))return Pe.material;return[]}function E(he,Be,Pe){{const Xe=v(he);if(Xe!=null&&Xe.length){let it=0;for(const mt of Xe){const Nt=Math.max(.1,mt.thickness);(Be<0?Math.random()*100|0:Be)<mt.covered_by_mat&&(it+=Pe(l.byId("material",mt.type))*Nt)}return it}}let Ne=0;const Se=I(he),{mats:Fe,total:Ue}=B();if(Fe.length){for(const Xe of Fe)Ne+=Pe(l.byId("material",Xe.type))*Xe.portion;Ne/=Ue}return Ne*Se}function T(){return o.length===0?0:o.reduce((Be,Pe)=>{var Ne,Se;return Be+((Se=(Ne=Pe.environmental_protection)!=null?Ne:t.environmental_protection)!=null?Se:0)},0)/o.length}function y(he){var Fe;{const Ue=v(he);if(Ue!=null&&Ue.length){let Xe=0;for(const mt of Ue)Xe+=l.byId("material",mt.type).acid_resist*((Fe=mt.covered_by_mat)!=null?Fe:0)*.01;const it=T();return it<10&&(Xe*=it/10),Xe}}let Be=0;const{mats:Pe,total:Ne}=B();if(Pe.length){for(const Ue of Pe)Be+=l.byId("material",Ue.type).acid_resist;Be/=Ne}const Se=T();return Se<10&&(Be*=Se/10),Be}function S(he){var Fe;{const Ue=v(he);if(Ue!=null&&Ue.length){let Xe=0;for(const mt of Ue)Xe+=l.byId("material",mt.type).fire_resist*((Fe=mt.covered_by_mat)!=null?Fe:0)*.01;const it=T();return it<10&&(Xe*=it/10),Xe}}let Be=0;const{mats:Pe,total:Ne}=B();if(Pe.length){for(const Ue of Pe)Be+=l.byId("material",Ue.type).fire_resist;Be/=Ne}const Se=T();return Se<10&&(Be*=Se/10),Be}function I(he){var Be,Pe,Ne;for(const Se of o)if((Be=Se.covers)!=null&&Be.includes(he))return(Ne=(Pe=Se.material_thickness)!=null?Pe:t.material_thickness)!=null?Ne:0}function B(){var Pe;let he=0;const Be=[];if(Array.isArray(t.material)){for(const Ne of t.material)if(typeof Ne=="string")Be.push({type:Ne,portion:1}),he+=1;else if(typeof Ne=="object"){const Se={type:Ne.type,portion:(Pe=Ne.portion)!=null?Pe:1};he+=Se.portion,Be.push(Se)}}return{mats:Be,total:he}}return i.$$set=he=>{"item"in he&&n(0,t=he.item)},[t,f,u,c,m,E,T,y,S]}class yg extends Ve{constructor(e){super(),ze(this,e,kg,hg,He,{item:0})}}function jf(i,e,n){const t=i.slice();return t[11]=e[n],t}function Hf(i,e,n){const t=i.slice();return t[14]=e[n],t[16]=n,t}function Wf(i,e,n){const t=i.slice();return t[11]=e[n],t}function zf(i,e,n){const t=i.slice();return t[14]=e[n],t[16]=n,t}function Vf(i,e,n){const t=i.slice();return t[20]=e[n][0],t[21]=e[n][1],t}function wg(i){let e,n,t;return{c(){e=w("The "),n=g("strong"),n.textContent="head",t=w(".")},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function Eg(i){let e,n,t;return{c(){e=w("The "),n=g("strong"),n.textContent="eyes",t=w(".")},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function Tg(i){let e,n,t;return{c(){e=w("The "),n=g("strong"),n.textContent="mouth",t=w(".")},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function Sg(i){let e,n,t;return{c(){e=w("The "),n=g("strong"),n.textContent="torso",t=w(".")},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function Cg(i){let e,n,t,l,o;return{c(){e=w("The "),n=g("strong"),t=w("right "),l=w(i[20]),o=w(".")},m(r,f){h(r,e,f),h(r,n,f),d(n,t),d(n,l),h(r,o,f)},d(r){r&&p(e),r&&p(n),r&&p(o)}}}function Ig(i){let e,n,t,l,o;return{c(){e=w("The "),n=g("strong"),t=w("left "),l=w(i[20]),o=w(".")},m(r,f){h(r,e,f),h(r,n,f),d(n,t),d(n,l),h(r,o,f)},d(r){r&&p(e),r&&p(n),r&&p(o)}}}function Rg(i){let e,n,t,l;return{c(){e=w("The "),n=g("strong"),t=w(i[21]),l=w(".")},m(o,r){h(o,e,r),h(o,n,r),d(n,t),h(o,l,r)},d(o){o&&p(e),o&&p(n),o&&p(l)}}}function Ng(i){let e,n,t,l;return{c(){e=w("Either "),n=g("strong"),t=w(i[20]),l=w(".")},m(o,r){h(o,e,r),h(o,n,r),d(n,t),h(o,l,r)},d(o){o&&p(e),o&&p(n),o&&p(l)}}}function Xf(i){let e,n,t,l,o,r=" ",f;function a(c,m){if(m&1&&(e=null),e==null&&(e=!!(c[0].sided&&(c[3](`${c[20]}_l`)||c[3](`${c[20]}_r`)))),e)return Ng;if(n==null&&(n=!!(c[3](`${c[20]}_l`)&&c[3](`${c[20]}_r`))),n)return Rg;if(t==null&&(t=!!c[3](`${c[20]}_l`)),t)return Ig;if(l==null&&(l=!!c[3](`${c[20]}_r`)),l)return Cg}let s=a(i,-1),u=s&&s(i);return{c(){u&&u.c(),o=C(),f=w(r)},m(c,m){u&&u.m(c,m),h(c,o,m),h(c,f,m)},p(c,m){s!==(s=a(c,m))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(o.parentNode,o)))},d(c){u&&u.d(c),c&&p(o),c&&p(f)}}}function Og(i){let e;return{c(){e=w("Nothing.")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Bg(i){let e;return{c(){e=w("Normal")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ag(i){let e;return{c(){e=w("Outer aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Mg(i){let e;return{c(){e=w("Waist")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Dg(i){let e;return{c(){e=w("Outer")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Lg(i){let e;return{c(){e=w("Strapped")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Gg(i){let e;return{c(){e=w("Close to skin")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ug(i){let e;return{c(){e=w("Personal aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function qg(i){var o;let e=((o=i[0].encumbrance)!=null?o:0)+"",n,t,l=i[0].max_encumbrance&&Jf(i);return{c(){n=w(e),l&&l.c(),t=ie()},m(r,f){h(r,n,f),l&&l.m(r,f),h(r,t,f)},p(r,f){var a;f&1&&e!==(e=((a=r[0].encumbrance)!=null?a:0)+"")&&W(n,e),r[0].max_encumbrance?l?l.p(r,f):(l=Jf(r),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(r){r&&p(n),l&&l.d(r),r&&p(t)}}}function Pg(i){let e,n=i[5],t=[];for(let l=0;l<n.length;l+=1)t[l]=Qf(Wf(i,n,l));return{c(){e=g("dl");for(let l=0;l<t.length;l+=1)t[l].c()},m(l,o){h(l,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,o){if(o&96){n=l[5];let r;for(r=0;r<n.length;r+=1){const f=Wf(l,n,r);t[r]?t[r].p(f,o):(t[r]=Qf(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){l&&p(e),ce(t,l)}}}function Jf(i){let e=" ",n,t,l=i[0].max_encumbrance+"",o,r;return{c(){n=w(e),t=w("("),o=w(l),r=w(" when full)")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&1&&l!==(l=f[0].max_encumbrance+"")&&W(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function Fg(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Kf(i){let e=i[14]+"",n,t=i[16]!==0&&Fg();return{c(){t&&t.c(),n=w(e)},m(l,o){t&&t.m(l,o),h(l,n,o)},p:Z,d(l){t&&t.d(l),l&&p(n)}}}function Yg(i){var t;let e=((t=i[11].encumbrance)!=null?t:0)+"",n;return{c(){n=w(e)},m(l,o){h(l,n,o)},p:Z,d(l){l&&p(n)}}}function jg(i){let e=i[11].encumbrance[0]+"",n,t,l,o=i[11].encumbrance[1]!==i[11].encumbrance[0]&&Hg(i);return{c(){n=w(e),t=C(),o&&o.c(),l=ie()},m(r,f){h(r,n,f),h(r,t,f),o&&o.m(r,f),h(r,l,f)},p(r,f){r[11].encumbrance[1]!==r[11].encumbrance[0]&&o.p(r,f)},d(r){r&&p(n),r&&p(t),o&&o.d(r),r&&p(l)}}}function Hg(i){let e,n=i[11].encumbrance[1]+"",t,l;return{c(){e=w("("),t=w(n),l=w(" when full)")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:Z,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function Qf(i){let e,n,t,l,o=i[6](i[11]),r=[];for(let u=0;u<o.length;u+=1)r[u]=Kf(zf(i,o,u));function f(u,c){return Array.isArray(u[11].encumbrance)?jg:Yg}let s=f(i)(i);return{c(){e=g("dt");for(let u=0;u<r.length;u+=1)r[u].c();n=C(),t=g("dd"),s.c(),l=C()},m(u,c){h(u,e,c);for(let m=0;m<r.length;m+=1)r[m].m(e,null);d(e,n),h(u,t,c),s.m(t,null),d(t,l)},p(u,c){if(c&96){o=u[6](u[11]);let m;for(m=0;m<o.length;m+=1){const $=zf(u,o,m);r[m]?r[m].p($,c):(r[m]=Kf($),r[m].c(),r[m].m(e,n))}for(;m<r.length;m+=1)r[m].d(1);r.length=o.length}s.p(u,c)},d(u){u&&p(e),ce(r,u),u&&p(t),s.d()}}}function Wg(i){var l;let e=((l=i[0].coverage)!=null?l:0)+"",n,t;return{c(){n=w(e),t=w("%")},m(o,r){h(o,n,r),h(o,t,r)},p(o,r){var f;r&1&&e!==(e=((f=o[0].coverage)!=null?f:0)+"")&&W(n,e)},d(o){o&&p(n),o&&p(t)}}}function zg(i){let e,n=i[0].armor,t=[];for(let l=0;l<n.length;l+=1)t[l]=xf(jf(i,n,l));return{c(){e=g("dl");for(let l=0;l<t.length;l+=1)t[l].c()},m(l,o){h(l,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,o){if(o&65){n=l[0].armor;let r;for(r=0;r<n.length;r+=1){const f=jf(l,n,r);t[r]?t[r].p(f,o):(t[r]=xf(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){l&&p(e),ce(t,l)}}}function Vg(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Zf(i){let e=i[14]+"",n,t=i[16]!==0&&Vg();return{c(){t&&t.c(),n=w(e)},m(l,o){t&&t.m(l,o),h(l,n,o)},p(l,o){o&1&&e!==(e=l[14]+"")&&W(n,e)},d(l){t&&t.d(l),l&&p(n)}}}function xf(i){var s;let e,n,t,l=((s=i[11].coverage)!=null?s:0)+"",o,r,f=i[6](i[11]),a=[];for(let u=0;u<f.length;u+=1)a[u]=Zf(Hf(i,f,u));return{c(){e=g("dt");for(let u=0;u<a.length;u+=1)a[u].c();n=C(),t=g("dd"),o=w(l),r=w("%")},m(u,c){h(u,e,c);for(let m=0;m<a.length;m+=1)a[m].m(e,null);d(e,n),h(u,t,c),d(t,o),d(t,r)},p(u,c){var m;if(c&65){f=u[6](u[11]);let $;for($=0;$<f.length;$+=1){const v=Hf(u,f,$);a[$]?a[$].p(v,c):(a[$]=Zf(v),a[$].c(),a[$].m(e,n))}for(;$<a.length;$+=1)a[$].d(1);a.length=f.length}c&1&&l!==(l=((m=u[11].coverage)!=null?m:0)+"")&&W(o,l)},d(u){u&&p(e),ce(a,u),u&&p(t)}}}function es(i){var s;let e,n,t,l,o,r=((s=i[0].environmental_protection)!=null?s:0)+"",f,a=i[1].length&&Xg(i);return{c(){e=g("dt"),e.textContent="Protection",n=g("dd"),t=g("dl"),a&&a.c(),l=g("dt"),l.textContent="Environ.",o=g("dd"),f=w(r),ue(l,"title","Environmental")},m(u,c){h(u,e,c),h(u,n,c),d(n,t),a&&a.m(t,null),d(t,l),d(t,o),d(o,f)},p(u,c){var m;u[1].length&&a.p(u,c),c&1&&r!==(r=((m=u[0].environmental_protection)!=null?m:0)+"")&&W(f,r)},d(u){u&&p(e),u&&p(n),a&&a.d()}}}function Xg(i){var X,A,D;let e,n,t=(i[1].reduce(ts,0)*((X=i[0].material_thickness)!=null?X:0)/i[2]).toFixed(2)+"",l,o,r,f,a=(i[1].reduce(ns,0)*((A=i[0].material_thickness)!=null?A:0)/i[2]).toFixed(2)+"",s,u,c,m,$=(i[1].reduce(ls,0)*((D=i[0].material_thickness)!=null?D:0)/i[2]).toFixed(2)+"",v,E,T,y,S=i[7]().toFixed(2)+"",I,B,O,N,R=i[8]().toFixed(2)+"",G,M;return{c(){e=g("dt"),e.textContent="Bash",n=g("dd"),l=w(t),o=C(),r=g("dt"),r.textContent="Cut",f=g("dd"),s=w(a),u=C(),c=g("dt"),c.textContent="Ballistic",m=g("dd"),v=w($),E=C(),T=g("dt"),T.textContent="Acid",y=g("dd"),I=w(S),B=C(),O=g("dt"),O.textContent="Fire",N=g("dd"),G=w(R),M=C()},m(J,j){h(J,e,j),h(J,n,j),d(n,l),d(n,o),h(J,r,j),h(J,f,j),d(f,s),d(f,u),h(J,c,j),h(J,m,j),d(m,v),d(m,E),h(J,T,j),h(J,y,j),d(y,I),d(y,B),h(J,O,j),h(J,N,j),d(N,G),d(N,M)},p(J,j){var U,Y,L;j&1&&t!==(t=(J[1].reduce(ts,0)*((U=J[0].material_thickness)!=null?U:0)/J[2]).toFixed(2)+"")&&W(l,t),j&1&&a!==(a=(J[1].reduce(ns,0)*((Y=J[0].material_thickness)!=null?Y:0)/J[2]).toFixed(2)+"")&&W(s,a),j&1&&$!==($=(J[1].reduce(ls,0)*((L=J[0].material_thickness)!=null?L:0)/J[2]).toFixed(2)+"")&&W(v,$),j&1&&S!==(S=J[7]().toFixed(2)+"")&&W(I,S),j&1&&R!==(R=J[8]().toFixed(2)+"")&&W(G,R)},d(J){J&&p(e),J&&p(n),J&&p(r),J&&p(f),J&&p(c),J&&p(m),J&&p(T),J&&p(y),J&&p(O),J&&p(N)}}}function Jg(i){var rt;let e,n,t,l,o,r,f=i[3]("head"),a,s=i[3]("eyes"),u,c=i[3]("mouth"),m,$=i[3]("torso"),v,E,T,y,S,I,B,O,N,R,G,M,X,A,D=((rt=i[0].warmth)!=null?rt:0)+"",J,j,U,Y,L,H,le,z=f&&wg(),Q=s&&Eg(),K=c&&Tg(),oe=$&&Sg(),V=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],te=[];for(let ye=0;ye<4;ye+=1)te[ye]=Xf(Vf(i,V,ye));let _e=!i[4]&&Og();function Ge(ye,pe){var Le,We,Me,Oe,Ze,he;return pe&1&&(I=null),pe&1&&(B=null),pe&1&&(O=null),pe&1&&(N=null),pe&1&&(R=null),pe&1&&(G=null),I==null&&(I=!!((Le=ye[0].flags)!=null?Le:[]).includes("PERSONAL")),I?Ug:(B==null&&(B=!!((We=ye[0].flags)!=null?We:[]).includes("SKINTIGHT")),B?Gg:(O==null&&(O=!!((Me=ye[0].flags)!=null?Me:[]).includes("BELTED")),O?Lg:(N==null&&(N=!!((Oe=ye[0].flags)!=null?Oe:[]).includes("OUTER")),N?Dg:(R==null&&(R=!!((Ze=ye[0].flags)!=null?Ze:[]).includes("WAIST")),R?Mg:(G==null&&(G=!!((he=ye[0].flags)!=null?he:[]).includes("AURA")),G?Ag:Bg)))))}let $e=Ge(i,-1),me=$e(i);function be(ye,pe){return ye[5]?Pg:qg}let de=be(i)(i);function De(ye,pe){return ye[0].armor?zg:Wg}let Ie=De(i),ke=Ie(i),Te=(i[1].length||i[0].environmental_protection)&&es(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Armor",t=C(),l=g("dl"),o=g("dt"),o.textContent="Covers",r=g("dd"),z&&z.c(),a=C(),Q&&Q.c(),u=C(),K&&K.c(),m=C(),oe&&oe.c(),v=C();for(let ye=0;ye<4;ye+=1)te[ye].c();E=C(),_e&&_e.c(),T=C(),y=g("dt"),y.textContent="Layer",S=g("dd"),me.c(),M=C(),X=g("dt"),X.textContent="Warmth",A=g("dd"),J=w(D),j=g("dt"),j.textContent="Encumbrance",U=g("dd"),de.c(),Y=C(),L=g("dt"),L.textContent=`Coverage
    `,H=g("dd"),ke.c(),le=C(),Te&&Te.c(),ue(L,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(ye,pe){h(ye,e,pe),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),z&&z.m(r,null),d(r,a),Q&&Q.m(r,null),d(r,u),K&&K.m(r,null),d(r,m),oe&&oe.m(r,null),d(r,v);for(let Le=0;Le<4;Le+=1)te[Le].m(r,null);d(r,E),_e&&_e.m(r,null),d(r,T),d(l,y),d(l,S),me.m(S,null),d(S,M),d(l,X),d(l,A),d(A,J),d(l,j),d(l,U),de.m(U,null),d(U,Y),d(l,L),d(l,H),ke.m(H,null),d(H,le),Te&&Te.m(l,null)},p(ye,[pe]){var Le;if(pe&9){V=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]];let We;for(We=0;We<4;We+=1){const Me=Vf(ye,V,We);te[We]?te[We].p(Me,pe):(te[We]=Xf(Me),te[We].c(),te[We].m(r,E))}for(;We<4;We+=1)te[We].d(1)}$e!==($e=Ge(ye,pe))&&(me.d(1),me=$e(ye),me&&(me.c(),me.m(S,M))),pe&1&&D!==(D=((Le=ye[0].warmth)!=null?Le:0)+"")&&W(J,D),de.p(ye,pe),Ie===(Ie=De(ye))&&ke?ke.p(ye,pe):(ke.d(1),ke=Ie(ye),ke&&(ke.c(),ke.m(H,le))),ye[1].length||ye[0].environmental_protection?Te?Te.p(ye,pe):(Te=es(ye),Te.c(),Te.m(l,null)):Te&&(Te.d(1),Te=null)},i:Z,o:Z,d(ye){ye&&p(e),z&&z.d(),Q&&Q.d(),K&&K.d(),oe&&oe.d(),ce(te,ye),_e&&_e.d(),me.d(),de.d(),ke.d(),Te&&Te.d()}}}function Kg(i){return typeof i[0]=="string"}const ts=(i,e)=>{var n;return i+((n=e.material.bash_resist)!=null?n:0)*e.portion},ns=(i,e)=>{var n;return i+((n=e.material.cut_resist)!=null?n:0)*e.portion},ls=(i,e)=>{var n;return i+((n=e.material.bullet_resist)!=null?n:0)*e.portion};function Qg(i,e,n){var v,E,T;let{item:t}=e,l=xe("data"),r=(t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:Kg(t.material)?t.material.map(y=>({type:y,portion:1})):t.material).map(y=>({material:l.byId("material",y.type),portion:y.portion}));const f=r.reduce((y,S)=>y+S.portion,0);function a(y){var S,I;return((S=t.covers)!=null?S:[]).includes(y)||((I=t.armor)!=null?I:[]).some(B=>{var O;return((O=B.covers)!=null?O:[]).includes(y)})}let s=((v=t.covers)!=null?v:[]).length||((E=t.armor)!=null?E:[]).length;const u=(T=t.armor)!=null?T:t.armor_portion_data;function c(y){var B;const S=new Set,I=[];for(const O of(B=y.covers)!=null?B:[]){if(S.has(O))continue;const N=l.byId("body_part",O);N.opposite_part&&y.covers.includes(N.opposite_part)?(I.push(N.heading_multiple),S.add(N.opposite_part)):I.push(N.heading),S.add(O)}return I}const m=()=>{var I;let y=r.reduce((B,O)=>{var N;return B+((N=O.material.acid_resist)!=null?N:0)*O.portion},0)/f;const S=(I=t.environmental_protection)!=null?I:0;return S<10&&(y*=S/10),y},$=()=>{var I;let y=r.reduce((B,O)=>{var N;return B+((N=O.material.fire_resist)!=null?N:0)*O.portion},0)/f;const S=(I=t.environmental_protection)!=null?I:0;return S<10&&(y*=S/10),y};return i.$$set=y=>{"item"in y&&n(0,t=y.item)},[t,r,f,a,s,u,c,m,$]}class Zg extends Ve{constructor(e){super(),ze(this,e,Qg,Jg,He,{item:0})}}function xg(i){let e,n,t,l,o;return l=new ft({props:{items:i[1],$$slots:{default:[e0,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Bash",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function e0(i){let e,n,t,l;return e=new Qe({props:{item:i[0].byId(i[3].type,i[3].id)}}),t=new ae({props:{id:i[3].id,type:i[3].type}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&8&&(f.item=o[0].byId(o[3].type,o[3].id)),e.$set(f);const a={};r&8&&(a.id=o[3].id),r&8&&(a.type=o[3].type),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function t0(i){let e,n,t=i[1].length&&xg(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function n0(i,e,n){let{item_id:t}=e;const l=xe("data");let o=l.byType("terrain").concat(l.byType("furniture")).filter(r=>{var a;return((a=r.bash)!=null&&a.items?l.flattenItemGroup({subtype:"collection",entries:typeof r.bash.items=="string"?[{group:r.bash.items}]:r.bash.items}):[]).some(({id:s})=>s===t)}).sort((r,f)=>ge(r).localeCompare(ge(f)));return i.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[l,o,t]}class l0 extends Ve{constructor(e){super(),ze(this,e,n0,t0,He,{item_id:2})}}function is(i,e,n){const t=i.slice();return t[4]=e[n][0],t[5]=e[n][1],t}function rs(i){var $,v;let e,n,t,l,o,r=(($=i[0].required_level)!=null?$:0)+"",f,a,s,u=((v=i[0].max_level)!=null?v:0)+"",c,m;return t=new ae({props:{id:i[0].skill,type:"skill"}}),{c(){e=g("dt"),e.textContent="Skill",n=g("dd"),F(t.$$.fragment),l=g("dt"),l.textContent="Required Level",o=g("dd"),f=w(r),a=g("dt"),a.textContent="Maximum Level",s=g("dd"),c=w(u)},m(E,T){h(E,e,T),h(E,n,T),q(t,n,null),h(E,l,T),h(E,o,T),d(o,f),h(E,a,T),h(E,s,T),d(s,c),m=!0},p(E,T){var S,I;const y={};T&1&&(y.id=E[0].skill),t.$set(y),(!m||T&1)&&r!==(r=((S=E[0].required_level)!=null?S:0)+"")&&W(f,r),(!m||T&1)&&u!==(u=((I=E[0].max_level)!=null?I:0)+"")&&W(c,u)},i(E){m||(b(t.$$.fragment,E),m=!0)},o(E){k(t.$$.fragment,E),m=!1},d(E){E&&p(e),E&&p(n),P(t),E&&p(l),E&&p(o),E&&p(a),E&&p(s)}}}function os(i){let e,n,t=i[0].chapters+"",l;return{c(){e=g("dt"),e.textContent="Chapters",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].chapters+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function fs(i){let e,n,t,l;return t=new ae({props:{type:"martial_art",id:i[0].martial_art}}),{c(){e=g("dt"),e.textContent="Martial Art",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].martial_art),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function i0(i){let e,n,t,l,o=[...i[1].entries()].sort(as),r=[];for(let a=0;a<o.length;a+=1)r[a]=ss(is(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Recipes",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&2){o=[...a[1].entries()].sort(as);let u;for(u=0;u<o.length;u+=1){const c=is(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=ss(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function ss(i){let e,n,t,l=i[5]+"",o,r,f;return n=new ae({props:{id:i[4],type:"item"}}),{c(){e=g("li"),F(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(a,s){h(a,e,s),q(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p:Z,i(a){f||(b(n.$$.fragment,a),f=!0)},o(a){k(n.$$.fragment,a),f=!1},d(a){a&&p(e),P(n)}}}function r0(i){var G,M,X;let e,n,t,l,o,r,f=((G=i[0].intelligence)!=null?G:0)+"",a,s,u,c=((M=i[0].time)!=null?M:0)+"",m,$,v,E=((X=i[0].fun)!=null?X:0)+"",T,y,S,I,B=i[0].skill&&rs(i),O=i[0].chapters&&os(i),N=i[0].martial_art&&fs(i),R=i[1].size&&i0(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Book",t=C(),l=g("dl"),B&&B.c(),o=g("dt"),o.textContent="Required Intelligence",r=g("dd"),a=w(f),s=g("dt"),s.textContent="Read Time",u=g("dd"),m=w(c),$=g("dt"),$.textContent="Fun",v=g("dd"),T=w(E),O&&O.c(),y=ie(),N&&N.c(),S=ie(),R&&R.c()},m(A,D){h(A,e,D),d(e,n),d(e,t),d(e,l),B&&B.m(l,null),d(l,o),d(l,r),d(r,a),d(l,s),d(l,u),d(u,m),d(l,$),d(l,v),d(v,T),O&&O.m(l,null),d(l,y),N&&N.m(l,null),d(l,S),R&&R.m(l,null),I=!0},p(A,[D]){var J,j,U;A[0].skill?B?(B.p(A,D),D&1&&b(B,1)):(B=rs(A),B.c(),b(B,1),B.m(l,o)):B&&(x(),k(B,1,1,()=>{B=null}),ee()),(!I||D&1)&&f!==(f=((J=A[0].intelligence)!=null?J:0)+"")&&W(a,f),(!I||D&1)&&c!==(c=((j=A[0].time)!=null?j:0)+"")&&W(m,c),(!I||D&1)&&E!==(E=((U=A[0].fun)!=null?U:0)+"")&&W(T,E),A[0].chapters?O?O.p(A,D):(O=os(A),O.c(),O.m(l,y)):O&&(O.d(1),O=null),A[0].martial_art?N?(N.p(A,D),D&1&&b(N,1)):(N=fs(A),N.c(),b(N,1),N.m(l,S)):N&&(x(),k(N,1,1,()=>{N=null}),ee()),A[1].size&&R.p(A,D)},i(A){I||(b(B),b(N),b(R),I=!0)},o(A){k(B),k(N),k(R),I=!1},d(A){A&&p(e),B&&B.d(),O&&O.d(),N&&N.d(),R&&R.d()}}}const as=(i,e)=>i[1]!==e[1]?i[1]-e[1]:i[0].localeCompare(e[0]);function o0(i,e,n){var f;let{item:t}=e,l=xe("data");const o=new Map;function r(a,s){var u;o.set(a,Math.min(s,(u=o.get(a))!=null?u:1/0))}for(const a of l.byType("recipe"))if(Array.isArray(a.book_learn)){for(const[s,u=0]of a.book_learn)if(s===t.id)r(a.result,u);else if(a.book_learn)for(const[c,m]of Object.entries(a.book_learn))c===t.id&&r(a.result,(f=m.skill_level)!=null?f:0)}return i.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,o]}class f0 extends Ve{constructor(e){super(),ze(this,e,o0,r0,He,{item:0})}}function us(i,e,n){const t=i.slice();return t[1]=e[n][0],t[2]=e[n][1],t[4]=n,t}function cs(i){let e,n,t,l=i[0].vitamins,o=[];for(let f=0;f<l.length;f+=1)o[f]=_s(us(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("dt"),e.textContent="Vitamins (%RDA)",n=g("dd");for(let f=0;f<o.length;f+=1)o[f].c()},m(f,a){h(f,e,a),h(f,n,a);for(let s=0;s<o.length;s+=1)o[s].m(n,null);t=!0},p(f,a){if(a&1){l=f[0].vitamins;let s;for(s=0;s<l.length;s+=1){const u=us(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=_s(u),o[s].c(),b(o[s],1),o[s].m(n,null))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),f&&p(n),ce(o,f)}}}function s0(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function a0(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function _s(i){let e,n,t=i[2]+"",l,o,r,f;e=new ae({props:{id:i[1],type:"vitamin"}});function a(c,m){if(c[4]<c[0].vitamins.length-2)return a0;if(c[4]===c[0].vitamins.length-2)return s0}let s=a(i),u=s&&s(i);return{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w("%)"),u&&u.c(),r=ie()},m(c,m){q(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[1]),e.$set($),(!f||m&1)&&t!==(t=c[2]+"")&&W(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){P(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function u0(i){var Y,L,H,le,z,Q;let e,n,t,l,o,r,f=((Y=i[0].calories)!=null?Y:0)+"",a,s,u,c,m=((L=i[0].quench)!=null?L:0)+"",$,v,E,T=((H=i[0].fun)!=null?H:0)+"",y,S,I,B=((le=i[0].charges)!=null?le:1)+"",O,N,R,G=((z=i[0].spoils_in)!=null?z:"never")+"",M,X,A,D=((Q=i[0].healthy)!=null?Q:0)+"",J,j,U=i[0].vitamins&&cs(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Comestible",t=C(),l=g("dl"),o=g("dt"),o.textContent="Calories",r=g("dd"),a=w(f),s=w(" kcal"),u=g("dt"),u.textContent="Quench",c=g("dd"),$=w(m),v=g("dt"),v.textContent="Enjoyability",E=g("dd"),y=w(T),S=g("dt"),S.textContent="Portions",I=g("dd"),O=w(B),N=g("dt"),N.textContent="Spoils In",R=g("dd"),M=w(G),X=g("dt"),X.textContent="Health",A=g("dd"),J=w(D),U&&U.c()},m(K,oe){h(K,e,oe),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,a),d(r,s),d(l,u),d(l,c),d(c,$),d(l,v),d(l,E),d(E,y),d(l,S),d(l,I),d(I,O),d(l,N),d(l,R),d(R,M),d(l,X),d(l,A),d(A,J),U&&U.m(l,null),j=!0},p(K,[oe]){var V,te,_e,Ge,$e,me;(!j||oe&1)&&f!==(f=((V=K[0].calories)!=null?V:0)+"")&&W(a,f),(!j||oe&1)&&m!==(m=((te=K[0].quench)!=null?te:0)+"")&&W($,m),(!j||oe&1)&&T!==(T=((_e=K[0].fun)!=null?_e:0)+"")&&W(y,T),(!j||oe&1)&&B!==(B=((Ge=K[0].charges)!=null?Ge:1)+"")&&W(O,B),(!j||oe&1)&&G!==(G=(($e=K[0].spoils_in)!=null?$e:"never")+"")&&W(M,G),(!j||oe&1)&&D!==(D=((me=K[0].healthy)!=null?me:0)+"")&&W(J,D),K[0].vitamins?U?(U.p(K,oe),oe&1&&b(U,1)):(U=cs(K),U.c(),b(U,1),U.m(l,null)):U&&(x(),k(U,1,1,()=>{U=null}),ee())},i(K){j||(b(U),j=!0)},o(K){k(U),j=!1},d(K){K&&p(e),U&&U.d()}}}function c0(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class _0 extends Ve{constructor(e){super(),ze(this,e,c0,u0,He,{item:0})}}function d0(i){let e,n,t,l,o;return l=new ft({props:{items:i[1],$$slots:{default:[m0,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Provided By Vehicle Parts",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function m0(i){let e,n,t,l;return e=new Qe({props:{item:i[10]}}),t=new ae({props:{type:i[10].type,id:i[10].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1024&&(f.item=o[10]),e.$set(f);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function p0(i){let e,n,t,l,o;return l=new ft({props:{items:i[2],$$slots:{default:[h0,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Provided By Furniture",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function h0(i){let e,n,t,l;return e=new Qe({props:{item:i[10]}}),t=new ae({props:{type:i[10].type,id:i[10].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1024&&(f.item=o[10]),e.$set(f);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function g0(i){let e,n,t,l,o;return l=new ft({props:{items:i[3],$$slots:{default:[b0,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Component Of",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function b0(i){let e,n,t,l;return e=new Qe({props:{item:i[0].byId("item",i[10])}}),t=new ae({props:{type:"item",id:i[10]}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1024&&(f.item=o[0].byId("item",o[10])),e.$set(f);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function $0(i){let e,n,t,l,o;return l=new ft({props:{items:i[4],$$slots:{default:[v0,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Tool For Crafting",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function v0(i){let e,n,t,l;return e=new Qe({props:{item:i[0].byId("item",i[10])}}),t=new ae({props:{type:"item",id:i[10]}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1024&&(f.item=o[0].byId("item",o[10])),e.$set(f);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function k0(i){let e,n,t,l,o,r=i[1].length&&d0(i),f=i[2].length&&p0(i),a=i[3].length&&g0(i),s=i[4].length&&$0(i);return{c(){r&&r.c(),e=C(),f&&f.c(),n=C(),t=g("div"),a&&a.c(),l=C(),s&&s.c(),ue(t,"class","side-by-side")},m(u,c){r&&r.m(u,c),h(u,e,c),f&&f.m(u,c),h(u,n,c),h(u,t,c),a&&a.m(t,null),d(t,l),s&&s.m(t,null),o=!0},p(u,[c]){u[1].length&&r.p(u,c),u[2].length&&f.p(u,c),u[3].length&&a.p(u,c),u[4].length&&s.p(u,c)},i(u){o||(b(r),b(f),b(a),b(s),o=!0)},o(u){k(r),k(f),k(a),k(s),o=!1},d(u){r&&r.d(u),u&&p(e),f&&f.d(u),u&&p(n),u&&p(t),a&&a.d(),s&&s.d()}}}function y0(i,e,n){var $,v;let{item_id:t}=e;const l=xe("data"),{byTool:o,byComponent:r}=l.getItemComponents(),f=($=r.get(t))!=null?$:new Set,a=(v=o.get(t))!=null?v:new Set,s=l.byType("vehicle_part").filter(E=>{var T;return E.id&&((T=E.pseudo_tools)==null?void 0:T.some(y=>y.id===t))}),u=l.byType("furniture").filter(E=>E.id&&E.crafting_pseudo_item===t),c=[...f].sort((E,T)=>ge(l.byId("item",E)).localeCompare(ge(l.byId("item",T)))),m=[...a].sort((E,T)=>ge(l.byId("item",E)).localeCompare(ge(l.byId("item",T))));return i.$$set=E=>{"item_id"in E&&n(5,t=E.item_id)},[l,s,u,c,m,t]}class w0 extends Ve{constructor(e){super(),ze(this,e,y0,k0,He,{item_id:5})}}function E0(i){let e,n,t,l,o;return l=new ft({props:{items:i[1],$$slots:{default:[T0,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Construct",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function ds(i){let e,n,t,l,o;return n=new Qe({props:{item:i[0].byId(i[3].pre_terrain.startsWith("f_")?"furniture":"terrain",i[3].pre_terrain)}}),l=new ae({props:{type:i[3].pre_terrain.startsWith("f_")?"furniture":"terrain",id:i[3].pre_terrain}}),{c(){e=w("on "),F(n.$$.fragment),t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),q(n,r,f),h(r,t,f),q(l,r,f),o=!0},p(r,f){const a={};f&8&&(a.item=r[0].byId(r[3].pre_terrain.startsWith("f_")?"furniture":"terrain",r[3].pre_terrain)),n.$set(a);const s={};f&8&&(s.type=r[3].pre_terrain.startsWith("f_")?"furniture":"terrain"),f&8&&(s.id=r[3].pre_terrain),l.$set(s)},i(r){o||(b(n.$$.fragment,r),b(l.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(n,r),r&&p(t),P(l,r)}}}function T0(i){let e,n,t,l;e=new ae({props:{id:i[3].group,type:"construction_group"}});let o=i[3].pre_terrain&&ds(i);return{c(){F(e.$$.fragment),n=C(),o&&o.c(),t=ie()},m(r,f){q(e,r,f),h(r,n,f),o&&o.m(r,f),h(r,t,f),l=!0},p(r,f){const a={};f&8&&(a.id=r[3].group),e.$set(a),r[3].pre_terrain?o?(o.p(r,f),f&8&&b(o,1)):(o=ds(r),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(x(),k(o,1,1,()=>{o=null}),ee())},i(r){l||(b(e.$$.fragment,r),b(o),l=!0)},o(r){k(e.$$.fragment,r),k(o),l=!1},d(r){P(e,r),r&&p(n),o&&o.d(r),r&&p(t)}}}function S0(i){let e,n,t=i[1].length&&E0(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function C0(i,e,n){let{item_id:t}=e;const l=xe("data"),o=l.byType("construction").filter(r=>l.flattenItemGroup(l.normalizeItemGroup(r.byproducts,"collection")).some(a=>a.id===t)).sort((r,f)=>ge(r).localeCompare(ge(f)));return i.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[l,o,t]}class I0 extends Ve{constructor(e){super(),ze(this,e,C0,S0,He,{item_id:2})}}function R0(i){let e,n,t,l,o;return l=new ft({props:{items:i[1],$$slots:{default:[N0,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Deconstruct",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function N0(i){let e,n,t,l;return e=new Qe({props:{item:i[0].byId(i[3].type,i[3].id)}}),t=new ae({props:{id:i[3].id,type:i[3].type}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&8&&(f.item=o[0].byId(o[3].type,o[3].id)),e.$set(f);const a={};r&8&&(a.id=o[3].id),r&8&&(a.type=o[3].type),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function O0(i){let e,n,t=i[1].length&&R0(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function B0(i,e,n){let{item_id:t}=e;const l=xe("data");let o=l.byType("terrain").concat(l.byType("furniture")).filter(r=>{var a;return((a=r.deconstruct)!=null&&a.items?l.flattenItemGroup({subtype:"collection",entries:typeof r.deconstruct.items=="string"?[{group:r.deconstruct.items}]:r.deconstruct.items}):[]).some(({id:s})=>s===t)}).sort((r,f)=>ge(r).localeCompare(ge(f)));return i.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[l,o,t]}class A0 extends Ve{constructor(e){super(),ze(this,e,B0,O0,He,{item_id:2})}}function M0(i){let e,n,t,l,o;return l=new ft({props:{items:i[1],$$slots:{default:[D0,({item:r})=>({4:r}),({item:r})=>r?16:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Disassemble",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&48&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function D0(i){let e,n,t,l;return e=new Qe({props:{item:i[0].byId("item",i[4])}}),t=new ae({props:{type:"item",id:i[4]}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&16&&(f.item=o[0].byId("item",o[4])),e.$set(f);const a={};r&16&&(a.id=o[4]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function L0(i){let e,n,t=i[1].length&&M0(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function G0(i,e,n){let{item_id:t}=e,l=xe("data");const o=new Set;for(const f of l.byType("recipe").concat(l.byType("uncraft")))f.result&&(f.reversible||f.type==="uncraft")&&(f.using?Array.isArray(f.using)?f.using:[[f.using,1]]:[]).map(([m,$])=>[l.byId("requirement",m),$]).concat([[f,1]]).flatMap(([m,$])=>{var v;return l.flattenRequirement((v=m.components)!=null?v:[],E=>E.components,{onlyRecoverable:!0}).map(E=>E.map(T=>({...T,count:T.count*$})))}).map(m=>m[0]).some(m=>m.id===t)&&o.add(f.result);const r=[...o].sort((f,a)=>ge(l.byId("item",f)).localeCompare(ge(l.byId("item",a))));return i.$$set=f=>{"item_id"in f&&n(2,t=f.item_id)},[l,r,t]}class U0 extends Ve{constructor(e){super(),ze(this,e,G0,L0,He,{item_id:2})}}function q0(i){let e,n,t,l,o;return l=new ft({props:{items:i[1],$$slots:{default:[P0,({item:r})=>({8:r}),({item:r})=>r?256:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Dropped By",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&768&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function P0(i){let e,n,t,l,o=bl(i[8].prob)+"",r,f,a;return e=new Qe({props:{item:i[0].byId("monster",i[8].id)}}),t=new ae({props:{type:"monster",id:i[8].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment),l=w(" ("),r=w(o),f=w(")")},m(s,u){q(e,s,u),h(s,n,u),q(t,s,u),h(s,l,u),h(s,r,u),h(s,f,u),a=!0},p(s,u){const c={};u&256&&(c.item=s[0].byId("monster",s[8].id)),e.$set(c);const m={};u&256&&(m.id=s[8].id),t.$set(m),(!a||u&256)&&o!==(o=bl(s[8].prob)+"")&&W(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){P(e,s),s&&p(n),P(t,s),s&&p(l),s&&p(r),s&&p(f)}}}function F0(i){let e,n,t,l,o;return l=new ft({props:{items:i[2],$$slots:{default:[Y0,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Butcher",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&640&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function Y0(i){let e,n,t,l;return e=new Qe({props:{item:i[7]}}),t=new ae({props:{id:i[7].id,type:"monster"}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&128&&(f.item=o[7]),e.$set(f);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function j0(i){let e,n,t,l,o;return l=new ft({props:{items:i[3],$$slots:{default:[H0,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Dissect",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&640&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function H0(i){let e,n,t,l;return e=new Qe({props:{item:i[7]}}),t=new ae({props:{id:i[7].id,type:"monster"}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&128&&(f.item=o[7]),e.$set(f);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function W0(i){let e,n,t,l,o=i[1].length&&q0(i),r=i[2].length&&F0(i),f=i[3].length&&j0(i);return{c(){o&&o.c(),e=C(),r&&r.c(),n=C(),f&&f.c(),t=ie()},m(a,s){o&&o.m(a,s),h(a,e,s),r&&r.m(a,s),h(a,n,s),f&&f.m(a,s),h(a,t,s),l=!0},p(a,[s]){a[1].length&&o.p(a,s),a[2].length&&r.p(a,s),a[3].length&&f.p(a,s)},i(a){l||(b(o),b(r),b(f),l=!0)},o(a){k(o),k(r),k(f),l=!1},d(a){o&&o.d(a),a&&p(e),r&&r.d(a),a&&p(n),f&&f.d(a),a&&p(t)}}}function z0(i,e,n){let{item_id:t}=e,l=xe("data");const o=l.byType("monster").flatMap(u=>{if(!u.id)return[];const m=l.flatDeathDrops(u.id).find($=>$.id===t);return m?[{id:u.id,prob:m.prob}]:[]});o.sort((u,c)=>c.prob-u.prob);const r=u=>{var c,m;return(m=(c=u.entries)==null?void 0:c.flatMap($=>{var v;return $.type&&((v=l.byId("harvest_drop_type",$.type))==null?void 0:v.group)?l.flattenItemGroup(l.byId("item_group",$.drop)).map(E=>E.id):[$.drop]}))!=null?m:[]},f=l.byType("harvest").filter(u=>r(u).some(c=>c===t)),a=l.byType("monster").filter(u=>u.id&&f.some(c=>c.id===u.harvest)),s=l.byType("monster").filter(u=>u.id&&f.some(c=>c.id===u.dissect));return i.$$set=u=>{"item_id"in u&&n(4,t=u.item_id)},[l,o,a,s,t]}class V0 extends Ve{constructor(e){super(),ze(this,e,z0,W0,He,{item_id:4})}}function ms(i,e,n){const t=i.slice();return t[6]=e[n][0],t[7]=e[n][1],t}function X0(i){let e,n,t,l,o;return l=new ft({props:{items:i[1],$$slots:{default:[J0,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Forage",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&1056&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function ps(i){let e,n=i[6]+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function J0(i){let e,n,t,l,o,r;e=new Qe({props:{item:i[5]}}),t=new ae({props:{type:"terrain",id:i[5].id}});let f=i[0],a=[];for(let s=0;s<f.length;s+=1)a[s]=ps(ms(i,f,s));return{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment),l=w(` in
      `),o=g("ul");for(let s=0;s<a.length;s+=1)a[s].c();ue(o,"class","comma-separated or")},m(s,u){q(e,s,u),h(s,n,u),q(t,s,u),h(s,l,u),h(s,o,u);for(let c=0;c<a.length;c+=1)a[c].m(o,null);r=!0},p(s,u){const c={};u&32&&(c.item=s[5]),e.$set(c);const m={};if(u&32&&(m.id=s[5].id),t.$set(m),u&1){f=s[0];let $;for($=0;$<f.length;$+=1){const v=ms(s,f,$);a[$]?a[$].p(v,u):(a[$]=ps(v),a[$].c(),a[$].m(o,null))}for(;$<a.length;$+=1)a[$].d(1);a.length=f.length}},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),r=!1},d(s){P(e,s),s&&p(n),P(t,s),s&&p(l),s&&p(o),ce(a,s)}}}function K0(i){let e,n,t=i[0].length&&X0(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function Q0(i,e,n){let{item_id:t}=e,l=xe("data");const o={Spring:"forage_spring",Summer:"forage_summer",Autumn:"forage_autumn",Winter:"forage_winter","any season":"trash_forest"},r=Object.keys(o).map(a=>{var u;const s=l.flattenItemGroup(l.byId("item_group",o[a]));return[a,(u=s.find(c=>c.id===t))==null?void 0:u.prob]}).filter(a=>a[1]),f=l.byType("terrain").filter(a=>a.examine_action==="shrub_wildveggies");return i.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[r,f,t]}class Z0 extends Ve{constructor(e){super(),ze(this,e,Q0,K0,He,{item_id:2})}}function x0(i){let e,n,t,l,o;return l=new ft({props:{items:i[0],$$slots:{default:[eb,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Grown From",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function eb(i){var s;let e,n,t,l,o=((s=i[3].seed_data.grow)!=null?s:"1 day")+"",r,f,a;return e=new Qe({props:{item:i[3]}}),t=new ae({props:{id:i[3].id,type:"item"}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment),l=w(" ("),r=w(o),f=w(")")},m(u,c){q(e,u,c),h(u,n,c),q(t,u,c),h(u,l,c),h(u,r,c),h(u,f,c),a=!0},p(u,c){var v;const m={};c&8&&(m.item=u[3]),e.$set(m);const $={};c&8&&($.id=u[3].id),t.$set($),(!a||c&8)&&o!==(o=((v=u[3].seed_data.grow)!=null?v:"1 day")+"")&&W(r,o)},i(u){a||(b(e.$$.fragment,u),b(t.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(t.$$.fragment,u),a=!1},d(u){P(e,u),u&&p(n),P(t,u),u&&p(l),u&&p(r),u&&p(f)}}}function tb(i){let e,n,t=i[0].length&&x0(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function nb(i,e,n){let{item_id:t}=e;const o=xe("data").byType("item").filter(r=>{var f;return!r.id||!r.seed_data?!1:r.seed_data.fruit===t||((f=r.seed_data.byproducts)==null?void 0:f.includes(t))});return i.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class lb extends Ve{constructor(e){super(),ze(this,e,nb,tb,He,{item_id:1})}}function hs(i){let e,n,t=i[0].min_strength+"",l;return{c(){e=g("dt"),e.textContent="Min Strength",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].min_strength+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function gs(i){let e,n,t=i[0].valid_mod_locations.map(bs).join(", ")+"",l,o;return{c(){e=g("dt"),e.textContent="Mod Slots",n=g("dd"),l=w(t),o=C()},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f&1&&t!==(t=r[0].valid_mod_locations.map(bs).join(", ")+"")&&W(l,t)},d(r){r&&p(e),r&&p(n)}}}function ib(i){var De,Ie,ke,Te,rt,ye,pe,Le,We,Me;let e,n,t,l,o,r,f,a,s,u,c,m,$,v=((De=i[0].range)!=null?De:0)+"",E,T,y,S=((Ie=i[0].dispersion)!=null?Ie:0)+"",I,B,O,N=(((ke=i[0].flags)!=null?ke:[]).includes("DISABLE_SIGHTS")?90:(Te=i[0].sight_dispersion)!=null?Te:30)+"",R,G,M,X,A=((rt=i[0].recoil)!=null?rt:0)+"",D,J,j,U=((ye=i[0].loudness)!=null?ye:0)+"",Y,L,H,le=((pe=i[0].reload)!=null?pe:100)+"",z,Q,K,oe,V=((Le=i[0].reload_noise_volume)!=null?Le:0)+"",te,_e,Ge,$e=((We=i[0].durability)!=null?We:0)+"",me,be;f=new ae({props:{type:"skill",id:i[0].skill}});let ve=i[0].min_strength&&hs(i),de=((Me=i[0].valid_mod_locations)==null?void 0:Me.length)&&gs(i);return{c(){var Oe,Ze,he;e=g("section"),n=g("h1"),n.textContent="Ranged",t=C(),l=g("dl"),o=g("dt"),o.textContent="Skill",r=g("dd"),F(f.$$.fragment),ve&&ve.c(),a=g("dt"),a.textContent="Base Damage",s=g("dd"),s.textContent=`${(Oe=i[1].amount)!=null?Oe:0} (${(Ze=i[1].damage_type)!=null?Ze:"bullet"})
    `,u=g("dt"),u.textContent="Armor Penetration",c=g("dd"),c.textContent=`${(he=i[1].armor_penetration)!=null?he:0}`,m=g("dt"),m.textContent="Range Bonus",$=g("dd"),E=w(v),T=g("dt"),T.textContent="Base Dispersion",y=g("dd"),I=w(S),B=g("dt"),B.textContent="Sight Dispersion",O=g("dd"),R=w(N),G=C(),M=g("dt"),M.textContent="Base Recoil",X=g("dd"),D=w(A),J=g("dt"),J.textContent=`Loudness Modifier
    `,j=g("dd"),Y=w(U),L=g("dt"),L.textContent="Reload Time",H=g("dd"),z=w(le),Q=w(" moves"),K=g("dt"),K.textContent=`Reload Noise Volume
    `,oe=g("dd"),te=w(V),de&&de.c(),_e=g("dt"),_e.textContent="Durability",Ge=g("dd"),me=w($e),ue(m,"title","Added to ammo range"),ue(T,"title","Added to ammo dispersion"),ue(J,"title","Modifies base loudness as provided by the currently loaded ammo"),ue(K,"title","Volume of the noise made when reloading this weapon")},m(Oe,Ze){h(Oe,e,Ze),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),q(f,r,null),ve&&ve.m(l,null),d(l,a),d(l,s),d(l,u),d(l,c),d(l,m),d(l,$),d($,E),d(l,T),d(l,y),d(y,I),d(l,B),d(l,O),d(O,R),d(O,G),d(l,M),d(l,X),d(X,D),d(l,J),d(l,j),d(j,Y),d(l,L),d(l,H),d(H,z),d(H,Q),d(l,K),d(l,oe),d(oe,te),de&&de.m(l,null),d(l,_e),d(l,Ge),d(Ge,me),be=!0},p(Oe,[Ze]){var Be,Pe,Ne,Se,Fe,Ue,Xe,it,mt,Nt;const he={};Ze&1&&(he.id=Oe[0].skill),f.$set(he),Oe[0].min_strength?ve?ve.p(Oe,Ze):(ve=hs(Oe),ve.c(),ve.m(l,a)):ve&&(ve.d(1),ve=null),(!be||Ze&1)&&v!==(v=((Be=Oe[0].range)!=null?Be:0)+"")&&W(E,v),(!be||Ze&1)&&S!==(S=((Pe=Oe[0].dispersion)!=null?Pe:0)+"")&&W(I,S),(!be||Ze&1)&&N!==(N=(((Ne=Oe[0].flags)!=null?Ne:[]).includes("DISABLE_SIGHTS")?90:(Se=Oe[0].sight_dispersion)!=null?Se:30)+"")&&W(R,N),(!be||Ze&1)&&A!==(A=((Fe=Oe[0].recoil)!=null?Fe:0)+"")&&W(D,A),(!be||Ze&1)&&U!==(U=((Ue=Oe[0].loudness)!=null?Ue:0)+"")&&W(Y,U),(!be||Ze&1)&&le!==(le=((Xe=Oe[0].reload)!=null?Xe:100)+"")&&W(z,le),(!be||Ze&1)&&V!==(V=((it=Oe[0].reload_noise_volume)!=null?it:0)+"")&&W(te,V),(mt=Oe[0].valid_mod_locations)!=null&&mt.length?de?de.p(Oe,Ze):(de=gs(Oe),de.c(),de.m(l,_e)):de&&(de.d(1),de=null),(!be||Ze&1)&&$e!==($e=((Nt=Oe[0].durability)!=null?Nt:0)+"")&&W(me,$e)},i(Oe){be||(b(f.$$.fragment,Oe),be=!0)},o(Oe){k(f.$$.fragment,Oe),be=!1},d(Oe){Oe&&p(e),P(f),ve&&ve.d(),de&&de.d()}}}const bs=([i,e])=>`${i} (${e})`;function rb(i,e,n){var o;let{item:t}=e;const l=Array.isArray(t.ranged_damage)?t.ranged_damage[0]:t.ranged_damage&&"values"in t.ranged_damage?t.ranged_damage.values[0]:(o=t.ranged_damage)!=null?o:{amount:0,damage_type:"bullet",armor_penetration:0};return i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,l]}class ob extends Ve{constructor(e){super(),ze(this,e,rb,ib,He,{item:0})}}function fb(i){let e,n,t,l,o;return l=new ft({props:{items:i[0],$$slots:{default:[sb,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Harvest",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function sb(i){let e,n,t,l;return e=new Qe({props:{item:i[3]}}),t=new ae({props:{type:i[3].type,id:i[3].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&8&&(f.item=o[3]),e.$set(f);const a={};r&8&&(a.type=o[3].type),r&8&&(a.id=o[3].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function ab(i){let e,n,t=i[0].length&&fb(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function ub(i,e,n){let{item_id:t}=e;const l=xe("data"),o=l.byType("terrain").concat(l.byType("furniture")).filter(r=>{var f;return((f=r.harvest_by_season)!=null?f:[]).some(a=>l.byId("harvest",a.id).entries.some(u=>u.type==="bionic_group"?l.flattenItemGroup(l.byId("item_group",u.drop)).some(c=>c.id===t):u.drop===t))});return o.sort((r,f)=>ge(r).localeCompare(ge(f))),i.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class cb extends Ve{constructor(e){super(),ze(this,e,ub,ab,He,{item_id:1})}}function $s(i,e,n){const t=i.slice();return t[11]=e[n],t}function vs(i){var M,X;let e,n,t,l,o,r,f=((M=i[0].bashing)!=null?M:0)+"",a,s,u,c,m=((X=i[0].cutting)!=null?X:0)+"",$,v,E,T,y,S=i[3](i[0])+"",I,B;function O(A,D){return A[4]?db:_b}let R=O(i)(i),G=i[1].length&&mb(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Melee",t=C(),l=g("dl"),o=g("dt"),o.textContent="Bash",r=g("dd"),a=w(f),s=g("dt"),R.c(),u=C(),c=g("dd"),$=w(m),v=g("dt"),v.textContent="To Hit",E=g("dd"),E.textContent=`${i[2]}`,T=g("dt"),T.textContent="Moves Per Attack",y=g("dd"),I=w(S),G&&G.c()},m(A,D){h(A,e,D),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,a),d(l,s),R.m(s,null),d(s,u),d(l,c),d(c,$),d(l,v),d(l,E),d(l,T),d(l,y),d(y,I),G&&G.m(l,null),B=!0},p(A,D){var J,j;(!B||D&1)&&f!==(f=((J=A[0].bashing)!=null?J:0)+"")&&W(a,f),(!B||D&1)&&m!==(m=((j=A[0].cutting)!=null?j:0)+"")&&W($,m),(!B||D&1)&&S!==(S=A[3](A[0])+"")&&W(I,S),A[1].length&&G.p(A,D)},i(A){B||(b(G),B=!0)},o(A){k(G),B=!1},d(A){A&&p(e),R.d(),G&&G.d()}}}function _b(i){let e;return{c(){e=w("Cut")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function db(i){let e;return{c(){e=w("Pierce")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function mb(i){let e,n,t,l,o=i[1],r=[];for(let a=0;a<o.length;a+=1)r[a]=ks($s(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Techniques",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ue(t,"class","no-bullets")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&2){o=a[1];let u;for(u=0;u<o.length;u+=1){const c=$s(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=ks(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function ks(i){let e,n,t,l,o=Jt(i[11].description)+"",r,f,a;return t=new ae({props:{type:"technique",id:i[11].id}}),{c(){e=g("li"),n=g("strong"),F(t.$$.fragment),l=w(": "),r=w(o),f=C()},m(s,u){h(s,e,u),d(e,n),q(t,n,null),d(e,l),d(e,r),d(e,f),a=!0},p:Z,i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&p(e),P(t)}}}function pb(i){let e,n,t=(i[0].bashing||i[0].cutting)&&vs(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].bashing||l[0].cutting?t?(t.p(l,o),o&1&&b(t,1)):(t=vs(l),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(x(),k(t,1,1,()=>{t=null}),ee())},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function hb(i,e,n){var v,E,T,y;let t=xe("data"),{item:l}=e,o=((v=l.techniques)!=null?v:[]).map(S=>t.byId("technique",S));const r={bad:0,none:1,solid:2,weapon:3},f={hand:0,short:1,long:2},a={point:0,line:1,any:2,every:3},s={clumsy:0,uneven:1,neutral:2,good:3},u=({grip:S="weapon",length:I="hand",surface:B="any",balance:O="neutral"})=>{const N=r[S],R=f[I],G=a[B],M=s[O],X=-2,A=-1,D=-2,J=-2;return X+A+D+J+N+R+G+M},c=typeof l.to_hit=="object"?u(l.to_hit):(E=l.to_hit)!=null?E:0;function m(S){return Math.floor(65+(Math.floor(Lr(S.volume)/62.5)+Math.floor(Oi(S.weight)/60)))}const $=((T=l.flags)!=null?T:[]).includes("SPEAR")||((y=l.flags)!=null?y:[]).includes("STAB");return i.$$set=S=>{"item"in S&&n(0,l=S.item)},[l,o,c,m,$]}class gb extends Ve{constructor(e){super(),ze(this,e,hb,pb,He,{item:0})}}function ys(i,e,n){const t=i.slice();return t[6]=e[n],t}function ws(i,e,n){const t=i.slice();return t[9]=e[n].id,t[10]=e[n].count,t[12]=n,t}function Es(i,e,n){const t=i.slice();return t[13]=e[n],t}function Ts(i,e,n){const t=i.slice();return t[16]=e[n],t[12]=n,t}function Ss(i,e,n){const t=i.slice();return t[18]=e[n],t}function Cs(i,e,n){const t=i.slice();return t[21]=e[n],t[12]=n,t}function bb(i){var $;let e,n,t,l,o,r,f=($=i[2])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=Rs(Ss(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[1],c=[];for(let v=0;v<u.length;v+=1)c[v]=Os(Es(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=g("dt"),e.textContent="Tools Required",n=C(),t=g("dd"),l=g("ul");for(let v=0;v<a.length;v+=1)a[v].c();o=C();for(let v=0;v<c.length;v+=1)c[v].c()},m(v,E){h(v,e,E),h(v,n,E),h(v,t,E),d(t,l);for(let T=0;T<a.length;T+=1)a[T].m(l,null);d(l,o);for(let T=0;T<c.length;T+=1)c[T].m(l,null);r=!0},p(v,E){var T;if(E&4){f=(T=v[2])!=null?T:[];let y;for(y=0;y<f.length;y+=1){const S=Ss(v,f,y);a[y]?(a[y].p(S,E),b(a[y],1)):(a[y]=Rs(S),a[y].c(),b(a[y],1),a[y].m(l,o))}for(x(),y=f.length;y<a.length;y+=1)s(y);ee()}if(E&3){u=v[1];let y;for(y=0;y<u.length;y+=1){const S=Es(v,u,y);c[y]?(c[y].p(S,E),b(c[y],1)):(c[y]=Os(S),c[y].c(),b(c[y],1),c[y].m(l,null))}for(x(),y=u.length;y<c.length;y+=1)m(y);ee()}},i(v){if(!r){for(let E=0;E<f.length;E+=1)b(a[E]);for(let E=0;E<u.length;E+=1)b(c[E]);r=!0}},o(v){a=a.filter(Boolean);for(let E=0;E<a.length;E+=1)k(a[E]);c=c.filter(Boolean);for(let E=0;E<c.length;E+=1)k(c[E]);r=!1},d(v){v&&p(e),v&&p(n),v&&p(t),ce(a,v),ce(c,v)}}}function $b(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Is(i){var y,S;let e,n=((y=i[21].amount)!=null?y:1)+"",t,l,o=((S=i[21].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[21].level+"",c,m,$="",v,E,T=i[12]!==0&&$b();return a=new ae({props:{type:"tool_quality",id:i[21].id}}),{c(){T&&T.c(),e=C(),t=w(n),l=w(" tool"),r=w(o),f=w(`
            with `),F(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
            or more`),v=w($)},m(I,B){T&&T.m(I,B),h(I,e,B),h(I,t,B),h(I,l,B),h(I,r,B),h(I,f,B),q(a,I,B),h(I,s,B),h(I,c,B),h(I,m,B),h(I,v,B),E=!0},p:Z,i(I){E||(b(a.$$.fragment,I),E=!0)},o(I){k(a.$$.fragment,I),E=!1},d(I){T&&T.d(I),I&&p(e),I&&p(t),I&&p(l),I&&p(r),I&&p(f),P(a,I),I&&p(s),I&&p(c),I&&p(m),I&&p(v)}}}function Rs(i){let e,n,t,l=i[18],o=[];for(let f=0;f<l.length;f+=1)o[f]=Is(Cs(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=w(".")},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&4){l=f[18];let s;for(s=0;s<l.length;s+=1){const u=Cs(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Is(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function vb(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function kb(i){let e,n;return e=new ae({props:{type:"item",id:i[16].id}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p:Z,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function yb(i){let e,n=ge(i[0].byId("item",i[16].id))+"",t;return{c(){e=g("a"),t=w(n),ue(e,"href","#/furniture/"+i[0].craftingPseudoItem(i[16].id))},m(l,o){h(l,e,o),d(e,t)},p:Z,i:Z,o:Z,d(l){l&&p(e)}}}function wb(i){let e,n=i[16].count+"",t,l,o,r=i[16].count!==1&&Eb();return{c(){e=w("("),t=w(n),l=w(" charge"),r&&r.c(),o=w(")")},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:Z,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function Eb(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ns(i){let e,n,t,l,o,r,f=i[12]!==0&&vb();const a=[yb,kb],s=[];function u(m,$){return m[0].craftingPseudoItem(m[16].id)?0:1}n=u(i),t=s[n]=a[n](i);let c=i[16].count>0&&wb(i);return{c(){f&&f.c(),e=C(),t.c(),l=C(),c&&c.c(),o=ie()},m(m,$){f&&f.m(m,$),h(m,e,$),s[n].m(m,$),h(m,l,$),c&&c.m(m,$),h(m,o,$),r=!0},p(m,$){t.p(m,$),m[16].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&p(e),s[n].d(m),m&&p(l),c&&c.d(m),m&&p(o)}}}function Os(i){let e,n,t,l=i[13],o=[];for(let f=0;f<l.length;f+=1)o[f]=Ns(Ts(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=C()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&3){l=f[13];let s;for(s=0;s<l.length;s+=1){const u=Ts(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Ns(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function Tb(i){let e,n,t,l,o,r=i[3],f=[];for(let s=0;s<r.length;s+=1)f[s]=As(ys(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Components",n=C(),t=g("dd"),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),h(s,n,u),h(s,t,u),d(t,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&9){r=s[3];let c;for(c=0;c<r.length;c+=1){const m=ys(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=As(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),s&&p(t),ce(f,s)}}}function Sb(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Bs(i){let e,n,t,l=i[12]!==0&&Sb();return n=new ae({props:{type:"item",id:i[9],count:i[10]}}),{c(){l&&l.c(),e=C(),F(n.$$.fragment)},m(o,r){l&&l.m(o,r),h(o,e,r),q(n,o,r),t=!0},p:Z,i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&p(e),P(n,o)}}}function As(i){let e,n,t,l=i[6].map(i[5]),o=[];for(let f=0;f<l.length;f+=1)o[f]=Bs(ws(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=C()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&9){l=f[6].map(f[5]);let s;for(s=0;s<l.length;s+=1){const u=ws(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Bs(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function Cb(i){var r;let e,n,t,l=(((r=i[2])!=null?r:[]).length||i[1].length)&&bb(i),o=i[3].length&&Tb(i);return{c(){l&&l.c(),e=C(),o&&o.c(),n=ie()},m(f,a){l&&l.m(f,a),h(f,e,a),o&&o.m(f,a),h(f,n,a),t=!0},p(f,[a]){var s;(((s=f[2])!=null?s:[]).length||f[1].length)&&l.p(f,a),f[3].length&&o.p(f,a)},i(f){t||(b(l),b(o),t=!0)},o(f){k(l),k(o),t=!1},d(f){l&&l.d(f),f&&p(e),o&&o.d(f),f&&p(n)}}}function Ib(i,e,n){let{requirement:t}=e;const l=xe("data");let{tools:o,qualities:r,components:f}=l.normalizeRequirements(t);const a=s=>({...s,item:l.byId("item",s.id)});return i.$$set=s=>{"requirement"in s&&n(4,t=s.requirement)},[l,o,r,f,t,a]}class Wi extends Ve{constructor(e){super(),ze(this,e,Ib,Cb,He,{requirement:4})}}function Ms(i,e,n){const t=i.slice();return t[6]=e[n][0],t[7]=e[n][1]!==void 0?e[n][1]:0,t}function Ds(i,e,n){const t=i.slice();return t[10]=e[n][0],t[7]=e[n][1],t}function Ls(i,e,n){const t=i.slice();return t[10]=e[n][0],t[7]=e[n][1],t}function Gs(i,e,n){const t=i.slice();return t[15]=e[n],t}function Us(i,e,n){const t=i.slice();return t[18]=e[n],t}function qs(i,e,n){const t=i.slice();return t[10]=e[n][0],t[7]=e[n][1],t[22]=n,t}function Rb(i){let e;return{c(){e=w("Craft")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Nb(i){let e;return{c(){e=w("Byproduct")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ps(i){let e,n,t,l;return t=new ae({props:{id:i[0].result,type:"item"}}),{c(){e=g("dt"),e.textContent="Result",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].result),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function Ob(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function Bb(i){var f;let e,n,t=((f=i[0].difficulty)!=null?f:0)+"",l,o,r;return e=new ae({props:{type:"skill",id:i[0].skill_used}}),{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(a,s){q(e,a,s),h(a,n,s),h(a,l,s),h(a,o,s),r=!0},p(a,s){var c;const u={};s&1&&(u.id=a[0].skill_used),e.$set(u),(!r||s&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&W(l,t)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){P(e,a),a&&p(n),a&&p(l),a&&p(o)}}}function Ab(i){let e,n,t,l,o=i[2],r=[];for(let s=0;s<o.length;s+=1)r[s]=Ys(qs(i,o,s));const f=s=>k(r[s],1,1,()=>{r[s]=null});let a=null;return o.length||(a=Fs()),{c(){e=g("dt"),e.textContent="Other Skills",n=g("dd");for(let s=0;s<r.length;s+=1)r[s].c();a&&a.c(),t=C()},m(s,u){h(s,e,u),h(s,n,u);for(let c=0;c<r.length;c+=1)r[c].m(n,null);a&&a.m(n,null),d(n,t),l=!0},p(s,u){if(u&4){o=s[2];let c;for(c=0;c<o.length;c+=1){const m=qs(s,o,c);r[c]?(r[c].p(m,u),b(r[c],1)):(r[c]=Ys(m),r[c].c(),b(r[c],1),r[c].m(n,t))}for(x(),c=o.length;c<r.length;c+=1)f(c);ee(),o.length?a&&(a.d(1),a=null):a||(a=Fs(),a.c(),a.m(n,t))}},i(s){if(!l){for(let u=0;u<o.length;u+=1)b(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);l=!1},d(s){s&&p(e),s&&p(n),ce(r,s),a&&a.d()}}}function Fs(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Mb(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Db(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Ys(i){let e,n,t=i[7]+"",l,o,r,f;e=new ae({props:{type:"skill",id:i[10]}});function a(c,m){if(c[22]===c[2].length-2)return Db;if(c[22]!==c[2].length-1)return Mb}let s=a(i),u=s&&s(i);return{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=ie()},m(c,m){q(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p:Z,i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){P(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function Lb(i){let e,n,t,l,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=js(Us(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Proficiencies",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&16){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=Us(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=js(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Gb(i){let e,n=[[i[18].time_multiplier,"time"],[i[18].fail_multiplier,"fail"],[i[18].learning_time_multiplier,"learning speed"]].filter(Xb).map(Jb).join(", ")+"",t,l;return{c(){e=w("("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:Z,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function js(i){let e,n,t,l,o;n=new ae({props:{type:"proficiency",id:i[18].proficiency}});let r=(i[18].time_multiplier!==1||i[18].fail_multiplier!==1||i[18].learning_time_multiplier!==1)&&Gb(i);return{c(){e=g("li"),F(n.$$.fragment),t=C(),r&&r.c(),l=C()},m(f,a){h(f,e,a),q(n,e,null),d(e,t),r&&r.m(e,null),d(e,l),o=!0},p(f,a){(f[18].time_multiplier!==1||f[18].fail_multiplier!==1||f[18].learning_time_multiplier!==1)&&r.p(f,a)},i(f){o||(b(n.$$.fragment,f),o=!0)},o(f){k(n.$$.fragment,f),o=!1},d(f){f&&p(e),P(n),r&&r.d()}}}function Ub(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function qb(i){let e=i[0].batch_time_factors[0]+"",n,t,l=i[0].batch_time_factors[1]+"",o,r,f=i[0].batch_time_factors[1]===1?"":"s",a;return{c(){n=w(e),t=w("% at >"),o=w(l),r=w(" unit"),a=w(f)},m(s,u){h(s,n,u),h(s,t,u),h(s,o,u),h(s,r,u),h(s,a,u)},p(s,u){u&1&&e!==(e=s[0].batch_time_factors[0]+"")&&W(n,e),u&1&&l!==(l=s[0].batch_time_factors[1]+"")&&W(o,l),u&1&&f!==(f=s[0].batch_time_factors[1]===1?"":"s")&&W(a,f)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r),s&&p(a)}}}function Hs(i){let e,n,t=i[0].charges+"",l;return{c(){e=g("dt"),e.textContent="Recipe Makes",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].charges+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function Ws(i){let e,n,t,l,o,r=i[0].byproducts,f=[];for(let s=0;s<r.length;s+=1)f[s]=zs(Gs(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Byproducts",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].byproducts;let c;for(c=0;c<r.length;c+=1){const m=Gs(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=zs(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function zs(i){var l;let e,n,t;return n=new ae({props:{type:"item",id:i[15][0],count:(l=i[15][1])!=null?l:1}}),{c(){e=g("li"),F(n.$$.fragment)},m(o,r){h(o,e,r),q(n,e,null),t=!0},p(o,r){var a;const f={};r&1&&(f.id=o[15][0]),r&1&&(f.count=(a=o[15][1])!=null?a:1),n.$set(f)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){o&&p(e),P(n)}}}function Pb(i){let e;return{c(){e=w("no")},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function Fb(i){let e,n,t,l,o;const r=[jb,Yb],f=[];function a(s,u){return u&1&&(n=null),n==null&&(n=!!Array.isArray(s[0].autolearn)),n?0:1}return t=a(i,-1),l=f[t]=r[t](i),{c(){e=g("ul"),l.c(),ue(e,"class","comma-separated")},m(s,u){h(s,e,u),f[t].m(e,null),o=!0},p(s,u){let c=t;t=a(s,u),t===c?f[t].p(s,u):(x(),k(f[c],1,1,()=>{f[c]=null}),ee(),l=f[t],l?l.p(s,u):(l=f[t]=r[t](s),l.c()),b(l,1),l.m(e,null))},i(s){o||(b(l),o=!0)},o(s){k(l),o=!1},d(s){s&&p(e),f[t].d()}}}function Yb(i){let e,n,t,l,o=i[0].skill_used&&Vs(i),r=i[2].length&&Hb(i),f=!i[0].skill_used&&!i[2].length&&Js();return{c(){o&&o.c(),e=C(),r&&r.c(),n=C(),f&&f.c(),t=ie()},m(a,s){o&&o.m(a,s),h(a,e,s),r&&r.m(a,s),h(a,n,s),f&&f.m(a,s),h(a,t,s),l=!0},p(a,s){a[0].skill_used?o?(o.p(a,s),s&1&&b(o,1)):(o=Vs(a),o.c(),b(o,1),o.m(e.parentNode,e)):o&&(x(),k(o,1,1,()=>{o=null}),ee()),a[2].length&&r.p(a,s),!a[0].skill_used&&!a[2].length?f||(f=Js(),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null)},i(a){l||(b(o),b(r),l=!0)},o(a){k(o),k(r),l=!1},d(a){o&&o.d(a),a&&p(e),r&&r.d(a),a&&p(n),f&&f.d(a),a&&p(t)}}}function jb(i){let e,n,t=i[0].autolearn,l=[];for(let r=0;r<t.length;r+=1)l[r]=Ks(Ls(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const s=Ls(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Ks(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ce(l,r),r&&p(e)}}}function Vs(i){var a;let e,n,t,l=((a=i[0].difficulty)!=null?a:0)+"",o,r,f;return n=new ae({props:{type:"skill",id:i[0].skill_used}}),{c(){e=g("li"),F(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(s,u){h(s,e,u),q(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(s,u){var m;const c={};u&1&&(c.id=s[0].skill_used),n.$set(c),(!f||u&1)&&l!==(l=((m=s[0].difficulty)!=null?m:0)+"")&&W(o,l)},i(s){f||(b(n.$$.fragment,s),f=!0)},o(s){k(n.$$.fragment,s),f=!1},d(s){s&&p(e),P(n)}}}function Hb(i){let e,n,t=i[2],l=[];for(let r=0;r<t.length;r+=1)l[r]=Xs(Ds(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f&4){t=r[2];let a;for(a=0;a<t.length;a+=1){const s=Ds(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Xs(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ce(l,r),r&&p(e)}}}function Xs(i){let e,n,t,l=i[7]+"",o,r,f;return n=new ae({props:{type:"skill",id:i[10]}}),{c(){e=g("li"),F(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(a,s){h(a,e,s),q(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p:Z,i(a){f||(b(n.$$.fragment,a),f=!0)},o(a){k(n.$$.fragment,a),f=!1},d(a){a&&p(e),P(n)}}}function Js(i){let e;return{c(){e=g("li"),e.textContent="At birth"},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ks(i){let e,n,t,l=i[7]+"",o,r,f;return n=new ae({props:{type:"skill",id:i[10]}}),{c(){e=g("li"),F(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(a,s){h(a,e,s),q(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(a,s){const u={};s&1&&(u.id=a[10]),n.$set(u),(!f||s&1)&&l!==(l=a[7]+"")&&W(o,l)},i(a){f||(b(n.$$.fragment,a),f=!0)},o(a){k(n.$$.fragment,a),f=!1},d(a){a&&p(e),P(n)}}}function Wb(i){let e,n,t,l,o=i[3],r=[];for(let a=0;a<o.length;a+=1)r[a]=Qs(Ms(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Written In",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ue(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=Ms(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Qs(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function Qs(i){let e,n,t,l,o=i[7]+"",r,f,a;return t=new ae({props:{id:i[6],type:"item"}}),{c(){e=g("li"),n=g("span"),F(t.$$.fragment),l=w(" ("),r=w(o),f=w(")"),Je(n,"white-space","nowrap")},m(s,u){h(s,e,u),d(e,n),q(t,n,null),d(n,l),d(n,r),d(n,f),a=!0},p:Z,i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&p(e),P(t)}}}function zb(i){var pe,Le,We;let e,n,t,l,o,r,f,a,s,u,c,m,$=((pe=i[0].time)!=null?pe:"0 m")+"",v,E,T,y=((Le=i[0].activity_level)!=null?Le:"MODERATE_EXERCISE")+"",S,I,B,O,N,R,G,M,X,A,D,J,j,U,Y,L,H=JSON.stringify(i[0],null,2)+"",le,z;function Q(Me,Oe){return Me[1]?Nb:Rb}let K=Q(i),oe=K(i),V=i[1]&&Ps(i);const te=[Bb,Ob],_e=[];function Ge(Me,Oe){return Me[0].skill_used?0:1}f=Ge(i),a=_e[f]=te[f](i);let $e=i[2].length&&Ab(i),me=i[4].length&&Lb(i);function be(Me,Oe){return Me[0].batch_time_factors?qb:Ub}let ve=be(i),de=ve(i),De=i[0].charges&&Hs(i);R=new Wi({props:{requirement:i[0]}});let Ie=((We=i[0].byproducts)==null?void 0:We.length)&&Ws(i);const ke=[Fb,Pb],Te=[];function rt(Me,Oe){return Me[0].autolearn?0:1}X=rt(i),A=Te[X]=ke[X](i);let ye=i[3].length&&Wb(i);return{c(){e=g("section"),n=g("h1"),oe.c(),t=C(),l=g("dl"),V&&V.c(),o=g("dt"),o.textContent="Primary Skill",r=g("dd"),a.c(),s=C(),$e&&$e.c(),u=ie(),me&&me.c(),c=g("dt"),c.textContent="Time to Complete",m=g("dd"),v=w($),E=g("dt"),E.textContent="Activity Level",T=g("dd"),S=w(y),I=g("dt"),I.textContent="Batch Time Savings",B=g("dd"),de.c(),O=C(),De&&De.c(),N=ie(),F(R.$$.fragment),Ie&&Ie.c(),G=g("dt"),G.textContent=`Autolearn
    `,M=g("dd"),A.c(),D=C(),ye&&ye.c(),J=C(),j=g("details"),U=g("summary"),U.textContent="Recipe JSON",Y=C(),L=g("pre"),le=w(H),ue(G,"title","Learned at these skill levels, otherwise only learnable from a book"),ue(e,"class","recipe")},m(Me,Oe){h(Me,e,Oe),d(e,n),oe.m(n,null),d(e,t),d(e,l),V&&V.m(l,null),d(l,o),d(l,r),_e[f].m(r,null),d(r,s),$e&&$e.m(l,null),d(l,u),me&&me.m(l,null),d(l,c),d(l,m),d(m,v),d(l,E),d(l,T),d(T,S),d(l,I),d(l,B),de.m(B,null),d(B,O),De&&De.m(l,null),d(l,N),q(R,l,null),Ie&&Ie.m(l,null),d(l,G),d(l,M),Te[X].m(M,null),d(M,D),ye&&ye.m(l,null),d(e,J),d(e,j),d(j,U),d(j,Y),d(j,L),d(L,le),z=!0},p(Me,[Oe]){var Pe,Ne,Se;K!==(K=Q(Me))&&(oe.d(1),oe=K(Me),oe&&(oe.c(),oe.m(n,null))),Me[1]?V?(V.p(Me,Oe),Oe&2&&b(V,1)):(V=Ps(Me),V.c(),b(V,1),V.m(l,o)):V&&(x(),k(V,1,1,()=>{V=null}),ee());let Ze=f;f=Ge(Me),f===Ze?_e[f].p(Me,Oe):(x(),k(_e[Ze],1,1,()=>{_e[Ze]=null}),ee(),a=_e[f],a?a.p(Me,Oe):(a=_e[f]=te[f](Me),a.c()),b(a,1),a.m(r,s)),Me[2].length&&$e.p(Me,Oe),Me[4].length&&me.p(Me,Oe),(!z||Oe&1)&&$!==($=((Pe=Me[0].time)!=null?Pe:"0 m")+"")&&W(v,$),(!z||Oe&1)&&y!==(y=((Ne=Me[0].activity_level)!=null?Ne:"MODERATE_EXERCISE")+"")&&W(S,y),ve===(ve=be(Me))&&de?de.p(Me,Oe):(de.d(1),de=ve(Me),de&&(de.c(),de.m(B,O))),Me[0].charges?De?De.p(Me,Oe):(De=Hs(Me),De.c(),De.m(l,N)):De&&(De.d(1),De=null);const he={};Oe&1&&(he.requirement=Me[0]),R.$set(he),(Se=Me[0].byproducts)!=null&&Se.length?Ie?(Ie.p(Me,Oe),Oe&1&&b(Ie,1)):(Ie=Ws(Me),Ie.c(),b(Ie,1),Ie.m(l,G)):Ie&&(x(),k(Ie,1,1,()=>{Ie=null}),ee());let Be=X;X=rt(Me),X===Be?Te[X].p(Me,Oe):(x(),k(Te[Be],1,1,()=>{Te[Be]=null}),ee(),A=Te[X],A?A.p(Me,Oe):(A=Te[X]=ke[X](Me),A.c()),b(A,1),A.m(M,D)),Me[3].length&&ye.p(Me,Oe),(!z||Oe&1)&&H!==(H=JSON.stringify(Me[0],null,2)+"")&&W(le,H)},i(Me){z||(b(V),b(a),b($e),b(me),b(R.$$.fragment,Me),b(Ie),b(A),b(ye),z=!0)},o(Me){k(V),k(a),k($e),k(me),k(R.$$.fragment,Me),k(Ie),k(A),k(ye),z=!1},d(Me){Me&&p(e),oe.d(),V&&V.d(),_e[f].d(),$e&&$e.d(),me&&me.d(),de.d(),De&&De.d(),P(R),Ie&&Ie.d(),Te[X].d(),ye&&ye.d()}}}function Vb(i){return i===void 0?[]:i.length===0?[]:Array.isArray(i[0])?i:[i]}const Xb=i=>i[0]!==1,Jb=([i,e])=>`${i}\xD7 ${e}`;function Kb(i,e,n){var s,u;let{recipe:t}=e,{showResult:l=!1}=e;const o=xe("data");let r=Vb(t.skills_required);const f=Array.isArray(t.book_learn)?[...t.book_learn]:[...Object.entries((s=t.book_learn)!=null?s:{})].map(([c,m])=>[c,m.skill_level]);f.sort((c,m)=>{var $,v;return(($=c[1])!=null?$:0)-((v=m[1])!=null?v:0)});const a=((u=t.proficiencies)!=null?u:[]).map(c=>{const m=o.byId("proficiency",c.proficiency);return{fail_multiplier:m.default_fail_multiplier,time_multiplier:m.default_time_multiplier,learning_time_multiplier:1,...c}});return i.$$set=c=>{"recipe"in c&&n(0,t=c.recipe),"showResult"in c&&n(1,l=c.showResult)},[t,l,r,f,a]}class Qb extends Ve{constructor(e){super(),ze(this,e,Kb,zb,He,{recipe:0,showResult:1})}}function Zs(i,e,n){const t=i.slice();return t[6]=e[n],t}function Zb(i){let e=[],n=new Map,t,l,o=i[2];const r=f=>f[6];for(let f=0;f<o.length;f+=1){let a=Zs(i,o,f),s=r(a);n.set(s,e[f]=xs(s,a))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=ie()},m(f,a){for(let s=0;s<e.length;s+=1)e[s].m(f,a);h(f,t,a),l=!0},p(f,a){a&5&&(o=f[2],x(),e=z1(e,a,r,1,f,o,n,t.parentNode,W1,xs,t,Zs),ee())},i(f){if(!l){for(let a=0;a<o.length;a+=1)b(e[a]);l=!0}},o(f){for(let a=0;a<e.length;a+=1)k(e[a]);l=!1},d(f){for(let a=0;a<e.length;a+=1)e[a].d(f);f&&p(t)}}}function xs(i,e){let n,t,l;return t=new Qb({props:{recipe:e[6],showResult:e[6].result!==e[0]}}),{key:i,first:null,c(){n=ie(),F(t.$$.fragment),this.first=n},m(o,r){h(o,n,r),q(t,o,r),l=!0},p(o,r){e=o;const f={};r&1&&(f.showResult=e[6].result!==e[0]),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(n),P(t,o)}}}function xb(i){let e,n,t,l,o;return l=new ft({props:{items:i[3],$$slots:{default:[e$,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Byproduct when crafting",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&544&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function e$(i){let e,n,t,l;return e=new Qe({props:{item:i[1].byId("item",i[5].result)}}),t=new ae({props:{type:"item",id:i[5].result}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&32&&(f.item=o[1].byId("item",o[5].result)),e.$set(f);const a={};r&32&&(a.id=o[5].result),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function t$(i){let e,n,t,l=i[2].length&&Zb(i),o=i[3].length&&xb(i);return{c(){l&&l.c(),e=C(),o&&o.c(),n=ie()},m(r,f){l&&l.m(r,f),h(r,e,f),o&&o.m(r,f),h(r,n,f),t=!0},p(r,[f]){r[2].length&&l.p(r,f),r[3].length&&o.p(r,f)},i(r){t||(b(l),b(o),t=!0)},o(r){k(l),k(o),t=!1},d(r){l&&l.d(r),r&&p(e),o&&o.d(r),r&&p(n)}}}function n$(i,e,n){let{item_id:t}=e,l=xe("data");const o=l.byType("recipe").filter(a=>a.result&&!a.obsolete);let r=o.filter(a=>a.result===t);const f=o.filter(a=>{var s;return((s=a.byproducts)!=null?s:[]).some(u=>u[0]===t)});return i.$$set=a=>{"item_id"in a&&n(0,t=a.item_id)},[t,l,r,f]}class l$ extends Ve{constructor(e){super(),ze(this,e,n$,t$,He,{item_id:0})}}function i$(i){let e,n,t,l,o;return l=new ft({props:{items:i[0],$$slots:{default:[r$,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Salvage",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&34&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function r$(i){let e,n,t,l;return e=new Qe({props:{item:i[1]}}),t=new ae({props:{type:"item",id:i[1].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&2&&(f.item=o[1]),e.$set(f);const a={};r&2&&(a.id=o[1].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function o$(i){let e,n,t=i[0].length&&i$(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function f$(i,e,n){let{item_id:t}=e,l=xe("data");const o=l.byId("item",t);function r(a){return l.byType("item").filter(s=>s.id).filter(s=>{var c;const u=typeof s.material=="string"?[s.material]:(c=s.material)!=null?c:[];return u.length===1&&u[0]===a.id})}const f=l.byType("material").filter(a=>a.id).filter(a=>a.salvaged_into===t).flatMap(a=>r(a)).filter(a=>{var s;return!((s=a.flags)!=null?s:[]).includes("NO_SALVAGE")}).filter(a=>Oi(a.weight)>=Oi(o.weight)).sort((a,s)=>ge(a).localeCompare(ge(s)));return i.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[f,o,t]}class s$ extends Ve{constructor(e){super(),ze(this,e,f$,o$,He,{item_id:2})}}function el(i,e){let n=[i!=null?i:1].flat();n.length===1&&(n=[n[0],n[0]]);let t=0,l=0;for(let o=n[0];o<=n[1];++o)t+=1-Math.pow(1-e,o),++l;return t/l}function Mi(i){var n,t;if(i.length===1&&((n=i[0].chance)!=null?n:1)===1)return i[0].loot;const e=new Map;for(const{loot:l,chance:o=1}of i)for(const[r,f]of l.entries()){const a=(t=e.get(r))!=null?t:0,s=f*o,u=1-(1-a)*(1-s);e.set(r,u)}return e}function a$(i,e,n){var o;const t={...i.object,rows:((o=i.object.rows)!=null?o:[]).slice(n*24,(n+1)*24).map(r=>r.slice(e*24,(e+1)*24))},l=r=>Array.isArray(r)?r[0]:r;return t.place_items&&(t.place_items=t.place_items.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),t.place_item&&(t.place_item=t.place_item.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),t.add&&(t.add=t.add.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),t.place_loot&&(t.place_loot=t.place_loot.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),t.place_nested&&(t.place_nested=t.place_nested.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),{...i,object:t}}const tr=new WeakMap;function u$(i){var r,f;if(tr.has(i))return tr.get(i);const e=new Map,n=(a,s)=>{e.has(a)||e.set(a,[]),e.get(a).push(s)},t=i.byType("mapgen").filter(a=>a.om_terrain!=null);for(const a of t)if(typeof a.om_terrain=="string")n(a.om_terrain,a);else if(typeof a.om_terrain[0]=="string")for(const s of a.om_terrain)n(s,a);else for(let s=0;s<a.om_terrain.length;s++)for(let u=0;u<a.om_terrain[s].length;u++)n(a.om_terrain[s][u],a$(a,u,s));const l=i.byType("overmap_special"),o=new Map;for(const a of l){if(a.subtype==="mutable")continue;const s=[];for(const u of(r=a.overmaps)!=null?r:[]){const c=u.overmap.replace(/_(north|east|west|south)$/,""),m=(f=e.get(c))!=null?f:[],$=Di(m.map(v=>{var E;return{weight:(E=v.weight)!=null?E:1e3,loot:Pp(i,v)}}));s.push($)}o.set(a.id,m$(s))}return tr.set(i,o),o}function c$(i,e){var u;if(e.subtype==="mutable")return;const n=[...(u=e.overmaps)!=null?u:[]];let t=1/0,l=1/0,o=-1/0,r=-1/0;const f=new Map;for(const c of n){const m=c.overmap.replace(/_(north|south|east|west)$/,"");if(!i.byId("overmap_terrain",m))continue;const[$,v,E]=c.point;E===0&&($<t&&(t=$),v<l&&(l=v),$>o&&(o=$),v>r&&(r=v),f.set(`${$}|${v}`,c))}if(t===1/0||l===1/0)return;const a=[r-l,o-t];for(let c=l;c<=r;c++)for(let m=t;m<=o;m++){const $=f.get(`${m}|${c}`);if($){const v=$.overmap.replace(/_(north|south|east|west)$/,""),E=s(v);a.push(E)}else a.push("no_om")}return a.join("\0");function s(c){const m=i.byId("overmap_terrain",c);return m?`${m.sym}${m.color}${m.name}`:"appearance_unk"}}const _$=new Set(["Necropolis","Isherwood Farms","lab_mutagen_6_level","Lab_SECURITY_1x1x6","Lab_CARGO_Surface","hub_01"]),nr=new WeakMap;function d$(i){if(nr.has(i))return nr.get(i);const e=u$(i),n=new Map;for(const[t,l]of e.entries()){if(_$.has(t))continue;const o=c$(i,i.byId("overmap_special",t));if(!o)continue;n.has(o)||n.set(o,{loot:void 0,ids:[]});const r=n.get(o);r.loot?r.loot=Di([{loot:r.loot,weight:1},{loot:l,weight:1}]):r.loot=l,r.ids.push(t)}return nr.set(i,n),n}function Di(i){var t;const e=i.map(l=>l.weight).reduce((l,o)=>l+o,0),n=new Map;for(const{loot:l,weight:o}of i){const r=(o!=null?o:1e3)/e;for(const[f,a]of l.entries())n.set(f,((t=n.get(f))!=null?t:0)+a*r)}return n}function m$(i){var n;const e=new Map;for(const t of i)for(const[l,o]of t.entries()){const r=(n=e.get(l))!=null?n:0;e.set(l,1-(1-o)*(1-r))}return e}let lr=0;function qp(i,e){if(lr+=1,lr>4)return new Map;const n=(e!=null?e:[]).map(l=>typeof l=="string"?[l,100]:l),t=Di(n.map(([l,o])=>{var a;const r=(a=i.nestedMapgensById(l))!=null?a:[];return{loot:Di(r.map(s=>{var m;const u=Pp(i,s),c=(m=s.weight)!=null?m:1e3;return{loot:u,weight:c}})),weight:o}}));return lr-=1,t}const ir=new WeakMap;function Pp(i,e){var c,m,$,v,E,T,y;if(ir.has(e))return ir.get(e);const n=Fp(i,e.object),t=((c=e.object.place_items)!=null?c:[]).map(({item:S,chance:I=100,repeat:B})=>({loot:Li(i,S),chance:el(B,I/100)})),l=[...(m=e.object.place_item)!=null?m:[],...($=e.object.add)!=null?$:[]].map(({item:S,chance:I=100,repeat:B})=>({loot:new Map([[S,el(B,I/100)]])})),o=((v=e.object.place_loot)!=null?v:[]).map(({item:S,group:I,chance:B=100,repeat:O})=>({loot:S?new Map([[S,1]]):Li(i,I),chance:el(O,B/100)})),r=((E=e.object.place_nested)!=null?E:[]).map(S=>{var N;const I=qp(i,S.chunks),B=(N=Array.isArray(S.repeat)?S.repeat[0]:S.repeat)!=null?N:1,O=new Map;for(const[R,G]of I.entries())O.set(R,1-Math.pow(1-G,B));return{loot:O}}),f=Mi([...t,...l,...o,...r]),a=new Map;for(const S of(T=e.object.rows)!=null?T:[])for(const I of S)n.has(I)&&a.set(I,((y=a.get(I))!=null?y:0)+1);const s=[];for(const[S,I]of a.entries()){const B=n.get(S),O=new Map;for(const[N,R]of B.entries())O.set(N,1-Math.pow(1-R,I));s.push({loot:O})}s.push({loot:f});const u=Mi(s);return ir.set(e,u),u}function Li(i,e){const n=typeof e=="string"?i.byId("item_group",e):Array.isArray(e)?{subtype:"collection",entries:e}:e,t=i.flattenItemGroup(n);return new Map(t.map(({id:l,prob:o})=>[l,o]))}function p$(i){return[i].map(e=>e.flatMap(n=>[...n])).map(e=>[...eg(e)]).map(e=>e.map(([n,t])=>[n,Mi(t.map(l=>({loot:l})))])).map(e=>new Map(e))[0]}function gi(i,e){return new Map(Object.entries(i!=null?i:{}).map(([n,t])=>[n,Mi([t].flat().flatMap(l=>[...e(l)]))]))}const rr=new WeakMap;function Fp(i,e){var a;if(rr.has(e))return rr.get(e);const n=gi(e.sealed_item,function*({item:s,items:u,chance:c=100}){var m,$;u&&(yield{loot:Li(i,u.item),chance:el(u.repeat,c/100*(((m=u.chance)!=null?m:100)/100))}),s&&(yield{loot:new Map([[s.item,1]]),chance:el(s.repeat,c/100*((($=s.chance)!=null?$:100)/100))})}),t=gi(e.item,function*({item:s,chance:u=100,repeat:c}){yield{loot:new Map([[s,1]]),chance:el(c,u/100)}}),l=gi(e.items,function*({item:s,chance:u=100,repeat:c}){yield{loot:Li(i,s),chance:el(c,u/100)}}),o=gi(e.nested,function*({chunks:s}){yield{loot:qp(i,s),chance:1}}),r=((a=e.palettes)!=null?a:[]).flatMap(s=>typeof s!="string"?[]:[i.byId("palette",s)]).map(s=>Fp(i,s)),f=p$([t,l,n,o,...r]);return rr.set(e,f),f}function ea(i,e,n){const t=i.slice();return t[11]=e[n],t}function ta(i,e,n){const t=i.slice();return t[14]=e[n],t}function na(i){var r;let e,n=((r=i[14].sym)!=null?r:"\xA0")+"",t,l,o;return{c(){e=g("span"),t=w(n),ue(e,"class",l="c_"+i[14].color),ue(e,"title",o=i[14].name)},m(f,a){h(f,e,a),d(e,t)},p:Z,d(f){f&&p(e)}}}function la(i){let e,n,t=i[11],l=[];for(let o=0;o<t.length;o+=1)l[o]=na(ta(i,t,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=C(),n=g("br")},m(o,r){for(let f=0;f<l.length;f+=1)l[f].m(o,r);h(o,e,r),h(o,n,r)},p(o,r){if(r&1){t=o[11];let f;for(f=0;f<t.length;f+=1){const a=ta(o,t,f);l[f]?l[f].p(a,r):(l[f]=na(a),l[f].c(),l[f].m(e.parentNode,e))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(o){ce(l,o),o&&p(e),o&&p(n)}}}function h$(i){let e,n=i[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=la(ea(i,n,l));return{c(){e=g("div");for(let l=0;l<t.length;l+=1)t[l].c();Je(e,"font-family","Unifont, monospace"),Je(e,"line-height","1"),Je(e,"display","inline-block"),Je(e,"white-space","pre")},m(l,o){h(l,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,[o]){if(o&1){n=l[0];let r;for(r=0;r<n.length;r+=1){const f=ea(l,n,r);t[r]?t[r].p(f,o):(t[r]=la(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:Z,o:Z,d(l){l&&p(e),ce(t,l)}}}function ia(i){return i.every(e=>e.sym===" ")}function g$(i,e,n){var v;const t=xe("data");let{overmapSpecial:l}=e;const o=[...(v=l.overmaps)!=null?v:[]];let r=1/0,f=1/0,a=-1/0,s=-1/0;const u=new Map;for(const E of o){const[T,y,S]=E.point;S===0&&(T<r&&(r=T),y<f&&(f=y),T>a&&(a=T),y>s&&(s=y),u.set(`${T}|${y}`,E))}const c=[];for(let E=f;E<=s;E++){const T=[];for(let y=r;y<=a;y++){const S=u.get(`${y}|${E}`);if(S){const[,I,B]=/^(.+?)(?:_(north|south|east|west))?$/.exec(S.overmap),O=$(I,B||"north");T.push(O)}else T.push({color:"black",sym:" ",name:""})}c.push(T)}for(;c.length;){const E=c[0];if(!ia(E))break;c.shift()}for(;c.length;){const E=c[c.length-1];if(!ia(E))break;c.pop()}function m(E,T){const y=T==="north"?0:T==="east"?1:T==="south"?2:T==="west"?3:0;if(y===0)return E;const S=t.byType("rotatable_symbol").find(I=>I.tuple.some(B=>B===E));return S?S.tuple[(S.tuple.indexOf(E)+y)%S.tuple.length]:E}function $(E,T="north"){const y=t.byId("overmap_terrain",E);return y?{color:y.color,sym:m(y.sym,T),name:Jt(y.name)}:{color:"black",sym:" ",name:""}}return i.$$set=E=>{"overmapSpecial"in E&&n(1,l=E.overmapSpecial)},[c,l]}class b$ extends Ve{constructor(e){super(),ze(this,e,g$,h$,He,{overmapSpecial:1})}}function ra(i,e,n){const t=i.slice();return t[7]=e[n],t}function $$(i){let e,n,t,l,o,r,f,a=i[1].slice(0,i[0]),s=[];for(let m=0;m<a.length;m+=1)s[m]=oa(ra(i,a,m));const u=m=>k(s[m],1,1,()=>{s[m]=null});let c=i[1].length>i[0]&&fa(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Loot",t=C(),l=g("table"),o=g("tbody");for(let m=0;m<s.length;m+=1)s[m].c();r=C(),c&&c.c(),ue(l,"class","alternating")},m(m,$){h(m,e,$),d(e,n),d(e,t),d(e,l),d(l,o);for(let v=0;v<s.length;v+=1)s[v].m(o,null);d(e,r),c&&c.m(e,null),f=!0},p(m,$){if($&7){a=m[1].slice(0,m[0]);let v;for(v=0;v<a.length;v+=1){const E=ra(m,a,v);s[v]?(s[v].p(E,$),b(s[v],1)):(s[v]=oa(E),s[v].c(),b(s[v],1),s[v].m(o,null))}for(x(),v=a.length;v<s.length;v+=1)u(v);ee()}m[1].length>m[0]?c?c.p(m,$):(c=fa(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(m){if(!f){for(let $=0;$<a.length;$+=1)b(s[$]);f=!0}},o(m){s=s.filter(Boolean);for(let $=0;$<s.length;$+=1)k(s[$]);f=!1},d(m){m&&p(e),ce(s,m),c&&c.d()}}}function oa(i){let e,n,t,l,o,r,f=i[2](i[7].overmap_special)+"",a,s,u,c=Ai(i[7].chance)+"",m,$,v,E;return t=new b$({props:{overmapSpecial:i[7].overmap_special}}),{c(){e=g("tr"),n=g("td"),F(t.$$.fragment),l=C(),o=g("td"),r=g("span"),a=w(f),u=w(`
              (`),m=w(c),$=w(")"),v=C(),Je(n,"text-align","center"),ue(r,"title",s=i[7].ids.join(", ")),Je(o,"vertical-align","middle")},m(T,y){h(T,e,y),d(e,n),q(t,n,null),d(e,l),d(e,o),d(o,r),d(r,a),d(o,u),d(o,m),d(o,$),d(e,v),E=!0},p(T,y){const S={};y&1&&(S.overmapSpecial=T[7].overmap_special),t.$set(S),(!E||y&1)&&f!==(f=T[2](T[7].overmap_special)+"")&&W(a,f),(!E||y&1&&s!==(s=T[7].ids.join(", ")))&&ue(r,"title",s),(!E||y&1)&&c!==(c=Ai(T[7].chance)+"")&&W(m,c)},i(T){E||(b(t.$$.fragment,T),E=!0)},o(T){k(t.$$.fragment,T),E=!1},d(T){T&&p(e),P(t)}}}function fa(i){let e,n,t;return{c(){e=g("button"),e.textContent=`See all ${Number(i[1].length).toLocaleString()}...`,ue(e,"class","disclosure")},m(l,o){h(l,e,o),n||(t=Tn(e,"click",i[4]),n=!0)},p:Z,d(l){l&&p(e),n=!1,t()}}}function v$(i){let e,n,t=i[1].length&&$$(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}let or=10,sa=4;function k$(i,e,n){let{item_id:t}=e;const l=xe("data"),o=d$(l),r=[];for(const{loot:u,ids:c}of o.values())if(u.has(t)){const m=u.get(t),$=l.byId("overmap_special",c[0]);r.push({overmap_special:$,ids:c,chance:m})}function f(u){var B;if(u.subtype==="mutable")return u.id;const c=((B=u.overmaps)!=null?B:[]).filter(O=>O.point[2]===0);let m=1/0,$=1/0,v=-1/0,E=-1/0;const T=new Map;for(const O of c){const[N,R]=O.point;!l.byId("overmap_terrain",O.overmap.replace(/_(north|south|east|west)$/,""))||(N<m&&(m=N),R<$&&($=R),N>v&&(v=N),R>E&&(E=R),T.set(`${N}|${R}`,O))}const y=m+Math.floor((v-m)/2),S=$+Math.floor((E-$)/2),I=T.get(`${y}|${S}`);if(I){const O=l.byId("overmap_terrain",I.overmap.replace(/_(north|south|east|west)$/,""));if(O)return ge(O)}return u.id}r.sort((u,c)=>c.chance-u.chance);let a=r.length<=or+sa?or+sa:or;const s=u=>{u.preventDefault(),n(0,a=1/0)};return i.$$set=u=>{"item_id"in u&&n(3,t=u.item_id)},[a,r,f,t,s]}class y$ extends Ve{constructor(e){super(),ze(this,e,k$,v$,He,{item_id:3})}}function w$(i){let e,n,t,l,o;return l=new ft({props:{items:i[0],$$slots:{default:[E$,({item:{vehicle:r,prob:f}})=>({3:r,4:f}),({item:r})=>(r?8:0)|(r?16:0)]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="In Vehicle",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&56&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function E$(i){let e,n,t=Ai(i[4])+"",l,o,r;return e=new ae({props:{id:i[3].id,type:"vehicle"}}),{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(f,a){q(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){const s={};a&8&&(s.id=f[3].id),e.$set(s),(!r||a&16)&&t!==(t=Ai(f[4])+"")&&W(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){P(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function T$(i){let e,n,t=i[0].length&&w$(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function S$(i,e,n){let{item_id:t}=e;const l=xe("data"),o=l.byType("vehicle").flatMap(r=>{const f=Dp(r),s=l.flattenItemGroup(f).find(u=>u.id===t);return s?[{vehicle:r,prob:s.prob,count:s.count}]:[]});return o.sort((r,f)=>f.prob-r.prob),i.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class C$ extends Ve{constructor(e){super(),ze(this,e,S$,T$,He,{item_id:1})}}function aa(i){let e,n,t,l,o,r,f,a,s=i[0].charges_per_use&&ua(i),u=i[0].power_draw&&ca(i),c=i[0].turns_per_charge&&_a(i),m=i[0].sub&&da(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Tool",t=C(),l=g("dl"),s&&s.c(),o=ie(),u&&u.c(),r=ie(),c&&c.c(),f=ie(),m&&m.c()},m($,v){h($,e,v),d(e,n),d(e,t),d(e,l),s&&s.m(l,null),d(l,o),u&&u.m(l,null),d(l,r),c&&c.m(l,null),d(l,f),m&&m.m(l,null),a=!0},p($,v){$[0].charges_per_use?s?s.p($,v):(s=ua($),s.c(),s.m(l,o)):s&&(s.d(1),s=null),$[0].power_draw?u?u.p($,v):(u=ca($),u.c(),u.m(l,r)):u&&(u.d(1),u=null),$[0].turns_per_charge?c?c.p($,v):(c=_a($),c.c(),c.m(l,f)):c&&(c.d(1),c=null),$[0].sub?m?(m.p($,v),v&1&&b(m,1)):(m=da($),m.c(),b(m,1),m.m(l,null)):m&&(x(),k(m,1,1,()=>{m=null}),ee())},i($){a||(b(m),a=!0)},o($){k(m),a=!1},d($){$&&p(e),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d()}}}function ua(i){let e,n,t=i[0].charges_per_use+"",l;return{c(){e=g("dt"),e.textContent="Charges Per Use",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].charges_per_use+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function ca(i){let e,n,t=(i[0].power_draw/1e3).toFixed(1)+"",l,o;return{c(){e=g("dt"),e.textContent="Power Draw",n=g("dd"),l=w(t),o=w(" W")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f&1&&t!==(t=(r[0].power_draw/1e3).toFixed(1)+"")&&W(l,t)},d(r){r&&p(e),r&&p(n)}}}function _a(i){let e,n,t=i[0].turns_per_charge+"",l;return{c(){e=g("dt"),e.textContent="Turns Per Charge",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].turns_per_charge+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function da(i){let e,n,t,l;return t=new ae({props:{type:"item",id:i[0].sub}}),{c(){e=g("dt"),e.textContent="Substitute",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].sub),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function I$(i){let e,n,t=(i[0].charges_per_use||i[0].sub||i[0].power_draw||i[0].turns_per_charge)&&aa(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].charges_per_use||l[0].sub||l[0].power_draw||l[0].turns_per_charge?t?(t.p(l,o),o&1&&b(t,1)):(t=aa(l),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(x(),k(t,1,1,()=>{t=null}),ee())},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function R$(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class N$ extends Ve{constructor(e){super(),ze(this,e,R$,I$,He,{item:0})}}function O$(i){var E,T;let e,n,t,l,o,r,f=((E=i[0].diameter)!=null?E:0)+"",a,s,u,c,m=((T=i[0].width)!=null?T:0)+"",$,v;return{c(){e=g("section"),n=g("h1"),n.textContent="Wheel",t=C(),l=g("dl"),o=g("dt"),o.textContent="Diameter",r=g("dd"),a=w(f),s=w('"'),u=g("dt"),u.textContent="Width",c=g("dd"),$=w(m),v=w('"')},m(y,S){h(y,e,S),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,a),d(r,s),d(l,u),d(l,c),d(c,$),d(c,v)},p(y,[S]){var I,B;S&1&&f!==(f=((I=y[0].diameter)!=null?I:0)+"")&&W(a,f),S&1&&m!==(m=((B=y[0].width)!=null?B:0)+"")&&W($,m)},i:Z,o:Z,d(y){y&&p(e)}}}function B$(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class A$ extends Ve{constructor(e){super(),ze(this,e,B$,O$,He,{item:0})}}function ma(i,e,n){const t=i.slice();return t[19]=e[n],t}function pa(i,e,n){const t=i.slice();return t[0]=e[n],t}function ha(i,e,n){const t=i.slice();return t[24]=e[n],t}function ga(i,e,n){const t=i.slice();return t[27]=e[n][0],t[28]=e[n][1],t}function ba(i,e,n){const t=i.slice();return t[27]=e[n],t}function $a(i,e,n){const t=i.slice();return t[33]=e[n],t}function va(i,e,n){const t=i.slice();return t[27]=e[n].id,t[28]=e[n].count,t}function ka(i,e,n){const t=i.slice();return t[38]=e[n],t}function ya(i,e,n){const t=i.slice();return t[41]=e[n].quality,t[42]=e[n].level,t}function wa(i,e,n){const t=i.slice();return t[41]=e[n].quality,t[42]=e[n].level,t}function Ea(i,e,n){const t=i.slice();return t[47]=e[n],t}function Ta(i,e,n){const t=i.slice();return t[50]=e[n],t}function Sa(i,e,n){const t=i.slice();return t[53]=e[n],t}function Ca(i,e,n){const t=i.slice();return t[56]=e[n].type,t[27]=e[n].id,t}function Ia(i,e,n){const t=i.slice();return t[59]=e[n].id,t[60]=e[n].max_charges,t}function Ra(i,e,n){const t=i.slice();return t[63]=e[n],t}function M$(i){let e,n,t,l,o,r=i[5],f=[];for(let s=0;s<r.length;s+=1)f[s]=Na(Ra(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Material",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&96){r=s[5];let c;for(c=0;c<r.length;c+=1){const m=Ra(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Na(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function D$(i){var f;let e=" ",n,t,l=(((f=i[63].portion)!=null?f:1)/i[6]*100).toFixed(0)+"",o,r;return{c(){n=w(e),t=w("("),o=w(l),r=w("%)")},m(a,s){h(a,n,s),h(a,t,s),h(a,o,s),h(a,r,s)},p:Z,d(a){a&&p(n),a&&p(t),a&&p(o),a&&p(r)}}}function Na(i){let e,n,t,l;n=new ae({props:{type:"material",id:i[63].type}});let o=i[5].length>1&&D$(i);return{c(){e=g("li"),F(n.$$.fragment),o&&o.c(),t=C()},m(r,f){h(r,e,f),q(n,e,null),o&&o.m(e,null),d(e,t),l=!0},p(r,f){r[5].length>1&&o.p(r,f)},i(r){l||(b(n.$$.fragment,r),l=!0)},o(r){k(n.$$.fragment,r),l=!1},d(r){r&&p(e),P(n),o&&o.d()}}}function L$(i){let e,n,t,l,o,r=i[12].map(i[17]),f=[];for(let s=0;s<r.length;s+=1)f[s]=Oa(Ia(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Ammo",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","no-bullets")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&6145){r=s[12].map(s[17]);let c;for(c=0;c<r.length;c+=1){const m=Ia(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Oa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Oa(i){let e,n=i[60]+"",t,l,o=i[0].type==="GUN"?"round":"charge",r,f=i[60]===1?"":"s",a,s,u,c,m;return u=new ae({props:{type:"ammunition_type",id:i[59]}}),{c(){e=g("li"),t=w(n),l=C(),r=w(o),a=w(f),s=w(` of
                  `),F(u.$$.fragment),c=C()},m($,v){h($,e,v),d(e,t),d(e,l),d(e,r),d(e,a),d(e,s),q(u,e,null),d(e,c),m=!0},p($,v){(!m||v[0]&1)&&o!==(o=$[0].type==="GUN"?"round":"charge")&&W(r,o)},i($){m||(b(u.$$.fragment,$),m=!0)},o($){k(u.$$.fragment,$),m=!1},d($){$&&p(e),P(u)}}}function G$(i){let e,n,t,l,o,r=i[10],f=[];for(let s=0;s<r.length;s+=1)f[s]=Ba(Ca(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Compatible Magazines",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1024){r=s[10];let c;for(c=0;c<r.length;c+=1){const m=Ca(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ba(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Ba(i){let e,n,t;return n=new ae({props:{type:i[56],id:i[27]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Aa(i){let e,n,t,l,o,r=i[0].weapon_category,f=[];for(let s=0;s<r.length;s+=1)f[s]=Ma(Sa(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Category",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1){r=s[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const m=Sa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ma(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Ma(i){let e,n,t;return n=new ae({props:{type:"weapon_category",id:i[53]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[53]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Da(i){let e;return{c(){e=g("li"),e.innerHTML="<em>none</em>"},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function La(i){let e,n,t;return n=new ae({props:{type:"json_flag",id:i[50].id}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function U$(i){let e,n,t,l,o,r=i[8],f=[];for(let s=0;s<r.length;s+=1)f[s]=Ga(Ea(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Possible Faults",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&256){r=s[8];let c;for(c=0;c<r.length;c+=1){const m=Ea(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ga(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Ga(i){let e,n,t;return n=new ae({props:{type:"fault",id:i[47].id}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function q$(i){let e,n,t,l,o,r,f=i[3],a=[];for(let $=0;$<f.length;$+=1)a[$]=Ua(wa(i,f,$));const s=$=>k(a[$],1,1,()=>{a[$]=null});let u=i[4],c=[];for(let $=0;$<u.length;$+=1)c[$]=qa(ya(i,u,$));const m=$=>k(c[$],1,1,()=>{c[$]=null});return{c(){e=g("dt"),e.textContent="Qualities",n=g("dd"),t=g("ul");for(let $=0;$<a.length;$+=1)a[$].c();l=C();for(let $=0;$<c.length;$+=1)c[$].c();o=C(),ue(t,"class","no-bullets")},m($,v){h($,e,v),h($,n,v),d(n,t);for(let E=0;E<a.length;E+=1)a[E].m(t,null);d(t,l);for(let E=0;E<c.length;E+=1)c[E].m(t,null);d(n,o),r=!0},p($,v){if(v[0]&8){f=$[3];let E;for(E=0;E<f.length;E+=1){const T=wa($,f,E);a[E]?(a[E].p(T,v),b(a[E],1)):(a[E]=Ua(T),a[E].c(),b(a[E],1),a[E].m(t,l))}for(x(),E=f.length;E<a.length;E+=1)s(E);ee()}if(v[0]&16){u=$[4];let E;for(E=0;E<u.length;E+=1){const T=ya($,u,E);c[E]?(c[E].p(T,v),b(c[E],1)):(c[E]=qa(T),c[E].c(),b(c[E],1),c[E].m(t,null))}for(x(),E=u.length;E<c.length;E+=1)m(E);ee()}},i($){if(!r){for(let v=0;v<f.length;v+=1)b(a[v]);for(let v=0;v<u.length;v+=1)b(c[v]);r=!0}},o($){a=a.filter(Boolean);for(let v=0;v<a.length;v+=1)k(a[v]);c=c.filter(Boolean);for(let v=0;v<c.length;v+=1)k(c[v]);r=!1},d($){$&&p(e),$&&p(n),ce(a,$),ce(c,$)}}}function Ua(i){let e,n,t,l=i[42]+"",o,r,f,a,s;return f=new ae({props:{type:"tool_quality",id:i[41].id}}),{c(){e=g("li"),n=w("Has level "),t=g("strong"),o=w(l),r=C(),F(f.$$.fragment),a=w(" quality.")},m(u,c){h(u,e,c),d(e,n),d(e,t),d(t,o),d(t,r),q(f,t,null),d(e,a),s=!0},p:Z,i(u){s||(b(f.$$.fragment,u),s=!0)},o(u){k(f.$$.fragment,u),s=!1},d(u){u&&p(e),P(f)}}}function qa(i){let e,n,t,l=i[42]+"",o,r,f,a,s;return f=new ae({props:{type:"tool_quality",id:i[41].id}}),{c(){e=g("li"),n=w("Has level "),t=g("strong"),o=w(l),r=C(),F(f.$$.fragment),a=w(` quality
                  (when charged).
                `)},m(u,c){h(u,e,c),d(e,n),d(e,t),d(t,o),d(t,r),q(f,t,null),d(e,a),s=!0},p:Z,i(u){s||(b(f.$$.fragment,u),s=!0)},o(u){k(f.$$.fragment,u),s=!1},d(u){u&&p(e),P(f)}}}function P$(i){let e,n,t,l,o,r=i[14],f=[];for(let s=0;s<r.length;s+=1)f[s]=Pa(ka(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Vehicle Parts",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&16384){r=s[14];let c;for(c=0;c<r.length;c+=1){const m=ka(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Pa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Pa(i){let e,n,t;return n=new ae({props:{type:"vehicle_part",id:i[38].id}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function F$(i){let e,n,t,l,o,r=i[13].components,f=[];for(let s=0;s<r.length;s+=1)f[s]=Fa(va(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Disassembles Into",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&8192){r=s[13].components;let c;for(c=0;c<r.length;c+=1){const m=va(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Fa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Fa(i){let e,n,t;return n=new ae({props:{id:i[27],count:i[28],type:"item"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Y$(i){let e,n,t,l=i[15],o=[];for(let r=0;r<l.length;r+=1)o[r]=Ya($a(i,l,r));return{c(){e=g("dt"),e.textContent="Usage",n=g("dd"),t=g("ul");for(let r=0;r<o.length;r+=1)o[r].c();ue(t,"class","comma-separated")},m(r,f){h(r,e,f),h(r,n,f),d(n,t);for(let a=0;a<o.length;a+=1)o[a].m(t,null)},p(r,f){if(f[0]&32770){l=r[15];let a;for(a=0;a<l.length;a+=1){const s=$a(r,l,a);o[a]?o[a].p(s,f):(o[a]=Ya(s),o[a].c(),o[a].m(t,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=l.length}},d(r){r&&p(e),r&&p(n),ce(o,r)}}}function Ya(i){let e,n=ge(i[1].byId("item_action",i[33].type))+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function j$(i){let e,n;return e=new Kh({props:{picture:i[16]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p:Z,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ja(i){let e,n;return e=new f0({props:{item:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ha(i){let e,n,t,l;const o=[W$,H$],r=[];function f(a,s){var u;return(u=a[1].build_number)!=null&&u.startsWith("0.F")?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function H$(i){let e,n;return e=new yg({props:{item:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function W$(i){let e,n;return e=new Zg({props:{item:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Wa(i){let e,n;return e=new N$({props:{item:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function za(i){let e,n,t,l,o,r,f=i[0].displacement+"",a,s;return{c(){e=g("section"),n=g("h1"),n.textContent="Engine",t=C(),l=g("dl"),o=g("dt"),o.textContent="Displacement",r=g("dd"),a=w(f),s=w(" cc")},m(u,c){h(u,e,c),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,a),d(r,s)},p(u,c){c[0]&1&&f!==(f=u[0].displacement+"")&&W(a,f)},d(u){u&&p(e)}}}function Va(i){let e,n;return e=new _0({props:{item:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Xa(i){let e,n;return e=new A$({props:{item:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ja(i){var y;let e,n,t,l,o,r,f,a,s,u,c=i[0].seed_data.grow+"",m,$,v=[i[0].seed_data.fruit].concat((y=i[0].seed_data.byproducts)!=null?y:[]),E=[];for(let S=0;S<v.length;S+=1)E[S]=Ka(ba(i,v,S));const T=S=>k(E[S],1,1,()=>{E[S]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Grows Into",t=C(),l=g("dl"),o=g("dt"),o.textContent="Harvest Results",r=g("dd"),f=g("ul");for(let S=0;S<E.length;S+=1)E[S].c();a=C(),s=g("dt"),s.textContent="Growing Time",u=g("dd"),m=w(c),ue(f,"class","comma-separated")},m(S,I){h(S,e,I),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,f);for(let B=0;B<E.length;B+=1)E[B].m(f,null);d(r,a),d(l,s),d(l,u),d(u,m),$=!0},p(S,I){var B;if(I[0]&1){v=[S[0].seed_data.fruit].concat((B=S[0].seed_data.byproducts)!=null?B:[]);let O;for(O=0;O<v.length;O+=1){const N=ba(S,v,O);E[O]?(E[O].p(N,I),b(E[O],1)):(E[O]=Ka(N),E[O].c(),b(E[O],1),E[O].m(f,null))}for(x(),O=v.length;O<E.length;O+=1)T(O);ee()}(!$||I[0]&1)&&c!==(c=S[0].seed_data.grow+"")&&W(m,c)},i(S){if(!$){for(let I=0;I<v.length;I+=1)b(E[I]);$=!0}},o(S){E=E.filter(Boolean);for(let I=0;I<E.length;I+=1)k(E[I]);$=!1},d(S){S&&p(e),ce(E,S)}}}function Ka(i){let e,n,t;return n=new ae({props:{type:"item",id:i[27]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[27]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Qa(i){let e,n,t,l,o,r;n=new gb({props:{item:i[0]}});const f=[V$,z$],a=[];function s(u,c){return u[0].type==="GUN"?0:u[0].type==="AMMO"?1:-1}return~(l=s(i))&&(o=a[l]=f[l](i)),{c(){e=g("div"),F(n.$$.fragment),t=C(),o&&o.c(),ue(e,"class","side-by-side")},m(u,c){h(u,e,c),q(n,e,null),d(e,t),~l&&a[l].m(e,null),r=!0},p(u,c){const m={};c[0]&1&&(m.item=u[0]),n.$set(m);let $=l;l=s(u),l===$?~l&&a[l].p(u,c):(o&&(x(),k(a[$],1,1,()=>{a[$]=null}),ee()),~l?(o=a[l],o?o.p(u,c):(o=a[l]=f[l](u),o.c()),b(o,1),o.m(e,null)):o=null)},i(u){r||(b(n.$$.fragment,u),b(o),r=!0)},o(u){k(n.$$.fragment,u),k(o),r=!1},d(u){u&&p(e),P(n),~l&&a[l].d()}}}function z$(i){let e,n;return e=new xh({props:{item:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function V$(i){let e,n;return e=new ob({props:{item:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function X$(i){let e,n,t,l,o=i[9].filter(nu),r=[];for(let a=0;a<o.length;a+=1)r[a]=tu(ma(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Pockets",t=C();for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){h(a,e,s),d(e,n),d(e,t);for(let u=0;u<r.length;u+=1)r[u].m(e,null);l=!0},p(a,s){if(s[0]&512){o=a[9].filter(nu);let u;for(u=0;u<o.length;u+=1){const c=ma(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=tu(c),r[u].c(),b(r[u],1),r[u].m(e,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),ce(r,a)}}}function J$(i){let e,n,t=i[19].max_contains_volume+"",l;return{c(){e=g("dt"),e.textContent="Volume Capacity",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function K$(i){let e,n,t=i[19].max_contains_weight+"",l;return{c(){e=g("dt"),e.textContent="Weight Capacity",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function Q$(i){let e,n,t,l,o,r=[...Object.entries(i[19].ammo_restriction)],f=[];for(let s=0;s<r.length;s+=1)f[s]=Za(ga(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Ammo Restriction",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&512){r=[...Object.entries(s[19].ammo_restriction)];let c;for(c=0;c<r.length;c+=1){const m=ga(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Za(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Za(i){let e,n=i[28]+"",t,l,o=i[28]===1?"":"s",r,f,a,s,u;return a=new ae({props:{id:i[27],type:"ammunition_type"}}),{c(){e=g("li"),t=w(n),l=w(" round"),r=w(o),f=w(" of "),F(a.$$.fragment),s=C()},m(c,m){h(c,e,m),d(e,t),d(e,l),d(e,r),d(e,f),q(a,e,null),d(e,s),u=!0},p:Z,i(c){u||(b(a.$$.fragment,c),u=!0)},o(c){k(a.$$.fragment,c),u=!1},d(c){c&&p(e),P(a)}}}function Z$(i){let e,n,t=i[19].max_item_length+"",l;return{c(){e=g("dt"),e.textContent="Max Item Length",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function x$(i){let e,n,t=i[19].min_item_volume+"",l;return{c(){e=g("dt"),e.textContent="Min Item Volume",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function ev(i){let e,n;return{c(){e=g("dt"),e.textContent="Max Items",n=g("dd"),n.textContent="1"},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function tv(i){let e,n,t=i[19].sealed_data.spoil_multiplier+"",l;return{c(){e=g("dt"),e.textContent="Spoil Multiplier",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function nv(i){let e,n,t,l,o,r=i[19].flag_restriction,f=[];for(let s=0;s<r.length;s+=1)f[s]=xa(ha(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Flag Restriction",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&512){r=s[19].flag_restriction;let c;for(c=0;c<r.length;c+=1){const m=ha(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=xa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function xa(i){let e,n,t;return n=new ae({props:{type:"json_flag",id:i[24]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function lv(i){let e,n,t,l,o,r=i[19].item_restriction,f=[];for(let s=0;s<r.length;s+=1)f[s]=eu(pa(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Item Restriction",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&512){r=s[19].item_restriction;let c;for(c=0;c<r.length;c+=1){const m=pa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=eu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function eu(i){let e,n,t;return n=new ae({props:{type:"item",id:i[0]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function tu(i){var R,G;let e,n,t,l,o,r,f,a=i[19].moves+"",s,u,c,m,$,v=i[19].max_contains_volume!=null&&J$(i),E=i[19].max_contains_weight!=null&&K$(i),T=i[19].ammo_restriction&&Q$(i),y=i[19].max_item_length&&Z$(i),S=i[19].min_item_volume!=="0 ml"&&x$(i),I=i[19].holster&&ev(),B=((G=(R=i[19].sealed_data)==null?void 0:R.spoil_multiplier)!=null?G:1)!==1&&tv(i),O=i[19].flag_restriction&&nv(i),N=i[19].item_restriction&&lv(i);return{c(){e=g("dl"),v&&v.c(),n=ie(),E&&E.c(),t=ie(),T&&T.c(),l=ie(),y&&y.c(),o=ie(),S&&S.c(),r=g("dt"),r.textContent="Moves to Remove Item",f=g("dd"),s=w(a),I&&I.c(),u=ie(),B&&B.c(),c=ie(),O&&O.c(),m=ie(),N&&N.c()},m(M,X){h(M,e,X),v&&v.m(e,null),d(e,n),E&&E.m(e,null),d(e,t),T&&T.m(e,null),d(e,l),y&&y.m(e,null),d(e,o),S&&S.m(e,null),d(e,r),d(e,f),d(f,s),I&&I.m(e,null),d(e,u),B&&B.m(e,null),d(e,c),O&&O.m(e,null),d(e,m),N&&N.m(e,null),$=!0},p(M,X){var A,D;M[19].max_contains_volume!=null&&v.p(M,X),M[19].max_contains_weight!=null&&E.p(M,X),M[19].ammo_restriction&&T.p(M,X),M[19].max_item_length&&y.p(M,X),M[19].min_item_volume!=="0 ml"&&S.p(M,X),((D=(A=M[19].sealed_data)==null?void 0:A.spoil_multiplier)!=null?D:1)!==1&&B.p(M,X),M[19].flag_restriction&&O.p(M,X),M[19].item_restriction&&N.p(M,X)},i(M){$||(b(T),b(O),b(N),$=!0)},o(M){k(T),k(O),k(N),$=!1},d(M){M&&p(e),v&&v.d(),E&&E.d(),T&&T.d(),y&&y.d(),S&&S.d(),I&&I.d(),B&&B.d(),O&&O.d(),N&&N.d()}}}function iv(i){var Sn;let e,n,t,l=ge(i[0])+"",o,r,f,a,s,u,c,m,$,v,E=Jn(i[0].volume)+"",T,y,S,I=$l(i[0].weight)+"",B,O,N,R=i[2](i[0])+"",G,M,X,A,D,J,j,U,Y,L,H,le,z,Q=Jt(i[0].description)+"",K,oe,V,te,_e,Ge,$e,me,be,ve,de,De,Ie=i[9].filter(fv).length,ke,Te,rt,ye,pe,Le,We,Me,Oe,Ze,he,Be,Pe,Ne,Se,Fe,Ue,Xe,it,mt,Nt,tn,Gt,Mt,ut,It,Ye,Ke,vt,pt;n=new Qe({props:{item:i[0]}});let dt=i[5].length&&M$(i),ht=i[12].length&&L$(i),gt=i[10].length&&G$(i),lt=((Sn=i[0].weapon_category)==null?void 0:Sn.length)&&Aa(i),st=i[7],ot=[];for(let ne=0;ne<st.length;ne+=1)ot[ne]=La(Ta(i,st,ne));const nn=ne=>k(ot[ne],1,1,()=>{ot[ne]=null});let tt=null;st.length||(tt=Da());let ln=i[8].length&&U$(i),kt=(i[3].length||i[4].length)&&q$(i),Bt=i[14].length&&P$(i),at=i[13]&&F$(i),rn=i[15].length&&Y$(i),wt=i[16]&&j$(i),bt=i[0].type==="BOOK"&&ja(i),je=(i[0].type==="ARMOR"||i[0].type==="TOOL_ARMOR")&&Ha(i),St=(i[0].type==="TOOL"||i[0].type==="TOOL_ARMOR")&&Wa(i),ct=i[0].type==="ENGINE"&&i[0].displacement&&za(i),et=i[0].type==="COMESTIBLE"&&Va(i),nt=i[0].type==="WHEEL"&&Xa(i),_t=i[0].seed_data&&Ja(i),Ct=(i[0].bashing||i[0].cutting||i[0].type==="GUN"||i[0].type==="AMMO")&&Qa(i),Ft=Ie&&X$(i);return Te=new w0({props:{item_id:i[0].id}}),We=new l$({props:{item_id:i[0].id}}),Oe=new V0({props:{item_id:i[0].id}}),he=new Z0({props:{item_id:i[0].id}}),Pe=new lb({props:{item_id:i[0].id}}),Se=new cb({props:{item_id:i[0].id}}),Ue=new U0({props:{item_id:i[0].id}}),it=new s$({props:{item_id:i[0].id}}),Nt=new I0({props:{item_id:i[0].id}}),Gt=new A0({props:{item_id:i[0].id}}),ut=new l0({props:{item_id:i[0].id}}),Ye=new y$({props:{item_id:i[0].id}}),vt=new C$({props:{item_id:i[0].id}}),{c(){e=g("h1"),F(n.$$.fragment),t=C(),o=w(l),r=C(),f=g("section"),a=g("h1"),a.textContent="General",s=C(),u=g("div"),c=g("div"),m=g("dl"),dt&&dt.c(),$=g("dt"),$.textContent="Volume",v=g("dd"),T=w(E),y=g("dt"),y.textContent="Weight",S=g("dd"),B=w(I),O=g("dt"),O.textContent="Length",N=g("dd"),G=w(R),ht&&ht.c(),M=ie(),gt&&gt.c(),X=ie(),lt&&lt.c(),A=g("dt"),A.textContent="Flags",D=g("dd"),J=g("ul");for(let ne=0;ne<ot.length;ne+=1)ot[ne].c();tt&&tt.c(),j=C(),ln&&ln.c(),U=ie(),kt&&kt.c(),Y=ie(),Bt&&Bt.c(),L=ie(),at&&at.c(),H=ie(),rn&&rn.c(),le=C(),z=g("p"),K=w(Q),oe=C(),V=g("div"),wt&&wt.c(),te=C(),bt&&bt.c(),_e=C(),je&&je.c(),Ge=C(),St&&St.c(),$e=C(),ct&&ct.c(),me=C(),et&&et.c(),be=C(),nt&&nt.c(),ve=C(),_t&&_t.c(),de=C(),Ct&&Ct.c(),De=C(),Ft&&Ft.c(),ke=C(),F(Te.$$.fragment),rt=C(),ye=g("div"),pe=g("h2"),pe.textContent="Obtaining",Le=C(),F(We.$$.fragment),Me=C(),F(Oe.$$.fragment),Ze=C(),F(he.$$.fragment),Be=C(),F(Pe.$$.fragment),Ne=C(),F(Se.$$.fragment),Fe=C(),F(Ue.$$.fragment),Xe=C(),F(it.$$.fragment),mt=C(),F(Nt.$$.fragment),tn=C(),F(Gt.$$.fragment),Mt=C(),F(ut.$$.fragment),It=C(),F(Ye.$$.fragment),Ke=C(),F(vt.$$.fragment),ue(J,"class","comma-separated"),Je(z,"color","var(--cata-color-gray)"),Je(z,"margin-bottom","0"),ue(u,"class","side-by-side no-margin"),ue(pe,"class","svelte-18ijh8q"),ue(ye,"class","hide-header-if-no-sections svelte-18ijh8q")},m(ne,Ce){h(ne,e,Ce),q(n,e,null),d(e,t),d(e,o),h(ne,r,Ce),h(ne,f,Ce),d(f,a),d(f,s),d(f,u),d(u,c),d(c,m),dt&&dt.m(m,null),d(m,$),d(m,v),d(v,T),d(m,y),d(m,S),d(S,B),d(m,O),d(m,N),d(N,G),ht&&ht.m(m,null),d(m,M),gt&&gt.m(m,null),d(m,X),lt&&lt.m(m,null),d(m,A),d(m,D),d(D,J);for(let cn=0;cn<ot.length;cn+=1)ot[cn].m(J,null);tt&&tt.m(J,null),d(D,j),ln&&ln.m(m,null),d(m,U),kt&&kt.m(m,null),d(m,Y),Bt&&Bt.m(m,null),d(m,L),at&&at.m(m,null),d(m,H),rn&&rn.m(m,null),d(c,le),d(c,z),d(z,K),d(u,oe),d(u,V),wt&&wt.m(V,null),h(ne,te,Ce),bt&&bt.m(ne,Ce),h(ne,_e,Ce),je&&je.m(ne,Ce),h(ne,Ge,Ce),St&&St.m(ne,Ce),h(ne,$e,Ce),ct&&ct.m(ne,Ce),h(ne,me,Ce),et&&et.m(ne,Ce),h(ne,be,Ce),nt&&nt.m(ne,Ce),h(ne,ve,Ce),_t&&_t.m(ne,Ce),h(ne,de,Ce),Ct&&Ct.m(ne,Ce),h(ne,De,Ce),Ft&&Ft.m(ne,Ce),h(ne,ke,Ce),q(Te,ne,Ce),h(ne,rt,Ce),h(ne,ye,Ce),d(ye,pe),d(ye,Le),q(We,ye,null),d(ye,Me),q(Oe,ye,null),d(ye,Ze),q(he,ye,null),d(ye,Be),q(Pe,ye,null),d(ye,Ne),q(Se,ye,null),d(ye,Fe),q(Ue,ye,null),d(ye,Xe),q(it,ye,null),d(ye,mt),q(Nt,ye,null),d(ye,tn),q(Gt,ye,null),d(ye,Mt),q(ut,ye,null),d(ye,It),q(Ye,ye,null),d(ye,Ke),q(vt,ye,null),pt=!0},p(ne,Ce){var Ln;const cn={};if(Ce[0]&1&&(cn.item=ne[0]),n.$set(cn),(!pt||Ce[0]&1)&&l!==(l=ge(ne[0])+"")&&W(o,l),ne[5].length&&dt.p(ne,Ce),(!pt||Ce[0]&1)&&E!==(E=Jn(ne[0].volume)+"")&&W(T,E),(!pt||Ce[0]&1)&&I!==(I=$l(ne[0].weight)+"")&&W(B,I),(!pt||Ce[0]&1)&&R!==(R=ne[2](ne[0])+"")&&W(G,R),ne[12].length&&ht.p(ne,Ce),ne[10].length&&gt.p(ne,Ce),(Ln=ne[0].weapon_category)!=null&&Ln.length?lt?(lt.p(ne,Ce),Ce[0]&1&&b(lt,1)):(lt=Aa(ne),lt.c(),b(lt,1),lt.m(m,A)):lt&&(x(),k(lt,1,1,()=>{lt=null}),ee()),Ce[0]&128){st=ne[7];let At;for(At=0;At<st.length;At+=1){const Gn=Ta(ne,st,At);ot[At]?(ot[At].p(Gn,Ce),b(ot[At],1)):(ot[At]=La(Gn),ot[At].c(),b(ot[At],1),ot[At].m(J,null))}for(x(),At=st.length;At<ot.length;At+=1)nn(At);ee(),!st.length&&tt?tt.p(ne,Ce):st.length?tt&&(tt.d(1),tt=null):(tt=Da(),tt.c(),tt.m(J,null))}ne[8].length&&ln.p(ne,Ce),(ne[3].length||ne[4].length)&&kt.p(ne,Ce),ne[14].length&&Bt.p(ne,Ce),ne[13]&&at.p(ne,Ce),ne[15].length&&rn.p(ne,Ce),(!pt||Ce[0]&1)&&Q!==(Q=Jt(ne[0].description)+"")&&W(K,Q),ne[16]&&wt.p(ne,Ce),ne[0].type==="BOOK"?bt?(bt.p(ne,Ce),Ce[0]&1&&b(bt,1)):(bt=ja(ne),bt.c(),b(bt,1),bt.m(_e.parentNode,_e)):bt&&(x(),k(bt,1,1,()=>{bt=null}),ee()),ne[0].type==="ARMOR"||ne[0].type==="TOOL_ARMOR"?je?(je.p(ne,Ce),Ce[0]&1&&b(je,1)):(je=Ha(ne),je.c(),b(je,1),je.m(Ge.parentNode,Ge)):je&&(x(),k(je,1,1,()=>{je=null}),ee()),ne[0].type==="TOOL"||ne[0].type==="TOOL_ARMOR"?St?(St.p(ne,Ce),Ce[0]&1&&b(St,1)):(St=Wa(ne),St.c(),b(St,1),St.m($e.parentNode,$e)):St&&(x(),k(St,1,1,()=>{St=null}),ee()),ne[0].type==="ENGINE"&&ne[0].displacement?ct?ct.p(ne,Ce):(ct=za(ne),ct.c(),ct.m(me.parentNode,me)):ct&&(ct.d(1),ct=null),ne[0].type==="COMESTIBLE"?et?(et.p(ne,Ce),Ce[0]&1&&b(et,1)):(et=Va(ne),et.c(),b(et,1),et.m(be.parentNode,be)):et&&(x(),k(et,1,1,()=>{et=null}),ee()),ne[0].type==="WHEEL"?nt?(nt.p(ne,Ce),Ce[0]&1&&b(nt,1)):(nt=Xa(ne),nt.c(),b(nt,1),nt.m(ve.parentNode,ve)):nt&&(x(),k(nt,1,1,()=>{nt=null}),ee()),ne[0].seed_data?_t?(_t.p(ne,Ce),Ce[0]&1&&b(_t,1)):(_t=Ja(ne),_t.c(),b(_t,1),_t.m(de.parentNode,de)):_t&&(x(),k(_t,1,1,()=>{_t=null}),ee()),ne[0].bashing||ne[0].cutting||ne[0].type==="GUN"||ne[0].type==="AMMO"?Ct?(Ct.p(ne,Ce),Ce[0]&1&&b(Ct,1)):(Ct=Qa(ne),Ct.c(),b(Ct,1),Ct.m(De.parentNode,De)):Ct&&(x(),k(Ct,1,1,()=>{Ct=null}),ee()),Ie&&Ft.p(ne,Ce);const Cn={};Ce[0]&1&&(Cn.item_id=ne[0].id),Te.$set(Cn);const Fn={};Ce[0]&1&&(Fn.item_id=ne[0].id),We.$set(Fn);const yn={};Ce[0]&1&&(yn.item_id=ne[0].id),Oe.$set(yn);const In={};Ce[0]&1&&(In.item_id=ne[0].id),he.$set(In);const Yn={};Ce[0]&1&&(Yn.item_id=ne[0].id),Pe.$set(Yn);const Rn={};Ce[0]&1&&(Rn.item_id=ne[0].id),Se.$set(Rn);const Nn={};Ce[0]&1&&(Nn.item_id=ne[0].id),Ue.$set(Nn);const wn={};Ce[0]&1&&(wn.item_id=ne[0].id),it.$set(wn);const On={};Ce[0]&1&&(On.item_id=ne[0].id),Nt.$set(On);const Bn={};Ce[0]&1&&(Bn.item_id=ne[0].id),Gt.$set(Bn);const An={};Ce[0]&1&&(An.item_id=ne[0].id),ut.$set(An);const Mn={};Ce[0]&1&&(Mn.item_id=ne[0].id),Ye.$set(Mn);const Dn={};Ce[0]&1&&(Dn.item_id=ne[0].id),vt.$set(Dn)},i(ne){if(!pt){b(n.$$.fragment,ne),b(dt),b(ht),b(gt),b(lt);for(let Ce=0;Ce<st.length;Ce+=1)b(ot[Ce]);b(ln),b(kt),b(Bt),b(at),b(wt),b(bt),b(je),b(St),b(et),b(nt),b(_t),b(Ct),b(Ft),b(Te.$$.fragment,ne),b(We.$$.fragment,ne),b(Oe.$$.fragment,ne),b(he.$$.fragment,ne),b(Pe.$$.fragment,ne),b(Se.$$.fragment,ne),b(Ue.$$.fragment,ne),b(it.$$.fragment,ne),b(Nt.$$.fragment,ne),b(Gt.$$.fragment,ne),b(ut.$$.fragment,ne),b(Ye.$$.fragment,ne),b(vt.$$.fragment,ne),pt=!0}},o(ne){k(n.$$.fragment,ne),k(dt),k(ht),k(gt),k(lt),ot=ot.filter(Boolean);for(let Ce=0;Ce<ot.length;Ce+=1)k(ot[Ce]);k(ln),k(kt),k(Bt),k(at),k(wt),k(bt),k(je),k(St),k(et),k(nt),k(_t),k(Ct),k(Ft),k(Te.$$.fragment,ne),k(We.$$.fragment,ne),k(Oe.$$.fragment,ne),k(he.$$.fragment,ne),k(Pe.$$.fragment,ne),k(Se.$$.fragment,ne),k(Ue.$$.fragment,ne),k(it.$$.fragment,ne),k(Nt.$$.fragment,ne),k(Gt.$$.fragment,ne),k(ut.$$.fragment,ne),k(Ye.$$.fragment,ne),k(vt.$$.fragment,ne),pt=!1},d(ne){ne&&p(e),P(n),ne&&p(r),ne&&p(f),dt&&dt.d(),ht&&ht.d(),gt&&gt.d(),lt&&lt.d(),ce(ot,ne),tt&&tt.d(),ln&&ln.d(),kt&&kt.d(),Bt&&Bt.d(),at&&at.d(),rn&&rn.d(),wt&&wt.d(),ne&&p(te),bt&&bt.d(ne),ne&&p(_e),je&&je.d(ne),ne&&p(Ge),St&&St.d(ne),ne&&p($e),ct&&ct.d(ne),ne&&p(me),et&&et.d(ne),ne&&p(be),nt&&nt.d(ne),ne&&p(ve),_t&&_t.d(ne),ne&&p(de),Ct&&Ct.d(ne),ne&&p(De),Ft&&Ft.d(ne),ne&&p(ke),P(Te,ne),ne&&p(rt),ne&&p(ye),P(We),P(Oe),P(he),P(Pe),P(Se),P(Ue),P(it),P(Nt),P(Gt),P(ut),P(Ye),P(vt)}}}function rv(i){return typeof i[0]=="string"}function ov(i){return typeof i=="string"?[{type:i}]:Array.isArray(i)?i.map(e=>typeof e=="string"?{type:e}:Array.isArray(e)?{type:e[0]}:e):i?[i]:[]}const fv=i=>i.pocket_type==="CONTAINER",nu=i=>i.pocket_type==="CONTAINER";function sv(i,e,n){var N,R,G,M,X;let{item:t}=e,l=xe("data");function o(A){return A.longest_side?A.longest_side:`${Math.round(Math.cbrt(Lr(A.volume)))} cm`}let r=((N=t.qualities)!=null?N:[]).map(([A,D])=>({quality:l.byId("tool_quality",A),level:D})),f=((R=t.charged_qualities)!=null?R:[]).map(([A,D])=>({quality:l.byId("tool_quality",A),level:D}));const a=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:rv(t.material)?t.material.map(A=>({type:A,portion:1})):t.material,s=a.reduce((A,D)=>{var J;return A+((J=D.portion)!=null?J:1)},0);let u=((G=t.flags)!=null?G:[]).map(A=>{var D;return(D=l.byId("json_flag",A))!=null?D:{id:A}}),c=((M=t.faults)!=null?M:[]).map(A=>l.byId("fault",A));const m={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let $=((X=t.pocket_data)!=null?X:[]).map(A=>({...m,...A})),v=$.filter(A=>A.pocket_type==="MAGAZINE_WELL").flatMap(A=>{var D,J;return(J=(D=A.item_restriction)==null?void 0:D.map(j=>({type:"item",id:j})))!=null?J:A.flag_restriction.map(j=>({type:"json_flag",id:j}))});function E(A){var J;let D=0;for(const j of $)j.pocket_type==="MAGAZINE"&&j.ammo_restriction&&(D+=(J=j.ammo_restriction[A])!=null?J:0);return D}let T=$.flatMap(A=>{var D;return A.pocket_type==="MAGAZINE"?Object.keys((D=A.ammo_restriction)!=null?D:{}):[]});const y=(()=>{const A=l.uncraftRecipe(t.id);return A?{components:(A.using?Array.isArray(A.using)?A.using:[[A.using,1]]:[]).map(([Y,L])=>[l.byId("requirement",Y),L]).concat([[A,1]]).flatMap(([Y,L])=>{var H;return l.flattenRequirement((H=Y.components)!=null?H:[],le=>le.components).map(le=>le.map(z=>({...z,count:z.count*L})))}).map(Y=>Y[0])}:void 0})(),S=l.byType("vehicle_part").filter(A=>A.id&&A.item===t.id),I=ov(t.use_action).map(A=>A.type==="repair_item"?{type:A.item_action_type}:A),B=t.ascii_picture&&l.byId("ascii_art",t.ascii_picture),O=A=>({id:A,max_charges:E(A)});return i.$$set=A=>{"item"in A&&n(0,t=A.item)},[t,l,o,r,f,a,s,u,c,$,v,E,T,y,S,I,B,O]}class on extends Ve{constructor(e){super(),ze(this,e,sv,iv,He,{item:0},null,[-1,-1,-1])}}function av(i){let e,n=JSON.stringify(i[0],null,2)+"",t;return{c(){e=g("pre"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,[o]){o&1&&n!==(n=JSON.stringify(l[0],null,2)+"")&&W(t,n)},i:Z,o:Z,d(l){l&&p(e)}}}function uv(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class Gi extends Ve{constructor(e){super(),ze(this,e,uv,av,He,{item:0})}}function lu(i){let e,n,t,l;return t=new ae({props:{type:"item",id:i[0].repaired_with}}),{c(){e=g("dt"),e.textContent="Repaired With",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].repaired_with),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function iu(i){let e,n,t,l;return t=new ae({props:{type:"item",id:i[0].salvaged_into}}),{c(){e=g("dt"),e.textContent="Salvaged Into",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].salvaged_into),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function cv(i){let e,n,t,l=ge(i[0])+"",o,r,f,a;return f=new ft({props:{items:i[1],$$slots:{default:[_v,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),t=w("Items Made From "),o=w(l),r=C(),F(f.$$.fragment)},m(s,u){h(s,e,u),d(e,n),d(n,t),d(n,o),d(e,r),q(f,e,null),a=!0},p(s,u){(!a||u&1)&&l!==(l=ge(s[0])+"")&&W(o,l);const c={};u&9&&(c.$$scope={dirty:u,ctx:s}),f.$set(c)},i(s){a||(b(f.$$.fragment,s),a=!0)},o(s){k(f.$$.fragment,s),a=!1},d(s){s&&p(e),P(f)}}}function _v(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{id:i[0].id,type:"item"}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function dv(i){var it,mt,Nt,tn,Gt,Mt,ut,It;let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u,c,m=i[0].density+"",$,v,E,T=((it=i[0].specific_heat_liquid)!=null?it:4.186)+"",y,S,I=((mt=i[0].specific_heat_solid)!=null?mt:2.108)+"",B,O,N,R,G=((Nt=i[0].latent_heat)!=null?Nt:334)+"",M,X,A,D,J,j,U=((tn=i[0].bash_resist)!=null?tn:0)+"",Y,L,H,le=((Gt=i[0].cut_resist)!=null?Gt:0)+"",z,Q,K,oe=((Mt=i[0].bullet_resist)!=null?Mt:0)+"",V,te,_e,Ge=((ut=i[0].acid_resist)!=null?ut:0)+"",$e,me,be,ve=((It=i[0].chip_resist)!=null?It:0)+"",de,De,Ie,ke=i[0].elec_resist===0||i[0].elec_resist===1||i[0].conductive?"yes":"no",Te,rt,ye,pe,Le,We=i[0].edible?"yes":"no",Me,Oe,Ze,he=i[0].rotting?"yes":"no",Be,Pe,Ne,Se,Fe=i[0].repaired_with&&lu(i),Ue=i[0].salvaged_into&&iu(i),Xe=i[1].length&&cv(i);return{c(){e=g("h1"),n=w("Material: "),l=w(t),o=C(),r=g("section"),f=g("h1"),f.textContent="Properties",a=C(),s=g("dl"),u=g("dt"),u.textContent="Density",c=g("dd"),$=w(m),v=g("dt"),v.textContent="Specific Heat",E=g("dd"),y=w(T),S=w(" (liquid) / "),B=w(I),O=w(` (solid)
    `),N=g("dt"),N.textContent="Latent Heat",R=g("dd"),M=w(G),X=g("dt"),X.textContent="Resistance",A=g("dd"),D=g("dl"),J=g("dt"),J.textContent="Bash",j=g("dd"),Y=w(U),L=g("dt"),L.textContent="Cut",H=g("dd"),z=w(le),Q=g("dt"),Q.textContent="Ballistic",K=g("dd"),V=w(oe),te=g("dt"),te.textContent="Acid",_e=g("dd"),$e=w(Ge),me=g("dt"),me.textContent="Chip",be=g("dd"),de=w(ve),De=g("dt"),De.textContent="Conductive",Ie=g("dd"),Te=w(ke),rt=C(),Fe&&Fe.c(),ye=ie(),Ue&&Ue.c(),pe=g("dt"),pe.textContent="Edible",Le=g("dd"),Me=w(We),Oe=g("dt"),Oe.textContent="Rots",Ze=g("dd"),Be=w(he),Pe=C(),Xe&&Xe.c(),Ne=ie(),ue(u,"title","Relative to 'powder', which is 1"),ue(me,"title","Resistance to physical damage of the item itself"),ue(Oe,"title","Corpses made of this material will go bad")},m(Ye,Ke){h(Ye,e,Ke),d(e,n),d(e,l),h(Ye,o,Ke),h(Ye,r,Ke),d(r,f),d(r,a),d(r,s),d(s,u),d(s,c),d(c,$),d(s,v),d(s,E),d(E,y),d(E,S),d(E,B),d(E,O),d(s,N),d(s,R),d(R,M),d(s,X),d(s,A),d(A,D),d(D,J),d(D,j),d(j,Y),d(D,L),d(D,H),d(H,z),d(D,Q),d(D,K),d(K,V),d(D,te),d(D,_e),d(_e,$e),d(D,me),d(D,be),d(be,de),d(D,De),d(D,Ie),d(Ie,Te),d(A,rt),Fe&&Fe.m(s,null),d(s,ye),Ue&&Ue.m(s,null),d(s,pe),d(s,Le),d(Le,Me),d(s,Oe),d(s,Ze),d(Ze,Be),h(Ye,Pe,Ke),Xe&&Xe.m(Ye,Ke),h(Ye,Ne,Ke),Se=!0},p(Ye,[Ke]){var vt,pt,dt,ht,gt,lt,st,ot;(!Se||Ke&1)&&t!==(t=ge(Ye[0])+"")&&W(l,t),(!Se||Ke&1)&&m!==(m=Ye[0].density+"")&&W($,m),(!Se||Ke&1)&&T!==(T=((vt=Ye[0].specific_heat_liquid)!=null?vt:4.186)+"")&&W(y,T),(!Se||Ke&1)&&I!==(I=((pt=Ye[0].specific_heat_solid)!=null?pt:2.108)+"")&&W(B,I),(!Se||Ke&1)&&G!==(G=((dt=Ye[0].latent_heat)!=null?dt:334)+"")&&W(M,G),(!Se||Ke&1)&&U!==(U=((ht=Ye[0].bash_resist)!=null?ht:0)+"")&&W(Y,U),(!Se||Ke&1)&&le!==(le=((gt=Ye[0].cut_resist)!=null?gt:0)+"")&&W(z,le),(!Se||Ke&1)&&oe!==(oe=((lt=Ye[0].bullet_resist)!=null?lt:0)+"")&&W(V,oe),(!Se||Ke&1)&&Ge!==(Ge=((st=Ye[0].acid_resist)!=null?st:0)+"")&&W($e,Ge),(!Se||Ke&1)&&ve!==(ve=((ot=Ye[0].chip_resist)!=null?ot:0)+"")&&W(de,ve),(!Se||Ke&1)&&ke!==(ke=Ye[0].elec_resist===0||Ye[0].elec_resist===1||Ye[0].conductive?"yes":"no")&&W(Te,ke),Ye[0].repaired_with?Fe?(Fe.p(Ye,Ke),Ke&1&&b(Fe,1)):(Fe=lu(Ye),Fe.c(),b(Fe,1),Fe.m(s,ye)):Fe&&(x(),k(Fe,1,1,()=>{Fe=null}),ee()),Ye[0].salvaged_into?Ue?(Ue.p(Ye,Ke),Ke&1&&b(Ue,1)):(Ue=iu(Ye),Ue.c(),b(Ue,1),Ue.m(s,pe)):Ue&&(x(),k(Ue,1,1,()=>{Ue=null}),ee()),(!Se||Ke&1)&&We!==(We=Ye[0].edible?"yes":"no")&&W(Me,We),(!Se||Ke&1)&&he!==(he=Ye[0].rotting?"yes":"no")&&W(Be,he),Ye[1].length&&Xe.p(Ye,Ke)},i(Ye){Se||(b(Fe),b(Ue),b(Xe),Se=!0)},o(Ye){k(Fe),k(Ue),k(Xe),Se=!1},d(Ye){Ye&&p(e),Ye&&p(o),Ye&&p(r),Fe&&Fe.d(),Ue&&Ue.d(),Ye&&p(Pe),Xe&&Xe.d(Ye),Ye&&p(Ne)}}}function mv(i){return typeof i[0]=="string"}function pv(i,e,n){const t=xe("data");let{item:l}=e,o=t.byType("item").filter(r=>{const f=r.material==null?[]:typeof r.material=="string"?[r.material]:mv(r.material)?r.material:r.material.map(a=>a.type);return r.id&&f.some(a=>a===l.id)}).sort((r,f)=>ge(r).localeCompare(ge(f)));return i.$$set=r=>{"item"in r&&n(0,l=r.item)},[l,o]}class hv extends Ve{constructor(e){super(),ze(this,e,pv,dv,He,{item:0})}}function ru(i,e,n){const t=i.slice();return t[6]=e[n],t}function ou(i){let e;return{c(){e=w("(default)")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function fu(i){let e,n,t,l,o;n=new ae({props:{type:"item",id:i[6].id}});let r=i[6].id===i[0].default&&ou();return{c(){e=g("li"),F(n.$$.fragment),t=C(),r&&r.c(),l=C()},m(f,a){h(f,e,a),q(n,e,null),d(e,t),r&&r.m(e,null),d(e,l),o=!0},p(f,a){f[6].id===f[0].default?r||(r=ou(),r.c(),r.m(e,l)):r&&(r.d(1),r=null)},i(f){o||(b(n.$$.fragment,f),o=!0)},o(f){k(n.$$.fragment,f),o=!1},d(f){f&&p(e),P(n),r&&r.d()}}}function gv(i){let e;return{c(){e=g("p"),e.innerHTML='<em style="color: var(--cata-color-gray)">No items use this ammo.</em>'},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function bv(i){let e,n;return e=new ft({props:{items:i[2],$$slots:{default:[$v,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&513&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function $v(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{type:"item",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function vv(i){let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u,c,m,$,v,E,T,y=i[1],S=[];for(let R=0;R<y.length;R+=1)S[R]=fu(ru(i,y,R));const I=R=>k(S[R],1,1,()=>{S[R]=null}),B=[bv,gv],O=[];function N(R,G){return R[2].length>0?0:1}return v=N(i),E=O[v]=B[v](i),{c(){e=g("h1"),n=w("Ammunition Type: "),l=w(t),o=C(),r=g("section"),f=g("h1"),f.textContent="Compatible Variants",a=C(),s=g("ul");for(let R=0;R<S.length;R+=1)S[R].c();u=C(),c=g("section"),m=g("h1"),m.textContent="Used By",$=C(),E.c()},m(R,G){h(R,e,G),d(e,n),d(e,l),h(R,o,G),h(R,r,G),d(r,f),d(r,a),d(r,s);for(let M=0;M<S.length;M+=1)S[M].m(s,null);h(R,u,G),h(R,c,G),d(c,m),d(c,$),O[v].m(c,null),T=!0},p(R,[G]){if((!T||G&1)&&t!==(t=ge(R[0])+"")&&W(l,t),G&3){y=R[1];let M;for(M=0;M<y.length;M+=1){const X=ru(R,y,M);S[M]?(S[M].p(X,G),b(S[M],1)):(S[M]=fu(X),S[M].c(),b(S[M],1),S[M].m(s,null))}for(x(),M=y.length;M<S.length;M+=1)I(M);ee()}E.p(R,G)},i(R){if(!T){for(let G=0;G<y.length;G+=1)b(S[G]);b(E),T=!0}},o(R){S=S.filter(Boolean);for(let G=0;G<S.length;G+=1)k(S[G]);k(E),T=!1},d(R){R&&p(e),R&&p(o),R&&p(r),ce(S,R),R&&p(u),R&&p(c),O[v].d()}}}function kv(i,e,n){let{item:t}=e;const l=xe("data"),o=l.byType("item").flatMap(s=>s.type!=="AMMO"||!s.id?[]:s.ammo_type===t.id?[s]:[]);o.sort((s,u)=>ge(s).localeCompare(ge(u)));const r={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1},f=(s,u)=>{var $;return(($=s.pocket_data)!=null?$:[]).map(v=>({...r,...v})).flatMap(v=>{var E;return v.pocket_type==="MAGAZINE"?Object.keys((E=v.ammo_restriction)!=null?E:{}):[]}).some(v=>v===u.id)},a=l.byType("item").filter(s=>f(s,t));return a.sort((s,u)=>ge(s).localeCompare(ge(u))),i.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,o,a]}class yv extends Ve{constructor(e){super(),ze(this,e,kv,vv,He,{item:0})}}function su(i,e,n){const t=i.slice();return t[8]=e[n],t}function au(i,e,n){const t=i.slice();return t[8]=e[n],t}function uu(i,e,n){const t=i.slice();return t[8]=e[n],t}function cu(i,e,n){const t=i.slice();return t[8]=e[n][0],t[15]=e[n][1],t}function _u(i,e,n){const t=i.slice();return t[18]=e[n],t}function du(i){let e,n,t,l,o=i[0].usages,r=[];for(let f=0;f<o.length;f+=1)r[f]=pu(cu(i,o,f));return{c(){e=g("section"),n=g("h1"),n.textContent="Usages",t=C(),l=g("dl");for(let f=0;f<r.length;f+=1)r[f].c()},m(f,a){h(f,e,a),d(e,n),d(e,t),d(e,l);for(let s=0;s<r.length;s+=1)r[s].m(l,null)},p(f,a){if(a&1){o=f[0].usages;let s;for(s=0;s<o.length;s+=1){const u=cu(f,o,s);r[s]?r[s].p(u,a):(r[s]=pu(u),r[s].c(),r[s].m(l,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),ce(r,f)}}}function mu(i){let e,n=i[18]+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=l[18]+"")&&W(t,n)},d(l){l&&p(e)}}}function pu(i){let e,n,t=i[8]+"",l,o,r,f,a=i[15],s=[];for(let u=0;u<a.length;u+=1)s[u]=mu(_u(i,a,u));return{c(){e=g("dt"),n=w("At Level "),l=w(t),o=g("dd"),r=g("ul");for(let u=0;u<s.length;u+=1)s[u].c();f=C(),Je(e,"font-variant","tabular-nums"),ue(r,"class","comma-separated")},m(u,c){h(u,e,c),d(e,n),d(e,l),h(u,o,c),d(o,r);for(let m=0;m<s.length;m+=1)s[m].m(r,null);d(o,f)},p(u,c){if(c&1&&t!==(t=u[8]+"")&&W(l,t),c&1){a=u[15];let m;for(m=0;m<a.length;m+=1){const $=_u(u,a,m);s[m]?s[m].p($,c):(s[m]=mu($),s[m].c(),s[m].m(r,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=a.length}},d(u){u&&p(e),u&&p(o),ce(s,u)}}}function wv(i){let e,n;return e=new ae({props:{type:"item",id:i[0].id}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function hu(i){let e,n,t=i[8]+"",l,o,r,f,a;return r=new ft({props:{items:i[1].get(i[8]).sort(i[4]),limit:20,$$slots:{default:[wv,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=g("dt"),n=w("Level "),l=w(t),o=g("dd"),F(r.$$.fragment),f=C(),Je(e,"font-variant","tabular-nums")},m(s,u){h(s,e,u),d(e,n),d(e,l),h(s,o,u),q(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&p(e),s&&p(o),P(r)}}}function Ev(i){let e,n,t,l,o,r=[...i[2].keys()].sort(vu),f=[];for(let s=0;s<r.length;s+=1)f[s]=gu(au(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Vehicle Parts",t=C(),l=g("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&5){r=[...s[2].keys()].sort(vu);let c;for(c=0;c<r.length;c+=1){const m=au(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=gu(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ce(f,s)}}}function Tv(i){let e,n;return e=new ae({props:{type:"vehicle_part",id:i[0].id}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function gu(i){let e,n,t=i[8]+"",l,o,r,f,a;return r=new ft({props:{items:i[2].get(i[8]).sort(i[5]),limit:20,$$slots:{default:[Tv,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=g("dt"),n=w("Level "),l=w(t),o=g("dd"),F(r.$$.fragment),f=C(),Je(e,"font-variant","tabular-nums")},m(s,u){h(s,e,u),d(e,n),d(e,l),h(s,o,u),q(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&p(e),s&&p(o),P(r)}}}function Sv(i){let e,n,t,l,o,r=[...i[3].keys()].sort(ku),f=[];for(let s=0;s<r.length;s+=1)f[s]=bu(su(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Recipes",t=C(),l=g("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&9){r=[...s[3].keys()].sort(ku);let c;for(c=0;c<r.length;c+=1){const m=su(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=bu(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ce(f,s)}}}function Cv(i){let e,n;return e=new ae({props:{type:"item",id:i[0]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function bu(i){let e,n,t=i[8]+"",l,o,r,f,a;return r=new ft({props:{items:i[3].get(i[8]),limit:20,$$slots:{default:[Cv,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=g("dt"),n=w("Level "),l=w(t),o=g("dd"),F(r.$$.fragment),f=C(),Je(e,"font-variant","tabular-nums")},m(s,u){h(s,e,u),d(e,n),d(e,l),h(s,o,u),q(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&p(e),s&&p(o),P(r)}}}function Iv(i){let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u,c,m,$,v,E=i[0].usages&&du(i),T=[...i[1].keys()].sort($u),y=[];for(let O=0;O<T.length;O+=1)y[O]=hu(uu(i,T,O));const S=O=>k(y[O],1,1,()=>{y[O]=null});let I=i[2].size>0&&Ev(i),B=i[3].size>0&&Sv(i);return{c(){e=g("h1"),n=w("Quality: "),l=w(t),o=C(),E&&E.c(),r=C(),f=g("section"),a=g("h1"),a.textContent="Tools",s=C(),u=g("dl");for(let O=0;O<y.length;O+=1)y[O].c();c=C(),I&&I.c(),m=C(),B&&B.c(),$=ie()},m(O,N){h(O,e,N),d(e,n),d(e,l),h(O,o,N),E&&E.m(O,N),h(O,r,N),h(O,f,N),d(f,a),d(f,s),d(f,u);for(let R=0;R<y.length;R+=1)y[R].m(u,null);h(O,c,N),I&&I.m(O,N),h(O,m,N),B&&B.m(O,N),h(O,$,N),v=!0},p(O,[N]){if((!v||N&1)&&t!==(t=ge(O[0])+"")&&W(l,t),O[0].usages?E?E.p(O,N):(E=du(O),E.c(),E.m(r.parentNode,r)):E&&(E.d(1),E=null),N&3){T=[...O[1].keys()].sort($u);let R;for(R=0;R<T.length;R+=1){const G=uu(O,T,R);y[R]?(y[R].p(G,N),b(y[R],1)):(y[R]=hu(G),y[R].c(),b(y[R],1),y[R].m(u,null))}for(x(),R=T.length;R<y.length;R+=1)S(R);ee()}O[2].size>0&&I.p(O,N),O[3].size>0&&B.p(O,N)},i(O){if(!v){for(let N=0;N<T.length;N+=1)b(y[N]);b(I),b(B),v=!0}},o(O){y=y.filter(Boolean);for(let N=0;N<y.length;N+=1)k(y[N]);k(I),k(B),v=!1},d(O){O&&p(e),O&&p(o),E&&E.d(O),O&&p(r),O&&p(f),ce(y,O),O&&p(c),I&&I.d(O),O&&p(m),B&&B.d(O),O&&p($)}}}const $u=(i,e)=>i-e,vu=(i,e)=>i-e,ku=(i,e)=>i-e;function Rv(i,e,n){var c,m,$;let{item:t}=e,l=xe("data"),o=new Map;for(const v of l.byType("item")){if(!v.id)continue;const E=((c=v.qualities)!=null?c:[]).concat((m=v.charged_qualities)!=null?m:[]).find(([T,y])=>T===t.id);if(E){const[,T]=E;o.has(T)||o.set(T,[]),o.get(T).push(v)}}const r=new Map;for(const v of l.byType("vehicle_part")){if(!v.id)continue;const E=(($=v.qualities)!=null?$:[]).find(([T,y])=>T===t.id);if(E){const[,T]=E;r.has(T)||r.set(T,[]),r.get(T).push(v)}}const f=new Map;for(const v of l.byType("recipe")){if(!v.result||v.construction_blueprint)continue;const{qualities:E}=l.normalizeRequirements(v);for(const T of E)for(const{id:y,level:S}of T)y===t.id&&(f.has(S)||f.set(S,new Set),f.get(S).add(v.result))}const a=new Map;for(const[v,E]of f)a.set(v,[...E].sort((T,y)=>ge(l.byId("item",T)).localeCompare(ge(l.byId("item",y)))));const s=(v,E)=>ge(v).localeCompare(ge(E)),u=(v,E)=>ge(v).localeCompare(ge(E));return i.$$set=v=>{"item"in v&&n(0,t=v.item)},[t,o,r,a,s,u]}class Nv extends Ve{constructor(e){super(),ze(this,e,Rv,Iv,He,{item:0})}}function yu(i,e,n){const t=i.slice();return t[10]=e[n].id,t[11]=e[n].count,t}function wu(i,e,n){const t=i.slice();return t[14]=e[n],t}function Eu(i,e,n){const t=i.slice();return t[10]=e[n].id,t[11]=e[n].count,t[18]=n,t}function Tu(i,e,n){const t=i.slice();return t[19]=e[n],t}function Su(i,e,n){const t=i.slice();return t[22]=e[n],t[18]=n,t}function Cu(i,e,n){const t=i.slice();return t[24]=e[n],t}function Iu(i,e,n){const t=i.slice();return t[27]=e[n],t[18]=n,t}function Ru(i,e,n){const t=i.slice();return t[10]=e[n][0],t[29]=e[n][1],t[18]=n,t}function Nu(i){let e,n=ge(i[2].byId("construction_group",i[0].group))+"",t;return{c(){e=g("h1"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=ge(l[2].byId("construction_group",l[0].group))+"")&&W(t,n)},d(l){l&&p(e)}}}function Ou(i){let e,n,t,l;const o=[Bv,Ov],r=[];function f(a,s){return a[0].skill?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Ov(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function Bv(i){var f;let e,n,t=((f=i[0].difficulty)!=null?f:0)+"",l,o,r;return e=new ae({props:{type:"skill",id:i[0].skill}}),{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(a,s){q(e,a,s),h(a,n,s),h(a,l,s),h(a,o,s),r=!0},p(a,s){var c;const u={};s&1&&(u.id=a[0].skill),e.$set(u),(!r||s&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&W(l,t)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){P(e,a),a&&p(n),a&&p(l),a&&p(o)}}}function Av(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Mv(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Bu(i){let e,n,t=i[29]+"",l,o,r,f;e=new ae({props:{type:"skill",id:i[10]}});function a(c,m){if(c[18]===c[0].required_skills.length-2)return Mv;if(c[18]!==c[0].required_skills.length-1)return Av}let s=a(i),u=s&&s(i);return{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=ie()},m(c,m){q(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[10]),e.$set($),(!f||m&1)&&t!==(t=c[29]+"")&&W(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){P(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function Au(i){let e,n,t,l,o,r,f;return t=new Qe({props:{item:i[2].byId(i[0].pre_terrain.startsWith("f_")?"furniture":"terrain",i[0].pre_terrain)}}),o=new ae({props:{type:i[0].pre_terrain.startsWith("f_")?"furniture":"terrain",id:i[0].pre_terrain}}),{c(){e=g("dt"),e.textContent="Requires",n=g("dd"),F(t.$$.fragment),l=C(),F(o.$$.fragment),r=C()},m(a,s){h(a,e,s),h(a,n,s),q(t,n,null),d(n,l),q(o,n,null),d(n,r),f=!0},p(a,s){const u={};s&1&&(u.item=a[2].byId(a[0].pre_terrain.startsWith("f_")?"furniture":"terrain",a[0].pre_terrain)),t.$set(u);const c={};s&1&&(c.type=a[0].pre_terrain.startsWith("f_")?"furniture":"terrain"),s&1&&(c.id=a[0].pre_terrain),o.$set(c)},i(a){f||(b(t.$$.fragment,a),b(o.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(o.$$.fragment,a),f=!1},d(a){a&&p(e),a&&p(n),P(t),P(o)}}}function Dv(i){var $;let e,n,t,l,o,r,f=($=i[5])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=Du(Cu(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[3],c=[];for(let v=0;v<u.length;v+=1)c[v]=Gu(Tu(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=g("dt"),e.textContent="Tools Required",n=g("dd"),t=g("ul");for(let v=0;v<a.length;v+=1)a[v].c();l=C();for(let v=0;v<c.length;v+=1)c[v].c();o=C()},m(v,E){h(v,e,E),h(v,n,E),d(n,t);for(let T=0;T<a.length;T+=1)a[T].m(t,null);d(t,l);for(let T=0;T<c.length;T+=1)c[T].m(t,null);d(n,o),r=!0},p(v,E){var T;if(E&32){f=(T=v[5])!=null?T:[];let y;for(y=0;y<f.length;y+=1){const S=Cu(v,f,y);a[y]?(a[y].p(S,E),b(a[y],1)):(a[y]=Du(S),a[y].c(),b(a[y],1),a[y].m(t,l))}for(x(),y=f.length;y<a.length;y+=1)s(y);ee()}if(E&12){u=v[3];let y;for(y=0;y<u.length;y+=1){const S=Tu(v,u,y);c[y]?(c[y].p(S,E),b(c[y],1)):(c[y]=Gu(S),c[y].c(),b(c[y],1),c[y].m(t,null))}for(x(),y=u.length;y<c.length;y+=1)m(y);ee()}},i(v){if(!r){for(let E=0;E<f.length;E+=1)b(a[E]);for(let E=0;E<u.length;E+=1)b(c[E]);r=!0}},o(v){a=a.filter(Boolean);for(let E=0;E<a.length;E+=1)k(a[E]);c=c.filter(Boolean);for(let E=0;E<c.length;E+=1)k(c[E]);r=!1},d(v){v&&p(e),v&&p(n),ce(a,v),ce(c,v)}}}function Lv(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Mu(i){var y,S;let e,n=((y=i[27].amount)!=null?y:1)+"",t,l,o=((S=i[27].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[27].level+"",c,m,$="",v,E,T=i[18]!==0&&Lv();return a=new ae({props:{type:"tool_quality",id:i[27].id}}),{c(){T&&T.c(),e=C(),t=w(n),l=w(" tool"),r=w(o),f=w(`
                with `),F(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
                or more`),v=w($)},m(I,B){T&&T.m(I,B),h(I,e,B),h(I,t,B),h(I,l,B),h(I,r,B),h(I,f,B),q(a,I,B),h(I,s,B),h(I,c,B),h(I,m,B),h(I,v,B),E=!0},p:Z,i(I){E||(b(a.$$.fragment,I),E=!0)},o(I){k(a.$$.fragment,I),E=!1},d(I){T&&T.d(I),I&&p(e),I&&p(t),I&&p(l),I&&p(r),I&&p(f),P(a,I),I&&p(s),I&&p(c),I&&p(m),I&&p(v)}}}function Du(i){let e,n,t,l=i[24],o=[];for(let f=0;f<l.length;f+=1)o[f]=Mu(Iu(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=w(".")},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&32){l=f[24];let s;for(s=0;s<l.length;s+=1){const u=Iu(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Mu(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function Gv(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Uv(i){let e,n;return e=new ae({props:{type:"item",id:i[22].id}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p:Z,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function qv(i){let e,n=ge(i[2].byId("item",i[22].id))+"",t;return{c(){e=g("a"),t=w(n),ue(e,"href","#/furniture/"+i[2].craftingPseudoItem(i[22].id))},m(l,o){h(l,e,o),d(e,t)},p:Z,i:Z,o:Z,d(l){l&&p(e)}}}function Pv(i){let e,n=i[22].count+"",t,l,o,r=i[22].count!==1&&Fv();return{c(){e=w("("),t=w(n),l=w(" charge"),r&&r.c(),o=w(")")},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:Z,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function Fv(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Lu(i){let e,n,t,l,o,r,f=i[18]!==0&&Gv();const a=[qv,Uv],s=[];function u(m,$){return m[2].craftingPseudoItem(m[22].id)?0:1}n=u(i),t=s[n]=a[n](i);let c=i[22].count>0&&Pv(i);return{c(){f&&f.c(),e=C(),t.c(),l=C(),c&&c.c(),o=ie()},m(m,$){f&&f.m(m,$),h(m,e,$),s[n].m(m,$),h(m,l,$),c&&c.m(m,$),h(m,o,$),r=!0},p(m,$){t.p(m,$),m[22].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&p(e),s[n].d(m),m&&p(l),c&&c.d(m),m&&p(o)}}}function Gu(i){let e,n,t,l=i[19],o=[];for(let f=0;f<l.length;f+=1)o[f]=Lu(Su(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=C()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&12){l=f[19];let s;for(s=0;s<l.length;s+=1){const u=Su(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Lu(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function Yv(i){let e,n,t,l,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=qu(wu(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Components",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&20){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=wu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=qu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function jv(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Uu(i){let e,n,t,l=i[18]!==0&&jv();return n=new ae({props:{id:i[10],count:i[11],type:"item"}}),{c(){l&&l.c(),e=C(),F(n.$$.fragment)},m(o,r){l&&l.m(o,r),h(o,e,r),q(n,o,r),t=!0},p:Z,i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&p(e),P(n,o)}}}function qu(i){let e,n,t,l=i[14].map(i[7]),o=[];for(let f=0;f<l.length;f+=1)o[f]=Uu(Eu(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=C()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&20){l=f[14].map(f[7]);let s;for(s=0;s<l.length;s+=1){const u=Eu(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Uu(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function Hv(i){let e,n,t,l,o=i[6],r=[];for(let a=0;a<o.length;a+=1)r[a]=Pu(yu(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Byproducts",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ue(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&68){o=a[6];let u;for(u=0;u<o.length;u+=1){const c=yu(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Pu(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function Pu(i){let e,n,t,l,o,r;return n=new Qe({props:{item:i[2].byId("item",i[10])}}),l=new ae({props:{type:"item",id:i[10],count:i[11]}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment),o=C()},m(f,a){h(f,e,a),q(n,e,null),d(e,t),q(l,e,null),d(e,o),r=!0},p:Z,i(f){r||(b(n.$$.fragment,f),b(l.$$.fragment,f),r=!0)},o(f){k(n.$$.fragment,f),k(l.$$.fragment,f),r=!1},d(f){f&&p(e),P(n),P(l)}}}function Fu(i){let e,n=i[0].pre_note+"",t;return{c(){e=g("p"),t=w(n),Je(e,"color","var(--cata-color-gray)")},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=l[0].pre_note+"")&&W(t,n)},d(l){l&&p(e)}}}function Wv(i){var H,le;let e,n,t,l,o,r,f,a,s=(typeof i[0].time=="number"?`${i[0].time} m`:(H=i[0].time)!=null?H:"0 m")+"",u,c,m,$,v,E,T,y,S,I,B,O=JSON.stringify(i[0],null,2)+"",N,R,G=i[1]&&Nu(i),M=(le=i[0].required_skills)!=null?le:[],X=[];for(let z=0;z<M.length;z+=1)X[z]=Bu(Ru(i,M,z));const A=z=>k(X[z],1,1,()=>{X[z]=null});let D=null;M.length||(D=Ou(i));let J=i[0].pre_terrain&&Au(i),j=(i[5].length||i[3].length)&&Dv(i),U=i[4].length&&Yv(i),Y=i[6].length&&Hv(i),L=i[0].pre_note&&Fu(i);return{c(){e=g("section"),G&&G.c(),n=C(),t=g("dl"),l=g("dt"),l.textContent="Required Skills",o=g("dd");for(let z=0;z<X.length;z+=1)X[z].c();D&&D.c(),r=C(),f=g("dt"),f.textContent="Time",a=g("dd"),u=w(s),c=C(),J&&J.c(),m=ie(),j&&j.c(),$=ie(),U&&U.c(),v=ie(),Y&&Y.c(),E=C(),L&&L.c(),T=C(),y=g("details"),S=g("summary"),S.textContent="Construction JSON",I=C(),B=g("pre"),N=w(O)},m(z,Q){h(z,e,Q),G&&G.m(e,null),d(e,n),d(e,t),d(t,l),d(t,o);for(let K=0;K<X.length;K+=1)X[K].m(o,null);D&&D.m(o,null),d(o,r),d(t,f),d(t,a),d(a,u),d(a,c),J&&J.m(t,null),d(t,m),j&&j.m(t,null),d(t,$),U&&U.m(t,null),d(t,v),Y&&Y.m(t,null),d(e,E),L&&L.m(e,null),d(e,T),d(e,y),d(y,S),d(y,I),d(y,B),d(B,N),R=!0},p(z,[Q]){var K,oe;if(z[1]?G?G.p(z,Q):(G=Nu(z),G.c(),G.m(e,n)):G&&(G.d(1),G=null),Q&1){M=(K=z[0].required_skills)!=null?K:[];let V;for(V=0;V<M.length;V+=1){const te=Ru(z,M,V);X[V]?(X[V].p(te,Q),b(X[V],1)):(X[V]=Bu(te),X[V].c(),b(X[V],1),X[V].m(o,r))}for(x(),V=M.length;V<X.length;V+=1)A(V);ee(),!M.length&&D?D.p(z,Q):M.length?D&&(x(),k(D,1,1,()=>{D=null}),ee()):(D=Ou(z),D.c(),b(D,1),D.m(o,r))}(!R||Q&1)&&s!==(s=(typeof z[0].time=="number"?`${z[0].time} m`:(oe=z[0].time)!=null?oe:"0 m")+"")&&W(u,s),z[0].pre_terrain?J?(J.p(z,Q),Q&1&&b(J,1)):(J=Au(z),J.c(),b(J,1),J.m(t,m)):J&&(x(),k(J,1,1,()=>{J=null}),ee()),(z[5].length||z[3].length)&&j.p(z,Q),z[4].length&&U.p(z,Q),z[6].length&&Y.p(z,Q),z[0].pre_note?L?L.p(z,Q):(L=Fu(z),L.c(),L.m(e,T)):L&&(L.d(1),L=null),(!R||Q&1)&&O!==(O=JSON.stringify(z[0],null,2)+"")&&W(N,O)},i(z){if(!R){for(let Q=0;Q<M.length;Q+=1)b(X[Q]);b(J),b(j),b(U),b(Y),R=!0}},o(z){X=X.filter(Boolean);for(let Q=0;Q<X.length;Q+=1)k(X[Q]);k(J),k(j),k(U),k(Y),R=!1},d(z){z&&p(e),G&&G.d(),ce(X,z),D&&D.d(),J&&J.d(),j&&j.d(),U&&U.d(),Y&&Y.d(),L&&L.d()}}}function zv(i,e,n){var $;const t=xe("data");let{construction:l}=e,{includeTitle:o=!1}=e;const f=(typeof l.using=="string"?[[l.using,1]]:($=l.using)!=null?$:[]).map(([v,E])=>[t.byId("requirement",v),E]).concat([[l,1]]),a=f.flatMap(([v,E])=>{var T;return t.flattenRequirement((T=v.tools)!=null?T:[],y=>y.tools,{expandSubstitutes:!0}).map(y=>y.map(S=>({...S,count:S.count*E})))}),s=f.flatMap(([v,E])=>{var T;return t.flattenRequirement((T=v.components)!=null?T:[],y=>y.components).map(y=>y.map(S=>({...S,count:S.count*E})))}),u=f.flatMap(([v,E])=>{var T;return((T=v.qualities)!=null?T:[]).map(y=>Array.isArray(y)?y:[y])}),c=t.flattenItemGroup(t.normalizeItemGroup(l.byproducts,"collection")),m=v=>({...v,item:t.byId("item",v.id)});return i.$$set=v=>{"construction"in v&&n(0,l=v.construction),"includeTitle"in v&&n(1,o=v.includeTitle)},[l,o,t,a,s,u,c,m]}class Yp extends Ve{constructor(e){super(),ze(this,e,zv,Wv,He,{construction:0,includeTitle:1})}}function Yu(i,e,n){const t=i.slice();return t[8]=e[n],t}function ju(i,e,n){const t=i.slice();return t[11]=e[n],t}function Hu(i,e,n){const t=i.slice();return t[14]=e[n],t}function Wu(i,e,n){const t=i.slice();return t[17]=e[n],t}function zu(i,e,n){const t=i.slice();return t[20]=e[n],t}function Vu(i,e,n){const t=i.slice();return t[23]=e[n].id,t[24]=e[n].prob,t}function Xu(i,e,n){const t=i.slice();return t[27]=e[n][0],t[28]=e[n][1],t}function Ju(i,e,n){const t=i.slice();return t[23]=e[n].id,t[24]=e[n].prob,t[31]=e[n].count,t}function Vv(i){let e,n=i[0].move_cost_mod*50+"",t;return{c(){e=w("+"),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o[0]&1&&n!==(n=l[0].move_cost_mod*50+"")&&W(t,n)},d(l){l&&p(e),l&&p(t)}}}function Xv(i){let e;return{c(){e=g("em"),e.textContent="impassable"},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function Ku(i){let e,n,t,l;return t=new ae({props:{type:"item",id:i[0].crafting_pseudo_item}}),{c(){e=g("dt"),e.textContent="Provides",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r[0]&1&&(f.id=o[0].crafting_pseudo_item),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function Jv(i){let e,n=i[27]+"",t,l,o,r,f,a=i[28],s=[];for(let c=0;c<a.length;c+=1)s[c]=Qu(Ju(i,a,c));const u=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){e=g("dt"),t=w(n),l=g("dd"),o=g("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=C(),ue(o,"class","comma-separated")},m(c,m){h(c,e,m),d(e,t),h(c,l,m),d(l,o);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(l,r),f=!0},p(c,m){if(m[0]&8){a=c[28];let $;for($=0;$<a.length;$+=1){const v=Ju(c,a,$);s[$]?(s[$].p(v,m),b(s[$],1)):(s[$]=Qu(v),s[$].c(),b(s[$],1),s[$].m(o,null))}for(x(),$=a.length;$<s.length;$+=1)u($);ee()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)k(s[m]);f=!1},d(c){c&&p(e),c&&p(l),ce(s,c)}}}function Kv(i){let e,n=i[31][0]+"",t,l,o=i[31][1]+"",r,f;return{c(){e=w("\xA0("),t=w(n),l=w("\u2013"),r=w(o),f=w(")")},m(a,s){h(a,e,s),h(a,t,s),h(a,l,s),h(a,r,s),h(a,f,s)},p:Z,d(a){a&&p(e),a&&p(t),a&&p(l),a&&p(r),a&&p(f)}}}function Qv(i){let e,n=i[31][0]!==1&&Zv(i);return{c(){n&&n.c(),e=ie()},m(t,l){n&&n.m(t,l),h(t,e,l)},p(t,l){t[31][0]!==1&&n.p(t,l)},d(t){n&&n.d(t),t&&p(e)}}}function Zv(i){let e,n=i[31][0]+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:Z,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function xv(i){let e,n=rk(i[24])+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:Z,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function Qu(i){let e,n,t,l="",o,r="",f,a;t=new ae({props:{type:"item",id:i[23]}});function s($,v){return $[31][0]===$[31][1]?Qv:Kv}let c=s(i)(i),m=i[24]!==1&&xv(i);return{c(){e=g("li"),n=g("span"),F(t.$$.fragment),o=w(l),c.c(),f=w(r),m&&m.c(),Je(n,"white-space","nowrap")},m($,v){h($,e,v),d(e,n),q(t,n,null),d(n,o),c.m(n,null),d(n,f),m&&m.m(n,null),a=!0},p($,v){c.p($,v),$[24]!==1&&m.p($,v)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){k(t.$$.fragment,$),a=!1},d($){$&&p(e),P(t),c.d(),m&&m.d()}}}function Zu(i){let e,n,t=i[28].length&&Jv(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,o){l[28].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function ek(i){let e,n,t,l,o,r=["winter","spring","summer","autumn"].filter(i[5]),f=[];for(let s=0;s<r.length;s+=1)f[s]=nc(Hu(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Harvest",n=g("dd"),t=g("dl");for(let s=0;s<f.length;s+=1)f[s].c();l=C()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&18){r=["winter","spring","summer","autumn"].filter(s[5]);let c;for(c=0;c<r.length;c+=1){const m=Hu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=nc(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function tk(i){let e,n,t,l,o;return n=new Qe({props:{item:i[1].byId("item",i[20].drop)}}),l=new ae({props:{type:"item",id:i[20].drop}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),q(n,e,null),d(e,t),q(l,e,null),o=!0},p:Z,i(r){o||(b(n.$$.fragment,r),b(l.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(n),P(l)}}}function nk(i){let e,n,t=i[1].flattenItemGroup(i[1].byId("item_group",i[20].drop)),l=[];for(let r=0;r<t.length;r+=1)l[r]=xu(Vu(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f[0]&18){t=r[1].flattenItemGroup(r[1].byId("item_group",r[20].drop));let a;for(a=0;a<t.length;a+=1){const s=Vu(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=xu(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ce(l,r),r&&p(e)}}}function xu(i){let e,n,t,l,o,r=(i[24]*100).toFixed(2)+"",f,a,s;return n=new Qe({props:{item:i[1].byId("item",i[23])}}),l=new ae({props:{type:"item",id:i[23]}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment),o=w(" ("),f=w(r),a=w("%)")},m(u,c){h(u,e,c),q(n,e,null),d(e,t),q(l,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:Z,i(u){s||(b(n.$$.fragment,u),b(l.$$.fragment,u),s=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),s=!1},d(u){u&&p(e),P(n),P(l)}}}function ec(i){let e,n,t,l;const o=[nk,tk],r=[];function f(a,s){return a[20].type==="bionic_group"?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function tc(i){let e,n,t=i[17].entries,l=[];for(let r=0;r<t.length;r+=1)l[r]=ec(zu(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c()},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f[0]&18){t=r[17].entries;let a;for(a=0;a<t.length;a+=1){const s=zu(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=ec(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ce(l,r)}}}function nc(i){let e,n=i[14]+"",t,l,o,r,f=[i[1].byId("harvest",i[4].get(i[14]))],a=[];for(let u=0;u<1;u+=1)a[u]=tc(Wu(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=g("dt"),t=w(n),l=g("dd");for(let u=0;u<1;u+=1)a[u].c();o=C(),Je(e,"text-transform","capitalize")},m(u,c){h(u,e,c),d(e,t),h(u,l,c);for(let m=0;m<1;m+=1)a[m].m(l,null);d(l,o),r=!0},p(u,c){if(c[0]&18){f=[u[1].byId("harvest",u[4].get(u[14]))];let m;for(m=0;m<1;m+=1){const $=Wu(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=tc($),a[m].c(),b(a[m],1),a[m].m(l,o))}for(x(),m=1;m<1;m+=1)s(m);ee()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)k(a[c]);r=!1},d(u){u&&p(e),u&&p(l),ce(a,u)}}}function lc(i){let e;return{c(){e=g("li"),e.innerHTML="<em>none</em>"},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function ic(i){let e,n,t;return n=new ae({props:{type:"json_flag",id:i[11]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[11]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function lk(i){let e,n,t,l,o=i[2],r=[];for(let a=0;a<o.length;a+=1)r[a]=rc(Yu(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("h2"),e.textContent="Construction",n=C();for(let a=0;a<r.length;a+=1)r[a].c();t=ie()},m(a,s){h(a,e,s),h(a,n,s);for(let u=0;u<r.length;u+=1)r[u].m(a,s);h(a,t,s),l=!0},p(a,s){if(s[0]&4){o=a[2];let u;for(u=0;u<o.length;u+=1){const c=Yu(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=rc(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a),a&&p(t)}}}function rc(i){let e,n;return e=new Yp({props:{construction:i[8],includeTitle:!0}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p:Z,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function ik(i){var Te,rt,ye;let e,n,t,l=ge(i[0])+"",o,r,f,a,s,u,c,m,$,v,E,T=(i[0].required_str>=0?i[0].required_str:"not movable")+"",y,S,I,B=((Te=i[0].coverage)!=null?Te:0)+"",O,N,R,G,M=((rt=i[0].comfort)!=null?rt:0)+"",X,A,D,J,j,U,Y,L,H=i[0].description+"",le,z,Q,K;n=new Qe({props:{item:i[0]}});function oe(pe,Le){return pe[0].move_cost_mod<0?Xv:Vv}let V=oe(i),te=V(i),_e=i[0].crafting_pseudo_item&&Ku(i),Ge=i[3],$e=[];for(let pe=0;pe<Ge.length;pe+=1)$e[pe]=Zu(Xu(i,Ge,pe));const me=pe=>k($e[pe],1,1,()=>{$e[pe]=null});let be=i[4].size&&ek(i),ve=(ye=i[0].flags)!=null?ye:[],de=[];for(let pe=0;pe<ve.length;pe+=1)de[pe]=ic(ju(i,ve,pe));const De=pe=>k(de[pe],1,1,()=>{de[pe]=null});let Ie=null;ve.length||(Ie=lc());let ke=i[2].length&&lk(i);return{c(){e=g("h1"),F(n.$$.fragment),t=C(),o=w(l),r=C(),f=g("section"),a=g("h1"),a.textContent="General",s=C(),u=g("dl"),c=g("dt"),c.textContent="Move Cost Modifier",m=g("dd"),te.c(),$=C(),v=g("dt"),v.textContent="Strength Required to Drag",E=g("dd"),y=w(T),S=g("dt"),S.textContent="Coverage",I=g("dd"),O=w(B),N=w("%"),R=g("dt"),R.textContent="Comfort",G=g("dd"),X=w(M),_e&&_e.c(),A=ie();for(let pe=0;pe<$e.length;pe+=1)$e[pe].c();D=ie(),be&&be.c(),J=g("dt"),J.textContent="Flags",j=g("dd"),U=g("ul");for(let pe=0;pe<de.length;pe+=1)de[pe].c();Ie&&Ie.c(),Y=C(),L=g("p"),le=w(H),z=C(),ke&&ke.c(),Q=ie(),ue(U,"class","comma-separated"),Je(L,"color","var(--cata-color-gray)")},m(pe,Le){h(pe,e,Le),q(n,e,null),d(e,t),d(e,o),h(pe,r,Le),h(pe,f,Le),d(f,a),d(f,s),d(f,u),d(u,c),d(u,m),te.m(m,null),d(m,$),d(u,v),d(u,E),d(E,y),d(u,S),d(u,I),d(I,O),d(I,N),d(u,R),d(u,G),d(G,X),_e&&_e.m(u,null),d(u,A);for(let We=0;We<$e.length;We+=1)$e[We].m(u,null);d(u,D),be&&be.m(u,null),d(u,J),d(u,j),d(j,U);for(let We=0;We<de.length;We+=1)de[We].m(U,null);Ie&&Ie.m(U,null),d(f,Y),d(f,L),d(L,le),h(pe,z,Le),ke&&ke.m(pe,Le),h(pe,Q,Le),K=!0},p(pe,Le){var Me,Oe,Ze;const We={};if(Le[0]&1&&(We.item=pe[0]),n.$set(We),(!K||Le[0]&1)&&l!==(l=ge(pe[0])+"")&&W(o,l),V===(V=oe(pe))&&te?te.p(pe,Le):(te.d(1),te=V(pe),te&&(te.c(),te.m(m,$))),(!K||Le[0]&1)&&T!==(T=(pe[0].required_str>=0?pe[0].required_str:"not movable")+"")&&W(y,T),(!K||Le[0]&1)&&B!==(B=((Me=pe[0].coverage)!=null?Me:0)+"")&&W(O,B),(!K||Le[0]&1)&&M!==(M=((Oe=pe[0].comfort)!=null?Oe:0)+"")&&W(X,M),pe[0].crafting_pseudo_item?_e?(_e.p(pe,Le),Le[0]&1&&b(_e,1)):(_e=Ku(pe),_e.c(),b(_e,1),_e.m(u,A)):_e&&(x(),k(_e,1,1,()=>{_e=null}),ee()),Le[0]&8){Ge=pe[3];let he;for(he=0;he<Ge.length;he+=1){const Be=Xu(pe,Ge,he);$e[he]?($e[he].p(Be,Le),b($e[he],1)):($e[he]=Zu(Be),$e[he].c(),b($e[he],1),$e[he].m(u,D))}for(x(),he=Ge.length;he<$e.length;he+=1)me(he);ee()}if(pe[4].size&&be.p(pe,Le),Le[0]&1){ve=(Ze=pe[0].flags)!=null?Ze:[];let he;for(he=0;he<ve.length;he+=1){const Be=ju(pe,ve,he);de[he]?(de[he].p(Be,Le),b(de[he],1)):(de[he]=ic(Be),de[he].c(),b(de[he],1),de[he].m(U,null))}for(x(),he=ve.length;he<de.length;he+=1)De(he);ee(),!ve.length&&Ie?Ie.p(pe,Le):ve.length?Ie&&(Ie.d(1),Ie=null):(Ie=lc(),Ie.c(),Ie.m(U,null))}(!K||Le[0]&1)&&H!==(H=pe[0].description+"")&&W(le,H),pe[2].length&&ke.p(pe,Le)},i(pe){if(!K){b(n.$$.fragment,pe),b(_e);for(let Le=0;Le<Ge.length;Le+=1)b($e[Le]);b(be);for(let Le=0;Le<ve.length;Le+=1)b(de[Le]);b(ke),K=!0}},o(pe){k(n.$$.fragment,pe),k(_e),$e=$e.filter(Boolean);for(let Le=0;Le<$e.length;Le+=1)k($e[Le]);k(be),de=de.filter(Boolean);for(let Le=0;Le<de.length;Le+=1)k(de[Le]);k(ke),K=!1},d(pe){pe&&p(e),P(n),pe&&p(r),pe&&p(f),te.d(),_e&&_e.d(),ce($e,pe),be&&be.d(),ce(de,pe),Ie&&Ie.d(),pe&&p(z),ke&&ke.d(pe),pe&&p(Q)}}}function rk(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function ok(i,e,n){var c,m,$;const t=xe("data");let{item:l}=e;const o=(c=l.deconstruct)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof l.deconstruct.items=="string"?[{group:l.deconstruct.items}]:l.deconstruct.items}):[],r=(m=l.bash)!=null&&m.items?t.flattenItemGroup({subtype:"collection",entries:typeof l.bash.items=="string"?[{group:l.bash.items}]:l.bash.items}):[],f=t.byType("construction").filter(v=>v.post_terrain===l.id),a=[["Deconstruct",o],["Bash",r]],s=new Map;for(const{seasons:v,id:E}of($=l.harvest_by_season)!=null?$:[])for(const T of v)s.set(T,E);const u=v=>s.has(v);return i.$$set=v=>{"item"in v&&n(0,l=v.item)},[l,t,f,a,s,u]}class fk extends Ve{constructor(e){super(),ze(this,e,ok,ik,He,{item:0},null,[-1,-1])}}function oc(i,e,n){const t=i.slice();return t[5]=e[n],t}function fc(i,e,n){const t=i.slice();return t[8]=e[n],t}function sk(i){let e,n,t,l,o,r=[...i[2].keys()].sort(uc),f=[];for(let s=0;s<r.length;s+=1)f[s]=ac(oc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Books",t=C(),l=g("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&4){r=[...s[2].keys()].sort(uc);let c;for(c=0;c<r.length;c+=1){const m=oc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ac(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ce(f,s)}}}function sc(i){let e,n,t;return n=new ae({props:{id:i[8].id,type:"item"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function ac(i){let e,n,t=i[5]+"",l,o,r,f,a,s=i[2].get(i[5]).sort(cc),u=[];for(let m=0;m<s.length;m+=1)u[m]=sc(fc(i,s,m));const c=m=>k(u[m],1,1,()=>{u[m]=null});return{c(){e=g("dt"),n=w("Level "),l=w(t),o=g("dd"),r=g("ul");for(let m=0;m<u.length;m+=1)u[m].c();f=C(),Je(e,"font-variant","tabular-nums")},m(m,$){h(m,e,$),d(e,n),d(e,l),h(m,o,$),d(o,r);for(let v=0;v<u.length;v+=1)u[v].m(r,null);d(o,f),a=!0},p(m,$){if($&4){s=m[2].get(m[5]).sort(cc);let v;for(v=0;v<s.length;v+=1){const E=fc(m,s,v);u[v]?(u[v].p(E,$),b(u[v],1)):(u[v]=sc(E),u[v].c(),b(u[v],1),u[v].m(r,null))}for(x(),v=s.length;v<u.length;v+=1)c(v);ee()}},i(m){if(!a){for(let $=0;$<s.length;$+=1)b(u[$]);a=!0}},o(m){u=u.filter(Boolean);for(let $=0;$<u.length;$+=1)k(u[$]);a=!1},d(m){m&&p(e),m&&p(o),ce(u,m)}}}function ak(i){let e,n,t,l,o;return l=new ft({props:{items:i[3],$$slots:{default:[uk,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Used By",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&2049&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function uk(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{type:"item",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function ck(i){let e,n,t=ge(i[0])+"",l,o,r,f,a=i[0].description+"",s,u,c,m,$,v=i[1].length&&sk(i),E=i[3].length&&ak(i);return{c(){e=g("h1"),n=w("Skill: "),l=w(t),o=C(),r=g("section"),f=g("p"),s=w(a),u=C(),v&&v.c(),c=C(),E&&E.c(),m=ie(),Je(f,"color","var(--cata-color-gray)")},m(T,y){h(T,e,y),d(e,n),d(e,l),h(T,o,y),h(T,r,y),d(r,f),d(f,s),h(T,u,y),v&&v.m(T,y),h(T,c,y),E&&E.m(T,y),h(T,m,y),$=!0},p(T,[y]){(!$||y&1)&&t!==(t=ge(T[0])+"")&&W(l,t),(!$||y&1)&&a!==(a=T[0].description+"")&&W(s,a),T[1].length&&v.p(T,y),T[3].length&&E.p(T,y)},i(T){$||(b(v),b(E),$=!0)},o(T){k(v),k(E),$=!1},d(T){T&&p(e),T&&p(o),T&&p(r),T&&p(u),v&&v.d(T),T&&p(c),E&&E.d(T),T&&p(m)}}}const uc=(i,e)=>i-e,cc=(i,e)=>{var n,t;return((n=i.required_level)!=null?n:0)-((t=e.required_level)!=null?t:0)};function _k(i,e,n){var a,s,u;let{item:t}=e;const l=xe("data"),o=l.byType("item").filter(c=>c.id&&c.type==="BOOK"&&c.skill===t.id).sort((c,m)=>ge(c).localeCompare(ge(m))),r=new Map;for(const c of o)r.has((a=c.max_level)!=null?a:0)||r.set((s=c.max_level)!=null?s:0,[]),r.get((u=c.max_level)!=null?u:0).push(c);const f=l.byType("item").filter(c=>c.id&&c.type==="GUN"&&c.skill===t.id);return f.sort((c,m)=>ge(c).localeCompare(ge(m))),i.$$set=c=>{"item"in c&&n(0,t=c.item)},[t,o,r,f]}class dk extends Ve{constructor(e){super(),ze(this,e,_k,ck,He,{item:0})}}function _c(i,e,n){const t=i.slice();return t[3]=e[n],t}function dc(i){let e,n,t,l,o=i[0].required_proficiencies,r=[];for(let a=0;a<o.length;a+=1)r[a]=mc(_c(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Required Proficiencies",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ue(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&1){o=a[0].required_proficiencies;let u;for(u=0;u<o.length;u+=1){const c=_c(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=mc(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function mc(i){let e,n,t;return n=new ae({props:{id:i[3],type:"proficiency"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[3]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function mk(i){let e,n,t,l,o;return l=new ft({props:{items:i[2],$$slots:{default:[pk,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Recipes",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&65&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function pk(i){let e,n,t,l;return e=new Qe({props:{item:i[1].byId("item",i[0])}}),t=new ae({props:{type:"item",id:i[0]}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[1].byId("item",o[0])),e.$set(f);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function hk(i){var U,Y;let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u=(i[0].can_learn?i[0].time_to_learn:"not learnable")+"",c,m,$,v=((U=i[0].default_time_multiplier)!=null?U:2)+"",E,T,y,S,I=((Y=i[0].default_fail_multiplier)!=null?Y:2)+"",B,O,N,R,G=i[0].description+"",M,X,A,D,J=i[0].required_proficiencies&&dc(i),j=i[2].length&&mk(i);return{c(){e=g("h1"),n=w("Proficiency: "),l=w(t),o=C(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Time to Learn",s=g("dd"),c=w(u),m=g("dt"),m.textContent="Default Time Multiplier",$=g("dd"),E=w(v),T=w("\xD7"),y=g("dt"),y.textContent="Default Fail Multiplier",S=g("dd"),B=w(I),O=w("\xD7"),J&&J.c(),N=C(),R=g("p"),M=w(G),X=C(),j&&j.c(),A=ie(),Je(R,"color","var(--cata-color-gray)")},m(L,H){h(L,e,H),d(e,n),d(e,l),h(L,o,H),h(L,r,H),d(r,f),d(f,a),d(f,s),d(s,c),d(f,m),d(f,$),d($,E),d($,T),d(f,y),d(f,S),d(S,B),d(S,O),J&&J.m(f,null),d(r,N),d(r,R),d(R,M),h(L,X,H),j&&j.m(L,H),h(L,A,H),D=!0},p(L,[H]){var le,z;(!D||H&1)&&t!==(t=ge(L[0])+"")&&W(l,t),(!D||H&1)&&u!==(u=(L[0].can_learn?L[0].time_to_learn:"not learnable")+"")&&W(c,u),(!D||H&1)&&v!==(v=((le=L[0].default_time_multiplier)!=null?le:2)+"")&&W(E,v),(!D||H&1)&&I!==(I=((z=L[0].default_fail_multiplier)!=null?z:2)+"")&&W(B,I),L[0].required_proficiencies?J?(J.p(L,H),H&1&&b(J,1)):(J=dc(L),J.c(),b(J,1),J.m(f,null)):J&&(x(),k(J,1,1,()=>{J=null}),ee()),(!D||H&1)&&G!==(G=L[0].description+"")&&W(M,G),L[2].length&&j.p(L,H)},i(L){D||(b(J),b(j),D=!0)},o(L){k(J),k(j),D=!1},d(L){L&&p(e),L&&p(o),L&&p(r),J&&J.d(),L&&p(X),j&&j.d(L),L&&p(A)}}}function gk(i,e,n){let{item:t}=e;const l=xe("data"),o=[...new Set(l.byType("recipe").filter(r=>{var f;return((f=r.proficiencies)!=null?f:[]).some(a=>a.proficiency===t.id)}).map(r=>r.result))].sort((r,f)=>ge(l.byId("item",r)).localeCompare(ge(l.byId("item",f))));return i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,l,o]}class bk extends Ve{constructor(e){super(),ze(this,e,gk,hk,He,{item:0})}}function pc(i,e,n){const t=i.slice();return t[12]=e[n].color,t[13]=e[n].string,t}function hc(i){let e,n,t=i[5],l=[];for(let o=0;o<t.length;o+=1)l[o]=gc(pc(i,t,o));return{c(){e=g("section"),n=g("p");for(let o=0;o<l.length;o+=1)l[o].c()},m(o,r){h(o,e,r),d(e,n);for(let f=0;f<l.length;f+=1)l[f].m(n,null)},p(o,r){if(r&96){t=o[5];let f;for(f=0;f<t.length;f+=1){const a=pc(o,t,f);l[f]?l[f].p(a,r):(l[f]=gc(a),l[f].c(),l[f].m(n,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(o){o&&p(e),ce(l,o)}}}function gc(i){let e,n=i[13]+"",t;return{c(){e=g("span"),t=w(n),Je(e,"color","var(--cata-color-"+i[6](i[12])+")")},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function $k(i){let e,n,t,l,o;return l=new ft({props:{items:i[1].sort(i[7]),$$slots:{default:[vk,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Items",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&65537&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function vk(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{type:"item",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function kk(i){let e,n,t,l,o;return l=new ft({props:{items:i[2].sort(i[8]),$$slots:{default:[yk,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Vehicle Parts",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&65537&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function yk(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{type:"vehicle_part",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function wk(i){let e,n,t,l,o;return l=new ft({props:{items:i[4].sort(i[9]),$$slots:{default:[Ek,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Terrain",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&65537&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function Ek(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{type:"terrain",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function Tk(i){let e,n,t,l,o;return l=new ft({props:{items:i[3].sort(i[10]),$$slots:{default:[Sk,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Furniture",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&65537&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function Sk(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{type:"furniture",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function Ck(i){let e,n,t=i[0].id+"",l,o,r,f,a,s,u,c,m=i[0].info&&hc(i),$=i[1].length&&$k(i),v=i[2].length&&kk(i),E=i[4].length&&wk(i),T=i[3].length&&Tk(i);return{c(){e=g("h1"),n=w("Flag: "),l=w(t),o=C(),m&&m.c(),r=C(),$&&$.c(),f=C(),v&&v.c(),a=C(),E&&E.c(),s=C(),T&&T.c(),u=ie()},m(y,S){h(y,e,S),d(e,n),d(e,l),h(y,o,S),m&&m.m(y,S),h(y,r,S),$&&$.m(y,S),h(y,f,S),v&&v.m(y,S),h(y,a,S),E&&E.m(y,S),h(y,s,S),T&&T.m(y,S),h(y,u,S),c=!0},p(y,[S]){(!c||S&1)&&t!==(t=y[0].id+"")&&W(l,t),y[0].info?m?m.p(y,S):(m=hc(y),m.c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null),y[1].length&&$.p(y,S),y[2].length&&v.p(y,S),y[4].length&&E.p(y,S),y[3].length&&T.p(y,S)},i(y){c||(b($),b(v),b(E),b(T),c=!0)},o(y){k($),k(v),k(E),k(T),c=!1},d(y){y&&p(e),y&&p(o),m&&m.d(y),y&&p(r),$&&$.d(y),y&&p(f),v&&v.d(y),y&&p(a),E&&E.d(y),y&&p(s),T&&T.d(y),y&&p(u)}}}function Ik(i){let e=["gray"];const n=[];let t=i;for(;;){const l=t.match(/<\/?(info|good|bad|color|color_[^>]+)>/);if(l)l.index>0&&n.push({string:t.substring(0,l.index),color:e[0]}),l[0][1]==="/"&&e.length>1?e.shift():e.unshift(l[1]),t=t.substring(l.index+l[0].length);else break}return t.length&&n.push({string:t,color:e[0]}),n}function Rk(i,e,n){var E;let{item:t}=e,l=xe("data");const o=l.byType("item").filter(T=>{var y;return T.id&&((y=T.flags)==null?void 0:y.includes(t.id))}),r=l.byType("vehicle_part").filter(T=>{var y;return T.id&&((y=T.flags)==null?void 0:y.includes(t.id))}),f=l.byType("furniture").filter(T=>{var y;return T.id&&((y=T.flags)==null?void 0:y.includes(t.id))}),a=l.byType("terrain").filter(T=>{var y;return T.id&&((y=T.flags)==null?void 0:y.includes(t.id))}),s=Ik((E=t.info)!=null?E:""),u=T=>{if(T==="info")return"cyan";if(T==="good")return"green";if(T==="bad")return"red";const y=/^color_(.+)$/.exec(T);return y?y[1]:"gray"},c=(T,y)=>ge(T).localeCompare(ge(y)),m=(T,y)=>ge(T).localeCompare(ge(y)),$=(T,y)=>ge(T).localeCompare(ge(y)),v=(T,y)=>ge(T).localeCompare(ge(y));return i.$$set=T=>{"item"in T&&n(0,t=T.item)},[t,o,r,f,a,s,u,c,m,$,v]}class Nk extends Ve{constructor(e){super(),ze(this,e,Rk,Ck,He,{item:0})}}function bc(i,e,n){const t=i.slice();return t[5]=e[n].tools,t[6]=e[n].components,t[7]=e[n].qualities,t[8]=e[n].mending_method,t}function $c(i,e,n){const t=i.slice();return t[11]=e[n],t}function vc(i,e,n){const t=i.slice();return t[14]=e[n].id,t[15]=e[n].count,t[17]=n,t}function kc(i,e,n){const t=i.slice();return t[18]=e[n],t}function yc(i,e,n){const t=i.slice();return t[21]=e[n],t[17]=n,t}function wc(i,e,n){const t=i.slice();return t[23]=e[n],t}function Ec(i,e,n){const t=i.slice();return t[26]=e[n],t[17]=n,t}function Tc(i,e,n){const t=i.slice();return t[14]=e[n].id,t[28]=e[n].level,t[17]=n,t}function Sc(i,e,n){const t=i.slice();return t[30]=e[n],t}function Cc(i){let e;return{c(){e=g("li"),e.innerHTML="<em>none</em>"},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function Ic(i){let e,n,t=i[30]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ue(n,"title",o=i[3][i[30]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[30]+"")&&W(l,t),f[0]&1&&o!==(o=r[3][r[30]])&&ue(n,"title",o)},d(r){r&&p(e)}}}function Ok(i){let e;return{c(){e=g("h2"),e.textContent="Mending Methods"},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Rc(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Bk(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Ak(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Nc(i){let e,n,t=i[28]+"",l,o,r,f;e=new ae({props:{type:"skill",id:i[14]}});function a(c,m){if(c[17]===c[8].skills.length-2)return Ak;if(c[17]!==c[8].skills.length-1)return Bk}let s=a(i),u=s&&s(i);return{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=ie()},m(c,m){q(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p:Z,i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){P(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function Mk(i){var $;let e,n,t,l,o,r,f=($=i[7])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=Bc(wc(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[5],c=[];for(let v=0;v<u.length;v+=1)c[v]=Mc(kc(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=g("dt"),e.textContent="Tools Required",n=g("dd"),t=g("ul");for(let v=0;v<a.length;v+=1)a[v].c();l=C();for(let v=0;v<c.length;v+=1)c[v].c();o=C()},m(v,E){h(v,e,E),h(v,n,E),d(n,t);for(let T=0;T<a.length;T+=1)a[T].m(t,null);d(t,l);for(let T=0;T<c.length;T+=1)c[T].m(t,null);d(n,o),r=!0},p(v,E){var T;if(E[0]&4){f=(T=v[7])!=null?T:[];let y;for(y=0;y<f.length;y+=1){const S=wc(v,f,y);a[y]?(a[y].p(S,E),b(a[y],1)):(a[y]=Bc(S),a[y].c(),b(a[y],1),a[y].m(t,l))}for(x(),y=f.length;y<a.length;y+=1)s(y);ee()}if(E[0]&6){u=v[5];let y;for(y=0;y<u.length;y+=1){const S=kc(v,u,y);c[y]?(c[y].p(S,E),b(c[y],1)):(c[y]=Mc(S),c[y].c(),b(c[y],1),c[y].m(t,null))}for(x(),y=u.length;y<c.length;y+=1)m(y);ee()}},i(v){if(!r){for(let E=0;E<f.length;E+=1)b(a[E]);for(let E=0;E<u.length;E+=1)b(c[E]);r=!0}},o(v){a=a.filter(Boolean);for(let E=0;E<a.length;E+=1)k(a[E]);c=c.filter(Boolean);for(let E=0;E<c.length;E+=1)k(c[E]);r=!1},d(v){v&&p(e),v&&p(n),ce(a,v),ce(c,v)}}}function Dk(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Oc(i){var y,S;let e,n=((y=i[26].amount)!=null?y:1)+"",t,l,o=((S=i[26].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[26].level+"",c,m,$="",v,E,T=i[17]!==0&&Dk();return a=new ae({props:{type:"tool_quality",id:i[26].id}}),{c(){T&&T.c(),e=C(),t=w(n),l=w(" tool"),r=w(o),f=w(`
                  with `),F(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
                  or more`),v=w($)},m(I,B){T&&T.m(I,B),h(I,e,B),h(I,t,B),h(I,l,B),h(I,r,B),h(I,f,B),q(a,I,B),h(I,s,B),h(I,c,B),h(I,m,B),h(I,v,B),E=!0},p:Z,i(I){E||(b(a.$$.fragment,I),E=!0)},o(I){k(a.$$.fragment,I),E=!1},d(I){T&&T.d(I),I&&p(e),I&&p(t),I&&p(l),I&&p(r),I&&p(f),P(a,I),I&&p(s),I&&p(c),I&&p(m),I&&p(v)}}}function Bc(i){let e,n,t,l=i[23],o=[];for(let f=0;f<l.length;f+=1)o[f]=Oc(Ec(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=w(".")},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a[0]&4){l=f[23];let s;for(s=0;s<l.length;s+=1){const u=Ec(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Oc(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function Lk(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Gk(i){let e,n;return e=new ae({props:{type:"item",id:i[21].id}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p:Z,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Uk(i){let e,n=ge(i[1].byId("item",i[21].id))+"",t;return{c(){e=g("a"),t=w(n),ue(e,"href","#/furniture/"+i[1].craftingPseudoItem(i[21].id))},m(l,o){h(l,e,o),d(e,t)},p:Z,i:Z,o:Z,d(l){l&&p(e)}}}function qk(i){let e,n=i[21].count+"",t,l,o,r=i[21].count!==1&&Pk();return{c(){e=w("("),t=w(n),l=w(" charge"),r&&r.c(),o=w(")")},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:Z,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function Pk(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ac(i){let e,n,t,l,o,r,f=i[17]!==0&&Lk();const a=[Uk,Gk],s=[];function u(m,$){return m[1].craftingPseudoItem(m[21].id)?0:1}n=u(i),t=s[n]=a[n](i);let c=i[21].count>0&&qk(i);return{c(){f&&f.c(),e=C(),t.c(),l=C(),c&&c.c(),o=ie()},m(m,$){f&&f.m(m,$),h(m,e,$),s[n].m(m,$),h(m,l,$),c&&c.m(m,$),h(m,o,$),r=!0},p(m,$){t.p(m,$),m[21].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&p(e),s[n].d(m),m&&p(l),c&&c.d(m),m&&p(o)}}}function Mc(i){let e,n,t,l=i[18],o=[];for(let f=0;f<l.length;f+=1)o[f]=Ac(yc(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=C()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a[0]&6){l=f[18];let s;for(s=0;s<l.length;s+=1){const u=yc(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Ac(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function Fk(i){let e,n,t,l,o,r=i[6],f=[];for(let s=0;s<r.length;s+=1)f[s]=Lc($c(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Components",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&6){r=s[6];let c;for(c=0;c<r.length;c+=1){const m=$c(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Lc(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Yk(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Dc(i){let e,n,t,l=i[17]!==0&&Yk();return n=new ae({props:{id:i[14],count:i[15],type:"item"}}),{c(){l&&l.c(),e=C(),F(n.$$.fragment)},m(o,r){l&&l.m(o,r),h(o,e,r),q(n,o,r),t=!0},p:Z,i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&p(e),P(n,o)}}}function Lc(i){let e,n,t,l=i[11].map(i[4]),o=[];for(let f=0;f<l.length;f+=1)o[f]=Dc(vc(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=C()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a[0]&6){l=f[11].map(f[4]);let s;for(s=0;s<l.length;s+=1){const u=vc(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Dc(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function jk(i){let e,n,t,l;return t=new ae({props:{type:"fault",id:i[8].turns_into}}),{c(){e=g("dt"),e.textContent="Turns Into",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p:Z,i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function Gc(i){let e,n,t=ge(i[8])+"",l,o,r,f,a,s,u,c,m=i[8].time+"",$,v,E,T,y,S=i[8].skills,I=[];for(let M=0;M<S.length;M+=1)I[M]=Nc(Tc(i,S,M));const B=M=>k(I[M],1,1,()=>{I[M]=null});let O=null;S.length||(O=Rc());let N=(i[7].length||i[5].length)&&Mk(i),R=i[6].length&&Fk(i),G=i[8].turns_into&&jk(i);return{c(){e=g("section"),n=g("h1"),l=w(t),o=C(),r=g("dl"),f=g("dt"),f.textContent="Skills Used",a=g("dd");for(let M=0;M<I.length;M+=1)I[M].c();O&&O.c(),s=C(),u=g("dt"),u.textContent="Time to Complete",c=g("dd"),$=w(m),N&&N.c(),v=ie(),R&&R.c(),E=ie(),G&&G.c(),T=C()},m(M,X){h(M,e,X),d(e,n),d(n,l),d(e,o),d(e,r),d(r,f),d(r,a);for(let A=0;A<I.length;A+=1)I[A].m(a,null);O&&O.m(a,null),d(a,s),d(r,u),d(r,c),d(c,$),N&&N.m(r,null),d(r,v),R&&R.m(r,null),d(r,E),G&&G.m(r,null),d(e,T),y=!0},p(M,X){if(X[0]&4){S=M[8].skills;let A;for(A=0;A<S.length;A+=1){const D=Tc(M,S,A);I[A]?(I[A].p(D,X),b(I[A],1)):(I[A]=Nc(D),I[A].c(),b(I[A],1),I[A].m(a,s))}for(x(),A=S.length;A<I.length;A+=1)B(A);ee(),S.length?O&&(O.d(1),O=null):O||(O=Rc(),O.c(),O.m(a,s))}(M[7].length||M[5].length)&&N.p(M,X),M[6].length&&R.p(M,X),M[8].turns_into&&G.p(M,X)},i(M){if(!y){for(let X=0;X<S.length;X+=1)b(I[X]);b(N),b(R),b(G),y=!0}},o(M){I=I.filter(Boolean);for(let X=0;X<I.length;X+=1)k(I[X]);k(N),k(R),k(G),y=!1},d(M){M&&p(e),ce(I,M),O&&O.d(),N&&N.d(),R&&R.d(),G&&G.d()}}}function Hk(i){var X;let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u,c,m,$=i[0].description+"",v,E,T,y,S,I=(X=i[0].flags)!=null?X:[],B=[];for(let A=0;A<I.length;A+=1)B[A]=Ic(Sc(i,I,A));let O=null;I.length||(O=Cc());let N=i[2].length&&Ok(),R=i[2],G=[];for(let A=0;A<R.length;A+=1)G[A]=Gc(bc(i,R,A));const M=A=>k(G[A],1,1,()=>{G[A]=null});return{c(){e=g("h1"),n=w("Fault: "),l=w(t),o=C(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Flags",s=g("dd"),u=g("ul");for(let A=0;A<B.length;A+=1)B[A].c();O&&O.c(),c=C(),m=g("p"),v=w($),E=C(),N&&N.c(),T=C();for(let A=0;A<G.length;A+=1)G[A].c();y=ie(),ue(u,"class","comma-separated"),Je(m,"color","var(--cata-color-gray)")},m(A,D){h(A,e,D),d(e,n),d(e,l),h(A,o,D),h(A,r,D),d(r,f),d(f,a),d(f,s),d(s,u);for(let J=0;J<B.length;J+=1)B[J].m(u,null);O&&O.m(u,null),d(r,c),d(r,m),d(m,v),h(A,E,D),N&&N.m(A,D),h(A,T,D);for(let J=0;J<G.length;J+=1)G[J].m(A,D);h(A,y,D),S=!0},p(A,D){var J;if((!S||D[0]&1)&&t!==(t=ge(A[0])+"")&&W(l,t),D[0]&9){I=(J=A[0].flags)!=null?J:[];let j;for(j=0;j<I.length;j+=1){const U=Sc(A,I,j);B[j]?B[j].p(U,D):(B[j]=Ic(U),B[j].c(),B[j].m(u,null))}for(;j<B.length;j+=1)B[j].d(1);B.length=I.length,!I.length&&O?O.p(A,D):I.length?O&&(O.d(1),O=null):(O=Cc(),O.c(),O.m(u,null))}if((!S||D[0]&1)&&$!==($=A[0].description+"")&&W(v,$),D[0]&6){R=A[2];let j;for(j=0;j<R.length;j+=1){const U=bc(A,R,j);G[j]?(G[j].p(U,D),b(G[j],1)):(G[j]=Gc(U),G[j].c(),b(G[j],1),G[j].m(y.parentNode,y))}for(x(),j=R.length;j<G.length;j+=1)M(j);ee()}},i(A){if(!S){for(let D=0;D<R.length;D+=1)b(G[D]);S=!0}},o(A){G=G.filter(Boolean);for(let D=0;D<G.length;D+=1)k(G[D]);S=!1},d(A){A&&p(e),A&&p(o),A&&p(r),ce(B,A),O&&O.d(),A&&p(E),N&&N.d(A),A&&p(T),ce(G,A),A&&p(y)}}}function Wk(i,e,n){var a;const t=xe("data");let{item:l}=e;const o=((a=l.mending_methods)!=null?a:[]).map(s=>{var v,E,T;const u=typeof s.requirements=="string"?t.byId("requirement",s.requirements):s.requirements,c=t.flattenRequirement((v=u.tools)!=null?v:[],y=>y.tools,{expandSubstitutes:!0}),m=t.flattenRequirement((E=u.components)!=null?E:[],y=>y.components),$=$r((T=u.qualities)!=null?T:[]);return{mending_method:s,tools:c,components:m,qualities:$}}),r={NO_ALTERNATOR_CHARGE:"The alternator connected to this engine does not work.",BAD_COLD_START:"The engine starts as if the temperature was 20 F colder. Does not stack with multiples of itself.",IMMOBILIZER:"Prevents engine from starting and makes it beep.",BAD_FUEL_PUMP:"Prevents engine from starting and makes it stutter.",BAD_STARTER:"Prevents engine from starting and makes click noise.",DOUBLE_FUEL_CONSUMPTION:"Doubles fuel consumption of the engine. Does not stack with multiples of itself.",EXTRA_EXHAUST:"Makes the engine emit more exhaust smoke. Does not stack with multiples of itself.",REDUCE_ENG_POWER:"Multiplies engine power by 0.6. Does not stack with multiples of itself.",ENG_BACKFIRE:"Causes the engine to backfire as if it had zero hp.",BLACKPOWDER_FOULING_DAMAGE:"Causes the gun to take random acid damage over time.",NO_DIRTYING:"Prevents the gun from receiving `fault_gun_dirt` fault.",JAMMED_GUN:"Stops burst fire. Adds delay on next shot.",UNLUBRICATED:"Randomly causes screeching noise when firing and applies damage when that happens.",BAD_CYCLING:"One in 16 chance that the gun fails to cycle when fired resulting in `fault_gun_chamber_spent` fault."},f=s=>({...s,item:t.byId("item",s.id)});return i.$$set=s=>{"item"in s&&n(0,l=s.item)},[l,t,o,r,f]}class zk extends Ve{constructor(e){super(),ze(this,e,Wk,Hk,He,{item:0},null,[-1,-1])}}function Uc(i,e,n){const t=i.slice();return t[5]=e[n],t}function qc(i,e,n){const t=i.slice();return t[5]=e[n],t}function Pc(i){let e,n,t,l,o=i[2],r=[];for(let f=0;f<o.length;f+=1)r[f]=Fc(qc(i,o,f));return{c(){e=g("dt"),e.textContent="Excess",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=C(),ue(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a&4){o=f[2];let s;for(s=0;s<o.length;s+=1){const u=qc(f,o,s);r[s]?r[s].p(u,a):(r[s]=Fc(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ce(r,f)}}}function Fc(i){let e,n=Jt(i[5])+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function Yc(i){let e,n,t,l,o=i[3],r=[];for(let f=0;f<o.length;f+=1)r[f]=jc(Uc(i,o,f));return{c(){e=g("dt"),e.textContent="Deficiency",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=C(),ue(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a&8){o=f[3];let s;for(s=0;s<o.length;s+=1){const u=Uc(f,o,s);r[s]?r[s].p(u,a):(r[s]=jc(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ce(r,f)}}}function jc(i){let e,n=Jt(i[5])+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function Vk(i){let e,n,t=i[0].pct+"",l,o,r;return e=new ae({props:{id:i[0].comestible.id,type:"item"}}),{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w("% RDA)")},m(f,a){q(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){const s={};a&1&&(s.id=f[0].comestible.id),e.$set(s),(!r||a&1)&&t!==(t=f[0].pct+"")&&W(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){P(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function Xk(i){var L,H,le;let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u=i[0].vit_type+"",c,m,$,v,E=((L=i[0].min)!=null?L:0)+"",T,y,S,I=((H=i[0].max)!=null?H:0)+"",B,O,N,R=((le=i[0].rate)!=null?le:"0 m")+"",G,M,X,A,D,J,j,U=i[0].excess&&Pc(i),Y=i[0].deficiency&&Yc(i);return J=new ft({props:{items:i[1],$$slots:{default:[Vk,({item:z})=>({0:z}),({item:z})=>z?1:0]},$$scope:{ctx:i}}}),{c(){e=g("h1"),n=w("Vitamin: "),l=w(t),o=C(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Type",s=g("dd"),c=w(u),U&&U.c(),m=ie(),Y&&Y.c(),$=g("dt"),$.textContent="Min",v=g("dd"),T=w(E),y=g("dt"),y.textContent="Max",S=g("dd"),B=w(I),O=g("dt"),O.textContent="Rate",N=g("dd"),G=w(R),M=C(),X=g("section"),A=g("h1"),A.textContent="Comestibles",D=C(),F(J.$$.fragment)},m(z,Q){h(z,e,Q),d(e,n),d(e,l),h(z,o,Q),h(z,r,Q),d(r,f),d(f,a),d(f,s),d(s,c),U&&U.m(f,null),d(f,m),Y&&Y.m(f,null),d(f,$),d(f,v),d(v,T),d(f,y),d(f,S),d(S,B),d(f,O),d(f,N),d(N,G),h(z,M,Q),h(z,X,Q),d(X,A),d(X,D),q(J,X,null),j=!0},p(z,[Q]){var oe,V,te;(!j||Q&1)&&t!==(t=ge(z[0])+"")&&W(l,t),(!j||Q&1)&&u!==(u=z[0].vit_type+"")&&W(c,u),z[0].excess?U?U.p(z,Q):(U=Pc(z),U.c(),U.m(f,m)):U&&(U.d(1),U=null),z[0].deficiency?Y?Y.p(z,Q):(Y=Yc(z),Y.c(),Y.m(f,$)):Y&&(Y.d(1),Y=null),(!j||Q&1)&&E!==(E=((oe=z[0].min)!=null?oe:0)+"")&&W(T,E),(!j||Q&1)&&I!==(I=((V=z[0].max)!=null?V:0)+"")&&W(B,I),(!j||Q&1)&&R!==(R=((te=z[0].rate)!=null?te:"0 m")+"")&&W(G,R);const K={};Q&1025&&(K.$$scope={dirty:Q,ctx:z}),J.$set(K)},i(z){j||(b(J.$$.fragment,z),j=!0)},o(z){k(J.$$.fragment,z),j=!1},d(z){z&&p(e),z&&p(o),z&&p(r),U&&U.d(),Y&&Y.d(),z&&p(M),z&&p(X),P(J)}}}function Jk(i,e,n){var a,s;let{item:t}=e;const l=xe("data"),o=l.byType("item").filter(u=>{var c;return u.type==="COMESTIBLE"&&u.id&&((c=u.vitamins)!=null?c:[]).some(m=>m[0]===t.id)}).map(u=>{const c=u;return{comestible:c,pct:c.vitamins.find(m=>m[0]===t.id)[1]}});o.sort((u,c)=>c.pct-u.pct);const r=t.excess?(a=l.byId("effect_type",t.excess).name)!=null?a:[]:[],f=t.deficiency?(s=l.byId("effect_type",t.deficiency).name)!=null?s:[]:[];return i.$$set=u=>{"item"in u&&n(0,t=u.item)},[t,o,r,f]}class Kk extends Ve{constructor(e){super(),ze(this,e,Jk,Xk,He,{item:0})}}function Hc(i,e,n){const t=i.slice();return t[5]=e[n][0],t[6]=e[n][1],t[8]=n,t}function Wc(i,e,n){const t=i.slice();return t[5]=e[n][0],t[6]=e[n][1],t[8]=n,t}function zc(i,e,n){const t=i.slice();return t[5]=e[n][0],t[6]=e[n][1],t[8]=n,t}function Vc(i,e,n){const t=i.slice();return t[11]=e[n],t}function Xc(i,e,n){const t=i.slice();return t[14]=e[n].id,t[15]=e[n].count,t[16]=e[n].prob,t}function Jc(i,e,n){const t=i.slice();return t[14]=e[n].id,t}function Kc(i,e,n){const t=i.slice();return t[21]=e[n][0],t[6]=e[n][1],t}function Qc(i){let e,n,t,l;return t=new ae({props:{type:"item",id:i[0].fuel_type}}),{c(){e=g("dt"),e.textContent="Charge",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].fuel_type),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function Zc(i){let e,n,t=Jn(i[0].size)+"",l;return{c(){e=g("dt"),e.textContent="Capacity",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=Jn(o[0].size)+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function xc(i){let e,n,t=Jn(i[0].folded_volume)+"",l;return{c(){e=g("dt"),e.textContent="Folded Volume",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=Jn(o[0].folded_volume)+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function e_(i){let e,n,t,l,o,r=i[0].qualities,f=[];for(let s=0;s<r.length;s+=1)f[s]=t_(Kc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Qualities",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","no-bullets")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].qualities;let c;for(c=0;c<r.length;c+=1){const m=Kc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=t_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function t_(i){var u;let e,n,t,l=((u=i[6])!=null?u:1)+"",o,r,f,a,s;return f=new ae({props:{type:"tool_quality",id:i[21]}}),{c(){e=g("li"),n=w("Has level "),t=g("strong"),o=w(l),r=C(),F(f.$$.fragment),a=w(` quality.
            `)},m(c,m){h(c,e,m),d(e,n),d(e,t),d(t,o),d(t,r),q(f,t,null),d(e,a),s=!0},p(c,m){var v;(!s||m&1)&&l!==(l=((v=c[6])!=null?v:1)+"")&&W(o,l);const $={};m&1&&($.id=c[21]),f.$set($)},i(c){s||(b(f.$$.fragment,c),s=!0)},o(c){k(f.$$.fragment,c),s=!1},d(c){c&&p(e),P(f)}}}function n_(i){let e,n,t=i[0].comfort+"",l;return{c(){e=g("dt"),e.textContent="Comfort",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].comfort+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function l_(i){let e,n,t=i[0].floor_bedding_warmth+"",l;return{c(){e=g("dt"),e.textContent="Bedding Warmth",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].floor_bedding_warmth+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function i_(i){let e,n,t=i[0].epower+"",l;return{c(){e=g("dt"),e.textContent="Electric Power",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].epower+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function r_(i){let e,n,t=-i[0].energy_consumption+"",l;return{c(){e=g("dt"),e.textContent="Drain",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=-o[0].energy_consumption+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function o_(i){let e,n,t=i[0].power+"",l,o,r,f=i[0].muscle_power_factor&&f_(i);return{c(){e=g("dt"),e.textContent="Power",n=g("dd"),l=w(t),o=C(),f&&f.c(),r=C()},m(a,s){h(a,e,s),h(a,n,s),d(n,l),d(n,o),f&&f.m(n,null),d(n,r)},p(a,s){s&1&&t!==(t=a[0].power+"")&&W(l,t),a[0].muscle_power_factor?f?f.p(a,s):(f=f_(a),f.c(),f.m(n,r)):f&&(f.d(1),f=null)},d(a){a&&p(e),a&&p(n),f&&f.d()}}}function f_(i){let e,n=i[0].muscle_power_factor+"",t;return{c(){e=w("+ (str \u2212 8) \xD7 "),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o&1&&n!==(n=l[0].muscle_power_factor+"")&&W(t,n)},d(l){l&&p(e),l&&p(t)}}}function s_(i){let e,n=Ui(i[0])+"",t,l,o=i[0].bonus+"",r;return{c(){e=g("dt"),t=w(n),l=g("dd"),r=w(o)},m(f,a){h(f,e,a),d(e,t),h(f,l,a),d(l,r)},p(f,a){a&1&&n!==(n=Ui(f[0])+"")&&W(t,n),a&1&&o!==(o=f[0].bonus+"")&&W(r,o)},d(f){f&&p(e),f&&p(l)}}}function a_(i){let e,n,t,l,o,r=i[0].pseudo_tools,f=[];for(let s=0;s<r.length;s+=1)f[s]=u_(Jc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Provides",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].pseudo_tools;let c;for(c=0;c<r.length;c+=1){const m=Jc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=u_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function u_(i){let e,n;return e=new ae({props:{type:"item",id:i[14]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[14]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Qk(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=c_(Xc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Breaks Into",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=Xc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=c_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Zk(i){let e,n=bl(i[16])+"",t,l;return{c(){e=w("("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:Z,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function c_(i){let e,n,t;n=new ae({props:{id:i[14],count:i[15],type:"item"}});let l=i[16]!==1&&Zk(i);return{c(){e=g("li"),F(n.$$.fragment),l&&l.c()},m(o,r){h(o,e,r),q(n,e,null),l&&l.m(e,null),t=!0},p(o,r){o[16]!==1&&l.p(o,r)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){o&&p(e),P(n),l&&l.d()}}}function __(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function d_(i){let e,n,t;return n=new ae({props:{type:"json_flag",id:i[11]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[11]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function m_(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function xk(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function ey(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function p_(i){let e,n,t=i[6]+"",l,o,r,f;e=new ae({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.install.skills.length-2)return ey;if(c[8]!==c[0].requirements.install.skills.length-1)return xk}let s=a(i),u=s&&s(i);return{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=ie()},m(c,m){q(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&W(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){P(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function h_(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ty(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function ny(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function g_(i){let e,n,t=i[6]+"",l,o,r,f;e=new ae({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.removal.skills.length-2)return ny;if(c[8]!==c[0].requirements.removal.skills.length-1)return ty}let s=a(i),u=s&&s(i);return{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=ie()},m(c,m){q(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&W(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){P(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function b_(i){let e,n;return e=new Wi({props:{requirement:i[0].requirements.removal}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.requirement=t[0].requirements.removal),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function $_(i){var B,O,N,R,G;let e,n,t,l,o,r,f,a,s,u=((N=(O=(B=i[0].requirements)==null?void 0:B.repair)==null?void 0:O.time)!=null?N:"1 hour")+"",c,m,$,v,E,T=(G=(R=i[0].requirements.repair)==null?void 0:R.skills)!=null?G:[],y=[];for(let M=0;M<T.length;M+=1)y[M]=k_(Hc(i,T,M));const S=M=>k(y[M],1,1,()=>{y[M]=null});let I=null;return T.length||(I=v_()),m=new Wi({props:{requirement:i[0].requirements.repair}}),{c(){e=g("section"),n=g("h1"),n.textContent="Repair",t=C(),l=g("dl"),o=g("dt"),o.textContent="Skills Required",r=g("dd");for(let M=0;M<y.length;M+=1)y[M].c();I&&I.c(),f=C(),a=g("dt"),a.textContent="Time",s=g("dd"),c=w(u),F(m.$$.fragment),$=C(),v=g("p"),v.textContent="Repair time and requirements are lower for parts that are less damaged.",ue(a,"title","Time required goes down with better skills"),Je(v,"color","var(--cata-color-gray)"),Je(v,"font-style","italic")},m(M,X){h(M,e,X),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r);for(let A=0;A<y.length;A+=1)y[A].m(r,null);I&&I.m(r,null),d(r,f),d(l,a),d(l,s),d(s,c),q(m,l,null),d(e,$),d(e,v),E=!0},p(M,X){var D,J,j,U,Y;if(X&1){T=(J=(D=M[0].requirements.repair)==null?void 0:D.skills)!=null?J:[];let L;for(L=0;L<T.length;L+=1){const H=Hc(M,T,L);y[L]?(y[L].p(H,X),b(y[L],1)):(y[L]=k_(H),y[L].c(),b(y[L],1),y[L].m(r,f))}for(x(),L=T.length;L<y.length;L+=1)S(L);ee(),T.length?I&&(I.d(1),I=null):I||(I=v_(),I.c(),I.m(r,f))}(!E||X&1)&&u!==(u=((Y=(U=(j=M[0].requirements)==null?void 0:j.repair)==null?void 0:U.time)!=null?Y:"1 hour")+"")&&W(c,u);const A={};X&1&&(A.requirement=M[0].requirements.repair),m.$set(A)},i(M){if(!E){for(let X=0;X<T.length;X+=1)b(y[X]);b(m.$$.fragment,M),E=!0}},o(M){y=y.filter(Boolean);for(let X=0;X<y.length;X+=1)k(y[X]);k(m.$$.fragment,M),E=!1},d(M){M&&p(e),ce(y,M),I&&I.d(),P(m)}}}function v_(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ly(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function iy(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function k_(i){let e,n,t=i[6]+"",l,o,r,f;e=new ae({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.repair.skills.length-2)return iy;if(c[8]!==c[0].requirements.repair.skills.length-1)return ly}let s=a(i),u=s&&s(i);return{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=ie()},m(c,m){q(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&W(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){P(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function ry(i){let e,n,t,l,o;return l=new ft({props:{items:i[3],$$slots:{default:[oy,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Vehicles",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&16777217&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function oy(i){let e,n;return e=new ae({props:{type:"vehicle",id:i[0].id}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function fy(i){var Ct,Ft,Sn,ne,Ce,cn,Cn,Fn,yn,In,Yn,Rn,Nn,wn,On,Bn,An,Mn,Dn,Ln,At,Gn,rl,ol,$t,Yt,jt,dn,Dt;let e,n,t,l=(i[0].name?ge(i[0]):ge(i[1].byId("item",i[0].item)))+"",o,r,f,a,s,u,c,m,$,v,E,T=$l(i[1].byId("item",i[0].item).weight)+"",y,S,I,B=((Ct=i[0].durability)!=null?Ct:0)+"",O,N,R,G,M,X,A,D=((Ft=i[0].damage_modifier)!=null?Ft:100)+"",J,j,U,Y,L,H=i[0].bonus&&Ui(i[0]),le,z,Q,K,oe,V,te,_e=Jt((Sn=i[0].description)!=null?Sn:i[1].byId("item",i[0].item).description)+"",Ge,$e,me,be,ve,de,De,Ie,ke,Te,rt,ye,pe=((cn=(Ce=(ne=i[0].requirements)==null?void 0:ne.install)==null?void 0:Ce.time)!=null?cn:"1 hour")+"",Le,We,Me,Oe,Ze,he,Be,Pe,Ne,Se,Fe,Ue,Xe=((Rn=(Fn=(Cn=i[0].requirements)==null?void 0:Cn.removal)==null?void 0:Fn.time)!=null?Rn:y_(`${yr((Yn=(In=(yn=i[0].requirements)==null?void 0:yn.install)==null?void 0:In.time)!=null?Yn:"1 hour")/2} s`))+"",it,mt,Nt,tn,Gt,Mt;n=new Qe({props:{item:i[0]}}),$=new ae({props:{id:i[0].item,type:"item"}});let ut=i[0].fuel_type&&Qc(i),It=i[0].size&&Zc(i),Ye=i[0].folded_volume&&xc(i),Ke=((Nn=i[0].qualities)==null?void 0:Nn.length)&&e_(i),vt=i[0].comfort&&n_(i),pt=i[0].floor_bedding_warmth&&l_(i),dt=i[0].epower&&i_(i),ht=i[0].energy_consumption&&r_(i),gt=i[0].power&&o_(i),lt=H&&s_(i),st=((wn=i[0].pseudo_tools)==null?void 0:wn.length)&&a_(i),ot=((On=i[2])==null?void 0:On.length)&&Qk(i),nn=(Bn=i[0].flags)!=null?Bn:[],tt=[];for(let re=0;re<nn.length;re+=1)tt[re]=d_(Vc(i,nn,re));const ln=re=>k(tt[re],1,1,()=>{tt[re]=null});let kt=null;nn.length||(kt=__());let Bt=(Dn=(Mn=(An=i[0].requirements)==null?void 0:An.install)==null?void 0:Mn.skills)!=null?Dn:[],at=[];for(let re=0;re<Bt.length;re+=1)at[re]=p_(zc(i,Bt,re));const rn=re=>k(at[re],1,1,()=>{at[re]=null});let wt=null;Bt.length||(wt=m_()),We=new Wi({props:{requirement:{...(At=(Ln=i[0].requirements)==null?void 0:Ln.install)!=null?At:{},components:((ol=(rl=(Gn=i[0].requirements)==null?void 0:Gn.install)==null?void 0:rl.components)!=null?ol:[]).concat([[[i[0].item,1]]])}}});let bt=(jt=(Yt=($t=i[0].requirements)==null?void 0:$t.removal)==null?void 0:Yt.skills)!=null?jt:[],je=[];for(let re=0;re<bt.length;re+=1)je[re]=g_(Wc(i,bt,re));const St=re=>k(je[re],1,1,()=>{je[re]=null});let ct=null;bt.length||(ct=h_());let et=((dn=i[0].requirements)==null?void 0:dn.removal)&&b_(i),nt=((Dt=i[0].requirements)==null?void 0:Dt.repair)&&$_(i),_t=i[3].length&&ry(i);return{c(){e=g("h1"),F(n.$$.fragment),t=C(),o=w(l),r=C(),f=g("section"),a=g("h1"),a.textContent="Vehicle Part",s=C(),u=g("dl"),c=g("dt"),c.textContent="Item",m=g("dd"),F($.$$.fragment),v=g("dt"),v.textContent="Weight",E=g("dd"),y=w(T),ut&&ut.c(),S=g("dt"),S.textContent=`Durability
    `,I=g("dd"),O=w(B),It&&It.c(),N=ie(),Ye&&Ye.c(),R=ie(),Ke&&Ke.c(),G=ie(),vt&&vt.c(),M=ie(),pt&&pt.c(),X=g("dt"),X.textContent="Damage",A=g("dd"),J=w(D),j=w("%"),dt&&dt.c(),U=ie(),ht&&ht.c(),Y=ie(),gt&&gt.c(),L=ie(),lt&&lt.c(),le=ie(),st&&st.c(),z=ie(),ot&&ot.c(),Q=g("dt"),Q.textContent="Flags",K=g("dd"),oe=g("ul");for(let re=0;re<tt.length;re+=1)tt[re].c();kt&&kt.c(),V=C(),te=g("p"),Ge=w(_e),$e=C(),me=g("div"),be=g("section"),ve=g("h1"),ve.textContent="Install",de=C(),De=g("dl"),Ie=g("dt"),Ie.textContent="Skills Required",ke=g("dd");for(let re=0;re<at.length;re+=1)at[re].c();wt&&wt.c(),Te=C(),rt=g("dt"),rt.textContent="Time",ye=g("dd"),Le=w(pe),F(We.$$.fragment),Me=C(),Oe=g("section"),Ze=g("h1"),Ze.textContent="Remove",he=C(),Be=g("dl"),Pe=g("dt"),Pe.textContent="Skills Required",Ne=g("dd");for(let re=0;re<je.length;re+=1)je[re].c();ct&&ct.c(),Se=C(),Fe=g("dt"),Fe.textContent="Time",Ue=g("dd"),it=w(Xe),mt=C(),et&&et.c(),Nt=C(),nt&&nt.c(),tn=C(),_t&&_t.c(),Gt=ie(),ue(S,"title","Maximum damage part can sustain before being destroyed"),ue(oe,"class","comma-separated"),Je(te,"color","var(--cata-color-gray)"),ue(rt,"title","Time required goes down with better skills"),ue(Fe,"title","Time required goes down with better skills"),ue(me,"class","side-by-side")},m(re,Re){h(re,e,Re),q(n,e,null),d(e,t),d(e,o),h(re,r,Re),h(re,f,Re),d(f,a),d(f,s),d(f,u),d(u,c),d(u,m),q($,m,null),d(u,v),d(u,E),d(E,y),ut&&ut.m(u,null),d(u,S),d(u,I),d(I,O),It&&It.m(u,null),d(u,N),Ye&&Ye.m(u,null),d(u,R),Ke&&Ke.m(u,null),d(u,G),vt&&vt.m(u,null),d(u,M),pt&&pt.m(u,null),d(u,X),d(u,A),d(A,J),d(A,j),dt&&dt.m(u,null),d(u,U),ht&&ht.m(u,null),d(u,Y),gt&&gt.m(u,null),d(u,L),lt&&lt.m(u,null),d(u,le),st&&st.m(u,null),d(u,z),ot&&ot.m(u,null),d(u,Q),d(u,K),d(K,oe);for(let yt=0;yt<tt.length;yt+=1)tt[yt].m(oe,null);kt&&kt.m(oe,null),d(f,V),d(f,te),d(te,Ge),h(re,$e,Re),h(re,me,Re),d(me,be),d(be,ve),d(be,de),d(be,De),d(De,Ie),d(De,ke);for(let yt=0;yt<at.length;yt+=1)at[yt].m(ke,null);wt&&wt.m(ke,null),d(ke,Te),d(De,rt),d(De,ye),d(ye,Le),q(We,De,null),d(me,Me),d(me,Oe),d(Oe,Ze),d(Oe,he),d(Oe,Be),d(Be,Pe),d(Be,Ne);for(let yt=0;yt<je.length;yt+=1)je[yt].m(Ne,null);ct&&ct.m(Ne,null),d(Ne,Se),d(Be,Fe),d(Be,Ue),d(Ue,it),d(Ue,mt),et&&et.m(Be,null),h(re,Nt,Re),nt&&nt.m(re,Re),h(re,tn,Re),_t&&_t.m(re,Re),h(re,Gt,Re),Mt=!0},p(re,[Re]){var zt,Vt,mn,pn,hn,gn,Rl,Nl,Ol,Bl,Al,Ml,Dl,Ll,Gl,Ul,ql,Pl,Fl,Yl,jl,Hl,Wl,zl,Vl,Xl,Jl,Kl,we;const yt={};Re&1&&(yt.item=re[0]),n.$set(yt),(!Mt||Re&1)&&l!==(l=(re[0].name?ge(re[0]):ge(re[1].byId("item",re[0].item)))+"")&&W(o,l);const Ht={};if(Re&1&&(Ht.id=re[0].item),$.$set(Ht),(!Mt||Re&1)&&T!==(T=$l(re[1].byId("item",re[0].item).weight)+"")&&W(y,T),re[0].fuel_type?ut?(ut.p(re,Re),Re&1&&b(ut,1)):(ut=Qc(re),ut.c(),b(ut,1),ut.m(u,S)):ut&&(x(),k(ut,1,1,()=>{ut=null}),ee()),(!Mt||Re&1)&&B!==(B=((zt=re[0].durability)!=null?zt:0)+"")&&W(O,B),re[0].size?It?It.p(re,Re):(It=Zc(re),It.c(),It.m(u,N)):It&&(It.d(1),It=null),re[0].folded_volume?Ye?Ye.p(re,Re):(Ye=xc(re),Ye.c(),Ye.m(u,R)):Ye&&(Ye.d(1),Ye=null),(Vt=re[0].qualities)!=null&&Vt.length?Ke?(Ke.p(re,Re),Re&1&&b(Ke,1)):(Ke=e_(re),Ke.c(),b(Ke,1),Ke.m(u,G)):Ke&&(x(),k(Ke,1,1,()=>{Ke=null}),ee()),re[0].comfort?vt?vt.p(re,Re):(vt=n_(re),vt.c(),vt.m(u,M)):vt&&(vt.d(1),vt=null),re[0].floor_bedding_warmth?pt?pt.p(re,Re):(pt=l_(re),pt.c(),pt.m(u,X)):pt&&(pt.d(1),pt=null),(!Mt||Re&1)&&D!==(D=((mn=re[0].damage_modifier)!=null?mn:100)+"")&&W(J,D),re[0].epower?dt?dt.p(re,Re):(dt=i_(re),dt.c(),dt.m(u,U)):dt&&(dt.d(1),dt=null),re[0].energy_consumption?ht?ht.p(re,Re):(ht=r_(re),ht.c(),ht.m(u,Y)):ht&&(ht.d(1),ht=null),re[0].power?gt?gt.p(re,Re):(gt=o_(re),gt.c(),gt.m(u,L)):gt&&(gt.d(1),gt=null),Re&1&&(H=re[0].bonus&&Ui(re[0])),H?lt?lt.p(re,Re):(lt=s_(re),lt.c(),lt.m(u,le)):lt&&(lt.d(1),lt=null),(pn=re[0].pseudo_tools)!=null&&pn.length?st?(st.p(re,Re),Re&1&&b(st,1)):(st=a_(re),st.c(),b(st,1),st.m(u,z)):st&&(x(),k(st,1,1,()=>{st=null}),ee()),(hn=re[2])!=null&&hn.length&&ot.p(re,Re),Re&1){nn=(gn=re[0].flags)!=null?gn:[];let Ee;for(Ee=0;Ee<nn.length;Ee+=1){const $n=Vc(re,nn,Ee);tt[Ee]?(tt[Ee].p($n,Re),b(tt[Ee],1)):(tt[Ee]=d_($n),tt[Ee].c(),b(tt[Ee],1),tt[Ee].m(oe,null))}for(x(),Ee=nn.length;Ee<tt.length;Ee+=1)ln(Ee);ee(),!nn.length&&kt?kt.p(re,Re):nn.length?kt&&(kt.d(1),kt=null):(kt=__(),kt.c(),kt.m(oe,null))}if((!Mt||Re&1)&&_e!==(_e=Jt((Rl=re[0].description)!=null?Rl:re[1].byId("item",re[0].item).description)+"")&&W(Ge,_e),Re&1){Bt=(Bl=(Ol=(Nl=re[0].requirements)==null?void 0:Nl.install)==null?void 0:Ol.skills)!=null?Bl:[];let Ee;for(Ee=0;Ee<Bt.length;Ee+=1){const $n=zc(re,Bt,Ee);at[Ee]?(at[Ee].p($n,Re),b(at[Ee],1)):(at[Ee]=p_($n),at[Ee].c(),b(at[Ee],1),at[Ee].m(ke,Te))}for(x(),Ee=Bt.length;Ee<at.length;Ee+=1)rn(Ee);ee(),Bt.length?wt&&(wt.d(1),wt=null):wt||(wt=m_(),wt.c(),wt.m(ke,Te))}(!Mt||Re&1)&&pe!==(pe=((Dl=(Ml=(Al=re[0].requirements)==null?void 0:Al.install)==null?void 0:Ml.time)!=null?Dl:"1 hour")+"")&&W(Le,pe);const Wt={};if(Re&1&&(Wt.requirement={...(Gl=(Ll=re[0].requirements)==null?void 0:Ll.install)!=null?Gl:{},components:((Pl=(ql=(Ul=re[0].requirements)==null?void 0:Ul.install)==null?void 0:ql.components)!=null?Pl:[]).concat([[[re[0].item,1]]])}),We.$set(Wt),Re&1){bt=(jl=(Yl=(Fl=re[0].requirements)==null?void 0:Fl.removal)==null?void 0:Yl.skills)!=null?jl:[];let Ee;for(Ee=0;Ee<bt.length;Ee+=1){const $n=Wc(re,bt,Ee);je[Ee]?(je[Ee].p($n,Re),b(je[Ee],1)):(je[Ee]=g_($n),je[Ee].c(),b(je[Ee],1),je[Ee].m(Ne,Se))}for(x(),Ee=bt.length;Ee<je.length;Ee+=1)St(Ee);ee(),bt.length?ct&&(ct.d(1),ct=null):ct||(ct=h_(),ct.c(),ct.m(Ne,Se))}(!Mt||Re&1)&&Xe!==(Xe=((Jl=(Wl=(Hl=re[0].requirements)==null?void 0:Hl.removal)==null?void 0:Wl.time)!=null?Jl:y_(`${yr((Xl=(Vl=(zl=re[0].requirements)==null?void 0:zl.install)==null?void 0:Vl.time)!=null?Xl:"1 hour")/2} s`))+"")&&W(it,Xe),(Kl=re[0].requirements)!=null&&Kl.removal?et?(et.p(re,Re),Re&1&&b(et,1)):(et=b_(re),et.c(),b(et,1),et.m(Be,null)):et&&(x(),k(et,1,1,()=>{et=null}),ee()),(we=re[0].requirements)!=null&&we.repair?nt?(nt.p(re,Re),Re&1&&b(nt,1)):(nt=$_(re),nt.c(),b(nt,1),nt.m(tn.parentNode,tn)):nt&&(x(),k(nt,1,1,()=>{nt=null}),ee()),re[3].length&&_t.p(re,Re)},i(re){if(!Mt){b(n.$$.fragment,re),b($.$$.fragment,re),b(ut),b(Ke),b(st),b(ot);for(let Re=0;Re<nn.length;Re+=1)b(tt[Re]);for(let Re=0;Re<Bt.length;Re+=1)b(at[Re]);b(We.$$.fragment,re);for(let Re=0;Re<bt.length;Re+=1)b(je[Re]);b(et),b(nt),b(_t),Mt=!0}},o(re){k(n.$$.fragment,re),k($.$$.fragment,re),k(ut),k(Ke),k(st),k(ot),tt=tt.filter(Boolean);for(let Re=0;Re<tt.length;Re+=1)k(tt[Re]);at=at.filter(Boolean);for(let Re=0;Re<at.length;Re+=1)k(at[Re]);k(We.$$.fragment,re),je=je.filter(Boolean);for(let Re=0;Re<je.length;Re+=1)k(je[Re]);k(et),k(nt),k(_t),Mt=!1},d(re){re&&p(e),P(n),re&&p(r),re&&p(f),P($),ut&&ut.d(),It&&It.d(),Ye&&Ye.d(),Ke&&Ke.d(),vt&&vt.d(),pt&&pt.d(),dt&&dt.d(),ht&&ht.d(),gt&&gt.d(),lt&&lt.d(),st&&st.d(),ot&&ot.d(),ce(tt,re),kt&&kt.d(),re&&p($e),re&&p(me),ce(at,re),wt&&wt.d(),P(We),ce(je,re),ct&&ct.d(),et&&et.d(),re&&p(Nt),nt&&nt.d(re),re&&p(tn),_t&&_t.d(re),re&&p(Gt)}}}function Ui(i){var t;const e=["LIGHT","CONE_LIGHT","WIDE_CONE_LIGHT","CIRCLE_LIGHT","DOME_LIGHT","AISLE_LIGHT","EVENTURN","ODDTURN","ATOMIC_LIGHT"],n=(t=i.flags)!=null?t:[];if(n.includes("SEATBELT"))return"Strength";if(n.includes("HORN"))return"Noise";if(n.includes("MUFFLER"))return"Noise Reduction";if(n.includes("VISION"))return"Range";if(e.some(l=>n.includes(l)))return"Light";if(n.includes("REAPER"))return"Plant Harvested"}function yr(i){if(typeof i=="number")return i/100;const e=1,n=1,t=60,l=t*60,o=l*24,r=[["turns",1*e],["turn",1*e],["t",1*e],["seconds",1*n],["second",1*n],["s",1*n],["minutes",1*t],["minute",1*t],["m",1*t],["hours",1*l],["hour",1*l],["h",1*l],["days",1*o],["day",1*o],["d",1*o]],[f,a]=i.trim().split(/\s+/),s=r.find(u=>u[0]===a);if(!s)throw new Error(`bad duration: ${JSON.stringify(i)}`);return Number(f)*s[1]}function y_(i){const e=yr(i);return`${Math.round(e/60)} m`}function sy(i,e,n){let{item:t}=e;const l=xe("data"),o=typeof t.breaks_into=="string"?l.byId("item_group",t.breaks_into):Array.isArray(t.breaks_into)?{subtype:"collection",entries:t.breaks_into}:t.breaks_into?t.breaks_into:null,r=o&&l.flattenItemGroup(o),f=l.byType("vehicle").filter(a=>a.parts.some(s=>{var c;return(s.part?[{part:s.part,fuel:s.fuel}]:(c=s.parts)==null?void 0:c.map(m=>typeof m=="string"?{part:m}:m)).some(m=>Mp(l,m.part)[0]===t.id)}));return f.sort((a,s)=>ge(a).localeCompare(ge(s))),i.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,l,r,f]}class ay extends Ve{constructor(e){super(),ze(this,e,sy,fy,He,{item:0})}}function w_(i,e,n){const t=i.slice();return t[1]=e[n],t}function E_(i,e,n){const t=i.slice();return t[1]=e[n],t}function T_(i){var u,c;let e,n,t,l,o,r=(u=i[0].mult_bonuses)!=null?u:[],f=[];for(let m=0;m<r.length;m+=1)f[m]=I_(E_(i,r,m));let a=(c=i[0].flat_bonuses)!=null?c:[],s=[];for(let m=0;m<a.length;m+=1)s[m]=N_(w_(i,a,m));return{c(){e=g("dt"),e.textContent="Bonus",n=C(),t=g("dd"),l=g("ul");for(let m=0;m<f.length;m+=1)f[m].c();o=C();for(let m=0;m<s.length;m+=1)s[m].c()},m(m,$){h(m,e,$),h(m,n,$),h(m,t,$),d(t,l);for(let v=0;v<f.length;v+=1)f[v].m(l,null);d(l,o);for(let v=0;v<s.length;v+=1)s[v].m(l,null)},p(m,$){var v,E;if($&1){r=(v=m[0].mult_bonuses)!=null?v:[];let T;for(T=0;T<r.length;T+=1){const y=E_(m,r,T);f[T]?f[T].p(y,$):(f[T]=I_(y),f[T].c(),f[T].m(l,o))}for(;T<f.length;T+=1)f[T].d(1);f.length=r.length}if($&1){a=(E=m[0].flat_bonuses)!=null?E:[];let T;for(T=0;T<a.length;T+=1){const y=w_(m,a,T);s[T]?s[T].p(y,$):(s[T]=N_(y),s[T].c(),s[T].m(l,null))}for(;T<s.length;T+=1)s[T].d(1);s.length=a.length}},d(m){m&&p(e),m&&p(n),m&&p(t),ce(f,m),ce(s,m)}}}function S_(i){let e=i[1].type+"",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},p(t,l){l&1&&e!==(e=t[1].type+"")&&W(n,e)},d(t){t&&p(n)}}}function C_(i){let e,n=Pi(i[1]["scaling-stat"])+"",t;return{c(){e=w("of "),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o&1&&n!==(n=Pi(l[1]["scaling-stat"])+"")&&W(t,n)},d(l){l&&p(e),l&&p(t)}}}function I_(i){let e,n=Fi(i[1].stat),t,l=qi(i[1].stat)+"",o,r,f=(i[1].scale*100).toFixed(0)+"",a,s,u=n&&S_(i),c=i[1]["scaling-stat"]&&C_(i);return{c(){e=g("li"),u&&u.c(),t=C(),o=w(l),r=w(": "),a=w(f),s=w("% "),c&&c.c()},m(m,$){h(m,e,$),u&&u.m(e,null),d(e,t),d(e,o),d(e,r),d(e,a),d(e,s),c&&c.m(e,null)},p(m,$){$&1&&(n=Fi(m[1].stat)),n?u?u.p(m,$):(u=S_(m),u.c(),u.m(e,t)):u&&(u.d(1),u=null),$&1&&l!==(l=qi(m[1].stat)+"")&&W(o,l),$&1&&f!==(f=(m[1].scale*100).toFixed(0)+"")&&W(a,f),m[1]["scaling-stat"]?c?c.p(m,$):(c=C_(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(m){m&&p(e),u&&u.d(),c&&c.d()}}}function R_(i){let e=i[1].type+"",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},p(t,l){l&1&&e!==(e=t[1].type+"")&&W(n,e)},d(t){t&&p(n)}}}function uy(i){let e=i[1].scale<0?"":"+",n,t=i[1].scale+"",l;return{c(){n=w(e),l=w(t)},m(o,r){h(o,n,r),h(o,l,r)},p(o,r){r&1&&e!==(e=o[1].scale<0?"":"+")&&W(n,e),r&1&&t!==(t=o[1].scale+"")&&W(l,t)},d(o){o&&p(n),o&&p(l)}}}function cy(i){let e=i[1].scale<0?"":"+",n,t=(i[1].scale*100).toFixed(0)+"",l,o,r=Pi(i[1]["scaling-stat"])+"",f;return{c(){n=w(e),l=w(t),o=w("% of "),f=w(r)},m(a,s){h(a,n,s),h(a,l,s),h(a,o,s),h(a,f,s)},p(a,s){s&1&&e!==(e=a[1].scale<0?"":"+")&&W(n,e),s&1&&t!==(t=(a[1].scale*100).toFixed(0)+"")&&W(l,t),s&1&&r!==(r=Pi(a[1]["scaling-stat"])+"")&&W(f,r)},d(a){a&&p(n),a&&p(l),a&&p(o),a&&p(f)}}}function N_(i){let e,n=Fi(i[1].stat),t,l=qi(i[1].stat)+"",o,r,f,a=n&&R_(i);function s(m,$){return m[1]["scaling-stat"]?cy:uy}let u=s(i),c=u(i);return{c(){e=g("li"),a&&a.c(),t=C(),o=w(l),r=w(`:
          `),c.c(),f=C()},m(m,$){h(m,e,$),a&&a.m(e,null),d(e,t),d(e,o),d(e,r),c.m(e,null),d(e,f)},p(m,$){$&1&&(n=Fi(m[1].stat)),n?a?a.p(m,$):(a=R_(m),a.c(),a.m(e,t)):a&&(a.d(1),a=null),$&1&&l!==(l=qi(m[1].stat)+"")&&W(o,l),u===(u=s(m))&&c?c.p(m,$):(c.d(1),c=u(m),c&&(c.c(),c.m(e,f)))},d(m){m&&p(e),a&&a.d(),c.d()}}}function _y(i){let e,n=(i[0].mult_bonuses||i[0].flat_bonuses)&&T_(i);return{c(){n&&n.c(),e=ie()},m(t,l){n&&n.m(t,l),h(t,e,l)},p(t,[l]){t[0].mult_bonuses||t[0].flat_bonuses?n?n.p(t,l):(n=T_(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Z,o:Z,d(t){n&&n.d(t),t&&p(e)}}}function qi(i){switch(i){case"hit":return"Accuracy";case"crit_chance":return"Critical Hit Chance";case"dodge":return"Dodge";case"block":return"Block";case"block_effectiveness":return"Block effectiveness";case"speed":return"Speed";case"movecost":return"Move cost";case"damage":return"damage";case"armor":return"Armor";case"arpen":return"Armor penetration";case"target_armor_multiplier":return"Target armor multiplier";default:return""}}function Pi(i){switch(i){case"str":return"strength";case"dex":return"dexterity";case"int":return"intelligence";case"per":return"perception";default:return""}}function Fi(i){return i==="damage"||i==="armor"||i==="arpen"}function dy(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class jp extends Ve{constructor(e){super(),ze(this,e,dy,_y,He,{item:0})}}function O_(i,e,n){const t=i.slice();return t[3]=e[n],t}function B_(i,e,n){const t=i.slice();return t[6]=e[n].name,t[7]=e[n].level,t[9]=n,t}function A_(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function my(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function py(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function M_(i){let e,n,t=i[7]+"",l,o,r,f;e=new ae({props:{type:"skill",id:i[6]}});function a(c,m){if(c[9]===c[0].skill_requirements.length-2)return py;if(c[9]!==c[0].skill_requirements.length-1)return my}let s=a(i),u=s&&s(i);return{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=ie()},m(c,m){q(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[6]),e.$set($),(!f||m&1)&&t!==(t=c[7]+"")&&W(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){P(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function hy(i){let e,n,t,l,o=i[2],r=[];for(let f=0;f<o.length;f+=1)r[f]=D_(O_(i,o,f));return{c(){e=g("dt"),e.textContent="Required Buffs",n=C(),t=g("dd"),l=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();ue(l,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),h(f,t,a),d(t,l);for(let s=0;s<r.length;s+=1)r[s].m(l,null)},p(f,a){if(a&6){o=f[2];let s;for(s=0;s<o.length;s+=1){const u=O_(f,o,s);r[s]?r[s].p(u,a):(r[s]=D_(u),r[s].c(),r[s].m(l,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),f&&p(t),ce(r,f)}}}function gy(i){let e,n=i[3]+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function by(i){let e,n=ge(i[1].get(i[3]))+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&2&&n!==(n=ge(l[1].get(l[3]))+"")&&W(t,n)},d(l){l&&p(e)}}}function D_(i){let e,n;function t(r,f){return f&2&&(e=null),e==null&&(e=!!r[1].has(r[3])),e?by:gy}let l=t(i,-1),o=l(i);return{c(){o.c(),n=ie()},m(r,f){o.m(r,f),h(r,n,f)},p(r,f){l===(l=t(r,f))&&o?o.p(r,f):(o.d(1),o=l(r),o&&(o.c(),o.m(n.parentNode,n)))},d(r){o.d(r),r&&p(n)}}}function L_(i){let e,n,t;return{c(){e=g("dt"),e.textContent="Requires Adjacent Wall",n=C(),t=g("dd"),t.textContent="Yes"},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function $y(i){var U,Y;let e,n,t,l,o,r,f,a,s,u=i[0].melee_allowed?"Yes":"No",c,m,$,v,E,T=i[0].unarmed_allowed?"Yes":"No",y,S,I,B,O,N=(U=i[0].unarmed_weapons_allowed)==null||U?"Yes":"No",R,G,M=(Y=i[0].skill_requirements)!=null?Y:[],X=[];for(let L=0;L<M.length;L+=1)X[L]=M_(B_(i,M,L));const A=L=>k(X[L],1,1,()=>{X[L]=null});let D=null;M.length||(D=A_());let J=i[2].length&&hy(i),j=i[0].wall_adjacent&&L_();return{c(){e=g("dt"),e.textContent="Required Skills",n=C(),t=g("dd");for(let L=0;L<X.length;L+=1)X[L].c();D&&D.c(),l=C(),J&&J.c(),o=C(),j&&j.c(),r=C(),f=g("dt"),f.textContent="Melee Weapon Allowed",a=C(),s=g("dd"),c=w(u),m=C(),$=g("dt"),$.textContent="Unarmed Allowed",v=C(),E=g("dd"),y=w(T),S=C(),I=g("dt"),I.textContent="Unarmed Weapon Allowed",B=C(),O=g("dd"),R=w(N)},m(L,H){h(L,e,H),h(L,n,H),h(L,t,H);for(let le=0;le<X.length;le+=1)X[le].m(t,null);D&&D.m(t,null),h(L,l,H),J&&J.m(L,H),h(L,o,H),j&&j.m(L,H),h(L,r,H),h(L,f,H),h(L,a,H),h(L,s,H),d(s,c),h(L,m,H),h(L,$,H),h(L,v,H),h(L,E,H),d(E,y),h(L,S,H),h(L,I,H),h(L,B,H),h(L,O,H),d(O,R),G=!0},p(L,[H]){var le,z;if(H&1){M=(le=L[0].skill_requirements)!=null?le:[];let Q;for(Q=0;Q<M.length;Q+=1){const K=B_(L,M,Q);X[Q]?(X[Q].p(K,H),b(X[Q],1)):(X[Q]=M_(K),X[Q].c(),b(X[Q],1),X[Q].m(t,null))}for(x(),Q=M.length;Q<X.length;Q+=1)A(Q);ee(),!M.length&&D?D.p(L,H):M.length?D&&(D.d(1),D=null):(D=A_(),D.c(),D.m(t,null))}L[2].length&&J.p(L,H),L[0].wall_adjacent?j||(j=L_(),j.c(),j.m(r.parentNode,r)):j&&(j.d(1),j=null),(!G||H&1)&&u!==(u=L[0].melee_allowed?"Yes":"No")&&W(c,u),(!G||H&1)&&T!==(T=L[0].unarmed_allowed?"Yes":"No")&&W(y,T),(!G||H&1)&&N!==(N=(z=L[0].unarmed_weapons_allowed)==null||z?"Yes":"No")&&W(R,N)},i(L){if(!G){for(let H=0;H<M.length;H+=1)b(X[H]);G=!0}},o(L){X=X.filter(Boolean);for(let H=0;H<X.length;H+=1)k(X[H]);G=!1},d(L){L&&p(e),L&&p(n),L&&p(t),ce(X,L),D&&D.d(),L&&p(l),J&&J.d(L),L&&p(o),j&&j.d(L),L&&p(r),L&&p(f),L&&p(a),L&&p(s),L&&p(m),L&&p($),L&&p(v),L&&p(E),L&&p(S),L&&p(I),L&&p(B),L&&p(O)}}}function vy(i,e,n){var r;let{item:t}=e,{buffMap:l=new Map}=e;const o=typeof t.req_buffs=="string"?[t.req_buffs]:(r=t.req_buffs)!=null?r:[];return i.$$set=f=>{"item"in f&&n(0,t=f.item),"buffMap"in f&&n(1,l=f.buffMap)},[t,l,o]}class Hp extends Ve{constructor(e){super(),ze(this,e,vy,$y,He,{item:0,buffMap:1})}}function G_(i){let e,n,t;function l(f,a){if(f[1].weighting>1)return yy;if(f[1].weighting<-1)return ky}let o=l(i),r=o&&o(i);return{c(){e=g("dt"),e.textContent="Chance to Activate",n=g("dd"),r&&r.c(),t=C()},m(f,a){h(f,e,a),h(f,n,a),r&&r.m(n,null),d(n,t)},p(f,a){o===(o=l(f))&&r?r.p(f,a):(r&&r.d(1),r=o&&o(f),r&&(r.c(),r.m(n,t)))},d(f){f&&p(e),f&&p(n),r&&r.d()}}}function ky(i){let e,n=Math.abs(i[1].weighting)+"",t;return{c(){e=w("1/"),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o&2&&n!==(n=Math.abs(l[1].weighting)+"")&&W(t,n)},d(l){l&&p(e),l&&p(t)}}}function yy(i){let e,n=((i[1].weighting-1)*100).toFixed(0)+"",t,l;return{c(){e=w("+"),t=w(n),l=w("%")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p(o,r){r&2&&n!==(n=((o[1].weighting-1)*100).toFixed(0)+"")&&W(t,n)},d(o){o&&p(e),o&&p(t),o&&p(l)}}}function wy(i){let e,n;return{c(){e=g("dt"),e.textContent="Target Requirements",n=g("dd"),n.textContent=`${i[4].join(", ")} 
      `},m(t,l){h(t,e,l),h(t,n,l)},p:Z,d(t){t&&p(e),t&&p(n)}}}function U_(i){let e,n,t=i[1].aoe+"",l;return{c(){e=g("dt"),e.textContent="AoE Shape",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&2&&t!==(t=o[1].aoe+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function q_(i){let e,n,t=i[1].stun_dur+"",l;return{c(){e=g("dt"),e.textContent="Stun Duration",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&2&&t!==(t=o[1].stun_dur+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function P_(i){let e,n,t=i[1].down_dur+"",l;return{c(){e=g("dt"),e.textContent="Down Duration",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&2&&t!==(t=o[1].down_dur+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function F_(i){let e,n,t=i[1].knockback_dist+"",l;return{c(){e=g("dt"),e.textContent="Knockback Distance",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&2&&t!==(t=o[1].knockback_dist+"")&&W(l,t)},d(o){o&&p(e),o&&p(n)}}}function Y_(i){let e,n=i[1].description+"",t;return{c(){e=g("p"),t=w(n),Je(e,"color","var(--cata-color-gray)")},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&2&&n!==(n=l[1].description+"")&&W(t,n)},d(l){l&&p(e)}}}function Ey(i){let e,n,t,l,o;return l=new ft({props:{items:i[2],limit:20,$$slots:{default:[Ty,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Weapons",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&66&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function Ty(i){let e,n;return e=new ae({props:{type:"item",id:i[1].id}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.id=t[1].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Sy(i){let e,n,t,l=i[1].name+"",o,r,f,a,s,u,c,m,$=i[1].crit_ok?"Yes":i[1].crit_tec?"Only":"No",v,E,T,y,S,I,B,O,N,R,G,M,X,A=JSON.stringify(i[1],null,2)+"",D,J,j,U;u=new Hp({props:{item:i[1],buffMap:i[0]}});let Y=i[1].weighting&&i[1].weighting!==1&&G_(i),L=i[4].length&&wy(i),H=i[1].aoe&&U_(i);S=new jp({props:{item:i[1]}});let le=i[1].stun_dur&&q_(i),z=i[1].down_dur&&P_(i),Q=i[1].knockback_dist&&F_(i),K=i[1].description&&Y_(i),oe=i[2].length&&Ey(i);return{c(){e=g("section"),n=g("h1"),t=w("Technique: "),o=w(l),r=C(),f=g("dl"),a=g("dt"),a.textContent="Type",s=g("dd"),s.textContent=`${i[3]}`,F(u.$$.fragment),c=g("dt"),c.textContent="Activate on Crit?",m=g("dd"),v=w($),Y&&Y.c(),E=ie(),L&&L.c(),T=ie(),H&&H.c(),y=ie(),F(S.$$.fragment),le&&le.c(),I=ie(),z&&z.c(),B=ie(),Q&&Q.c(),O=C(),K&&K.c(),N=C(),R=g("details"),G=g("summary"),G.textContent="Technique JSON",M=C(),X=g("pre"),D=w(A),J=C(),oe&&oe.c(),j=ie()},m(V,te){h(V,e,te),d(e,n),d(n,t),d(n,o),d(e,r),d(e,f),d(f,a),d(f,s),q(u,f,null),d(f,c),d(f,m),d(m,v),Y&&Y.m(f,null),d(f,E),L&&L.m(f,null),d(f,T),H&&H.m(f,null),d(f,y),q(S,f,null),le&&le.m(f,null),d(f,I),z&&z.m(f,null),d(f,B),Q&&Q.m(f,null),d(e,O),K&&K.m(e,null),d(e,N),d(e,R),d(R,G),d(R,M),d(R,X),d(X,D),h(V,J,te),oe&&oe.m(V,te),h(V,j,te),U=!0},p(V,[te]){(!U||te&2)&&l!==(l=V[1].name+"")&&W(o,l);const _e={};te&2&&(_e.item=V[1]),te&1&&(_e.buffMap=V[0]),u.$set(_e),(!U||te&2)&&$!==($=V[1].crit_ok?"Yes":V[1].crit_tec?"Only":"No")&&W(v,$),V[1].weighting&&V[1].weighting!==1?Y?Y.p(V,te):(Y=G_(V),Y.c(),Y.m(f,E)):Y&&(Y.d(1),Y=null),V[4].length&&L.p(V,te),V[1].aoe?H?H.p(V,te):(H=U_(V),H.c(),H.m(f,y)):H&&(H.d(1),H=null);const Ge={};te&2&&(Ge.item=V[1]),S.$set(Ge),V[1].stun_dur?le?le.p(V,te):(le=q_(V),le.c(),le.m(f,I)):le&&(le.d(1),le=null),V[1].down_dur?z?z.p(V,te):(z=P_(V),z.c(),z.m(f,B)):z&&(z.d(1),z=null),V[1].knockback_dist?Q?Q.p(V,te):(Q=F_(V),Q.c(),Q.m(f,null)):Q&&(Q.d(1),Q=null),V[1].description?K?K.p(V,te):(K=Y_(V),K.c(),K.m(e,N)):K&&(K.d(1),K=null),(!U||te&2)&&A!==(A=JSON.stringify(V[1],null,2)+"")&&W(D,A),V[2].length&&oe.p(V,te)},i(V){U||(b(u.$$.fragment,V),b(S.$$.fragment,V),b(oe),U=!0)},o(V){k(u.$$.fragment,V),k(S.$$.fragment,V),k(oe),U=!1},d(V){V&&p(e),P(u),Y&&Y.d(),L&&L.d(),H&&H.d(),P(S),le&&le.d(),z&&z.d(),Q&&Q.d(),K&&K.d(),V&&p(J),oe&&oe.d(V),V&&p(j)}}}function Cy(i,e,n){let{item:t}=e,{buffMap:l=new Map}=e;const r=xe("data").byType("item").filter(s=>{var u;return s.id&&((u=s.techniques)!=null?u:[]).includes(t.id)}).sort((s,u)=>s.id.localeCompare(u.id)),f=t.block_counter?"Block Counter":t.dodge_counter?"Dodge Counter":t.miss_recovery?"Miss Recovery":t.grab_break?"Grab Break":t.defensive?"Defensive":"Offensive",a=[];return t.human_target&&a.push("humanoid"),t.downed_target&&a.push("downed"),t.stunned_target&&a.push("stunned"),i.$$set=s=>{"item"in s&&n(1,t=s.item),"buffMap"in s&&n(0,l=s.buffMap)},[l,t,r,f,a]}class Iy extends Ve{constructor(e){super(),ze(this,e,Cy,Sy,He,{item:1,buffMap:0})}}function j_(i,e,n){const t=i.slice();return t[6]=e[n],t}function H_(i,e,n){const t=i.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function W_(i,e,n){const t=i.slice();return t[13]=e[n],t}function z_(i,e,n){const t=i.slice();return t[16]=e[n],t}function V_(i,e,n){const t=i.slice();return t[19]=e[n],t}function X_(i,e,n){const t=i.slice();return t[22]=e[n][0],t[23]=e[n][1],t}function J_(i){var v,E,T;let e,n,t,l,o,r,f,a=i[0].learn_difficulty!=null&&K_(i),s=((v=i[0].autolearn)==null?void 0:v.length)&&Q_(i),u=i[2].length&&Ry(i),c=i[0].weapon_category&&td(i),m=(((E=i[0].arm_block)!=null?E:99)!=99||i[0].arm_block_with_bio_armor_arms)&&ld(i),$=(((T=i[0].leg_block)!=null?T:99)!==99||i[0].leg_block_with_bio_armor_legs)&&id(i);return{c(){e=g("dl"),a&&a.c(),n=ie(),s&&s.c(),t=ie(),u&&u.c(),l=ie(),c&&c.c(),o=ie(),m&&m.c(),r=ie(),$&&$.c()},m(y,S){h(y,e,S),a&&a.m(e,null),d(e,n),s&&s.m(e,null),d(e,t),u&&u.m(e,null),d(e,l),c&&c.m(e,null),d(e,o),m&&m.m(e,null),d(e,r),$&&$.m(e,null),f=!0},p(y,S){var I,B,O;y[0].learn_difficulty!=null?a?a.p(y,S):(a=K_(y),a.c(),a.m(e,n)):a&&(a.d(1),a=null),(I=y[0].autolearn)!=null&&I.length?s?(s.p(y,S),S&1&&b(s,1)):(s=Q_(y),s.c(),b(s,1),s.m(e,t)):s&&(x(),k(s,1,1,()=>{s=null}),ee()),y[2].length&&u.p(y,S),y[0].weapon_category?c?(c.p(y,S),S&1&&b(c,1)):(c=td(y),c.c(),b(c,1),c.m(e,o)):c&&(x(),k(c,1,1,()=>{c=null}),ee()),((B=y[0].arm_block)!=null?B:99)!=99||y[0].arm_block_with_bio_armor_arms?m?(m.p(y,S),S&1&&b(m,1)):(m=ld(y),m.c(),b(m,1),m.m(e,r)):m&&(x(),k(m,1,1,()=>{m=null}),ee()),((O=y[0].leg_block)!=null?O:99)!==99||y[0].leg_block_with_bio_armor_legs?$?($.p(y,S),S&1&&b($,1)):($=id(y),$.c(),b($,1),$.m(e,null)):$&&(x(),k($,1,1,()=>{$=null}),ee())},i(y){f||(b(s),b(u),b(c),b(m),b($),f=!0)},o(y){k(s),k(u),k(c),k(m),k($),f=!1},d(y){y&&p(e),a&&a.d(),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d(),$&&$.d()}}}function K_(i){let e,n,t=i[0].learn_difficulty+"",l,o,r=ud(i[0].learn_difficulty)+"",f,a;return{c(){e=g("dt"),e.textContent="Difficulty to Learn",n=g("dd"),l=w(t),o=w(" ("),f=w(r),a=w(`)
        `)},m(s,u){h(s,e,u),h(s,n,u),d(n,l),d(n,o),d(n,f),d(n,a)},p(s,u){u&1&&t!==(t=s[0].learn_difficulty+"")&&W(l,t),u&1&&r!==(r=ud(s[0].learn_difficulty)+"")&&W(f,r)},d(s){s&&p(e),s&&p(n)}}}function Q_(i){let e,n,t,l,o=i[0].autolearn&&Z_(i);return{c(){e=g("dt"),e.textContent=`Autolearn
        `,n=g("dd"),o&&o.c(),t=C(),ue(e,"title","Learned at these skill levels, otherwise only learnable from a book")},m(r,f){h(r,e,f),h(r,n,f),o&&o.m(n,null),d(n,t),l=!0},p(r,f){r[0].autolearn?o?(o.p(r,f),f&1&&b(o,1)):(o=Z_(r),o.c(),b(o,1),o.m(n,t)):o&&(x(),k(o,1,1,()=>{o=null}),ee())},i(r){l||(b(o),l=!0)},o(r){k(o),l=!1},d(r){r&&p(e),r&&p(n),o&&o.d()}}}function Z_(i){let e,n,t=i[0].autolearn,l=[];for(let r=0;r<t.length;r+=1)l[r]=x_(X_(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c();ue(e,"class","comma-separated")},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const s=X_(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=x_(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ce(l,r)}}}function x_(i){let e,n,t,l=i[23]+"",o,r,f;return n=new ae({props:{type:"skill",id:i[22]}}),{c(){e=g("li"),F(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(a,s){h(a,e,s),q(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(a,s){const u={};s&1&&(u.id=a[22]),n.$set(u),(!f||s&1)&&l!==(l=a[23]+"")&&W(o,l)},i(a){f||(b(n.$$.fragment,a),f=!0)},o(a){k(n.$$.fragment,a),f=!1},d(a){a&&p(e),P(n)}}}function Ry(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=ed(V_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Found In",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=V_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ed(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function ed(i){let e,n,t;return n=new ae({props:{type:"item",id:i[19].id}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function td(i){let e,n,t,l,o,r=i[0].weapon_category,f=[];for(let s=0;s<r.length;s+=1)f[s]=nd(z_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Weapon Category",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const m=z_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=nd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function nd(i){let e,n,t;return n=new ae({props:{type:"weapon_category",id:i[16]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[16]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function ld(i){let e,n,t,l,o,r;const f=[Oy,Ny],a=[];function s(u,c){return u[0].arm_block_with_bio_armor_arms?0:1}return t=s(i),l=a[t]=f[t](i),{c(){e=g("dt"),e.textContent="Arm Block",n=g("dd"),l.c(),o=C()},m(u,c){h(u,e,c),h(u,n,c),a[t].m(n,null),d(n,o),r=!0},p(u,c){let m=t;t=s(u),t===m?a[t].p(u,c):(x(),k(a[m],1,1,()=>{a[m]=null}),ee(),l=a[t],l?l.p(u,c):(l=a[t]=f[t](u),l.c()),b(l,1),l.m(n,o))},i(u){r||(b(l),r=!0)},o(u){k(l),r=!1},d(u){u&&p(e),u&&p(n),a[t].d()}}}function Ny(i){let e,n,t=i[0].arm_block+"",l,o,r;return e=new ae({props:{type:"skill",id:"unarmed"}}),{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(f,a){q(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){(!r||a&1)&&t!==(t=f[0].arm_block+"")&&W(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){P(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function Oy(i){let e,n,t;return n=new ae({props:{type:"item",id:"bio_armor_arms"}}),{c(){e=w("with "),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,l,o),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n,l)}}}function id(i){let e,n,t,l,o;const r=[Ay,By],f=[];function a(s,u){return s[0].leg_block_with_bio_armor_legs?0:1}return t=a(i),l=f[t]=r[t](i),{c(){e=g("dt"),e.textContent="Leg Block",n=g("dd"),l.c()},m(s,u){h(s,e,u),h(s,n,u),f[t].m(n,null),o=!0},p(s,u){let c=t;t=a(s),t===c?f[t].p(s,u):(x(),k(f[c],1,1,()=>{f[c]=null}),ee(),l=f[t],l?l.p(s,u):(l=f[t]=r[t](s),l.c()),b(l,1),l.m(n,null))},i(s){o||(b(l),o=!0)},o(s){k(l),o=!1},d(s){s&&p(e),s&&p(n),f[t].d()}}}function By(i){let e,n,t=i[0].leg_block+"",l,o,r;return e=new ae({props:{type:"skill",id:"unarmed"}}),{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(f,a){q(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){(!r||a&1)&&t!==(t=f[0].leg_block+"")&&W(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){P(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function Ay(i){let e,n,t;return n=new ae({props:{type:"item",id:"bio_armor_legs"}}),{c(){e=w("with "),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,l,o),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n,l)}}}function rd(i){let e,n,t,l,o;return l=new ft({props:{items:[...i[0].weapons].sort(i[5]),$$slots:{default:[My,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Weapons",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&1&&(a.items=[...r[0].weapons].sort(r[5])),f&67108865&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function My(i){let e,n;return e=new ae({props:{id:i[0],type:"item"}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Dy(i){let e,n,t=i[13].buff_duration+"",l;return{c(){e=g("dt"),e.textContent="Duration",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function Ly(i){let e,n,t=i[13].max_stacks+"",l;return{c(){e=g("dt"),e.textContent="Max Stacks",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function Gy(i){let e,n,t=i[13].bonus_dodges+"",l;return{c(){e=g("dt"),e.textContent="Bonus Dodges",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function Uy(i){let e,n,t=i[13].bonus_blocks+"",l;return{c(){e=g("dt"),e.textContent="Bonus Blocks",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:Z,d(o){o&&p(e),o&&p(n)}}}function qy(i){let e,n;return{c(){e=g("dt"),e.textContent="Silent",n=g("dd"),n.textContent="Yes",ue(e,"title","Attacks will be completely silent")},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function Py(i){let e,n;return{c(){e=g("dt"),e.textContent="Stealthy",n=g("dd"),n.textContent="Yes",ue(e,"title","Movement will make less noise")},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function Fy(i){let e,n;return{c(){e=g("dt"),e.textContent="Throw Immune",n=g("dd"),n.textContent="Yes",ue(e,"title","Immune to throws/grabs")},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function Yy(i){let e,n=i[13].description+"",t;return{c(){e=g("p"),t=w(n),Je(e,"color","var(--cata-color-gray)"),Je(e,"white-space","pre-wrap")},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function od(i){let e,n,t=i[9]+"",l,o,r=i[13].name+"",f,a,s,u,c,m,$,v,E,T,y,S,I;u=new Hp({props:{item:i[13],buffMap:i[4]}}),c=new jp({props:{item:i[13]}});let B=i[13].buff_duration&&Dy(i),O=i[13].max_stacks&&Ly(i),N=i[13].bonus_dodges&&Gy(i),R=i[13].bonus_blocks&&Uy(i),G=i[13].quiet&&qy(),M=i[13].stealthy&&Py(),X=i[13].throw_immune&&Fy(),A=i[13].description&&Yy(i);return{c(){e=g("section"),n=g("h1"),l=w(t),o=w(": "),f=w(r),a=C(),s=g("dl"),F(u.$$.fragment),F(c.$$.fragment),B&&B.c(),m=ie(),O&&O.c(),$=ie(),N&&N.c(),v=ie(),R&&R.c(),E=ie(),G&&G.c(),T=ie(),M&&M.c(),y=ie(),X&&X.c(),S=C(),A&&A.c()},m(D,J){h(D,e,J),d(e,n),d(n,l),d(n,o),d(n,f),d(e,a),d(e,s),q(u,s,null),q(c,s,null),B&&B.m(s,null),d(s,m),O&&O.m(s,null),d(s,$),N&&N.m(s,null),d(s,v),R&&R.m(s,null),d(s,E),G&&G.m(s,null),d(s,T),M&&M.m(s,null),d(s,y),X&&X.m(s,null),d(e,S),A&&A.m(e,null),I=!0},p(D,J){D[13].buff_duration&&B.p(D,J),D[13].max_stacks&&O.p(D,J),D[13].bonus_dodges&&N.p(D,J),D[13].bonus_blocks&&R.p(D,J),D[13].description&&A.p(D,J)},i(D){I||(b(u.$$.fragment,D),b(c.$$.fragment,D),I=!0)},o(D){k(u.$$.fragment,D),k(c.$$.fragment,D),I=!1},d(D){D&&p(e),P(u),P(c),B&&B.d(),O&&O.d(),N&&N.d(),R&&R.d(),G&&G.d(),M&&M.d(),X&&X.d(),A&&A.d()}}}function fd(i){let e,n,t=i[10],l=[];for(let r=0;r<t.length;r+=1)l[r]=od(W_(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f&24){t=r[10];let a;for(a=0;a<t.length;a+=1){const s=W_(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=od(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ce(l,r),r&&p(e)}}}function sd(i){let e,n,t,l,o=i[0].techniques,r=[];for(let a=0;a<o.length;a+=1)r[a]=ad(j_(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("h1"),e.textContent="Techniques",n=C();for(let a=0;a<r.length;a+=1)r[a].c();t=ie()},m(a,s){h(a,e,s),h(a,n,s);for(let u=0;u<r.length;u+=1)r[u].m(a,s);h(a,t,s),l=!0},p(a,s){if(s&19){o=a[0].techniques;let u;for(u=0;u<o.length;u+=1){const c=j_(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=ad(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a),a&&p(t)}}}function ad(i){let e,n;return e=new Iy({props:{item:i[1].byId("technique",i[6]),buffMap:i[4]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.item=t[1].byId("technique",t[6])),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function jy(i){var X,A,D,J,j;let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u,c=i[0].description+"",m,$,v,E,T,y,S,I,B=(i[0].learn_difficulty!=null||((X=i[0].autolearn)==null?void 0:X.length)||((A=i[0].arm_block)!=null?A:99)!==99||((D=i[0].leg_block)!=null?D:99)!==99||i[0].arm_block_with_bio_armor_arms||i[0].leg_block_with_bio_armor_legs||i[2].length)&&J_(i),O=((J=i[0].weapons)==null?void 0:J.length)&&rd(i),N=i[3],R=[];for(let U=0;U<N.length;U+=1)R[U]=fd(H_(i,N,U));const G=U=>k(R[U],1,1,()=>{R[U]=null});let M=((j=i[0].techniques)==null?void 0:j.length)&&sd(i);return{c(){e=g("h1"),n=w("Martial Art: "),l=w(t),o=C(),r=g("section"),f=g("h1"),f.textContent="General",a=C(),B&&B.c(),s=C(),u=g("p"),m=w(c),$=C(),O&&O.c(),v=C(),E=g("h1"),E.textContent="Buffs",T=C();for(let U=0;U<R.length;U+=1)R[U].c();y=C(),M&&M.c(),S=ie(),Je(u,"color","var(--cata-color-gray)")},m(U,Y){h(U,e,Y),d(e,n),d(e,l),h(U,o,Y),h(U,r,Y),d(r,f),d(r,a),B&&B.m(r,null),d(r,s),d(r,u),d(u,m),h(U,$,Y),O&&O.m(U,Y),h(U,v,Y),h(U,E,Y),h(U,T,Y);for(let L=0;L<R.length;L+=1)R[L].m(U,Y);h(U,y,Y),M&&M.m(U,Y),h(U,S,Y),I=!0},p(U,[Y]){var L,H,le,z,Q;if((!I||Y&1)&&t!==(t=ge(U[0])+"")&&W(l,t),U[0].learn_difficulty!=null||((L=U[0].autolearn)==null?void 0:L.length)||((H=U[0].arm_block)!=null?H:99)!==99||((le=U[0].leg_block)!=null?le:99)!==99||U[0].arm_block_with_bio_armor_arms||U[0].leg_block_with_bio_armor_legs||U[2].length?B?(B.p(U,Y),Y&1&&b(B,1)):(B=J_(U),B.c(),b(B,1),B.m(r,s)):B&&(x(),k(B,1,1,()=>{B=null}),ee()),(!I||Y&1)&&c!==(c=U[0].description+"")&&W(m,c),(z=U[0].weapons)!=null&&z.length?O?(O.p(U,Y),Y&1&&b(O,1)):(O=rd(U),O.c(),b(O,1),O.m(v.parentNode,v)):O&&(x(),k(O,1,1,()=>{O=null}),ee()),Y&24){N=U[3];let K;for(K=0;K<N.length;K+=1){const oe=H_(U,N,K);R[K]?(R[K].p(oe,Y),b(R[K],1)):(R[K]=fd(oe),R[K].c(),b(R[K],1),R[K].m(y.parentNode,y))}for(x(),K=N.length;K<R.length;K+=1)G(K);ee()}(Q=U[0].techniques)!=null&&Q.length?M?(M.p(U,Y),Y&1&&b(M,1)):(M=sd(U),M.c(),b(M,1),M.m(S.parentNode,S)):M&&(x(),k(M,1,1,()=>{M=null}),ee())},i(U){if(!I){b(B),b(O);for(let Y=0;Y<N.length;Y+=1)b(R[Y]);b(M),I=!0}},o(U){k(B),k(O),R=R.filter(Boolean);for(let Y=0;Y<R.length;Y+=1)k(R[Y]);k(M),I=!1},d(U){U&&p(e),U&&p(o),U&&p(r),B&&B.d(),U&&p($),O&&O.d(U),U&&p(v),U&&p(E),U&&p(T),ce(R,U),U&&p(y),M&&M.d(U),U&&p(S)}}}function ud(i){return i<=2?"easy":i<=4?"moderately hard":i<=6?"hard":i<=8?"very hard":"extremely hard"}function Hy(i,e,n){var s,u,c,m,$,v,E,T,y,S,I;const t=xe("data");let{item:l}=e;const o=t.byType("item").filter(B=>B.type==="BOOK"&&B.martial_art===l.id),r=[["Passive",(s=l.static_buffs)!=null?s:[]],["Move",(u=l.onmove_buffs)!=null?u:[]],["Pause",(c=l.onpause_buffs)!=null?c:[]],["Hit",(m=l.onhit_buffs)!=null?m:[]],["Miss",($=l.onmiss_buffs)!=null?$:[]],["Attack",(v=l.onattack_buffs)!=null?v:[]],["Crit",(E=l.oncrit_buffs)!=null?E:[]],["Kill",(T=l.onkill_buffs)!=null?T:[]],["Dodge",(y=l.ondodge_buffs)!=null?y:[]],["Block",(S=l.onblock_buffs)!=null?S:[]],["Get hit",(I=l.ongethit_buffs)!=null?I:[]]],f=new Map(r.flatMap(B=>B[1]).map(B=>[B.id,B])),a=(B,O)=>ge(t.byId("item",B)).localeCompare(ge(t.byId("item",O)));return i.$$set=B=>{"item"in B&&n(0,l=B.item)},[l,t,o,r,f,a]}class Wy extends Ve{constructor(e){super(),ze(this,e,Hy,jy,He,{item:0})}}function zy(i){let e;const n=i[5].default,t=Cp(n,i,i[4],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&16)&&Np(t,n,l,l[4],e?Rp(n,l[4],o,null):Op(l[4]),null)},i(l){e||(b(t,l),e=!0)},o(l){k(t,l),e=!1},d(l){t&&t.d(l)}}}function Vy(i){let e,n,t=i[1].message+"",l,o,r,f,a=(i[2]?i[1].stack:"")+"",s,u;return{c(){e=g("div"),n=g("b"),l=w(t),o=C(),r=g("pre"),f=w("      "),s=w(a),u=w(`
    `),ue(r,"class","trace svelte-1nrekyi"),ue(e,"class","error svelte-1nrekyi")},m(c,m){h(c,e,m),d(e,n),d(n,l),d(e,o),d(e,r),d(r,f),d(r,s),d(r,u)},p(c,m){m&2&&t!==(t=c[1].message+"")&&W(l,t),m&2&&a!==(a=(c[2]?c[1].stack:"")+"")&&W(s,a)},i:Z,o:Z,d(c){c&&p(e)}}}function Xy(i){let e,n,t,l;const o=[Vy,zy],r=[];function f(a,s){return a[1]?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Jy(i,e,n){let t,l=Z,o=()=>(l(),l=Tp(a,m=>n(1,t=m)),a);i.$$.on_destroy.push(()=>l());let{$$slots:r={},$$scope:f}=e,{error:a=null}=e;o();let{onError:s=null}=e,c=(typeof process!="undefined"&&process.env&&"production")!=="production";return i.$$set=m=>{"error"in m&&o(n(0,a=m.error)),"onError"in m&&n(3,s=m.onError),"$$scope"in m&&n(4,f=m.$$scope)},i.$$.update=()=>{i.$$.dirty&10&&t&&s&&s(t)},[a,t,c,s,f,r]}class Ky extends Ve{constructor(e){super(),ze(this,e,Jy,Xy,He,{error:0,onError:3})}}const Qy=["c","l","h","m","p","a","i","o","d"];function Zy(i){if(i.$$render){let n=i.$$render;return i.$$render=(t,l,o,r)=>{const f=Ni(void 0);try{return n(t,{error:f,...l},o,r)}catch(a){return f.set(a),n(t,{error:f,...l},o,{})}},i}function e(n,t){return function(...o){try{return n(...o)}catch(r){t(r)}}}return class extends i{constructor(t){const l=Ni(void 0);t.props.$$slots.default=t.props.$$slots.default.map(o=>(...r)=>{let a=e(o,l.set)(...r);if(a)for(let s of Qy)a[s]&&(a[s]=e(a[s],l.set));return a}),super(t),this.$$set({error:l})}}}const xy=Zy(Ky);function cd(i,e,n){const t=i.slice();return t[4]=e[n],t}function _d(i,e,n){const t=i.slice();return t[4]=e[n],t}function dd(i,e,n){const t=i.slice();return t[9]=e[n],t}function md(i,e,n){const t=i.slice();return t[9]=e[n],t}function pd(i,e,n){const t=i.slice();return t[9]=e[n],t}function hd(i,e,n){const t=i.slice();return t[16]=e[n],t}function gd(i,e,n){const t=i.slice();return t[16]=e[n],t}function bd(i,e,n){const t=i.slice();return t[16]=e[n],t}function $d(i,e,n){const t=i.slice();return t[23]=e[n],t}function vd(i,e,n){const t=i.slice();return t[26]=e[n],t}function kd(i){let e;return{c(){e=w("Threshold ")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function yd(i){let e,n,t,l,o,r=i[0].category,f=[];for(let s=0;s<r.length;s+=1)f[s]=wd(vd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Category",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].category;let c;for(c=0;c<r.length;c+=1){const m=vd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=wd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function wd(i){let e,n,t;return n=new ae({props:{type:"mutation_category",id:i[26]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[26]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Ed(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ew(i){let e;return{c(){e=g("em"),e.textContent="None"},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function tw(i){let e,n,t=i[0].types,l=[];for(let r=0;r<t.length;r+=1)l[r]=Td($d(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c();ue(e,"class","comma-separated")},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f&1){t=r[0].types;let a;for(a=0;a<t.length;a+=1){const s=$d(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Td(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ce(l,r)}}}function Td(i){let e,n,t;return n=new ae({props:{type:"mutation_type",id:i[23]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[23]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function nw(i){let e;return{c(){e=g("em"),e.textContent="None"},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function lw(i){let e,n,t,l,o,r=i[0].prereqs,f=[];for(let u=0;u<r.length;u+=1)f[u]=Sd(bd(i,r,u));const a=u=>k(f[u],1,1,()=>{f[u]=null});let s=i[0].prereqs2&&Cd(i);return{c(){e=g("ul"),n=g("li"),t=g("ul");for(let u=0;u<f.length;u+=1)f[u].c();l=C(),s&&s.c(),ue(t,"class","comma-separated or")},m(u,c){h(u,e,c),d(e,n),d(n,t);for(let m=0;m<f.length;m+=1)f[m].m(t,null);d(e,l),s&&s.m(e,null),o=!0},p(u,c){if(c&1){r=u[0].prereqs;let m;for(m=0;m<r.length;m+=1){const $=bd(u,r,m);f[m]?(f[m].p($,c),b(f[m],1)):(f[m]=Sd($),f[m].c(),b(f[m],1),f[m].m(t,null))}for(x(),m=r.length;m<f.length;m+=1)a(m);ee()}u[0].prereqs2?s?(s.p(u,c),c&1&&b(s,1)):(s=Cd(u),s.c(),b(s,1),s.m(e,null)):s&&(x(),k(s,1,1,()=>{s=null}),ee())},i(u){if(!o){for(let c=0;c<r.length;c+=1)b(f[c]);b(s),o=!0}},o(u){f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)k(f[c]);k(s),o=!1},d(u){u&&p(e),ce(f,u),s&&s.d()}}}function Sd(i){let e,n,t;return n=new ae({props:{type:"mutation",id:i[16]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[16]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Cd(i){let e,n,t,l=i[0].prereqs2,o=[];for(let f=0;f<l.length;f+=1)o[f]=Id(gd(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li"),n=g("ul");for(let f=0;f<o.length;f+=1)o[f].c();ue(n,"class","comma-separated or")},m(f,a){h(f,e,a),d(e,n);for(let s=0;s<o.length;s+=1)o[s].m(n,null);t=!0},p(f,a){if(a&1){l=f[0].prereqs2;let s;for(s=0;s<l.length;s+=1){const u=gd(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Id(u),o[s].c(),b(o[s],1),o[s].m(n,null))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ce(o,f)}}}function Id(i){let e,n,t;return n=new ae({props:{type:"mutation",id:i[16]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[16]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Rd(i){let e,n,t,l,o,r=i[0].threshreq,f=[];for(let s=0;s<r.length;s+=1)f[s]=Nd(hd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Threshold Requirement",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated or")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].threshreq;let c;for(c=0;c<r.length;c+=1){const m=hd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Nd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Nd(i){let e,n,t;return n=new ae({props:{type:"mutation",id:i[16]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[16]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Od(i){let e,n,t,l,o,r=i[0].leads_to,f=[];for(let s=0;s<r.length;s+=1)f[s]=Bd(pd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Leads To",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].leads_to;let c;for(c=0;c<r.length;c+=1){const m=pd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Bd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Bd(i){let e,n,t;return n=new ae({props:{id:i[9],type:"mutation"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[9]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Ad(i){let e,n,t,l,o,r=i[0].changes_to,f=[];for(let s=0;s<r.length;s+=1)f[s]=Md(md(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Changes To",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].changes_to;let c;for(c=0;c<r.length;c+=1){const m=md(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Md(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Md(i){let e,n,t;return n=new ae({props:{id:i[9],type:"mutation"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[9]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Dd(i){let e,n,t,l,o=i[0].cancels,r=[];for(let a=0;a<o.length;a+=1)r[a]=Ld(dd(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Conflicts With",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ue(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&1){o=a[0].cancels;let u;for(u=0;u<o.length;u+=1){const c=dd(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Ld(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function Ld(i){let e,n,t;return n=new ae({props:{id:i[9],type:"mutation"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[9]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Gd(i){let e,n,t,l,o,r=i[1],f=[];for(let s=0;s<r.length;s+=1)f[s]=Ud(_d(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Post-Threshold Mutations",t=C(),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&2){r=s[1];let c;for(c=0;c<r.length;c+=1){const m=_d(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ud(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ce(f,s)}}}function Ud(i){let e,n,t;return n=new ae({props:{id:i[4].id,type:"mutation"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function iw(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=qd(cd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Required By",t=C(),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=cd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=qd(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ce(f,s)}}}function qd(i){let e,n,t;return n=new ae({props:{id:i[4].id,type:"mutation"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function rw(i){var Ie;let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u=i[0].points+"",c,m,$,v,E,T,y,S,I,B,O,N,R,G,M,X,A,D,J=Jt(i[0].description)+"",j,U,Y,L,H,le=i[0].threshold&&kd(),z=i[0].category&&yd(i),Q=((Ie=i[0].types)==null?void 0:Ie.length)>1&&Ed();const K=[tw,ew],oe=[];function V(ke,Te){return ke[0].types?0:1}T=V(i),y=oe[T]=K[T](i);const te=[lw,nw],_e=[];function Ge(ke,Te){return ke[0].prereqs?0:1}O=Ge(i),N=_e[O]=te[O](i);let $e=i[0].threshreq&&Rd(i),me=i[0].leads_to&&Od(i),be=i[0].changes_to&&Ad(i),ve=i[0].cancels&&Dd(i),de=i[0].threshold&&i[1].length&&Gd(i),De=i[2].length&&iw(i);return{c(){e=g("h1"),le&&le.c(),n=w("Mutation: "),l=w(t),o=C(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Points",s=g("dd"),c=w(u),z&&z.c(),m=g("dt"),$=w("Type"),Q&&Q.c(),v=C(),E=g("dd"),y.c(),S=C(),I=g("dt"),I.textContent="Prerequisites",B=g("dd"),N.c(),R=C(),$e&&$e.c(),G=ie(),me&&me.c(),M=ie(),be&&be.c(),X=ie(),ve&&ve.c(),A=C(),D=g("p"),j=w(J),U=C(),de&&de.c(),Y=C(),De&&De.c(),L=ie(),ue(m,"title","You can't have two mutations that share a type."),Je(D,"color","var(--cata-color-gray)")},m(ke,Te){h(ke,e,Te),le&&le.m(e,null),d(e,n),d(e,l),h(ke,o,Te),h(ke,r,Te),d(r,f),d(f,a),d(f,s),d(s,c),z&&z.m(f,null),d(f,m),d(m,$),Q&&Q.m(m,null),d(m,v),d(f,E),oe[T].m(E,null),d(E,S),d(f,I),d(f,B),_e[O].m(B,null),d(B,R),$e&&$e.m(f,null),d(f,G),me&&me.m(f,null),d(f,M),be&&be.m(f,null),d(f,X),ve&&ve.m(f,null),d(r,A),d(r,D),d(D,j),h(ke,U,Te),de&&de.m(ke,Te),h(ke,Y,Te),De&&De.m(ke,Te),h(ke,L,Te),H=!0},p(ke,[Te]){var pe;ke[0].threshold?le||(le=kd(),le.c(),le.m(e,n)):le&&(le.d(1),le=null),(!H||Te&1)&&t!==(t=ge(ke[0])+"")&&W(l,t),(!H||Te&1)&&u!==(u=ke[0].points+"")&&W(c,u),ke[0].category?z?(z.p(ke,Te),Te&1&&b(z,1)):(z=yd(ke),z.c(),b(z,1),z.m(f,m)):z&&(x(),k(z,1,1,()=>{z=null}),ee()),((pe=ke[0].types)==null?void 0:pe.length)>1?Q||(Q=Ed(),Q.c(),Q.m(m,v)):Q&&(Q.d(1),Q=null);let rt=T;T=V(ke),T===rt?oe[T].p(ke,Te):(x(),k(oe[rt],1,1,()=>{oe[rt]=null}),ee(),y=oe[T],y?y.p(ke,Te):(y=oe[T]=K[T](ke),y.c()),b(y,1),y.m(E,S));let ye=O;O=Ge(ke),O===ye?_e[O].p(ke,Te):(x(),k(_e[ye],1,1,()=>{_e[ye]=null}),ee(),N=_e[O],N?N.p(ke,Te):(N=_e[O]=te[O](ke),N.c()),b(N,1),N.m(B,R)),ke[0].threshreq?$e?($e.p(ke,Te),Te&1&&b($e,1)):($e=Rd(ke),$e.c(),b($e,1),$e.m(f,G)):$e&&(x(),k($e,1,1,()=>{$e=null}),ee()),ke[0].leads_to?me?(me.p(ke,Te),Te&1&&b(me,1)):(me=Od(ke),me.c(),b(me,1),me.m(f,M)):me&&(x(),k(me,1,1,()=>{me=null}),ee()),ke[0].changes_to?be?(be.p(ke,Te),Te&1&&b(be,1)):(be=Ad(ke),be.c(),b(be,1),be.m(f,X)):be&&(x(),k(be,1,1,()=>{be=null}),ee()),ke[0].cancels?ve?(ve.p(ke,Te),Te&1&&b(ve,1)):(ve=Dd(ke),ve.c(),b(ve,1),ve.m(f,null)):ve&&(x(),k(ve,1,1,()=>{ve=null}),ee()),(!H||Te&1)&&J!==(J=Jt(ke[0].description)+"")&&W(j,J),ke[0].threshold&&ke[1].length?de?(de.p(ke,Te),Te&1&&b(de,1)):(de=Gd(ke),de.c(),b(de,1),de.m(Y.parentNode,Y)):de&&(x(),k(de,1,1,()=>{de=null}),ee()),ke[2].length&&De.p(ke,Te)},i(ke){H||(b(z),b(y),b(N),b($e),b(me),b(be),b(ve),b(de),b(De),H=!0)},o(ke){k(z),k(y),k(N),k($e),k(me),k(be),k(ve),k(de),k(De),H=!1},d(ke){ke&&p(e),le&&le.d(),ke&&p(o),ke&&p(r),z&&z.d(),Q&&Q.d(),oe[T].d(),_e[O].d(),$e&&$e.d(),me&&me.d(),be&&be.d(),ve&&ve.d(),ke&&p(U),de&&de.d(ke),ke&&p(Y),De&&De.d(ke),ke&&p(L)}}}function ow(i,e,n){let{item:t}=e,l=xe("data");const o=l.byType("mutation").filter(f=>{var a;return((a=f.threshreq)!=null?a:[]).includes(t.id)}).sort((f,a)=>ge(f).localeCompare(ge(a))),r=l.byType("mutation").filter(f=>{var a,s;return((a=f.prereqs)!=null?a:[]).includes(t.id)||((s=f.prereqs2)!=null?s:[]).includes(t.id)}).sort((f,a)=>ge(f).localeCompare(ge(a)));return i.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,o,r]}class fw extends Ve{constructor(e){super(),ze(this,e,ow,rw,He,{item:0})}}function wr(i,e){const n=[];let t=!0;const l=new Set(i),o=new Set;for(;l.size;){const f=l.values().next().value;if(r(f),!t)throw new Error("Not a DAG")}return n;function r(f){if(!!l.has(f)){if(o.has(f)){t=!1;return}o.add(f);for(const a of e(f))r(a);o.delete(f),l.delete(f),n.push(f)}}}function Pd(i,e,n){const t=i.slice();return t[7]=e[n],t}function Fd(i,e,n){const t=i.slice();return t[7]=e[n],t}function Yd(i){let e,n,t=ge(i[0])+"",l;return{c(){e=g("h1"),n=w("Mutation Category: "),l=w(t)},m(o,r){h(o,e,r),d(e,n),d(e,l)},p(o,r){r&1&&t!==(t=ge(o[0])+"")&&W(l,t)},d(o){o&&p(e)}}}function jd(i){let e,n=ge(i[0])+"",t;return{c(){e=g("h1"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=ge(l[0])+"")&&W(t,n)},d(l){l&&p(e)}}}function Hd(i){let e,n,t,l;return t=new ae({props:{id:i[0].threshold_mut,type:"mutation"}}),{c(){e=g("dt"),e.textContent="Threshold Mutation",n=g("dd"),F(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),q(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].threshold_mut),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),P(t)}}}function sw(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Wd(Fd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Pre-Threshold Mutations",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=Fd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Wd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Wd(i){let e,n,t;return n=new ae({props:{id:i[7].id,type:"mutation"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function aw(i){let e,n,t,l,o=i[3],r=[];for(let a=0;a<o.length;a+=1)r[a]=zd(Pd(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Post-Threshold Mutations",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=Pd(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=zd(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ce(r,a)}}}function zd(i){let e,n,t;return n=new ae({props:{id:i[7].id,type:"mutation"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function uw(i){let e,n,t,l,o,r,f,a=!i[1]&&Yd(i),s=i[1]&&jd(i),u=i[0].threshold_mut&&Hd(i),c=i[2].length&&sw(i),m=i[3].length&&aw(i);return{c(){a&&a.c(),e=C(),n=g("section"),s&&s.c(),t=C(),l=g("dl"),u&&u.c(),o=ie(),c&&c.c(),r=ie(),m&&m.c()},m($,v){a&&a.m($,v),h($,e,v),h($,n,v),s&&s.m(n,null),d(n,t),d(n,l),u&&u.m(l,null),d(l,o),c&&c.m(l,null),d(l,r),m&&m.m(l,null),f=!0},p($,[v]){$[1]?a&&(a.d(1),a=null):a?a.p($,v):(a=Yd($),a.c(),a.m(e.parentNode,e)),$[1]?s?s.p($,v):(s=jd($),s.c(),s.m(n,t)):s&&(s.d(1),s=null),$[0].threshold_mut?u?(u.p($,v),v&1&&b(u,1)):(u=Hd($),u.c(),b(u,1),u.m(l,o)):u&&(x(),k(u,1,1,()=>{u=null}),ee()),$[2].length&&c.p($,v),$[3].length&&m.p($,v)},i($){f||(b(u),b(c),b(m),f=!0)},o($){k(u),k(c),k(m),f=!1},d($){a&&a.d($),$&&p(e),$&&p(n),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d()}}}function cw(i,e,n){let t=xe("data"),{item:l}=e,{inCatalog:o=!1}=e;const r=t.byType("mutation").filter(u=>{var c;return((c=u.category)!=null?c:[]).includes(l.id)});r.sort((u,c)=>ge(u).localeCompare(ge(c)));const f=u=>{var c,m,$;return((c=u.prereqs)!=null?c:[]).concat((m=u.prereqs2)!=null?m:[]).concat(($=u.threshreq)!=null?$:[])},a=wr(r.filter(u=>!u.threshreq||u.threshreq.length===0),u=>f(u).map(c=>t.byId("mutation",c))),s=wr(r.filter(u=>!(!u.threshreq||u.threshreq.length===0)),u=>f(u).map(c=>t.byId("mutation",c)));return i.$$set=u=>{"item"in u&&n(0,l=u.item),"inCatalog"in u&&n(1,o=u.inCatalog)},[l,o,a,s]}class Wp extends Ve{constructor(e){super(),ze(this,e,cw,uw,He,{item:0,inCatalog:1})}}function Vd(i,e,n){const t=i.slice();return t[4]=e[n],t}function Xd(i){let e,n,t;return n=new ae({props:{id:i[4].id,type:"mutation"}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p:Z,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function _w(i){let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u,c,m=i[1],$=[];for(let E=0;E<m.length;E+=1)$[E]=Xd(Vd(i,m,E));const v=E=>k($[E],1,1,()=>{$[E]=null});return{c(){e=g("h1"),n=w("Mutation Type: "),l=w(t),o=C(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Mutations",s=g("dd"),u=g("ul");for(let E=0;E<$.length;E+=1)$[E].c()},m(E,T){h(E,e,T),d(e,n),d(e,l),h(E,o,T),h(E,r,T),d(r,f),d(f,a),d(f,s),d(s,u);for(let y=0;y<$.length;y+=1)$[y].m(u,null);c=!0},p(E,[T]){if((!c||T&1)&&t!==(t=ge(E[0])+"")&&W(l,t),T&2){m=E[1];let y;for(y=0;y<m.length;y+=1){const S=Vd(E,m,y);$[y]?($[y].p(S,T),b($[y],1)):($[y]=Xd(S),$[y].c(),b($[y],1),$[y].m(u,null))}for(x(),y=m.length;y<$.length;y+=1)v(y);ee()}},i(E){if(!c){for(let T=0;T<m.length;T+=1)b($[T]);c=!0}},o(E){$=$.filter(Boolean);for(let T=0;T<$.length;T+=1)k($[T]);c=!1},d(E){E&&p(e),E&&p(o),E&&p(r),ce($,E)}}}function dw(i,e,n){let{item:t}=e,l=xe("data");const o=f=>{var a,s,u;return((a=f.prereqs)!=null?a:[]).concat((s=f.prereqs2)!=null?s:[]).concat((u=f.threshreq)!=null?u:[])},r=wr(l.byType("mutation").filter(f=>{var a;return((a=f.types)!=null?a:[]).includes(t.id)}).sort((f,a)=>ge(f).localeCompare(ge(a))),f=>o(f).map(a=>l.byId("mutation",a)));return i.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,r]}class mw extends Ve{constructor(e){super(),ze(this,e,dw,_w,He,{item:0})}}function Jd(i,e,n){const t=i.slice();return t[21]=e[n],t}function Kd(i,e,n){const t=i.slice();return t[24]=e[n],t}function pw(i){let e=" ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},p:Z,d(t){t&&p(n)}}}function hw(i){let e,n=i[2](i[24].partId,i[24].variant)+"",t;return{c(){e=g("span"),t=w(n),ue(e,"title",`${i[24].partId}_${i[24].variant}`),ue(e,"class",`c_${i[3](i[24].partId)}`)},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function Qd(i){let e;function n(o,r){return o[24]?hw:pw}let l=n(i)(i);return{c(){l.c(),e=ie()},m(o,r){l.m(o,r),h(o,e,r)},p(o,r){l.p(o,r)},d(o){l.d(o),o&&p(e)}}}function Zd(i){let e=`
`,n,t=i[21],l=[];for(let o=0;o<t.length;o+=1)l[o]=Qd(Kd(i,t,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();n=w(e)},m(o,r){for(let f=0;f<l.length;f+=1)l[f].m(o,r);h(o,n,r)},p(o,r){if(r&28){t=o[21];let f;for(f=0;f<t.length;f+=1){const a=Kd(o,t,f);l[f]?l[f].p(a,r):(l[f]=Qd(a),l[f].c(),l[f].m(n.parentNode,n))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(o){ce(l,o),o&&p(n)}}}function gw(i){let e,n,t,l,o;return l=new ft({props:{items:i[6],$$slots:{default:[bw,({item:{id:r,count:f}})=>({19:r,20:f}),({item:r})=>(r?524288:0)|(r?1048576:0)]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Parts",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&135790592&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function bw(i){let e,n,t=i[20]+"",l,o,r;return e=new ae({props:{id:i[19],type:"vehicle_part"}}),{c(){F(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(f,a){q(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){const s={};a&524288&&(s.id=f[19]),e.$set(s),(!r||a&1048576)&&t!==(t=f[20]+"")&&W(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){P(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function $w(i){let e,n,t,l,o;return l=new ft({props:{items:i[5],$$slots:{default:[vw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Items",t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),q(l,e,null),o=!0},p(r,f){const a={};f&134217729&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(l)}}}function vw(i){let e,n,t,l,o=bl(i[0].prob)+"",r,f,a;return e=new Qe({props:{item:i[1].byId("item",i[0].id)}}),t=new ae({props:{id:i[0].id,type:"item"}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment),l=w(`
      (`),r=w(o),f=w(")")},m(s,u){q(e,s,u),h(s,n,u),q(t,s,u),h(s,l,u),h(s,r,u),h(s,f,u),a=!0},p(s,u){const c={};u&1&&(c.item=s[1].byId("item",s[0].id)),e.$set(c);const m={};u&1&&(m.id=s[0].id),t.$set(m),(!a||u&1)&&o!==(o=bl(s[0].prob)+"")&&W(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){P(e,s),s&&p(n),P(t,s),s&&p(l),s&&p(r),s&&p(f)}}}function kw(i){let e,n=ge(i[0])+"",t,l,o,r,f,a,s,u,c,m,$=i[4],v=[];for(let y=0;y<$.length;y+=1)v[y]=Zd(Jd(i,$,y));let E=i[6].length&&gw(i),T=i[5].length&&$w(i);return{c(){e=g("h1"),t=w(n),l=C(),o=g("section"),r=g("pre"),f=w("    ");for(let y=0;y<v.length;y+=1)v[y].c();a=w(`
  `),s=C(),E&&E.c(),u=C(),T&&T.c(),c=ie(),Je(r,"font-family","Unifont, monospace"),Je(r,"line-height","1")},m(y,S){h(y,e,S),d(e,t),h(y,l,S),h(y,o,S),d(o,r),d(r,f);for(let I=0;I<v.length;I+=1)v[I].m(r,null);d(r,a),h(y,s,S),E&&E.m(y,S),h(y,u,S),T&&T.m(y,S),h(y,c,S),m=!0},p(y,[S]){if((!m||S&1)&&n!==(n=ge(y[0])+"")&&W(t,n),S&28){$=y[4];let I;for(I=0;I<$.length;I+=1){const B=Jd(y,$,I);v[I]?v[I].p(B,S):(v[I]=Zd(B),v[I].c(),v[I].m(r,a))}for(;I<v.length;I+=1)v[I].d(1);v.length=$.length}y[6].length&&E.p(y,S),y[5].length&&T.p(y,S)},i(y){m||(b(E),b(T),m=!0)},o(y){k(E),k(T),m=!1},d(y){y&&p(e),y&&p(l),y&&p(o),ce(v,y),y&&p(s),E&&E.d(y),y&&p(u),T&&T.d(y),y&&p(c)}}}function yw(i,e,n){let{item:t}=e;const l=xe("data");let o=1/0,r=-1/0,f=1/0,a=-1/0;for(const N of t.parts)N.x<o&&(o=N.x),N.x>r&&(r=N.x),N.y<f&&(f=N.y),N.y>a&&(a=N.y);const s={cover:"^",cross:"c",horizontal:"h",horizontal_2:"=",vertical:"j",vertical_2:"H",ne:"u",nw:"y",se:"n",sw:"b"},u={on_roof:9,on_cargo:8,center:7,under:6,structure:5,engine_block:4,on_battery_mount:3,fuel_source:2,roof:-1,armor:-2},c={XOXO:"\u2502",OXOX:"\u2500",XXOO:"\u2514",OXXO:"\u250C",OOXX:"\u2510",XOOX:"\u2518",XXXO:"\u251C",XXOX:"\u2534",XOXX:"\u2524",OXXX:"\u252C",XXXX:"\u253C"},m=N=>{switch(N){case"j":return c.XOXO;case"h":return c.OXOX;case"c":return c.XXXX;case"y":return c.OXXO;case"u":return c.OOXX;case"n":return c.XOOX;case"b":return c.XXOO;default:return N}},$=(N,R)=>{var A,D;const G=l.byId("vehicle_part",N),M=(A=G.symbol)!=null?A:"=",X={...G.standard_symbols?s:{},...G.symbols};return m((D=X[R])!=null?D:M)},v=N=>l.byId("vehicle_part",N).color,E=t.parts.map(N=>{var G;const R=(N.part?[{part:N.part,fuel:N.fuel}]:(G=N.parts)==null?void 0:G.map(M=>typeof M=="string"?{part:M}:M)).map(({part:M,fuel:X})=>{const[A,D]=Mp(l,M);return{partId:A,variant:D,fuel:X}});return{x:N.x,y:N.y,parts:R}}),T=N=>{var X;const G=l.byId("vehicle_part",N).location;return(X=u[G])!=null?X:0},y=[];for(let N=r;N>=o;N--){const R=[];for(let G=f;G<=a;G++){const M=E.filter(D=>D.x===N&&D.y===G).flatMap(D=>D.parts);if(!M.length){R.push(void 0);continue}let X=M[0],A=T(X.partId);for(const D of M){const J=T(D.partId);J>=0&&J>A&&(A=J,X=D)}R.push(X)}y.push(R)}const S=l.flattenItemGroup(Dp(t));S.sort((N,R)=>R.prob-N.prob);const I=E.flatMap(N=>N.parts),O=[...Gr(I,N=>[N.partId]).entries()].map(([N,R])=>({id:N,count:R.length}));return O.sort((N,R)=>N.count===R.count?ge(l.byId("vehicle_part",N.id)).localeCompare(ge(l.byId("vehicle_part",R.id))):R.count-N.count),i.$$set=N=>{"item"in N&&n(0,t=N.item)},[t,l,$,v,y,S,O]}class ww extends Ve{constructor(e){super(),ze(this,e,yw,kw,He,{item:0})}}function xd(i,e,n){const t=i.slice();return t[7]=e[n],t}function em(i,e,n){const t=i.slice();return t[10]=e[n],t}function tm(i,e,n){const t=i.slice();return t[13]=e[n],t}function nm(i,e,n){const t=i.slice();return t[16]=e[n],t}function lm(i,e,n){const t=i.slice();return t[19]=e[n].id,t[20]=e[n].prob,t}function im(i,e,n){const t=i.slice();return t[23]=e[n][0],t[24]=e[n][1],t}function rm(i,e,n){const t=i.slice();return t[19]=e[n].id,t[20]=e[n].prob,t[27]=e[n].count,t}function om(i){let e,n,t,l,o,r,f;return t=new Qe({props:{item:i[1].byId("terrain",i[0].transforms_into)}}),o=new ae({props:{id:i[0].transforms_into,type:"terrain"}}),{c(){e=g("dt"),e.textContent="Transforms Into",n=g("dd"),F(t.$$.fragment),l=C(),F(o.$$.fragment),r=C()},m(a,s){h(a,e,s),h(a,n,s),q(t,n,null),d(n,l),q(o,n,null),d(n,r),f=!0},p(a,s){const u={};s&1&&(u.item=a[1].byId("terrain",a[0].transforms_into)),t.$set(u);const c={};s&1&&(c.id=a[0].transforms_into),o.$set(c)},i(a){f||(b(t.$$.fragment,a),b(o.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(o.$$.fragment,a),f=!1},d(a){a&&p(e),a&&p(n),P(t),P(o)}}}function Ew(i){let e,n=i[23]+"",t,l,o,r,f,a=i[24],s=[];for(let c=0;c<a.length;c+=1)s[c]=fm(rm(i,a,c));const u=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){e=g("dt"),t=w(n),l=g("dd"),o=g("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=C(),ue(o,"class","comma-separated")},m(c,m){h(c,e,m),d(e,t),h(c,l,m),d(l,o);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(l,r),f=!0},p(c,m){if(m&4){a=c[24];let $;for($=0;$<a.length;$+=1){const v=rm(c,a,$);s[$]?(s[$].p(v,m),b(s[$],1)):(s[$]=fm(v),s[$].c(),b(s[$],1),s[$].m(o,null))}for(x(),$=a.length;$<s.length;$+=1)u($);ee()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)k(s[m]);f=!1},d(c){c&&p(e),c&&p(l),ce(s,c)}}}function Tw(i){let e,n=i[27][0]+"",t,l,o=i[27][1]+"",r,f;return{c(){e=w("\xA0("),t=w(n),l=w("\u2013"),r=w(o),f=w(")")},m(a,s){h(a,e,s),h(a,t,s),h(a,l,s),h(a,r,s),h(a,f,s)},p:Z,d(a){a&&p(e),a&&p(t),a&&p(l),a&&p(r),a&&p(f)}}}function Sw(i){let e,n=i[27][0]!==1&&Cw(i);return{c(){n&&n.c(),e=ie()},m(t,l){n&&n.m(t,l),h(t,e,l)},p(t,l){t[27][0]!==1&&n.p(t,l)},d(t){n&&n.d(t),t&&p(e)}}}function Cw(i){let e,n=i[27][0]+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:Z,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function Iw(i){let e,n=bl(i[20])+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:Z,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function fm(i){let e,n,t,l="",o,r="",f,a;t=new ae({props:{type:"item",id:i[19]}});function s($,v){return $[27][0]===$[27][1]?Sw:Tw}let c=s(i)(i),m=i[20]!==1&&Iw(i);return{c(){e=g("li"),n=g("span"),F(t.$$.fragment),o=w(l),c.c(),f=w(r),m&&m.c(),Je(n,"white-space","nowrap")},m($,v){h($,e,v),d(e,n),q(t,n,null),d(n,o),c.m(n,null),d(n,f),m&&m.m(n,null),a=!0},p($,v){c.p($,v),$[20]!==1&&m.p($,v)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){k(t.$$.fragment,$),a=!1},d($){$&&p(e),P(t),c.d(),m&&m.d()}}}function sm(i){let e,n,t=i[24].length&&Ew(i);return{c(){t&&t.c(),e=ie()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,o){l[24].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function Rw(i){let e,n,t,l,o,r=["winter","spring","summer","autumn"].filter(i[4]),f=[];for(let s=0;s<r.length;s+=1)f[s]=_m(em(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Harvest",n=g("dd"),t=g("dl");for(let s=0;s<f.length;s+=1)f[s].c();l=C()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&10){r=["winter","spring","summer","autumn"].filter(s[4]);let c;for(c=0;c<r.length;c+=1){const m=em(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=_m(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function Nw(i){let e,n,t,l,o;return n=new Qe({props:{item:i[1].byId("item",i[16].drop)}}),l=new ae({props:{type:"item",id:i[16].drop}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment)},m(r,f){h(r,e,f),q(n,e,null),d(e,t),q(l,e,null),o=!0},p:Z,i(r){o||(b(n.$$.fragment,r),b(l.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),k(l.$$.fragment,r),o=!1},d(r){r&&p(e),P(n),P(l)}}}function Ow(i){let e,n,t=i[1].flattenItemGroup(i[1].byId("item_group",i[16].drop)),l=[];for(let r=0;r<t.length;r+=1)l[r]=am(lm(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=ie()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f&10){t=r[1].flattenItemGroup(r[1].byId("item_group",r[16].drop));let a;for(a=0;a<t.length;a+=1){const s=lm(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=am(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ce(l,r),r&&p(e)}}}function am(i){let e,n,t,l,o,r=(i[20]*100).toFixed(2)+"",f,a,s;return n=new Qe({props:{item:i[1].byId("item",i[19])}}),l=new ae({props:{type:"item",id:i[19]}}),{c(){e=g("li"),F(n.$$.fragment),t=C(),F(l.$$.fragment),o=w(" ("),f=w(r),a=w("%)")},m(u,c){h(u,e,c),q(n,e,null),d(e,t),q(l,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:Z,i(u){s||(b(n.$$.fragment,u),b(l.$$.fragment,u),s=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),s=!1},d(u){u&&p(e),P(n),P(l)}}}function um(i){let e,n,t,l;const o=[Ow,Nw],r=[];function f(a,s){return a[16].type==="bionic_group"?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function cm(i){let e,n,t=i[13].entries,l=[];for(let r=0;r<t.length;r+=1)l[r]=um(nm(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c()},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f&10){t=r[13].entries;let a;for(a=0;a<t.length;a+=1){const s=nm(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=um(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ce(l,r)}}}function _m(i){let e,n=i[10]+"",t,l,o,r,f=[i[1].byId("harvest",i[3].get(i[10]))],a=[];for(let u=0;u<1;u+=1)a[u]=cm(tm(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=g("dt"),t=w(n),l=g("dd");for(let u=0;u<1;u+=1)a[u].c();o=C(),Je(e,"text-transform","capitalize")},m(u,c){h(u,e,c),d(e,t),h(u,l,c);for(let m=0;m<1;m+=1)a[m].m(l,null);d(l,o),r=!0},p(u,c){if(c&10){f=[u[1].byId("harvest",u[3].get(u[10]))];let m;for(m=0;m<1;m+=1){const $=tm(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=cm($),a[m].c(),b(a[m],1),a[m].m(l,o))}for(x(),m=1;m<1;m+=1)s(m);ee()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)k(a[c]);r=!1},d(u){u&&p(e),u&&p(l),ce(a,u)}}}function dm(i){let e;return{c(){e=g("li"),e.innerHTML="<em>none</em>"},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function mm(i){let e,n,t;return n=new ae({props:{type:"json_flag",id:i[7]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[7]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Bw(i){var Q,K,oe;let e,n,t,l=ge(i[0])+"",o,r,f,a,s,u,c=((Q=i[0].move_cost)!=null?Q:100)+"",m,$,v,E=((K=i[0].coverage)!=null?K:0)+"",T,y,S,I,B,O,N,R,G,M=Jt(i[0].description)+"",X,A;n=new Qe({props:{item:i[0]}});let D=i[0].transforms_into&&om(i),J=i[2],j=[];for(let V=0;V<J.length;V+=1)j[V]=sm(im(i,J,V));const U=V=>k(j[V],1,1,()=>{j[V]=null});let Y=i[3].size&&Rw(i),L=(oe=i[0].flags)!=null?oe:[],H=[];for(let V=0;V<L.length;V+=1)H[V]=mm(xd(i,L,V));const le=V=>k(H[V],1,1,()=>{H[V]=null});let z=null;return L.length||(z=dm()),{c(){e=g("h1"),F(n.$$.fragment),t=C(),o=w(l),r=C(),f=g("section"),a=g("dl"),s=g("dt"),s.textContent="Move Cost",u=g("dd"),m=w(c),$=g("dt"),$.textContent="Coverage",v=g("dd"),T=w(E),y=w("%"),D&&D.c(),S=ie();for(let V=0;V<j.length;V+=1)j[V].c();I=ie(),Y&&Y.c(),B=g("dt"),B.textContent="Flags",O=g("dd"),N=g("ul");for(let V=0;V<H.length;V+=1)H[V].c();z&&z.c(),R=C(),G=g("p"),X=w(M),ue(N,"class","comma-separated"),Je(G,"color","var(--cata-color-gray)"),Je(G,"margin-bottom","0")},m(V,te){h(V,e,te),q(n,e,null),d(e,t),d(e,o),h(V,r,te),h(V,f,te),d(f,a),d(a,s),d(a,u),d(u,m),d(a,$),d(a,v),d(v,T),d(v,y),D&&D.m(a,null),d(a,S);for(let _e=0;_e<j.length;_e+=1)j[_e].m(a,null);d(a,I),Y&&Y.m(a,null),d(a,B),d(a,O),d(O,N);for(let _e=0;_e<H.length;_e+=1)H[_e].m(N,null);z&&z.m(N,null),d(f,R),d(f,G),d(G,X),A=!0},p(V,[te]){var Ge,$e,me;const _e={};if(te&1&&(_e.item=V[0]),n.$set(_e),(!A||te&1)&&l!==(l=ge(V[0])+"")&&W(o,l),(!A||te&1)&&c!==(c=((Ge=V[0].move_cost)!=null?Ge:100)+"")&&W(m,c),(!A||te&1)&&E!==(E=(($e=V[0].coverage)!=null?$e:0)+"")&&W(T,E),V[0].transforms_into?D?(D.p(V,te),te&1&&b(D,1)):(D=om(V),D.c(),b(D,1),D.m(a,S)):D&&(x(),k(D,1,1,()=>{D=null}),ee()),te&4){J=V[2];let be;for(be=0;be<J.length;be+=1){const ve=im(V,J,be);j[be]?(j[be].p(ve,te),b(j[be],1)):(j[be]=sm(ve),j[be].c(),b(j[be],1),j[be].m(a,I))}for(x(),be=J.length;be<j.length;be+=1)U(be);ee()}if(V[3].size&&Y.p(V,te),te&1){L=(me=V[0].flags)!=null?me:[];let be;for(be=0;be<L.length;be+=1){const ve=xd(V,L,be);H[be]?(H[be].p(ve,te),b(H[be],1)):(H[be]=mm(ve),H[be].c(),b(H[be],1),H[be].m(N,null))}for(x(),be=L.length;be<H.length;be+=1)le(be);ee(),!L.length&&z?z.p(V,te):L.length?z&&(z.d(1),z=null):(z=dm(),z.c(),z.m(N,null))}(!A||te&1)&&M!==(M=Jt(V[0].description)+"")&&W(X,M)},i(V){if(!A){b(n.$$.fragment,V),b(D);for(let te=0;te<J.length;te+=1)b(j[te]);b(Y);for(let te=0;te<L.length;te+=1)b(H[te]);A=!0}},o(V){k(n.$$.fragment,V),k(D),j=j.filter(Boolean);for(let te=0;te<j.length;te+=1)k(j[te]);k(Y),H=H.filter(Boolean);for(let te=0;te<H.length;te+=1)k(H[te]);A=!1},d(V){V&&p(e),P(n),V&&p(r),V&&p(f),D&&D.d(),ce(j,V),Y&&Y.d(),ce(H,V),z&&z.d()}}}function Aw(i,e,n){var u,c,m;const t=xe("data");let{item:l}=e;const o=(u=l.deconstruct)!=null&&u.items?t.flattenItemGroup({subtype:"collection",entries:typeof l.deconstruct.items=="string"?[{group:l.deconstruct.items}]:l.deconstruct.items}):[],r=(c=l.bash)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof l.bash.items=="string"?[{group:l.bash.items}]:l.bash.items}):[],f=[["Deconstruct",o],["Bash",r]],a=new Map;for(const{seasons:$,id:v}of(m=l.harvest_by_season)!=null?m:[])for(const E of $)a.set(E,v);const s=$=>a.has($);return i.$$set=$=>{"item"in $&&n(0,l=$.item)},[l,t,f,a,s]}class Mw extends Ve{constructor(e){super(),ze(this,e,Aw,Bw,He,{item:0})}}function Dw(i){let e;return{c(){e=g("p"),e.textContent="There are no weapons in this category.",Je(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function Lw(i){let e,n;return e=new ft({props:{items:i[1],$$slots:{default:[Gw,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&17&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Gw(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{type:"item",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function Uw(i){let e;return{c(){e=g("p"),e.textContent="There are no martial arts that use this weapon category.",Je(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function qw(i){let e,n;return e=new ft({props:{items:i[2],$$slots:{default:[Pw,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&17&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Pw(i){let e,n,t,l;return e=new Qe({props:{item:i[0]}}),t=new ae({props:{type:"martial_art",id:i[0].id}}),{c(){F(e.$$.fragment),n=C(),F(t.$$.fragment)},m(o,r){q(e,o,r),h(o,n,r),q(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){P(e,o),o&&p(n),P(t,o)}}}function Fw(i){let e,n,t=ge(i[0])+"",l,o,r,f,a,s,u,c,m,$,v,E,T,y;const S=[Lw,Dw],I=[];function B(G,M){return G[1].length?0:1}s=B(i),u=I[s]=S[s](i);const O=[qw,Uw],N=[];function R(G,M){return G[2].length?0:1}return E=R(i),T=N[E]=O[E](i),{c(){e=g("h1"),n=w("Weapon Category: "),l=w(t),o=C(),r=g("section"),f=g("h1"),f.textContent="Weapons",a=C(),u.c(),c=C(),m=g("section"),$=g("h1"),$.textContent="Martial Arts",v=C(),T.c()},m(G,M){h(G,e,M),d(e,n),d(e,l),h(G,o,M),h(G,r,M),d(r,f),d(r,a),I[s].m(r,null),h(G,c,M),h(G,m,M),d(m,$),d(m,v),N[E].m(m,null),y=!0},p(G,[M]){(!y||M&1)&&t!==(t=ge(G[0])+"")&&W(l,t),u.p(G,M),T.p(G,M)},i(G){y||(b(u),b(T),y=!0)},o(G){k(u),k(T),y=!1},d(G){G&&p(e),G&&p(o),G&&p(r),I[s].d(),G&&p(c),G&&p(m),N[E].d()}}}function Yw(i,e,n){let{item:t}=e;const l=xe("data"),o=l.byType("item").filter(f=>f.id).filter(f=>{var a;return((a=f.weapon_category)!=null?a:[]).some(s=>s===t.id)});o.sort((f,a)=>ge(f).localeCompare(ge(a)));const r=l.byType("martial_art").filter(f=>f.id).filter(f=>{var a;return(a=f.weapon_category)==null?void 0:a.some(s=>s===t.id)});return r.sort((f,a)=>ge(f).localeCompare(ge(a))),i.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,o,r]}class jw extends Ve{constructor(e){super(),ze(this,e,Yw,Fw,He,{item:0})}}function pm(i,e,n){const t=i.slice();return t[3]=e[n],t}function hm(i){let e,n;return e=new Yp({props:{construction:i[3]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p:Z,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Hw(i){let e,n=ge(i[0])+"",t,l,o,r,f=i[1],a=[];for(let u=0;u<f.length;u+=1)a[u]=hm(pm(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=g("h1"),t=w(n),l=C();for(let u=0;u<a.length;u+=1)a[u].c();o=ie()},m(u,c){h(u,e,c),d(e,t),h(u,l,c);for(let m=0;m<a.length;m+=1)a[m].m(u,c);h(u,o,c),r=!0},p(u,[c]){if((!r||c&1)&&n!==(n=ge(u[0])+"")&&W(t,n),c&2){f=u[1];let m;for(m=0;m<f.length;m+=1){const $=pm(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=hm($),a[m].c(),b(a[m],1),a[m].m(o.parentNode,o))}for(x(),m=f.length;m<a.length;m+=1)s(m);ee()}},i(u){if(!r){for(let c=0;c<f.length;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)k(a[c]);r=!1},d(u){u&&p(e),u&&p(l),ce(a,u),u&&p(o)}}}function Ww(i,e,n){let{item:t}=e;const o=xe("data").byType("construction").filter(r=>r.group===t.id);return i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,o]}class zw extends Ve{constructor(e){super(),ze(this,e,Ww,Hw,He,{item:0})}}function gm(i,e,n){const t=i.slice();return t[3]=e[n],t}function bm(i,e,n){const t=i.slice();return t[6]=e[n],t}function $m(i,e,n){const t=i.slice();return t[9]=e[n],t}function vm(i){let e,n=i[0].description+"",t;return{c(){e=g("p"),t=w(n),Je(e,"color","var(--cata-color-gray)")},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=l[0].description+"")&&W(t,n)},d(l){l&&p(e)}}}function km(i){let e,n,t,l,o,r=[i[0].hidden_by].flat(),f=[];for(let s=0;s<r.length;s+=1)f[s]=ym($m(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Hidden By",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated and")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=[s[0].hidden_by].flat();let c;for(c=0;c<r.length;c+=1){const m=$m(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ym(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function ym(i){let e,n,t;return n=new ae({props:{type:i[0].type,id:i[9]}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.type=l[0].type),o&1&&(r.id=l[9]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Vw(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=wm(bm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Unlocks",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=C(),ue(t,"class","comma-separated and")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&5){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=bm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=wm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ce(f,s)}}}function wm(i){let e,n,t;return n=new ae({props:{type:i[0].type,id:i[6].id}}),{c(){e=g("li"),F(n.$$.fragment)},m(l,o){h(l,e,o),q(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.type=l[0].type),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),P(n)}}}function Em(i){var E;let e,n,t,l,o=i[0].time_constraint.since+"",r,f,a,s=i[0].time_constraint.is+"",u,c,m=((E=i[0].time_constraint.target)!=null?E:"")+"",$,v;return{c(){e=g("dt"),e.textContent="Time Constraint",n=g("dd"),t=w("Time since "),l=g("strong"),r=w(o),f=w(` is
        `),a=g("strong"),u=w(s),c=C(),$=w(m),v=C()},m(T,y){h(T,e,y),h(T,n,y),d(n,t),d(n,l),d(l,r),d(n,f),d(n,a),d(a,u),d(a,c),d(a,$),d(n,v)},p(T,y){var S;y&1&&o!==(o=T[0].time_constraint.since+"")&&W(r,o),y&1&&s!==(s=T[0].time_constraint.is+"")&&W(u,s),y&1&&m!==(m=((S=T[0].time_constraint.target)!=null?S:"")+"")&&W($,m)},d(T){T&&p(e),T&&p(n)}}}function Xw(i){var c;let e,n=br(i[1].byId("event_statistic",i[3].event_statistic).description)+"",t,l,o,r=i[3].is+"",f,a,s=((c=i[3].target)!=null?c:"")+"",u;return{c(){e=g("strong"),t=w(n),l=w(`
              is `),o=g("strong"),f=w(r),a=C(),u=w(s)},m(m,$){h(m,e,$),d(e,t),h(m,l,$),h(m,o,$),d(o,f),d(o,a),d(o,u)},p(m,$){var v;$&1&&n!==(n=br(m[1].byId("event_statistic",m[3].event_statistic).description)+"")&&W(t,n),$&1&&r!==(r=m[3].is+"")&&W(f,r),$&1&&s!==(s=((v=m[3].target)!=null?v:"")+"")&&W(u,s)},d(m){m&&p(e),m&&p(l),m&&p(o)}}}function Jw(i){let e,n=i[3].description+"",t;return{c(){e=g("strong"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=l[3].description+"")&&W(t,n)},d(l){l&&p(e)}}}function Tm(i){let e,n;function t(r,f){return r[3].description?Jw:Xw}let l=t(i),o=l(i);return{c(){e=g("li"),o.c(),n=C()},m(r,f){h(r,e,f),o.m(e,null),d(e,n)},p(r,f){l===(l=t(r))&&o?o.p(r,f):(o.d(1),o=l(r),o&&(o.c(),o.m(e,n)))},d(r){r&&p(e),o.d()}}}function Kw(i){let e,n=i[0].type==="achievement"?"Achievement":"Conduct",t,l,o=ge(i[0])+"",r,f,a,s,u,c,m,$,v,E,T,y=i[0].description&&vm(i),S=i[0].hidden_by&&km(i),I=i[2].length&&Vw(i),B=i[0].time_constraint&&Em(i),O=i[0].requirements,N=[];for(let R=0;R<O.length;R+=1)N[R]=Tm(gm(i,O,R));return{c(){e=g("h1"),t=w(n),l=w(": "),r=w(o),f=C(),a=g("section"),y&&y.c(),s=C(),u=g("dl"),S&&S.c(),c=ie(),I&&I.c(),m=ie(),B&&B.c(),$=g("dt"),$.textContent="Requirements",v=g("dd"),E=g("ul");for(let R=0;R<N.length;R+=1)N[R].c()},m(R,G){h(R,e,G),d(e,t),d(e,l),d(e,r),h(R,f,G),h(R,a,G),y&&y.m(a,null),d(a,s),d(a,u),S&&S.m(u,null),d(u,c),I&&I.m(u,null),d(u,m),B&&B.m(u,null),d(u,$),d(u,v),d(v,E);for(let M=0;M<N.length;M+=1)N[M].m(E,null);T=!0},p(R,[G]){if((!T||G&1)&&n!==(n=R[0].type==="achievement"?"Achievement":"Conduct")&&W(t,n),(!T||G&1)&&o!==(o=ge(R[0])+"")&&W(r,o),R[0].description?y?y.p(R,G):(y=vm(R),y.c(),y.m(a,s)):y&&(y.d(1),y=null),R[0].hidden_by?S?(S.p(R,G),G&1&&b(S,1)):(S=km(R),S.c(),b(S,1),S.m(u,c)):S&&(x(),k(S,1,1,()=>{S=null}),ee()),R[2].length&&I.p(R,G),R[0].time_constraint?B?B.p(R,G):(B=Em(R),B.c(),B.m(u,$)):B&&(B.d(1),B=null),G&3){O=R[0].requirements;let M;for(M=0;M<O.length;M+=1){const X=gm(R,O,M);N[M]?N[M].p(X,G):(N[M]=Tm(X),N[M].c(),N[M].m(E,null))}for(;M<N.length;M+=1)N[M].d(1);N.length=O.length}},i(R){T||(b(S),b(I),T=!0)},o(R){k(S),k(I),T=!1},d(R){R&&p(e),R&&p(f),R&&p(a),y&&y.d(),S&&S.d(),I&&I.d(),B&&B.d(),ce(N,R)}}}function Qw(i,e,n){let{item:t}=e;const l=xe("data"),o=l.byType("achievement").filter(r=>{var f;return r.id!==t.id&&[(f=r.hidden_by)!=null?f:[]].flat().includes(t.id)});return i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,l,o]}class Sm extends Ve{constructor(e){super(),ze(this,e,Qw,Kw,He,{item:0})}}function Zw(i){let e,n,t=bn(i[0].type)+"",l,o,r,f;return{c(){e=g("section"),n=w("\u26A0\uFE0F This "),l=w(t),o=w(" is marked as "),r=g("em"),r.textContent="obsolete",f=w(`, meaning that it
  is likely not possible to obtain in this version.`),ue(e,"class","obsoletion-warning svelte-tb1bo")},m(a,s){h(a,e,s),d(e,n),d(e,l),d(e,o),d(e,r),d(e,f)},p(a,[s]){s&1&&t!==(t=bn(a[0].type)+"")&&W(l,t)},i:Z,o:Z,d(a){a&&p(e)}}}function xw(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class e2 extends Ve{constructor(e){super(),ze(this,e,xw,Zw,He,{item:0})}}function t2(i){let e,n,t,l,o,r,f,a;const s=[r2,i2,l2],u=[];function c(m,$){return m[1]?0:globalThis!=null&&globalThis.process?1:2}return e=c(i),n=u[e]=s[e](i),{c(){n.c(),t=C(),l=g("details"),o=g("summary"),o.textContent="Raw JSON",r=C(),f=g("pre"),f.textContent=`${JSON.stringify(i[3],null,2)}`},m(m,$){u[e].m(m,$),h(m,t,$),h(m,l,$),d(l,o),d(l,r),d(l,f),a=!0},p(m,$){let v=e;e=c(m),e===v?u[e].p(m,$):(x(),k(u[v],1,1,()=>{u[v]=null}),ee(),n=u[e],n?n.p(m,$):(n=u[e]=s[e](m),n.c()),b(n,1),n.m(t.parentNode,t))},i(m){a||(b(n),a=!0)},o(m){k(n),a=!1},d(m){u[e].d(m),m&&p(t),m&&p(l)}}}function n2(i){let e,n=i[0].type+"",t,l,o=i[0].id+"",r;return{c(){e=w("Unknown obj: "),t=w(n),l=w("/"),r=w(o)},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),h(f,r,a)},p(f,a){a&1&&n!==(n=f[0].type+"")&&W(t,n),a&1&&o!==(o=f[0].id+"")&&W(r,o)},i:Z,o:Z,d(f){f&&p(e),f&&p(t),f&&p(l),f&&p(r)}}}function l2(i){let e,n;return e=new xy({props:{onError:i[2],$$slots:{default:[f2]},$$scope:{ctx:i}}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function i2(i){var r;let e,n,t;var l=(r=i[4][i[3].type])!=null?r:Gi;function o(f){return{props:{item:f[3]}}}return l&&(e=new l(o(i))),{c(){e&&F(e.$$.fragment),n=ie()},m(f,a){e&&q(e,f,a),h(f,n,a),t=!0},p(f,a){var s;if(l!==(l=(s=f[4][f[3].type])!=null?s:Gi)){if(e){x();const u=e;k(u.$$.fragment,1,0,()=>{P(u,1)}),ee()}l?(e=new l(o(f)),F(e.$$.fragment),b(e.$$.fragment,1),q(e,n.parentNode,n)):e=null}},i(f){t||(e&&b(e.$$.fragment,f),t=!0)},o(f){e&&k(e.$$.fragment,f),t=!1},d(f){f&&p(n),e&&P(e,f)}}}function r2(i){let e,n,t,l,o,r,f,a,s=i[1].message+"",u,c,m,$=i[1].stack+"",v;return{c(){e=g("section"),n=g("h1"),n.textContent="Error",t=C(),l=g("p"),l.textContent=`There was a problem displaying this page. Not all versions of Cataclysm
        are supported by the Guide currently. Try selecting a different build.`,o=C(),r=g("p"),f=g("details"),a=g("summary"),u=w(s),c=C(),m=g("pre"),v=w($)},m(E,T){h(E,e,T),d(e,n),d(e,t),d(e,l),d(e,o),d(e,r),d(r,f),d(f,a),d(a,u),d(f,c),d(f,m),d(m,v)},p(E,T){T&2&&s!==(s=E[1].message+"")&&W(u,s),T&2&&$!==($=E[1].stack+"")&&W(v,$)},i:Z,o:Z,d(E){E&&p(e)}}}function o2(i){let e,n;return e=new e2({props:{item:i[3]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p:Z,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function f2(i){var s;let e=/obsolet/.test(i[3].__filename),n,t,l,o,r=e&&o2(i);var f=(s=i[4][i[3].type])!=null?s:Gi;function a(u){return{props:{item:u[3]}}}return f&&(t=new f(a(i))),{c(){r&&r.c(),n=C(),t&&F(t.$$.fragment),l=ie()},m(u,c){r&&r.m(u,c),h(u,n,c),t&&q(t,u,c),h(u,l,c),o=!0},p(u,c){var m;if(e&&r.p(u,c),f!==(f=(m=u[4][u[3].type])!=null?m:Gi)){if(t){x();const $=t;k($.$$.fragment,1,0,()=>{P($,1)}),ee()}f?(t=new f(a(u)),F(t.$$.fragment),b(t.$$.fragment,1),q(t,l.parentNode,l)):t=null}},i(u){o||(b(r),t&&b(t.$$.fragment,u),o=!0)},o(u){k(r),t&&k(t.$$.fragment,u),o=!1},d(u){r&&r.d(u),u&&p(n),u&&p(l),t&&P(t,u)}}}function s2(i){let e,n,t,l;const o=[n2,t2],r=[];function f(a,s){return a[3]?1:0}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,[s]){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function a2(i,e){return e==="json_flag"?{id:i,type:e}:null}function u2(i,e,n){var s;let{item:t}=e,{data:l}=e;Dr("data",l);let o=null;function r(u){n(1,o=u)}let f=(s=l.byId(t.type,t.id))!=null?s:a2(t.id,t.type);const a={MONSTER:Vh,AMMO:on,GUN:on,ARMOR:on,PET_ARMOR:on,TOOL:on,TOOLMOD:on,TOOL_ARMOR:on,BOOK:on,COMESTIBLE:on,ENGINE:on,WHEEL:on,GUNMOD:on,MAGAZINE:on,BATTERY:on,GENERIC:on,BIONIC_ITEM:on,material:hv,ammunition_type:yv,tool_quality:Nv,furniture:fk,skill:dk,proficiency:bk,json_flag:Nk,fault:zk,vitamin:Kk,vehicle_part:ay,martial_art:Wy,mutation:fw,mutation_category:Wp,mutation_type:mw,vehicle:ww,terrain:Mw,weapon_category:jw,construction_group:zw,achievement:Sm,conduct:Sm};return i.$$set=u=>{"item"in u&&n(0,t=u.item),"data"in u&&n(5,l=u.data)},[t,o,r,f,a,l]}class c2 extends Ve{constructor(e){super(),ze(this,e,u2,s2,He,{item:0,data:5})}}var _2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},zp={exports:{}};(function(i){((e,n)=>{i.exports?i.exports=n():e.fuzzysort=n()})(_2,e=>{var n=(U,Y)=>{if(U=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!U||!Y)return D;var L=u(U);G(Y)||(Y=s(Y));var H=L.bitflags;return(H&Y._bitflags)!==H?D:m(L,Y)},t=(U,Y,L)=>{if(U=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:Y?Y[0]:D}];if(!U)return L&&L.all?c(U,Y,L):A;var H=u(U),le=H.bitflags;H.containsSpace;var z=L&&L.threshold||X,Q=L&&L.limit||M,K=0,oe=0,V=Y.length;if(L&&L.key)for(var te=L.key,_e=0;_e<V;++_e){var Ge=Y[_e],$e=R(Ge,te);if(!!$e&&(G($e)||($e=s($e)),(le&$e._bitflags)===le)){var me=m(H,$e);me!==D&&(me.score<z||(me={target:me.target,_targetLower:"",_targetLowerCodes:D,_nextBeginningIndexes:D,_bitflags:0,score:me.score,_indexes:me._indexes,obj:Ge},K<Q?(j.add(me),++K):(++oe,me.score>j.peek().score&&j.replaceTop(me))))}}else if(L&&L.keys)for(var be=L.scoreFn||N,ve=L.keys,de=ve.length,_e=0;_e<V;++_e){for(var Ge=Y[_e],De=new Array(de),Ie=0;Ie<de;++Ie){var te=ve[Ie],$e=R(Ge,te);if(!$e){De[Ie]=D;continue}G($e)||($e=s($e)),(le&$e._bitflags)!==le?De[Ie]=D:De[Ie]=m(H,$e)}De.obj=Ge;var ke=be(De);ke!==D&&(ke<z||(De.score=ke,K<Q?(j.add(De),++K):(++oe,ke>j.peek().score&&j.replaceTop(De))))}else for(var _e=0;_e<V;++_e){var $e=Y[_e];if(!!$e&&(G($e)||($e=s($e)),(le&$e._bitflags)===le)){var me=m(H,$e);me!==D&&(me.score<z||(K<Q?(j.add(me),++K):(++oe,me.score>j.peek().score&&j.replaceTop(me))))}}if(K===0)return A;for(var Te=new Array(K),_e=K-1;_e>=0;--_e)Te[_e]=j.poll();return Te.total=K+oe,Te},l=(U,Y,L)=>{if(typeof Y=="function")return o(U,Y);if(U===D)return D;Y===void 0&&(Y="<b>"),L===void 0&&(L="</b>");var H="",le=0,z=!1,Q=U.target,K=Q.length,oe=U._indexes;oe=oe.slice(0,oe.len).sort((_e,Ge)=>_e-Ge);for(var V=0;V<K;++V){var te=Q[V];if(oe[le]===V){if(++le,z||(z=!0,H+=Y),le===oe.length){H+=te+L+Q.substr(V+1);break}}else z&&(z=!1,H+=L);H+=te}return H},o=(V,Y)=>{if(V===D)return D;var L=V.target,H=L.length,le=V._indexes;le=le.slice(0,le.len).sort((Ge,$e)=>Ge-$e);for(var z="",Q=0,K=0,oe=!1,V=[],te=0;te<H;++te){var _e=L[te];if(le[K]===te){if(++K,oe||(oe=!0,V.push(z),z=""),K===le.length){z+=_e,V.push(Y(z,Q++)),z="",V.push(L.substr(te+1));break}}else oe&&(oe=!1,V.push(Y(z,Q++)),z="");z+=_e}return V},r=U=>U._indexes.slice(0,U._indexes.len).sort((Y,L)=>Y-L),f=U=>{typeof U!="string"&&(U="");var Y=v(U);return{target:U,_targetLower:Y._lower,_targetLowerCodes:Y.lowerCodes,_nextBeginningIndexes:D,_bitflags:Y.bitflags,score:D,_indexes:[0],obj:D}},a=U=>{typeof U!="string"&&(U=""),U=U.trim();var Y=v(U),L=[];if(Y.containsSpace){var H=U.split(/\s+/);H=[...new Set(H)];for(var le=0;le<H.length;le++)if(H[le]!==""){var z=v(H[le]);L.push({lowerCodes:z.lowerCodes,_lower:H[le].toLowerCase(),containsSpace:!1})}}return{lowerCodes:Y.lowerCodes,bitflags:Y.bitflags,containsSpace:Y.containsSpace,_lower:Y._lower,spaceSearches:L}},s=U=>{if(U.length>999)return f(U);var Y=S.get(U);return Y!==void 0||(Y=f(U),S.set(U,Y)),Y},u=U=>{if(U.length>999)return a(U);var Y=I.get(U);return Y!==void 0||(Y=a(U),I.set(U,Y)),Y},c=(U,Y,L)=>{var H=[];H.total=Y.length;var le=L&&L.limit||M;if(L&&L.key)for(var z=0;z<Y.length;z++){var Q=Y[z],K=R(Q,L.key);if(!!K){G(K)||(K=s(K)),K.score=X,K._indexes.len=0;var oe=K;if(oe={target:oe.target,_targetLower:"",_targetLowerCodes:D,_nextBeginningIndexes:D,_bitflags:0,score:K.score,_indexes:D,obj:Q},H.push(oe),H.length>=le)return H}}else if(L&&L.keys)for(var z=0;z<Y.length;z++){for(var Q=Y[z],V=new Array(L.keys.length),te=L.keys.length-1;te>=0;--te){var K=R(Q,L.keys[te]);if(!K){V[te]=D;continue}G(K)||(K=s(K)),K.score=X,K._indexes.len=0,V[te]=K}if(V.obj=Q,V.score=X,H.push(V),H.length>=le)return H}else for(var z=0;z<Y.length;z++){var K=Y[z];if(!!K&&(G(K)||(K=s(K)),K.score=X,K._indexes.len=0,H.push(K),H.length>=le))return H}return H},m=(U,Y)=>{if(U.containsSpace)return $(U,Y);for(var L=U._lower,H=U.lowerCodes,le=H[0],z=Y._targetLowerCodes,Q=H.length,K=z.length,_e=0,oe=0,V=0;;){var te=le===z[oe];if(te){if(B[V++]=oe,++_e,_e===Q)break;le=H[_e]}if(++oe,oe>=K)return D}var _e=0,Ge=!1,$e=0,me=Y._nextBeginningIndexes;me===D&&(me=Y._nextBeginningIndexes=T(Y.target)),oe=B[0]===0?0:me[B[0]-1];var be=0;if(oe!==K)for(;;)if(oe>=K){if(_e<=0||(++be,be>200))break;--_e;var ve=O[--$e];oe=me[ve]}else{var te=H[_e]===z[oe];if(te){if(O[$e++]=oe,++_e,_e===Q){Ge=!0;break}++oe}else oe=me[oe]}var de=Y._targetLower.indexOf(L,B[0]),De=~de;if(De&&!Ge)for(var Ie=0;Ie<V;++Ie)B[Ie]=de+Ie;var ke=!1;De&&(ke=Y._nextBeginningIndexes[de-1]===de);{if(Ge)var Te=O,rt=$e;else var Te=B,rt=V;for(var ye=0,pe=0,Ie=1;Ie<Q;++Ie)Te[Ie]-Te[Ie-1]!==1&&(ye-=Te[Ie],++pe);var Le=Te[Q-1]-Te[0]-(Q-1);if(ye-=(12+Le)*pe,Te[0]!==0&&(ye-=Te[0]*10),!Ge)ye*=1e3;else{for(var We=1,Ie=me[0];Ie<K;Ie=me[Ie])++We;We>24&&(ye*=(We-24)*10)}De&&(ye/=10),ke&&(ye/=10),ye-=K-Q,Y.score=ye;for(var Ie=0;Ie<rt;++Ie)Y._indexes[Ie]=Te[Ie];return Y._indexes.len=rt,Y}},$=(U,Y)=>{for(var L=new Set,H=0,le=D,z=0,Q=U.spaceSearches,V=0;V<Q.length;++V){var K=Q[V];if(le=m(K,Y),le===D)return D;H+=le.score,le._indexes[0]<z&&(H-=z-le._indexes[0]),z=le._indexes[0];for(var oe=0;oe<le._indexes.len;++oe)L.add(le._indexes[oe])}le.score=H;var V=0;for(let te of L)le._indexes[V++]=te;return le._indexes.len=V,le},v=U=>{for(var Y=U.length,L=U.toLowerCase(),H=[],le=0,z=!1,Q=0;Q<Y;++Q){var K=H[Q]=L.charCodeAt(Q);if(K===32){z=!0;continue}var oe=K>=97&&K<=122?K-97:K>=48&&K<=57?26:K<=127?30:31;le|=1<<oe}return{lowerCodes:H,bitflags:le,containsSpace:z,_lower:L}},E=U=>{for(var Y=U.length,L=[],H=0,le=!1,z=!1,Q=0;Q<Y;++Q){var K=U.charCodeAt(Q),oe=K>=65&&K<=90,V=oe||K>=97&&K<=122||K>=48&&K<=57,te=oe&&!le||!z||!V;le=oe,z=V,te&&(L[H++]=Q)}return L},T=U=>{for(var Y=U.length,L=E(U),H=[],le=L[0],z=0,Q=0;Q<Y;++Q)le>Q?H[Q]=le:(le=L[++z],H[Q]=le===void 0?Y:le);return H},y=()=>{S.clear(),I.clear(),B=[],O=[]},S=new Map,I=new Map,B=[],O=[],N=U=>{for(var Y=X,L=U.length,H=0;H<L;++H){var le=U[H];if(le!==D){var z=le.score;z>Y&&(Y=z)}}return Y===X?D:Y},R=(U,Y)=>{var L=U[Y];if(L!==void 0)return L;var H=Y;Array.isArray(Y)||(H=Y.split("."));for(var le=H.length,z=-1;U&&++z<le;)U=U[H[z]];return U},G=U=>typeof U=="object",M=1/0,X=-M,A=[];A.total=0;var D=null,J=U=>{var Y=[],L=0,H={},le=z=>{for(var Q=0,K=Y[Q],oe=1;oe<L;){var V=oe+1;Q=oe,V<L&&Y[V].score<Y[oe].score&&(Q=V),Y[Q-1>>1]=Y[Q],oe=1+(Q<<1)}for(var te=Q-1>>1;Q>0&&K.score<Y[te].score;te=(Q=te)-1>>1)Y[Q]=Y[te];Y[Q]=K};return H.add=z=>{var Q=L;Y[L++]=z;for(var K=Q-1>>1;Q>0&&z.score<Y[K].score;K=(Q=K)-1>>1)Y[Q]=Y[K];Y[Q]=z},H.poll=z=>{if(L!==0){var Q=Y[0];return Y[0]=Y[--L],le(),Q}},H.peek=z=>{if(L!==0)return Y[0]},H.replaceTop=z=>{Y[0]=z,le()},H},j=J();return{single:n,go:t,highlight:l,prepare:f,indexes:r,cleanup:y}})})(zp);function Cm(i,e,n){const t=i.slice();return t[6]=e[n],t}function Im(i,e,n){const t=i.slice();return t[9]=e[n],t}function d2(i){let e;return{c(){e=g("pre"),e.textContent="..."},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function m2(i){let e,n,t=[...i[1].keys()],l=[];for(let f=0;f<t.length;f+=1)l[f]=Bm(Cm(i,t,f));const o=f=>k(l[f],1,1,()=>{l[f]=null});let r=null;return t.length||(r=Rm()),{c(){for(let f=0;f<l.length;f+=1)l[f].c();e=ie(),r&&r.c()},m(f,a){for(let s=0;s<l.length;s+=1)l[s].m(f,a);h(f,e,a),r&&r.m(f,a),n=!0},p(f,a){if(a&3){t=[...f[1].keys()];let s;for(s=0;s<t.length;s+=1){const u=Cm(f,t,s);l[s]?(l[s].p(u,a),b(l[s],1)):(l[s]=Bm(u),l[s].c(),b(l[s],1),l[s].m(e.parentNode,e))}for(x(),s=t.length;s<l.length;s+=1)o(s);ee(),!t.length&&r?r.p(f,a):t.length?r&&(r.d(1),r=null):(r=Rm(),r.c(),r.m(e.parentNode,e))}},i(f){if(!n){for(let a=0;a<t.length;a+=1)b(l[a]);n=!0}},o(f){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)k(l[a]);n=!1},d(f){ce(l,f),f&&p(e),r&&r.d(f)}}}function Rm(i){let e;return{c(){e=g("em"),e.textContent="No results."},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function Nm(i){let e;return{c(){e=g("em"),e.textContent="(obsolete)",Je(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Om(i){let e,n,t,l,o=ge(i[0]._flatten(i[9]))+"",r,f,a,s=/obsolet/.test(i[9].__filename),u;n=new Qe({props:{item:i[0]._flatten(i[9])}});let c=s&&Nm();return{c(){e=g("li"),F(n.$$.fragment),t=C(),l=g("a"),r=w(o),a=C(),c&&c.c(),ue(l,"href",f="#/"+bn(i[9].type)+"/"+i[9].id)},m(m,$){h(m,e,$),q(n,e,null),d(e,t),d(e,l),d(l,r),d(e,a),c&&c.m(e,null),u=!0},p(m,$){const v={};$&3&&(v.item=m[0]._flatten(m[9])),n.$set(v),(!u||$&3)&&o!==(o=ge(m[0]._flatten(m[9]))+"")&&W(r,o),(!u||$&2&&f!==(f="#/"+bn(m[9].type)+"/"+m[9].id))&&ue(l,"href",f),$&2&&(s=/obsolet/.test(m[9].__filename)),s?c||(c=Nm(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(m){u||(b(n.$$.fragment,m),u=!0)},o(m){k(n.$$.fragment,m),u=!1},d(m){m&&p(e),P(n),c&&c.d()}}}function Bm(i){let e,n=i[6].replace(/_/g," ")+"",t,l,o,r,f,a=i[1].get(i[6]),s=[];for(let c=0;c<a.length;c+=1)s[c]=Om(Im(i,a,c));const u=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){e=g("h1"),t=w(n),l=C(),o=g("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=C()},m(c,m){h(c,e,m),d(e,t),h(c,l,m),h(c,o,m);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(o,r),f=!0},p(c,m){if((!f||m&2)&&n!==(n=c[6].replace(/_/g," ")+"")&&W(t,n),m&3){a=c[1].get(c[6]);let $;for($=0;$<a.length;$+=1){const v=Im(c,a,$);s[$]?(s[$].p(v,m),b(s[$],1)):(s[$]=Om(v),s[$].c(),b(s[$],1),s[$].m(o,r))}for(x(),$=a.length;$<s.length;$+=1)u($);ee()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)k(s[m]);f=!1},d(c){c&&p(e),c&&p(l),c&&p(o),ce(s,c)}}}function p2(i){let e,n,t,l;const o=[m2,d2],r=[];function f(a,s){return a[1]?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function h2(i,e,n){let t;const l=new Set(["item","monster","furniture","vehicle_part","tool_quality","martial_art","mutation","vehicle","terrain"]);let{data:o}=e,r,{search:f}=e;function a(s){const u=zp.exports.go(s,r,{limit:100,keys:["id","name"],threshold:-1e4}),c=new Map;for(const{obj:m}of u){const $=m.type;if(!l.has($))continue;c.has($)||c.set($,[]);const v=o.byId($,m.id);if(!v)debugger;c.get($).push(v)}return c}return i.$$set=s=>{"data"in s&&n(0,o=s.data),"search"in s&&n(2,f=s.search)},i.$$.update=()=>{var s;i.$$.dirty&1&&Dr("data",o),i.$$.dirty&1&&(r=[...(s=o==null?void 0:o.all())!=null?s:[]].filter(u=>"id"in u&&typeof u.id=="string"&&l.has(bn(u.type))).filter(u=>u.type==="mutation"?!/Fake\d$/.test(u.id):!0).map(u=>({id:u.id,name:ge(u),type:bn(u.type)}))),i.$$.dirty&5&&n(1,t=f&&f.length>1&&o&&a(f)),i.$$.dirty&4&&history.replaceState({search:f},"")},[o,t,f]}class g2 extends Ve{constructor(e){super(),ze(this,e,h2,p2,He,{data:0,search:2})}}function Am(i,e,n){const t=i.slice();return t[8]=e[n],t}function b2(i){let e,n,t,l,o,r=i[8]&&v2(i);return t=new ft({props:{items:i[3].get(i[8]).filter(i[5]),limit:i[4].length===1?1/0:10,$$slots:{default:[k2,({item:f})=>({11:f}),({item:f})=>f?2048:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),r&&r.c(),n=C(),F(t.$$.fragment),l=C()},m(f,a){h(f,e,a),r&&r.m(e,null),d(e,n),q(t,e,null),d(e,l),o=!0},p(f,a){f[8]&&r.p(f,a);const s={};a&6145&&(s.$$scope={dirty:a,ctx:f}),t.$set(s)},i(f){o||(b(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&p(e),r&&r.d(),P(t)}}}function $2(i){let e,n;return e=new Wp({props:{item:i[1].byId("mutation_category",i[8]),inCatalog:!0}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.item=t[1].byId("mutation_category",t[8])),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function v2(i){let e,n=i[8]+"",t;return{c(){e=g("h1"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:Z,d(l){l&&p(e)}}}function Mm(i){let e,n;return e=new Qe({props:{item:i[11]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&2048&&(o.item=t[11]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function k2(i){let e,n,t,l=(i[0]==="item"||i[0]==="terrain"||i[0]==="furniture"||i[0]==="monster")&&Mm(i);return n=new ae({props:{type:i[2],id:i[11].id}}),{c(){l&&l.c(),e=C(),F(n.$$.fragment)},m(o,r){l&&l.m(o,r),h(o,e,r),q(n,o,r),t=!0},p(o,r){o[0]==="item"||o[0]==="terrain"||o[0]==="furniture"||o[0]==="monster"?l?(l.p(o,r),r&1&&b(l,1)):(l=Mm(o),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(x(),k(l,1,1,()=>{l=null}),ee());const f={};r&2048&&(f.id=o[11].id),n.$set(f)},i(o){t||(b(l),b(n.$$.fragment,o),t=!0)},o(o){k(l),k(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&p(e),P(n,o)}}}function Dm(i){let e,n,t,l,o;const r=[$2,b2],f=[];function a(s,u){return u&3&&(e=null),e==null&&(e=!!(s[0]==="mutation"&&s[8]&&s[1].byId("mutation_category",s[8]))),e?0:1}return n=a(i,-1),t=f[n]=r[n](i),{c(){t.c(),l=ie()},m(s,u){f[n].m(s,u),h(s,l,u),o=!0},p(s,u){let c=n;n=a(s,u),n===c?f[n].p(s,u):(x(),k(f[c],1,1,()=>{f[c]=null}),ee(),t=f[n],t?t.p(s,u):(t=f[n]=r[n](s),t.c()),b(t,1),t.m(l.parentNode,l))},i(s){o||(b(t),o=!0)},o(s){k(t),o=!1},d(s){f[n].d(s),s&&p(l)}}}function y2(i){let e,n,t,l,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=Dm(Am(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("h1"),n=w(i[0]),t=C();for(let s=0;s<f.length;s+=1)f[s].c();l=ie()},m(s,u){h(s,e,u),d(e,n),h(s,t,u);for(let c=0;c<f.length;c+=1)f[c].m(s,u);h(s,l,u),o=!0},p(s,[u]){if((!o||u&1)&&W(n,s[0]),u&2111){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=Am(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Dm(m),f[c].c(),b(f[c],1),f[c].m(l.parentNode,l))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(t),ce(f,s),s&&p(l)}}}function w2(i,e,n){var c,m;let{type:t}=e,{data:l}=e,o=t;Dr("data",l);const r=l.byType(t).filter($=>$.id);r.sort(($,v)=>ge($).localeCompare(ge(v)));const f=(c={monster:$=>{var v;return[(v=$.default_faction)!=null?v:""]},item:$=>[$.type],vehicle_part:$=>{var v;return(v=$.categories)!=null?v:[""]},mutation:$=>{var v;return(v=$.category)!=null?v:[""]}}[t])!=null?c:()=>[""],a=Gr(r,f),s=[...a.keys()].sort(),u=(m={mutation:$=>!/Fake\d$/.test($.id)}[t])!=null?m:()=>!0;return i.$$set=$=>{"type"in $&&n(0,t=$.type),"data"in $&&n(1,l=$.data)},[t,l,o,a,s,u]}class E2 extends Ve{constructor(e){super(),ze(this,e,w2,y2,He,{type:0,data:1})}}var T2="./assets/dont_panic.c90f0625.png";const{window:Lm}=H1;function Gm(i,e,n){const t=i.slice();return t[18]=e[n].name,t[10]=e[n].url,t}function Um(i,e,n){const t=i.slice();return t[21]=e[n],t[23]=n,t}function qm(i,e,n){const t=i.slice();return t[21]=e[n],t}function S2(i){let e,n,t,l,o,r,f,a,s,u,c,m,$,v,E,T=i[5]&&Pm(i);return{c(){e=g("img"),t=C(),l=g("p"),l.innerHTML=`The <strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the
      zombie survival roguelike game
      <a href="https://cataclysmdda.org/">Cataclysm: Dark Days Ahead</a>. You
      can search for things in the game, like items (e.g. a
      <a href="#/item/flashlight">flashlight</a>), furniture (e.g. a
      <a href="#/furniture/f_table">table</a>), or monsters (e.g. a
      <a href="#/monster/mon_zombie">zombie</a>), and find useful information
      about them. The data in the Guide comes directly from the JSON files in
      the game itself.`,o=C(),r=g("p"),f=w(`The Guide stores all its data locally and is offline-capable, so you can
      take it with you whereever you go. There's nothing to do to make the Guide
      work offline, just visit the page and it will work even without internet
      access, as long as you've visited it once before.
      `),T&&T.c(),a=C(),s=g("p"),s.textContent=`More popular than the Celestial Home Care Omnibus, better selling than
      Fifty-three More Things to do in Zero Gravity, and more controversial than
      Oolon Colluphid's trilogy of philosophical blockbusters Where God Went
      Wrong, Some More of God's Greatest Mistakes and Who is this God Person
      Anyway?`,u=C(),c=g("p"),c.innerHTML=`The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a>
      by <a href="https://www.nornagon.net">nornagon</a>. If you notice any
      problems, please
      <a href="https://github.com/nornagon/cdda-guide/issues">file an issue</a>!`,m=C(),$=g("h2"),$.textContent="Catalogs",v=C(),E=g("ul"),E.innerHTML=`<li><a href="#/item">Items</a></li> 
      <li><a href="#/monster">Monsters</a></li> 
      <li><a href="#/furniture">Furniture</a></li> 
      <li><a href="#/terrain">Terrain</a></li> 
      <li><a href="#/vehicle_part">Vehicle Parts</a></li> 
      <li><a href="#/tool_quality">Qualities</a></li> 
      <li><a href="#/mutation">Mutations</a></li> 
      <li><a href="#/martial_art">Martial Arts</a></li> 
      <li><a href="#/json_flag">Flags</a></li> 
      <li><a href="#/achievement">Achievements</a> /
        <a href="#/conduct">Conducts</a></li>`,G1(e.src,n=T2)||ue(e,"src",n),ue(e,"height","200"),ue(e,"width","343"),Je(e,"float","right"),ue(e,"alt","The words 'Don't Panic' in big friendly letters"),Je(s,"font-style","italic"),Je(s,"color","var(--cata-color-gray)")},m(y,S){h(y,e,S),h(y,t,S),h(y,l,S),h(y,o,S),h(y,r,S),d(r,f),T&&T.m(r,null),h(y,a,S),h(y,s,S),h(y,u,S),h(y,c,S),h(y,m,S),h(y,$,S),h(y,v,S),h(y,E,S)},p(y,S){y[5]?T?T.p(y,S):(T=Pm(y),T.c(),T.m(r,null)):T&&(T.d(1),T=null)},i:Z,o:Z,d(y){y&&p(e),y&&p(t),y&&p(l),y&&p(o),y&&p(r),T&&T.d(),y&&p(a),y&&p(s),y&&p(u),y&&p(c),y&&p(m),y&&p($),y&&p(v),y&&p(E)}}}function C2(i){let e=i[4],n,t,l=Fm(i);return{c(){l.c(),n=ie()},m(o,r){l.m(o,r),h(o,n,r),t=!0},p(o,r){r&16&&He(e,e=o[4])?(x(),k(l,1,1,Z),ee(),l=Fm(o),l.c(),b(l,1),l.m(n.parentNode,n)):l.p(o,r)},i(o){t||(b(l),t=!0)},o(o){k(l),t=!1},d(o){o&&p(n),l.d(o)}}}function I2(i){let e,n,t,l;const o=[N2,R2],r=[];function f(a,s){return a[1]?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Pm(i){let e,n,t,l,o;return{c(){e=w("It's also "),n=g("button"),n.textContent="installable",t=w(", so you can pop it out of your browser and use it like a regular app."),ue(n,"class","disclosure")},m(r,f){h(r,e,f),h(r,n,f),h(r,t,f),l||(o=Tn(n,"click",i[14]),l=!0)},p:Z,d(r){r&&p(e),r&&p(n),r&&p(t),l=!1,o()}}}function Fm(i){let e,n;return e=new g2({props:{data:i[1],search:i[4]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.data=t[1]),l&16&&(o.search=t[4]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function R2(i){let e;return{c(){e=g("em"),e.textContent="Loading...",Je(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&p(e)}}}function N2(i){let e=i[2],n,t,l=Ym(i);return{c(){l.c(),n=ie()},m(o,r){l.m(o,r),h(o,n,r),t=!0},p(o,r){r&4&&He(e,e=o[2])?(x(),k(l,1,1,Z),ee(),l=Ym(o),l.c(),b(l,1),l.m(n.parentNode,n)):l.p(o,r)},i(o){t||(b(l),t=!0)},o(o){k(l),t=!1},d(o){o&&p(n),l.d(o)}}}function O2(i){let e,n;return e=new E2({props:{type:i[2].type,data:i[1]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.type=t[2].type),l&2&&(o.data=t[1]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function B2(i){let e,n;return e=new c2({props:{item:i[2],data:i[1]}}),{c(){F(e.$$.fragment)},m(t,l){q(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.item=t[2]),l&2&&(o.data=t[1]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){P(e,t)}}}function Ym(i){let e,n,t,l;const o=[B2,O2],r=[];function f(a,s){return a[2].id?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=ie()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function A2(i){let e;return{c(){e=g("em"),e.textContent="(loading...)",Je(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:Z,d(n){n&&p(e)}}}function M2(i){let e;function n(o,r){if(o[3])return L2;if(o[1])return D2}let t=n(i),l=t&&t(i);return{c(){l&&l.c(),e=ie()},m(o,r){l&&l.m(o,r),h(o,e,r)},p(o,r){t===(t=n(o))&&l?l.p(o,r):(l&&l.d(1),l=t&&t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l&&l.d(o),o&&p(e)}}}function D2(i){let e,n,t=i[1].build_number+"",l,o;return{c(){e=g("select"),n=g("option"),l=w(t),n.__value=o=i[1].build_number,n.value=n.__value,e.disabled=!0},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f&2&&t!==(t=r[1].build_number+"")&&W(l,t),f&10&&o!==(o=r[1].build_number)&&(n.__value=o,n.value=n.__value)},d(r){r&&p(e)}}}function L2(i){let e,n,t,l,o,r,f=i[3].filter(zm),a=[];for(let c=0;c<f.length;c+=1)a[c]=jm(qm(i,f,c));let s=i[3].filter(Vm),u=[];for(let c=0;c<s.length;c+=1)u[c]=Hm(Um(i,s,c));return{c(){e=g("select"),n=g("optgroup");for(let c=0;c<a.length;c+=1)a[c].c();t=g("optgroup");for(let c=0;c<u.length;c+=1)u[c].c();ue(n,"label","Stable"),ue(t,"label","Experimental")},m(c,m){var $,v;h(c,e,m),d(e,n);for(let E=0;E<a.length;E+=1)a[E].m(n,null);d(e,t);for(let E=0;E<u.length;E+=1)u[E].m(t,null);Ri(e,(v=($=i[1])==null?void 0:$.build_number)!=null?v:i[6]==="latest"?i[3][0].build_number:i[6]),o||(r=Tn(e,"change",i[15]),o=!0)},p(c,m){var $,v,E,T;if(m&8){f=c[3].filter(zm);let y;for(y=0;y<f.length;y+=1){const S=qm(c,f,y);a[y]?a[y].p(S,m):(a[y]=jm(S),a[y].c(),a[y].m(n,null))}for(;y<a.length;y+=1)a[y].d(1);a.length=f.length}if(m&8){s=c[3].filter(Vm);let y;for(y=0;y<s.length;y+=1){const S=Um(c,s,y);u[y]?u[y].p(S,m):(u[y]=Hm(S),u[y].c(),u[y].m(t,null))}for(;y<u.length;y+=1)u[y].d(1);u.length=s.length}m&10&&l!==(l=(v=($=c[1])==null?void 0:$.build_number)!=null?v:c[6]==="latest"?c[3][0].build_number:c[6])&&Ri(e,(T=(E=c[1])==null?void 0:E.build_number)!=null?T:c[6]==="latest"?c[3][0].build_number:c[6])},d(c){c&&p(e),ce(a,c),ce(u,c),o=!1,r()}}}function jm(i){let e,n=i[21].build_number+"",t,l;return{c(){e=g("option"),t=w(n),e.__value=l=i[21].build_number,e.value=e.__value},m(o,r){h(o,e,r),d(e,t)},p(o,r){r&8&&n!==(n=o[21].build_number+"")&&W(t,n),r&8&&l!==(l=o[21].build_number)&&(e.__value=l,e.value=e.__value)},d(o){o&&p(e)}}}function G2(i){let e;return{c(){e=w("\xA0(latest)")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Hm(i){let e,n=i[21].build_number+"",t,l,o=i[23]===0&&G2();return{c(){e=g("option"),t=w(n),o&&o.c(),e.__value=l=i[21].build_number,e.value=e.__value},m(r,f){h(r,e,f),d(e,t),o&&o.m(e,null)},p(r,f){f&8&&n!==(n=r[21].build_number+"")&&W(t,n),f&8&&l!==(l=r[21].build_number)&&(e.__value=l,e.value=e.__value)},d(r){r&&p(e),o&&o.d()}}}function Wm(i){let e,n=i[18]+"",t,l;return{c(){e=g("option"),t=w(n),e.__value=l=i[10],e.value=e.__value},m(o,r){h(o,e,r),d(e,t)},p:Z,d(o){o&&p(e)}}}function U2(i){let e,n,t,l,o,r,f,a,s,u,c,m,$,v,E,T,y,S,I,B,O;const N=[I2,C2,S2],R=[];function G(j,U){return j[2]?0:j[4]?1:2}c=G(i),m=R[c]=N[c](i);function M(j,U){return j[1]||j[3]?M2:A2}let X=M(i),A=X(i),D=i[7],J=[];for(let j=0;j<D.length;j+=1)J[j]=Wm(Gm(i,D,j));return{c(){e=g("header"),n=g("nav"),t=g("div"),l=g("strong"),o=g("a"),o.textContent="Hitchhiker's Guide to the Cataclysm",r=C(),f=g("div"),a=g("input"),s=C(),u=g("main"),m.c(),$=C(),v=g("p"),E=w(`Build:
    `),A.c(),T=w(`
    Tiles:
    
    `),y=g("select"),S=g("option"),S.textContent="None (ASCII)";for(let j=0;j<J.length;j+=1)J[j].c();ue(o,"href","#"),ue(t,"class","title svelte-16u5hjb"),Je(a,"margin","0"),Je(a,"width","100%"),ue(a,"placeholder","Search..."),ue(a,"id","search"),ue(f,"class","search svelte-16u5hjb"),ue(n,"class","svelte-16u5hjb"),ue(e,"class","svelte-16u5hjb"),S.__value="",S.value=S.__value,ue(u,"class","svelte-16u5hjb")},m(j,U){h(j,e,U),d(e,n),d(n,t),d(t,l),d(l,o),d(n,r),d(n,f),d(f,a),Io(a,i[4]),h(j,s,U),h(j,u,U),R[c].m(u,null),d(u,$),d(u,v),d(v,E),A.m(v,null),d(v,T),d(v,y),d(y,S);for(let Y=0;Y<J.length;Y+=1)J[Y].m(y,null);Ri(y,i[0]),I=!0,B||(O=[Tn(Lm,"hashchange",i[8]),Tn(Lm,"keydown",P2),Tn(o,"click",i[12]),Tn(a,"input",i[13]),Tn(a,"input",i[9]),Tn(y,"change",i[16])],B=!0)},p(j,[U]){U&16&&a.value!==j[4]&&Io(a,j[4]);let Y=c;if(c=G(j),c===Y?R[c].p(j,U):(x(),k(R[Y],1,1,()=>{R[Y]=null}),ee(),m=R[c],m?m.p(j,U):(m=R[c]=N[c](j),m.c()),b(m,1),m.m(u,$)),X===(X=M(j))&&A?A.p(j,U):(A.d(1),A=X(j),A&&(A.c(),A.m(v,T))),U&128){D=j[7];let L;for(L=0;L<D.length;L+=1){const H=Gm(j,D,L);J[L]?J[L].p(H,U):(J[L]=Wm(H),J[L].c(),J[L].m(y,null))}for(;L<J.length;L+=1)J[L].d(1);J.length=D.length}(!I||U&129)&&Ri(y,j[0])},i(j){I||(b(m),I=!0)},o(j){k(m),I=!1},d(j){j&&p(e),j&&p(s),j&&p(u),R[c].d(),A.d(),ce(J,j),B=!1,Sl(O)}}}function q2(i){const e=new URL(location.href);return e.hash=i,e.toString()}function P2(i){i.key==="/"&&document.activeElement.id!=="search"&&(document.getElementById("search").focus(),i.preventDefault())}const zm=i=>!i.prerelease,Vm=i=>i.prerelease;function F2(i,e,n){var O;let t,l;Sp(i,Ao,N=>n(1,l=N));let o=null,r=null;fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/builds.json").then(N=>N.json()).then(N=>{n(3,r=N)});const f=new URL(location.href),a=(O=f.searchParams.get("v"))!=null?O:"latest";Ao.setVersion(a);const s=[{name:"AltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Altica"},{name:"BrownLikeBears",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/BrownLikeBears"},{name:"Chibi_Ultica",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/ChibiUltica"},{name:"Cuteclysm(Alpha)",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Cuteclysm"},{name:"Hollow Moon",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/HollowMoon"},{name:"MSXotto+",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/MshockXotto%2B"},{name:"NeoDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/NeoDaysTileset"},{name:"RetroDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/RetroDaysTileset"},{name:"UltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/UltimateCataclysm"}],u=N=>N==="null"||!N?"":N;let c=u(localStorage.getItem("cdda-guide:tileset"));function m(){const N=window.location.hash.slice(1);let R;if(R=/^\/([^\/]+)(?:\/(.+))?$/.exec(N)){const[,G,M]=R;G==="search"?(n(2,o=null),n(4,$=decodeURIComponent(M!=null?M:""))):M?n(2,o={type:G,id:decodeURIComponent(M)}):n(2,o={type:G,id:""}),window.scrollTo(0,0)}else n(2,o=null),n(4,$="")}P1(m);let $="";const v=()=>{o?history.pushState(null,"",location.href.replace(/#.*$/,"")):history.replaceState(null,"",q2("/search/"+$)),n(2,o=null)};let E;window.addEventListener("beforeinstallprompt",N=>{n(5,E=N)});const T=()=>n(4,$="");function y(){$=this.value,n(4,$)}const S=N=>{N.preventDefault(),E.prompt()},I=N=>{const R=new URL(location.href),G=N.currentTarget.value;G===r[0].build_number?R.searchParams.delete("v"):R.searchParams.set("v",G),location.href=R.toString()},B=N=>{n(0,c=N.currentTarget.value)};return i.$$.update=()=>{i.$$.dirty&1&&localStorage.setItem("cdda-guide:tileset",u(c)),i.$$.dirty&3&&n(11,t=l?c.replace("{version}",l.build_number):null),i.$$.dirty&2048&&Lp.setURL(t)},[c,l,o,r,$,E,a,s,m,v,f,t,T,y,S,I,B]}class Y2 extends Ve{constructor(e){super(),ze(this,e,F2,U2,He,{})}}function j2(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function zi(){return!j2()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function zn(i,e){return i.require(e)}function H2(i){let e;try{e=zn(qn,i)}catch{}try{const{cwd:n}=zn(qn,"process");e=zn(qn,`${n()}/node_modules/${i}`)}catch{}return e}var W2={};function Et(){return zi()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:W2}function Ur(i,e,n){var t=n||Et(),l=t.__SENTRY__=t.__SENTRY__||{},o=l[i]||(l[i]=e());return o}var Vp=Object.prototype.toString;function Xp(i){switch(Vp.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Pn(i,Error)}}function Cl(i,e){return Vp.call(i)===`[object ${e}]`}function Jp(i){return Cl(i,"ErrorEvent")}function Xm(i){return Cl(i,"DOMError")}function z2(i){return Cl(i,"DOMException")}function kl(i){return Cl(i,"String")}function Kp(i){return i===null||typeof i!="object"&&typeof i!="function"}function yl(i){return Cl(i,"Object")}function qr(i){return typeof Event!="undefined"&&Pn(i,Event)}function V2(i){return typeof Element!="undefined"&&Pn(i,Element)}function X2(i){return Cl(i,"RegExp")}function Pr(i){return Boolean(i&&i.then&&typeof i.then=="function")}function J2(i){return yl(i)&&"nativeEvent"in i&&"preventDefault"in i&&"stopPropagation"in i}function Qp(i){return typeof i=="number"&&i!==i}function Pn(i,e){try{return i instanceof e}catch{return!1}}function oi(i,e){try{let f=i;var n=5,t=80,l=[];let a=0,s=0;var o=" > ",r=o.length;let u;for(;f&&a++<n&&(u=K2(f,e),!(u==="html"||a>1&&s+l.length*r+u.length>=t));)l.push(u),s+=u.length,f=f.parentNode;return l.reverse().join(o)}catch{return"<unknown>"}}function K2(i,e){var n=i,t=[];let l,o,r,f,a;if(!n||!n.tagName)return"";t.push(n.tagName.toLowerCase());var s=e&&e.length?e.filter(c=>n.getAttribute(c)).map(c=>[c,n.getAttribute(c)]):null;if(s&&s.length)s.forEach(c=>{t.push(`[${c[0]}="${c[1]}"]`)});else if(n.id&&t.push(`#${n.id}`),l=n.className,l&&kl(l))for(o=l.split(/\s+/),a=0;a<o.length;a++)t.push(`.${o[a]}`);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],f=n.getAttribute(r),f&&t.push(`[${r}="${f}"]`);return t.join("")}function Q2(){var i=Et();try{return i.document.location.href}catch{return""}}class fn extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var Z2=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function x2(i){return i==="http"||i==="https"}function Fr(i,e=!1){const{host:n,path:t,pass:l,port:o,projectId:r,protocol:f,publicKey:a}=i;return`${f}://${a}${e&&l?`:${l}`:""}@${n}${o?`:${o}`:""}/${t&&`${t}/`}${r}`}function eE(i){var e=Z2.exec(i);if(!e)throw new fn(`Invalid Sentry Dsn: ${i}`);const[n,t,l="",o,r="",f]=e.slice(1);let a="",s=f;var u=s.split("/");if(u.length>1&&(a=u.slice(0,-1).join("/"),s=u.pop()),s){var c=s.match(/^\d+/);c&&(s=c[0])}return Zp({host:o,pass:l,path:a,projectId:s,port:r,protocol:n,publicKey:t})}function Zp(i){return{protocol:i.protocol,publicKey:i.publicKey||"",pass:i.pass||"",host:i.host,port:i.port||"",path:i.path||"",projectId:i.projectId}}function tE(i){if(!(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__))return;const{port:e,projectId:n,protocol:t}=i;var l=["protocol","publicKey","host","projectId"];if(l.forEach(o=>{if(!i[o])throw new fn(`Invalid Sentry Dsn: ${o} missing`)}),!n.match(/^\d+$/))throw new fn(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!x2(t))throw new fn(`Invalid Sentry Dsn: Invalid protocol ${t}`);if(e&&isNaN(parseInt(e,10)))throw new fn(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function nE(i){var e=typeof i=="string"?eE(i):Zp(i);return tE(e),e}var lE=Et(),iE="Sentry Logger ",Yi=["debug","info","warn","error","log","assert","trace"];function xp(i){var e=Et();if(!("console"in e))return i();var n=e.console,t={};Yi.forEach(l=>{var o=n[l]&&n[l].__sentry_original__;l in e.console&&o&&(t[l]=n[l],n[l]=o)});try{return i()}finally{Object.keys(t).forEach(l=>{n[l]=t[l]})}}function Jm(){let i=!1;var e={enable:()=>{i=!0},disable:()=>{i=!1}};return typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Yi.forEach(n=>{e[n]=(...t)=>{i&&xp(()=>{lE.console[n](`${iE}[${n}]:`,...t)})}}):Yi.forEach(n=>{e[n]=()=>{}}),e}let Ae;typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Ae=Ur("logger",Jm):Ae=Jm();function ni(i,e=0){return typeof i!="string"||e===0||i.length<=e?i:`${i.substr(0,e)}...`}function Km(i,e){if(!Array.isArray(i))return"";var n=[];for(let l=0;l<i.length;l++){var t=i[l];try{n.push(String(t))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function fi(i,e){return kl(i)?X2(e)?e.test(i):typeof e=="string"?i.indexOf(e)!==-1:!1:!1}function sn(i,e,n){if(e in i){var t=i[e],l=n(t);if(typeof l=="function")try{e1(l,t)}catch{}i[e]=l}}function Yr(i,e,n){Object.defineProperty(i,e,{value:n,writable:!0,configurable:!0})}function e1(i,e){var n=e.prototype||{};i.prototype=e.prototype=n,Yr(i,"__sentry_original__",e)}function jr(i){return i.__sentry_original__}function rE(i){return Object.keys(i).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`).join("&")}function t1(i){if(Xp(i))return{message:i.message,name:i.name,stack:i.stack,...Zm(i)};if(qr(i)){var e={type:i.type,target:Qm(i.target),currentTarget:Qm(i.currentTarget),...Zm(i)};return typeof CustomEvent!="undefined"&&Pn(i,CustomEvent)&&(e.detail=i.detail),e}else return i}function Qm(i){try{return V2(i)?oi(i):Object.prototype.toString.call(i)}catch{return"<unknown>"}}function Zm(i){if(typeof i=="object"&&i!==null){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e}else return{}}function oE(i,e=40){var n=Object.keys(t1(i));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return ni(n[0],e);for(let l=n.length;l>0;l--){var t=n.slice(0,l).join(", ");if(!(t.length>e))return l===n.length?t:ni(t,e)}return""}function nl(i){var e=new Map;return Er(i,e)}function Er(i,e){if(yl(i)){var n=e.get(i);if(n!==void 0)return n;var t={};e.set(i,t);for(var l of Object.keys(i))typeof i[l]!="undefined"&&(t[l]=Er(i[l],e));return t}if(Array.isArray(i)){var n=e.get(i);if(n!==void 0)return n;var t=[];return e.set(i,t),i.forEach(f=>{t.push(Er(f,e))}),t}return i}var fE=50;function n1(...i){var e=i.sort((n,t)=>n[0]-t[0]).map(n=>n[1]);return(n,t=0)=>{var l=[];for(var o of n.split(`
`).slice(t))for(var r of e){var f=r(o);if(f){l.push(f);break}}return aE(l)}}function sE(i){return Array.isArray(i)?n1(...i):i}function aE(i){if(!i.length)return[];let e=i;var n=e[0].function||"",t=e[e.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(e=e.slice(1)),t.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,fE).map(l=>({...l,filename:l.filename||e[0].filename,function:l.function||"?"})).reverse()}var fr="<anonymous>";function Kn(i){try{return!i||typeof i!="function"?fr:i.name||fr}catch{return fr}}function Hr(){if(!("fetch"in Et()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Tr(i){return i&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(i.toString())}function uE(){if(!Hr())return!1;var i=Et();if(Tr(i.fetch))return!0;let e=!1;var n=i.document;if(n&&typeof n.createElement=="function")try{var t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(e=Tr(t.contentWindow.fetch)),n.head.removeChild(t)}catch(l){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",l)}return e}function cE(){var i=Et(),e=i.chrome,n=e&&e.app&&e.app.runtime,t="history"in i&&!!i.history.pushState&&!!i.history.replaceState;return!n&&t}var Rt=Et(),li={},xm={};function _E(i){if(!xm[i])switch(xm[i]=!0,i){case"console":dE();break;case"dom":yE();break;case"xhr":gE();break;case"fetch":mE();break;case"history":bE();break;case"error":wE();break;case"unhandledrejection":EE();break;default:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("unknown instrumentation type:",i);return}}function _n(i,e){li[i]=li[i]||[],li[i].push(e),_E(i)}function kn(i,e){if(!(!i||!li[i]))for(var n of li[i]||[])try{n(e)}catch(t){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error(`Error while triggering instrumentation handler.
Type: ${i}
Name: ${Kn(n)}
Error:`,t)}}function dE(){"console"in Rt&&Yi.forEach(function(i){i in Rt.console&&sn(Rt.console,i,function(e){return function(...n){kn("console",{args:n,level:i}),e&&e.apply(Rt.console,n)}})})}function mE(){!uE()||sn(Rt,"fetch",function(i){return function(...e){var n={args:e,fetchData:{method:pE(e),url:hE(e)},startTimestamp:Date.now()};return kn("fetch",{...n}),i.apply(Rt,e).then(t=>(kn("fetch",{...n,endTimestamp:Date.now(),response:t}),t),t=>{throw kn("fetch",{...n,endTimestamp:Date.now(),error:t}),t})}})}function pE(i=[]){return"Request"in Rt&&Pn(i[0],Request)&&i[0].method?String(i[0].method).toUpperCase():i[1]&&i[1].method?String(i[1].method).toUpperCase():"GET"}function hE(i=[]){return typeof i[0]=="string"?i[0]:"Request"in Rt&&Pn(i[0],Request)?i[0].url:String(i[0])}function gE(){if("XMLHttpRequest"in Rt){var i=XMLHttpRequest.prototype;sn(i,"open",function(e){return function(...n){var t=this,l=n[1],o=t.__sentry_xhr__={method:kl(n[0])?n[0].toUpperCase():n[0],url:n[1]};kl(l)&&o.method==="POST"&&l.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var r=function(){if(t.readyState===4){try{o.status_code=t.status}catch{}kn("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:t})}};return"onreadystatechange"in t&&typeof t.onreadystatechange=="function"?sn(t,"onreadystatechange",function(f){return function(...a){return r(),f.apply(t,a)}}):t.addEventListener("readystatechange",r),e.apply(t,n)}}),sn(i,"send",function(e){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),kn("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}}let bi;function bE(){if(!cE())return;var i=Rt.onpopstate;Rt.onpopstate=function(...n){var t=Rt.location.href,l=bi;if(bi=t,kn("history",{from:l,to:t}),i)try{return i.apply(this,n)}catch{}};function e(n){return function(...t){var l=t.length>2?t[2]:void 0;if(l){var o=bi,r=String(l);bi=r,kn("history",{from:o,to:r})}return n.apply(this,t)}}sn(Rt.history,"pushState",e),sn(Rt.history,"replaceState",e)}var $E=1e3;let $i,vi;function vE(i,e){if(!i||i.type!==e.type)return!0;try{if(i.target!==e.target)return!0}catch{}return!1}function kE(i){if(i.type!=="keypress")return!1;try{var e=i.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function ep(i,e=!1){return n=>{if(!(!n||vi===n)&&!kE(n)){var t=n.type==="keypress"?"input":n.type;$i===void 0?(i({event:n,name:t,global:e}),vi=n):vE(vi,n)&&(i({event:n,name:t,global:e}),vi=n),clearTimeout($i),$i=Rt.setTimeout(()=>{$i=void 0},$E)}}}function yE(){if("document"in Rt){var i=kn.bind(null,"dom"),e=ep(i,!0);Rt.document.addEventListener("click",e,!1),Rt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{var t=Rt[n]&&Rt[n].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(sn(t,"addEventListener",function(l){return function(o,r,f){if(o==="click"||o=="keypress")try{var a=this,s=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},u=s[o]=s[o]||{refCount:0};if(!u.handler){var c=ep(i);u.handler=c,l.call(this,o,c,f)}u.refCount+=1}catch{}return l.call(this,o,r,f)}}),sn(t,"removeEventListener",function(l){return function(o,r,f){if(o==="click"||o=="keypress")try{var a=this,s=a.__sentry_instrumentation_handlers__||{},u=s[o];u&&(u.refCount-=1,u.refCount<=0&&(l.call(this,o,u.handler,f),u.handler=void 0,delete s[o]),Object.keys(s).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return l.call(this,o,r,f)}}))})}}let sr=null;function wE(){sr=Rt.onerror,Rt.onerror=function(i,e,n,t,l){return kn("error",{column:t,error:l,line:n,msg:i,url:e}),sr?sr.apply(this,arguments):!1}}let ar=null;function EE(){ar=Rt.onunhandledrejection,Rt.onunhandledrejection=function(i){return kn("unhandledrejection",i),ar?ar.apply(this,arguments):!0}}function TE(){var i=typeof WeakSet=="function",e=i?new WeakSet:[];function n(l){if(i)return e.has(l)?!0:(e.add(l),!1);for(let r=0;r<e.length;r++){var o=e[r];if(o===l)return!0}return e.push(l),!1}function t(l){if(i)e.delete(l);else for(let o=0;o<e.length;o++)if(e[o]===l){e.splice(o,1);break}}return[n,t]}function Vn(){var i=Et(),e=i.crypto||i.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var t=l=>{let o=l.toString(16);for(;o.length<4;)o=`0${o}`;return o};return t(n[0])+t(n[1])+t(n[2])+t(n[3])+t(n[4])+t(n[5])+t(n[6])+t(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,l=>{var o=Math.random()*16|0,r=l==="x"?o:o&3|8;return r.toString(16)})}function ur(i){if(!i)return{};var e=i.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",t=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+t}}function l1(i){return i.exception&&i.exception.values?i.exception.values[0]:void 0}function tl(i){const{message:e,event_id:n}=i;if(e)return e;var t=l1(i);return t?t.type&&t.value?`${t.type}: ${t.value}`:t.type||t.value||n||"<unknown>":n||"<unknown>"}function Sr(i,e,n){var t=i.exception=i.exception||{},l=t.values=t.values||[],o=l[0]=l[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function si(i,e){var n=l1(i);if(!!n){var t={type:"generic",handled:!0},l=n.mechanism;if(n.mechanism={...t,...l,...e},e&&"data"in e){var o={...l&&l.data,...e.data};n.mechanism.data=o}}}function tp(i){if(i&&i.__sentry_captured__)return!0;try{Yr(i,"__sentry_captured__",!0)}catch{}return!1}function Zn(i,e=1/0,n=1/0){try{return r1("",i,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function i1(i,e=3,n=100*1024){var t=Zn(i,e);return IE(t)>n?i1(i,e-1,n):t}function r1(i,e,n=1/0,t=1/0,l=TE()){const[o,r]=l;var f=e;if(f&&typeof f.toJSON=="function")try{return f.toJSON()}catch{}if(e===null||["number","boolean","string"].includes(typeof e)&&!Qp(e))return e;var a=SE(i,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;if(n===0)return a.replace("object ","");if(o(e))return"[Circular ~]";var s=Array.isArray(e)?[]:{};let u=0;var c=t1(e);for(var m in c)if(!!Object.prototype.hasOwnProperty.call(c,m)){if(u>=t){s[m]="[MaxProperties ~]";break}var $=c[m];s[m]=r1(m,$,n-1,t,l),u+=1}return r(e),s}function SE(i,e){try{return i==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":i==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":J2(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${Kn(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(n){return`**non-serializable** (${n})`}}function CE(i){return~-encodeURI(i).split(/%..|./).length}function IE(i){return CE(JSON.stringify(i))}var Un;(function(i){var e=0;i[i.PENDING=e]="PENDING";var n=1;i[i.RESOLVED=n]="RESOLVED";var t=2;i[i.REJECTED=t]="REJECTED"})(Un||(Un={}));function il(i){return new un(e=>{e(i)})}function Cr(i){return new un((e,n)=>{n(i)})}class un{__init(){this._state=Un.PENDING}__init2(){this._handlers=[]}constructor(e){un.prototype.__init.call(this),un.prototype.__init2.call(this),un.prototype.__init3.call(this),un.prototype.__init4.call(this),un.prototype.__init5.call(this),un.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new un((t,l)=>{this._handlers.push([!1,o=>{if(!e)t(o);else try{t(e(o))}catch(r){l(r)}},o=>{if(!n)l(o);else try{t(n(o))}catch(r){l(r)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new un((n,t)=>{let l,o;return this.then(r=>{o=!1,l=r,e&&e()},r=>{o=!0,l=r,e&&e()}).then(()=>{if(o){t(l);return}n(l)})})}__init3(){this._resolve=e=>{this._setResult(Un.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(Un.REJECTED,e)}}__init5(){this._setResult=(e,n)=>{if(this._state===Un.PENDING){if(Pr(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==Un.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Un.RESOLVED&&n[1](this._value),this._state===Un.REJECTED&&n[2](this._value),n[0]=!0)})}}}}function RE(i){var e=[];function n(){return i===void 0||e.length<i}function t(r){return e.splice(e.indexOf(r),1)[0]}function l(r){if(!n())return Cr(new fn("Not adding Promise due to buffer limit reached."));var f=r();return e.indexOf(f)===-1&&e.push(f),f.then(()=>t(f)).then(null,()=>t(f).then(null,()=>{})),f}function o(r){return new un((f,a)=>{let s=e.length;if(!s)return f(!0);var u=setTimeout(()=>{r&&r>0&&f(!1)},r);e.forEach(c=>{il(c).then(()=>{--s||(clearTimeout(u),f(!0))},a)})})}return{$:e,add:l,drain:o}}function Hn(i,e){return i!=null?i:e()}function NE(i){let e,n=i[0],t=1;for(;t<i.length;){var l=i[t],o=i[t+1];if(t+=2,(l==="optionalAccess"||l==="optionalCall")&&n==null)return;l==="access"||l==="optionalAccess"?(e=n,n=o(n)):(l==="call"||l==="optionalCall")&&(n=o((...r)=>n.call(e,...r)),e=void 0)}return n}var OE=["fatal","error","warning","log","info","debug"];function BE(i){return i==="warn"?"warning":OE.includes(i)?i:"log"}var Ir={nowSeconds:()=>Date.now()/1e3};function AE(){const{performance:i}=Et();if(!(!i||!i.now)){var e=Date.now()-i.now();return{now:()=>i.now(),timeOrigin:e}}}function ME(){try{var i=zn(qn,"perf_hooks");return i.performance}catch{return}}var cr=zi()?ME():AE(),np=cr===void 0?Ir:{nowSeconds:()=>(cr.timeOrigin+cr.now())/1e3},Vi=Ir.nowSeconds.bind(Ir),Wr=np.nowSeconds.bind(np),ai=Wr,ui=(()=>{const{performance:i}=Et();if(!(!i||!i.now)){var e=3600*1e3,n=i.now(),t=Date.now(),l=i.timeOrigin?Math.abs(i.timeOrigin+n-t):e,o=l<e,r=i.timing&&i.timing.navigationStart,f=typeof r=="number",a=f?Math.abs(r+n-t):e,s=a<e;return o||s?l<=a?i.timeOrigin:r:t}})(),DE=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function LE(i){var e=i.match(DE);if(e){let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}function Xi(i,e=[]){return[i,e]}function GE(i,e){const[n,t]=i;return[n,[...t,e]]}function lp(i,e){var n=i[1];n.forEach(t=>{var l=t[0].type;e(t,l)})}function Rr(i,e){var n=e||new TextEncoder;return n.encode(i)}function o1(i,e){const[n,t]=i;let l=JSON.stringify(n);function o(f){typeof l=="string"?l=typeof f=="string"?l+f:[Rr(l,e),f]:l.push(typeof f=="string"?Rr(f,e):f)}for(var r of t){const[f,a]=r;o(`
${JSON.stringify(f)}
`),o(typeof a=="string"||a instanceof Uint8Array?a:JSON.stringify(a))}return typeof l=="string"?l:UE(l)}function UE(i){var e=i.reduce((o,r)=>o+r.length,0),n=new Uint8Array(e);let t=0;for(var l of i)n.set(l,t),t+=l.length;return n}function qE(i,e){var n=typeof i.data=="string"?Rr(i.data,e):i.data;return[nl({type:"attachment",length:n.length,filename:i.filename,content_type:i.contentType,attachment_type:i.attachmentType}),n]}var PE={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function ip(i){return PE[i]}function FE(i,e,n){var t=[{type:"client_report"},{timestamp:n||Vi(),discarded_events:i}];return Xi(e?{dsn:e}:{},[t])}var YE=60*1e3;function jE(i,e=Date.now()){var n=parseInt(`${i}`,10);if(!isNaN(n))return n*1e3;var t=Date.parse(`${i}`);return isNaN(t)?YE:t-e}function HE(i,e){return i[e]||i.all||0}function WE(i,e,n=Date.now()){return HE(i,e)>n}function zE(i,{statusCode:e,headers:n},t=Date.now()){var l={...i},o=n&&n["x-sentry-rate-limits"],r=n&&n["retry-after"];if(o)for(var f of o.trim().split(",")){const[c,m]=f.split(":",2);var a=parseInt(c,10),s=(isNaN(a)?60:a)*1e3;if(!m)l.all=t+s;else for(var u of m.split(";"))l[u]=t+s}else r?l.all=t+jE(r,t):e===429&&(l.all=t+60*1e3);return l}var ul="baggage",VE="sentry-",XE=/^sentry-/,JE=8192;function f1(i,e="",n=!0){return[{...i},e,n]}function rp(i,e,n){s1(i)&&(i[0][e]=n)}function Nr(i){return Object.keys(i[0]).length===0}function KE(i){return i[0]}function QE(i){return i[1]}function s1(i){return i[2]}function a1(i){i[2]=!1}function ZE(i){return Object.keys(i[0]).reduce((e,n)=>{var t=i[0][n],l=`${VE}${encodeURIComponent(n)}=${encodeURIComponent(t)}`,o=e===""?l:`${e},${l}`;return o.length>JE?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Not adding key: ${n} with val: ${t} to baggage due to exceeding baggage size limits.`),e):o},i[1])}function u1(i){return i.split(",").reduce(([e,n],t)=>{const[l,o]=t.split("=");if(XE.test(l)){var r=decodeURIComponent(l.split("-")[1]);return[{...e,[r]:decodeURIComponent(o)},n,!0]}else return[e,n===""?t:`${n},${t}`,!0]},[{},"",!0])}function ei(i,e){if(!i&&!e)return"";var n=e&&u1(e)||void 0,t=n&&QE(n),l=f1(i&&i[0]||{},t||i&&i[1]||"");return ZE(l)}function xE(i,e){var n=u1(i||"");return(!Nr(n)||e&&Nr(n))&&a1(n),n}function eT(i){var e=Wr(),n={sid:Vn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>nT(n)};return i&&wl(n,i),n}function wl(i,e={}){if(e.user&&(!i.ipAddress&&e.user.ip_address&&(i.ipAddress=e.user.ip_address),!i.did&&!e.did&&(i.did=e.user.id||e.user.email||e.user.username)),i.timestamp=e.timestamp||Wr(),e.ignoreDuration&&(i.ignoreDuration=e.ignoreDuration),e.sid&&(i.sid=e.sid.length===32?e.sid:Vn()),e.init!==void 0&&(i.init=e.init),!i.did&&e.did&&(i.did=`${e.did}`),typeof e.started=="number"&&(i.started=e.started),i.ignoreDuration)i.duration=void 0;else if(typeof e.duration=="number")i.duration=e.duration;else{var n=i.timestamp-i.started;i.duration=n>=0?n:0}e.release&&(i.release=e.release),e.environment&&(i.environment=e.environment),!i.ipAddress&&e.ipAddress&&(i.ipAddress=e.ipAddress),!i.userAgent&&e.userAgent&&(i.userAgent=e.userAgent),typeof e.errors=="number"&&(i.errors=e.errors),e.status&&(i.status=e.status)}function tT(i,e){let n={};e?n={status:e}:i.status==="ok"&&(n={status:"exited"}),wl(i,n)}function nT(i){return nl({sid:`${i.sid}`,init:i.init,started:new Date(i.started*1e3).toISOString(),timestamp:new Date(i.timestamp*1e3).toISOString(),status:i.status,errors:i.errors,did:typeof i.did=="number"||typeof i.did=="string"?`${i.did}`:void 0,duration:i.duration,attrs:{release:i.release,environment:i.environment,ip_address:i.ipAddress,user_agent:i.userAgent}})}var op=100;class qt{constructor(){qt.prototype.__init.call(this),qt.prototype.__init2.call(this),qt.prototype.__init3.call(this),qt.prototype.__init4.call(this),qt.prototype.__init5.call(this),qt.prototype.__init6.call(this),qt.prototype.__init7.call(this),qt.prototype.__init8.call(this),qt.prototype.__init9.call(this),qt.prototype.__init10.call(this)}__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(e){var n=new qt;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments]),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&wl(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts={...this._contexts,[e]:n},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof qt?n:this}return e instanceof qt?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):yl(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,n){var t=typeof n=="number"?Math.min(n,op):op;if(t<=0)return this;var l={timestamp:Vi(),...e};return this._breadcrumbs=[...this._breadcrumbs,l].slice(-t),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors([...c1(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,n,t,l=0){return new un((o,r)=>{var f=e[l];if(n===null||typeof f!="function")o(n);else{var a=f({...n},t);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&f.id&&a===null&&Ae.log(`Event processor "${f.id}" dropped event`),Pr(a)?a.then(s=>this._notifyEventProcessors(e,s,t,l+1).then(o)).then(null,r):this._notifyEventProcessors(e,a,t,l+1).then(o).then(null,r)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function c1(){return Ur("globalEventProcessors",()=>[])}function zr(i){c1().push(i)}var Vr=4,lT=100;class mi{__init(){this._stack=[{}]}constructor(e,n=new qt,t=Vr){this._version=t,mi.prototype.__init.call(this),this.getStackTop().scope=n,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=qt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){var t=this._lastEventId=n&&n.event_id?n.event_id:Vn(),l=new Error("Sentry syntheticException");return this._withClient((o,r)=>{o.captureException(e,{originalException:e,syntheticException:l,...n,event_id:t},r)}),t}captureMessage(e,n,t){var l=this._lastEventId=t&&t.event_id?t.event_id:Vn(),o=new Error(e);return this._withClient((r,f)=>{r.captureMessage(e,n,{originalException:e,syntheticException:o,...t,event_id:l},f)}),l}captureEvent(e,n){var t=n&&n.event_id?n.event_id:Vn();return e.type!=="transaction"&&(this._lastEventId=t),this._withClient((l,o)=>{l.captureEvent(e,{...n,event_id:t},o)}),t}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:t,client:l}=this.getStackTop();if(!t||!l)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:r=lT}=l.getOptions&&l.getOptions()||{};if(!(r<=0)){var f=Vi(),a={timestamp:f,...e},s=o?xp(()=>o(a,n)):a;s!==null&&t.addBreadcrumb(s,r)}}setUser(e){var n=this.getScope();n&&n.setUser(e)}setTags(e){var n=this.getScope();n&&n.setTags(e)}setExtras(e){var n=this.getScope();n&&n.setExtras(e)}setTag(e,n){var t=this.getScope();t&&t.setTag(e,n)}setExtra(e,n){var t=this.getScope();t&&t.setExtra(e,n)}setContext(e,n){var t=this.getScope();t&&t.setContext(e,n)}configureScope(e){const{scope:n,client:t}=this.getStackTop();n&&t&&e(n)}run(e){var n=fp(this);try{e(this)}finally{fp(n)}}getIntegration(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){return this._callExtensionMethod("startTransaction",e,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),n=e&&e.scope,t=n&&n.getSession();t&&tT(t),this._sendSessionUpdate(),n&&n.setSession()}startSession(e){const{scope:n,client:t}=this.getStackTop(),{release:l,environment:o}=t&&t.getOptions()||{};var r=Et();const{userAgent:f}=r.navigator||{};var a=eT({release:l,environment:o,...n&&{user:n.getUser()},...f&&{userAgent:f},...e});if(n){var s=n.getSession&&n.getSession();s&&s.status==="ok"&&wl(s,{status:"exited"}),this.endSession(),n.setSession(a)}return a}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop();if(!!e){var t=e.getSession();t&&n&&n.captureSession&&n.captureSession(t)}}_withClient(e){const{scope:n,client:t}=this.getStackTop();t&&e(t,n)}_callExtensionMethod(e,...n){var t=Il(),l=t.__SENTRY__;if(l&&l.extensions&&typeof l.extensions[e]=="function")return l.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Il(){var i=Et();return i.__SENTRY__=i.__SENTRY__||{extensions:{},hub:void 0},i}function fp(i){var e=Il(),n=Wn(e);return Xr(e,i),n}function Lt(){var i=Il();return(!_1(i)||Wn(i).isOlderThan(Vr))&&Xr(i,new mi),zi()?iT(i):Wn(i)}function iT(i){try{var e=Il().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return Wn(i);if(!_1(n)||Wn(n).isOlderThan(Vr)){var t=Wn(i).getStackTop();Xr(n,new mi(t.client,qt.clone(t.scope)))}return Wn(n)}catch{return Wn(i)}}function _1(i){return!!(i&&i.__SENTRY__&&i.__SENTRY__.hub)}function Wn(i){return Ur("hub",()=>new mi,i)}function Xr(i,e){if(!i)return!1;var n=i.__SENTRY__=i.__SENTRY__||{};return n.hub=e,!0}function rT(i,e){return Lt().captureException(i,{captureContext:e})}function oT(i){Lt().withScope(i)}var fT="7";function sT(i){var e=i.protocol?`${i.protocol}:`:"",n=i.port?`:${i.port}`:"";return`${e}//${i.host}${n}${i.path?`/${i.path}`:""}/api/`}function aT(i){return`${sT(i)}${i.projectId}/envelope/`}function uT(i){return rE({sentry_key:i.publicKey,sentry_version:fT})}function d1(i,e){return e||`${aT(i)}?${uT(i)}`}function m1(i){if(!i||!i.sdk)return;const{name:e,version:n}=i.sdk;return{name:e,version:n}}function cT(i,e){return e&&(i.sdk=i.sdk||{},i.sdk.name=i.sdk.name||e.name,i.sdk.version=i.sdk.version||e.version,i.sdk.integrations=[...i.sdk.integrations||[],...e.integrations||[]],i.sdk.packages=[...i.sdk.packages||[],...e.packages||[]]),i}function _T(i,e,n,t){var l=m1(n),o={sent_at:new Date().toISOString(),...l&&{sdk:l},...!!t&&{dsn:Fr(e)}},r="aggregates"in i?[{type:"sessions"},i]:[{type:"session"},i];return Xi(o,[r])}function dT(i,e,n,t){var l=m1(n),o=i.type||"event";const{transactionSampling:r}=i.sdkProcessingMetadata||{},{method:f,rate:a}=r||{};cT(i,n&&n.sdk),delete i.sdkProcessingMetadata;var s=mT(i,l,t,e),u=[{type:o,sample_rates:[{id:f,rate:a}]},i];return Xi(s,[u])}function mT(i,e,n,t){var l=i.contexts&&i.contexts.baggage;const{environment:o,release:r,transaction:f,userid:a,usersegment:s}=l||{};return{event_id:i.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:Fr(t)},...i.type==="transaction"&&i.contexts&&i.contexts.trace&&{trace:nl({trace_id:i.contexts.trace.trace_id,public_key:t.publicKey,environment:o,release:r,transaction:f,...(a||s)&&{user:{id:a,segment:s}}})}}}var sp=[];function ap(i){return i.reduce((e,n)=>(e.every(t=>n.name!==t.name)&&e.push(n),e),[])}function pT(i){var e=i.defaultIntegrations&&[...i.defaultIntegrations]||[],n=i.integrations;let t=[...ap(e)];Array.isArray(n)?t=[...t.filter(r=>n.every(f=>f.name!==r.name)),...ap(n)]:typeof n=="function"&&(t=n(t),t=Array.isArray(t)?t:[t]);var l=t.map(r=>r.name),o="Debug";return l.indexOf(o)!==-1&&t.push(...t.splice(l.indexOf(o),1)),t}function hT(i){var e={};return i.forEach(n=>{e[n.name]=n,sp.indexOf(n.name)===-1&&(n.setupOnce(zr,Lt),sp.push(n.name),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`Integration installed: ${n.name}`))}),e}var up="Not capturing exception because it's already been captured.";class cl{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(cl.prototype.__init.call(this),cl.prototype.__init2.call(this),cl.prototype.__init3.call(this),cl.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=nE(e.dsn);var n=d1(this._dsn,e.tunnel);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("No DSN provided, client will not do anything.")}captureException(e,n,t){if(tp(e)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(up);return}let l=n&&n.event_id;return this._process(this.eventFromException(e,n).then(o=>this._captureEvent(o,n,t)).then(o=>{l=o})),l}captureMessage(e,n,t,l){let o=t&&t.event_id;var r=Kp(e)?this.eventFromMessage(String(e),n,t):this.eventFromException(e,t);return this._process(r.then(f=>this._captureEvent(f,t,l)).then(f=>{o=f})),o}captureEvent(e,n,t){if(n&&n.originalException&&tp(n.originalException)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(up);return}let l=n&&n.event_id;return this._process(this._captureEvent(e,n,t).then(o=>{l=o})),l}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),wl(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var n=this._transport;return n?this._isClientDoneProcessing(e).then(t=>n.flush(e).then(l=>t&&l)):il(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=hT(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,n={}){if(this._dsn){let l=dT(e,this._dsn,this._options._metadata,this._options.tunnel);for(var t of n.attachments||[])l=GE(l,qE(t,NE([this,"access",o=>o._options,"access",o=>o.transportOptions,"optionalAccess",o=>o.textEncoder])));this._sendEnvelope(l)}}sendSession(e){if(this._dsn){var n=_T(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n){if(this._options.sendClientReports){var t=`${e}:${n}`;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`Adding outcome: "${t}"`),this._outcomes[t]=this._outcomes[t]+1||1}}_updateSessionFromEvent(e,n){let t=!1,l=!1;var o=n.exception&&n.exception.values;if(o){l=!0;for(var r of o){var f=r.mechanism;if(f&&f.handled===!1){t=!0;break}}}var a=e.status==="ok",s=a&&e.errors===0||a&&t;s&&(wl(e,{...t&&{status:"crashed"},errors:e.errors||Number(l||t)}),this.captureSession(e))}_isClientDoneProcessing(e){return new un(n=>{let t=0;var l=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(t+=l,e&&t>=e&&(clearInterval(o),n(!1)))},l)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,t){const{normalizeDepth:l=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var r={...e,event_id:e.event_id||n.event_id||Vn(),timestamp:e.timestamp||Vi()};this._applyClientOptions(r),this._applyIntegrationsMetadata(r);let f=t;n.captureContext&&(f=qt.clone(f).update(n.captureContext));let a=il(r);if(f){var s=[...n.attachments||[],...f.getAttachments()];s.length&&(n.attachments=s),a=f.applyToEvent(r,n)}return a.then(u=>typeof l=="number"&&l>0?this._normalizeEvent(u,l,o):u)}_normalizeEvent(e,n,t){if(!e)return null;var l={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Zn(o.data,n,t)}}))},...e.user&&{user:Zn(e.user,n,t)},...e.contexts&&{contexts:Zn(e.contexts,n,t)},...e.extra&&{extra:Zn(e.extra,n,t)}};return e.contexts&&e.contexts.trace&&l.contexts&&(l.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(l.contexts.trace.data=Zn(e.contexts.trace.data,n,t))),e.spans&&(l.spans=e.spans.map(o=>(o.data&&(o.data=Zn(o.data,n,t)),o))),l}_applyClientOptions(e){var n=this.getOptions();const{environment:t,release:l,dist:o,maxValueLength:r=250}=n;"environment"in e||(e.environment="environment"in n?t:"production"),e.release===void 0&&l!==void 0&&(e.release=l),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=ni(e.message,r));var f=e.exception&&e.exception.values&&e.exception.values[0];f&&f.value&&(f.value=ni(f.value,r));var a=e.request;a&&a.url&&(a.url=ni(a.url,r))}_applyIntegrationsMetadata(e){var n=Object.keys(this._integrations);n.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...n])}_captureEvent(e,n={},t){return this._processEvent(e,n,t).then(l=>l.event_id,l=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(l)})}_processEvent(e,n,t){const{beforeSend:l,sampleRate:o}=this.getOptions();if(!this._isEnabled())return Cr(new fn("SDK not enabled, will not capture event."));var r=e.type==="transaction";return!r&&typeof o=="number"&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),Cr(new fn(`Discarding event because it's not included in the random sample (sampling rate = ${o})`))):this._prepareEvent(e,n,t).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",e.type||"error"),new fn("An event processor returned null, will not send event.");var a=n.data&&n.data.__sentry__===!0;if(a||r||!l)return f;var s=l(f,n);return gT(s)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",e.type||"error"),new fn("`beforeSend` returned `null`, will not send event.");var a=t&&t.getSession();return!r&&a&&this._updateSessionFromEvent(a,f),this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof fn?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new fn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing+=1,e.then(n=>(this._numProcessing-=1,n),n=>(this._numProcessing-=1,n))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[t,l]=n.split(":");return{reason:t,category:l,quantity:e[n]}})}}function gT(i){var e="`beforeSend` method has to return `null` or a valid event.";if(Pr(i))return i.then(n=>{if(!(yl(n)||n===null))throw new fn(e);return n},n=>{throw new fn(`beforeSend rejected with ${n}`)});if(!(yl(i)||i===null))throw new fn(e);return i}function bT(i,e){e.debug===!0&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Ae.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=Lt(),t=n.getScope();t&&t.update(e.initialScope);var l=new i(e);n.bindClient(l)}var $T=30;function p1(i,e,n=RE(i.bufferSize||$T)){let t={};var l=r=>n.drain(r);function o(r){var f=[];if(lp(r,(c,m)=>{var $=ip(m);WE(t,$)?i.recordDroppedEvent("ratelimit_backoff",$):f.push(c)}),f.length===0)return il();var a=Xi(r[0],f),s=c=>{lp(a,(m,$)=>{i.recordDroppedEvent(c,ip($))})},u=()=>e({body:o1(a,i.textEncoder)}).then(c=>{c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),t=zE(t,c)},c=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error("Failed while sending event:",c),s("network_error")});return n.add(u).then(c=>c,c=>{if(c instanceof fn)return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error("Skipped sending event due to full buffer"),s("queue_overflow"),il();throw c})}return{send:o,flush:l}}var cp="7.2.0";let _p;class ci{constructor(){ci.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=ci.id}setupOnce(){_p=Function.prototype.toString,Function.prototype.toString=function(...e){var n=jr(this)||this;return _p.apply(n,e)}}}ci.__initStatic();var vT=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class ml{static __initStatic(){this.id="InboundFilters"}__init(){this.name=ml.id}constructor(e={}){this._options=e,ml.prototype.__init.call(this)}setupOnce(e,n){var t=l=>{var o=n();if(o){var r=o.getIntegration(ml);if(r){var f=o.getClient(),a=f?f.getOptions():{},s=kT(r._options,a);return yT(l,s)?null:l}}return l};t.id=this.name,e(t)}}ml.__initStatic();function kT(i={},e={}){return{allowUrls:[...i.allowUrls||[],...e.allowUrls||[]],denyUrls:[...i.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...i.ignoreErrors||[],...e.ignoreErrors||[],...vT],ignoreInternal:i.ignoreInternal!==void 0?i.ignoreInternal:!0}}function yT(i,e){return e.ignoreInternal&&CT(i)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Event dropped due to being internal Sentry Error.
Event: ${tl(i)}`),!0):wT(i,e.ignoreErrors)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${tl(i)}`),!0):ET(i,e.denyUrls)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${tl(i)}.
Url: ${ji(i)}`),!0):TT(i,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${tl(i)}.
Url: ${ji(i)}`),!0)}function wT(i,e){return!e||!e.length?!1:ST(i).some(n=>e.some(t=>fi(n,t)))}function ET(i,e){if(!e||!e.length)return!1;var n=ji(i);return n?e.some(t=>fi(n,t)):!1}function TT(i,e){if(!e||!e.length)return!0;var n=ji(i);return n?e.some(t=>fi(n,t)):!0}function ST(i){if(i.message)return[i.message];if(i.exception)try{const{type:e="",value:n=""}=i.exception.values&&i.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error(`Cannot extract message for event ${tl(i)}`),[]}return[]}function CT(i){try{return i.exception.values[0].type==="SentryError"}catch{}return!1}function IT(i=[]){for(let n=i.length-1;n>=0;n--){var e=i[n];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function ji(i){try{let e;try{e=i.exception.values[0].stacktrace.frames}catch{}return e?IT(e):null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error(`Cannot extract url for event ${tl(i)}`),null}}function h1(i,e){var n=Jr(i,e),t={type:e&&e.name,value:BT(e)};return n.length&&(t.stacktrace={frames:n}),t.type===void 0&&t.value===""&&(t.value="Unrecoverable error caught"),t}function RT(i,e,n,t){var l={exception:{values:[{type:qr(e)?e.constructor.name:t?"UnhandledRejection":"Error",value:`Non-Error ${t?"promise rejection":"exception"} captured with keys: ${oE(e)}`}]},extra:{__serialized__:i1(e)}};if(n){var o=Jr(i,n);o.length&&(l.exception.values[0].stacktrace={frames:o})}return l}function _r(i,e){return{exception:{values:[h1(i,e)]}}}function Jr(i,e){var n=e.stacktrace||e.stack||"",t=OT(e);try{return i(n,t)}catch{}return[]}var NT=/Minified React error #\d+;/i;function OT(i){if(i){if(typeof i.framesToPop=="number")return i.framesToPop;if(NT.test(i.message))return 1}return 0}function BT(i){var e=i&&i.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function AT(i,e,n,t){var l=n&&n.syntheticException||void 0,o=Kr(i,e,l,t);return si(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),il(o)}function MT(i,e,n="info",t,l){var o=t&&t.syntheticException||void 0,r=Or(i,e,o,l);return r.level=n,t&&t.event_id&&(r.event_id=t.event_id),il(r)}function Kr(i,e,n,t,l){let o;if(Jp(e)&&e.error){var r=e;return _r(i,r.error)}if(Xm(e)||z2(e)){var f=e;if("stack"in e)o=_r(i,e);else{var a=f.name||(Xm(f)?"DOMError":"DOMException"),s=f.message?`${a}: ${f.message}`:a;o=Or(i,s,n,t),Sr(o,s)}return"code"in f&&(o.tags={...o.tags,"DOMException.code":`${f.code}`}),o}if(Xp(e))return _r(i,e);if(yl(e)||qr(e)){var u=e;return o=RT(i,u,n,l),si(o,{synthetic:!0}),o}return o=Or(i,e,n,t),Sr(o,`${e}`,void 0),si(o,{synthetic:!0}),o}function Or(i,e,n,t){var l={message:e};if(t&&n){var o=Jr(i,n);o.length&&(l.exception={values:[{value:e,stacktrace:{frames:o}}]})}return l}var g1="Breadcrumbs";class _i{static __initStatic(){this.id=g1}__init(){this.name=_i.id}constructor(e){_i.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&_n("console",LT),this.options.dom&&_n("dom",DT(this.options.dom)),this.options.xhr&&_n("xhr",GT),this.options.fetch&&_n("fetch",UT),this.options.history&&_n("history",qT)}}_i.__initStatic();function DT(i){function e(n){let t,l=typeof i=="object"?i.serializeAttribute:void 0;typeof l=="string"&&(l=[l]);try{t=n.event.target?oi(n.event.target,l):oi(n.event,l)}catch{t="<unknown>"}t.length!==0&&Lt().addBreadcrumb({category:`ui.${n.name}`,message:t},{event:n.event,name:n.name,global:n.global})}return e}function LT(i){var e={category:"console",data:{arguments:i.args,logger:"console"},level:BE(i.level),message:Km(i.args," ")};if(i.level==="assert")if(i.args[0]===!1)e.message=`Assertion failed: ${Km(i.args.slice(1)," ")||"console.assert"}`,e.data.arguments=i.args.slice(1);else return;Lt().addBreadcrumb(e,{input:i.args,level:i.level})}function GT(i){if(i.endTimestamp){if(i.xhr.__sentry_own_request__)return;const{method:e,url:n,status_code:t,body:l}=i.xhr.__sentry_xhr__||{};Lt().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:t},type:"http"},{xhr:i.xhr,input:l});return}}function UT(i){!i.endTimestamp||i.fetchData.url.match(/sentry_key/)&&i.fetchData.method==="POST"||(i.error?Lt().addBreadcrumb({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args}):Lt().addBreadcrumb({category:"fetch",data:{...i.fetchData,status_code:i.response.status},type:"http"},{input:i.args,response:i.response}))}function qT(i){var e=Et();let n=i.from,t=i.to;var l=ur(e.location.href);let o=ur(n);var r=ur(t);o.path||(o=l),l.protocol===r.protocol&&l.host===r.host&&(t=r.relative),l.protocol===o.protocol&&l.host===o.host&&(n=o.relative),Lt().addBreadcrumb({category:"navigation",data:{from:n,to:t}})}var vn=Et();let ki;function b1(){if(ki)return ki;if(Tr(vn.fetch))return ki=vn.fetch.bind(vn);var i=vn.document;let e=vn.fetch;if(i&&typeof i.createElement=="function")try{var n=i.createElement("iframe");n.hidden=!0,i.head.appendChild(n);var t=n.contentWindow;t&&t.fetch&&(e=t.fetch),i.head.removeChild(n)}catch(l){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",l)}return ki=e.bind(vn)}function PT(i,e){var n=Object.prototype.toString.call(vn&&vn.navigator)==="[object Navigator]",t=n&&typeof vn.navigator.sendBeacon=="function";if(t){var l=vn.navigator.sendBeacon.bind(vn.navigator);l(i,e)}else if(Hr()){var o=b1();o(i,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,r=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error(r)})}}var dr=Et();class FT extends cl{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:cp}],version:cp},super(e),e.sendClientReports&&dr.document&&dr.document.addEventListener("visibilitychange",()=>{dr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return AT(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",t){return MT(this._options.stackParser,e,n,t,this._options.attachStacktrace)}sendEvent(e,n){var t=this.getIntegrationById(g1);t&&t.options&&t.options.sentry&&Lt().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:tl(e)},{event:e}),super.sendEvent(e,n)}_prepareEvent(e,n,t){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,t)}_flushOutcomes(){var e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("Sending outcomes:",e);var n=d1(this._dsn,this._options.tunnel),t=FE(e,this._options.tunnel&&Fr(this._dsn));try{PT(n,o1(t))}catch(l){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.error(l)}}}function YT(i,e=b1()){function n(t){var l={body:t.body,method:"POST",referrerPolicy:"origin",headers:i.headers,...i.fetchOptions};return e(i.url,l).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}return p1(i,n)}var jT=4;function HT(i){function e(n){return new un((t,l)=>{var o=new XMLHttpRequest;o.onerror=l,o.onreadystatechange=()=>{o.readyState===jT&&t({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",i.url);for(var r in i.headers)Object.prototype.hasOwnProperty.call(i.headers,r)&&o.setRequestHeader(r,i.headers[r]);o.send(n.body)})}return p1(i,e)}var Ji="?",WT=30,zT=40,VT=50;function Qr(i,e,n,t){var l={filename:i,function:e,in_app:!0};return n!==void 0&&(l.lineno=n),t!==void 0&&(l.colno=t),l}var XT=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,JT=/\((\S*)(?::(\d+))(?::(\d+))\)/,KT=i=>{var e=XT.exec(i);if(e){var n=e[2]&&e[2].indexOf("eval")===0;if(n){var t=JT.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[l,o]=$1(e[1]||Ji,e[2]);return Qr(o,l,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},QT=[WT,KT],ZT=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,xT=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,eS=i=>{var e=ZT.exec(i);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1;if(n){var t=xT.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let l=e[3],o=e[1]||Ji;return[o,l]=$1(o,l),Qr(l,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},tS=[VT,eS],nS=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,lS=i=>{var e=nS.exec(i);return e?Qr(e[2],e[1]||Ji,+e[3],e[4]?+e[4]:void 0):void 0},iS=[zT,lS],rS=[QT,tS,iS],oS=n1(...rS),$1=(i,e)=>{var n=i.indexOf("safari-extension")!==-1,t=i.indexOf("safari-web-extension")!==-1;return n||t?[i.indexOf("@")!==-1?i.split("@")[0]:Ji,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[i,e]};let Br=0;function v1(){return Br>0}function fS(){Br+=1,setTimeout(()=>{Br-=1})}function El(i,e={},n){if(typeof i!="function")return i;try{var t=i.__sentry_wrapped__;if(t)return t;if(jr(i))return i}catch{return i}var l=function(){var f=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var a=f.map(s=>El(s,e));return i.apply(this,a)}catch(s){throw fS(),oT(u=>{u.addEventProcessor(c=>(e.mechanism&&(Sr(c,void 0,void 0),si(c,e.mechanism)),c.extra={...c.extra,arguments:f},c)),rT(s)}),s}};try{for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(l[o]=i[o])}catch{}e1(l,i),Yr(i,"__sentry_wrapped__",l);try{var r=Object.getOwnPropertyDescriptor(l,"name");r.configurable&&Object.defineProperty(l,"name",{get(){return i.name}})}catch{}return l}class Xn{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Xn.id}__init2(){this._installFunc={onerror:sS,onunhandledrejection:aS}}constructor(e){Xn.prototype.__init.call(this),Xn.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var n in e){var t=this._installFunc[n];t&&e[n]&&(_S(n),t(),this._installFunc[n]=void 0)}}}Xn.__initStatic();function sS(){_n("error",i=>{const[e,n,t]=w1();if(!e.getIntegration(Xn))return;const{msg:l,url:o,line:r,column:f,error:a}=i;if(!(v1()||a&&a.__sentry_own_request__)){var s=a===void 0&&kl(l)?cS(l,o,r,f):k1(Kr(n,a||l,void 0,t,!1),o,r,f);s.level="error",y1(e,a,s,"onerror")}})}function aS(){_n("unhandledrejection",i=>{const[e,n,t]=w1();if(!e.getIntegration(Xn))return;let l=i;try{"reason"in i?l=i.reason:"detail"in i&&"reason"in i.detail&&(l=i.detail.reason)}catch{}if(v1()||l&&l.__sentry_own_request__)return!0;var o=Kp(l)?uS(l):Kr(n,l,void 0,t,!0);o.level="error",y1(e,l,o,"onunhandledrejection")})}function uS(i){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}}function cS(i,e,n,t){var l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=Jp(i)?i.message:i,r="Error";var f=o.match(l);f&&(r=f[1],o=f[2]);var a={exception:{values:[{type:r,value:o}]}};return k1(a,e,n,t)}function k1(i,e,n,t){var l=i.exception=i.exception||{},o=l.values=l.values||[],r=o[0]=o[0]||{},f=r.stacktrace=r.stacktrace||{},a=f.frames=f.frames||[],s=isNaN(parseInt(t,10))?void 0:t,u=isNaN(parseInt(n,10))?void 0:n,c=kl(e)&&e.length>0?e:Q2();return a.length===0&&a.push({colno:s,filename:c,function:"?",in_app:!0,lineno:u}),i}function _S(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`Global Handler attached: ${i}`)}function y1(i,e,n,t){si(n,{handled:!1,type:t}),i.captureEvent(n,{originalException:e})}function w1(){var i=Lt(),e=i.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[i,n.stackParser,n.attachStacktrace]}var dS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class di{static __initStatic(){this.id="TryCatch"}__init(){this.name=di.id}constructor(e){di.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){var e=Et();this._options.setTimeout&&sn(e,"setTimeout",dp),this._options.setInterval&&sn(e,"setInterval",dp),this._options.requestAnimationFrame&&sn(e,"requestAnimationFrame",mS),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&sn(XMLHttpRequest.prototype,"send",pS);var n=this._options.eventTarget;if(n){var t=Array.isArray(n)?n:dS;t.forEach(hS)}}}di.__initStatic();function dp(i){return function(...e){var n=e[0];return e[0]=El(n,{mechanism:{data:{function:Kn(i)},handled:!0,type:"instrument"}}),i.apply(this,e)}}function mS(i){return function(e){return i.apply(this,[El(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Kn(i)},handled:!0,type:"instrument"}})])}}function pS(i){return function(...e){var n=this,t=["onload","onerror","onprogress","onreadystatechange"];return t.forEach(l=>{l in n&&typeof n[l]=="function"&&sn(n,l,function(o){var r={mechanism:{data:{function:l,handler:Kn(o)},handled:!0,type:"instrument"}},f=jr(o);return f&&(r.mechanism.data.handler=Kn(f)),El(o,r)})}),i.apply(this,e)}}function hS(i){var e=Et(),n=e[i]&&e[i].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(sn(n,"addEventListener",function(t){return function(l,o,r){try{typeof o.handleEvent=="function"&&(o.handleEvent=El(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Kn(o),target:i},handled:!0,type:"instrument"}}))}catch{}return t.apply(this,[l,El(o,{mechanism:{data:{function:"addEventListener",handler:Kn(o),target:i},handled:!0,type:"instrument"}}),r])}}),sn(n,"removeEventListener",function(t){return function(l,o,r){var f=o;try{var a=f&&f.__sentry_wrapped__;a&&t.call(this,l,a,r)}catch{}return t.call(this,l,f,r)}}))}var gS="cause",bS=5;class pl{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=pl.id}constructor(e={}){pl.prototype.__init.call(this),this._key=e.key||gS,this._limit=e.limit||bS}setupOnce(){var e=Lt().getClient();!e||zr((n,t)=>{var l=Lt().getIntegration(pl);return l?$S(e.getOptions().stackParser,l._key,l._limit,n,t):n})}}pl.__initStatic();function $S(i,e,n,t,l){if(!t.exception||!t.exception.values||!l||!Pn(l.originalException,Error))return t;var o=E1(i,n,l.originalException,e);return t.exception.values=[...o,...t.exception.values],t}function E1(i,e,n,t,l=[]){if(!Pn(n[t],Error)||l.length+1>=e)return l;var o=h1(i,n[t]);return E1(i,e,n[t],t,[o,...l])}var Qn=Et();class hl{constructor(){hl.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=hl.id}setupOnce(){zr(e=>{if(Lt().getIntegration(hl)){if(!Qn.navigator&&!Qn.location&&!Qn.document)return e;var n=e.request&&e.request.url||Qn.location&&Qn.location.href;const{referrer:o}=Qn.document||{},{userAgent:r}=Qn.navigator||{};var t={...e.request&&e.request.headers,...o&&{Referer:o},...r&&{"User-Agent":r}},l={...n&&{url:n},headers:t};return{...e,request:l}}return e})}}hl.__initStatic();class gl{constructor(){gl.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=gl.id}setupOnce(e,n){var t=l=>{var o=n().getIntegration(gl);if(o){try{if(vS(l,o._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=l}return o._previousEvent=l}return l};t.id=this.name,e(t)}}gl.__initStatic();function vS(i,e){return e?!!(kS(i,e)||yS(i,e)):!1}function kS(i,e){var n=i.message,t=e.message;return!(!n&&!t||n&&!t||!n&&t||n!==t||!S1(i,e)||!T1(i,e))}function yS(i,e){var n=mp(e),t=mp(i);return!(!n||!t||n.type!==t.type||n.value!==t.value||!S1(i,e)||!T1(i,e))}function T1(i,e){let n=pp(i),t=pp(e);if(!n&&!t)return!0;if(n&&!t||!n&&t||(n=n,t=t,t.length!==n.length))return!1;for(let r=0;r<t.length;r++){var l=t[r],o=n[r];if(l.filename!==o.filename||l.lineno!==o.lineno||l.colno!==o.colno||l.function!==o.function)return!1}return!0}function S1(i,e){let n=i.fingerprint,t=e.fingerprint;if(!n&&!t)return!0;if(n&&!t||!n&&t)return!1;n=n,t=t;try{return n.join("")===t.join("")}catch{return!1}}function mp(i){return i.exception&&i.exception.values&&i.exception.values[0]}function pp(i){var e=i.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var wS=[new ml,new ci,new di,new _i,new Xn,new pl,new gl,new hl];function ES(i={}){if(i.defaultIntegrations===void 0&&(i.defaultIntegrations=wS),i.release===void 0){var e=Et();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(i.release=e.SENTRY_RELEASE.id)}i.autoSessionTracking===void 0&&(i.autoSessionTracking=!0),i.sendClientReports===void 0&&(i.sendClientReports=!0);var n={...i,stackParser:sE(i.stackParser||oS),integrations:pT(i),transport:i.transport||(Hr()?YT:HT)};bT(FT,n),i.autoSessionTracking&&TS()}function hp(i){i.startSession({ignoreDuration:!0}),i.captureSession()}function TS(){var i=Et(),e=i.document;if(typeof e=="undefined"){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var n=Lt();!n.captureSession||(hp(n),_n("history",({from:t,to:l})=>{t===void 0||t===l||hp(Lt())}))}function Zr(i){var e=Lt().getClient(),n=i||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function Ki(i){var e=i||Lt(),n=e.getScope();return n&&n.getTransaction()}function Xt(i){return i/1e3}function SS(){_n("error",gp),_n("unhandledrejection",gp)}function gp(){var i=Ki();if(i){var e="internal_error";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] Transaction: ${e} -> Global error occured`),i.setStatus(e)}}class Qi{__init(){this.spans=[]}constructor(e=1e3){Qi.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class jn{__init2(){this.traceId=Vn()}__init3(){this.spanId=Vn().substring(16)}__init4(){this.startTimestamp=ai()}__init5(){this.tags={}}__init6(){this.data={}}constructor(e){if(jn.prototype.__init2.call(this),jn.prototype.__init3.call(this),jn.prototype.__init4.call(this),jn.prototype.__init5.call(this),jn.prototype.__init6.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){var n=new jn({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));var n=CS(e);return n!=="unknown_error"&&this.setStatus(n),this}isSuccess(){return this.status==="ok"}finish(e){this.endTimestamp=typeof e=="number"?e:ai()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return nl({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=Hn(e.data,()=>({})),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=Hn(e.spanId,()=>this.spanId),this.startTimestamp=Hn(e.startTimestamp,()=>this.startTimestamp),this.status=e.status,this.tags=Hn(e.tags,()=>({})),this.traceId=Hn(e.traceId,()=>this.traceId),this}getTraceContext(){return nl({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}getBaggage(){var e=this.transaction&&this.transaction.metadata.baggage,n=!e||s1(e)&&Nr(e)?this._getBaggageWithSentryValues(e):e;return n}toJSON(){return nl({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}_getBaggageWithSentryValues(e=f1({})){var n=this.transaction&&this.transaction._hub||Lt(),t=n.getClient();const{environment:l,release:o}=t&&t.getOptions()||{};return l&&rp(e,"environment",l),o&&rp(e,"release",o),a1(e),e}}function CS(i){if(i<400&&i>=100)return"ok";if(i>=400&&i<500)switch(i){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(i>=500&&i<600)switch(i){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class Zi extends jn{__init(){this._measurements={}}constructor(e,n){super(e),Zi.prototype.__init.call(this),this._hub=n||Lt(),this.name=e.name||"",this.metadata=e.metadata||{},this._trimEnd=e.trimEnd,this.transaction=this}setName(e){this.name=e}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Qi(e)),this.spanRecorder.add(this)}setMeasurement(e,n,t=""){this._measurements[e]={value:n,unit:t}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),this.sampled!==!0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var n=this._hub.getClient();n&&n.recordDroppedEvent("sample_rate","transaction");return}var t=this.spanRecorder?this.spanRecorder.spans.filter(r=>r!==this&&r.endTimestamp):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce((r,f)=>r.endTimestamp&&f.endTimestamp?r.endTimestamp>f.endTimestamp?r:f:r).endTimestamp);var l={contexts:{trace:this.getTraceContext(),baggage:KE(this.getBaggage())},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},o=Object.keys(this._measurements).length>0;return o&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(l)}}toContext(){var e=super.toContext();return nl({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=Hn(e.name,()=>""),this._trimEnd=e.trimEnd,this}}var C1=1e3,I1=3e4,IS=5e3;class RS extends Qi{constructor(e,n,t,l){super(l),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=t}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp=typeof n=="number"?n:ai(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class _l extends Zi{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,n,t=C1,l=I1,o=!1){super(e,n),this._idleHub=n,this._idleTimeout=t,this._finalTimeout=l,this._onScope=o,_l.prototype.__init.call(this),_l.prototype.__init2.call(this),_l.prototype.__init3.call(this),_l.prototype.__init4.call(this),o&&(bp(n),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(r=>r.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(e=ai()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(var n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var l=t.startTimestamp<e;return l||(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),l}),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] No active IdleTransaction");return this._onScope&&bp(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){var n=l=>{this._finished||this._pushActivity(l)},t=l=>{this._finished||this._popActivity(l)};this.spanRecorder=new RS(n,t,this.spanId,e),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(e)},this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var n=ai()+this._idleTimeout/1e3;this._startIdleTimeout(n)}}_beat(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},IS)}}function bp(i){var e=i.getScope();if(e){var n=e.getTransaction();n&&e.setSpan(void 0)}}function NS(){var i=this.getScope();if(i){var e=i.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function R1(i,e,n){if(!Zr(e))return i.sampled=!1,i;if(i.sampled!==void 0)return i.setMetadata({transactionSampling:{method:"explicitly_set"}}),i;let t;return typeof e.tracesSampler=="function"?(t=e.tracesSampler(n),i.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(t)}})):n.parentSampled!==void 0?(t=n.parentSampled,i.setMetadata({transactionSampling:{method:"inheritance"}})):(t=e.tracesSampleRate,i.setMetadata({transactionSampling:{method:"client_rate",rate:Number(t)}})),OS(t)?t?(i.sampled=Math.random()<t,i.sampled?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] starting ${i.op} transaction - ${i.name}`),i):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(t)})`),i)):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),i.sampled=!1,i):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("[Tracing] Discarding transaction because of invalid sample rate."),i.sampled=!1,i)}function OS(i){return Qp(i)||!(typeof i=="number"||typeof i=="boolean")?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),!1):i<0||i>1?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${i}.`),!1):!0}function BS(i,e){var n=this.getClient(),t=n&&n.getOptions()||{};let l=new Zi(i,this);return l=R1(l,t,{parentSampled:i.parentSampled,transactionContext:i,...e}),l.sampled&&l.initSpanRecorder(t._experiments&&t._experiments.maxSpans),l}function AS(i,e,n,t,l,o){var r=i.getClient(),f=r&&r.getOptions()||{};let a=new _l(e,i,n,t,l);return a=R1(a,f,{parentSampled:e.parentSampled,transactionContext:e,...o}),a.sampled&&a.initSpanRecorder(f._experiments&&f._experiments.maxSpans),a}function MS(){var i=Il();!i.__SENTRY__||(i.__SENTRY__.extensions=i.__SENTRY__.extensions||{},i.__SENTRY__.extensions.startTransaction||(i.__SENTRY__.extensions.startTransaction=BS),i.__SENTRY__.extensions.traceHeaders||(i.__SENTRY__.extensions.traceHeaders=NS))}function DS(){var i=Il();if(!!i.__SENTRY__){var e={mongodb(){var t=zn(qn,"./integrations/node/mongo");return new t.Mongo},mongoose(){var t=zn(qn,"./integrations/node/mongo");return new t.Mongo({mongoose:!0})},mysql(){var t=zn(qn,"./integrations/node/mysql");return new t.Mysql},pg(){var t=zn(qn,"./integrations/node/postgres");return new t.Postgres}},n=Object.keys(e).filter(t=>!!H2(t)).map(t=>{try{return e[t]()}catch{return}}).filter(t=>t);n.length>0&&(i.__SENTRY__.integrations=[...i.__SENTRY__.integrations||[],...n])}}function LS(){MS(),zi()&&DS(),SS()}var yi=Et();function GS(){yi&&yi.document?yi.document.addEventListener("visibilitychange",()=>{var i=Ki();if(yi.document.hidden&&i){var e="cancelled";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${i.op}`),i.status||i.setStatus(e),i.setTag("visibilitychange","document.hidden"),i.finish()}}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var xr=(i,e,n)=>{let t;return l=>{e.value>=0&&(l||n)&&(e.delta=e.value-(t||0),(e.delta||t===void 0)&&(t=e.value,i(e)))}},US=()=>`v2-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,eo=(i,e)=>({name:i,value:Hn(e,()=>-1),delta:0,entries:[],id:US()}),to=(i,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(i)){if(i==="first-input"&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(t=>t.getEntries().map(e));return n.observe({type:i,buffered:!0}),n}}catch{}},xi=(i,e)=>{var n=t=>{(t.type==="pagehide"||Et().document.visibilityState==="hidden")&&(i(t),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},qS=(i,e)=>{var n=eo("CLS",0);let t,l=0,o=[];var r=a=>{if(a&&!a.hadRecentInput){var s=o[0],u=o[o.length-1];l&&o.length!==0&&a.startTime-u.startTime<1e3&&a.startTime-s.startTime<5e3?(l+=a.value,o.push(a)):(l=a.value,o=[a]),l>n.value&&(n.value=l,n.entries=o,t&&t())}},f=to("layout-shift",r);f&&(t=xr(i,n,e),xi(()=>{f.takeRecords().map(r),t(!0)}))};let Ii=-1;var PS=()=>Et().document.visibilityState==="hidden"?0:1/0,FS=()=>{xi(({timeStamp:i})=>{Ii=i},!0)},no=()=>(Ii<0&&(Ii=PS(),FS()),{get firstHiddenTime(){return Ii}}),YS=(i,e)=>{var n=no(),t=eo("FID");let l;var o=f=>{l&&f.startTime<n.firstHiddenTime&&(t.value=f.processingStart-f.startTime,t.entries.push(f),l(!0))},r=to("first-input",o);r&&(l=xr(i,t,e),xi(()=>{r.takeRecords().map(o),r.disconnect()},!0))},$p={},jS=(i,e)=>{var n=no(),t=eo("LCP");let l;var o=a=>{var s=a.startTime;s<n.firstHiddenTime&&(t.value=s,t.entries.push(a)),l&&l()},r=to("largest-contentful-paint",o);if(r){l=xr(i,t,e);var f=()=>{$p[t.id]||(r.takeRecords().map(o),r.disconnect(),$p[t.id]=!0,l(!0))};["keydown","click"].forEach(a=>{addEventListener(a,f,{once:!0,capture:!0})}),xi(f,!0)}};function wi(i){return typeof i=="number"&&isFinite(i)}function Tl(i,{startTimestamp:e,...n}){return e&&i.startTimestamp>e&&(i.startTimestamp=e),i.startChild({startTimestamp:e,...n})}var ll=Et();function N1(){return ll&&ll.addEventListener&&ll.performance}let vp=0,Tt={},En,ii;function HS(i=!1){var e=N1();e&&ui&&(e.mark&&ll.performance.mark("sentry-tracing-init"),WS(),zS(i),VS())}function WS(){qS(i=>{var e=i.entries.pop();!e||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding CLS"),Tt.cls={value:i.value,unit:"millisecond"},ii=e)})}function zS(i){jS(e=>{var n=e.entries.pop();if(!!n){var t=Xt(ui),l=Xt(n.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding LCP"),Tt.lcp={value:e.value,unit:"millisecond"},Tt["mark.lcp"]={value:t+l,unit:"second"},En=n}},i)}function VS(){YS(i=>{var e=i.entries.pop();if(!!e){var n=Xt(ui),t=Xt(e.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding FID"),Tt.fid={value:i.value,unit:"millisecond"},Tt["mark.fid"]={value:n+t,unit:"second"}}})}function XS(i){var e=N1();if(!e||!ll.performance.getEntries||!ui)return;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Tracing] Adding & adjusting spans using Performance API");var n=Xt(ui),t=e.getEntries();let l,o;t.slice(vp).forEach(r=>{var f=Xt(r.startTime),a=Xt(r.duration);if(!(i.op==="navigation"&&n+f<i.startTimestamp))switch(r.entryType){case"navigation":{KS(i,r,n),l=n+Xt(r.responseStart),o=n+Xt(r.requestStart);break}case"mark":case"paint":case"measure":{var s=JS(i,r,f,a,n),u=no(),c=r.startTime<u.firstHiddenTime;r.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding FP"),Tt.fp={value:r.startTime,unit:"millisecond"},Tt["mark.fp"]={value:s,unit:"second"}),r.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding FCP"),Tt.fcp={value:r.startTime,unit:"millisecond"},Tt["mark.fcp"]={value:s,unit:"second"});break}case"resource":{var m=r.name.replace(ll.location.origin,"");ZS(i,r,m,f,a,n);break}}}),vp=Math.max(t.length-1,0),xS(i),i.op==="pageload"&&(typeof l=="number"&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding TTFB"),Tt.ttfb={value:(l-i.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=l&&(Tt["ttfb.requestTime"]={value:(l-o)*1e3,unit:"second"})),["fcp","fp","lcp"].forEach(r=>{if(!(!Tt[r]||n>=i.startTimestamp)){var f=Tt[r].value,a=n+Xt(f),s=Math.abs((a-i.startTimestamp)*1e3),u=s-f;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Measurements] Normalized ${r} from ${f} to ${s} (${u})`),Tt[r].value=s}}),Tt["mark.fid"]&&Tt.fid&&Tl(i,{description:"first input delay",endTimestamp:Tt["mark.fid"].value+Xt(Tt.fid.value),op:"web.vitals",startTimestamp:Tt["mark.fid"].value}),"fcp"in Tt||delete Tt.cls,Object.keys(Tt).forEach(r=>{i.setMeasurement(r,Tt[r].value,Tt[r].unit)}),eC(i)),En=void 0,ii=void 0,Tt={}}function JS(i,e,n,t,l){var o=l+n,r=o+t;return Tl(i,{description:e.name,endTimestamp:r,op:e.entryType,startTimestamp:o}),o}function KS(i,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(t=>{Ei(i,e,t,n)}),Ei(i,e,"secureConnection",n,"TLS/SSL","connectEnd"),Ei(i,e,"fetch",n,"cache","domainLookupStart"),Ei(i,e,"domainLookup",n,"DNS"),QS(i,e,n)}function Ei(i,e,n,t,l,o){var r=o?e[o]:e[`${n}End`],f=e[`${n}Start`];!f||!r||Tl(i,{op:"browser",description:Hn(l,()=>n),startTimestamp:t+Xt(f),endTimestamp:t+Xt(r)})}function QS(i,e,n){Tl(i,{op:"browser",description:"request",startTimestamp:n+Xt(e.requestStart),endTimestamp:n+Xt(e.responseEnd)}),Tl(i,{op:"browser",description:"response",startTimestamp:n+Xt(e.responseStart),endTimestamp:n+Xt(e.responseEnd)})}function ZS(i,e,n,t,l,o){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var r={};"transferSize"in e&&(r["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(r["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(r["Decoded Body Size"]=e.decodedBodySize);var f=o+t,a=f+l;Tl(i,{description:n,endTimestamp:a,op:e.initiatorType?`resource.${e.initiatorType}`:"resource",startTimestamp:f,data:r})}}function xS(i){var e=ll.navigator;if(!!e){var n=e.connection;n&&(n.effectiveType&&i.setTag("effectiveConnectionType",n.effectiveType),n.type&&i.setTag("connectionType",n.type),wi(n.rtt)&&(Tt["connection.rtt"]={value:n.rtt,unit:"millisecond"}),wi(n.downlink)&&(Tt["connection.downlink"]={value:n.downlink,unit:""})),wi(e.deviceMemory)&&i.setTag("deviceMemory",`${e.deviceMemory} GB`),wi(e.hardwareConcurrency)&&i.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}}function eC(i){En&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding LCP Data"),En.element&&i.setTag("lcp.element",oi(En.element)),En.id&&i.setTag("lcp.id",En.id),En.url&&i.setTag("lcp.url",En.url.trim().slice(0,200)),i.setTag("lcp.size",En.size)),ii&&ii.sources&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log("[Measurements] Adding CLS Data"),ii.sources.forEach((e,n)=>i.setTag(`cls.source.${n+1}`,oi(e.node))))}var tC=["localhost",/^\//],Hi={traceFetch:!0,traceXHR:!0,tracingOrigins:tC};function nC(i){const{traceFetch:e,traceXHR:n,tracingOrigins:t,shouldCreateSpanForRequest:l}={...Hi,...i};var o={},r=s=>{if(o[s])return o[s];var u=t;return o[s]=u.some(c=>fi(s,c))&&!fi(s,"sentry_key"),o[s]};let f=r;typeof l=="function"&&(f=s=>r(s)&&l(s));var a={};e&&_n("fetch",s=>{lC(s,f,a)}),n&&_n("xhr",s=>{rC(s,f,a)})}function lC(i,e,n){if(!(!Zr()||!(i.fetchData&&e(i.fetchData.url)))){if(i.endTimestamp){var t=i.fetchData.__span;if(!t)return;var l=n[t];l&&(i.response?l.setHttpStatus(i.response.status):i.error&&l.setStatus("internal_error"),l.finish(),delete n[t]);return}var o=Ki();if(o){var l=o.startChild({data:{...i.fetchData,type:"fetch"},description:`${i.fetchData.method} ${i.fetchData.url}`,op:"http.client"});i.fetchData.__span=l.spanId,n[l.spanId]=l;var r=i.args[0]=i.args[0],f=i.args[1]=i.args[1]||{};f.headers=iC(r,l,f)}}}function iC(i,e,n){let t=n.headers;Pn(i,Request)&&(t=i.headers);var l=e.getBaggage();if(t)if(typeof t.append=="function")t.append("sentry-trace",e.toTraceparent()),t.append(ul,ei(l,t.get(ul)));else if(Array.isArray(t)){const[,o]=t.find(([r,f])=>r===ul);t=[...t,["sentry-trace",e.toTraceparent()],[ul,ei(l,o)]]}else t={...t,"sentry-trace":e.toTraceparent(),baggage:ei(l,t.baggage)};else t={"sentry-trace":e.toTraceparent(),baggage:ei(l)};return t}function rC(i,e,n){if(!(!Zr()||i.xhr&&i.xhr.__sentry_own_request__||!(i.xhr&&i.xhr.__sentry_xhr__&&e(i.xhr.__sentry_xhr__.url)))){var t=i.xhr.__sentry_xhr__;if(i.endTimestamp){var l=i.xhr.__sentry_xhr_span_id__;if(!l)return;var o=n[l];o&&(o.setHttpStatus(t.status_code),o.finish(),delete n[l]);return}var r=Ki();if(r){var o=r.startChild({data:{...t.data,type:"xhr",method:t.method,url:t.url},description:`${t.method} ${t.url}`,op:"http.client"});if(i.xhr.__sentry_xhr_span_id__=o.spanId,n[i.xhr.__sentry_xhr_span_id__]=o,i.xhr.setRequestHeader)try{i.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var f=i.xhr.getRequestHeader&&i.xhr.getRequestHeader(ul);i.xhr.setRequestHeader(ul,ei(o.getBaggage(),f))}catch{}}}}var Ql=Et();function oC(i,e=!0,n=!0){if(!Ql||!Ql.location){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("Could not initialize routing instrumentation due to invalid location");return}let t=Ql.location.href,l;e&&(l=i({name:Ql.location.pathname,op:"pageload"})),n&&_n("history",({to:o,from:r})=>{if(r===void 0&&t&&t.indexOf(o)!==-1){t=void 0;return}r!==o&&(t=void 0,l&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] Finishing current transaction with op: ${l.op}`),l.finish()),l=i({name:Ql.location.pathname,op:"navigation"}))})}var fC="BrowserTracing",sC={idleTimeout:C1,finalTimeout:I1,markBackgroundTransactions:!0,routingInstrumentation:oC,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...Hi};class lo{__init(){this.name=fC}constructor(e){lo.prototype.__init.call(this);let n=Hi.tracingOrigins;e&&(e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?n=e.tracingOrigins:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...sC,...e,tracingOrigins:n};const{_metricOptions:t}=this.options;HS(t&&t._reportAllChanges)}setupOnce(e,n){this._getCurrentHub=n,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`[Tracing] We added a reasonable default for you: ${Hi.tracingOrigins}`));const{routingInstrumentation:t,startTransactionOnLocationChange:l,startTransactionOnPageLoad:o,markBackgroundTransactions:r,traceFetch:f,traceXHR:a,tracingOrigins:s,shouldCreateSpanForRequest:u}=this.options;t(c=>this._createRouteTransaction(c),o,l),r&&GS(),nC({traceFetch:f,traceXHR:a,tracingOrigins:s,shouldCreateSpanForRequest:u})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:n,idleTimeout:t,finalTimeout:l}=this.options;var o=e.op==="pageload"?aC():void 0,r={...e,...o,trimEnd:!0},f=typeof n=="function"?n(r):r,a=f===void 0?{...r,sampled:!1}:f;a.sampled===!1&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] Will not send ${a.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&Ae.log(`[Tracing] Starting ${a.op} transaction on scope`);var s=this._getCurrentHub();const{location:u}=Et();var c=AS(s,a,t,l,!0,{location:u});return c.registerBeforeFinishCallback(m=>{XS(m),m.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),c}}function aC(){var i=kp("sentry-trace"),e=kp("baggage"),n=i?LE(i):void 0,t=xE(e,i);if(n||t)return{...n&&n,...t&&{metadata:{baggage:t}}}}function kp(i){var e=Et();if(e.document&&e.document.querySelector){var n=e.document.querySelector(`meta[name=${i}]`);return n?n.getAttribute("content"):null}else return null}(typeof __SENTRY_TRACING__=="undefined"||__SENTRY_TRACING__)&&LS();try{self["workbox:window:6.5.2"]&&_()}catch{}function Ar(i,e){return new Promise(function(n){var t=new MessageChannel;t.port1.onmessage=function(l){n(l.data)},i.postMessage(e,[t.port2])})}function uC(i,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function yp(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=i[n];return t}function cC(i,e){var n;if(typeof Symbol=="undefined"||i[Symbol.iterator]==null){if(Array.isArray(i)||(n=function(l,o){if(l){if(typeof l=="string")return yp(l,o);var r=Object.prototype.toString.call(l).slice(8,-1);return r==="Object"&&l.constructor&&(r=l.constructor.name),r==="Map"||r==="Set"?Array.from(l):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yp(l,o):void 0}}(i))||e&&i&&typeof i.length=="number"){n&&(i=n);var t=0;return function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=i[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var mr=function(){var i=this;this.promise=new Promise(function(e,n){i.resolve=e,i.reject=n})};function pr(i,e){var n=location.href;return new URL(i,n).href===new URL(e,n).href}var Zl=function(i,e){this.type=i,Object.assign(this,e)};function Ti(i,e,n){return n?e?e(i):i:(i&&i.then||(i=Promise.resolve(i)),e?i.then(e):i)}function _C(){}var dC={type:"SKIP_WAITING"};function wp(i,e){if(!e)return i&&i.then?i.then(_C):Promise.resolve()}var mC=function(i){var e,n;function t(f,a){var s,u;return a===void 0&&(a={}),(s=i.call(this)||this).nn={},s.tn=0,s.rn=new mr,s.en=new mr,s.on=new mr,s.un=0,s.an=new Set,s.cn=function(){var c=s.fn,m=c.installing;s.tn>0||!pr(m.scriptURL,s.sn.toString())||performance.now()>s.un+6e4?(s.vn=m,c.removeEventListener("updatefound",s.cn)):(s.hn=m,s.an.add(m),s.rn.resolve(m)),++s.tn,m.addEventListener("statechange",s.ln)},s.ln=function(c){var m=s.fn,$=c.target,v=$.state,E=$===s.vn,T={sw:$,isExternal:E,originalEvent:c};!E&&s.mn&&(T.isUpdate=!0),s.dispatchEvent(new Zl(v,T)),v==="installed"?s.wn=self.setTimeout(function(){v==="installed"&&m.waiting===$&&s.dispatchEvent(new Zl("waiting",T))},200):v==="activating"&&(clearTimeout(s.wn),E||s.en.resolve($))},s.dn=function(c){var m=s.hn,$=m!==navigator.serviceWorker.controller;s.dispatchEvent(new Zl("controlling",{isExternal:$,originalEvent:c,sw:m,isUpdate:s.mn})),$||s.on.resolve(m)},s.gn=(u=function(c){var m=c.data,$=c.ports,v=c.source;return Ti(s.getSW(),function(){s.an.has(v)&&s.dispatchEvent(new Zl("message",{data:m,originalEvent:c,ports:$,sw:v}))})},function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];try{return Promise.resolve(u.apply(this,c))}catch($){return Promise.reject($)}}),s.sn=f,s.nn=a,navigator.serviceWorker.addEventListener("message",s.gn),s}n=i,(e=t).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l,o,r=t.prototype;return r.register=function(f){var a=(f===void 0?{}:f).immediate,s=a!==void 0&&a;try{var u=this;return function(c,m){var $=c();return $&&$.then?$.then(m):m($)}(function(){if(!s&&document.readyState!=="complete")return wp(new Promise(function(c){return window.addEventListener("load",c)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),Ti(u.bn(),function(c){u.fn=c,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var m=u.fn.waiting;return m&&pr(m.scriptURL,u.sn.toString())&&(u.hn=m,Promise.resolve().then(function(){u.dispatchEvent(new Zl("waiting",{sw:m,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(c){return Promise.reject(c)}},r.update=function(){try{return this.fn?wp(this.fn.update()):void 0}catch(f){return Promise.reject(f)}},r.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},r.messageSW=function(f){try{return Ti(this.getSW(),function(a){return Ar(a,f)})}catch(a){return Promise.reject(a)}},r.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Ar(this.fn.waiting,dC)},r.pn=function(){var f=navigator.serviceWorker.controller;return f&&pr(f.scriptURL,this.sn.toString())?f:void 0},r.bn=function(){try{var f=this;return function(a,s){try{var u=a()}catch(c){return s(c)}return u&&u.then?u.then(void 0,s):u}(function(){return Ti(navigator.serviceWorker.register(f.sn,f.nn),function(a){return f.un=performance.now(),a})},function(a){throw a})}catch(a){return Promise.reject(a)}},l=t,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&uC(l.prototype,o),t}(function(){function i(){this.Pn=new Map}var e=i.prototype;return e.addEventListener=function(n,t){this.Sn(n).add(t)},e.removeEventListener=function(n,t){this.Sn(n).delete(t)},e.dispatchEvent=function(n){n.target=this;for(var t,l=cC(this.Sn(n.type));!(t=l()).done;)(0,t.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},i}());function pC(i={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:t,onRegistered:l,onRegisterError:o}=i;let r,f;const a=async(s=!0)=>{s&&(r==null||r.addEventListener("controlling",u=>{u.isUpdate&&window.location.reload()})),f&&f.waiting&&await Ar(f.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new mC("./sw.js",{scope:"./",type:"classic"}),r.addEventListener("activated",s=>{s.isUpdate||t==null||t()});{const s=()=>{n==null||n()};r.addEventListener("waiting",s),r.addEventListener("externalwaiting",s)}r.register({immediate:e}).then(s=>{f=s,l==null||l(s)}).catch(s=>{o==null||o(s)})}return a}location.hostname!=="localhost"&&ES({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new lo],tracesSampleRate:.2});function hC(){return new Y2({target:document.body})}pC({});hC()});export default gC();
