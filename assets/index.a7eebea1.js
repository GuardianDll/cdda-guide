var sg=Object.defineProperty;var ag=(i,e,n)=>e in i?sg(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var ug=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var en=(i,e,n)=>(ag(i,typeof e!="symbol"?e+"":e,n),n);var iR=ug((fR,Hn)=>{const cg=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}};cg();function te(){}function _g(i,e){for(const n in e)i[n]=e[n];return i}function dg(i){return i&&typeof i=="object"&&typeof i.then=="function"}function Z1(i){return i()}function Lo(){return Object.create(null)}function Rl(i){i.forEach(Z1)}function mg(i){return typeof i=="function"}function Fe(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let wi;function pg(i,e){return wi||(wi=document.createElement("a")),wi.href=e,i===wi.href}function hg(i){return Object.keys(i).length===0}function Q1(i,...e){if(i==null)return te;const n=i.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function x1(i,e,n){i.$$.on_destroy.push(Q1(e,n))}function eh(i,e,n,t){if(i){const l=th(i,e,n,t);return i[0](l)}}function th(i,e,n,t){return i[1]&&t?_g(n.ctx.slice(),i[1](t(e))):n.ctx}function nh(i,e,n,t){if(i[2]&&t){const l=i[2](t(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],r=Math.max(e.dirty.length,l.length);for(let f=0;f<r;f+=1)o[f]=e.dirty[f]|l[f];return o}return e.dirty|l}return e.dirty}function lh(i,e,n,t,l,o){if(l){const r=th(e,n,t,o);i.p(r,l)}}function ih(i){if(i.ctx.length>32){const e=[],n=i.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(i,e){i.appendChild(e)}function h(i,e,n){i.insertBefore(e,n||null)}function p(i){i.parentNode.removeChild(i)}function ue(i,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].d(e)}function g(i){return document.createElement(i)}function w(i){return document.createTextNode(i)}function I(){return w(" ")}function le(){return w("")}function Cn(i,e,n,t){return i.addEventListener(e,n,t),()=>i.removeEventListener(e,n,t)}function ae(i,e,n){n==null?i.removeAttribute(e):i.getAttribute(e)!==n&&i.setAttribute(e,n)}function gg(i){return Array.from(i.childNodes)}function P(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Go(i,e){i.value=e==null?"":e}function Ze(i,e,n,t){n===null?i.style.removeProperty(e):i.style.setProperty(e,n,t?"important":"")}function _i(i,e){for(let n=0;n<i.options.length;n+=1){const t=i.options[n];if(t.__value===e){t.selected=!0;return}}i.selectedIndex=-1}let di;function jn(i){di=i}function er(){if(!di)throw new Error("Function called outside component initialization");return di}function bg(i){er().$$.on_mount.push(i)}function zr(i,e){return er().$$.context.set(i,e),e}function lt(i){return er().$$.context.get(i)}const oi=[],Uo=[],Mi=[],qo=[],$g=Promise.resolve();let Rr=!1;function kg(){Rr||(Rr=!0,$g.then(Vr))}function Nr(i){Mi.push(i)}const ur=new Set;let Ei=0;function Vr(){const i=di;do{for(;Ei<oi.length;){const e=oi[Ei];Ei++,jn(e),vg(e.$$)}for(jn(null),oi.length=0,Ei=0;Uo.length;)Uo.pop()();for(let e=0;e<Mi.length;e+=1){const n=Mi[e];ur.has(n)||(ur.add(n),n())}Mi.length=0}while(oi.length);for(;qo.length;)qo.pop()();Rr=!1,ur.clear(),jn(i)}function vg(i){if(i.fragment!==null){i.update(),Rl(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Nr)}}const Di=new Set;let ll;function x(){ll={r:0,c:[],p:ll}}function ee(){ll.r||Rl(ll.c),ll=ll.p}function b(i,e){i&&i.i&&(Di.delete(i),i.i(e))}function k(i,e,n,t){if(i&&i.o){if(Di.has(i))return;Di.add(i),ll.c.push(()=>{Di.delete(i),t&&(n&&i.d(1),t())}),i.o(e)}}function yg(i,e){const n=e.token={};function t(l,o,r,f){if(e.token!==n)return;e.resolved=f;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=f);const s=l&&(e.current=l)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==o&&c&&(x(),k(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),ee())}):e.block.d(1),s.c(),b(s,1),s.m(e.mount(),e.anchor),u=!0),e.block=s,e.blocks&&(e.blocks[o]=s),u&&Vr()}if(dg(i)){const l=er();if(i.then(o=>{jn(l),t(e.then,1,e.value,o),jn(null)},o=>{if(jn(l),t(e.catch,2,e.error,o),jn(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,i),!0;e.resolved=i}}function wg(i,e,n){const t=e.slice(),{resolved:l}=i;i.current===i.then&&(t[i.value]=l),i.current===i.catch&&(t[i.error]=l),i.block.p(t,n)}const Eg=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Tg(i,e){k(i,1,1,()=>{e.delete(i.key)})}function Sg(i,e,n,t,l,o,r,f,a,s,u,c){let m=i.length,$=o.length,v=m;const y={};for(;v--;)y[i[v].key]=v;const T=[],E=new Map,S=new Map;for(v=$;v--;){const B=c(l,o,v),O=n(B);let A=r.get(O);A?t&&A.p(B,e):(A=s(O,B),A.c()),E.set(O,T[v]=A),O in y&&S.set(O,Math.abs(v-y[O]))}const C=new Set,R=new Set;function D(B){b(B,1),B.m(f,u),r.set(B.key,B),u=B.first,$--}for(;m&&$;){const B=T[$-1],O=i[m-1],A=B.key,M=O.key;B===O?(u=B.first,m--,$--):E.has(M)?!r.has(A)||C.has(A)?D(B):R.has(M)?m--:S.get(A)>S.get(M)?(R.add(A),D(B)):(C.add(M),m--):(a(O,r),m--)}for(;m--;){const B=i[m];E.has(B.key)||a(B,r)}for(;$;)D(T[$-1]);return T}function U(i){i&&i.c()}function L(i,e,n,t){const{fragment:l,on_mount:o,on_destroy:r,after_update:f}=i.$$;l&&l.m(e,n),t||Nr(()=>{const a=o.map(Z1).filter(mg);r?r.push(...a):Rl(a),i.$$.on_mount=[]}),f.forEach(Nr)}function G(i,e){const n=i.$$;n.fragment!==null&&(Rl(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Cg(i,e){i.$$.dirty[0]===-1&&(oi.push(i),kg(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function He(i,e,n,t,l,o,r,f=[-1]){const a=di;jn(i);const s=i.$$={fragment:null,ctx:null,props:o,update:te,not_equal:l,bound:Lo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Lo(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};r&&r(s.root);let u=!1;if(s.ctx=n?n(i,e.props||{},(c,m,...$)=>{const v=$.length?$[0]:m;return s.ctx&&l(s.ctx[c],s.ctx[c]=v)&&(!s.skip_bound&&s.bound[c]&&s.bound[c](v),u&&Cg(i,c)),m}):[],s.update(),u=!0,Rl(s.before_update),s.fragment=t?t(s.ctx):!1,e.target){if(e.hydrate){const c=gg(e.target);s.fragment&&s.fragment.l(c),c.forEach(p)}else s.fragment&&s.fragment.c();e.intro&&b(i.$$.fragment),L(i,e.target,e.anchor,e.customElement),Vr()}jn(a)}class We{$destroy(){G(this,1),this.$destroy=te}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!hg(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const al=[];function Gi(i,e=te){let n;const t=new Set;function l(f){if(Fe(i,f)&&(i=f,n)){const a=!al.length;for(const s of t)s[1](),al.push(s,i);if(a){for(let s=0;s<al.length;s+=2)al[s][0](al[s+1]);al.length=0}}}function o(f){l(f(i))}function r(f,a=te){const s=[f,a];return t.add(s),t.size===1&&(n=e(l)||te),f(i),()=>{t.delete(s),t.size===0&&(n(),n=null)}}return{set:l,update:o,subscribe:r}}/*! gettext.js - Guillaume Potier - MIT Licensed */var Ig=function(i){i=i||{},this&&(this.__version="1.1.1");var e={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(y){return{nplurals:2,plural:y!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},n={isObject:function(y){var T=typeof y;return T==="function"||T==="object"&&!!y},isArray:function(y){return toString.call(y)==="[object Array]"}},t={},l=i.locale||e.locale,o=i.domain||e.domain,r={},f={},a=i.ctxt_delimiter||e.ctxt_delimiter;i.messages&&(r[o]={},r[o][l]=i.messages),i.plural_forms&&(f[l]=i.plural_forms);var s=function(y){var T=arguments;return y.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(E,S){return T[S]}).replace(/%% /g,"%")},u=function(y){if(y.indexOf(a)!==-1){var T=y.split(a);return T[1]}return y},c=function(y){for(var T=[y],E=y.lastIndexOf("-");E>0;)y=y.slice(0,E),T.push(y),E=y.lastIndexOf("-");return T},m=function(y){y=y.replace("_","-");var T=y.search(/[.@]/);return T!=-1&&(y=y.slice(0,T)),y},$=function(y){var T=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!T.test(y))throw new Error(s('The plural form "%1" is not valid',y));return new Function("n","var plural, nplurals; "+y+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},v=function(y,T,E){if(!E.plural_form)return s.apply(this,[u(y[0])].concat(Array.prototype.slice.call(arguments,3)));var S;return E.plural_func?S=E.plural_func(T):(t[l]||(t[l]=$(f[l])),S=t[l](T)),(typeof S.plural=="undefined"||S.plural>S.nplurals||y.length<=S.plural)&&(S.plural=0),s.apply(this,[u(y[S.plural]),T].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:s,expand_locale:c,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(y,T,E,S){if(!y||!T||!E)throw new Error("You must provide a domain, a locale and messages");if(typeof y!="string"||typeof T!="string"||!n.isObject(E))throw new Error("Invalid arguments");return T=m(T),S&&(f[T]=S),r[y]||(r[y]={}),r[y][T]=E,this},loadJSON:function(y,T){if(n.isObject(y)||(y=JSON.parse(y)),!y[""]||!y[""].language||!y[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var E=y[""];return delete y[""],this.setMessages(T||e.domain,E.language,y,E["plural-forms"])},setLocale:function(y){return l=m(y),this},getLocale:function(){return l},textdomain:function(y){return y?(o=y,this):o},gettext:function(y){return this.dcnpgettext.apply(this,[void 0,void 0,y,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(y,T,E){return this.dcnpgettext.apply(this,[void 0,void 0,y,T,E].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(y,T){return this.dcnpgettext.apply(this,[void 0,y,T,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(y,T,E,S,C){if(y=y||o,typeof E!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',E));var R,D={plural_form:!1},B=T?T+a+E:E,O,A,M=c(l);for(var J in M)if(A=M[J],O=r[y]&&r[y][A]&&r[y][A][B],S?O=O&&typeof r[y][A][B]!="string":O=O&&typeof r[y][A][B]=="string",O)break;return O?R=r[y][A][B]:(R=E,D.plural_func=e.plural_func),S?(D.plural_form=!0,v.apply(this,[O?R:[E,S],C,D].concat(Array.prototype.slice.call(arguments,5)))):v.apply(this,[[R],C,D].concat(Array.prototype.slice.call(arguments,5)))}}};const Rg=new Map([["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["city_building","overmap_special"]]),yn=i=>{var e;return(e=Rg.get(i))!=null?e:i};let _l=Ig();const Ng=["AMMO","ARMOR","BATTERY","BIONIC_ITEM","BOOK","COMESTIBLE","CONTAINER","ENGINE","GENERIC","GUN","GUNMOD","MAGAZINE","PET_ARMOR","TOOL","TOOLMOD","TOOL_ARMOR","WHEEL","MONSTER"];function Og(i){return typeof i=="string"?i:"str_sp"in i?i.str_sp:i.str}function Bg(i){return typeof i=="string"?i+"s":"str_sp"in i?i.str_sp:"str_pl"in i?i.str_pl:i.str+"s"}function Xr(i,e,n){const t=Og(i),l=e?Bg(i):void 0;return _l.ngettext(t,l,n)||(n===1?t:l!=null?l:t)}const Vt=i=>Xr(i,!1,1),Po=(i,e=2)=>Xr(i,!0,e),pe=i=>Or(i,1),Or=(i,e=2)=>{var t;const n=i==null?void 0:i.name;return n==null?(t=i==null?void 0:i.id)!=null?t:i==null?void 0:i.abstract:Xr(n,Ng.includes(i.type),e)};function vl(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function Jr(i){if(typeof i=="undefined")return 0;if(typeof i=="number")return i*250;if(i.endsWith("ml"))return parseInt(i);if(i.endsWith("L"))return parseInt(i)*1e3}function Ui(i){if(typeof i=="undefined")return 0;if(typeof i=="number")return i;if(i.endsWith("mg"))return parseInt(i)/1e3;if(i.endsWith("kg"))return parseInt(i)*1e3;if(i.endsWith("g"))return parseInt(i)}function qi(i){if(typeof i=="number")return i/100;const e=1,n=1,t=60,l=t*60,o=l*24,r=[["turns",1*e],["turn",1*e],["t",1*e],["seconds",1*n],["second",1*n],["s",1*n],["minutes",1*t],["minute",1*t],["m",1*t],["hours",1*l],["hour",1*l],["h",1*l],["days",1*o],["day",1*o],["d",1*o]],[f,a]=i.trim().split(/\s+/),s=r.find(u=>u[0]===a);if(!s)throw new Error(`bad duration: ${JSON.stringify(i)}`);return Number(f)*s[1]}function Fo(i){const e=qi(i);return`${Math.round(e/60)} m`}function Yo(i){let e=qi(i),n=e/60|0;e-=n*60;let t=n/60|0;n-=t*60;let l=t/24|0;return t-=l*24,[[l,"d"],[t,"h"],[n,"m"],[e,"s"]].filter(([o])=>o).map(o=>o.join("")).join(" ")}function xn(i){return`${(Jr(i)/1e3).toFixed(2)} L`}function yl(i){return`${(Ui(i)/1e3).toFixed(2)} kg`}class Ag{constructor(e,n,t){en(this,"_raw");en(this,"_byType",new Map);en(this,"_byTypeById",new Map);en(this,"_abstractsByType",new Map);en(this,"_toolReplacements");en(this,"_craftingPseudoItems",new Map);en(this,"_migrations",new Map);en(this,"_flattenCache",new Map);en(this,"_nestedMapgensById",new Map);en(this,"release");en(this,"build_number");en(this,"_cachedDeathDrops",new Map);en(this,"_cachedUncraftRecipes",null);en(this,"_cachedMapgenSpawnItems",new Map);en(this,"_flattenItemGroupCache",new WeakMap);en(this,"_flatRequirementCache",new WeakMap);en(this,"_flatRequirementCacheExpandSubs",new WeakMap);en(this,"_flatRequirementCacheOnlyRecoverable",new WeakMap);en(this,"_itemComponentCache");this.release=t,this.build_number=n,this._raw=e.filter(l=>typeof l=="object");for(const l of e){if(!Object.hasOwnProperty.call(l,"type"))continue;if(l.type==="MIGRATION"){for(const r of typeof l.id=="string"?[l.id]:l.id){const{replace:f}=l;this._migrations.set(r,f)}continue}const o=yn(l.type);if(this._byType.has(o)||this._byType.set(o,[]),this._byType.get(o).push(l),Object.hasOwnProperty.call(l,"id")){if(this._byTypeById.has(o)||this._byTypeById.set(o,new Map),typeof l.id=="string")this._byTypeById.get(o).set(l.id,l);else if(Array.isArray(l.id))for(const r of l.id)this._byTypeById.get(o).set(r,l)}if((o==="recipe"||o==="uncraft")&&Object.hasOwnProperty.call(l,"result")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=l.result+(l.id_suffix?"_"+l.id_suffix:"");this._byTypeById.get(o).set(r,l)}if(o==="monstergroup"&&Object.hasOwnProperty.call(l,"name")){this._byTypeById.has(o)||this._byTypeById.set(o,new Map);const r=l.name;this._byTypeById.get(o).set(r,l)}Object.hasOwnProperty.call(l,"abstract")&&(this._abstractsByType.has(o)||this._abstractsByType.set(o,new Map),this._abstractsByType.get(o).set(l.abstract,l)),Object.hasOwnProperty.call(l,"crafting_pseudo_item")&&this._craftingPseudoItems.set(l.crafting_pseudo_item,l.id),Object.hasOwnProperty.call(l,"nested_mapgen_id")&&(this._nestedMapgensById.has(l.nested_mapgen_id)||this._nestedMapgensById.set(l.nested_mapgen_id,[]),this._nestedMapgensById.get(l.nested_mapgen_id).push(l))}}byId(e,n){var l;if(typeof n!="string")throw new Error("Requested non-string id");if(e==="item"&&this._migrations.has(n))return this.byId(e,this._migrations.get(n));const t=(l=this._byTypeById.get(e))==null?void 0:l.get(n);if(t)return this._flatten(t)}byType(e){var n,t;return(t=(n=this._byType.get(e))==null?void 0:n.map(l=>this._flatten(l)))!=null?t:[]}abstractById(e,n){var l;if(typeof n!="string")throw new Error("Requested non-string id");const t=(l=this._abstractsByType.get(e))==null?void 0:l.get(n);if(t)return this._flatten(t)}replacementTools(e){var n;if(!this._toolReplacements){this._toolReplacements=new Map;for(const t of this.byType("item"))t.type==="TOOL"&&Object.hasOwnProperty.call(t,"sub")&&(this._toolReplacements.has(t.sub)||this._toolReplacements.set(t.sub,[]),this._toolReplacements.get(t.sub).push(t.id))}return(n=this._toolReplacements.get(e))!=null?n:[]}craftingPseudoItem(e){return this._craftingPseudoItems.get(e)}nestedMapgensById(e){return this._nestedMapgensById.get(e)}all(){return this._raw}_flatten(e){var f,a,s,u,c,m,$,v,y,T,E,S,C,R,D,B,O,A,M,J,j,N,X,W,F,z,q,H,Z,Y,K,Q,_e,V,ie,he,Ae,ve;const n=e;if(this._flattenCache.has(n))return this._flattenCache.get(n);const t="copy-from"in n?(s=(f=this._byTypeById.get(yn(n.type)))==null?void 0:f.get(n["copy-from"]))!=null?s:(a=this._abstractsByType.get(yn(n.type)))==null?void 0:a.get(n["copy-from"]):null;if("copy-from"in n&&!t&&console.error(`Missing parent in ${(m=(c=(u=n.id)!=null?u:n.abstract)!=null?c:n.result)!=null?m:JSON.stringify(n)}`),t===n)return console.warn("Object copied from itself:",n),this._flattenCache.set(n,n),n;if(!t)return this._flattenCache.set(n,n),n;const{abstract:l,...o}=this._flatten(t),r={...o,...n};o.vitamins&&n.vitamins&&(r.vitamins=[...o.vitamins.filter(fe=>!n.vitamins.some(be=>be[0]===fe[0])),...n.vitamins]);for(const fe of Object.keys(($=r.relative)!=null?$:{}))if(typeof r.relative[fe]=="number")if(fe==="melee_damage"){const be=hl(JSON.parse(JSON.stringify(r.melee_damage)));for(const $e of be)$e.amount=((v=$e.amount)!=null?v:0)+r.relative[fe];r.melee_damage=be}else r[fe]=((y=r[fe])!=null?y:0)+r.relative[fe];else if((fe==="damage"||fe==="ranged_damage")&&r[fe]){r[fe]=JSON.parse(JSON.stringify(r[fe]));const be=hl(r.relative[fe]);for(const $e of be){const ce=Array.isArray(r[fe])?r[fe].find(Ge=>Ge.damage_type===$e.damage_type):r[fe].damage_type===$e.damage_type?r[fe]:null;ce&&(ce.amount=((T=ce.amount)!=null?T:0)+((E=$e.amount)!=null?E:0),ce.armor_penetration=((S=ce.armor_penetration)!=null?S:0)+((C=$e.armor_penetration)!=null?C:0),ce.armor_multiplier=((R=ce.armor_multiplier)!=null?R:0)+((D=$e.armor_multiplier)!=null?D:0),ce.damage_multiplier=((B=ce.damage_multiplier)!=null?B:0)+((O=$e.damage_multiplier)!=null?O:0),ce.constant_armor_multiplier=((A=ce.constant_armor_multiplier)!=null?A:0)+((M=$e.constant_armor_multiplier)!=null?M:0),ce.constant_damage_multiplier=((J=ce.constant_damage_multiplier)!=null?J:0)+((j=$e.constant_damage_multiplier)!=null?j:0))}}delete r.relative;for(const fe of Object.keys((N=r.proportional)!=null?N:{}))if(typeof r.proportional[fe]=="number")if(fe==="attack_cost"&&!(fe in r)&&(r[fe]=100),typeof r[fe]=="string"){const be=/^\s*(\d+)\s*(.+)$/.exec(r[fe]);if(be){const[,$e,ce]=be;r[fe]=`${Number($e)*r.proportional[fe]} ${ce}`}}else r[fe]*=r.proportional[fe],r[fe]=r[fe]|0;else if(fe==="damage"&&r[fe]){r.damage=JSON.parse(JSON.stringify(r.damage));const be=hl(r.proportional.damage);for(const $e of be){const ce=Array.isArray(r.damage)?r.damage.find(Ge=>Ge.damage_type===$e.damage_type):r.damage.damage_type===$e.damage_type?r.damage:null;ce&&(ce.amount=((X=ce.amount)!=null?X:0)*((W=$e.amount)!=null?W:1),ce.armor_penetration=((F=ce.armor_penetration)!=null?F:0)*((z=$e.armor_penetration)!=null?z:1),ce.armor_multiplier=((q=ce.armor_multiplier)!=null?q:0)*((H=$e.armor_multiplier)!=null?H:1),ce.damage_multiplier=((Z=ce.damage_multiplier)!=null?Z:0)*((Y=$e.damage_multiplier)!=null?Y:1),ce.constant_armor_multiplier=((K=ce.constant_armor_multiplier)!=null?K:0)*((Q=$e.constant_armor_multiplier)!=null?Q:1),ce.constant_damage_multiplier=((_e=ce.constant_damage_multiplier)!=null?_e:0)*((V=$e.constant_damage_multiplier)!=null?V:1))}}delete r.proportional;for(const fe of Object.keys((ie=r.extend)!=null?ie:{}))Array.isArray(r.extend[fe])&&(r[fe]=((he=r[fe])!=null?he:[]).concat(r.extend[fe]));delete r.extend;for(const fe of Object.keys((Ae=r.delete)!=null?Ae:{}))if(Array.isArray(r.delete[fe])){const be=($e,ce)=>$e===ce||Array.isArray($e)&&Array.isArray(ce)&&$e.length===ce.length&&$e.every((Ge,Te)=>be(Ge,ce[Te]));r[fe]=((ve=r[fe])!=null?ve:[]).filter($e=>!r.delete[fe].some(ce=>be(ce,$e)))}return delete r.delete,this._flattenCache.set(n,r),r}flatDeathDrops(e){var l;if(this._cachedDeathDrops.has(e))return this._cachedDeathDrops.get(e);const n=this.byId("monster",e),t=n.death_drops?this.flattenItemGroup((l=this.normalizeItemGroup(n.death_drops,"distribution"))!=null?l:{subtype:"collection",entries:[]}):[];return t.sort((o,r)=>r.prob-o.prob),this._cachedDeathDrops.set(e,t),t}uncraftRecipe(e){if(!this._cachedUncraftRecipes){this._cachedUncraftRecipes=new Map;for(const n of this.byType("recipe"))n.result&&n.reversible&&this._cachedUncraftRecipes.set(n.result,n);for(const n of this.byType("uncraft"))n.result&&this._cachedUncraftRecipes.set(n.result,n)}return this._cachedUncraftRecipes.get(e)}mapgenSpawnItems(e){var s,u,c,m,$,v,y;if(this._cachedMapgenSpawnItems.has(e))return this._cachedMapgenSpawnItems.get(e);const n=new Map,t=(T,E)=>{n.has(T)||n.set(T,new Set),n.get(T).add(E)},l=(T,E)=>{const S=typeof E=="string"?this.byId("item_group",E):Array.isArray(E)?{subtype:"collection",entries:E}:E;if(S)for(const{id:C}of this.flattenItemGroup(S))t(T,C);else typeof E=="string"&&this.byId("item",E)&&t(T,E)},o=T=>{var E,S,C,R,D;for(const[B,O]of Object.entries((E=T.item)!=null?E:{})){const A=Array.isArray(O)?O:[O];for(const M of A)t(B,M.item)}for(const[B,O]of Object.entries((S=T.items)!=null?S:{})){const A=Array.isArray(O)?O:[O];for(const M of A)l(B,M.item)}for(const[B,O]of Object.entries((C=T.sealed_item)!=null?C:{})){const A=Array.isArray(O)?O:[O];for(const M of A)(R=M.item)!=null&&R.item&&t(B,M.item.item),(D=M.items)!=null&&D.item&&l(B,M.items.item)}};o(e.object);for(const T of(s=e.object.palettes)!=null?s:[])typeof T=="string"&&o(this.byId("palette",T));const r=new Set,f=new Set;for(const T of(u=e.object.rows)!=null?u:[])for(const E of T)f.add(E);for(const T of f){const E=(c=n.get(T))!=null?c:new Set;for(const S of E)r.add(S)}for(const T of(m=e.object.place_item)!=null?m:[])r.add(T.item);for(const T of($=e.object.place_items)!=null?$:[]){const E=typeof T.item=="string"?this.byId("item_group",T.item):Array.isArray(T.item)?{subtype:"collection",entries:T.item}:T.item;if(E)for(const{id:S}of this.flattenItemGroup(E))r.add(S);else typeof T=="string"&&this.byId("item",T)&&r.add(T)}for(const T of(v=e.object.place_loot)!=null?v:[])if(T.item&&r.add(T.item),T.group)for(const{id:E}of this.flattenItemGroup(this.byId("item_group",T.group)))r.add(E);for(const T of(y=e.object.add)!=null?y:[])r.add(T.item);const a=[...r];return this._cachedMapgenSpawnItems.set(e,a),a}flattenItemGroup(e){var s,u,c,m,$;if(this._flattenItemGroupCache.has(e))return this._flattenItemGroupCache.get(e);const n=new Map;function t({id:v,prob:y,count:T}){var D;const{prob:E,count:S}=(D=n.get(v))!=null?D:{prob:0,count:[0,0]},C=1-(1-E)*(1-y),R=[T[0]+S[0],T[1]+S[1]];n.set(v,{prob:C,count:R})}function l(...v){v.forEach(t)}e["container-item"]&&l({id:e["container-item"],prob:1,count:[1,1]});const o=[];if(e.subtype==="old"||!e.subtype)for(const v of e.items)Array.isArray(v)?o.push({item:v[0],prob:v[1]}):o.push(v);else{for(const v of(s=e.entries)!=null?s:[])Array.isArray(v)?o.push({item:v[0],prob:v[1]}):o.push(v);for(const v of(u=e.items)!=null?u:[])Array.isArray(v)?o.push({item:v[0],prob:v[1]}):typeof v=="string"?o.push({item:v,prob:100}):o.push(v);for(const v of(c=e.groups)!=null?c:[])Array.isArray(v)?o.push({group:v[0],prob:v[1]}):typeof v=="string"?o.push({group:v,prob:100}):o.push(v)}function r(v,y,T){return{id:v.id,prob:v.prob*y,count:[v.count[0]*T[0],v.count[1]*T[1]]}}function f(v){return v.count?typeof v.count=="number"?[v.count,v.count]:v.count:v.charges?typeof v.charges=="number"?[v.charges,v.charges]:v.charges:[1,1]}if(e.subtype==="collection")for(const v of o){const{prob:y=100}=v,T=Math.min(y,100)/100,E=f(v);if(v["container-item"]&&l({id:v["container-item"],prob:T,count:[1,1]}),"item"in v){l({id:v.item,prob:T,count:E});const S=this.byId("item",v.item);S&&S.container&&l({id:S.container,prob:T,count:E})}else if("group"in v)l(...this.flattenItemGroup(this.byId("item_group",v.group)).map(S=>r(S,T,E)));else if("collection"in v)l(...this.flattenItemGroup({subtype:"collection",entries:v.collection}).map(S=>r(S,T,E)));else if("distribution"in v)l(...this.flattenItemGroup({subtype:"distribution",entries:v.distribution}).map(S=>r(S,T,E)));else throw new Error(`unknown item group entry: ${JSON.stringify(v)}`)}else{let v=0;for(const y of o)v+=(m=y.prob)!=null?m:100;for(const y of o){const T=(($=y.prob)!=null?$:100)/v,E=f(y);if(y["container-item"]&&l({id:y["container-item"],prob:T,count:[1,1]}),"item"in y)l({id:y.item,prob:T,count:E});else if("group"in y)l(...this.flattenItemGroup(this.byId("item_group",y.group)).map(S=>r(S,T,E)));else if("collection"in y)l(...this.flattenItemGroup({subtype:"collection",entries:y.collection}).map(S=>r(S,T,E)));else if("distribution"in y)l(...this.flattenItemGroup({subtype:"distribution",entries:y.distribution}).map(S=>r(S,T,E)));else throw new Error(`unknown item group entry: ${JSON.stringify(y)}`)}}const a=[...n.entries()].map(([v,y])=>({id:v,...y}));return this._flattenItemGroupCache.set(e,a),a}_flatRequirementCacheForOpts(e){if((e==null?void 0:e.expandSubstitutes)&&(e==null?void 0:e.onlyRecoverable))throw new Error("didn't expect to see expandSubstitutes && onlyRecoverable");return e!=null&&e.expandSubstitutes?this._flatRequirementCacheExpandSubs:e!=null&&e.onlyRecoverable?this._flatRequirementCacheOnlyRecoverable:this._flatRequirementCache}flattenRequirement(e,n,t){const l=this._flatRequirementCacheForOpts(t);if(l.has(e))return l.get(e);const{expandSubstitutes:o=!1,onlyRecoverable:r=!1}=t!=null?t:{},f=o?s=>s.flatMap(u=>Mg(this,u)):s=>s,a=Br(e).map(s=>f(rh(this,s,u=>Br(n(u)),r))).map(s=>r?s.filter(u=>{var c,m;return!((m=(c=this.byId("item",u.id))==null?void 0:c.flags)!=null?m:[]).includes("UNRECOVERABLE")}):s).filter(s=>s.length);return l.set(e,a),a}normalizeRequirementsForDisassembly(e){const{tools:n,qualities:t,components:l}=this.normalizeRequirements(e,{onlyRecoverable:!0});let o=!1;const r=[];for(const c of n)for(const m of c){if(["welder","welder_crude","oxy_torch","forge","char_forge"].includes(m.id)){c.length=0,r.push([{id:"SAW_M_FINE",level:1}]);break}if(["sewing_kit","mold_plastic"].includes(m.id)){c.length=0,r.push([{id:"CUT",level:1}]);break}if(m.id==="crucible"){c.length=0;break}if(m.id==="press"){c.length=0,o=!0,r.push([{id:"PULL",level:1}]);break}if(m.id==="fire"&&o){c.length=0;break}}const f=n.filter(c=>c.length);for(const c of t)for(const m of c){if(m.id==="SEW"){r.push([{id:"CUT",level:m.level}]),c.length=0;break}if(m.id==="GLARE"||m.id==="KNIT"){c.length=0;break}}const a=t.filter(c=>c.length),s=a.concat(r.filter(c=>!a.some(m=>m[0].id===c[0].id))),u=l.map(c=>c.filter(m=>{var $,v;return!((v=($=this.byId("item",m.id))==null?void 0:$.flags)!=null&&v.includes("UNRECOVERABLE"))})).filter(c=>c.length);return{tools:f,qualities:s,components:u}}normalizeRequirements(e,n){const t=typeof e.using=="string"?[[e.using,1]]:e.using,l=(t!=null?t:[]).map(([a,s])=>[this.byId("requirement",a),s]).concat([[e,1]]).filter(a=>a[0]),o=l.flatMap(([a,s])=>{var u;return this.flattenRequirement((u=a.tools)!=null?u:[],c=>c.tools,{expandSubstitutes:!0}).map(c=>c.map(m=>({...m,count:m.count*s})))}),r=l.flatMap(([a,s])=>{var u;return((u=a.qualities)!=null?u:[]).map(c=>Array.isArray(c)?c:[c])}),f=l.flatMap(([a,s])=>{var u;return this.flattenRequirement((u=a.components)!=null?u:[],c=>c.components,n).map(c=>c.map(m=>({...m,count:m.count*s})))});return{tools:o,qualities:r,components:f}}getItemComponents(){if(this._itemComponentCache)return this._itemComponentCache;const e=new Map,n=new Map;return this.byType("recipe").forEach(t=>{if(!t.result||!this.byId("item",t.result))return!1;const l=typeof t.using=="string"?[[t.using,1]]:t.using,o=(l!=null?l:[]).map(([a,s])=>[this.byId("requirement",a),s]).concat([[t,1]]),r=o.flatMap(([a])=>{var s;return this.flattenRequirement((s=a.tools)!=null?s:[],u=>u.tools)});for(const a of r)for(const s of a)e.has(s.id)||e.set(s.id,new Set),e.get(s.id).add(t.result);const f=o.flatMap(([a,s])=>{var u;return this.flattenRequirement((u=a.components)!=null?u:[],c=>c.components).map(c=>c.map(m=>({...m,count:m.count*s})))});for(const a of f)for(const s of a)n.has(s.id)||n.set(s.id,new Set),n.get(s.id).add(t.result)}),this._itemComponentCache={byTool:e,byComponent:n},this._itemComponentCache}normalizeItemGroup(e,n){return e?typeof e=="string"?this.byId("item_group",e):Array.isArray(e)?{subtype:n,entries:e}:{subtype:n,...e}:{subtype:n,entries:[]}}}function rh(i,e,n,t=!1){var o;const l=[];for(const r of e)if(Array.isArray(r)){const[f,a,...s]=r,u=s.includes("LIST");if(s.includes("NO_RECOVER")&&t)continue;if(u){const m=i.byId("requirement",f);m.type!=="requirement"&&console.error(`Expected a requirement, got ${m.type} (id=${m.id})`);const v=((o=n(m))!=null?o:[])[0];l.push(...rh(i,v,n,t).map(y=>({...y,count:y.count*a})))}else l.push({id:f,count:a})}else if(typeof r=="string")l.push({id:r,count:1});else throw new Error("unexpected choice type");return l}function Mg(i,e){const n=i.replacementTools(e.id);return[e,...n.map(t=>({id:t,count:e.count}))]}function Br(i){return i.map(e=>Array.isArray(e)?e:[e])}const ul=i=>i.type==="AMMO"||i.type==="COMESTIBLE"||i.stackable;function hl(i){return Array.isArray(i)?i:"values"in i?i.values:[i]}const Dg=["cover_left","cover_right","hatch_wheel_left","hatch_wheel_right","wheel_left","wheel_right","cross_unconnected","cross","horizontal_front_edge","horizontal_front","horizontal_rear_edge","horizontal_rear","horizontal_2_front","horizontal_2_rear","ne_edge","nw_edge","se_edge","sw_edge","vertical_right","vertical_left","vertical_2_right","vertical_2_left","vertical_T_right","vertical_T_left","front_right","front_left","rear_right","rear_left","cover","vertical","horizontal","vertical_2","horizontal_2","ne","nw","se","sw","front","rear","left","right"],oh=(i,e)=>{if(i.byId("vehicle_part",e))return[e,""];for(const n of Dg)if(e.endsWith("_"+n))return[e.slice(0,e.length-n.length-1),n];return[e,""]};function fh(i){var e;return{subtype:"collection",entries:((e=i.items)!=null?e:[]).map(n=>n.items?{collection:(typeof n.items=="string"?[n.items]:n.items).map(t=>({item:t})),prob:n.chance}:n.item_groups?{collection:(typeof n.item_groups=="string"?[n.item_groups]:n.item_groups).map(t=>({group:t})),prob:n.chance}:{distribution:[]})}}function Kr(i){return typeof i=="string"?[{type:i}]:Array.isArray(i)?i.map(e=>typeof e=="string"?{type:e}:Array.isArray(e)?{type:e[0]}:e):i?[i]:[]}const Lg=async i=>{const e=await fetch(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${i}/all.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching data`);return e.json()},Gg=async(i,e)=>{const n=await fetch(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${i}/lang/${e}.json`,{mode:"cors"});if(!n.ok)throw new Error(`Error ${n.status} (${n.statusText}) fetching locale data`);return n.json()};async function jo(i){for(;;)try{return await i()}catch(e){console.error(e),await new Promise(n=>setTimeout(n,2e3))}}let Ho=!1;const{subscribe:Ug,set:qg}=Gi(null),Wo={subscribe:Ug,async setVersion(i,e){if(Ho)throw new Error("can only set version once");Ho=!0;const[n,t]=await Promise.all([jo(()=>Lg(i)),e&&jo(()=>Gg(i,e))]);t&&(_l.loadJSON(t),_l.setLocale(e)),console.log(_l==null?void 0:_l.gettext("Internal Chronometer"));const l=new Ag(n.data,n.build_number,n.release);qg(l)}};function Pg(i){let e,n=(i[4]?(i[2]?Or:pe)(i[4]):i[1])+"",t,l;return{c(){e=g("a"),t=w(n),ae(e,"href",l="#/"+i[0]+"/"+i[1])},m(o,r){h(o,e,r),d(e,t)},p(o,r){r&22&&n!==(n=(o[4]?(o[2]?Or:pe)(o[4]):o[1])+"")&&P(t,n),r&3&&l!==(l="#/"+o[0]+"/"+o[1])&&ae(e,"href",l)},i:te,o:te,d(o){o&&p(e)}}}function Fg(i){let e,n=!ul(i[4]),t,l,o=ul(i[4]),r,f=n&&zo(i);l=new re({props:{type:i[0],id:i[1],plural:Xo(i[3])&&!ul(i[4])}});let a=o&&Vo(i);return{c(){e=g("span"),f&&f.c(),t=I(),U(l.$$.fragment),a&&a.c(),Ze(e,"white-space","nowrap")},m(s,u){h(s,e,u),f&&f.m(e,null),d(e,t),L(l,e,null),a&&a.m(e,null),r=!0},p(s,u){u&16&&(n=!ul(s[4])),n?f?f.p(s,u):(f=zo(s),f.c(),f.m(e,t)):f&&(f.d(1),f=null);const c={};u&1&&(c.type=s[0]),u&2&&(c.id=s[1]),u&24&&(c.plural=Xo(s[3])&&!ul(s[4])),l.$set(c),u&16&&(o=ul(s[4])),o?a?a.p(s,u):(a=Vo(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(s){r||(b(l.$$.fragment,s),r=!0)},o(s){k(l.$$.fragment,s),r=!1},d(s){s&&p(e),f&&f.d(),G(l),a&&a.d()}}}function zo(i){let e=Pi(i[3])+"",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},p(t,l){l&8&&e!==(e=Pi(t[3])+"")&&P(n,e)},d(t){t&&p(n)}}}function Vo(i){let e=" ",n,t,l=Pi(i[3])+"",o,r;return{c(){n=w(e),t=w("("),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&8&&l!==(l=Pi(f[3])+"")&&P(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function Yg(i){let e,n,t,l;const o=[Fg,Pg],r=[];function f(a,s){return a[3]!=null?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Pi(i){return typeof i=="number"?i.toString():i[0]===i[1]?i[0].toString():`${i[0]}\u2013${i[1]}`}function Xo(i){return typeof i=="number"?i!==1:i[0]===i[1]?i[0]!==1:!0}function jg(i,e,n){let{type:t}=e,{id:l}=e,{plural:o=!1}=e,{count:r=void 0}=e;const f=lt("data");let a=f.byId(t,l);return(a==null?void 0:a.type)==="vehicle_part"&&!a.name&&a.item&&(a=f.byId("item",a.item)),i.$$set=s=>{"type"in s&&n(0,t=s.type),"id"in s&&n(1,l=s.id),"plural"in s&&n(2,o=s.plural),"count"in s&&n(3,r=s.count)},[t,l,o,r,a]}class re extends We{constructor(e){super(),He(this,e,jg,Yg,Fe,{type:0,id:1,plural:2,count:3})}}const Hg=async i=>{const e=await fetch(`${i}/tile_config.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching tile data`);const n=await e.json();return await Promise.all(n["tiles-new"].map(async t=>{var s,u;const l=await fetch(`${i}/${t.file}`).then(c=>c.blob()),o=URL.createObjectURL(l),r=new Image;r.src=o;try{await new Promise((c,m)=>{r.onload=c,r.onerror=m})}finally{URL.revokeObjectURL(o)}const f=r.width/((s=t.sprite_width)!=null?s:n.tile_info[0].width)|0,a=r.height/((u=t.sprite_height)!=null?u:n.tile_info[0].height)|0;t.nx=f,t.ny=a})),n},{subscribe:Wg,set:Jo}=Gi(null),sh={subscribe:Wg,setURL(i){i?Hg(i).then(e=>{Jo({...e,baseUrl:i})},e=>{console.error("Error fetching tiles",e)}):Jo(null)}},Wt=0,hn=1,rn=2,on=3,fn=4,sn=5,an=6,nn=7,Ar={},Ye=(i,e,n)=>{Ar[i]=[e,n]};Ye(1,nn,Wt);Ye(2,hn,Wt);Ye(3,rn,Wt);Ye(4,fn,Wt);Ye(5,an,Wt);Ye(6,sn,Wt);Ye(7,on,Wt);Ye(8,Wt,nn);Ye(9,Wt,hn);Ye(10,Wt,rn);Ye(11,Wt,fn);Ye(12,Wt,an);Ye(13,Wt,sn);Ye(14,Wt,on);Ye(15,nn,fn);Ye(16,hn,fn);Ye(17,rn,fn);Ye(18,fn,fn);Ye(19,an,fn);Ye(20,Wt,fn);Ye(21,sn,fn);Ye(22,on,fn);Ye(23,nn,hn);Ye(24,hn,hn);Ye(25,rn,hn);Ye(26,fn,hn);Ye(27,an,hn);Ye(28,sn,hn);Ye(29,on,hn);Ye(30,Wt,Wt);Ye(31,nn,Wt);Ye(32,Wt,nn);Ye(33,nn,nn);Ye(34,hn,nn);Ye(35,rn,nn);Ye(36,on,nn);Ye(37,fn,nn);Ye(38,sn,nn);Ye(39,an,nn);Ye(40,Wt,rn);Ye(41,nn,rn);Ye(42,hn,rn);Ye(43,rn,rn);Ye(44,on,rn);Ye(45,fn,rn);Ye(46,sn,rn);Ye(47,an,rn);Ye(48,Wt,on);Ye(49,nn,on);Ye(50,hn,on);Ye(51,rn,on);Ye(52,on,on);Ye(53,fn,on);Ye(54,sn,on);Ye(55,an,on);Ye(56,Wt,sn);Ye(57,nn,sn);Ye(58,hn,sn);Ye(59,rn,sn);Ye(60,on,sn);Ye(61,fn,sn);Ye(62,sn,sn);Ye(63,an,sn);Ye(64,Wt,an);Ye(65,nn,an);Ye(66,hn,an);Ye(67,rn,an);Ye(68,on,an);Ye(69,fn,an);Ye(70,sn,an);Ye(71,an,an);function de(i){return{fg:Ar[i][0],bg:Ar[i][1],bold(){return{...this,is_bold:!0}},blink(){return{...this,is_blink:!0}},is_bold:!1,is_blink:!1,color(){let e=this.fg,n=this.bg;return this.is_bold&&(e=e+8),this.is_blink&&(n=n+8),{fg:e,bg:n}}}}function Mr(i){return i?i[1]!="_"?Mr("c_"+i):ah[i]:Mr("c_white")}const ah={};function me(i,e,n,t){ah[e]={...n.color(),inverse:t}}me("def_c_black","c_black",de(30),"def_i_black");me("def_c_white","c_white",de(1).bold(),"def_i_white");me("def_c_light_gray","c_light_gray",de(1),"def_i_light_gray");me("def_c_dark_gray","c_dark_gray",de(30).bold(),"def_i_dark_gray");me("def_c_red","c_red",de(2),"def_i_red");me("def_c_green","c_green",de(3),"def_i_green");me("def_c_blue","c_blue",de(4),"def_i_blue");me("def_c_cyan","c_cyan",de(5),"def_i_cyan");me("def_c_magenta","c_magenta",de(6),"def_i_magenta");me("def_c_brown","c_brown",de(7),"def_i_brown");me("def_c_light_red","c_light_red",de(2).bold(),"def_i_light_red");me("def_c_light_green","c_light_green",de(3).bold(),"def_i_light_green");me("def_c_light_blue","c_light_blue",de(4).bold(),"def_i_light_blue");me("def_c_light_cyan","c_light_cyan",de(5).bold(),"def_i_light_cyan");me("def_c_pink","c_pink",de(6).bold(),"def_i_pink");me("def_c_yellow","c_yellow",de(7).bold(),"def_i_yellow");me("def_h_black","h_black",de(20),"def_c_blue");me("def_h_white","h_white",de(15).bold(),"def_c_light_blue_white");me("def_h_light_gray","h_light_gray",de(15),"def_c_blue_white");me("def_h_dark_gray","h_dark_gray",de(20).bold(),"def_c_light_blue");me("def_h_red","h_red",de(16),"def_c_blue_red");me("def_h_green","h_green",de(17),"def_c_blue_green");me("def_h_blue","h_blue",de(20),"def_h_blue");me("def_h_cyan","h_cyan",de(19),"def_c_blue_cyan");me("def_h_magenta","h_magenta",de(21),"def_c_blue_magenta");me("def_h_brown","h_brown",de(22),"def_c_blue_yellow");me("def_h_light_red","h_light_red",de(16).bold(),"def_c_light_blue_red");me("def_h_light_green","h_light_green",de(17).bold(),"def_c_light_blue_green");me("def_h_light_blue","h_light_blue",de(18).bold(),"def_h_light_blue");me("def_h_light_cyan","h_light_cyan",de(19).bold(),"def_c_light_blue_cyan");me("def_h_pink","h_pink",de(21).bold(),"def_c_light_blue_magenta");me("def_h_yellow","h_yellow",de(22).bold(),"def_c_light_blue_yellow");me("def_i_black","i_black",de(32),"def_c_black");me("def_i_white","i_white",de(8).blink(),"def_c_white");me("def_i_light_gray","i_light_gray",de(8),"def_c_light_gray");me("def_i_dark_gray","i_dark_gray",de(32).blink(),"def_c_dark_gray");me("def_i_red","i_red",de(9),"def_c_red");me("def_i_green","i_green",de(10),"def_c_green");me("def_i_blue","i_blue",de(11),"def_c_blue");me("def_i_cyan","i_cyan",de(12),"def_c_cyan");me("def_i_magenta","i_magenta",de(13),"def_c_magenta");me("def_i_brown","i_brown",de(14),"def_c_brown");me("def_i_light_red","i_light_red",de(9).blink(),"def_c_light_red");me("def_i_light_green","i_light_green",de(10).blink(),"def_c_light_green");me("def_i_light_blue","i_light_blue",de(11).blink(),"def_c_light_blue");me("def_i_light_cyan","i_light_cyan",de(12).blink(),"def_c_light_cyan");me("def_i_pink","i_pink",de(13).blink(),"def_c_pink");me("def_i_yellow","i_yellow",de(14).blink(),"def_c_yellow");me("def_c_black_red","c_black_red",de(9).bold(),"def_c_red");me("def_c_white_red","c_white_red",de(23).bold(),"def_c_red_white");me("def_c_light_gray_red","c_light_gray_red",de(23),"def_c_light_red_white");me("def_c_dark_gray_red","c_dark_gray_red",de(9),"def_c_dark_gray_red");me("def_c_red_red","c_red_red",de(9),"def_c_red_red");me("def_c_green_red","c_green_red",de(25),"def_c_red_green");me("def_c_blue_red","c_blue_red",de(26),"def_h_red");me("def_c_cyan_red","c_cyan_red",de(27),"def_c_red_cyan");me("def_c_magenta_red","c_magenta_red",de(28),"def_c_red_magenta");me("def_c_brown_red","c_brown_red",de(29),"def_c_red_yellow");me("def_c_light_red_red","c_light_red_red",de(24).bold(),"def_c_red_red");me("def_c_light_green_red","c_light_green_red",de(25).bold(),"def_c_light_red_green");me("def_c_light_blue_red","c_light_blue_red",de(26).bold(),"def_h_light_red");me("def_c_light_cyan_red","c_light_cyan_red",de(27).bold(),"def_c_light_red_cyan");me("def_c_pink_red","c_pink_red",de(28).bold(),"def_c_light_red_magenta");me("def_c_yellow_red","c_yellow_red",de(29).bold(),"def_c_red_yellow");me("def_c_unset","c_unset",de(31),"def_c_unset");me("def_c_black_white","c_black_white",de(32),"def_c_light_gray");me("def_c_dark_gray_white","c_dark_gray_white",de(32).bold(),"def_c_white");me("def_c_light_gray_white","c_light_gray_white",de(33),"def_c_light_gray_white");me("def_c_white_white","c_white_white",de(33).bold(),"def_c_white_white");me("def_c_red_white","c_red_white",de(34),"def_c_white_red");me("def_c_light_red_white","c_light_red_white",de(34).bold(),"def_c_light_gray_red");me("def_c_green_white","c_green_white",de(35),"def_c_light_gray_green");me("def_c_light_green_white","c_light_green_white",de(35).bold(),"def_c_white_green");me("def_c_brown_white","c_brown_white",de(36),"def_c_light_gray_yellow");me("def_c_yellow_white","c_yellow_white",de(36).bold(),"def_c_white_yellow");me("def_c_blue_white","c_blue_white",de(37),"def_h_light_gray");me("def_c_light_blue_white","c_light_blue_white",de(37).bold(),"def_h_white");me("def_c_magenta_white","c_magenta_white",de(38),"def_c_light_gray_magenta");me("def_c_pink_white","c_pink_white",de(38).bold(),"def_c_white_magenta");me("def_c_cyan_white","c_cyan_white",de(39),"def_c_light_gray_cyan");me("def_c_light_cyan_white","c_light_cyan_white",de(39).bold(),"def_c_white_cyan");me("def_c_black_green","c_black_green",de(40),"def_c_green");me("def_c_dark_gray_green","c_dark_gray_green",de(40).bold(),"def_c_light_green");me("def_c_light_gray_green","c_light_gray_green",de(41),"def_c_green_white");me("def_c_white_green","c_white_green",de(41).bold(),"def_c_light_green_white");me("def_c_red_green","c_red_green",de(42),"def_c_green_red");me("def_c_light_red_green","c_light_red_green",de(42).bold(),"def_c_light_green_red");me("def_c_green_green","c_green_green",de(43),"def_c_green_green");me("def_c_light_green_green","c_light_green_green",de(43).bold(),"def_c_light_green_green");me("def_c_brown_green","c_brown_green",de(44),"def_c_green_yellow");me("def_c_yellow_green","c_yellow_green",de(44).bold(),"def_c_light_green_yellow");me("def_c_blue_green","c_blue_green",de(45),"def_h_green");me("def_c_light_blue_green","c_light_blue_green",de(45).bold(),"def_h_light_green");me("def_c_magenta_green","c_magenta_green",de(46),"def_c_green_magenta");me("def_c_pink_green","c_pink_green",de(46).bold(),"def_c_light_green_magenta");me("def_c_cyan_green","c_cyan_green",de(47),"def_c_green_cyan");me("def_c_light_cyan_green","c_light_cyan_green",de(47).bold(),"def_c_light_green_cyan");me("def_c_black_yellow","c_black_yellow",de(48),"def_c_brown");me("def_c_dark_gray_yellow","c_dark_gray_yellow",de(48).bold(),"def_c_yellow");me("def_c_light_gray_yellow","c_light_gray_yellow",de(49),"def_c_brown_white");me("def_c_white_yellow","c_white_yellow",de(49).bold(),"def_c_yellow_white");me("def_c_red_yellow","c_red_yellow",de(50),"def_c_yellow_red");me("def_c_light_red_yellow","c_light_red_yellow",de(50).bold(),"def_c_yellow_red");me("def_c_green_yellow","c_green_yellow",de(51),"def_c_brown_green");me("def_c_light_green_yellow","c_light_green_yellow",de(51).bold(),"def_c_yellow_green");me("def_c_brown_yellow","c_brown_yellow",de(52),"def_c_brown_yellow");me("def_c_yellow_yellow","c_yellow_yellow",de(52).bold(),"def_c_yellow_yellow");me("def_c_blue_yellow","c_blue_yellow",de(53),"def_h_brown");me("def_c_light_blue_yellow","c_light_blue_yellow",de(53).bold(),"def_h_yellow");me("def_c_magenta_yellow","c_magenta_yellow",de(54),"def_c_brown_magenta");me("def_c_pink_yellow","c_pink_yellow",de(54).bold(),"def_c_yellow_magenta");me("def_c_cyan_yellow","c_cyan_yellow",de(55),"def_c_brown_cyan");me("def_c_light_cyan_yellow","c_light_cyan_yellow",de(55).bold(),"def_c_yellow_cyan");me("def_c_black_magenta","c_black_magenta",de(56),"def_c_magenta");me("def_c_dark_gray_magenta","c_dark_gray_magenta",de(56).bold(),"def_c_pink");me("def_c_light_gray_magenta","c_light_gray_magenta",de(57),"def_c_magenta_white");me("def_c_white_magenta","c_white_magenta",de(57).bold(),"def_c_pink_white");me("def_c_red_magenta","c_red_magenta",de(58),"def_c_magenta_red");me("def_c_light_red_magenta","c_light_red_magenta",de(58).bold(),"def_c_pink_red");me("def_c_green_magenta","c_green_magenta",de(59),"def_c_magenta_green");me("def_c_light_green_magenta","c_light_green_magenta",de(59).bold(),"def_c_pink_green");me("def_c_brown_magenta","c_brown_magenta",de(60),"def_c_magenta_yellow");me("def_c_yellow_magenta","c_yellow_magenta",de(60).bold(),"def_c_pink_yellow");me("def_c_blue_magenta","c_blue_magenta",de(61),"def_h_magenta");me("def_c_light_blue_magenta","c_light_blue_magenta",de(61).bold(),"def_h_pink");me("def_c_magenta_magenta","c_magenta_magenta",de(62),"def_c_magenta_magenta");me("def_c_pink_magenta","c_pink_magenta",de(62).bold(),"def_c_pink_magenta");me("def_c_cyan_magenta","c_cyan_magenta",de(63),"def_c_magenta_cyan");me("def_c_light_cyan_magenta","c_light_cyan_magenta",de(63).bold(),"def_c_pink_cyan");me("def_c_black_cyan","c_black_cyan",de(64),"def_c_cyan");me("def_c_dark_gray_cyan","c_dark_gray_cyan",de(64).bold(),"def_c_light_cyan");me("def_c_light_gray_cyan","c_light_gray_cyan",de(65),"def_c_cyan_white");me("def_c_white_cyan","c_white_cyan",de(65).bold(),"def_c_light_cyan_white");me("def_c_red_cyan","c_red_cyan",de(66),"def_c_cyan_red");me("def_c_light_red_cyan","c_light_red_cyan",de(66).bold(),"def_c_light_cyan_red");me("def_c_green_cyan","c_green_cyan",de(67),"def_c_cyan_green");me("def_c_light_green_cyan","c_light_green_cyan",de(67).bold(),"def_c_light_cyan_green");me("def_c_brown_cyan","c_brown_cyan",de(68),"def_c_cyan_yellow");me("def_c_yellow_cyan","c_yellow_cyan",de(68).bold(),"def_c_light_cyan_yellow");me("def_c_blue_cyan","c_blue_cyan",de(69),"def_h_cyan");me("def_c_light_blue_cyan","c_light_blue_cyan",de(69).bold(),"def_h_light_cyan");me("def_c_magenta_cyan","c_magenta_cyan",de(70),"def_c_cyan_magenta");me("def_c_pink_cyan","c_pink_cyan",de(70).bold(),"def_c_light_cyan_magenta");me("def_c_cyan_cyan","c_cyan_cyan",de(71),"def_c_cyan_cyan");me("def_c_light_cyan_cyan","c_light_cyan_cyan",de(71).bold(),"def_c_light_cyan_cyan");function zg(i){let e,n;return{c(){e=g("span"),n=w(i[3]),Ze(e,"font-family","monospace"),ae(e,"class","c_"+i[4]+" svelte-17io91a")},m(t,l){h(t,e,l),d(e,n)},p:te,d(t){t&&p(e)}}}function Vg(i){let e,n,t,l=i[1].bg!=null&&Ko(i),o=i[1].fg!=null&&Zo(i);return{c(){e=g("div"),l&&l.c(),n=I(),o&&o.c(),ae(e,"style",t=wl({width:`${i[2].width*i[2].pixelscale}px`,height:`${i[2].height*i[2].pixelscale}px`})),ae(e,"class","tile-icon svelte-17io91a")},m(r,f){h(r,e,f),l&&l.m(e,null),d(e,n),o&&o.m(e,null)},p(r,f){r[1].bg!=null?l?l.p(r,f):(l=Ko(r),l.c(),l.m(e,n)):l&&(l.d(1),l=null),r[1].fg!=null?o?o.p(r,f):(o=Zo(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null),f&4&&t!==(t=wl({width:`${r[2].width*r[2].pixelscale}px`,height:`${r[2].height*r[2].pixelscale}px`}))&&ae(e,"style",t)},d(r){r&&p(e),l&&l.d(),o&&o.d()}}}function Ko(i){let e,n;return{c(){e=g("div"),ae(e,"class","icon-layer bg svelte-17io91a"),ae(e,"style",n=wl({width:`${i[1].bg.width}px`,height:`${i[1].bg.height}px`,"background-image":`url(${`${i[0]}/${encodeURIComponent(i[1].bg.file)}`})`,"background-position":`${-i[1].bg.tx*i[1].bg.width}px ${-i[1].bg.ty*i[1].bg.height}px`,transform:`scale(${i[2].pixelscale}) translate(${i[1].bg.offx}px, ${i[1].bg.offy}px)`}))},m(t,l){h(t,e,l)},p(t,l){l&7&&n!==(n=wl({width:`${t[1].bg.width}px`,height:`${t[1].bg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].bg.file)}`})`,"background-position":`${-t[1].bg.tx*t[1].bg.width}px ${-t[1].bg.ty*t[1].bg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].bg.offx}px, ${t[1].bg.offy}px)`}))&&ae(e,"style",n)},d(t){t&&p(e)}}}function Zo(i){let e,n;return{c(){e=g("div"),ae(e,"class","icon-layer fg svelte-17io91a"),ae(e,"style",n=wl({width:`${i[1].fg.width}px`,height:`${i[1].fg.height}px`,"background-image":`url(${`${i[0]}/${encodeURIComponent(i[1].fg.file)}`})`,"background-position":`${-i[1].fg.tx*i[1].fg.width}px ${-i[1].fg.ty*i[1].fg.height}px`,transform:`scale(${i[2].pixelscale}) translate(${i[1].fg.offx}px, ${i[1].fg.offy}px)`}))},m(t,l){h(t,e,l)},p(t,l){l&7&&n!==(n=wl({width:`${t[1].fg.width}px`,height:`${t[1].fg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].fg.file)}`})`,"background-position":`${-t[1].fg.tx*t[1].fg.width}px ${-t[1].fg.ty*t[1].fg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].fg.offx}px, ${t[1].fg.offy}px)`}))&&ae(e,"style",n)},d(t){t&&p(e)}}}function Xg(i){let e;function n(o,r){return o[1]?Vg:zg}let t=n(i),l=t(i);return{c(){l.c(),e=le()},m(o,r){l.m(o,r),h(o,e,r)},p(o,[r]){t===(t=n(o))&&l?l.p(o,r):(l.d(1),l=t(o),l&&(l.c(),l.m(e.parentNode,e)))},i:te,o:te,d(o){l.d(o),o&&p(e)}}}function uh(i){return typeof i=="string"?`i_${i}`:uh(i[0])}function Qo(i,e){if(!i||!e)return;let n=0;const t=[];for(const r of i["tiles-new"])t.push({from:n,to:n+r.nx*r.ny,chunk:r}),n+=r.nx*r.ny;function l(r){for(const f of t)if(r>=f.from&&r<f.to)return f}function o(r){var c,m,$,v;if(r==null)return;const f=l(r),a=r-f.from,s=a%f.chunk.nx,u=a/f.chunk.nx|0;return{file:f.chunk.file,width:(c=f.chunk.sprite_width)!=null?c:i.tile_info[0].width,height:(m=f.chunk.sprite_height)!=null?m:i.tile_info[0].height,offx:($=f.chunk.sprite_offset_x)!=null?$:0,offy:(v=f.chunk.sprite_offset_y)!=null?v:0,tx:s,ty:u}}for(const r of i["tiles-new"]){for(const f of r.tiles)if(Array.isArray(f.id)&&f.id.includes(e)||f.id===e){let a=Array.isArray(f.fg)?f.fg[0]:f.fg,s=Array.isArray(f.bg)?f.bg[0]:f.bg;return a&&typeof a=="object"&&(a=a.sprite),s&&typeof s=="object"&&(s=s.sprite),{fg:o(a),bg:o(s)}}n+=r.nx*r.ny}}function wl(i){let e="";for(const[n,t]of Object.entries(i))e+=`${n}: ${t};`;return e}function Jg(i,e,n){var y;let t,l,o,r;x1(i,sh,T=>n(6,r=T));let{item:f}=e,a=lt("data");const s=(y=[f.symbol].flat()[0])!=null?y:" ",u=/^LINE_/.test(s)?"|":s,c=f.color?typeof f.color=="string"?f.color:f.color[0]:f.bgcolor?uh(f.bgcolor):null;function m(T){return["item","monster","terrain","furniture","vehicle_part"].includes(yn(T.type))}function $(T,E,S=10){var O,A,M;function C(J){return E.type==="vehicle_part"?`vp_${J}`:J}const R=Qo(T,C((O=E.id)!=null?O:E.abstract));if(R)return R;const D=(A=E.looks_like)!=null?A:E["copy-from"];if(!D)return;const B=Qo(T,C(D));if(B)return B;if(S>0){const J=(M=a.byId(yn(E.type),D))!=null?M:a.abstractById(yn(E.type),D);if(J)return $(T,J,S-1)}}function v(T,E,S){var O;if(!T)return;const C=[E].flat()[0],R=C?/^LINE_/.test(C)?"|":C:" ",D=Mr(Array.isArray(S)?S[0]:S).fg;for(const A of T["tiles-new"])for(const M of(O=A.ascii)!=null?O:[])if(B(M.color)+(M.bold?8:0)===D){const j=M.offset+R.charCodeAt(0),N=j%A.nx,X=j/A.nx|0;return{fg:{file:A.file,tx:N,ty:X,width:T.tile_info[0].width,height:T.tile_info[0].height,offx:0,offy:0}}}function B(A){return A==="BLACK"?0:A==="RED"?1:A==="GREEN"?2:A==="YELLOW"?3:A==="BLUE"?4:A==="MAGENTA"?5:A==="CYAN"?6:A==="WHITE"?7:-1}}return i.$$set=T=>{"item"in T&&n(5,f=T.item)},i.$$.update=()=>{var T;i.$$.dirty&64&&n(2,t=r==null?void 0:r.tile_info[0]),i.$$.dirty&96&&n(1,l=m(f)?(T=$(r,f))!=null?T:v(r,f.symbol,f.color):null),i.$$.dirty&64&&n(0,o=r==null?void 0:r.baseUrl)},[o,l,t,u,c,f,r]}class xe extends We{constructor(e){super(),He(this,e,Jg,Xg,Fe,{item:5})}}function Kg(i){let e,n,t=i[0].cooldown+"",l,o,r;return e=new re({props:{type:"item",id:i[0].gun_type}}),{c(){U(e.$$.fragment),n=w(" (cooldown: "),l=w(t),o=w(")")},m(f,a){L(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,[a]){const s={};a&1&&(s.id=f[0].gun_type),e.$set(s),(!r||a&1)&&t!==(t=f[0].cooldown+"")&&P(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function Zg(i,e,n){let{attack:t}=e;return i.$$set=l=>{"attack"in l&&n(0,t=l.attack)},[t]}class Qg extends We{constructor(e){super(),He(this,e,Zg,Kg,Fe,{attack:0})}}function xg(i){let e=i[0].id+"",n,t,l,o="damage_max_instance"in i[0]&&xo(i),r=i[0].cooldown&&ef(i);return{c(){n=w(e),o&&o.c(),t=le(),r&&r.c(),l=le()},m(f,a){h(f,n,a),o&&o.m(f,a),h(f,t,a),r&&r.m(f,a),h(f,l,a)},p(f,a){a&1&&e!==(e=f[0].id+"")&&P(n,e),"damage_max_instance"in f[0]?o?o.p(f,a):(o=xo(f),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),f[0].cooldown?r?r.p(f,a):(r=ef(f),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i:te,o:te,d(f){f&&p(n),o&&o.d(f),f&&p(t),r&&r.d(f),f&&p(l)}}}function e0(i){let e,n,t,l;const o=[l0,n0],r=[];function f(a,s){return a[0].type==="gun"?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function t0(i){let e=i[0][0]+"",n,t,l=i[0].length>1&&nf(i);return{c(){n=w(e),l&&l.c(),t=le()},m(o,r){h(o,n,r),l&&l.m(o,r),h(o,t,r)},p(o,r){r&1&&e!==(e=o[0][0]+"")&&P(n,e),o[0].length>1?l?l.p(o,r):(l=nf(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:te,o:te,d(o){o&&p(n),l&&l.d(o),o&&p(t)}}}function xo(i){let e,n=hl(i[0].damage_max_instance).map(lf).join(" ")+"",t;return{c(){e=w(`:
    `),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o&1&&n!==(n=hl(l[0].damage_max_instance).map(lf).join(" ")+"")&&P(t,n)},d(l){l&&p(e),l&&p(t)}}}function ef(i){let e=" ",n,t,l=i[0].cooldown+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&1&&l!==(l=f[0].cooldown+"")&&P(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function n0(i){let e=i[0].type+"",n,t,l=i[0].cooldown&&tf(i);return{c(){n=w(e),l&&l.c(),t=le()},m(o,r){h(o,n,r),l&&l.m(o,r),h(o,t,r)},p(o,r){r&1&&e!==(e=o[0].type+"")&&P(n,e),o[0].cooldown?l?l.p(o,r):(l=tf(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:te,o:te,d(o){o&&p(n),l&&l.d(o),o&&p(t)}}}function l0(i){let e,n;return e=new Qg({props:{attack:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.attack=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function tf(i){let e=" ",n,t,l=i[0].cooldown+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&1&&l!==(l=f[0].cooldown+"")&&P(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function nf(i){let e=" ",n,t,l=i[0][1]+"",o,r;return{c(){n=w(e),t=w("(cooldown: "),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&1&&l!==(l=f[0][1]+"")&&P(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function i0(i){let e,n,t,l,o;const r=[t0,e0,xg],f=[];function a(s,u){return u&1&&(e=null),e==null&&(e=!!Array.isArray(s[0])),e?0:"type"in s[0]?1:"id"in s[0]?2:-1}return~(n=a(i,-1))&&(t=f[n]=r[n](i)),{c(){t&&t.c(),l=le()},m(s,u){~n&&f[n].m(s,u),h(s,l,u),o=!0},p(s,[u]){let c=n;n=a(s,u),n===c?~n&&f[n].p(s,u):(t&&(x(),k(f[c],1,1,()=>{f[c]=null}),ee()),~n?(t=f[n],t?t.p(s,u):(t=f[n]=r[n](s),t.c()),b(t,1),t.m(l.parentNode,l)):t=null)},i(s){o||(b(t),o=!0)},o(s){k(t),o=!1},d(s){~n&&f[n].d(s),s&&p(l)}}}const lf=i=>`(${i.damage_type} for ${i.amount} damage)`;function r0(i,e,n){let{special_attack:t}=e;return i.$$set=l=>{"special_attack"in l&&n(0,t=l.special_attack)},[t]}class o0 extends We{constructor(e){super(),He(this,e,r0,i0,Fe,{special_attack:0})}}function rf(i,e,n){const t=i.slice();return t[8]=e[n],t}const f0=i=>({item:i&3}),of=i=>({item:i[8]});function ff(i){let e,n;const t=i[5].default,l=eh(t,i,i[4],of);return{c(){e=g("li"),l&&l.c()},m(o,r){h(o,e,r),l&&l.m(e,null),n=!0},p(o,r){l&&l.p&&(!n||r&19)&&lh(l,t,o,o[4],n?nh(t,o[4],r,f0):ih(o[4]),of)},i(o){n||(b(l,o),n=!0)},o(o){k(l,o),n=!1},d(o){o&&p(e),l&&l.d(o)}}}function sf(i){let e,n,t=Number(i[0].length).toLocaleString()+"",l,o,r,f;return{c(){e=g("button"),n=w("See all "),l=w(t),o=w("..."),ae(e,"class","disclosure")},m(a,s){h(a,e,s),d(e,n),d(e,l),d(e,o),r||(f=Cn(e,"click",i[6]),r=!0)},p(a,s){s&1&&t!==(t=Number(a[0].length).toLocaleString()+"")&&P(l,t)},d(a){a&&p(e),r=!1,f()}}}function s0(i){let e,n,t,l,o=i[0].slice(0,i[1]),r=[];for(let s=0;s<o.length;s+=1)r[s]=ff(rf(i,o,s));const f=s=>k(r[s],1,1,()=>{r[s]=null});let a=i[0].length>i[1]&&sf(i);return{c(){e=g("ul");for(let s=0;s<r.length;s+=1)r[s].c();n=I(),a&&a.c(),t=le()},m(s,u){h(s,e,u);for(let c=0;c<r.length;c+=1)r[c].m(e,null);h(s,n,u),a&&a.m(s,u),h(s,t,u),l=!0},p(s,[u]){if(u&19){o=s[0].slice(0,s[1]);let c;for(c=0;c<o.length;c+=1){const m=rf(s,o,c);r[c]?(r[c].p(m,u),b(r[c],1)):(r[c]=ff(m),r[c].c(),b(r[c],1),r[c].m(e,null))}for(x(),c=o.length;c<r.length;c+=1)f(c);ee()}s[0].length>s[1]?a?a.p(s,u):(a=sf(s),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(s){if(!l){for(let u=0;u<o.length;u+=1)b(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);l=!1},d(s){s&&p(e),ue(r,s),s&&p(n),a&&a.d(s),s&&p(t)}}}function a0(i,e,n){let{$$slots:t={},$$scope:l}=e,{items:o}=e,{limit:r=10}=e,{grace:f=4}=e,s=typeof globalThis!==void 0&&(globalThis==null?void 0:globalThis.__isTesting__)?1/0:o.length<=r+f?r+f:r;const u=c=>{c.preventDefault(),n(1,s=1/0)};return i.$$set=c=>{"items"in c&&n(0,o=c.items),"limit"in c&&n(2,r=c.limit),"grace"in c&&n(3,f=c.grace),"$$scope"in c&&n(4,l=c.$$scope)},[o,s,r,f,l,t,u]}class at extends We{constructor(e){super(),He(this,e,a0,s0,Fe,{items:0,limit:2,grace:3})}}function af(i,e,n){const t=i.slice();return t[10]=e[n],t}function uf(i,e,n){const t=i.slice();return t[13]=e[n].id,t[14]=e[n].prob,t}function cf(i,e,n){const t=i.slice();return t[10]=e[n],t}function _f(i,e,n){const t=i.slice();return t[13]=e[n].id,t[14]=e[n].prob,t}function df(i,e,n){const t=i.slice();return t[21]=e[n],t}function mf(i,e,n){const t=i.slice();return t[24]=e[n],t}function pf(i,e,n){const t=i.slice();return t[27]=e[n],t}function hf(i,e,n){const t=i.slice();return t[27]=e[n],t}function gf(i,e,n){const t=i.slice();return t[27]=e[n],t}function bf(i,e,n){const t=i.slice();return t[34]=e[n],t}function $f(i,e,n){const t=i.slice();return t[13]=e[n],t}function kf(i){let e,n,t=i[0].bodytype+"",l;return{c(){e=g("dt"),e.textContent="Body Type",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].bodytype+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function vf(i){var o;let e,n,t=((o=i[0].species)!=null?o:[]).join(", ")+"",l;return{c(){e=g("dt"),e.textContent="Species",n=g("dd"),l=w(t)},m(r,f){h(r,e,f),h(r,n,f),d(n,l)},p(r,f){var a;f[0]&1&&t!==(t=((a=r[0].species)!=null?a:[]).join(", ")+"")&&P(l,t)},d(r){r&&p(e),r&&p(n)}}}function u0(i){let e,n,t,l,o,r=i[5],f=[];for(let s=0;s<r.length;s+=1)f[s]=yf($f(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Material",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&32){r=s[5];let c;for(c=0;c<r.length;c+=1){const m=$f(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=yf(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function yf(i){let e,n,t;return n=new re({props:{type:"material",id:i[13]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function wf(i){let e,n,t,l,o=i[0].special_attacks,r=[];for(let a=0;a<o.length;a+=1)r[a]=Ef(bf(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Special Attacks",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ae(t,"class","no-bullets")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s[0]&3){o=a[0].special_attacks;let u;for(u=0;u<o.length;u+=1){const c=bf(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Ef(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function c0(i){let e,n;return e=new o0({props:{special_attack:i[34]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.special_attack=t[34]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function _0(i){let e,n;return e=new re({props:{type:"monster_attack",id:i[34][0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.id=t[34][0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Ef(i){let e,n,t,l,o,r;const f=[_0,c0],a=[];function s(u,c){return c[0]&1&&(n=null),n==null&&(n=!!(u[34][0]&&u[1].byId("monster_attack",u[34][0]))),n?0:1}return t=s(i,[-1,-1]),l=a[t]=f[t](i),{c(){e=g("li"),l.c(),o=I()},m(u,c){h(u,e,c),a[t].m(e,null),d(e,o),r=!0},p(u,c){let m=t;t=s(u,c),t===m?a[t].p(u,c):(x(),k(a[m],1,1,()=>{a[m]=null}),ee(),l=a[t],l?l.p(u,c):(l=a[t]=f[t](u),l.c()),b(l,1),l.m(e,o))},i(u){r||(b(l),r=!0)},o(u){k(l),r=!1},d(u){u&&p(e),a[t].d()}}}function Tf(i){let e,n,t=i[0].regenerates+"",l,o;return{c(){e=g("dt"),e.textContent="Regenerates",n=g("dd"),l=w(t),o=w(" hp/turn")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f[0]&1&&t!==(t=r[0].regenerates+"")&&P(l,t)},d(r){r&&p(e),r&&p(n)}}}function Sf(i){let e,n,t=i[0].special_when_hit[0]+"",l,o,r=i[0].special_when_hit[1]+"",f,a;return{c(){e=g("dt"),e.textContent="When Hit",n=g("dd"),l=w(t),o=w(" ("),f=w(r),a=w("%)")},m(s,u){h(s,e,u),h(s,n,u),d(n,l),d(n,o),d(n,f),d(n,a)},p(s,u){u[0]&1&&t!==(t=s[0].special_when_hit[0]+"")&&P(l,t),u[0]&1&&r!==(r=s[0].special_when_hit[1]+"")&&P(f,r)},d(s){s&&p(e),s&&p(n)}}}function Cf(i){let e,n,t,l,o=i[0].anger_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=If(gf(i,o,f));return{c(){e=g("dt"),e.textContent="Anger Triggers",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=I(),ae(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&17){o=f[0].anger_triggers;let s;for(s=0;s<o.length;s+=1){const u=gf(f,o,s);r[s]?r[s].p(u,a):(r[s]=If(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ue(r,f)}}}function If(i){let e,n,t=i[27]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ae(n,"title",o=i[4][i[27]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&P(l,t),f[0]&1&&o!==(o=r[4][r[27]])&&ae(n,"title",o)},d(r){r&&p(e)}}}function Rf(i){let e,n,t,l,o=i[0].placate_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=Nf(hf(i,o,f));return{c(){e=g("dt"),e.textContent="Placate Triggers",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=I(),ae(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&17){o=f[0].placate_triggers;let s;for(s=0;s<o.length;s+=1){const u=hf(f,o,s);r[s]?r[s].p(u,a):(r[s]=Nf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ue(r,f)}}}function Nf(i){let e,n,t=i[27]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ae(n,"title",o=i[4][i[27]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&P(l,t),f[0]&1&&o!==(o=r[4][r[27]])&&ae(n,"title",o)},d(r){r&&p(e)}}}function Of(i){let e,n,t,l,o=i[0].fear_triggers,r=[];for(let f=0;f<o.length;f+=1)r[f]=Bf(pf(i,o,f));return{c(){e=g("dt"),e.textContent="Fear Triggers",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=I(),ae(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&17){o=f[0].fear_triggers;let s;for(s=0;s<o.length;s+=1){const u=pf(f,o,s);r[s]?r[s].p(u,a):(r[s]=Bf(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ue(r,f)}}}function Bf(i){let e,n,t=i[27]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ae(n,"title",o=i[4][i[27]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[27]+"")&&P(l,t),f[0]&1&&o!==(o=r[4][r[27]])&&ae(n,"title",o)},d(r){r&&p(e)}}}function Af(i){var f;let e,n,t,l,o=(f=i[0].flags)!=null?f:[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Mf(mf(i,o,a));return{c(){e=g("dt"),e.textContent="Flags",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();l=I(),ae(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);d(n,l)},p(a,s){var u;if(s[0]&9){o=(u=a[0].flags)!=null?u:[];let c;for(c=0;c<o.length;c+=1){const m=mf(a,o,c);r[c]?r[c].p(m,s):(r[c]=Mf(m),r[c].c(),r[c].m(t,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function Mf(i){let e,n,t=i[24]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ae(n,"title",o=i[3][i[24]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[24]+"")&&P(l,t),f[0]&1&&o!==(o=r[3][r[24]])&&ae(n,"title",o)},d(r){r&&p(e)}}}function Df(i){let e,n,t,l;function o(a,s){var u;return s[0]&1&&(t=null),t==null&&(t=!!(((u=a[0].death_function.effect)==null?void 0:u.id)&&a[1].byId("SPELL",a[0].death_function.effect.id))),t?m0:d0}let r=o(i,[-1,-1]),f=r(i);return{c(){e=g("dt"),e.textContent="On Death",n=g("dd"),f.c(),l=I()},m(a,s){h(a,e,s),h(a,n,s),f.m(n,null),d(n,l)},p(a,s){r===(r=o(a,s))&&f?f.p(a,s):(f.d(1),f=r(a),f&&(f.c(),f.m(n,l)))},d(a){a&&p(e),a&&p(n),f.d()}}}function d0(i){var t,l,o;let e=((o=(l=(t=i[0].death_function.effect)==null?void 0:t.id)!=null?l:i[0].death_function.corpse_type)!=null?o:"NORMAL")+"",n;return{c(){n=w(e)},m(r,f){h(r,n,f)},p(r,f){var a,s,u;f[0]&1&&e!==(e=((u=(s=(a=r[0].death_function.effect)==null?void 0:a.id)!=null?s:r[0].death_function.corpse_type)!=null?u:"NORMAL")+"")&&P(n,e)},d(r){r&&p(n)}}}function m0(i){let e=pe(i[1].byId("SPELL",i[0].death_function.effect.id))+"",n,t,l=Vt(i[1].byId("SPELL",i[0].death_function.effect.id).description)+"",o,r;return{c(){n=w(e),t=w(" ("),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a[0]&1&&e!==(e=pe(f[1].byId("SPELL",f[0].death_function.effect.id))+"")&&P(n,e),a[0]&1&&l!==(l=Vt(f[1].byId("SPELL",f[0].death_function.effect.id).description)+"")&&P(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function p0(i){let e,n,t,l,o,r=i[9].monsters,f=[];for(let m=0;m<r.length;m+=1)f[m]=Lf(df(i,r,m));const a=m=>k(f[m],1,1,()=>{f[m]=null});function s(m,$){if(m[9].age_grow)return g0;if(m[9].half_life)return h0}let u=s(i),c=u&&u(i);return{c(){e=g("dt"),e.textContent="Upgrades Into",n=g("dd"),t=g("ul");for(let m=0;m<f.length;m+=1)f[m].c();l=I(),c&&c.c(),ae(t,"class","comma-separated or")},m(m,$){h(m,e,$),h(m,n,$),d(n,t);for(let v=0;v<f.length;v+=1)f[v].m(t,null);d(n,l),c&&c.m(n,null),o=!0},p(m,$){if($[0]&512){r=m[9].monsters;let v;for(v=0;v<r.length;v+=1){const y=df(m,r,v);f[v]?(f[v].p(y,$),b(f[v],1)):(f[v]=Lf(y),f[v].c(),b(f[v],1),f[v].m(t,null))}for(x(),v=r.length;v<f.length;v+=1)a(v);ee()}c&&c.p(m,$)},i(m){if(!o){for(let $=0;$<r.length;$+=1)b(f[$]);o=!0}},o(m){f=f.filter(Boolean);for(let $=0;$<f.length;$+=1)k(f[$]);o=!1},d(m){m&&p(e),m&&p(n),ue(f,m),c&&c.d()}}}function Lf(i){let e,n,t;return n=new re({props:{type:"monster",id:i[21]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function h0(i){let e,n=i[9].half_life+"",t,l,o,r=i[9].half_life!==1&&b0();return{c(){e=w("with a half-life of "),t=w(n),l=w(" day"),r&&r.c(),o=le()},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:te,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function g0(i){let e,n=i[9].age_grow+"",t,l,o,r=i[9].age_grow!==1&&$0();return{c(){e=w("in "),t=w(n),l=w(" day"),r&&r.c(),o=le()},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:te,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function b0(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function $0(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function k0(i){let e,n,t,l,o;return l=new at({props:{items:i[6],$$slots:{default:[v0,({item:r})=>({0:r}),({item:r})=>[r?1:0]]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Drops",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f[0]&1|f[1]&256&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function v0(i){let e,n,t,l,o=jf(i[0].prob)+"",r,f,a;return e=new xe({props:{item:i[1].byId("item",i[0].id)}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment),l=w(" ("),r=w(o),f=w(")")},m(s,u){L(e,s,u),h(s,n,u),L(t,s,u),h(s,l,u),h(s,r,u),h(s,f,u),a=!0},p(s,u){const c={};u[0]&1&&(c.item=s[1].byId("item",s[0].id)),e.$set(c);const m={};u[0]&1&&(m.id=s[0].id),t.$set(m),(!a||u[0]&1)&&o!==(o=jf(s[0].prob)+"")&&P(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){G(e,s),s&&p(n),G(t,s),s&&p(l),s&&p(r),s&&p(f)}}}function y0(i){let e,n,t,l,o,r=i[7].entries,f=[];for(let s=0;s<r.length;s+=1)f[s]=Uf(cf(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Butchering Results",t=I(),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u[0]&130){r=s[7].entries;let c;for(c=0;c<r.length;c+=1){const m=cf(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Uf(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ue(f,s)}}}function w0(i){let e,n,t,l,o,r;return n=new xe({props:{item:i[1].byId("item",i[10].drop)}}),l=new re({props:{type:"item",id:i[10].drop}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment),o=I()},m(f,a){h(f,e,a),L(n,e,null),d(e,t),L(l,e,null),d(e,o),r=!0},p:te,i(f){r||(b(n.$$.fragment,f),b(l.$$.fragment,f),r=!0)},o(f){k(n.$$.fragment,f),k(l.$$.fragment,f),r=!1},d(f){f&&p(e),G(n),G(l)}}}function E0(i){let e,n,t=i[1].flattenItemGroup(i[1].byId("item_group",i[10].drop)),l=[];for(let r=0;r<t.length;r+=1)l[r]=Gf(_f(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=le()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f[0]&130){t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop));let a;for(a=0;a<t.length;a+=1){const s=_f(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Gf(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ue(l,r),r&&p(e)}}}function Gf(i){let e,n,t,l,o,r=(i[14]*100).toFixed(2)+"",f,a,s;return n=new xe({props:{item:i[1].byId("item",i[13])}}),l=new re({props:{type:"item",id:i[13]}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment),o=w(" ("),f=w(r),a=w(`%)
            `)},m(u,c){h(u,e,c),L(n,e,null),d(e,t),L(l,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:te,i(u){s||(b(n.$$.fragment,u),b(l.$$.fragment,u),s=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),s=!1},d(u){u&&p(e),G(n),G(l)}}}function Uf(i){let e,n,t,l;const o=[E0,w0],r=[];function f(a,s){var u;return((u=a[1].byId("harvest_drop_type",a[10].type))==null?void 0:u.group)||a[10].type==="bionic_group"?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function T0(i){let e,n,t,l,o,r=i[8].entries,f=[];for(let s=0;s<r.length;s+=1)f[s]=Pf(af(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Dissection Results",t=I(),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u[0]&258){r=s[8].entries;let c;for(c=0;c<r.length;c+=1){const m=af(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Pf(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ue(f,s)}}}function S0(i){let e,n,t,l,o,r;return n=new xe({props:{item:i[1].byId("item",i[10].drop)}}),l=new re({props:{type:"item",id:i[10].drop}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment),o=I()},m(f,a){h(f,e,a),L(n,e,null),d(e,t),L(l,e,null),d(e,o),r=!0},p:te,i(f){r||(b(n.$$.fragment,f),b(l.$$.fragment,f),r=!0)},o(f){k(n.$$.fragment,f),k(l.$$.fragment,f),r=!1},d(f){f&&p(e),G(n),G(l)}}}function C0(i){let e,n,t=i[1].flattenItemGroup(i[1].byId("item_group",i[10].drop)),l=[];for(let r=0;r<t.length;r+=1)l[r]=qf(uf(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=le()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f[0]&258){t=r[1].flattenItemGroup(r[1].byId("item_group",r[10].drop));let a;for(a=0;a<t.length;a+=1){const s=uf(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=qf(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ue(l,r),r&&p(e)}}}function qf(i){let e,n,t,l,o,r=(i[14]*100).toFixed(2)+"",f,a,s;return n=new xe({props:{item:i[1].byId("item",i[13])}}),l=new re({props:{type:"item",id:i[13]}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment),o=w(" ("),f=w(r),a=w(`%)
            `)},m(u,c){h(u,e,c),L(n,e,null),d(e,t),L(l,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:te,i(u){s||(b(n.$$.fragment,u),b(l.$$.fragment,u),s=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),s=!1},d(u){u&&p(e),G(n),G(l)}}}function Pf(i){let e,n,t,l;const o=[C0,S0],r=[];function f(a,s){var u;return((u=a[1].byId("harvest_drop_type",a[10].type))==null?void 0:u.group)||a[10].type==="bionic_group"?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function I0(i){var Bl,Al,Ml,Dl,Ll,Gl,Ul,ql,Pl,Fl,Yl,jl,Hl,Wl,zl,Vl,Xl,Jl,Kl,Zl,Ql,xl;let e,n,t,l=pe(i[0])+"",o,r,f,a,s,u,c,m=xn(i[0].volume)+"",$,v,y,T=yl(i[0].weight)+"",E,S,C,R=cl(i[0])+"",D,B,O,A,M=Ff(cl(i[0]))+"",J,j,N,X,W,F=i[0].description+"",z,q,H,Z,Y,K,Q,_e,V,ie=((Bl=i[0].speed)!=null?Bl:0)+"",he,Ae,ve,fe=((Al=i[0].melee_skill)!=null?Al:0)+"",be,$e,ce,Ge=i[2](i[0])+"",Te,ge,ye,Qe,oe,ke,Xe,Me,Oe=i[0].hp+"",Ce,ze,we,De=((Ml=i[0].dodge)!=null?Ml:0)+"",Pe,Ee,Se,Be,Ue,Ve,rt=((Dl=i[0].armor_bash)!=null?Dl:0)+"",ft,ct,_t,bt=((Ll=i[0].armor_cut)!=null?Ll:0)+"",Ht,un,St,et=((Ul=i[0].armor_stab)!=null?Ul:Math.floor(((Gl=i[0].armor_cut)!=null?Gl:0)*.8))+"",nt,Ne,je,yt=((ql=i[0].armor_bullet)!=null?ql:0)+"",mt,At,wt,pt=((Fl=i[0].armor_acid)!=null?Fl:Math.floor(((Pl=i[0].armor_cut)!=null?Pl:0)*.5))+"",ut,Ct,It,$t=((Yl=i[0].armor_fire)!=null?Yl:0)+"",Et,qt,it,Nn,ht,zt,Je,cn,Rt,Pt=((jl=i[0].aggression)!=null?jl:0)+"",gt,Gt,dt,ot=((Hl=i[0].morale)!=null?Hl:0)+"",st,Nt,Ot,Dt=((Wl=i[0].vision_day)!=null?Wl:40)+"",Ut,Ft,Lt=((zl=i[0].vision_night)!=null?zl:1)+"",_n,zn,Bn,ne,Re=i[0].default_faction+"",$n,An,Mn,Dn,Ln,Gn,Un,qn,Pn,Fn,kt;n=new xe({props:{item:i[0]}});let Jt=i[0].bodytype&&kf(i),Kt=i[0].species&&i[0].species.length&&vf(i),gn=i[5].length&&u0(i),Yt=i[0].special_attacks&&wf(i),Zt=i[0].regenerates&&Tf(i),Qt=i[0].special_when_hit&&Sf(i),vt=((Vl=i[0].anger_triggers)==null?void 0:Vl.length)&&Cf(i),xt=((Xl=i[0].placate_triggers)==null?void 0:Xl.length)&&Rf(i),se=((Jl=i[0].fear_triggers)==null?void 0:Jl.length)&&Of(i),Le=((Kl=i[0].flags)==null?void 0:Kl.length)&&Af(i),Tt=i[0].death_function&&Df(i),wn=i[9]&&p0(i),kn=((Zl=i[6])==null?void 0:Zl.length)&&k0(i),En=i[7]&&((Ql=i[7].entries)!=null?Ql:[]).length&&y0(i),Tn=i[8]&&((xl=i[8].entries)!=null?xl:[]).length&&T0(i);return{c(){e=g("h1"),U(n.$$.fragment),t=I(),o=w(l),r=I(),f=g("section"),a=g("dl"),Jt&&Jt.c(),s=le(),Kt&&Kt.c(),u=g("dt"),u.textContent="Volume",c=g("dd"),$=w(m),v=g("dt"),v.textContent="Weight",y=g("dd"),E=w(T),gn&&gn.c(),S=g("dt"),S.textContent="Difficulty",C=g("dd"),D=w(R),B=I(),O=g("span"),A=w("("),J=w(M),j=w(")"),X=I(),W=g("p"),z=w(F),q=I(),H=g("div"),Z=g("section"),Y=g("h1"),Y.textContent="Attack",K=I(),Q=g("dl"),_e=g("dt"),_e.textContent="Speed",V=g("dd"),he=w(ie),Ae=g("dt"),Ae.textContent="Melee Skill",ve=g("dd"),be=w(fe),$e=g("dt"),$e.textContent="Damage",ce=g("dd"),Te=w(Ge),Yt&&Yt.c(),ge=I(),ye=g("section"),Qe=g("h1"),Qe.textContent="Defense",oe=I(),ke=g("dl"),Xe=g("dt"),Xe.textContent="HP",Me=g("dd"),Ce=w(Oe),Zt&&Zt.c(),ze=g("dt"),ze.textContent="Dodge",we=g("dd"),Pe=w(De),Ee=g("dt"),Ee.textContent="Armor",Se=g("dd"),Be=g("dl"),Ue=g("dt"),Ue.textContent="Bash",Ve=g("dd"),ft=w(rt),ct=g("dt"),ct.textContent="Cut",_t=g("dd"),Ht=w(bt),un=g("dt"),un.textContent="Stab",St=g("dd"),nt=w(et),Ne=g("dt"),Ne.textContent="Bullet",je=g("dd"),mt=w(yt),At=g("dt"),At.textContent="Acid",wt=g("dd"),ut=w(pt),Ct=g("dt"),Ct.textContent="Fire",It=g("dd"),Et=w($t),qt=I(),Qt&&Qt.c(),it=I(),Nn=g("section"),ht=g("h1"),ht.textContent="Behavior",zt=I(),Je=g("dl"),cn=g("dt"),cn.textContent=`Aggression
    `,Rt=g("dd"),gt=w(Pt),Gt=g("dt"),Gt.textContent="Morale",dt=g("dd"),st=w(ot),Nt=g("dt"),Nt.textContent="Vision Range",Ot=g("dd"),Ut=w(Dt),Ft=w(" (day) / "),_n=w(Lt),zn=w(" (night)"),Bn=g("dt"),Bn.textContent="Default Faction",ne=g("dd"),$n=w(Re),vt&&vt.c(),An=le(),xt&&xt.c(),Mn=le(),se&&se.c(),Dn=le(),Le&&Le.c(),Ln=le(),Tt&&Tt.c(),Gn=le(),wn&&wn.c(),Un=I(),kn&&kn.c(),qn=I(),En&&En.c(),Pn=I(),Tn&&Tn.c(),Fn=le(),ae(O,"class",N="c_"+Yf(cl(i[0]))+" fg_only"),Ze(W,"color","var(--cata-color-gray)"),Ze(ke,"flex","1"),ae(H,"class","side-by-side"),ae(cn,"title","Monsters with high aggression are more likely to be hostile. Ranges from -100 to 100"),ae(Gt,"title","Morale at spawn. Monsters with low morale will flee.")},m(Ie,Ke){h(Ie,e,Ke),L(n,e,null),d(e,t),d(e,o),h(Ie,r,Ke),h(Ie,f,Ke),d(f,a),Jt&&Jt.m(a,null),d(a,s),Kt&&Kt.m(a,null),d(a,u),d(a,c),d(c,$),d(a,v),d(a,y),d(y,E),gn&&gn.m(a,null),d(a,S),d(a,C),d(C,D),d(C,B),d(C,O),d(O,A),d(O,J),d(O,j),d(f,X),d(f,W),d(W,z),h(Ie,q,Ke),h(Ie,H,Ke),d(H,Z),d(Z,Y),d(Z,K),d(Z,Q),d(Q,_e),d(Q,V),d(V,he),d(Q,Ae),d(Q,ve),d(ve,be),d(Q,$e),d(Q,ce),d(ce,Te),Yt&&Yt.m(Q,null),d(H,ge),d(H,ye),d(ye,Qe),d(ye,oe),d(ye,ke),d(ke,Xe),d(ke,Me),d(Me,Ce),Zt&&Zt.m(ke,null),d(ke,ze),d(ke,we),d(we,Pe),d(ke,Ee),d(ke,Se),d(Se,Be),d(Be,Ue),d(Be,Ve),d(Ve,ft),d(Be,ct),d(Be,_t),d(_t,Ht),d(Be,un),d(Be,St),d(St,nt),d(Be,Ne),d(Be,je),d(je,mt),d(Be,At),d(Be,wt),d(wt,ut),d(Be,Ct),d(Be,It),d(It,Et),d(Se,qt),Qt&&Qt.m(ke,null),h(Ie,it,Ke),h(Ie,Nn,Ke),d(Nn,ht),d(Nn,zt),d(Nn,Je),d(Je,cn),d(Je,Rt),d(Rt,gt),d(Je,Gt),d(Je,dt),d(dt,st),d(Je,Nt),d(Je,Ot),d(Ot,Ut),d(Ot,Ft),d(Ot,_n),d(Ot,zn),d(Je,Bn),d(Je,ne),d(ne,$n),vt&&vt.m(Je,null),d(Je,An),xt&&xt.m(Je,null),d(Je,Mn),se&&se.m(Je,null),d(Je,Dn),Le&&Le.m(Je,null),d(Je,Ln),Tt&&Tt.m(Je,null),d(Je,Gn),wn&&wn.m(Je,null),h(Ie,Un,Ke),kn&&kn.m(Ie,Ke),h(Ie,qn,Ke),En&&En.m(Ie,Ke),h(Ie,Pn,Ke),Tn&&Tn.m(Ie,Ke),h(Ie,Fn,Ke),kt=!0},p(Ie,Ke){var ti,ni,li,tt,Sn,$o,ko,vo,yo,wo,Eo,To,So,Co,Io,Ro,No,Oo,Bo,Ao,Mo,Do;const ei={};Ke[0]&1&&(ei.item=Ie[0]),n.$set(ei),(!kt||Ke[0]&1)&&l!==(l=pe(Ie[0])+"")&&P(o,l),Ie[0].bodytype?Jt?Jt.p(Ie,Ke):(Jt=kf(Ie),Jt.c(),Jt.m(a,s)):Jt&&(Jt.d(1),Jt=null),Ie[0].species&&Ie[0].species.length?Kt?Kt.p(Ie,Ke):(Kt=vf(Ie),Kt.c(),Kt.m(a,u)):Kt&&(Kt.d(1),Kt=null),(!kt||Ke[0]&1)&&m!==(m=xn(Ie[0].volume)+"")&&P($,m),(!kt||Ke[0]&1)&&T!==(T=yl(Ie[0].weight)+"")&&P(E,T),Ie[5].length&&gn.p(Ie,Ke),(!kt||Ke[0]&1)&&R!==(R=cl(Ie[0])+"")&&P(D,R),(!kt||Ke[0]&1)&&M!==(M=Ff(cl(Ie[0]))+"")&&P(J,M),(!kt||Ke[0]&1&&N!==(N="c_"+Yf(cl(Ie[0]))+" fg_only"))&&ae(O,"class",N),(!kt||Ke[0]&1)&&F!==(F=Ie[0].description+"")&&P(z,F),(!kt||Ke[0]&1)&&ie!==(ie=((ti=Ie[0].speed)!=null?ti:0)+"")&&P(he,ie),(!kt||Ke[0]&1)&&fe!==(fe=((ni=Ie[0].melee_skill)!=null?ni:0)+"")&&P(be,fe),(!kt||Ke[0]&1)&&Ge!==(Ge=Ie[2](Ie[0])+"")&&P(Te,Ge),Ie[0].special_attacks?Yt?(Yt.p(Ie,Ke),Ke[0]&1&&b(Yt,1)):(Yt=wf(Ie),Yt.c(),b(Yt,1),Yt.m(Q,null)):Yt&&(x(),k(Yt,1,1,()=>{Yt=null}),ee()),(!kt||Ke[0]&1)&&Oe!==(Oe=Ie[0].hp+"")&&P(Ce,Oe),Ie[0].regenerates?Zt?Zt.p(Ie,Ke):(Zt=Tf(Ie),Zt.c(),Zt.m(ke,ze)):Zt&&(Zt.d(1),Zt=null),(!kt||Ke[0]&1)&&De!==(De=((li=Ie[0].dodge)!=null?li:0)+"")&&P(Pe,De),(!kt||Ke[0]&1)&&rt!==(rt=((tt=Ie[0].armor_bash)!=null?tt:0)+"")&&P(ft,rt),(!kt||Ke[0]&1)&&bt!==(bt=((Sn=Ie[0].armor_cut)!=null?Sn:0)+"")&&P(Ht,bt),(!kt||Ke[0]&1)&&et!==(et=((ko=Ie[0].armor_stab)!=null?ko:Math.floor((($o=Ie[0].armor_cut)!=null?$o:0)*.8))+"")&&P(nt,et),(!kt||Ke[0]&1)&&yt!==(yt=((vo=Ie[0].armor_bullet)!=null?vo:0)+"")&&P(mt,yt),(!kt||Ke[0]&1)&&pt!==(pt=((wo=Ie[0].armor_acid)!=null?wo:Math.floor(((yo=Ie[0].armor_cut)!=null?yo:0)*.5))+"")&&P(ut,pt),(!kt||Ke[0]&1)&&$t!==($t=((Eo=Ie[0].armor_fire)!=null?Eo:0)+"")&&P(Et,$t),Ie[0].special_when_hit?Qt?Qt.p(Ie,Ke):(Qt=Sf(Ie),Qt.c(),Qt.m(ke,null)):Qt&&(Qt.d(1),Qt=null),(!kt||Ke[0]&1)&&Pt!==(Pt=((To=Ie[0].aggression)!=null?To:0)+"")&&P(gt,Pt),(!kt||Ke[0]&1)&&ot!==(ot=((So=Ie[0].morale)!=null?So:0)+"")&&P(st,ot),(!kt||Ke[0]&1)&&Dt!==(Dt=((Co=Ie[0].vision_day)!=null?Co:40)+"")&&P(Ut,Dt),(!kt||Ke[0]&1)&&Lt!==(Lt=((Io=Ie[0].vision_night)!=null?Io:1)+"")&&P(_n,Lt),(!kt||Ke[0]&1)&&Re!==(Re=Ie[0].default_faction+"")&&P($n,Re),(Ro=Ie[0].anger_triggers)!=null&&Ro.length?vt?vt.p(Ie,Ke):(vt=Cf(Ie),vt.c(),vt.m(Je,An)):vt&&(vt.d(1),vt=null),(No=Ie[0].placate_triggers)!=null&&No.length?xt?xt.p(Ie,Ke):(xt=Rf(Ie),xt.c(),xt.m(Je,Mn)):xt&&(xt.d(1),xt=null),(Oo=Ie[0].fear_triggers)!=null&&Oo.length?se?se.p(Ie,Ke):(se=Of(Ie),se.c(),se.m(Je,Dn)):se&&(se.d(1),se=null),(Bo=Ie[0].flags)!=null&&Bo.length?Le?Le.p(Ie,Ke):(Le=Af(Ie),Le.c(),Le.m(Je,Ln)):Le&&(Le.d(1),Le=null),Ie[0].death_function?Tt?Tt.p(Ie,Ke):(Tt=Df(Ie),Tt.c(),Tt.m(Je,Gn)):Tt&&(Tt.d(1),Tt=null),Ie[9]&&wn.p(Ie,Ke),(Ao=Ie[6])!=null&&Ao.length&&kn.p(Ie,Ke),Ie[7]&&((Mo=Ie[7].entries)!=null?Mo:[]).length&&En.p(Ie,Ke),Ie[8]&&((Do=Ie[8].entries)!=null?Do:[]).length&&Tn.p(Ie,Ke)},i(Ie){kt||(b(n.$$.fragment,Ie),b(gn),b(Yt),b(wn),b(kn),b(En),b(Tn),kt=!0)},o(Ie){k(n.$$.fragment,Ie),k(gn),k(Yt),k(wn),k(kn),k(En),k(Tn),kt=!1},d(Ie){Ie&&p(e),G(n),Ie&&p(r),Ie&&p(f),Jt&&Jt.d(),Kt&&Kt.d(),gn&&gn.d(),Ie&&p(q),Ie&&p(H),Yt&&Yt.d(),Zt&&Zt.d(),Qt&&Qt.d(),Ie&&p(it),Ie&&p(Nn),vt&&vt.d(),xt&&xt.d(),se&&se.d(),Le&&Le.d(),Tt&&Tt.d(),wn&&wn.d(),Ie&&p(Un),kn&&kn.d(Ie),Ie&&p(qn),En&&En.d(Ie),Ie&&p(Pn),Tn&&Tn.d(Ie),Ie&&p(Fn)}}}function cl(i){const{melee_skill:e=0,melee_dice:n=0,melee_cut:t=0,melee_dice_sides:l=0,dodge:o=0,armor_bash:r=-1,armor_cut:f=-1,diff:a=0,special_attacks:s=[],emit_fields:u=[],hp:c,speed:m=0,attack_cost:$=100,morale:v=0,aggression:y=0,vision_day:T=40,vision_night:E=1}=i;let S=(e+1)*n*(t+l)*.04+(o+1)*(3+r+f)*.04+(a+s.length+8*u.length);return S=Math.floor(S),S*=(c+m-$+(v+y)*.1)*.01+(T+2*E)*.01,Math.floor(S)}function Ff(i){return i<3?"Minimal threat.":i<10?"Mildly dangerous.":i<20?"Dangerous.":i<30?"Very dangerous.":i<50?"Extremely dangerous.":"Fatally dangerous!"}function Yf(i){return i<3||i<10?"light_gray":i<20?"light_red":(i<30||i<50,"red")}function jf(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function R0(i){return[i.default].concat(i.monsters.map(e=>e.monster).filter(e=>e!==i.default)).filter(e=>e)}function N0(i,e,n){var $;let{item:t}=e,l=lt("data");function o(v){let{melee_dice:y=0,melee_dice_sides:T=0,melee_damage:E=[],melee_cut:S}=v;const C=hl(E);return S&&C.push({damage_type:"cut",amount:S}),`${y}d${T} bash`+C.map(R=>` + ${R.amount} ${R.damage_type}`).join("")}const r={SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",PATH_AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",PATH_AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",PATH_AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",PATH_AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack"},f={FIRE:"Triggers if there's a fire within 3 tiles, the strength of the effect equals 5 * the field intensity of the fire.",FRIEND_ATTACKED:"Triggers if the monster sees another monster of the same type being attacked; strength = 15.",FRIEND_DIED:"Triggers if the monster sees another monster of the same type dying; strength = 15.",HURT:"Triggers when the monster is hurt, strength equals 1 + (damage / 3).",MEAT:"Meat or a corpse is nearby.",PLAYER_CLOSE:"Triggers when a potential enemy is within 5 tiles range.",PLAYER_WEAK:"Raises monster aggression by 10 - (percent of hp remaining / 10) if a potential enemy has less than 70% hp remaining",PLAYER_NEAR_BABY:"Increases monster aggression by 8 and morale by 4 if **the player** comes within 3 tiles of its offspring (defined by the baby_monster field in its reproduction data)",SOUND:"Not an actual trigger, monsters above 10 aggression and 0 morale will wander towards, monsters below 0 morale will wander away from the source of the sound for 1 turn (6, if they have the GOODHEARING flag).",STALK:"Raises monster aggresssion by 1, triggers 20% of the time each turn if aggression > 5.",HOSTILE_SEEN:"Increases aggression/decreases morale by a random amount between 0-2 for every potential enemy it can see, up to 20 aggression.",MATING_SEASON:"Increases aggression by 3 if a potential enemy is within 5 tiles range and the season is the same as the monster's mating season (defined by the baby_flags field in its reproduction data)."};let a=($=t.material)!=null?$:[],s=l.flatDeathDrops(t.id),u=t.harvest?l.byId("harvest",t.harvest):void 0,c=t.dissect?l.byId("harvest",t.dissect):void 0,m=t.upgrades&&(t.upgrades.into||t.upgrades.into_group)?{...t.upgrades,monsters:t.upgrades.into?[t.upgrades.into]:R0(l.byId("monstergroup",t.upgrades.into_group))}:null;return i.$$set=v=>{"item"in v&&n(0,t=v.item)},[t,l,o,r,f,a,s,u,c,m]}class O0 extends We{constructor(e){super(),He(this,e,N0,I0,Fe,{item:0},null,[-1,-1])}}function Hf(i,e,n){const t=i.slice();return t[3]=e[n],t}function Wf(i,e,n){const t=i.slice();return t[6]=e[n],t}function zf(i){let e,n=i[6].string+"",t,l;return{c(){e=g("span"),t=w(n),ae(e,"class",l="c_"+i[6].color)},m(o,r){h(o,e,r),d(e,t)},p:te,d(o){o&&p(e)}}}function Vf(i){let e=`
`,n,t=i[3],l=[];for(let o=0;o<t.length;o+=1)l[o]=zf(Wf(i,t,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();n=w(e)},m(o,r){for(let f=0;f<l.length;f+=1)l[f].m(o,r);h(o,n,r)},p(o,r){if(r&1){t=o[3];let f;for(f=0;f<t.length;f+=1){const a=Wf(o,t,f);l[f]?l[f].p(a,r):(l[f]=zf(a),l[f].c(),l[f].m(n.parentNode,n))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(o){ue(l,o),o&&p(n)}}}function B0(i){let e,n,t,l=i[0],o=[];for(let r=0;r<l.length;r+=1)o[r]=Vf(Hf(i,l,r));return{c(){e=g("pre"),n=w("");for(let r=0;r<o.length;r+=1)o[r].c();t=w(`
`),Ze(e,"font-family","Unifont, monospace"),Ze(e,"line-height","1")},m(r,f){h(r,e,f),d(e,n);for(let a=0;a<o.length;a+=1)o[a].m(e,null);d(e,t)},p(r,[f]){if(f&1){l=r[0];let a;for(a=0;a<l.length;a+=1){const s=Hf(r,l,a);o[a]?o[a].p(s,f):(o[a]=Vf(s),o[a].c(),o[a].m(e,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=l.length}},i:te,o:te,d(r){r&&p(e),ue(o,r)}}}function A0(i,e,n){let{picture:t}=e,l=["white"];const o=[];for(const r of t.picture){const f=[];let a=r;for(;;){const u=a.match(/<\/?color([^>]*?)>/);if(u)u.index>0&&f.push({string:a.substring(0,u.index),color:l[0]}),u[0][1]==="/"&&l.length>1?l.shift():l.unshift(u[1].substring(1)),a=a.substring(u.index+u[0].length);else break}a.length&&f.push({string:a,color:l[0]});const s=41-f.reduce((u,c)=>u+c.string.length,0);s>0&&f.push({string:" ".repeat(s),color:l[0]}),o.push(f)}return i.$$set=r=>{"picture"in r&&n(1,t=r.picture)},[o,t]}class M0 extends We{constructor(e){super(),He(this,e,A0,B0,Fe,{picture:1})}}function Xf(i){var Y,K,Q,_e,V;let e,n,t,l,o,r,f,a,s,u,c,m,$,v=((Y=i[0].range)!=null?Y:0)+"",y,T,E,S=((K=i[0].dispersion)!=null?K:0)+"",C,R,D,B=((Q=i[0].recoil)!=null?Q:0)+"",O,A,M,J=i[2](i[0]).toFixed(0)+"",j,N,X,W=((_e=i[0].critical_multiplier)!=null?_e:2)+"",F,z,q;f=new re({props:{type:"ammunition_type",id:i[0].ammo_type}});let H=i[0].casing&&Jf(i),Z=((V=i[0].effects)==null?void 0:V.length)&&Kf(i);return{c(){var ie,he,Ae;e=g("section"),n=g("h1"),n.textContent="Ammunition",t=I(),l=g("dl"),o=g("dt"),o.textContent="Ammunition Type",r=g("dd"),U(f.$$.fragment),a=g("dt"),a.textContent="Damage",s=g("dd"),s.textContent=`${(ie=i[1].amount)!=null?ie:0} (${(he=i[1].damage_type)!=null?he:"bullet"})`,u=g("dt"),u.textContent="Armor Penetration",c=g("dd"),c.textContent=`${(Ae=i[1].armor_penetration)!=null?Ae:0}`,m=g("dt"),m.textContent="Range",$=g("dd"),y=w(v),T=g("dt"),T.textContent="Dispersion",E=g("dd"),C=w(S),R=g("dt"),R.textContent="Recoil",D=g("dd"),O=w(B),A=g("dt"),A.textContent=`Loudness
      `,M=g("dd"),j=w(J),N=g("dt"),N.textContent="Critical Multiplier",X=g("dd"),F=w(W),H&&H.c(),z=le(),Z&&Z.c(),ae(A,"title","Base loudness of ammo (possibly modified by gun/gunmods)")},m(ie,he){h(ie,e,he),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),L(f,r,null),d(l,a),d(l,s),d(l,u),d(l,c),d(l,m),d(l,$),d($,y),d(l,T),d(l,E),d(E,C),d(l,R),d(l,D),d(D,O),d(l,A),d(l,M),d(M,j),d(l,N),d(l,X),d(X,F),H&&H.m(l,null),d(l,z),Z&&Z.m(l,null),q=!0},p(ie,he){var ve,fe,be,$e,ce;const Ae={};he&1&&(Ae.id=ie[0].ammo_type),f.$set(Ae),(!q||he&1)&&v!==(v=((ve=ie[0].range)!=null?ve:0)+"")&&P(y,v),(!q||he&1)&&S!==(S=((fe=ie[0].dispersion)!=null?fe:0)+"")&&P(C,S),(!q||he&1)&&B!==(B=((be=ie[0].recoil)!=null?be:0)+"")&&P(O,B),(!q||he&1)&&J!==(J=ie[2](ie[0]).toFixed(0)+"")&&P(j,J),(!q||he&1)&&W!==(W=(($e=ie[0].critical_multiplier)!=null?$e:2)+"")&&P(F,W),ie[0].casing?H?(H.p(ie,he),he&1&&b(H,1)):(H=Jf(ie),H.c(),b(H,1),H.m(l,z)):H&&(x(),k(H,1,1,()=>{H=null}),ee()),(ce=ie[0].effects)!=null&&ce.length?Z?Z.p(ie,he):(Z=Kf(ie),Z.c(),Z.m(l,null)):Z&&(Z.d(1),Z=null)},i(ie){q||(b(f.$$.fragment,ie),b(H),q=!0)},o(ie){k(f.$$.fragment,ie),k(H),q=!1},d(ie){ie&&p(e),G(f),H&&H.d(),Z&&Z.d()}}}function Jf(i){let e,n,t,l;return t=new re({props:{id:i[0].casing,type:"item"}}),{c(){e=g("dt"),e.textContent="Casing",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].casing),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Kf(i){let e,n,t=i[0].effects.join(", ")+"",l;return{c(){e=g("dt"),e.textContent="Effects",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].effects.join(", ")+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function D0(i){let e,n,t=(i[0].damage||i[0].show_stats)&&Xf(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].damage||l[0].show_stats?t?(t.p(l,o),o&1&&b(t,1)):(t=Xf(l),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(x(),k(t,1,1,()=>{t=null}),ee())},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function L0(i,e,n){var r;let{item:t}=e;const l=Array.isArray(t.damage)?t.damage[0]:t.damage&&"values"in t.damage?t.damage.values[0]:(r=t.damage)!=null?r:{amount:0,damage_type:"bullet",armor_penetration:0};function o(f){var a,s,u,c,m;return((a=f.loudness)!=null?a:-1)>=0?(s=f.loudness)!=null?s:0:((u=f.range)!=null?u:0)*2+((c=l.amount)!=null?c:0)*((m=l.armor_penetration)!=null?m:0)}return i.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,l,o]}class G0 extends We{constructor(e){super(),He(this,e,L0,D0,Fe,{item:0})}}function Fi(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function U0(i){var n;let e=new Map;for(const[t,l]of i){const o=(n=e.get(t))!=null?n:[];o.push(l),e.set(t,o)}return e}function Zr(i,e){const n=new Map;for(const t of i){const l=e(t);for(const o of l)n.has(o)||n.set(o,[]),n.get(o).push(t)}return n}function q0(i,e=n=>n){const n=new Set,t=[];for(const l of i){const o=e(l);n.has(o)||t.push(l),n.add(o)}return t}function Zf(i,e,n){const t=i.slice();return t[18]=e[n],t}function P0(i){let e;return{c(){e=w("Normal")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function F0(i){let e;return{c(){e=w("Outer aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Y0(i){let e;return{c(){e=w("Waist")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function j0(i){let e;return{c(){e=w("Outer")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function H0(i){let e;return{c(){e=w("Strapped")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function W0(i){let e;return{c(){e=w("Close to skin")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function z0(i){let e;return{c(){e=w("Personal aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Qf(i){let e,n;return{c(){e=g("dt"),e.textContent="Sided",n=g("dd"),n.textContent="Yes"},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function V0(i){let e,n=i[1](i[18].apd.specifically_covers).join(", ")+"",t,l;return{c(){e=w("("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function X0(i){let e,n,t,l=i[18].apd.coverage+"",o,r,f,a,s=i[18].apd.coverage!==i[18].apd.cover_melee&&K0(i),u=i[18].apd.coverage!==i[18].apd.cover_ranged&&Z0(i),c=i[18].apd.cover_vitals&&Q0(i);return{c(){e=g("dl"),n=g("dt"),n.textContent="Default",t=g("dd"),o=w(l),r=w("%"),s&&s.c(),f=le(),u&&u.c(),a=le(),c&&c.c()},m(m,$){h(m,e,$),d(e,n),d(e,t),d(t,o),d(t,r),s&&s.m(e,null),d(e,f),u&&u.m(e,null),d(e,a),c&&c.m(e,null)},p(m,$){m[18].apd.coverage!==m[18].apd.cover_melee&&s.p(m,$),m[18].apd.coverage!==m[18].apd.cover_ranged&&u.p(m,$),m[18].apd.cover_vitals&&c.p(m,$)},d(m){m&&p(e),s&&s.d(),u&&u.d(),c&&c.d()}}}function J0(i){let e=i[18].apd.coverage+"",n,t;return{c(){n=w(e),t=w("%")},m(l,o){h(l,n,o),h(l,t,o)},p:te,d(l){l&&p(n),l&&p(t)}}}function K0(i){let e,n,t=i[18].apd.cover_melee+"",l,o;return{c(){e=g("dt"),e.textContent="Melee",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p:te,d(r){r&&p(e),r&&p(n)}}}function Z0(i){let e,n,t=i[18].apd.cover_ranged+"",l,o;return{c(){e=g("dt"),e.textContent="Ranged",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p:te,d(r){r&&p(e),r&&p(n)}}}function Q0(i){let e,n,t=i[18].apd.cover_vitals+"",l,o;return{c(){e=g("dt"),e.textContent="Vitals",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p:te,d(r){r&&p(e),r&&p(n)}}}function x0(i){let e,n,t=i[7](i[18].bp_ids[0]).toFixed(2)+"",l,o,r,f=i[8](i[18].bp_ids[0]).toFixed(2)+"",a,s,u;return{c(){e=g("dt"),e.textContent="Acid",n=g("dd"),l=w(t),o=g("dt"),o.textContent="Fire",r=g("dd"),a=w(f),s=g("dt"),s.textContent="Environ.",u=g("dd"),u.textContent=`${i[6]()}`},m(c,m){h(c,e,m),h(c,n,m),d(n,l),h(c,o,m),h(c,r,m),d(r,a),h(c,s,m),h(c,u,m)},p:te,d(c){c&&p(e),c&&p(n),c&&p(o),c&&p(r),c&&p(s),c&&p(u)}}}function xf(i){var _e;let e,n,t=i[3](i[18].bp_ids)+"",l,o,r,f,a,s,u=i[4](i[18])+"",c,m,$,v,y,T,E,S,C,R=i[5](i[18].bp_ids[0],0,nb).toFixed(2)+"",D,B,O,A,M=i[5](i[18].bp_ids[0],0,lb).toFixed(2)+"",J,j,N,X=i[5](i[18].bp_ids[0],0,ib).toFixed(2)+"",W,F,z=i[6](),q,H=((_e=i[18].apd.specifically_covers)==null?void 0:_e.length)&&V0(i);function Z(V,ie){return V[18].apd.coverage===V[18].apd.cover_melee&&V[18].apd.coverage===V[18].apd.cover_ranged&&V[18].apd.cover_vitals===0?J0:X0}let K=Z(i)(i),Q=z&&x0(i);return{c(){e=g("div"),n=g("h2"),l=w(t),o=I(),H&&H.c(),r=I(),f=g("dl"),a=g("dt"),a.textContent="Encumbrance",s=g("dd"),c=w(u),m=g("dt"),m.textContent="Coverage",$=g("dd"),K.c(),v=I(),y=g("dt"),y.textContent="Protection",T=g("dd"),E=g("dl"),S=g("dt"),S.textContent="Bash",C=g("dd"),D=w(R),B=I(),O=g("dt"),O.textContent="Cut",A=g("dd"),J=w(M),j=g("dt"),j.textContent="Ballistic",N=g("dd"),W=w(X),F=I(),Q&&Q.c(),q=I(),ae(n,"class","svelte-qxdm41"),Ze(E,"font-variant","tabular-nums"),ae(e,"class","body-part svelte-qxdm41")},m(V,ie){h(V,e,ie),d(e,n),d(n,l),d(n,o),H&&H.m(n,null),d(e,r),d(e,f),d(f,a),d(f,s),d(s,c),d(f,m),d(f,$),K.m($,null),d($,v),d(f,y),d(f,T),d(T,E),d(E,S),d(E,C),d(C,D),d(C,B),d(E,O),d(E,A),d(A,J),d(E,j),d(E,N),d(N,W),d(N,F),Q&&Q.m(E,null),d(e,q)},p(V,ie){var he;(he=V[18].apd.specifically_covers)!=null&&he.length&&H.p(V,ie),K.p(V,ie),z&&Q.p(V,ie)},d(V){V&&p(e),H&&H.d(),K.d(),Q&&Q.d()}}}function eb(i){var J;let e,n,t,l,o,r,f,a,s,u,c,m,$,v,y,T=((J=i[0].warmth)!=null?J:0)+"",E,S,C;function R(j,N){var X,W,F,z,q,H;return N&1&&(f=null),N&1&&(a=null),N&1&&(s=null),N&1&&(u=null),N&1&&(c=null),N&1&&(m=null),f==null&&(f=!!((X=j[0].flags)!=null?X:[]).includes("PERSONAL")),f?z0:(a==null&&(a=!!((W=j[0].flags)!=null?W:[]).includes("SKINTIGHT")),a?W0:(s==null&&(s=!!((F=j[0].flags)!=null?F:[]).includes("BELTED")),s?H0:(u==null&&(u=!!((z=j[0].flags)!=null?z:[]).includes("OUTER")),u?j0:(c==null&&(c=!!((q=j[0].flags)!=null?q:[]).includes("WAIST")),c?Y0:(m==null&&(m=!!((H=j[0].flags)!=null?H:[]).includes("AURA")),m?F0:P0)))))}let D=R(i,-1),B=D(i),O=i[0].sided&&Qf(),A=i[2],M=[];for(let j=0;j<A.length;j+=1)M[j]=xf(Zf(i,A,j));return{c(){e=g("section"),n=g("h1"),n.textContent="Armor",t=I(),l=g("dl"),o=g("dt"),o.textContent="Layer",r=g("dd"),B.c(),$=I(),v=g("dt"),v.textContent="Warmth",y=g("dd"),E=w(T),O&&O.c(),S=I(),C=g("div");for(let j=0;j<M.length;j+=1)M[j].c();ae(C,"class","body-parts svelte-qxdm41")},m(j,N){h(j,e,N),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),B.m(r,null),d(r,$),d(l,v),d(l,y),d(y,E),O&&O.m(l,null),d(e,S),d(e,C);for(let X=0;X<M.length;X+=1)M[X].m(C,null)},p(j,[N]){var X;if(D!==(D=R(j,N))&&(B.d(1),B=D(j),B&&(B.c(),B.m(r,$))),N&1&&T!==(T=((X=j[0].warmth)!=null?X:0)+"")&&P(E,T),j[0].sided?O||(O=Qf(),O.c(),O.m(l,null)):O&&(O.d(1),O=null),N&510){A=j[2];let W;for(W=0;W<A.length;W+=1){const F=Zf(j,A,W);M[W]?M[W].p(F,N):(M[W]=xf(F),M[W].c(),M[W].m(C,null))}for(;W<M.length;W+=1)M[W].d(1);M.length=A.length}},i:te,o:te,d(j){j&&p(e),B.d(),O&&O.d(),ue(M,j)}}}function tb(i,e){const[n,t]=typeof i=="number"?[i,i]:i,[l,o]=typeof e=="number"?[e,e]:e;return[n+l,t+o]}function es(i){return typeof i=="string"?{type:i}:i}const nb=i=>i.bash_resist,lb=i=>i.cut_resist,ib=i=>i.bullet_resist;function rb(i,e,n){var D,B,O,A,M,J,j,N,X,W,F,z,q,H,Z,Y,K,Q,_e,V,ie,he,Ae,ve,fe,be,$e,ce,Ge,Te,ge,ye,Qe,oe,ke,Xe,Me,Oe,Ce,ze;let{item:t}=e,l=lt("data");const o=[];for(const we of(D=t.armor)!=null?D:[])if((B=we.covers)!=null?B:t.covers)for(const De of q0((O=we.covers)!=null?O:t.covers)){const Pe=l.byId("body_part",De),Ee=o.find(Se=>Se.covers.includes(De));if(Ee){Ee.encumbrance=tb((A=Ee.encumbrance)!=null?A:0,(M=we.encumbrance)!=null?M:0);const Se=$(Pe,we)/100,Be=$(Pe,Ee)/100;Ee.coverage+=((J=we.coverage)!=null?J:0)*Se|0,Ee.cover_melee+=((j=we.cover_melee)!=null?j:0)*Se|0,Ee.cover_ranged+=((N=we.cover_ranged)!=null?N:0)*Se|0,Ee.cover_vitals=((X=Ee.cover_vitals)!=null?X:0)+((W=we.cover_vitals)!=null?W:0),Ee.material_thickness=(((z=(F=we.material_thickness)!=null?F:t.material_thickness)!=null?z:0)*Se+((H=(q=Ee.material_thickness)!=null?q:t.material_thickness)!=null?H:0)*Be)/(Se+Be),Ee.environmental_protection=(((Y=(Z=we.environmental_protection)!=null?Z:t.environmental_protection)!=null?Y:0)*Se+((Q=(K=Ee.environmental_protection)!=null?K:t.environmental_protection)!=null?Q:0)*Be)/(Se+Be)|0,Ee.environmental_protection_with_filter=(((V=(_e=we.environmental_protection_with_filter)!=null?_e:t.environmental_protection_with_filter)!=null?V:0)*Se+((he=(ie=Ee.environmental_protection_with_filter)!=null?ie:t.environmental_protection_with_filter)!=null?he:0)*Be)/(Se+Be)|0,Ee.layers=(Ae=Ee.layers)!=null?Ae:[];for(const Ue of(ve=we.layers)!=null?ve:[])Ee.layers.includes(Ue)||Ee.layers.push(Ue);for(const Ue of(be=(fe=we.material)==null?void 0:fe.map(es))!=null?be:[]){const Ve=Ee.material.find(rt=>rt.type===Ue.type);if(Ve){const rt=$(Pe,we),ft=$(Pe,Ee);Ve.covered_by_mat=(($e=Ve.covered_by_mat)!=null?$e:100)+((ce=Ue.covered_by_mat)!=null?ce:100)*rt/100|0,Ve.thickness=(rt*((Ge=Ue.thickness)!=null?Ge:0)+ft*((Te=Ve.thickness)!=null?Te:0))/(ft+rt)}else{const rt=$(Pe,we),ft=JSON.parse(JSON.stringify(Ue));ft.covered_by_mat=((ge=Ue.covered_by_mat)!=null?ge:100)*rt/100,Ee.material.push(ft)}}for(const Ue of(ye=we.specifically_covers)!=null?ye:[])(Qe=Ee.specifically_covers)!=null&&Qe.includes(Ue)||(Ee.specifically_covers==null&&(Ee.specifically_covers=[]),Ee.specifically_covers.push(Ue))}else{const Se=JSON.parse(JSON.stringify(we));Se.covers=[De];const Be=$(Pe,Se)/100,Ue=(oe=Se.coverage)!=null?oe:0;Se.coverage=Ue*Be|0,Se.cover_melee=((ke=Se.cover_melee)!=null?ke:Ue)*Be|0,Se.cover_ranged=((Xe=Se.cover_ranged)!=null?Xe:Ue)*Be|0,Se.material=(Me=Se.material)==null?void 0:Me.map(es),o.push(Se)}}for(const we of o)for(const De of(Oe=we.material)!=null?Oe:[])De.covered_by_mat=((Ce=De.covered_by_mat)!=null?Ce:100)/(((ze=we.coverage)!=null?ze:0)/100)|0;function r(we){const De=new Set,Pe=[];for(const Ee of we!=null?we:[]){if(De.has(Ee))continue;const Se=l.byId("body_part",Ee);Se.opposite_part&&we.includes(Se.opposite_part)?(Pe.push(Se.heading_multiple),De.add(Se.opposite_part)):Pe.push(Se.heading),De.add(Ee)}return Pe}function f(we){const De=new Set,Pe=[];for(const Ee of we!=null?we:[]){if(De.has(Ee))continue;const Se=l.byId("sub_body_part",Ee);Se.opposite&&we.includes(Se.opposite)?(Pe.push(Vt(Se.name_multiple)),De.add(Se.opposite)):Pe.push(Vt(Se.name)),De.add(Ee)}return Pe}const a=[...new Set(o.flatMap(we=>we.covers))],u=[...Zr(a,we=>{const{covers:De,...Pe}=o.find(Ee=>Ee.covers.includes(we));return[JSON.stringify(Pe)]}).values()].map(we=>{const De=o.find(Pe=>Pe.covers.includes(we[0]));return{bp_ids:we,apd:De}}),c=we=>r(we).join(", "),m=we=>{var Ee;const[De,Pe]=typeof we.apd.encumbrance=="number"?[we.apd.encumbrance,we.apd.encumbrance]:(Ee=we.apd.encumbrance)!=null?Ee:[0,0];return De===Pe?`${De}`:`${De} (${Pe} when full)`};function $(we,De){var Be,Ue;if(!((Be=we.sub_parts)!=null&&Be.length))return 100;let Pe=0,Ee=0;const Se=((Ue=De.specifically_covers)!=null?Ue:[]).length?De.specifically_covers.map(Ve=>l.byId("sub_body_part",Ve)):l.byType("sub_body_part").filter(Ve=>Ve.parent===we.id);for(const Ve of Se)we.id===Ve.parent&&(Ve.secondary?Ee+=Ve.max_coverage:Pe+=Ve.max_coverage);return Math.max(Pe,Ee)}function v(we){var De;for(const Pe of o)if((De=Pe.covers)!=null&&De.includes(we))return Pe.material;return[]}function y(we,De,Pe){{const Ve=v(we);if(Ve!=null&&Ve.length){let rt=0;for(const ft of Ve){const ct=Math.max(.1,ft.thickness);(De<0?Math.random()*100|0:De)<ft.covered_by_mat&&(rt+=Pe(l.byId("material",ft.type))*ct)}return rt}}let Ee=0;const Se=C(we),{mats:Be,total:Ue}=R();if(Be.length){for(const Ve of Be)Ee+=Pe(l.byId("material",Ve.type))*Ve.portion;Ee/=Ue}return Ee*Se}function T(){return o.length===0?0:o.reduce((De,Pe)=>{var Ee,Se;return De+((Se=(Ee=Pe.environmental_protection)!=null?Ee:t.environmental_protection)!=null?Se:0)},0)/o.length}function E(we){var Be;{const Ue=v(we);if(Ue!=null&&Ue.length){let Ve=0;for(const ft of Ue)Ve+=l.byId("material",ft.type).acid_resist*((Be=ft.covered_by_mat)!=null?Be:0)*.01;const rt=T();return rt<10&&(Ve*=rt/10),Ve}}let De=0;const{mats:Pe,total:Ee}=R();if(Pe.length){for(const Ue of Pe)De+=l.byId("material",Ue.type).acid_resist;De/=Ee}const Se=T();return Se<10&&(De*=Se/10),De}function S(we){var Be;{const Ue=v(we);if(Ue!=null&&Ue.length){let Ve=0;for(const ft of Ue)Ve+=l.byId("material",ft.type).fire_resist*((Be=ft.covered_by_mat)!=null?Be:0)*.01;const rt=T();return rt<10&&(Ve*=rt/10),Ve}}let De=0;const{mats:Pe,total:Ee}=R();if(Pe.length){for(const Ue of Pe)De+=l.byId("material",Ue.type).fire_resist;De/=Ee}const Se=T();return Se<10&&(De*=Se/10),De}function C(we){var De,Pe,Ee;for(const Se of o)if((De=Se.covers)!=null&&De.includes(we))return(Ee=(Pe=Se.material_thickness)!=null?Pe:t.material_thickness)!=null?Ee:0}function R(){var Pe;let we=0;const De=[];if(Array.isArray(t.material)){for(const Ee of t.material)if(typeof Ee=="string")De.push({type:Ee,portion:1}),we+=1;else if(typeof Ee=="object"){const Se={type:Ee.type,portion:(Pe=Ee.portion)!=null?Pe:1};we+=Se.portion,De.push(Se)}}return{mats:De,total:we}}return i.$$set=we=>{"item"in we&&n(0,t=we.item)},[t,f,u,c,m,y,T,E,S]}class ob extends We{constructor(e){super(),He(this,e,rb,eb,Fe,{item:0})}}function ts(i,e,n){const t=i.slice();return t[11]=e[n],t}function ns(i,e,n){const t=i.slice();return t[14]=e[n],t[16]=n,t}function ls(i,e,n){const t=i.slice();return t[11]=e[n],t}function is(i,e,n){const t=i.slice();return t[14]=e[n],t[16]=n,t}function rs(i,e,n){const t=i.slice();return t[20]=e[n][0],t[21]=e[n][1],t}function fb(i){let e,n,t;return{c(){e=w("The "),n=g("strong"),n.textContent="head",t=w(".")},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function sb(i){let e,n,t;return{c(){e=w("The "),n=g("strong"),n.textContent="eyes",t=w(".")},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function ab(i){let e,n,t;return{c(){e=w("The "),n=g("strong"),n.textContent="mouth",t=w(".")},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function ub(i){let e,n,t;return{c(){e=w("The "),n=g("strong"),n.textContent="torso",t=w(".")},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function cb(i){let e,n,t,l,o;return{c(){e=w("The "),n=g("strong"),t=w("right "),l=w(i[20]),o=w(".")},m(r,f){h(r,e,f),h(r,n,f),d(n,t),d(n,l),h(r,o,f)},d(r){r&&p(e),r&&p(n),r&&p(o)}}}function _b(i){let e,n,t,l,o;return{c(){e=w("The "),n=g("strong"),t=w("left "),l=w(i[20]),o=w(".")},m(r,f){h(r,e,f),h(r,n,f),d(n,t),d(n,l),h(r,o,f)},d(r){r&&p(e),r&&p(n),r&&p(o)}}}function db(i){let e,n,t,l;return{c(){e=w("The "),n=g("strong"),t=w(i[21]),l=w(".")},m(o,r){h(o,e,r),h(o,n,r),d(n,t),h(o,l,r)},d(o){o&&p(e),o&&p(n),o&&p(l)}}}function mb(i){let e,n,t,l;return{c(){e=w("Either "),n=g("strong"),t=w(i[20]),l=w(".")},m(o,r){h(o,e,r),h(o,n,r),d(n,t),h(o,l,r)},d(o){o&&p(e),o&&p(n),o&&p(l)}}}function os(i){let e,n,t,l,o,r=" ",f;function a(c,m){if(m&1&&(e=null),e==null&&(e=!!(c[0].sided&&(c[3](`${c[20]}_l`)||c[3](`${c[20]}_r`)))),e)return mb;if(n==null&&(n=!!(c[3](`${c[20]}_l`)&&c[3](`${c[20]}_r`))),n)return db;if(t==null&&(t=!!c[3](`${c[20]}_l`)),t)return _b;if(l==null&&(l=!!c[3](`${c[20]}_r`)),l)return cb}let s=a(i,-1),u=s&&s(i);return{c(){u&&u.c(),o=I(),f=w(r)},m(c,m){u&&u.m(c,m),h(c,o,m),h(c,f,m)},p(c,m){s!==(s=a(c,m))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(o.parentNode,o)))},d(c){u&&u.d(c),c&&p(o),c&&p(f)}}}function pb(i){let e;return{c(){e=w("Nothing.")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function hb(i){let e;return{c(){e=w("Normal")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function gb(i){let e;return{c(){e=w("Outer aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function bb(i){let e;return{c(){e=w("Waist")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function $b(i){let e;return{c(){e=w("Outer")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function kb(i){let e;return{c(){e=w("Strapped")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function vb(i){let e;return{c(){e=w("Close to skin")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function yb(i){let e;return{c(){e=w("Personal aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function wb(i){var o;let e=((o=i[0].encumbrance)!=null?o:0)+"",n,t,l=i[0].max_encumbrance&&fs(i);return{c(){n=w(e),l&&l.c(),t=le()},m(r,f){h(r,n,f),l&&l.m(r,f),h(r,t,f)},p(r,f){var a;f&1&&e!==(e=((a=r[0].encumbrance)!=null?a:0)+"")&&P(n,e),r[0].max_encumbrance?l?l.p(r,f):(l=fs(r),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(r){r&&p(n),l&&l.d(r),r&&p(t)}}}function Eb(i){let e,n=i[5],t=[];for(let l=0;l<n.length;l+=1)t[l]=as(ls(i,n,l));return{c(){e=g("dl");for(let l=0;l<t.length;l+=1)t[l].c()},m(l,o){h(l,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,o){if(o&96){n=l[5];let r;for(r=0;r<n.length;r+=1){const f=ls(l,n,r);t[r]?t[r].p(f,o):(t[r]=as(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){l&&p(e),ue(t,l)}}}function fs(i){let e=" ",n,t,l=i[0].max_encumbrance+"",o,r;return{c(){n=w(e),t=w("("),o=w(l),r=w(" when full)")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&1&&l!==(l=f[0].max_encumbrance+"")&&P(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function Tb(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function ss(i){let e=i[14]+"",n,t=i[16]!==0&&Tb();return{c(){t&&t.c(),n=w(e)},m(l,o){t&&t.m(l,o),h(l,n,o)},p:te,d(l){t&&t.d(l),l&&p(n)}}}function Sb(i){var t;let e=((t=i[11].encumbrance)!=null?t:0)+"",n;return{c(){n=w(e)},m(l,o){h(l,n,o)},p:te,d(l){l&&p(n)}}}function Cb(i){let e=i[11].encumbrance[0]+"",n,t,l,o=i[11].encumbrance[1]!==i[11].encumbrance[0]&&Ib(i);return{c(){n=w(e),t=I(),o&&o.c(),l=le()},m(r,f){h(r,n,f),h(r,t,f),o&&o.m(r,f),h(r,l,f)},p(r,f){r[11].encumbrance[1]!==r[11].encumbrance[0]&&o.p(r,f)},d(r){r&&p(n),r&&p(t),o&&o.d(r),r&&p(l)}}}function Ib(i){let e,n=i[11].encumbrance[1]+"",t,l;return{c(){e=w("("),t=w(n),l=w(" when full)")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function as(i){let e,n,t,l,o=i[6](i[11]),r=[];for(let u=0;u<o.length;u+=1)r[u]=ss(is(i,o,u));function f(u,c){return Array.isArray(u[11].encumbrance)?Cb:Sb}let s=f(i)(i);return{c(){e=g("dt");for(let u=0;u<r.length;u+=1)r[u].c();n=I(),t=g("dd"),s.c(),l=I()},m(u,c){h(u,e,c);for(let m=0;m<r.length;m+=1)r[m].m(e,null);d(e,n),h(u,t,c),s.m(t,null),d(t,l)},p(u,c){if(c&96){o=u[6](u[11]);let m;for(m=0;m<o.length;m+=1){const $=is(u,o,m);r[m]?r[m].p($,c):(r[m]=ss($),r[m].c(),r[m].m(e,n))}for(;m<r.length;m+=1)r[m].d(1);r.length=o.length}s.p(u,c)},d(u){u&&p(e),ue(r,u),u&&p(t),s.d()}}}function Rb(i){var l;let e=((l=i[0].coverage)!=null?l:0)+"",n,t;return{c(){n=w(e),t=w("%")},m(o,r){h(o,n,r),h(o,t,r)},p(o,r){var f;r&1&&e!==(e=((f=o[0].coverage)!=null?f:0)+"")&&P(n,e)},d(o){o&&p(n),o&&p(t)}}}function Nb(i){let e,n=i[0].armor,t=[];for(let l=0;l<n.length;l+=1)t[l]=cs(ts(i,n,l));return{c(){e=g("dl");for(let l=0;l<t.length;l+=1)t[l].c()},m(l,o){h(l,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,o){if(o&65){n=l[0].armor;let r;for(r=0;r<n.length;r+=1){const f=ts(l,n,r);t[r]?t[r].p(f,o):(t[r]=cs(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){l&&p(e),ue(t,l)}}}function Ob(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function us(i){let e=i[14]+"",n,t=i[16]!==0&&Ob();return{c(){t&&t.c(),n=w(e)},m(l,o){t&&t.m(l,o),h(l,n,o)},p(l,o){o&1&&e!==(e=l[14]+"")&&P(n,e)},d(l){t&&t.d(l),l&&p(n)}}}function cs(i){var s;let e,n,t,l=((s=i[11].coverage)!=null?s:0)+"",o,r,f=i[6](i[11]),a=[];for(let u=0;u<f.length;u+=1)a[u]=us(ns(i,f,u));return{c(){e=g("dt");for(let u=0;u<a.length;u+=1)a[u].c();n=I(),t=g("dd"),o=w(l),r=w("%")},m(u,c){h(u,e,c);for(let m=0;m<a.length;m+=1)a[m].m(e,null);d(e,n),h(u,t,c),d(t,o),d(t,r)},p(u,c){var m;if(c&65){f=u[6](u[11]);let $;for($=0;$<f.length;$+=1){const v=ns(u,f,$);a[$]?a[$].p(v,c):(a[$]=us(v),a[$].c(),a[$].m(e,n))}for(;$<a.length;$+=1)a[$].d(1);a.length=f.length}c&1&&l!==(l=((m=u[11].coverage)!=null?m:0)+"")&&P(o,l)},d(u){u&&p(e),ue(a,u),u&&p(t)}}}function _s(i){var s;let e,n,t,l,o,r=((s=i[0].environmental_protection)!=null?s:0)+"",f,a=i[1].length&&Bb(i);return{c(){e=g("dt"),e.textContent="Protection",n=g("dd"),t=g("dl"),a&&a.c(),l=g("dt"),l.textContent="Environ.",o=g("dd"),f=w(r),ae(l,"title","Environmental")},m(u,c){h(u,e,c),h(u,n,c),d(n,t),a&&a.m(t,null),d(t,l),d(t,o),d(o,f)},p(u,c){var m;u[1].length&&a.p(u,c),c&1&&r!==(r=((m=u[0].environmental_protection)!=null?m:0)+"")&&P(f,r)},d(u){u&&p(e),u&&p(n),a&&a.d()}}}function Bb(i){var J,j,N;let e,n,t=(i[1].reduce(ds,0)*((J=i[0].material_thickness)!=null?J:0)/i[2]).toFixed(2)+"",l,o,r,f,a=(i[1].reduce(ms,0)*((j=i[0].material_thickness)!=null?j:0)/i[2]).toFixed(2)+"",s,u,c,m,$=(i[1].reduce(ps,0)*((N=i[0].material_thickness)!=null?N:0)/i[2]).toFixed(2)+"",v,y,T,E,S=i[7]().toFixed(2)+"",C,R,D,B,O=i[8]().toFixed(2)+"",A,M;return{c(){e=g("dt"),e.textContent="Bash",n=g("dd"),l=w(t),o=I(),r=g("dt"),r.textContent="Cut",f=g("dd"),s=w(a),u=I(),c=g("dt"),c.textContent="Ballistic",m=g("dd"),v=w($),y=I(),T=g("dt"),T.textContent="Acid",E=g("dd"),C=w(S),R=I(),D=g("dt"),D.textContent="Fire",B=g("dd"),A=w(O),M=I()},m(X,W){h(X,e,W),h(X,n,W),d(n,l),d(n,o),h(X,r,W),h(X,f,W),d(f,s),d(f,u),h(X,c,W),h(X,m,W),d(m,v),d(m,y),h(X,T,W),h(X,E,W),d(E,C),d(E,R),h(X,D,W),h(X,B,W),d(B,A),d(B,M)},p(X,W){var F,z,q;W&1&&t!==(t=(X[1].reduce(ds,0)*((F=X[0].material_thickness)!=null?F:0)/X[2]).toFixed(2)+"")&&P(l,t),W&1&&a!==(a=(X[1].reduce(ms,0)*((z=X[0].material_thickness)!=null?z:0)/X[2]).toFixed(2)+"")&&P(s,a),W&1&&$!==($=(X[1].reduce(ps,0)*((q=X[0].material_thickness)!=null?q:0)/X[2]).toFixed(2)+"")&&P(v,$),W&1&&S!==(S=X[7]().toFixed(2)+"")&&P(C,S),W&1&&O!==(O=X[8]().toFixed(2)+"")&&P(A,O)},d(X){X&&p(e),X&&p(n),X&&p(r),X&&p(f),X&&p(c),X&&p(m),X&&p(T),X&&p(E),X&&p(D),X&&p(B)}}}function Ab(i){var Qe;let e,n,t,l,o,r,f=i[3]("head"),a,s=i[3]("eyes"),u,c=i[3]("mouth"),m,$=i[3]("torso"),v,y,T,E,S,C,R,D,B,O,A,M,J,j,N=((Qe=i[0].warmth)!=null?Qe:0)+"",X,W,F,z,q,H,Z,Y=f&&fb(),K=s&&sb(),Q=c&&ab(),_e=$&&ub(),V=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],ie=[];for(let oe=0;oe<4;oe+=1)ie[oe]=os(rs(i,V,oe));let he=!i[4]&&pb();function Ae(oe,ke){var Xe,Me,Oe,Ce,ze,we;return ke&1&&(C=null),ke&1&&(R=null),ke&1&&(D=null),ke&1&&(B=null),ke&1&&(O=null),ke&1&&(A=null),C==null&&(C=!!((Xe=oe[0].flags)!=null?Xe:[]).includes("PERSONAL")),C?yb:(R==null&&(R=!!((Me=oe[0].flags)!=null?Me:[]).includes("SKINTIGHT")),R?vb:(D==null&&(D=!!((Oe=oe[0].flags)!=null?Oe:[]).includes("BELTED")),D?kb:(B==null&&(B=!!((Ce=oe[0].flags)!=null?Ce:[]).includes("OUTER")),B?$b:(O==null&&(O=!!((ze=oe[0].flags)!=null?ze:[]).includes("WAIST")),O?bb:(A==null&&(A=!!((we=oe[0].flags)!=null?we:[]).includes("AURA")),A?gb:hb)))))}let ve=Ae(i,-1),fe=ve(i);function be(oe,ke){return oe[5]?Eb:wb}let ce=be(i)(i);function Ge(oe,ke){return oe[0].armor?Nb:Rb}let Te=Ge(i),ge=Te(i),ye=(i[1].length||i[0].environmental_protection)&&_s(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Armor",t=I(),l=g("dl"),o=g("dt"),o.textContent="Covers",r=g("dd"),Y&&Y.c(),a=I(),K&&K.c(),u=I(),Q&&Q.c(),m=I(),_e&&_e.c(),v=I();for(let oe=0;oe<4;oe+=1)ie[oe].c();y=I(),he&&he.c(),T=I(),E=g("dt"),E.textContent="Layer",S=g("dd"),fe.c(),M=I(),J=g("dt"),J.textContent="Warmth",j=g("dd"),X=w(N),W=g("dt"),W.textContent="Encumbrance",F=g("dd"),ce.c(),z=I(),q=g("dt"),q.textContent=`Coverage
    `,H=g("dd"),ge.c(),Z=I(),ye&&ye.c(),ae(q,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(oe,ke){h(oe,e,ke),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),Y&&Y.m(r,null),d(r,a),K&&K.m(r,null),d(r,u),Q&&Q.m(r,null),d(r,m),_e&&_e.m(r,null),d(r,v);for(let Xe=0;Xe<4;Xe+=1)ie[Xe].m(r,null);d(r,y),he&&he.m(r,null),d(r,T),d(l,E),d(l,S),fe.m(S,null),d(S,M),d(l,J),d(l,j),d(j,X),d(l,W),d(l,F),ce.m(F,null),d(F,z),d(l,q),d(l,H),ge.m(H,null),d(H,Z),ye&&ye.m(l,null)},p(oe,[ke]){var Xe;if(ke&9){V=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]];let Me;for(Me=0;Me<4;Me+=1){const Oe=rs(oe,V,Me);ie[Me]?ie[Me].p(Oe,ke):(ie[Me]=os(Oe),ie[Me].c(),ie[Me].m(r,y))}for(;Me<4;Me+=1)ie[Me].d(1)}ve!==(ve=Ae(oe,ke))&&(fe.d(1),fe=ve(oe),fe&&(fe.c(),fe.m(S,M))),ke&1&&N!==(N=((Xe=oe[0].warmth)!=null?Xe:0)+"")&&P(X,N),ce.p(oe,ke),Te===(Te=Ge(oe))&&ge?ge.p(oe,ke):(ge.d(1),ge=Te(oe),ge&&(ge.c(),ge.m(H,Z))),oe[1].length||oe[0].environmental_protection?ye?ye.p(oe,ke):(ye=_s(oe),ye.c(),ye.m(l,null)):ye&&(ye.d(1),ye=null)},i:te,o:te,d(oe){oe&&p(e),Y&&Y.d(),K&&K.d(),Q&&Q.d(),_e&&_e.d(),ue(ie,oe),he&&he.d(),fe.d(),ce.d(),ge.d(),ye&&ye.d()}}}function Mb(i){return typeof i[0]=="string"}const ds=(i,e)=>{var n;return i+((n=e.material.bash_resist)!=null?n:0)*e.portion},ms=(i,e)=>{var n;return i+((n=e.material.cut_resist)!=null?n:0)*e.portion},ps=(i,e)=>{var n;return i+((n=e.material.bullet_resist)!=null?n:0)*e.portion};function Db(i,e,n){var v,y,T;let{item:t}=e,l=lt("data"),r=(t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:Mb(t.material)?t.material.map(E=>({type:E,portion:1})):t.material).map(E=>({material:l.byId("material",E.type),portion:E.portion}));const f=r.reduce((E,S)=>E+S.portion,0);function a(E){var S,C;return((S=t.covers)!=null?S:[]).includes(E)||((C=t.armor)!=null?C:[]).some(R=>{var D;return((D=R.covers)!=null?D:[]).includes(E)})}let s=((v=t.covers)!=null?v:[]).length||((y=t.armor)!=null?y:[]).length;const u=(T=t.armor)!=null?T:t.armor_portion_data;function c(E){var R;const S=new Set,C=[];for(const D of(R=E.covers)!=null?R:[]){if(S.has(D))continue;const B=l.byId("body_part",D);B.opposite_part&&E.covers.includes(B.opposite_part)?(C.push(B.heading_multiple),S.add(B.opposite_part)):C.push(B.heading),S.add(D)}return C}const m=()=>{var C;let E=r.reduce((R,D)=>{var B;return R+((B=D.material.acid_resist)!=null?B:0)*D.portion},0)/f;const S=(C=t.environmental_protection)!=null?C:0;return S<10&&(E*=S/10),E},$=()=>{var C;let E=r.reduce((R,D)=>{var B;return R+((B=D.material.fire_resist)!=null?B:0)*D.portion},0)/f;const S=(C=t.environmental_protection)!=null?C:0;return S<10&&(E*=S/10),E};return i.$$set=E=>{"item"in E&&n(0,t=E.item)},[t,r,f,a,s,u,c,m,$]}class Lb extends We{constructor(e){super(),He(this,e,Db,Ab,Fe,{item:0})}}function Gb(i){let e,n,t,l,o;return l=new at({props:{items:i[1],$$slots:{default:[Ub,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Bash",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function hs(i){let e,n,t=i[3].bash.str_min+"",l,o;return{c(){e=g("span"),n=w("(\u2265 "),l=w(t),o=w(" STR)"),Ze(e,"color","var(--cata-color-gray)")},m(r,f){h(r,e,f),d(e,n),d(e,l),d(e,o)},p(r,f){f&8&&t!==(t=r[3].bash.str_min+"")&&P(l,t)},d(r){r&&p(e)}}}function Ub(i){let e,n,t,l,o,r;e=new xe({props:{item:i[0].byId(i[3].type,i[3].id)}}),t=new re({props:{id:i[3].id,type:i[3].type}});let f=i[3].bash.str_min&&hs(i);return{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment),l=I(),f&&f.c(),o=le()},m(a,s){L(e,a,s),h(a,n,s),L(t,a,s),h(a,l,s),f&&f.m(a,s),h(a,o,s),r=!0},p(a,s){const u={};s&8&&(u.item=a[0].byId(a[3].type,a[3].id)),e.$set(u);const c={};s&8&&(c.id=a[3].id),s&8&&(c.type=a[3].type),t.$set(c),a[3].bash.str_min?f?f.p(a,s):(f=hs(a),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},i(a){r||(b(e.$$.fragment,a),b(t.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),k(t.$$.fragment,a),r=!1},d(a){G(e,a),a&&p(n),G(t,a),a&&p(l),f&&f.d(a),a&&p(o)}}}function qb(i){let e,n,t=i[1].length&&Gb(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function Pb(i,e,n){let{item_id:t}=e;const l=lt("data");let o=l.byType("terrain").concat(l.byType("furniture")).filter(r=>{var a;return((a=r.bash)!=null&&a.items?l.flattenItemGroup({subtype:"collection",entries:typeof r.bash.items=="string"?[{group:r.bash.items}]:r.bash.items}):[]).some(({id:s})=>s===t)}).sort((r,f)=>pe(r).localeCompare(pe(f)));return i.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[l,o,t]}class Fb extends We{constructor(e){super(),He(this,e,Pb,qb,Fe,{item_id:2})}}function gs(i){let e,n,t,l;return t=new re({props:{type:"item",id:i[0].installation_data}}),{c(){e=g("dt"),e.textContent="Installation data",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].installation_data),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Yb(i){var S,C;let e,n,t,l,o,r,f,a,s,u=((S=i[0].difficulty)!=null?S:0)+"",c,m,$,v=i[0].is_upgrade?"yes":"no",y,T;f=new re({props:{type:"bionic",id:(C=i[0].bionic_id)!=null?C:i[0].id}});let E=i[0].installation_data&&gs(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Bionic",t=I(),l=g("dl"),o=g("dt"),o.textContent="Installs as",r=g("dd"),U(f.$$.fragment),a=g("dt"),a.textContent="Difficulty",s=g("dd"),c=w(u),m=g("dt"),m.textContent="Is upgrade",$=g("dd"),y=w(v),E&&E.c()},m(R,D){h(R,e,D),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),L(f,r,null),d(l,a),d(l,s),d(s,c),d(l,m),d(l,$),d($,y),E&&E.m(l,null),T=!0},p(R,[D]){var O,A;const B={};D&1&&(B.id=(O=R[0].bionic_id)!=null?O:R[0].id),f.$set(B),(!T||D&1)&&u!==(u=((A=R[0].difficulty)!=null?A:0)+"")&&P(c,u),(!T||D&1)&&v!==(v=R[0].is_upgrade?"yes":"no")&&P(y,v),R[0].installation_data?E?(E.p(R,D),D&1&&b(E,1)):(E=gs(R),E.c(),b(E,1),E.m(l,null)):E&&(x(),k(E,1,1,()=>{E=null}),ee())},i(R){T||(b(f.$$.fragment,R),b(E),T=!0)},o(R){k(f.$$.fragment,R),k(E),T=!1},d(R){R&&p(e),G(f),E&&E.d()}}}function jb(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class Hb extends We{constructor(e){super(),He(this,e,jb,Yb,Fe,{item:0})}}function bs(i,e,n){const t=i.slice();return t[4]=e[n][0],t[5]=e[n][1],t}function $s(i){var $,v;let e,n,t,l,o,r=(($=i[0].required_level)!=null?$:0)+"",f,a,s,u=((v=i[0].max_level)!=null?v:0)+"",c,m;return t=new re({props:{id:i[0].skill,type:"skill"}}),{c(){e=g("dt"),e.textContent="Skill",n=g("dd"),U(t.$$.fragment),l=g("dt"),l.textContent="Required Level",o=g("dd"),f=w(r),a=g("dt"),a.textContent="Maximum Level",s=g("dd"),c=w(u)},m(y,T){h(y,e,T),h(y,n,T),L(t,n,null),h(y,l,T),h(y,o,T),d(o,f),h(y,a,T),h(y,s,T),d(s,c),m=!0},p(y,T){var S,C;const E={};T&1&&(E.id=y[0].skill),t.$set(E),(!m||T&1)&&r!==(r=((S=y[0].required_level)!=null?S:0)+"")&&P(f,r),(!m||T&1)&&u!==(u=((C=y[0].max_level)!=null?C:0)+"")&&P(c,u)},i(y){m||(b(t.$$.fragment,y),m=!0)},o(y){k(t.$$.fragment,y),m=!1},d(y){y&&p(e),y&&p(n),G(t),y&&p(l),y&&p(o),y&&p(a),y&&p(s)}}}function ks(i){let e,n,t=i[0].chapters+"",l;return{c(){e=g("dt"),e.textContent="Chapters",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].chapters+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function vs(i){let e,n,t,l;return t=new re({props:{type:"martial_art",id:i[0].martial_art}}),{c(){e=g("dt"),e.textContent="Martial Art",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].martial_art),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Wb(i){let e,n,t,l,o=[...i[1].entries()].sort(ws),r=[];for(let a=0;a<o.length;a+=1)r[a]=ys(bs(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Recipes",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&2){o=[...a[1].entries()].sort(ws);let u;for(u=0;u<o.length;u+=1){const c=bs(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=ys(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function ys(i){let e,n,t,l=i[5]+"",o,r,f;return n=new re({props:{id:i[4],type:"item"}}),{c(){e=g("li"),U(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(a,s){h(a,e,s),L(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p:te,i(a){f||(b(n.$$.fragment,a),f=!0)},o(a){k(n.$$.fragment,a),f=!1},d(a){a&&p(e),G(n)}}}function zb(i){var A,M,J;let e,n,t,l,o,r,f=((A=i[0].intelligence)!=null?A:0)+"",a,s,u,c=((M=i[0].time)!=null?M:0)+"",m,$,v,y=((J=i[0].fun)!=null?J:0)+"",T,E,S,C,R=i[0].skill&&$s(i),D=i[0].chapters&&ks(i),B=i[0].martial_art&&vs(i),O=i[1].size&&Wb(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Book",t=I(),l=g("dl"),R&&R.c(),o=g("dt"),o.textContent="Required Intelligence",r=g("dd"),a=w(f),s=g("dt"),s.textContent="Read Time",u=g("dd"),m=w(c),$=g("dt"),$.textContent="Fun",v=g("dd"),T=w(y),D&&D.c(),E=le(),B&&B.c(),S=le(),O&&O.c()},m(j,N){h(j,e,N),d(e,n),d(e,t),d(e,l),R&&R.m(l,null),d(l,o),d(l,r),d(r,a),d(l,s),d(l,u),d(u,m),d(l,$),d(l,v),d(v,T),D&&D.m(l,null),d(l,E),B&&B.m(l,null),d(l,S),O&&O.m(l,null),C=!0},p(j,[N]){var X,W,F;j[0].skill?R?(R.p(j,N),N&1&&b(R,1)):(R=$s(j),R.c(),b(R,1),R.m(l,o)):R&&(x(),k(R,1,1,()=>{R=null}),ee()),(!C||N&1)&&f!==(f=((X=j[0].intelligence)!=null?X:0)+"")&&P(a,f),(!C||N&1)&&c!==(c=((W=j[0].time)!=null?W:0)+"")&&P(m,c),(!C||N&1)&&y!==(y=((F=j[0].fun)!=null?F:0)+"")&&P(T,y),j[0].chapters?D?D.p(j,N):(D=ks(j),D.c(),D.m(l,E)):D&&(D.d(1),D=null),j[0].martial_art?B?(B.p(j,N),N&1&&b(B,1)):(B=vs(j),B.c(),b(B,1),B.m(l,S)):B&&(x(),k(B,1,1,()=>{B=null}),ee()),j[1].size&&O.p(j,N)},i(j){C||(b(R),b(B),b(O),C=!0)},o(j){k(R),k(B),k(O),C=!1},d(j){j&&p(e),R&&R.d(),D&&D.d(),B&&B.d(),O&&O.d()}}}const ws=(i,e)=>i[1]!==e[1]?i[1]-e[1]:i[0].localeCompare(e[0]);function Vb(i,e,n){var f;let{item:t}=e,l=lt("data");const o=new Map;function r(a,s){var u;o.set(a,Math.min(s,(u=o.get(a))!=null?u:1/0))}for(const a of l.byType("recipe"))if(Array.isArray(a.book_learn)){for(const[s,u=0]of a.book_learn)if(s===t.id)r(a.result,u);else if(a.book_learn)for(const[c,m]of Object.entries(a.book_learn))c===t.id&&r(a.result,(f=m.skill_level)!=null?f:0)}return i.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,o]}class Xb extends We{constructor(e){super(),He(this,e,Vb,zb,Fe,{item:0})}}function Es(i,e,n){const t=i.slice();return t[1]=e[n][0],t[2]=e[n][1],t[4]=n,t}function Ts(i){let e,n,t,l=i[0].vitamins,o=[];for(let f=0;f<l.length;f+=1)o[f]=Ss(Es(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("dt"),e.textContent="Vitamins (%RDA)",n=g("dd");for(let f=0;f<o.length;f+=1)o[f].c()},m(f,a){h(f,e,a),h(f,n,a);for(let s=0;s<o.length;s+=1)o[s].m(n,null);t=!0},p(f,a){if(a&1){l=f[0].vitamins;let s;for(s=0;s<l.length;s+=1){const u=Es(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Ss(u),o[s].c(),b(o[s],1),o[s].m(n,null))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),f&&p(n),ue(o,f)}}}function Jb(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Kb(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Ss(i){let e,n,t=i[2]+"",l,o,r,f;e=new re({props:{id:i[1],type:"vitamin"}});function a(c,m){if(c[4]<c[0].vitamins.length-2)return Kb;if(c[4]===c[0].vitamins.length-2)return Jb}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w("%)"),u&&u.c(),r=le()},m(c,m){L(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[1]),e.$set($),(!f||m&1)&&t!==(t=c[2]+"")&&P(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function Zb(i){var z,q,H,Z,Y,K;let e,n,t,l,o,r,f=((z=i[0].calories)!=null?z:0)+"",a,s,u,c,m=((q=i[0].quench)!=null?q:0)+"",$,v,y,T=((H=i[0].fun)!=null?H:0)+"",E,S,C,R=((Z=i[0].charges)!=null?Z:1)+"",D,B,O,A=((Y=i[0].spoils_in)!=null?Y:"never")+"",M,J,j,N=((K=i[0].healthy)!=null?K:0)+"",X,W,F=i[0].vitamins&&Ts(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Comestible",t=I(),l=g("dl"),o=g("dt"),o.textContent="Calories",r=g("dd"),a=w(f),s=w(" kcal"),u=g("dt"),u.textContent="Quench",c=g("dd"),$=w(m),v=g("dt"),v.textContent="Enjoyability",y=g("dd"),E=w(T),S=g("dt"),S.textContent="Portions",C=g("dd"),D=w(R),B=g("dt"),B.textContent="Spoils In",O=g("dd"),M=w(A),J=g("dt"),J.textContent="Health",j=g("dd"),X=w(N),F&&F.c()},m(Q,_e){h(Q,e,_e),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,a),d(r,s),d(l,u),d(l,c),d(c,$),d(l,v),d(l,y),d(y,E),d(l,S),d(l,C),d(C,D),d(l,B),d(l,O),d(O,M),d(l,J),d(l,j),d(j,X),F&&F.m(l,null),W=!0},p(Q,[_e]){var V,ie,he,Ae,ve,fe;(!W||_e&1)&&f!==(f=((V=Q[0].calories)!=null?V:0)+"")&&P(a,f),(!W||_e&1)&&m!==(m=((ie=Q[0].quench)!=null?ie:0)+"")&&P($,m),(!W||_e&1)&&T!==(T=((he=Q[0].fun)!=null?he:0)+"")&&P(E,T),(!W||_e&1)&&R!==(R=((Ae=Q[0].charges)!=null?Ae:1)+"")&&P(D,R),(!W||_e&1)&&A!==(A=((ve=Q[0].spoils_in)!=null?ve:"never")+"")&&P(M,A),(!W||_e&1)&&N!==(N=((fe=Q[0].healthy)!=null?fe:0)+"")&&P(X,N),Q[0].vitamins?F?(F.p(Q,_e),_e&1&&b(F,1)):(F=Ts(Q),F.c(),b(F,1),F.m(l,null)):F&&(x(),k(F,1,1,()=>{F=null}),ee())},i(Q){W||(b(F),W=!0)},o(Q){k(F),W=!1},d(Q){Q&&p(e),F&&F.d()}}}function Qb(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class xb extends We{constructor(e){super(),He(this,e,Qb,Zb,Fe,{item:0})}}function e$(i){let e,n,t,l,o;return l=new at({props:{items:i[1],$$slots:{default:[t$,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Provided By Vehicle Parts",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function t$(i){let e,n,t,l;return e=new xe({props:{item:i[10]}}),t=new re({props:{type:i[10].type,id:i[10].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1024&&(f.item=o[10]),e.$set(f);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function n$(i){let e,n,t,l,o;return l=new at({props:{items:i[2],$$slots:{default:[l$,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Provided By Furniture",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function l$(i){let e,n,t,l;return e=new xe({props:{item:i[10]}}),t=new re({props:{type:i[10].type,id:i[10].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1024&&(f.item=o[10]),e.$set(f);const a={};r&1024&&(a.type=o[10].type),r&1024&&(a.id=o[10].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function i$(i){let e,n,t,l,o;return l=new at({props:{items:i[3],$$slots:{default:[r$,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Component Of",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function r$(i){let e,n,t,l;return e=new xe({props:{item:i[0].byId("item",i[10])}}),t=new re({props:{type:"item",id:i[10]}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1024&&(f.item=o[0].byId("item",o[10])),e.$set(f);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function o$(i){let e,n,t,l,o;return l=new at({props:{items:i[4],$$slots:{default:[f$,({item:r})=>({10:r}),({item:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Tool For Crafting",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&3072&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function f$(i){let e,n,t,l;return e=new xe({props:{item:i[0].byId("item",i[10])}}),t=new re({props:{type:"item",id:i[10]}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1024&&(f.item=o[0].byId("item",o[10])),e.$set(f);const a={};r&1024&&(a.id=o[10]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function s$(i){let e,n,t,l,o,r=i[1].length&&e$(i),f=i[2].length&&n$(i),a=i[3].length&&i$(i),s=i[4].length&&o$(i);return{c(){r&&r.c(),e=I(),f&&f.c(),n=I(),t=g("div"),a&&a.c(),l=I(),s&&s.c(),ae(t,"class","side-by-side")},m(u,c){r&&r.m(u,c),h(u,e,c),f&&f.m(u,c),h(u,n,c),h(u,t,c),a&&a.m(t,null),d(t,l),s&&s.m(t,null),o=!0},p(u,[c]){u[1].length&&r.p(u,c),u[2].length&&f.p(u,c),u[3].length&&a.p(u,c),u[4].length&&s.p(u,c)},i(u){o||(b(r),b(f),b(a),b(s),o=!0)},o(u){k(r),k(f),k(a),k(s),o=!1},d(u){r&&r.d(u),u&&p(e),f&&f.d(u),u&&p(n),u&&p(t),a&&a.d(),s&&s.d()}}}function a$(i,e,n){var $,v;let{item_id:t}=e;const l=lt("data"),{byTool:o,byComponent:r}=l.getItemComponents(),f=($=r.get(t))!=null?$:new Set,a=(v=o.get(t))!=null?v:new Set,s=l.byType("vehicle_part").filter(y=>{var T;return y.id&&((T=y.pseudo_tools)==null?void 0:T.some(E=>E.id===t))}),u=l.byType("furniture").filter(y=>y.id&&y.crafting_pseudo_item===t),c=[...f].sort((y,T)=>pe(l.byId("item",y)).localeCompare(pe(l.byId("item",T)))),m=[...a].sort((y,T)=>pe(l.byId("item",y)).localeCompare(pe(l.byId("item",T))));return i.$$set=y=>{"item_id"in y&&n(5,t=y.item_id)},[l,s,u,c,m,t]}class u$ extends We{constructor(e){super(),He(this,e,a$,s$,Fe,{item_id:5})}}function c$(i){let e,n,t,l,o;return l=new at({props:{items:i[1],$$slots:{default:[_$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Construct",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Cs(i){let e,n,t,l,o;return n=new xe({props:{item:i[0].byId(i[3].pre_terrain.startsWith("f_")?"furniture":"terrain",i[3].pre_terrain)}}),l=new re({props:{type:i[3].pre_terrain.startsWith("f_")?"furniture":"terrain",id:i[3].pre_terrain}}),{c(){e=w("on "),U(n.$$.fragment),t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),L(n,r,f),h(r,t,f),L(l,r,f),o=!0},p(r,f){const a={};f&8&&(a.item=r[0].byId(r[3].pre_terrain.startsWith("f_")?"furniture":"terrain",r[3].pre_terrain)),n.$set(a);const s={};f&8&&(s.type=r[3].pre_terrain.startsWith("f_")?"furniture":"terrain"),f&8&&(s.id=r[3].pre_terrain),l.$set(s)},i(r){o||(b(n.$$.fragment,r),b(l.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(n,r),r&&p(t),G(l,r)}}}function _$(i){let e,n,t,l;e=new re({props:{id:i[3].group,type:"construction_group"}});let o=i[3].pre_terrain&&Cs(i);return{c(){U(e.$$.fragment),n=I(),o&&o.c(),t=le()},m(r,f){L(e,r,f),h(r,n,f),o&&o.m(r,f),h(r,t,f),l=!0},p(r,f){const a={};f&8&&(a.id=r[3].group),e.$set(a),r[3].pre_terrain?o?(o.p(r,f),f&8&&b(o,1)):(o=Cs(r),o.c(),b(o,1),o.m(t.parentNode,t)):o&&(x(),k(o,1,1,()=>{o=null}),ee())},i(r){l||(b(e.$$.fragment,r),b(o),l=!0)},o(r){k(e.$$.fragment,r),k(o),l=!1},d(r){G(e,r),r&&p(n),o&&o.d(r),r&&p(t)}}}function d$(i){let e,n,t=i[1].length&&c$(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function m$(i,e,n){let{item_id:t}=e;const l=lt("data"),o=l.byType("construction").filter(r=>l.flattenItemGroup(l.normalizeItemGroup(r.byproducts,"collection")).some(a=>a.id===t)).sort((r,f)=>pe(r).localeCompare(pe(f)));return i.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[l,o,t]}class p$ extends We{constructor(e){super(),He(this,e,m$,d$,Fe,{item_id:2})}}function h$(i){let e,n,t,l,o;return l=new at({props:{items:i[1],$$slots:{default:[g$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Deconstruct",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function g$(i){let e,n,t,l;return e=new xe({props:{item:i[0].byId(i[3].type,i[3].id)}}),t=new re({props:{id:i[3].id,type:i[3].type}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&8&&(f.item=o[0].byId(o[3].type,o[3].id)),e.$set(f);const a={};r&8&&(a.id=o[3].id),r&8&&(a.type=o[3].type),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function b$(i){let e,n,t=i[1].length&&h$(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function $$(i,e,n){let{item_id:t}=e;const l=lt("data");let o=l.byType("terrain").concat(l.byType("furniture")).filter(r=>{var a;return((a=r.deconstruct)!=null&&a.items?l.flattenItemGroup({subtype:"collection",entries:typeof r.deconstruct.items=="string"?[{group:r.deconstruct.items}]:r.deconstruct.items}):[]).some(({id:s})=>s===t)}).sort((r,f)=>pe(r).localeCompare(pe(f)));return i.$$set=r=>{"item_id"in r&&n(2,t=r.item_id)},[l,o,t]}class k$ extends We{constructor(e){super(),He(this,e,$$,b$,Fe,{item_id:2})}}function v$(i){let e,n,t,l,o;return l=new at({props:{items:i[1],$$slots:{default:[y$,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Disassemble",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&96&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function y$(i){let e,n,t,l;return e=new xe({props:{item:i[0].byId("item",i[5])}}),t=new re({props:{type:"item",id:i[5]}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&32&&(f.item=o[0].byId("item",o[5])),e.$set(f);const a={};r&32&&(a.id=o[5]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function w$(i){let e,n,t=i[1].length&&v$(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function E$(i,e,n){let{item_id:t}=e,l=lt("data");const o=new Set,r=l.byType("recipe").concat(l.byType("uncraft")).map(a=>a.result).filter(a=>a);for(const a of r){const s=l.uncraftRecipe(a);if(s){const{components:u}=l.normalizeRequirementsForDisassembly(s);u.map(m=>m[0]).some(m=>m.id===t)&&o.add(s.result)}}const f=[...o].sort((a,s)=>pe(l.byId("item",a)).localeCompare(pe(l.byId("item",s))));return i.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[l,f,t]}class T$ extends We{constructor(e){super(),He(this,e,E$,w$,Fe,{item_id:2})}}function S$(i){let e,n,t,l,o;return l=new at({props:{items:i[1],$$slots:{default:[C$,({item:r})=>({8:r}),({item:r})=>r?256:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Dropped By",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&768&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function C$(i){let e,n,t,l,o=vl(i[8].prob)+"",r,f,a;return e=new xe({props:{item:i[0].byId("monster",i[8].id)}}),t=new re({props:{type:"monster",id:i[8].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment),l=w(" ("),r=w(o),f=w(")")},m(s,u){L(e,s,u),h(s,n,u),L(t,s,u),h(s,l,u),h(s,r,u),h(s,f,u),a=!0},p(s,u){const c={};u&256&&(c.item=s[0].byId("monster",s[8].id)),e.$set(c);const m={};u&256&&(m.id=s[8].id),t.$set(m),(!a||u&256)&&o!==(o=vl(s[8].prob)+"")&&P(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){G(e,s),s&&p(n),G(t,s),s&&p(l),s&&p(r),s&&p(f)}}}function I$(i){let e,n,t,l,o;return l=new at({props:{items:i[2],$$slots:{default:[R$,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Butcher",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&640&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function R$(i){let e,n,t,l;return e=new xe({props:{item:i[7]}}),t=new re({props:{id:i[7].id,type:"monster"}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&128&&(f.item=o[7]),e.$set(f);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function N$(i){let e,n,t,l,o;return l=new at({props:{items:i[3],$$slots:{default:[O$,({item:r})=>({7:r}),({item:r})=>r?128:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Dissect",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&640&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function O$(i){let e,n,t,l;return e=new xe({props:{item:i[7]}}),t=new re({props:{id:i[7].id,type:"monster"}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&128&&(f.item=o[7]),e.$set(f);const a={};r&128&&(a.id=o[7].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function B$(i){let e,n,t,l,o=i[1].length&&S$(i),r=i[2].length&&I$(i),f=i[3].length&&N$(i);return{c(){o&&o.c(),e=I(),r&&r.c(),n=I(),f&&f.c(),t=le()},m(a,s){o&&o.m(a,s),h(a,e,s),r&&r.m(a,s),h(a,n,s),f&&f.m(a,s),h(a,t,s),l=!0},p(a,[s]){a[1].length&&o.p(a,s),a[2].length&&r.p(a,s),a[3].length&&f.p(a,s)},i(a){l||(b(o),b(r),b(f),l=!0)},o(a){k(o),k(r),k(f),l=!1},d(a){o&&o.d(a),a&&p(e),r&&r.d(a),a&&p(n),f&&f.d(a),a&&p(t)}}}function A$(i,e,n){let{item_id:t}=e,l=lt("data");const o=l.byType("monster").flatMap(u=>{if(!u.id)return[];const m=l.flatDeathDrops(u.id).find($=>$.id===t);return m?[{id:u.id,prob:m.prob}]:[]});o.sort((u,c)=>c.prob-u.prob);const r=u=>{var c,m;return(m=(c=u.entries)==null?void 0:c.flatMap($=>{var v;return $.type&&((v=l.byId("harvest_drop_type",$.type))==null?void 0:v.group)?l.flattenItemGroup(l.byId("item_group",$.drop)).map(y=>y.id):[$.drop]}))!=null?m:[]},f=l.byType("harvest").filter(u=>r(u).some(c=>c===t)),a=l.byType("monster").filter(u=>u.id&&f.some(c=>c.id===u.harvest)),s=l.byType("monster").filter(u=>u.id&&f.some(c=>c.id===u.dissect));return i.$$set=u=>{"item_id"in u&&n(4,t=u.item_id)},[l,o,a,s,t]}class M$ extends We{constructor(e){super(),He(this,e,A$,B$,Fe,{item_id:4})}}function Is(i,e,n){const t=i.slice();return t[6]=e[n][0],t[7]=e[n][1],t}function D$(i){let e,n,t,l,o;return l=new at({props:{items:i[1],$$slots:{default:[L$,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Forage",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&1056&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Rs(i){let e,n=i[6]+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:te,d(l){l&&p(e)}}}function L$(i){let e,n,t,l,o,r;e=new xe({props:{item:i[5]}}),t=new re({props:{type:"terrain",id:i[5].id}});let f=i[0],a=[];for(let s=0;s<f.length;s+=1)a[s]=Rs(Is(i,f,s));return{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment),l=w(` in
      `),o=g("ul");for(let s=0;s<a.length;s+=1)a[s].c();ae(o,"class","comma-separated or")},m(s,u){L(e,s,u),h(s,n,u),L(t,s,u),h(s,l,u),h(s,o,u);for(let c=0;c<a.length;c+=1)a[c].m(o,null);r=!0},p(s,u){const c={};u&32&&(c.item=s[5]),e.$set(c);const m={};if(u&32&&(m.id=s[5].id),t.$set(m),u&1){f=s[0];let $;for($=0;$<f.length;$+=1){const v=Is(s,f,$);a[$]?a[$].p(v,u):(a[$]=Rs(v),a[$].c(),a[$].m(o,null))}for(;$<a.length;$+=1)a[$].d(1);a.length=f.length}},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),r=!1},d(s){G(e,s),s&&p(n),G(t,s),s&&p(l),s&&p(o),ue(a,s)}}}function G$(i){let e,n,t=i[0].length&&D$(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function U$(i,e,n){let{item_id:t}=e,l=lt("data");const o={Spring:"forage_spring",Summer:"forage_summer",Autumn:"forage_autumn",Winter:"forage_winter","any season":"trash_forest"},r=Object.keys(o).map(a=>{var u;const s=l.flattenItemGroup(l.byId("item_group",o[a]));return[a,(u=s.find(c=>c.id===t))==null?void 0:u.prob]}).filter(a=>a[1]),f=l.byType("terrain").filter(a=>a.examine_action==="shrub_wildveggies");return i.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[r,f,t]}class q$ extends We{constructor(e){super(),He(this,e,U$,G$,Fe,{item_id:2})}}function P$(i){let e,n,t,l,o;return l=new at({props:{items:i[0],$$slots:{default:[F$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Grown From",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function F$(i){var s;let e,n,t,l,o=((s=i[3].seed_data.grow)!=null?s:"1 day")+"",r,f,a;return e=new xe({props:{item:i[3]}}),t=new re({props:{id:i[3].id,type:"item"}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment),l=w(" ("),r=w(o),f=w(")")},m(u,c){L(e,u,c),h(u,n,c),L(t,u,c),h(u,l,c),h(u,r,c),h(u,f,c),a=!0},p(u,c){var v;const m={};c&8&&(m.item=u[3]),e.$set(m);const $={};c&8&&($.id=u[3].id),t.$set($),(!a||c&8)&&o!==(o=((v=u[3].seed_data.grow)!=null?v:"1 day")+"")&&P(r,o)},i(u){a||(b(e.$$.fragment,u),b(t.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(t.$$.fragment,u),a=!1},d(u){G(e,u),u&&p(n),G(t,u),u&&p(l),u&&p(r),u&&p(f)}}}function Y$(i){let e,n,t=i[0].length&&P$(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function j$(i,e,n){let{item_id:t}=e;const o=lt("data").byType("item").filter(r=>{var f;return!r.id||!r.seed_data?!1:r.seed_data.fruit===t||((f=r.seed_data.byproducts)==null?void 0:f.includes(t))});return i.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class H$ extends We{constructor(e){super(),He(this,e,j$,Y$,Fe,{item_id:1})}}function Ns(i){let e,n,t=i[0].min_strength+"",l;return{c(){e=g("dt"),e.textContent="Min Strength",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].min_strength+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function Os(i){let e,n,t=i[0].valid_mod_locations.map(Bs).join(", ")+"",l,o;return{c(){e=g("dt"),e.textContent="Mod Slots",n=g("dd"),l=w(t),o=I()},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f&1&&t!==(t=r[0].valid_mod_locations.map(Bs).join(", ")+"")&&P(l,t)},d(r){r&&p(e),r&&p(n)}}}function W$(i){var Ge,Te,ge,ye,Qe,oe,ke,Xe,Me,Oe;let e,n,t,l,o,r,f,a,s,u,c,m,$,v=((Ge=i[0].range)!=null?Ge:0)+"",y,T,E,S=((Te=i[0].dispersion)!=null?Te:0)+"",C,R,D,B=(((ge=i[0].flags)!=null?ge:[]).includes("DISABLE_SIGHTS")?90:(ye=i[0].sight_dispersion)!=null?ye:30)+"",O,A,M,J,j=((Qe=i[0].recoil)!=null?Qe:0)+"",N,X,W,F=((oe=i[0].loudness)!=null?oe:0).toFixed(0)+"",z,q,H,Z=((ke=i[0].reload)!=null?ke:100)+"",Y,K,Q,_e,V=((Xe=i[0].reload_noise_volume)!=null?Xe:0)+"",ie,he,Ae,ve=((Me=i[0].durability)!=null?Me:0)+"",fe,be;f=new re({props:{type:"skill",id:i[0].skill}});let $e=i[0].min_strength&&Ns(i),ce=((Oe=i[0].valid_mod_locations)==null?void 0:Oe.length)&&Os(i);return{c(){var Ce,ze,we;e=g("section"),n=g("h1"),n.textContent="Ranged",t=I(),l=g("dl"),o=g("dt"),o.textContent="Skill",r=g("dd"),U(f.$$.fragment),$e&&$e.c(),a=g("dt"),a.textContent="Base Damage",s=g("dd"),s.textContent=`${(Ce=i[1].amount)!=null?Ce:0} (${(ze=i[1].damage_type)!=null?ze:"bullet"})
    `,u=g("dt"),u.textContent="Armor Penetration",c=g("dd"),c.textContent=`${(we=i[1].armor_penetration)!=null?we:0}`,m=g("dt"),m.textContent="Range Bonus",$=g("dd"),y=w(v),T=g("dt"),T.textContent="Base Dispersion",E=g("dd"),C=w(S),R=g("dt"),R.textContent="Sight Dispersion",D=g("dd"),O=w(B),A=I(),M=g("dt"),M.textContent="Base Recoil",J=g("dd"),N=w(j),X=g("dt"),X.textContent=`Loudness Modifier
    `,W=g("dd"),z=w(F),q=g("dt"),q.textContent="Reload Time",H=g("dd"),Y=w(Z),K=w(" moves"),Q=g("dt"),Q.textContent=`Reload Noise Volume
    `,_e=g("dd"),ie=w(V),ce&&ce.c(),he=g("dt"),he.textContent="Durability",Ae=g("dd"),fe=w(ve),ae(m,"title","Added to ammo range"),ae(T,"title","Added to ammo dispersion"),ae(X,"title","Modifies base loudness as provided by the currently loaded ammo"),ae(Q,"title","Volume of the noise made when reloading this weapon")},m(Ce,ze){h(Ce,e,ze),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),L(f,r,null),$e&&$e.m(l,null),d(l,a),d(l,s),d(l,u),d(l,c),d(l,m),d(l,$),d($,y),d(l,T),d(l,E),d(E,C),d(l,R),d(l,D),d(D,O),d(D,A),d(l,M),d(l,J),d(J,N),d(l,X),d(l,W),d(W,z),d(l,q),d(l,H),d(H,Y),d(H,K),d(l,Q),d(l,_e),d(_e,ie),ce&&ce.m(l,null),d(l,he),d(l,Ae),d(Ae,fe),be=!0},p(Ce,[ze]){var De,Pe,Ee,Se,Be,Ue,Ve,rt,ft,ct;const we={};ze&1&&(we.id=Ce[0].skill),f.$set(we),Ce[0].min_strength?$e?$e.p(Ce,ze):($e=Ns(Ce),$e.c(),$e.m(l,a)):$e&&($e.d(1),$e=null),(!be||ze&1)&&v!==(v=((De=Ce[0].range)!=null?De:0)+"")&&P(y,v),(!be||ze&1)&&S!==(S=((Pe=Ce[0].dispersion)!=null?Pe:0)+"")&&P(C,S),(!be||ze&1)&&B!==(B=(((Ee=Ce[0].flags)!=null?Ee:[]).includes("DISABLE_SIGHTS")?90:(Se=Ce[0].sight_dispersion)!=null?Se:30)+"")&&P(O,B),(!be||ze&1)&&j!==(j=((Be=Ce[0].recoil)!=null?Be:0)+"")&&P(N,j),(!be||ze&1)&&F!==(F=((Ue=Ce[0].loudness)!=null?Ue:0).toFixed(0)+"")&&P(z,F),(!be||ze&1)&&Z!==(Z=((Ve=Ce[0].reload)!=null?Ve:100)+"")&&P(Y,Z),(!be||ze&1)&&V!==(V=((rt=Ce[0].reload_noise_volume)!=null?rt:0)+"")&&P(ie,V),(ft=Ce[0].valid_mod_locations)!=null&&ft.length?ce?ce.p(Ce,ze):(ce=Os(Ce),ce.c(),ce.m(l,he)):ce&&(ce.d(1),ce=null),(!be||ze&1)&&ve!==(ve=((ct=Ce[0].durability)!=null?ct:0)+"")&&P(fe,ve)},i(Ce){be||(b(f.$$.fragment,Ce),be=!0)},o(Ce){k(f.$$.fragment,Ce),be=!1},d(Ce){Ce&&p(e),G(f),$e&&$e.d(),ce&&ce.d()}}}const Bs=([i,e])=>`${i} (${e})`;function z$(i,e,n){var o;let{item:t}=e;const l=Array.isArray(t.ranged_damage)?t.ranged_damage[0]:typeof t.ranged_damage=="number"?t.ranged_damage:t.ranged_damage&&"values"in t.ranged_damage?t.ranged_damage.values[0]:(o=t.ranged_damage)!=null?o:{amount:0,damage_type:"bullet",armor_penetration:0};return i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,l]}class V$ extends We{constructor(e){super(),He(this,e,z$,W$,Fe,{item:0})}}function X$(i){let e,n,t,l,o;return l=new at({props:{items:i[0],$$slots:{default:[J$,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Harvest",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&24&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function J$(i){let e,n,t,l;return e=new xe({props:{item:i[3]}}),t=new re({props:{type:i[3].type,id:i[3].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&8&&(f.item=o[3]),e.$set(f);const a={};r&8&&(a.type=o[3].type),r&8&&(a.id=o[3].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function K$(i){let e,n,t=i[0].length&&X$(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function Z$(i,e,n){let{item_id:t}=e;const l=lt("data"),o=l.byType("terrain").concat(l.byType("furniture")).filter(r=>{var f;return((f=r.harvest_by_season)!=null?f:[]).some(a=>a.id?l.byId("harvest",a.id).entries.some(u=>u.type==="bionic_group"?l.flattenItemGroup(l.byId("item_group",u.drop)).some(c=>c.id===t):u.drop===t):!1)});return o.sort((r,f)=>pe(r).localeCompare(pe(f))),i.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class Q$ extends We{constructor(e){super(),He(this,e,Z$,K$,Fe,{item_id:1})}}function x$(i){let e,n,t,l,o;return l=new at({props:{items:i[1],$$slots:{default:[ek,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Compatible Items",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&9&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function ek(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function tk(i){let e,n,t=i[1].length&&x$(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[1].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function nk(i,e,n){let{item:t}=e;const o=lt("data").byType("item").filter(r=>r.id).filter(r=>{var f;return(f=r.pocket_data)==null?void 0:f.some(a=>{var s,u,c;return(a.pocket_type==="MAGAZINE_WELL"||a.pocket_type==="MAGAZINE")&&(((s=a.item_restriction)==null?void 0:s.includes(t.id))||((u=a.allowed_speedloaders)==null?void 0:u.includes(t.id))||((c=a.flag_restriction)==null?void 0:c.some(m=>{var $;return($=t.flags)==null?void 0:$.includes(m)})))})});return o.sort((r,f)=>pe(r).localeCompare(pe(f))),i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,o]}class lk extends We{constructor(e){super(),He(this,e,nk,tk,Fe,{item:0})}}function As(i,e,n){const t=i.slice();return t[11]=e[n],t}function Ms(i){var M,J;let e,n,t,l,o,r,f=((M=i[0].bashing)!=null?M:0)+"",a,s,u,c,m=((J=i[0].cutting)!=null?J:0)+"",$,v,y,T,E,S=i[3](i[0])+"",C,R;function D(j,N){return j[4]?rk:ik}let O=D(i)(i),A=i[1].length&&ok(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Melee",t=I(),l=g("dl"),o=g("dt"),o.textContent="Bash",r=g("dd"),a=w(f),s=g("dt"),O.c(),u=I(),c=g("dd"),$=w(m),v=g("dt"),v.textContent="To Hit",y=g("dd"),y.textContent=`${i[2]}`,T=g("dt"),T.textContent="Moves Per Attack",E=g("dd"),C=w(S),A&&A.c()},m(j,N){h(j,e,N),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,a),d(l,s),O.m(s,null),d(s,u),d(l,c),d(c,$),d(l,v),d(l,y),d(l,T),d(l,E),d(E,C),A&&A.m(l,null),R=!0},p(j,N){var X,W;(!R||N&1)&&f!==(f=((X=j[0].bashing)!=null?X:0)+"")&&P(a,f),(!R||N&1)&&m!==(m=((W=j[0].cutting)!=null?W:0)+"")&&P($,m),(!R||N&1)&&S!==(S=j[3](j[0])+"")&&P(C,S),j[1].length&&A.p(j,N)},i(j){R||(b(A),R=!0)},o(j){k(A),R=!1},d(j){j&&p(e),O.d(),A&&A.d()}}}function ik(i){let e;return{c(){e=w("Cut")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function rk(i){let e;return{c(){e=w("Pierce")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ok(i){let e,n,t,l,o=i[1],r=[];for(let a=0;a<o.length;a+=1)r[a]=Ds(As(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Techniques",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ae(t,"class","no-bullets")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&2){o=a[1];let u;for(u=0;u<o.length;u+=1){const c=As(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Ds(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function Ds(i){let e,n,t,l,o=Vt(i[11].description)+"",r,f,a;return t=new re({props:{type:"technique",id:i[11].id}}),{c(){e=g("li"),n=g("strong"),U(t.$$.fragment),l=w(": "),r=w(o),f=I()},m(s,u){h(s,e,u),d(e,n),L(t,n,null),d(e,l),d(e,r),d(e,f),a=!0},p:te,i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&p(e),G(t)}}}function fk(i){let e,n,t=(i[0].bashing||i[0].cutting)&&Ms(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].bashing||l[0].cutting?t?(t.p(l,o),o&1&&b(t,1)):(t=Ms(l),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(x(),k(t,1,1,()=>{t=null}),ee())},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function sk(i,e,n){var v,y,T,E;let t=lt("data"),{item:l}=e,o=((v=l.techniques)!=null?v:[]).map(S=>t.byId("technique",S));const r={bad:0,none:1,solid:2,weapon:3},f={hand:0,short:1,long:2},a={point:0,line:1,any:2,every:3},s={clumsy:0,uneven:1,neutral:2,good:3},u=({grip:S="weapon",length:C="hand",surface:R="any",balance:D="neutral"})=>{const B=r[S],O=f[C],A=a[R],M=s[D],J=-2,j=-1,N=-2,X=-2;return J+j+N+X+B+O+A+M},c=typeof l.to_hit=="object"?u(l.to_hit):(y=l.to_hit)!=null?y:0;function m(S){return Math.floor(65+(Math.floor(Jr(S.volume)/62.5)+Math.floor(Ui(S.weight)/60)))}const $=((T=l.flags)!=null?T:[]).includes("SPEAR")||((E=l.flags)!=null?E:[]).includes("STAB");return i.$$set=S=>{"item"in S&&n(0,l=S.item)},[l,o,c,m,$]}class ak extends We{constructor(e){super(),He(this,e,sk,fk,Fe,{item:0})}}function Ls(i,e,n){const t=i.slice();return t[5]=e[n],t}function Gs(i,e,n){const t=i.slice();return t[8]=e[n],t[10]=n,t}function Us(i,e,n){const t=i.slice();return t[11]=e[n],t}function qs(i,e,n){const t=i.slice();return t[14]=e[n],t[10]=n,t}function uk(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Ps(i){var E,S;let e,n=((E=i[14].amount)!=null?E:1)+"",t,l,o=((S=i[14].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[14].level+"",c,m,$="",v,y,T=i[10]!==0&&uk();return a=new re({props:{type:"tool_quality",id:i[14].id}}),{c(){T&&T.c(),e=I(),t=w(n),l=w(" tool"),r=w(o),f=w(`
          with `),U(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
          or more`),v=w($)},m(C,R){T&&T.m(C,R),h(C,e,R),h(C,t,R),h(C,l,R),h(C,r,R),h(C,f,R),L(a,C,R),h(C,s,R),h(C,c,R),h(C,m,R),h(C,v,R),y=!0},p:te,i(C){y||(b(a.$$.fragment,C),y=!0)},o(C){k(a.$$.fragment,C),y=!1},d(C){T&&T.d(C),C&&p(e),C&&p(t),C&&p(l),C&&p(r),C&&p(f),G(a,C),C&&p(s),C&&p(c),C&&p(m),C&&p(v)}}}function Fs(i){let e,n,t,l=i[11],o=[];for(let f=0;f<l.length;f+=1)o[f]=Ps(qs(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=w(".")},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&4){l=f[11];let s;for(s=0;s<l.length;s+=1){const u=qs(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Ps(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function ck(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function _k(i){let e,n;return e=new re({props:{type:"item",id:i[8].id}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:te,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function dk(i){let e,n=pe(i[0].byId("item",i[8].id))+"",t;return{c(){e=g("a"),t=w(n),ae(e,"href","#/furniture/"+i[0].craftingPseudoItem(i[8].id))},m(l,o){h(l,e,o),d(e,t)},p:te,i:te,o:te,d(l){l&&p(e)}}}function mk(i){let e,n=i[8].count+"",t,l,o,r=i[8].count!==1&&pk();return{c(){e=w("("),t=w(n),l=w(" charge"),r&&r.c(),o=w(")")},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:te,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function pk(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ys(i){let e,n,t,l,o,r,f=i[10]!==0&&ck();const a=[dk,_k],s=[];function u(m,$){return m[0].craftingPseudoItem(m[8].id)?0:1}n=u(i),t=s[n]=a[n](i);let c=i[8].count>0&&mk(i);return{c(){f&&f.c(),e=I(),t.c(),l=I(),c&&c.c(),o=le()},m(m,$){f&&f.m(m,$),h(m,e,$),s[n].m(m,$),h(m,l,$),c&&c.m(m,$),h(m,o,$),r=!0},p(m,$){t.p(m,$),m[8].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&p(e),s[n].d(m),m&&p(l),c&&c.d(m),m&&p(o)}}}function js(i){let e,n,t,l=i[5],o=[];for(let f=0;f<l.length;f+=1)o[f]=Ys(Gs(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=I()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&3){l=f[5];let s;for(s=0;s<l.length;s+=1){const u=Gs(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=Ys(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function hk(i){var $;let e,n,t,l,o,r,f=($=i[2])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=Fs(Us(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[1],c=[];for(let v=0;v<u.length;v+=1)c[v]=js(Ls(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=g("dt"),e.textContent="Tools Required",n=I(),t=g("dd"),l=g("ul");for(let v=0;v<a.length;v+=1)a[v].c();o=I();for(let v=0;v<c.length;v+=1)c[v].c()},m(v,y){h(v,e,y),h(v,n,y),h(v,t,y),d(t,l);for(let T=0;T<a.length;T+=1)a[T].m(l,null);d(l,o);for(let T=0;T<c.length;T+=1)c[T].m(l,null);r=!0},p(v,[y]){var T;if(y&4){f=(T=v[2])!=null?T:[];let E;for(E=0;E<f.length;E+=1){const S=Us(v,f,E);a[E]?(a[E].p(S,y),b(a[E],1)):(a[E]=Fs(S),a[E].c(),b(a[E],1),a[E].m(l,o))}for(x(),E=f.length;E<a.length;E+=1)s(E);ee()}if(y&3){u=v[1];let E;for(E=0;E<u.length;E+=1){const S=Ls(v,u,E);c[E]?(c[E].p(S,y),b(c[E],1)):(c[E]=js(S),c[E].c(),b(c[E],1),c[E].m(l,null))}for(x(),E=u.length;E<c.length;E+=1)m(E);ee()}},i(v){if(!r){for(let y=0;y<f.length;y+=1)b(a[y]);for(let y=0;y<u.length;y+=1)b(c[y]);r=!0}},o(v){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)k(a[y]);c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)k(c[y]);r=!1},d(v){v&&p(e),v&&p(n),v&&p(t),ue(a,v),ue(c,v)}}}function gk(i,e,n){let{requirement:t}=e,{direction:l="craft"}=e;const o=lt("data");let{tools:r,qualities:f}=l==="craft"?o.normalizeRequirements(t):o.normalizeRequirementsForDisassembly(t);return i.$$set=a=>{"requirement"in a&&n(3,t=a.requirement),"direction"in a&&n(4,l=a.direction)},[o,r,f,t,l]}class ch extends We{constructor(e){super(),He(this,e,gk,hk,Fe,{requirement:3,direction:4})}}function Hs(i,e,n){const t=i.slice();return t[6]=e[n],t}function Ws(i,e,n){const t=i.slice();return t[9]=e[n].id,t[10]=e[n].count,t[12]=n,t}function bk(i){let e,n;return e=new ch({props:{requirement:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.requirement=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function $k(i){let e,n,t,l,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=Vs(Hs(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Components",n=I(),t=g("dd"),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),h(s,n,u),h(s,t,u),d(t,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&18){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=Hs(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Vs(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),s&&p(t),ue(f,s)}}}function kk(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function zs(i){let e,n,t,l=i[12]!==0&&kk();return n=new re({props:{type:"item",id:i[9],count:i[10]}}),{c(){l&&l.c(),e=I(),U(n.$$.fragment)},m(o,r){l&&l.m(o,r),h(o,e,r),L(n,o,r),t=!0},p:te,i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&p(e),G(n,o)}}}function Vs(i){let e,n,t,l=i[6].map(i[5]).filter(Xs),o=[];for(let f=0;f<l.length;f+=1)o[f]=zs(Ws(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=I()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&18){l=f[6].map(f[5]).filter(Xs);let s;for(s=0;s<l.length;s+=1){const u=Ws(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=zs(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function vk(i){var r,f;let e,n,t,l=(((r=i[3])==null?void 0:r.length)||((f=i[2])==null?void 0:f.length))&&bk(i),o=i[4].length&&$k(i);return{c(){l&&l.c(),e=I(),o&&o.c(),n=le()},m(a,s){l&&l.m(a,s),h(a,e,s),o&&o.m(a,s),h(a,n,s),t=!0},p(a,[s]){var u,c;(((u=a[3])==null?void 0:u.length)||((c=a[2])==null?void 0:c.length))&&l.p(a,s),a[4].length&&o.p(a,s)},i(a){t||(b(l),b(o),t=!0)},o(a){k(l),k(o),t=!1},d(a){l&&l.d(a),a&&p(e),o&&o.d(a),a&&p(n)}}}const Xs=i=>i.item;function yk(i,e,n){let{requirement:t}=e;const l=lt("data");let{tools:o,qualities:r,components:f}=l.normalizeRequirements(t);const a=s=>({...s,item:l.byId("item",s.id)});return i.$$set=s=>{"requirement"in s&&n(0,t=s.requirement)},[t,l,o,r,f,a]}class tr extends We{constructor(e){super(),He(this,e,yk,vk,Fe,{requirement:0})}}function Js(i,e,n){const t=i.slice();return t[6]=e[n][0],t[7]=e[n][1]!==void 0?e[n][1]:0,t}function Ks(i,e,n){const t=i.slice();return t[10]=e[n][0],t[7]=e[n][1],t}function Zs(i,e,n){const t=i.slice();return t[10]=e[n][0],t[7]=e[n][1],t}function Qs(i,e,n){const t=i.slice();return t[15]=e[n],t}function xs(i,e,n){const t=i.slice();return t[18]=e[n],t}function ea(i,e,n){const t=i.slice();return t[10]=e[n][0],t[7]=e[n][1],t[22]=n,t}function wk(i){let e;return{c(){e=w("Craft")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ek(i){let e;return{c(){e=w("Byproduct")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ta(i){let e,n,t,l;return t=new re({props:{id:i[0].result,type:"item"}}),{c(){e=g("dt"),e.textContent="Result",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].result),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Tk(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function Sk(i){var f;let e,n,t=((f=i[0].difficulty)!=null?f:0)+"",l,o,r;return e=new re({props:{type:"skill",id:i[0].skill_used}}),{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(a,s){L(e,a,s),h(a,n,s),h(a,l,s),h(a,o,s),r=!0},p(a,s){var c;const u={};s&1&&(u.id=a[0].skill_used),e.$set(u),(!r||s&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&P(l,t)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){G(e,a),a&&p(n),a&&p(l),a&&p(o)}}}function Ck(i){let e,n,t,l,o=i[2],r=[];for(let s=0;s<o.length;s+=1)r[s]=la(ea(i,o,s));const f=s=>k(r[s],1,1,()=>{r[s]=null});let a=null;return o.length||(a=na()),{c(){e=g("dt"),e.textContent="Other Skills",n=g("dd");for(let s=0;s<r.length;s+=1)r[s].c();a&&a.c(),t=I()},m(s,u){h(s,e,u),h(s,n,u);for(let c=0;c<r.length;c+=1)r[c].m(n,null);a&&a.m(n,null),d(n,t),l=!0},p(s,u){if(u&4){o=s[2];let c;for(c=0;c<o.length;c+=1){const m=ea(s,o,c);r[c]?(r[c].p(m,u),b(r[c],1)):(r[c]=la(m),r[c].c(),b(r[c],1),r[c].m(n,t))}for(x(),c=o.length;c<r.length;c+=1)f(c);ee(),o.length?a&&(a.d(1),a=null):a||(a=na(),a.c(),a.m(n,t))}},i(s){if(!l){for(let u=0;u<o.length;u+=1)b(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);l=!1},d(s){s&&p(e),s&&p(n),ue(r,s),a&&a.d()}}}function na(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ik(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Rk(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function la(i){let e,n,t=i[7]+"",l,o,r,f;e=new re({props:{type:"skill",id:i[10]}});function a(c,m){if(c[22]===c[2].length-2)return Rk;if(c[22]!==c[2].length-1)return Ik}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=le()},m(c,m){L(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p:te,i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function Nk(i){let e,n,t,l,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=ia(xs(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Proficiencies",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&16){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=xs(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ia(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Ok(i){let e,n=[[i[18].time_multiplier,"time"],[i[18].fail_multiplier,"fail"],[i[18].learning_time_multiplier,"learning speed"]].filter(Yk).map(jk).join(", ")+"",t,l;return{c(){e=w("("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function ia(i){let e,n,t,l,o;n=new re({props:{type:"proficiency",id:i[18].proficiency}});let r=(i[18].time_multiplier!==1||i[18].fail_multiplier!==1||i[18].learning_time_multiplier!==1)&&Ok(i);return{c(){e=g("li"),U(n.$$.fragment),t=I(),r&&r.c(),l=I()},m(f,a){h(f,e,a),L(n,e,null),d(e,t),r&&r.m(e,null),d(e,l),o=!0},p(f,a){(f[18].time_multiplier!==1||f[18].fail_multiplier!==1||f[18].learning_time_multiplier!==1)&&r.p(f,a)},i(f){o||(b(n.$$.fragment,f),o=!0)},o(f){k(n.$$.fragment,f),o=!1},d(f){f&&p(e),G(n),r&&r.d()}}}function Bk(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function Ak(i){let e=i[0].batch_time_factors[0]+"",n,t,l=i[0].batch_time_factors[1]+"",o,r,f=i[0].batch_time_factors[1]===1?"":"s",a;return{c(){n=w(e),t=w("% at >"),o=w(l),r=w(" unit"),a=w(f)},m(s,u){h(s,n,u),h(s,t,u),h(s,o,u),h(s,r,u),h(s,a,u)},p(s,u){u&1&&e!==(e=s[0].batch_time_factors[0]+"")&&P(n,e),u&1&&l!==(l=s[0].batch_time_factors[1]+"")&&P(o,l),u&1&&f!==(f=s[0].batch_time_factors[1]===1?"":"s")&&P(a,f)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(r),s&&p(a)}}}function ra(i){let e,n,t=i[0].charges+"",l;return{c(){e=g("dt"),e.textContent="Recipe Makes",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].charges+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function oa(i){let e,n,t,l,o,r=i[0].byproducts,f=[];for(let s=0;s<r.length;s+=1)f[s]=fa(Qs(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Byproducts",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].byproducts;let c;for(c=0;c<r.length;c+=1){const m=Qs(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=fa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function fa(i){var l;let e,n,t;return n=new re({props:{type:"item",id:i[15][0],count:(l=i[15][1])!=null?l:1}}),{c(){e=g("li"),U(n.$$.fragment)},m(o,r){h(o,e,r),L(n,e,null),t=!0},p(o,r){var a;const f={};r&1&&(f.id=o[15][0]),r&1&&(f.count=(a=o[15][1])!=null?a:1),n.$set(f)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){o&&p(e),G(n)}}}function Mk(i){let e;return{c(){e=w("no")},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function Dk(i){let e,n,t,l,o;const r=[Gk,Lk],f=[];function a(s,u){return u&1&&(n=null),n==null&&(n=!!Array.isArray(s[0].autolearn)),n?0:1}return t=a(i,-1),l=f[t]=r[t](i),{c(){e=g("ul"),l.c(),ae(e,"class","comma-separated")},m(s,u){h(s,e,u),f[t].m(e,null),o=!0},p(s,u){let c=t;t=a(s,u),t===c?f[t].p(s,u):(x(),k(f[c],1,1,()=>{f[c]=null}),ee(),l=f[t],l?l.p(s,u):(l=f[t]=r[t](s),l.c()),b(l,1),l.m(e,null))},i(s){o||(b(l),o=!0)},o(s){k(l),o=!1},d(s){s&&p(e),f[t].d()}}}function Lk(i){let e,n,t,l,o=i[0].skill_used&&sa(i),r=i[2].length&&Uk(i),f=!i[0].skill_used&&!i[2].length&&ua();return{c(){o&&o.c(),e=I(),r&&r.c(),n=I(),f&&f.c(),t=le()},m(a,s){o&&o.m(a,s),h(a,e,s),r&&r.m(a,s),h(a,n,s),f&&f.m(a,s),h(a,t,s),l=!0},p(a,s){a[0].skill_used?o?(o.p(a,s),s&1&&b(o,1)):(o=sa(a),o.c(),b(o,1),o.m(e.parentNode,e)):o&&(x(),k(o,1,1,()=>{o=null}),ee()),a[2].length&&r.p(a,s),!a[0].skill_used&&!a[2].length?f||(f=ua(),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null)},i(a){l||(b(o),b(r),l=!0)},o(a){k(o),k(r),l=!1},d(a){o&&o.d(a),a&&p(e),r&&r.d(a),a&&p(n),f&&f.d(a),a&&p(t)}}}function Gk(i){let e,n,t=i[0].autolearn,l=[];for(let r=0;r<t.length;r+=1)l[r]=ca(Zs(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=le()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const s=Zs(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=ca(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ue(l,r),r&&p(e)}}}function sa(i){var a;let e,n,t,l=((a=i[0].difficulty)!=null?a:0)+"",o,r,f;return n=new re({props:{type:"skill",id:i[0].skill_used}}),{c(){e=g("li"),U(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(s,u){h(s,e,u),L(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(s,u){var m;const c={};u&1&&(c.id=s[0].skill_used),n.$set(c),(!f||u&1)&&l!==(l=((m=s[0].difficulty)!=null?m:0)+"")&&P(o,l)},i(s){f||(b(n.$$.fragment,s),f=!0)},o(s){k(n.$$.fragment,s),f=!1},d(s){s&&p(e),G(n)}}}function Uk(i){let e,n,t=i[2],l=[];for(let r=0;r<t.length;r+=1)l[r]=aa(Ks(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=le()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f&4){t=r[2];let a;for(a=0;a<t.length;a+=1){const s=Ks(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=aa(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ue(l,r),r&&p(e)}}}function aa(i){let e,n,t,l=i[7]+"",o,r,f;return n=new re({props:{type:"skill",id:i[10]}}),{c(){e=g("li"),U(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(a,s){h(a,e,s),L(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p:te,i(a){f||(b(n.$$.fragment,a),f=!0)},o(a){k(n.$$.fragment,a),f=!1},d(a){a&&p(e),G(n)}}}function ua(i){let e;return{c(){e=g("li"),e.textContent="At birth"},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ca(i){let e,n,t,l=i[7]+"",o,r,f;return n=new re({props:{type:"skill",id:i[10]}}),{c(){e=g("li"),U(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(a,s){h(a,e,s),L(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(a,s){const u={};s&1&&(u.id=a[10]),n.$set(u),(!f||s&1)&&l!==(l=a[7]+"")&&P(o,l)},i(a){f||(b(n.$$.fragment,a),f=!0)},o(a){k(n.$$.fragment,a),f=!1},d(a){a&&p(e),G(n)}}}function qk(i){let e,n,t,l,o=i[3],r=[];for(let a=0;a<o.length;a+=1)r[a]=_a(Js(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Written In",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ae(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=Js(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=_a(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function _a(i){let e,n,t,l,o=i[7]+"",r,f,a;return t=new re({props:{id:i[6],type:"item"}}),{c(){e=g("li"),n=g("span"),U(t.$$.fragment),l=w(" ("),r=w(o),f=w(")"),Ze(n,"white-space","nowrap")},m(s,u){h(s,e,u),d(e,n),L(t,n,null),d(n,l),d(n,r),d(n,f),a=!0},p:te,i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){k(t.$$.fragment,s),a=!1},d(s){s&&p(e),G(t)}}}function Pk(i){var ke,Xe,Me;let e,n,t,l,o,r,f,a,s,u,c,m,$=((ke=i[0].time)!=null?ke:"0 m")+"",v,y,T,E=((Xe=i[0].activity_level)!=null?Xe:"MODERATE_EXERCISE")+"",S,C,R,D,B,O,A,M,J,j,N,X,W,F,z,q,H=JSON.stringify(i[0],null,2)+"",Z,Y;function K(Oe,Ce){return Oe[1]?Ek:wk}let Q=K(i),_e=Q(i),V=i[1]&&ta(i);const ie=[Sk,Tk],he=[];function Ae(Oe,Ce){return Oe[0].skill_used?0:1}f=Ae(i),a=he[f]=ie[f](i);let ve=i[2].length&&Ck(i),fe=i[4].length&&Nk(i);function be(Oe,Ce){return Oe[0].batch_time_factors?Ak:Bk}let $e=be(i),ce=$e(i),Ge=i[0].charges&&ra(i);O=new tr({props:{requirement:i[0]}});let Te=((Me=i[0].byproducts)==null?void 0:Me.length)&&oa(i);const ge=[Dk,Mk],ye=[];function Qe(Oe,Ce){return Oe[0].autolearn?0:1}J=Qe(i),j=ye[J]=ge[J](i);let oe=i[3].length&&qk(i);return{c(){e=g("section"),n=g("h1"),_e.c(),t=I(),l=g("dl"),V&&V.c(),o=g("dt"),o.textContent="Primary Skill",r=g("dd"),a.c(),s=I(),ve&&ve.c(),u=le(),fe&&fe.c(),c=g("dt"),c.textContent="Time to Complete",m=g("dd"),v=w($),y=g("dt"),y.textContent="Activity Level",T=g("dd"),S=w(E),C=g("dt"),C.textContent="Batch Time Savings",R=g("dd"),ce.c(),D=I(),Ge&&Ge.c(),B=le(),U(O.$$.fragment),Te&&Te.c(),A=g("dt"),A.textContent=`Autolearn
    `,M=g("dd"),j.c(),N=I(),oe&&oe.c(),X=I(),W=g("details"),F=g("summary"),F.textContent="Recipe JSON",z=I(),q=g("pre"),Z=w(H),ae(A,"title","Learned at these skill levels, otherwise only learnable from a book"),ae(e,"class","recipe")},m(Oe,Ce){h(Oe,e,Ce),d(e,n),_e.m(n,null),d(e,t),d(e,l),V&&V.m(l,null),d(l,o),d(l,r),he[f].m(r,null),d(r,s),ve&&ve.m(l,null),d(l,u),fe&&fe.m(l,null),d(l,c),d(l,m),d(m,v),d(l,y),d(l,T),d(T,S),d(l,C),d(l,R),ce.m(R,null),d(R,D),Ge&&Ge.m(l,null),d(l,B),L(O,l,null),Te&&Te.m(l,null),d(l,A),d(l,M),ye[J].m(M,null),d(M,N),oe&&oe.m(l,null),d(e,X),d(e,W),d(W,F),d(W,z),d(W,q),d(q,Z),Y=!0},p(Oe,[Ce]){var Pe,Ee,Se;Q!==(Q=K(Oe))&&(_e.d(1),_e=Q(Oe),_e&&(_e.c(),_e.m(n,null))),Oe[1]?V?(V.p(Oe,Ce),Ce&2&&b(V,1)):(V=ta(Oe),V.c(),b(V,1),V.m(l,o)):V&&(x(),k(V,1,1,()=>{V=null}),ee());let ze=f;f=Ae(Oe),f===ze?he[f].p(Oe,Ce):(x(),k(he[ze],1,1,()=>{he[ze]=null}),ee(),a=he[f],a?a.p(Oe,Ce):(a=he[f]=ie[f](Oe),a.c()),b(a,1),a.m(r,s)),Oe[2].length&&ve.p(Oe,Ce),Oe[4].length&&fe.p(Oe,Ce),(!Y||Ce&1)&&$!==($=((Pe=Oe[0].time)!=null?Pe:"0 m")+"")&&P(v,$),(!Y||Ce&1)&&E!==(E=((Ee=Oe[0].activity_level)!=null?Ee:"MODERATE_EXERCISE")+"")&&P(S,E),$e===($e=be(Oe))&&ce?ce.p(Oe,Ce):(ce.d(1),ce=$e(Oe),ce&&(ce.c(),ce.m(R,D))),Oe[0].charges?Ge?Ge.p(Oe,Ce):(Ge=ra(Oe),Ge.c(),Ge.m(l,B)):Ge&&(Ge.d(1),Ge=null);const we={};Ce&1&&(we.requirement=Oe[0]),O.$set(we),(Se=Oe[0].byproducts)!=null&&Se.length?Te?(Te.p(Oe,Ce),Ce&1&&b(Te,1)):(Te=oa(Oe),Te.c(),b(Te,1),Te.m(l,A)):Te&&(x(),k(Te,1,1,()=>{Te=null}),ee());let De=J;J=Qe(Oe),J===De?ye[J].p(Oe,Ce):(x(),k(ye[De],1,1,()=>{ye[De]=null}),ee(),j=ye[J],j?j.p(Oe,Ce):(j=ye[J]=ge[J](Oe),j.c()),b(j,1),j.m(M,N)),Oe[3].length&&oe.p(Oe,Ce),(!Y||Ce&1)&&H!==(H=JSON.stringify(Oe[0],null,2)+"")&&P(Z,H)},i(Oe){Y||(b(V),b(a),b(ve),b(fe),b(O.$$.fragment,Oe),b(Te),b(j),b(oe),Y=!0)},o(Oe){k(V),k(a),k(ve),k(fe),k(O.$$.fragment,Oe),k(Te),k(j),k(oe),Y=!1},d(Oe){Oe&&p(e),_e.d(),V&&V.d(),he[f].d(),ve&&ve.d(),fe&&fe.d(),ce.d(),Ge&&Ge.d(),G(O),Te&&Te.d(),ye[J].d(),oe&&oe.d()}}}function Fk(i){return i===void 0?[]:i.length===0?[]:Array.isArray(i[0])?i:[i]}const Yk=i=>i[0]!==1,jk=([i,e])=>`${i}\xD7 ${e}`;function Hk(i,e,n){var s,u;let{recipe:t}=e,{showResult:l=!1}=e;const o=lt("data");let r=Fk(t.skills_required);const f=Array.isArray(t.book_learn)?[...t.book_learn]:[...Object.entries((s=t.book_learn)!=null?s:{})].map(([c,m])=>[c,m.skill_level]);f.sort((c,m)=>{var $,v;return(($=c[1])!=null?$:0)-((v=m[1])!=null?v:0)});const a=((u=t.proficiencies)!=null?u:[]).map(c=>{const m=o.byId("proficiency",c.proficiency);return{fail_multiplier:m.default_fail_multiplier,time_multiplier:m.default_time_multiplier,learning_time_multiplier:1,...c}});return i.$$set=c=>{"recipe"in c&&n(0,t=c.recipe),"showResult"in c&&n(1,l=c.showResult)},[t,l,r,f,a]}class Wk extends We{constructor(e){super(),He(this,e,Hk,Pk,Fe,{recipe:0,showResult:1})}}function da(i,e,n){const t=i.slice();return t[6]=e[n],t}function zk(i){let e=[],n=new Map,t,l,o=i[2];const r=f=>f[6];for(let f=0;f<o.length;f+=1){let a=da(i,o,f),s=r(a);n.set(s,e[f]=ma(s,a))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=le()},m(f,a){for(let s=0;s<e.length;s+=1)e[s].m(f,a);h(f,t,a),l=!0},p(f,a){a&5&&(o=f[2],x(),e=Sg(e,a,r,1,f,o,n,t.parentNode,Tg,ma,t,da),ee())},i(f){if(!l){for(let a=0;a<o.length;a+=1)b(e[a]);l=!0}},o(f){for(let a=0;a<e.length;a+=1)k(e[a]);l=!1},d(f){for(let a=0;a<e.length;a+=1)e[a].d(f);f&&p(t)}}}function ma(i,e){let n,t,l;return t=new Wk({props:{recipe:e[6],showResult:e[6].result!==e[0]}}),{key:i,first:null,c(){n=le(),U(t.$$.fragment),this.first=n},m(o,r){h(o,n,r),L(t,o,r),l=!0},p(o,r){e=o;const f={};r&1&&(f.showResult=e[6].result!==e[0]),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(n),G(t,o)}}}function Vk(i){let e,n,t,l,o;return l=new at({props:{items:i[3],$$slots:{default:[Xk,({item:r})=>({5:r}),({item:r})=>r?32:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Byproduct when crafting",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&544&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Xk(i){let e,n,t,l;return e=new xe({props:{item:i[1].byId("item",i[5].result)}}),t=new re({props:{type:"item",id:i[5].result}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&32&&(f.item=o[1].byId("item",o[5].result)),e.$set(f);const a={};r&32&&(a.id=o[5].result),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Jk(i){let e,n,t,l=i[2].length&&zk(i),o=i[3].length&&Vk(i);return{c(){l&&l.c(),e=I(),o&&o.c(),n=le()},m(r,f){l&&l.m(r,f),h(r,e,f),o&&o.m(r,f),h(r,n,f),t=!0},p(r,[f]){r[2].length&&l.p(r,f),r[3].length&&o.p(r,f)},i(r){t||(b(l),b(o),t=!0)},o(r){k(l),k(o),t=!1},d(r){l&&l.d(r),r&&p(e),o&&o.d(r),r&&p(n)}}}function Kk(i,e,n){let{item_id:t}=e,l=lt("data");const o=l.byType("recipe").filter(a=>a.result&&!a.obsolete);let r=o.filter(a=>a.result===t);const f=o.filter(a=>{var s;return((s=a.byproducts)!=null?s:[]).some(u=>u[0]===t)});return i.$$set=a=>{"item_id"in a&&n(0,t=a.item_id)},[t,l,r,f]}class Zk extends We{constructor(e){super(),He(this,e,Kk,Jk,Fe,{item_id:0})}}function Qk(i){let e,n,t,l,o;return l=new at({props:{items:i[0],$$slots:{default:[xk,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Salvage",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&34&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function xk(i){let e,n,t,l;return e=new xe({props:{item:i[1]}}),t=new re({props:{type:"item",id:i[1].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&2&&(f.item=o[1]),e.$set(f);const a={};r&2&&(a.id=o[1].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function ev(i){let e,n,t=i[0].length&&Qk(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function tv(i,e,n){let{item_id:t}=e,l=lt("data");const o=l.byId("item",t);function r(a){return l.byType("item").filter(s=>s.id).filter(s=>{var c;const u=typeof s.material=="string"?[s.material]:(c=s.material)!=null?c:[];return u.length===1&&u[0]===a.id})}const f=l.byType("material").filter(a=>a.id).filter(a=>a.salvaged_into===t).flatMap(a=>r(a)).filter(a=>{var s;return!((s=a.flags)!=null?s:[]).includes("NO_SALVAGE")}).filter(a=>Ui(a.weight)>=Ui(o.weight)).sort((a,s)=>pe(a).localeCompare(pe(s)));return i.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[f,o,t]}class nv extends We{constructor(e){super(),He(this,e,tv,ev,Fe,{item_id:2})}}function il(i,e){let n=[i!=null?i:1].flat();n.length===1&&(n=[n[0],n[0]]);let t=0,l=0;for(let o=n[0];o<=n[1];++o)t+=1-Math.pow(1-e,o),++l;return t/l}function Yi(i){var n,t;if(i.length===1&&((n=i[0].chance)!=null?n:1)===1)return i[0].loot;const e=new Map;for(const{loot:l,chance:o=1}of i)for(const[r,f]of l.entries()){const a=(t=e.get(r))!=null?t:0,s=f*o,u=1-(1-a)*(1-s);e.set(r,u)}return e}function lv(i,e,n){var o;const t={...i.object,rows:((o=i.object.rows)!=null?o:[]).slice(n*24,(n+1)*24).map(r=>r.slice(e*24,(e+1)*24))},l=r=>Array.isArray(r)?r[0]:r;return t.place_items&&(t.place_items=t.place_items.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),t.place_item&&(t.place_item=t.place_item.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),t.add&&(t.add=t.add.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),t.place_loot&&(t.place_loot=t.place_loot.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),t.place_nested&&(t.place_nested=t.place_nested.filter(r=>l(r.x)>=e&&l(r.y)>=n&&l(r.x)<e+24&&l(r.y)<n+24)),{...i,object:t}}const iv=typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback:function(i){var e=Date.now();return setTimeout(function(){i({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},0)};function pa(){return new Promise(i=>{iv(i,{timeout:100})})}async function _h(i){let e=await pa();return i(async()=>{e.timeRemaining()<=0&&(e=await pa())})}const cr=new WeakMap;async function rv(i){if(cr.has(i))return cr.get(i);const e=new Map,n=(r,f)=>{e.has(r)||e.set(r,[]),e.get(r).push(f)},t=i.byType("mapgen").filter(r=>r.om_terrain!=null);for(const r of t)if(typeof r.om_terrain=="string")n(r.om_terrain,r);else if(typeof r.om_terrain[0]=="string")for(const f of r.om_terrain)n(f,r);else for(let f=0;f<r.om_terrain.length;f++)for(let a=0;a<r.om_terrain[f].length;a++)n(r.om_terrain[f][a],lv(r,a,f));const l=i.byType("overmap_special"),o=new Map;return await _h(async r=>{var f,a;for(const s of l){if(s.subtype==="mutable")continue;const u=[];for(const c of(f=s.overmaps)!=null?f:[]){const m=c.overmap.replace(/_(north|east|west|south)$/,""),$=(a=e.get(m))!=null?a:[],v=ji($.map(y=>{var T;return{weight:(T=y.weight)!=null?T:1e3,loot:mh(i,y)}}));u.push(v),await r()}o.set(s.id,uv(u))}}),cr.set(i,o),o}function ov(i,e){var u;if(e.subtype==="mutable")return;const n=[...(u=e.overmaps)!=null?u:[]];let t=1/0,l=1/0,o=-1/0,r=-1/0;const f=new Map;for(const c of n){const m=c.overmap.replace(/_(north|south|east|west)$/,"");if(!i.byId("overmap_terrain",m))continue;const[$,v,y]=c.point;y===0&&($<t&&(t=$),v<l&&(l=v),$>o&&(o=$),v>r&&(r=v),f.set(`${$}|${v}`,c))}if(t===1/0||l===1/0)return;const a=[r-l,o-t];for(let c=l;c<=r;c++)for(let m=t;m<=o;m++){const $=f.get(`${m}|${c}`);if($){const v=$.overmap.replace(/_(north|south|east|west)$/,""),y=s(v);a.push(y)}else a.push("no_om")}return a.join("\0");function s(c){const m=i.byId("overmap_terrain",c);return m?`${m.sym}${m.color}${m.name}`:"appearance_unk"}}const fv=new Set(["Necropolis","Isherwood Farms","lab_mutagen_6_level","Lab_SECURITY_1x1x6","Lab_CARGO_Surface","hub_01","aircraft_carrier"]),_r=new WeakMap;function sv(i){return _r.has(i)||_r.set(i,av(i)),_r.get(i)}async function av(i){const e=await rv(i),n=new Map;return await _h(async t=>{for(const[l,o]of e.entries()){if(fv.has(l))continue;const r=ov(i,i.byId("overmap_special",l));if(!r)continue;n.has(r)||n.set(r,{loot:void 0,ids:[]});const f=n.get(r);f.loot?f.loot=ji([{loot:f.loot,weight:1},{loot:o,weight:1}]):f.loot=o,await t(),f.ids.push(l)}}),n}function ji(i){var t;const e=i.map(l=>l.weight).reduce((l,o)=>l+o,0),n=new Map;for(const{loot:l,weight:o}of i){const r=(o!=null?o:1e3)/e;for(const[f,a]of l.entries())n.set(f,((t=n.get(f))!=null?t:0)+a*r)}return n}function uv(i){var n;const e=new Map;for(const t of i)for(const[l,o]of t.entries()){const r=(n=e.get(l))!=null?n:0;e.set(l,1-(1-o)*(1-r))}return e}let dr=0;function dh(i,e){if(dr+=1,dr>4)return new Map;const n=(e!=null?e:[]).map(l=>typeof l=="string"?[l,100]:l),t=ji(n.map(([l,o])=>{var a;const r=(a=i.nestedMapgensById(l))!=null?a:[];return{loot:ji(r.map(s=>{var m;const u=mh(i,s),c=(m=s.weight)!=null?m:1e3;return{loot:u,weight:c}})),weight:o}}));return dr-=1,t}const mr=new WeakMap;function mh(i,e){var c,m,$,v,y,T,E;if(mr.has(e))return mr.get(e);const n=ph(i,e.object),t=((c=e.object.place_items)!=null?c:[]).map(({item:S,chance:C=100,repeat:R})=>({loot:Hi(i,S),chance:il(R,C/100)})),l=[...(m=e.object.place_item)!=null?m:[],...($=e.object.add)!=null?$:[]].map(({item:S,chance:C=100,repeat:R})=>({loot:new Map([[S,il(R,C/100)]])})),o=((v=e.object.place_loot)!=null?v:[]).map(({item:S,group:C,chance:R=100,repeat:D})=>({loot:S?new Map([[S,1]]):Hi(i,C),chance:il(D,R/100)})),r=((y=e.object.place_nested)!=null?y:[]).map(S=>{var B;const C=dh(i,S.chunks),R=(B=Array.isArray(S.repeat)?S.repeat[0]:S.repeat)!=null?B:1,D=new Map;for(const[O,A]of C.entries())D.set(O,1-Math.pow(1-A,R));return{loot:D}}),f=Yi([...t,...l,...o,...r]),a=new Map;for(const S of(T=e.object.rows)!=null?T:[])for(const C of S)n.has(C)&&a.set(C,((E=a.get(C))!=null?E:0)+1);const s=[];for(const[S,C]of a.entries()){const R=n.get(S),D=new Map;for(const[B,O]of R.entries())D.set(B,1-Math.pow(1-O,C));s.push({loot:D})}s.push({loot:f});const u=Yi(s);return mr.set(e,u),u}function Hi(i,e){const n=typeof e=="string"?i.byId("item_group",e):Array.isArray(e)?{subtype:"collection",entries:e}:e,t=i.flattenItemGroup(n);return new Map(t.map(({id:l,prob:o})=>[l,o]))}function cv(i){return[i].map(e=>e.flatMap(n=>[...n])).map(e=>[...U0(e)]).map(e=>e.map(([n,t])=>[n,Yi(t.map(l=>({loot:l})))])).map(e=>new Map(e))[0]}function Ti(i,e){return new Map(Object.entries(i!=null?i:{}).map(([n,t])=>[n,Yi([t].flat().flatMap(l=>[...e(l)]))]))}const pr=new WeakMap;function ph(i,e){var a;if(pr.has(e))return pr.get(e);const n=Ti(e.sealed_item,function*({item:s,items:u,chance:c=100}){var m,$;u&&(yield{loot:Hi(i,u.item),chance:il(u.repeat,c/100*(((m=u.chance)!=null?m:100)/100))}),s&&(yield{loot:new Map([[s.item,1]]),chance:il(s.repeat,c/100*((($=s.chance)!=null?$:100)/100))})}),t=Ti(e.item,function*({item:s,chance:u=100,repeat:c}){yield{loot:new Map([[s,1]]),chance:il(c,u/100)}}),l=Ti(e.items,function*({item:s,chance:u=100,repeat:c}){yield{loot:Hi(i,s),chance:il(c,u/100)}}),o=Ti(e.nested,function*({chunks:s}){yield{loot:dh(i,s),chance:1}}),r=((a=e.palettes)!=null?a:[]).flatMap(s=>typeof s!="string"?[]:[i.byId("palette",s)]).map(s=>ph(i,s)),f=cv([t,l,n,o,...r]);return pr.set(e,f),f}function ha(i,e,n){const t=i.slice();return t[11]=e[n],t}function ga(i,e,n){const t=i.slice();return t[14]=e[n],t}function ba(i){var r;let e,n=((r=i[14].sym)!=null?r:"\xA0")+"",t,l,o;return{c(){e=g("span"),t=w(n),ae(e,"class",l="c_"+i[14].color),ae(e,"title",o=i[14].name)},m(f,a){h(f,e,a),d(e,t)},p:te,d(f){f&&p(e)}}}function $a(i){let e,n,t=i[11],l=[];for(let o=0;o<t.length;o+=1)l[o]=ba(ga(i,t,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=I(),n=g("br")},m(o,r){for(let f=0;f<l.length;f+=1)l[f].m(o,r);h(o,e,r),h(o,n,r)},p(o,r){if(r&1){t=o[11];let f;for(f=0;f<t.length;f+=1){const a=ga(o,t,f);l[f]?l[f].p(a,r):(l[f]=ba(a),l[f].c(),l[f].m(e.parentNode,e))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(o){ue(l,o),o&&p(e),o&&p(n)}}}function _v(i){let e,n=i[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=$a(ha(i,n,l));return{c(){e=g("div");for(let l=0;l<t.length;l+=1)t[l].c();Ze(e,"font-family","Unifont, monospace"),Ze(e,"line-height","1"),Ze(e,"display","inline-block"),Ze(e,"white-space","pre")},m(l,o){h(l,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,[o]){if(o&1){n=l[0];let r;for(r=0;r<n.length;r+=1){const f=ha(l,n,r);t[r]?t[r].p(f,o):(t[r]=$a(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:te,o:te,d(l){l&&p(e),ue(t,l)}}}function ka(i){return i.every(e=>e.sym===" ")}function dv(i,e,n){var v;const t=lt("data");let{overmapSpecial:l}=e;const o=[...(v=l.overmaps)!=null?v:[]];let r=1/0,f=1/0,a=-1/0,s=-1/0;const u=new Map;for(const y of o){const[T,E,S]=y.point;S===0&&(T<r&&(r=T),E<f&&(f=E),T>a&&(a=T),E>s&&(s=E),u.set(`${T}|${E}`,y))}const c=[];for(let y=f;y<=s;y++){const T=[];for(let E=r;E<=a;E++){const S=u.get(`${E}|${y}`);if(S){const[,C,R]=/^(.+?)(?:_(north|south|east|west))?$/.exec(S.overmap),D=$(C,R||"north");T.push(D)}else T.push({color:"black",sym:" ",name:""})}c.push(T)}for(;c.length;){const y=c[0];if(!ka(y))break;c.shift()}for(;c.length;){const y=c[c.length-1];if(!ka(y))break;c.pop()}function m(y,T){const E=T==="north"?0:T==="east"?1:T==="south"?2:T==="west"?3:0;if(E===0)return y;const S=t.byType("rotatable_symbol").find(C=>C.tuple.some(R=>R===y));return S?S.tuple[(S.tuple.indexOf(y)+E)%S.tuple.length]:y}function $(y,T="north"){const E=t.byId("overmap_terrain",y);return E?{color:E.color,sym:m(E.sym,T),name:Vt(E.name)}:{color:"black",sym:" ",name:""}}return i.$$set=y=>{"overmapSpecial"in y&&n(1,l=y.overmapSpecial)},[c,l]}class mv extends We{constructor(e){super(),He(this,e,dv,_v,Fe,{overmapSpecial:1})}}function va(i,e,n){const t=i.slice();return t[7]=e[n],t}function pv(i){return{c:te,m:te,p:te,i:te,o:te,d:te}}function hv(i){let e,n,t=i[6].length&&gv(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,o){l[6].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function gv(i){let e,n,t,l,o,r,f,a=i[6].slice(0,i[0]),s=[];for(let m=0;m<a.length;m+=1)s[m]=ya(va(i,a,m));const u=m=>k(s[m],1,1,()=>{s[m]=null});let c=i[6].length>i[0]&&wa(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Loot",t=I(),l=g("table"),o=g("tbody");for(let m=0;m<s.length;m+=1)s[m].c();r=I(),c&&c.c(),ae(l,"class","alternating")},m(m,$){h(m,e,$),d(e,n),d(e,t),d(e,l),d(l,o);for(let v=0;v<s.length;v+=1)s[v].m(o,null);d(e,r),c&&c.m(e,null),f=!0},p(m,$){if($&7){a=m[6].slice(0,m[0]);let v;for(v=0;v<a.length;v+=1){const y=va(m,a,v);s[v]?(s[v].p(y,$),b(s[v],1)):(s[v]=ya(y),s[v].c(),b(s[v],1),s[v].m(o,null))}for(x(),v=a.length;v<s.length;v+=1)u(v);ee()}m[6].length>m[0]?c?c.p(m,$):(c=wa(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(m){if(!f){for(let $=0;$<a.length;$+=1)b(s[$]);f=!0}},o(m){s=s.filter(Boolean);for(let $=0;$<s.length;$+=1)k(s[$]);f=!1},d(m){m&&p(e),ue(s,m),c&&c.d()}}}function ya(i){let e,n,t,l,o,r,f=i[2](i[7].overmap_special)+"",a,s,u,c=Fi(i[7].chance)+"",m,$,v,y;return t=new mv({props:{overmapSpecial:i[7].overmap_special}}),{c(){e=g("tr"),n=g("td"),U(t.$$.fragment),l=I(),o=g("td"),r=g("span"),a=w(f),u=w(`
                (`),m=w(c),$=w(")"),v=I(),Ze(n,"text-align","center"),ae(r,"title",s=i[7].ids.join(", ")),Ze(o,"vertical-align","middle")},m(T,E){h(T,e,E),d(e,n),L(t,n,null),d(e,l),d(e,o),d(o,r),d(r,a),d(o,u),d(o,m),d(o,$),d(e,v),y=!0},p(T,E){const S={};E&1&&(S.overmapSpecial=T[7].overmap_special),t.$set(S),(!y||E&1)&&f!==(f=T[2](T[7].overmap_special)+"")&&P(a,f),(!y||E&1&&s!==(s=T[7].ids.join(", ")))&&ae(r,"title",s),(!y||E&1)&&c!==(c=Fi(T[7].chance)+"")&&P(m,c)},i(T){y||(b(t.$$.fragment,T),y=!0)},o(T){k(t.$$.fragment,T),y=!1},d(T){T&&p(e),G(t)}}}function wa(i){let e,n,t=Number(i[6].length).toLocaleString()+"",l,o,r,f;return{c(){e=g("button"),n=w("See all "),l=w(t),o=w("..."),ae(e,"class","disclosure")},m(a,s){h(a,e,s),d(e,n),d(e,l),d(e,o),r||(f=Cn(e,"click",i[4]),r=!0)},p:te,d(a){a&&p(e),r=!1,f()}}}function bv(i){let e;return{c(){e=g("section"),e.innerHTML=`<h1>Loot</h1> 
    <p style="color: var(--cata-color-gray)"><em>Loading...</em></p>`},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function $v(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!1,pending:bv,then:hv,catch:pv,value:6,blocks:[,,,]};return yg(i[1],t),{c(){e=le(),t.block.c()},m(l,o){h(l,e,o),t.block.m(l,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(l,[o]){i=l,wg(t,i,o)},i(l){n||(b(t.block),n=!0)},o(l){for(let o=0;o<3;o+=1){const r=t.blocks[o];k(r)}n=!1},d(l){l&&p(e),t.block.d(l),t.token=null,t=null}}}let hr=10,Ea=4;function kv(i,e,n){let{item_id:t}=e;const l=lt("data"),o=sv(l).then(s=>{const u=[];for(const{loot:c,ids:m}of s.values())if(c.has(t)){const $=c.get(t),v=l.byId("overmap_special",m[0]);u.push({overmap_special:v,ids:m,chance:$})}return u.sort((c,m)=>m.chance-c.chance),n(0,f=u.length<=hr+Ea?hr+Ea:hr),u});function r(s){var C;if(s.subtype==="mutable")return s.id;const u=((C=s.overmaps)!=null?C:[]).filter(R=>R.point[2]===0);let c=1/0,m=1/0,$=-1/0,v=-1/0;const y=new Map;for(const R of u){const[D,B]=R.point;!l.byId("overmap_terrain",R.overmap.replace(/_(north|south|east|west)$/,""))||(D<c&&(c=D),B<m&&(m=B),D>$&&($=D),B>v&&(v=B),y.set(`${D}|${B}`,R))}const T=c+Math.floor(($-c)/2),E=m+Math.floor((v-m)/2),S=y.get(`${T}|${E}`);if(S){const R=l.byId("overmap_terrain",S.overmap.replace(/_(north|south|east|west)$/,""));if(R)return pe(R)}return s.id}let f=0;const a=s=>{s.preventDefault(),n(0,f=1/0)};return i.$$set=s=>{"item_id"in s&&n(3,t=s.item_id)},[f,o,r,t,a]}class vv extends We{constructor(e){super(),He(this,e,kv,$v,Fe,{item_id:3})}}function yv(i){let e,n,t,l,o;return l=new at({props:{items:i[0],$$slots:{default:[wv,({item:{vehicle:r,prob:f}})=>({3:r,4:f}),({item:r})=>(r?8:0)|(r?16:0)]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="In Vehicle",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&56&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function wv(i){let e,n,t=Fi(i[4])+"",l,o,r;return e=new re({props:{id:i[3].id,type:"vehicle"}}),{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(f,a){L(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){const s={};a&8&&(s.id=f[3].id),e.$set(s),(!r||a&16)&&t!==(t=Fi(f[4])+"")&&P(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function Ev(i){let e,n,t=i[0].length&&yv(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function Tv(i,e,n){let{item_id:t}=e;const l=lt("data"),o=l.byType("vehicle").flatMap(r=>{const f=fh(r),s=l.flattenItemGroup(f).find(u=>u.id===t);return s?[{vehicle:r,prob:s.prob,count:s.count}]:[]});return o.sort((r,f)=>f.prob-r.prob),i.$$set=r=>{"item_id"in r&&n(1,t=r.item_id)},[o,t]}class Sv extends We{constructor(e){super(),He(this,e,Tv,Ev,Fe,{item_id:1})}}function Ta(i){let e,n,t,l,o,r,f,a,s=i[0].charges_per_use&&Sa(i),u=i[0].power_draw&&Ca(i),c=i[0].turns_per_charge&&Ia(i),m=i[0].sub&&Ra(i);return{c(){e=g("section"),n=g("h1"),n.textContent="Tool",t=I(),l=g("dl"),s&&s.c(),o=le(),u&&u.c(),r=le(),c&&c.c(),f=le(),m&&m.c()},m($,v){h($,e,v),d(e,n),d(e,t),d(e,l),s&&s.m(l,null),d(l,o),u&&u.m(l,null),d(l,r),c&&c.m(l,null),d(l,f),m&&m.m(l,null),a=!0},p($,v){$[0].charges_per_use?s?s.p($,v):(s=Sa($),s.c(),s.m(l,o)):s&&(s.d(1),s=null),$[0].power_draw?u?u.p($,v):(u=Ca($),u.c(),u.m(l,r)):u&&(u.d(1),u=null),$[0].turns_per_charge?c?c.p($,v):(c=Ia($),c.c(),c.m(l,f)):c&&(c.d(1),c=null),$[0].sub?m?(m.p($,v),v&1&&b(m,1)):(m=Ra($),m.c(),b(m,1),m.m(l,null)):m&&(x(),k(m,1,1,()=>{m=null}),ee())},i($){a||(b(m),a=!0)},o($){k(m),a=!1},d($){$&&p(e),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d()}}}function Sa(i){let e,n,t=i[0].charges_per_use+"",l;return{c(){e=g("dt"),e.textContent="Charges Per Use",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].charges_per_use+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function Ca(i){let e,n,t=(i[0].power_draw/1e3).toFixed(1)+"",l,o;return{c(){e=g("dt"),e.textContent="Power Draw",n=g("dd"),l=w(t),o=w(" W")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f&1&&t!==(t=(r[0].power_draw/1e3).toFixed(1)+"")&&P(l,t)},d(r){r&&p(e),r&&p(n)}}}function Ia(i){let e,n,t=i[0].turns_per_charge+"",l;return{c(){e=g("dt"),e.textContent="Turns Per Charge",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].turns_per_charge+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function Ra(i){let e,n,t,l;return t=new re({props:{type:"item",id:i[0].sub}}),{c(){e=g("dt"),e.textContent="Substitute",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].sub),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Cv(i){let e,n,t=(i[0].charges_per_use||i[0].sub||i[0].power_draw||i[0].turns_per_charge)&&Ta(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[0].charges_per_use||l[0].sub||l[0].power_draw||l[0].turns_per_charge?t?(t.p(l,o),o&1&&b(t,1)):(t=Ta(l),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(x(),k(t,1,1,()=>{t=null}),ee())},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function Iv(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class Rv extends We{constructor(e){super(),He(this,e,Iv,Cv,Fe,{item:0})}}function Na(i){const e=Kr(i[3].use_action).find(n=>n.target===i[0]);i[4]=e}function Nv(i){let e,n,t,l,o;return l=new at({props:{items:i[2],$$slots:{default:[Ov,({item:r})=>({3:r}),({item:r})=>r?8:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Transformed From",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&41&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Oa(i){let e=" ",n,t,l=Yo(i[4].transform_age*100)+"",o,r;return{c(){n=w(e),t=w("("),o=w(l),r=w(")")},m(f,a){h(f,n,a),h(f,t,a),h(f,o,a),h(f,r,a)},p(f,a){a&9&&l!==(l=Yo(f[4].transform_age*100)+"")&&P(o,l)},d(f){f&&p(n),f&&p(t),f&&p(o),f&&p(r)}}}function Ov(i){Na(i);let e,n,t,l,o;e=new xe({props:{item:i[1].byId("item",i[3].id)}}),t=new re({props:{type:"item",id:i[3].id}});let r=i[4].transform_age&&Oa(i);return{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment),r&&r.c(),l=le()},m(f,a){L(e,f,a),h(f,n,a),L(t,f,a),r&&r.m(f,a),h(f,l,a),o=!0},p(f,a){Na(f);const s={};a&8&&(s.item=f[1].byId("item",f[3].id)),e.$set(s);const u={};a&8&&(u.id=f[3].id),t.$set(u),f[4].transform_age?r?r.p(f,a):(r=Oa(f),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i(f){o||(b(e.$$.fragment,f),b(t.$$.fragment,f),o=!0)},o(f){k(e.$$.fragment,f),k(t.$$.fragment,f),o=!1},d(f){G(e,f),f&&p(n),G(t,f),r&&r.d(f),f&&p(l)}}}function Bv(i){let e,n,t=i[2].length&&Nv(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,[o]){l[2].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function Av(i,e,n){let{item_id:t}=e;const l=lt("data"),o=l.byType("item").filter(r=>Kr(r.use_action).some(f=>f.target===t));return i.$$set=r=>{"item_id"in r&&n(0,t=r.item_id)},[t,l,o]}class Mv extends We{constructor(e){super(),He(this,e,Av,Bv,Fe,{item_id:0})}}function Dv(i){var y,T;let e,n,t,l,o,r,f=((y=i[0].diameter)!=null?y:0)+"",a,s,u,c,m=((T=i[0].width)!=null?T:0)+"",$,v;return{c(){e=g("section"),n=g("h1"),n.textContent="Wheel",t=I(),l=g("dl"),o=g("dt"),o.textContent="Diameter",r=g("dd"),a=w(f),s=w('"'),u=g("dt"),u.textContent="Width",c=g("dd"),$=w(m),v=w('"')},m(E,S){h(E,e,S),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,a),d(r,s),d(l,u),d(l,c),d(c,$),d(c,v)},p(E,[S]){var C,R;S&1&&f!==(f=((C=E[0].diameter)!=null?C:0)+"")&&P(a,f),S&1&&m!==(m=((R=E[0].width)!=null?R:0)+"")&&P($,m)},i:te,o:te,d(E){E&&p(e)}}}function Lv(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class Gv extends We{constructor(e){super(),He(this,e,Lv,Dv,Fe,{item:0})}}function Ba(i,e,n){const t=i.slice();return t[20]=e[n],t}function Aa(i,e,n){const t=i.slice();return t[0]=e[n],t}function Ma(i,e,n){const t=i.slice();return t[25]=e[n],t}function Da(i,e,n){const t=i.slice();return t[28]=e[n][0],t[29]=e[n][1],t}function La(i,e,n){const t=i.slice();return t[28]=e[n],t}function Ga(i,e,n){const t=i.slice();return t[34]=e[n],t}function Ua(i,e,n){const t=i.slice();return t[28]=e[n].id,t[29]=e[n].count,t}function qa(i,e,n){const t=i.slice();return t[39]=e[n],t}function Pa(i,e,n){const t=i.slice();return t[42]=e[n].quality,t[43]=e[n].level,t}function Fa(i,e,n){const t=i.slice();return t[42]=e[n].quality,t[43]=e[n].level,t}function Ya(i,e,n){const t=i.slice();return t[48]=e[n],t}function ja(i,e,n){const t=i.slice();return t[51]=e[n],t}function Ha(i,e,n){const t=i.slice();return t[54]=e[n],t}function Wa(i,e,n){const t=i.slice();return t[57]=e[n].type,t[28]=e[n].id,t}function za(i,e,n){const t=i.slice();return t[60]=e[n].id,t[61]=e[n].max_charges,t}function Va(i,e,n){const t=i.slice();return t[64]=e[n],t}function Xa(i,e,n){const t=i.slice();t[67]=e[n];const l=Vt(t[67].name);return t[68]=l,t}function Ja(i){let e,n,t,l,o=i[0].variants,r=[];for(let f=0;f<o.length;f+=1)r[f]=Za(Xa(i,o,f));return{c(){e=g("dt"),e.textContent="AKA",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=I(),ae(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&1){o=f[0].variants;let s;for(s=0;s<o.length;s+=1){const u=Xa(f,o,s);r[s]?r[s].p(u,a):(r[s]=Za(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ue(r,f)}}}function Ka(i){let e,n=Vt(i[67].name)+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o[0]&1&&n!==(n=Vt(l[67].name)+"")&&P(t,n)},d(l){l&&p(e)}}}function Za(i){let e=i[68]!==pe(i[0]),n,t=e&&Ka(i);return{c(){t&&t.c(),n=le()},m(l,o){t&&t.m(l,o),h(l,n,o)},p(l,o){o[0]&1&&(e=l[68]!==pe(l[0])),e?t?t.p(l,o):(t=Ka(l),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&p(n)}}}function Uv(i){let e,n,t,l,o,r=i[5],f=[];for(let s=0;s<r.length;s+=1)f[s]=Qa(Va(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Material",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&96){r=s[5];let c;for(c=0;c<r.length;c+=1){const m=Va(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Qa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function qv(i){var f;let e=" ",n,t,l=(((f=i[64].portion)!=null?f:1)/i[6]*100).toFixed(0)+"",o,r;return{c(){n=w(e),t=w("("),o=w(l),r=w("%)")},m(a,s){h(a,n,s),h(a,t,s),h(a,o,s),h(a,r,s)},p:te,d(a){a&&p(n),a&&p(t),a&&p(o),a&&p(r)}}}function Qa(i){let e,n,t,l;n=new re({props:{type:"material",id:i[64].type}});let o=i[5].length>1&&qv(i);return{c(){e=g("li"),U(n.$$.fragment),o&&o.c(),t=I()},m(r,f){h(r,e,f),L(n,e,null),o&&o.m(e,null),d(e,t),l=!0},p(r,f){r[5].length>1&&o.p(r,f)},i(r){l||(b(n.$$.fragment,r),l=!0)},o(r){k(n.$$.fragment,r),l=!1},d(r){r&&p(e),G(n),o&&o.d()}}}function Pv(i){let e,n,t,l,o,r=i[12].map(i[18]),f=[];for(let s=0;s<r.length;s+=1)f[s]=xa(za(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Ammo",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","no-bullets")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&6145){r=s[12].map(s[18]);let c;for(c=0;c<r.length;c+=1){const m=za(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=xa(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function xa(i){let e,n=i[61]+"",t,l,o=i[0].type==="GUN"?"round":"charge",r,f=i[61]===1?"":"s",a,s,u,c,m;return u=new re({props:{type:"ammunition_type",id:i[60]}}),{c(){e=g("li"),t=w(n),l=I(),r=w(o),a=w(f),s=w(` of
                  `),U(u.$$.fragment),c=I()},m($,v){h($,e,v),d(e,t),d(e,l),d(e,r),d(e,a),d(e,s),L(u,e,null),d(e,c),m=!0},p($,v){(!m||v[0]&1)&&o!==(o=$[0].type==="GUN"?"round":"charge")&&P(r,o)},i($){m||(b(u.$$.fragment,$),m=!0)},o($){k(u.$$.fragment,$),m=!1},d($){$&&p(e),G(u)}}}function Fv(i){let e,n,t,l,o,r=i[10],f=[];for(let s=0;s<r.length;s+=1)f[s]=eu(Wa(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Compatible Magazines",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1024){r=s[10];let c;for(c=0;c<r.length;c+=1){const m=Wa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=eu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function eu(i){let e,n,t;return n=new re({props:{type:i[57],id:i[28]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function tu(i){let e,n,t,l,o,r=i[0].weapon_category,f=[];for(let s=0;s<r.length;s+=1)f[s]=nu(Ha(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Category",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1){r=s[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const m=Ha(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=nu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function nu(i){let e,n,t;return n=new re({props:{type:"weapon_category",id:i[54]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[54]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function lu(i){let e;return{c(){e=g("li"),e.innerHTML="<em>none</em>"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function iu(i){let e,n,t;return n=new re({props:{type:"json_flag",id:i[51].id}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Yv(i){let e,n,t,l,o,r=i[8],f=[];for(let s=0;s<r.length;s+=1)f[s]=ru(Ya(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Possible Faults",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&256){r=s[8];let c;for(c=0;c<r.length;c+=1){const m=Ya(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ru(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function ru(i){let e,n,t;return n=new re({props:{type:"fault",id:i[48].id}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function jv(i){let e,n,t,l,o,r,f=i[3],a=[];for(let $=0;$<f.length;$+=1)a[$]=ou(Fa(i,f,$));const s=$=>k(a[$],1,1,()=>{a[$]=null});let u=i[4],c=[];for(let $=0;$<u.length;$+=1)c[$]=fu(Pa(i,u,$));const m=$=>k(c[$],1,1,()=>{c[$]=null});return{c(){e=g("dt"),e.textContent="Qualities",n=g("dd"),t=g("ul");for(let $=0;$<a.length;$+=1)a[$].c();l=I();for(let $=0;$<c.length;$+=1)c[$].c();o=I(),ae(t,"class","no-bullets")},m($,v){h($,e,v),h($,n,v),d(n,t);for(let y=0;y<a.length;y+=1)a[y].m(t,null);d(t,l);for(let y=0;y<c.length;y+=1)c[y].m(t,null);d(n,o),r=!0},p($,v){if(v[0]&8){f=$[3];let y;for(y=0;y<f.length;y+=1){const T=Fa($,f,y);a[y]?(a[y].p(T,v),b(a[y],1)):(a[y]=ou(T),a[y].c(),b(a[y],1),a[y].m(t,l))}for(x(),y=f.length;y<a.length;y+=1)s(y);ee()}if(v[0]&16){u=$[4];let y;for(y=0;y<u.length;y+=1){const T=Pa($,u,y);c[y]?(c[y].p(T,v),b(c[y],1)):(c[y]=fu(T),c[y].c(),b(c[y],1),c[y].m(t,null))}for(x(),y=u.length;y<c.length;y+=1)m(y);ee()}},i($){if(!r){for(let v=0;v<f.length;v+=1)b(a[v]);for(let v=0;v<u.length;v+=1)b(c[v]);r=!0}},o($){a=a.filter(Boolean);for(let v=0;v<a.length;v+=1)k(a[v]);c=c.filter(Boolean);for(let v=0;v<c.length;v+=1)k(c[v]);r=!1},d($){$&&p(e),$&&p(n),ue(a,$),ue(c,$)}}}function ou(i){let e,n,t,l=i[43]+"",o,r,f,a,s;return f=new re({props:{type:"tool_quality",id:i[42].id}}),{c(){e=g("li"),n=w("Has level "),t=g("strong"),o=w(l),r=I(),U(f.$$.fragment),a=w(" quality.")},m(u,c){h(u,e,c),d(e,n),d(e,t),d(t,o),d(t,r),L(f,t,null),d(e,a),s=!0},p:te,i(u){s||(b(f.$$.fragment,u),s=!0)},o(u){k(f.$$.fragment,u),s=!1},d(u){u&&p(e),G(f)}}}function fu(i){let e,n,t,l=i[43]+"",o,r,f,a,s;return f=new re({props:{type:"tool_quality",id:i[42].id}}),{c(){e=g("li"),n=w("Has level "),t=g("strong"),o=w(l),r=I(),U(f.$$.fragment),a=w(` quality
                  (when charged).
                `)},m(u,c){h(u,e,c),d(e,n),d(e,t),d(t,o),d(t,r),L(f,t,null),d(e,a),s=!0},p:te,i(u){s||(b(f.$$.fragment,u),s=!0)},o(u){k(f.$$.fragment,u),s=!1},d(u){u&&p(e),G(f)}}}function Hv(i){let e,n,t,l,o,r=i[15],f=[];for(let s=0;s<r.length;s+=1)f[s]=su(qa(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Vehicle Parts",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&32768){r=s[15];let c;for(c=0;c<r.length;c+=1){const m=qa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=su(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function su(i){let e,n,t;return n=new re({props:{type:"vehicle_part",id:i[39].id}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Wv(i){var c,m;let e,n,t,l,o,r,f=i[14].components,a=[];for(let $=0;$<f.length;$+=1)a[$]=au(Ua(i,f,$));const s=$=>k(a[$],1,1,()=>{a[$]=null});let u=(((c=i[14].qualities)==null?void 0:c.length)||((m=i[14].tools)==null?void 0:m.length))&&zv(i);return{c(){e=g("dt"),e.textContent="Disassembles Into",n=g("dd"),t=g("ul");for(let $=0;$<a.length;$+=1)a[$].c();l=I(),u&&u.c(),o=I(),ae(t,"class","comma-separated")},m($,v){h($,e,v),h($,n,v),d(n,t);for(let y=0;y<a.length;y+=1)a[y].m(t,null);d(n,l),u&&u.m(n,null),d(n,o),r=!0},p($,v){var y,T;if(v[0]&16384){f=$[14].components;let E;for(E=0;E<f.length;E+=1){const S=Ua($,f,E);a[E]?(a[E].p(S,v),b(a[E],1)):(a[E]=au(S),a[E].c(),b(a[E],1),a[E].m(t,null))}for(x(),E=f.length;E<a.length;E+=1)s(E);ee()}(((y=$[14].qualities)==null?void 0:y.length)||((T=$[14].tools)==null?void 0:T.length))&&u.p($,v)},i($){if(!r){for(let v=0;v<f.length;v+=1)b(a[v]);b(u),r=!0}},o($){a=a.filter(Boolean);for(let v=0;v<a.length;v+=1)k(a[v]);k(u),r=!1},d($){$&&p(e),$&&p(n),ue(a,$),u&&u.d()}}}function au(i){let e,n,t;return n=new re({props:{id:i[28],count:i[29],type:"item"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function zv(i){let e,n,t;return n=new ch({props:{requirement:i[13],direction:"uncraft"}}),{c(){e=g("dl"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Vv(i){let e,n,t,l,o=i[16],r=[];for(let a=0;a<o.length;a+=1)r[a]=uu(Ga(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Usage",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ae(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s[0]&65538){o=a[16];let u;for(u=0;u<o.length;u+=1){const c=Ga(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=uu(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function Xv(i){let e=" ",n,t,l,o,r;return l=new re({props:{type:"item",id:i[34].target}}),{c(){n=w(e),t=w(`(\u27F9
                    `),U(l.$$.fragment),o=w(")")},m(f,a){h(f,n,a),h(f,t,a),L(l,f,a),h(f,o,a),r=!0},p:te,i(f){r||(b(l.$$.fragment,f),r=!0)},o(f){k(l.$$.fragment,f),r=!1},d(f){f&&p(n),f&&p(t),G(l,f),f&&p(o)}}}function uu(i){var f;let e,n=((f=i[34].menu_text)!=null?f:pe(i[1].byId("item_action",i[34].type)))+"",t,l,o,r=(i[34].type==="transform"||i[34].type==="delayed_transform")&&Xv(i);return{c(){e=g("li"),t=w(n),r&&r.c(),l=I()},m(a,s){h(a,e,s),d(e,t),r&&r.m(e,null),d(e,l),o=!0},p(a,s){(a[34].type==="transform"||a[34].type==="delayed_transform")&&r.p(a,s)},i(a){o||(b(r),o=!0)},o(a){k(r),o=!1},d(a){a&&p(e),r&&r.d()}}}function Jv(i){let e,n;return e=new M0({props:{picture:i[17]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:te,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function cu(i){let e,n;return e=new Xb({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function _u(i){let e,n,t,l;const o=[Zv,Kv],r=[];function f(a,s){var u;return(u=a[1].build_number)!=null&&u.startsWith("0.F")?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Kv(i){let e,n;return e=new ob({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Zv(i){let e,n;return e=new Lb({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function du(i){let e,n;return e=new Hb({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function mu(i){let e,n;return e=new Rv({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function pu(i){let e,n,t,l,o,r,f=i[0].displacement+"",a,s;return{c(){e=g("section"),n=g("h1"),n.textContent="Engine",t=I(),l=g("dl"),o=g("dt"),o.textContent="Displacement",r=g("dd"),a=w(f),s=w(" cc")},m(u,c){h(u,e,c),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,a),d(r,s)},p(u,c){c[0]&1&&f!==(f=u[0].displacement+"")&&P(a,f)},d(u){u&&p(e)}}}function hu(i){let e,n;return e=new xb({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function gu(i){let e,n;return e=new Gv({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function bu(i){let e,n;return e=new lk({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function $u(i){var E;let e,n,t,l,o,r,f,a,s,u,c=i[0].seed_data.grow+"",m,$,v=[i[0].seed_data.fruit].concat((E=i[0].seed_data.byproducts)!=null?E:[]),y=[];for(let S=0;S<v.length;S+=1)y[S]=ku(La(i,v,S));const T=S=>k(y[S],1,1,()=>{y[S]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Grows Into",t=I(),l=g("dl"),o=g("dt"),o.textContent="Harvest Results",r=g("dd"),f=g("ul");for(let S=0;S<y.length;S+=1)y[S].c();a=I(),s=g("dt"),s.textContent="Growing Time",u=g("dd"),m=w(c),ae(f,"class","comma-separated")},m(S,C){h(S,e,C),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r),d(r,f);for(let R=0;R<y.length;R+=1)y[R].m(f,null);d(r,a),d(l,s),d(l,u),d(u,m),$=!0},p(S,C){var R;if(C[0]&1){v=[S[0].seed_data.fruit].concat((R=S[0].seed_data.byproducts)!=null?R:[]);let D;for(D=0;D<v.length;D+=1){const B=La(S,v,D);y[D]?(y[D].p(B,C),b(y[D],1)):(y[D]=ku(B),y[D].c(),b(y[D],1),y[D].m(f,null))}for(x(),D=v.length;D<y.length;D+=1)T(D);ee()}(!$||C[0]&1)&&c!==(c=S[0].seed_data.grow+"")&&P(m,c)},i(S){if(!$){for(let C=0;C<v.length;C+=1)b(y[C]);$=!0}},o(S){y=y.filter(Boolean);for(let C=0;C<y.length;C+=1)k(y[C]);$=!1},d(S){S&&p(e),ue(y,S)}}}function ku(i){let e,n,t;return n=new re({props:{type:"item",id:i[28]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[28]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function vu(i){let e,n,t,l,o,r;n=new ak({props:{item:i[0]}});const f=[xv,Qv],a=[];function s(u,c){return u[0].type==="GUN"?0:u[0].type==="AMMO"?1:-1}return~(l=s(i))&&(o=a[l]=f[l](i)),{c(){e=g("div"),U(n.$$.fragment),t=I(),o&&o.c(),ae(e,"class","side-by-side")},m(u,c){h(u,e,c),L(n,e,null),d(e,t),~l&&a[l].m(e,null),r=!0},p(u,c){const m={};c[0]&1&&(m.item=u[0]),n.$set(m);let $=l;l=s(u),l===$?~l&&a[l].p(u,c):(o&&(x(),k(a[$],1,1,()=>{a[$]=null}),ee()),~l?(o=a[l],o?o.p(u,c):(o=a[l]=f[l](u),o.c()),b(o,1),o.m(e,null)):o=null)},i(u){r||(b(n.$$.fragment,u),b(o),r=!0)},o(u){k(n.$$.fragment,u),k(o),r=!1},d(u){u&&p(e),G(n),~l&&a[l].d()}}}function Qv(i){let e,n;return e=new G0({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function xv(i){let e,n;return e=new V$({props:{item:i[0]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function ey(i){let e,n,t,l,o=i[9].filter(Su),r=[];for(let a=0;a<o.length;a+=1)r[a]=Tu(Ba(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Pockets",t=I();for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){h(a,e,s),d(e,n),d(e,t);for(let u=0;u<r.length;u+=1)r[u].m(e,null);l=!0},p(a,s){if(s[0]&512){o=a[9].filter(Su);let u;for(u=0;u<o.length;u+=1){const c=Ba(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Tu(c),r[u].c(),b(r[u],1),r[u].m(e,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),ue(r,a)}}}function ty(i){let e,n,t=i[20].max_contains_volume+"",l;return{c(){e=g("dt"),e.textContent="Volume Capacity",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function ny(i){let e,n,t=i[20].max_contains_weight+"",l;return{c(){e=g("dt"),e.textContent="Weight Capacity",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function ly(i){let e,n,t,l,o,r=[...Object.entries(i[20].ammo_restriction)],f=[];for(let s=0;s<r.length;s+=1)f[s]=yu(Da(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Ammo Restriction",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&512){r=[...Object.entries(s[20].ammo_restriction)];let c;for(c=0;c<r.length;c+=1){const m=Da(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=yu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function yu(i){let e,n=i[29]+"",t,l,o=i[29]===1?"":"s",r,f,a,s,u;return a=new re({props:{id:i[28],type:"ammunition_type"}}),{c(){e=g("li"),t=w(n),l=w(" round"),r=w(o),f=w(" of "),U(a.$$.fragment),s=I()},m(c,m){h(c,e,m),d(e,t),d(e,l),d(e,r),d(e,f),L(a,e,null),d(e,s),u=!0},p:te,i(c){u||(b(a.$$.fragment,c),u=!0)},o(c){k(a.$$.fragment,c),u=!1},d(c){c&&p(e),G(a)}}}function iy(i){let e,n,t=i[20].max_item_length+"",l;return{c(){e=g("dt"),e.textContent="Max Item Length",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function ry(i){let e,n,t=i[20].min_item_volume+"",l;return{c(){e=g("dt"),e.textContent="Min Item Volume",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function oy(i){let e,n;return{c(){e=g("dt"),e.textContent="Max Items",n=g("dd"),n.textContent="1"},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function fy(i){let e,n,t=i[20].sealed_data.spoil_multiplier+"",l;return{c(){e=g("dt"),e.textContent="Spoil Multiplier",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function sy(i){let e,n,t,l,o,r=i[20].flag_restriction,f=[];for(let s=0;s<r.length;s+=1)f[s]=wu(Ma(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Flag Restriction",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&512){r=s[20].flag_restriction;let c;for(c=0;c<r.length;c+=1){const m=Ma(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=wu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function wu(i){let e,n,t;return n=new re({props:{type:"json_flag",id:i[25]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function ay(i){let e,n,t,l,o,r=i[20].item_restriction,f=[];for(let s=0;s<r.length;s+=1)f[s]=Eu(Aa(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Item Restriction",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&512){r=s[20].item_restriction;let c;for(c=0;c<r.length;c+=1){const m=Aa(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Eu(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Eu(i){let e,n,t;return n=new re({props:{type:"item",id:i[0]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Tu(i){var O,A;let e,n,t,l,o,r,f,a=i[20].moves+"",s,u,c,m,$,v=i[20].max_contains_volume!=null&&ty(i),y=i[20].max_contains_weight!=null&&ny(i),T=i[20].ammo_restriction&&ly(i),E=i[20].max_item_length&&iy(i),S=i[20].min_item_volume!=="0 ml"&&ry(i),C=i[20].holster&&oy(),R=((A=(O=i[20].sealed_data)==null?void 0:O.spoil_multiplier)!=null?A:1)!==1&&fy(i),D=i[20].flag_restriction&&sy(i),B=i[20].item_restriction&&ay(i);return{c(){e=g("dl"),v&&v.c(),n=le(),y&&y.c(),t=le(),T&&T.c(),l=le(),E&&E.c(),o=le(),S&&S.c(),r=g("dt"),r.textContent="Moves to Remove Item",f=g("dd"),s=w(a),C&&C.c(),u=le(),R&&R.c(),c=le(),D&&D.c(),m=le(),B&&B.c()},m(M,J){h(M,e,J),v&&v.m(e,null),d(e,n),y&&y.m(e,null),d(e,t),T&&T.m(e,null),d(e,l),E&&E.m(e,null),d(e,o),S&&S.m(e,null),d(e,r),d(e,f),d(f,s),C&&C.m(e,null),d(e,u),R&&R.m(e,null),d(e,c),D&&D.m(e,null),d(e,m),B&&B.m(e,null),$=!0},p(M,J){var j,N;M[20].max_contains_volume!=null&&v.p(M,J),M[20].max_contains_weight!=null&&y.p(M,J),M[20].ammo_restriction&&T.p(M,J),M[20].max_item_length&&E.p(M,J),M[20].min_item_volume!=="0 ml"&&S.p(M,J),((N=(j=M[20].sealed_data)==null?void 0:j.spoil_multiplier)!=null?N:1)!==1&&R.p(M,J),M[20].flag_restriction&&D.p(M,J),M[20].item_restriction&&B.p(M,J)},i(M){$||(b(T),b(D),b(B),$=!0)},o(M){k(T),k(D),k(B),$=!1},d(M){M&&p(e),v&&v.d(),y&&y.d(),T&&T.d(),E&&E.d(),S&&S.d(),C&&C.d(),R&&R.d(),D&&D.d(),B&&B.d()}}}function uy(i){var zn,Bn;let e,n,t,l=pe(i[0])+"",o,r,f,a,s,u,c,m,$,v,y,T=xn(i[0].volume)+"",E,S,C,R=yl(i[0].weight)+"",D,B,O,A=i[2](i[0])+"",M,J,j,N,X,W,F,z,q,H,Z,Y,K,Q=Vt(i[0].description)+"",_e,V,ie,he,Ae,ve,fe,be,$e,ce,Ge,Te,ge,ye,Qe=i[9].filter(_y).length,oe,ke,Xe,Me,Oe,Ce,ze,we,De,Pe,Ee,Se,Be,Ue,Ve,rt,ft,ct,_t,bt,Ht,un,St,et,nt,Ne,je,yt,mt,At,wt,pt;n=new xe({props:{item:i[0]}});let ut=((zn=i[0].variants)==null?void 0:zn.length)&&Ja(i),Ct=i[5].length&&Uv(i),It=i[12].length&&Pv(i),$t=i[10].length&&Fv(i),Et=((Bn=i[0].weapon_category)==null?void 0:Bn.length)&&tu(i),qt=i[7],it=[];for(let ne=0;ne<qt.length;ne+=1)it[ne]=iu(ja(i,qt,ne));const Nn=ne=>k(it[ne],1,1,()=>{it[ne]=null});let ht=null;qt.length||(ht=lu());let zt=i[8].length&&Yv(i),Je=(i[3].length||i[4].length)&&jv(i),cn=i[15].length&&Hv(i),Rt=i[14]&&Wv(i),Pt=i[16].length&&Vv(i),gt=i[17]&&Jv(i),Gt=i[0].type==="BOOK"&&cu(i),dt=(i[0].type==="ARMOR"||i[0].type==="TOOL_ARMOR")&&_u(i),ot=i[0].type==="BIONIC_ITEM"&&du(i),st=(i[0].type==="TOOL"||i[0].type==="TOOL_ARMOR")&&mu(i),Nt=i[0].type==="ENGINE"&&i[0].displacement&&pu(i),Ot=i[0].type==="COMESTIBLE"&&hu(i),Dt=i[0].type==="WHEEL"&&gu(i),Ut=i[0].type==="MAGAZINE"&&bu(i),Ft=i[0].seed_data&&$u(i),Lt=(i[0].bashing||i[0].cutting||i[0].type==="GUN"||i[0].type==="AMMO")&&vu(i),_n=Qe&&ey(i);return ke=new u$({props:{item_id:i[0].id}}),ze=new Zk({props:{item_id:i[0].id}}),De=new M$({props:{item_id:i[0].id}}),Ee=new q$({props:{item_id:i[0].id}}),Be=new H$({props:{item_id:i[0].id}}),Ve=new Q$({props:{item_id:i[0].id}}),ft=new Mv({props:{item_id:i[0].id}}),_t=new T$({props:{item_id:i[0].id}}),Ht=new nv({props:{item_id:i[0].id}}),St=new p$({props:{item_id:i[0].id}}),nt=new k$({props:{item_id:i[0].id}}),je=new Fb({props:{item_id:i[0].id}}),mt=new vv({props:{item_id:i[0].id}}),wt=new Sv({props:{item_id:i[0].id}}),{c(){e=g("h1"),U(n.$$.fragment),t=I(),o=w(l),r=I(),f=g("section"),a=g("h1"),a.textContent="General",s=I(),u=g("div"),c=g("div"),m=g("dl"),ut&&ut.c(),$=le(),Ct&&Ct.c(),v=g("dt"),v.textContent="Volume",y=g("dd"),E=w(T),S=g("dt"),S.textContent="Weight",C=g("dd"),D=w(R),B=g("dt"),B.textContent="Length",O=g("dd"),M=w(A),It&&It.c(),J=le(),$t&&$t.c(),j=le(),Et&&Et.c(),N=g("dt"),N.textContent="Flags",X=g("dd"),W=g("ul");for(let ne=0;ne<it.length;ne+=1)it[ne].c();ht&&ht.c(),F=I(),zt&&zt.c(),z=le(),Je&&Je.c(),q=le(),cn&&cn.c(),H=le(),Rt&&Rt.c(),Z=le(),Pt&&Pt.c(),Y=I(),K=g("p"),_e=w(Q),V=I(),ie=g("div"),gt&&gt.c(),he=I(),Gt&&Gt.c(),Ae=I(),dt&&dt.c(),ve=I(),ot&&ot.c(),fe=I(),st&&st.c(),be=I(),Nt&&Nt.c(),$e=I(),Ot&&Ot.c(),ce=I(),Dt&&Dt.c(),Ge=I(),Ut&&Ut.c(),Te=I(),Ft&&Ft.c(),ge=I(),Lt&&Lt.c(),ye=I(),_n&&_n.c(),oe=I(),U(ke.$$.fragment),Xe=I(),Me=g("div"),Oe=g("h2"),Oe.textContent="Obtaining",Ce=I(),U(ze.$$.fragment),we=I(),U(De.$$.fragment),Pe=I(),U(Ee.$$.fragment),Se=I(),U(Be.$$.fragment),Ue=I(),U(Ve.$$.fragment),rt=I(),U(ft.$$.fragment),ct=I(),U(_t.$$.fragment),bt=I(),U(Ht.$$.fragment),un=I(),U(St.$$.fragment),et=I(),U(nt.$$.fragment),Ne=I(),U(je.$$.fragment),yt=I(),U(mt.$$.fragment),At=I(),U(wt.$$.fragment),ae(W,"class","comma-separated"),Ze(K,"color","var(--cata-color-gray)"),Ze(K,"margin-bottom","0"),ae(u,"class","side-by-side no-margin"),ae(Oe,"class","svelte-18ijh8q"),ae(Me,"class","hide-header-if-no-sections svelte-18ijh8q")},m(ne,Re){h(ne,e,Re),L(n,e,null),d(e,t),d(e,o),h(ne,r,Re),h(ne,f,Re),d(f,a),d(f,s),d(f,u),d(u,c),d(c,m),ut&&ut.m(m,null),d(m,$),Ct&&Ct.m(m,null),d(m,v),d(m,y),d(y,E),d(m,S),d(m,C),d(C,D),d(m,B),d(m,O),d(O,M),It&&It.m(m,null),d(m,J),$t&&$t.m(m,null),d(m,j),Et&&Et.m(m,null),d(m,N),d(m,X),d(X,W);for(let $n=0;$n<it.length;$n+=1)it[$n].m(W,null);ht&&ht.m(W,null),d(X,F),zt&&zt.m(m,null),d(m,z),Je&&Je.m(m,null),d(m,q),cn&&cn.m(m,null),d(m,H),Rt&&Rt.m(m,null),d(m,Z),Pt&&Pt.m(m,null),d(c,Y),d(c,K),d(K,_e),d(u,V),d(u,ie),gt&&gt.m(ie,null),h(ne,he,Re),Gt&&Gt.m(ne,Re),h(ne,Ae,Re),dt&&dt.m(ne,Re),h(ne,ve,Re),ot&&ot.m(ne,Re),h(ne,fe,Re),st&&st.m(ne,Re),h(ne,be,Re),Nt&&Nt.m(ne,Re),h(ne,$e,Re),Ot&&Ot.m(ne,Re),h(ne,ce,Re),Dt&&Dt.m(ne,Re),h(ne,Ge,Re),Ut&&Ut.m(ne,Re),h(ne,Te,Re),Ft&&Ft.m(ne,Re),h(ne,ge,Re),Lt&&Lt.m(ne,Re),h(ne,ye,Re),_n&&_n.m(ne,Re),h(ne,oe,Re),L(ke,ne,Re),h(ne,Xe,Re),h(ne,Me,Re),d(Me,Oe),d(Me,Ce),L(ze,Me,null),d(Me,we),L(De,Me,null),d(Me,Pe),L(Ee,Me,null),d(Me,Se),L(Be,Me,null),d(Me,Ue),L(Ve,Me,null),d(Me,rt),L(ft,Me,null),d(Me,ct),L(_t,Me,null),d(Me,bt),L(Ht,Me,null),d(Me,un),L(St,Me,null),d(Me,et),L(nt,Me,null),d(Me,Ne),L(je,Me,null),d(Me,yt),L(mt,Me,null),d(Me,At),L(wt,Me,null),pt=!0},p(ne,Re){var Zt,Qt;const $n={};if(Re[0]&1&&($n.item=ne[0]),n.$set($n),(!pt||Re[0]&1)&&l!==(l=pe(ne[0])+"")&&P(o,l),(Zt=ne[0].variants)!=null&&Zt.length?ut?ut.p(ne,Re):(ut=Ja(ne),ut.c(),ut.m(m,$)):ut&&(ut.d(1),ut=null),ne[5].length&&Ct.p(ne,Re),(!pt||Re[0]&1)&&T!==(T=xn(ne[0].volume)+"")&&P(E,T),(!pt||Re[0]&1)&&R!==(R=yl(ne[0].weight)+"")&&P(D,R),(!pt||Re[0]&1)&&A!==(A=ne[2](ne[0])+"")&&P(M,A),ne[12].length&&It.p(ne,Re),ne[10].length&&$t.p(ne,Re),(Qt=ne[0].weapon_category)!=null&&Qt.length?Et?(Et.p(ne,Re),Re[0]&1&&b(Et,1)):(Et=tu(ne),Et.c(),b(Et,1),Et.m(m,N)):Et&&(x(),k(Et,1,1,()=>{Et=null}),ee()),Re[0]&128){qt=ne[7];let vt;for(vt=0;vt<qt.length;vt+=1){const xt=ja(ne,qt,vt);it[vt]?(it[vt].p(xt,Re),b(it[vt],1)):(it[vt]=iu(xt),it[vt].c(),b(it[vt],1),it[vt].m(W,null))}for(x(),vt=qt.length;vt<it.length;vt+=1)Nn(vt);ee(),!qt.length&&ht?ht.p(ne,Re):qt.length?ht&&(ht.d(1),ht=null):(ht=lu(),ht.c(),ht.m(W,null))}ne[8].length&&zt.p(ne,Re),(ne[3].length||ne[4].length)&&Je.p(ne,Re),ne[15].length&&cn.p(ne,Re),ne[14]&&Rt.p(ne,Re),ne[16].length&&Pt.p(ne,Re),(!pt||Re[0]&1)&&Q!==(Q=Vt(ne[0].description)+"")&&P(_e,Q),ne[17]&&gt.p(ne,Re),ne[0].type==="BOOK"?Gt?(Gt.p(ne,Re),Re[0]&1&&b(Gt,1)):(Gt=cu(ne),Gt.c(),b(Gt,1),Gt.m(Ae.parentNode,Ae)):Gt&&(x(),k(Gt,1,1,()=>{Gt=null}),ee()),ne[0].type==="ARMOR"||ne[0].type==="TOOL_ARMOR"?dt?(dt.p(ne,Re),Re[0]&1&&b(dt,1)):(dt=_u(ne),dt.c(),b(dt,1),dt.m(ve.parentNode,ve)):dt&&(x(),k(dt,1,1,()=>{dt=null}),ee()),ne[0].type==="BIONIC_ITEM"?ot?(ot.p(ne,Re),Re[0]&1&&b(ot,1)):(ot=du(ne),ot.c(),b(ot,1),ot.m(fe.parentNode,fe)):ot&&(x(),k(ot,1,1,()=>{ot=null}),ee()),ne[0].type==="TOOL"||ne[0].type==="TOOL_ARMOR"?st?(st.p(ne,Re),Re[0]&1&&b(st,1)):(st=mu(ne),st.c(),b(st,1),st.m(be.parentNode,be)):st&&(x(),k(st,1,1,()=>{st=null}),ee()),ne[0].type==="ENGINE"&&ne[0].displacement?Nt?Nt.p(ne,Re):(Nt=pu(ne),Nt.c(),Nt.m($e.parentNode,$e)):Nt&&(Nt.d(1),Nt=null),ne[0].type==="COMESTIBLE"?Ot?(Ot.p(ne,Re),Re[0]&1&&b(Ot,1)):(Ot=hu(ne),Ot.c(),b(Ot,1),Ot.m(ce.parentNode,ce)):Ot&&(x(),k(Ot,1,1,()=>{Ot=null}),ee()),ne[0].type==="WHEEL"?Dt?(Dt.p(ne,Re),Re[0]&1&&b(Dt,1)):(Dt=gu(ne),Dt.c(),b(Dt,1),Dt.m(Ge.parentNode,Ge)):Dt&&(x(),k(Dt,1,1,()=>{Dt=null}),ee()),ne[0].type==="MAGAZINE"?Ut?(Ut.p(ne,Re),Re[0]&1&&b(Ut,1)):(Ut=bu(ne),Ut.c(),b(Ut,1),Ut.m(Te.parentNode,Te)):Ut&&(x(),k(Ut,1,1,()=>{Ut=null}),ee()),ne[0].seed_data?Ft?(Ft.p(ne,Re),Re[0]&1&&b(Ft,1)):(Ft=$u(ne),Ft.c(),b(Ft,1),Ft.m(ge.parentNode,ge)):Ft&&(x(),k(Ft,1,1,()=>{Ft=null}),ee()),ne[0].bashing||ne[0].cutting||ne[0].type==="GUN"||ne[0].type==="AMMO"?Lt?(Lt.p(ne,Re),Re[0]&1&&b(Lt,1)):(Lt=vu(ne),Lt.c(),b(Lt,1),Lt.m(ye.parentNode,ye)):Lt&&(x(),k(Lt,1,1,()=>{Lt=null}),ee()),Qe&&_n.p(ne,Re);const An={};Re[0]&1&&(An.item_id=ne[0].id),ke.$set(An);const Mn={};Re[0]&1&&(Mn.item_id=ne[0].id),ze.$set(Mn);const Dn={};Re[0]&1&&(Dn.item_id=ne[0].id),De.$set(Dn);const Ln={};Re[0]&1&&(Ln.item_id=ne[0].id),Ee.$set(Ln);const Gn={};Re[0]&1&&(Gn.item_id=ne[0].id),Be.$set(Gn);const Un={};Re[0]&1&&(Un.item_id=ne[0].id),Ve.$set(Un);const qn={};Re[0]&1&&(qn.item_id=ne[0].id),ft.$set(qn);const Pn={};Re[0]&1&&(Pn.item_id=ne[0].id),_t.$set(Pn);const Fn={};Re[0]&1&&(Fn.item_id=ne[0].id),Ht.$set(Fn);const kt={};Re[0]&1&&(kt.item_id=ne[0].id),St.$set(kt);const Jt={};Re[0]&1&&(Jt.item_id=ne[0].id),nt.$set(Jt);const Kt={};Re[0]&1&&(Kt.item_id=ne[0].id),je.$set(Kt);const gn={};Re[0]&1&&(gn.item_id=ne[0].id),mt.$set(gn);const Yt={};Re[0]&1&&(Yt.item_id=ne[0].id),wt.$set(Yt)},i(ne){if(!pt){b(n.$$.fragment,ne),b(Ct),b(It),b($t),b(Et);for(let Re=0;Re<qt.length;Re+=1)b(it[Re]);b(zt),b(Je),b(cn),b(Rt),b(Pt),b(gt),b(Gt),b(dt),b(ot),b(st),b(Ot),b(Dt),b(Ut),b(Ft),b(Lt),b(_n),b(ke.$$.fragment,ne),b(ze.$$.fragment,ne),b(De.$$.fragment,ne),b(Ee.$$.fragment,ne),b(Be.$$.fragment,ne),b(Ve.$$.fragment,ne),b(ft.$$.fragment,ne),b(_t.$$.fragment,ne),b(Ht.$$.fragment,ne),b(St.$$.fragment,ne),b(nt.$$.fragment,ne),b(je.$$.fragment,ne),b(mt.$$.fragment,ne),b(wt.$$.fragment,ne),pt=!0}},o(ne){k(n.$$.fragment,ne),k(Ct),k(It),k($t),k(Et),it=it.filter(Boolean);for(let Re=0;Re<it.length;Re+=1)k(it[Re]);k(zt),k(Je),k(cn),k(Rt),k(Pt),k(gt),k(Gt),k(dt),k(ot),k(st),k(Ot),k(Dt),k(Ut),k(Ft),k(Lt),k(_n),k(ke.$$.fragment,ne),k(ze.$$.fragment,ne),k(De.$$.fragment,ne),k(Ee.$$.fragment,ne),k(Be.$$.fragment,ne),k(Ve.$$.fragment,ne),k(ft.$$.fragment,ne),k(_t.$$.fragment,ne),k(Ht.$$.fragment,ne),k(St.$$.fragment,ne),k(nt.$$.fragment,ne),k(je.$$.fragment,ne),k(mt.$$.fragment,ne),k(wt.$$.fragment,ne),pt=!1},d(ne){ne&&p(e),G(n),ne&&p(r),ne&&p(f),ut&&ut.d(),Ct&&Ct.d(),It&&It.d(),$t&&$t.d(),Et&&Et.d(),ue(it,ne),ht&&ht.d(),zt&&zt.d(),Je&&Je.d(),cn&&cn.d(),Rt&&Rt.d(),Pt&&Pt.d(),gt&&gt.d(),ne&&p(he),Gt&&Gt.d(ne),ne&&p(Ae),dt&&dt.d(ne),ne&&p(ve),ot&&ot.d(ne),ne&&p(fe),st&&st.d(ne),ne&&p(be),Nt&&Nt.d(ne),ne&&p($e),Ot&&Ot.d(ne),ne&&p(ce),Dt&&Dt.d(ne),ne&&p(Ge),Ut&&Ut.d(ne),ne&&p(Te),Ft&&Ft.d(ne),ne&&p(ge),Lt&&Lt.d(ne),ne&&p(ye),_n&&_n.d(ne),ne&&p(oe),G(ke,ne),ne&&p(Xe),ne&&p(Me),G(ze),G(De),G(Ee),G(Be),G(Ve),G(ft),G(_t),G(Ht),G(St),G(nt),G(je),G(mt),G(wt)}}}function cy(i){return typeof i[0]=="string"}const _y=i=>i.pocket_type==="CONTAINER",Su=i=>i.pocket_type==="CONTAINER";function dy(i,e,n){var O,A,M,J,j;let{item:t}=e,l=lt("data");function o(N){return N.longest_side?N.longest_side:`${Math.round(Math.cbrt(Jr(N.volume)))} cm`}let r=((O=t.qualities)!=null?O:[]).map(([N,X])=>({quality:l.byId("tool_quality",N),level:X})),f=((A=t.charged_qualities)!=null?A:[]).map(([N,X])=>({quality:l.byId("tool_quality",N),level:X}));const a=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:cy(t.material)?t.material.map(N=>({type:N,portion:1})):t.material,s=a.reduce((N,X)=>{var W;return N+((W=X.portion)!=null?W:1)},0);let u=((M=t.flags)!=null?M:[]).map(N=>{var X;return(X=l.byId("json_flag",N))!=null?X:{id:N}}),c=((J=t.faults)!=null?J:[]).map(N=>l.byId("fault",N));const m={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let $=((j=t.pocket_data)!=null?j:[]).map(N=>({...m,...N})),v=$.filter(N=>N.pocket_type==="MAGAZINE_WELL").flatMap(N=>{var X,W;return(W=(X=N.item_restriction)==null?void 0:X.map(F=>({type:"item",id:F})))!=null?W:N.flag_restriction.map(F=>({type:"json_flag",id:F}))});function y(N){var W;let X=0;for(const F of $)F.pocket_type==="MAGAZINE"&&F.ammo_restriction&&(X+=(W=F.ammo_restriction[N])!=null?W:0);return X}let T=$.flatMap(N=>{var X;return N.pocket_type==="MAGAZINE"?Object.keys((X=N.ammo_restriction)!=null?X:{}):[]});const E=l.uncraftRecipe(t.id),S=E?(()=>{const{components:N,qualities:X,tools:W}=l.normalizeRequirementsForDisassembly(E);return{components:N.map(z=>z[0]),qualities:X,tools:W}})():void 0,C=l.byType("vehicle_part").filter(N=>N.id&&N.item===t.id),R=Kr(t.use_action).map(N=>N.type==="repair_item"?{type:N.item_action_type}:N),D=t.ascii_picture&&l.byId("ascii_art",t.ascii_picture),B=N=>({id:N,max_charges:y(N)});return i.$$set=N=>{"item"in N&&n(0,t=N.item)},[t,l,o,r,f,a,s,u,c,$,v,y,T,E,S,C,R,D,B]}class dn extends We{constructor(e){super(),He(this,e,dy,uy,Fe,{item:0},null,[-1,-1,-1])}}function my(i){let e,n=JSON.stringify(i[0],null,2)+"",t;return{c(){e=g("pre"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,[o]){o&1&&n!==(n=JSON.stringify(l[0],null,2)+"")&&P(t,n)},i:te,o:te,d(l){l&&p(e)}}}function py(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class Wi extends We{constructor(e){super(),He(this,e,py,my,Fe,{item:0})}}function Cu(i){let e,n,t,l;return t=new re({props:{type:"item",id:i[0].repaired_with}}),{c(){e=g("dt"),e.textContent="Repaired With",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].repaired_with),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Iu(i){let e,n,t,l;return t=new re({props:{type:"item",id:i[0].salvaged_into}}),{c(){e=g("dt"),e.textContent="Salvaged Into",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].salvaged_into),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function hy(i){let e,n,t,l=pe(i[0])+"",o,r,f,a;return f=new at({props:{items:i[1],$$slots:{default:[gy,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),t=w("Items Made From "),o=w(l),r=I(),U(f.$$.fragment)},m(s,u){h(s,e,u),d(e,n),d(n,t),d(n,o),d(e,r),L(f,e,null),a=!0},p(s,u){(!a||u&1)&&l!==(l=pe(s[0])+"")&&P(o,l);const c={};u&9&&(c.$$scope={dirty:u,ctx:s}),f.$set(c)},i(s){a||(b(f.$$.fragment,s),a=!0)},o(s){k(f.$$.fragment,s),a=!1},d(s){s&&p(e),G(f)}}}function gy(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{id:i[0].id,type:"item"}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function by(i){var rt,ft,ct,_t,bt,Ht,un,St;let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u,c,m=i[0].density+"",$,v,y,T=((rt=i[0].specific_heat_liquid)!=null?rt:4.186)+"",E,S,C=((ft=i[0].specific_heat_solid)!=null?ft:2.108)+"",R,D,B,O,A=((ct=i[0].latent_heat)!=null?ct:334)+"",M,J,j,N,X,W,F=((_t=i[0].bash_resist)!=null?_t:0)+"",z,q,H,Z=((bt=i[0].cut_resist)!=null?bt:0)+"",Y,K,Q,_e=((Ht=i[0].bullet_resist)!=null?Ht:0)+"",V,ie,he,Ae=((un=i[0].acid_resist)!=null?un:0)+"",ve,fe,be,$e=((St=i[0].chip_resist)!=null?St:0)+"",ce,Ge,Te,ge=i[0].elec_resist===0||i[0].elec_resist===1||i[0].conductive?"yes":"no",ye,Qe,oe,ke,Xe,Me=i[0].edible?"yes":"no",Oe,Ce,ze,we=i[0].rotting?"yes":"no",De,Pe,Ee,Se,Be=i[0].repaired_with&&Cu(i),Ue=i[0].salvaged_into&&Iu(i),Ve=i[1].length&&hy(i);return{c(){e=g("h1"),n=w("Material: "),l=w(t),o=I(),r=g("section"),f=g("h1"),f.textContent="Properties",a=I(),s=g("dl"),u=g("dt"),u.textContent="Density",c=g("dd"),$=w(m),v=g("dt"),v.textContent="Specific Heat",y=g("dd"),E=w(T),S=w(" (liquid) / "),R=w(C),D=w(` (solid)
    `),B=g("dt"),B.textContent="Latent Heat",O=g("dd"),M=w(A),J=g("dt"),J.textContent="Resistance",j=g("dd"),N=g("dl"),X=g("dt"),X.textContent="Bash",W=g("dd"),z=w(F),q=g("dt"),q.textContent="Cut",H=g("dd"),Y=w(Z),K=g("dt"),K.textContent="Ballistic",Q=g("dd"),V=w(_e),ie=g("dt"),ie.textContent="Acid",he=g("dd"),ve=w(Ae),fe=g("dt"),fe.textContent="Chip",be=g("dd"),ce=w($e),Ge=g("dt"),Ge.textContent="Conductive",Te=g("dd"),ye=w(ge),Qe=I(),Be&&Be.c(),oe=le(),Ue&&Ue.c(),ke=g("dt"),ke.textContent="Edible",Xe=g("dd"),Oe=w(Me),Ce=g("dt"),Ce.textContent="Rots",ze=g("dd"),De=w(we),Pe=I(),Ve&&Ve.c(),Ee=le(),ae(u,"title","Relative to 'powder', which is 1"),ae(fe,"title","Resistance to physical damage of the item itself"),ae(Ce,"title","Corpses made of this material will go bad")},m(et,nt){h(et,e,nt),d(e,n),d(e,l),h(et,o,nt),h(et,r,nt),d(r,f),d(r,a),d(r,s),d(s,u),d(s,c),d(c,$),d(s,v),d(s,y),d(y,E),d(y,S),d(y,R),d(y,D),d(s,B),d(s,O),d(O,M),d(s,J),d(s,j),d(j,N),d(N,X),d(N,W),d(W,z),d(N,q),d(N,H),d(H,Y),d(N,K),d(N,Q),d(Q,V),d(N,ie),d(N,he),d(he,ve),d(N,fe),d(N,be),d(be,ce),d(N,Ge),d(N,Te),d(Te,ye),d(j,Qe),Be&&Be.m(s,null),d(s,oe),Ue&&Ue.m(s,null),d(s,ke),d(s,Xe),d(Xe,Oe),d(s,Ce),d(s,ze),d(ze,De),h(et,Pe,nt),Ve&&Ve.m(et,nt),h(et,Ee,nt),Se=!0},p(et,[nt]){var Ne,je,yt,mt,At,wt,pt,ut;(!Se||nt&1)&&t!==(t=pe(et[0])+"")&&P(l,t),(!Se||nt&1)&&m!==(m=et[0].density+"")&&P($,m),(!Se||nt&1)&&T!==(T=((Ne=et[0].specific_heat_liquid)!=null?Ne:4.186)+"")&&P(E,T),(!Se||nt&1)&&C!==(C=((je=et[0].specific_heat_solid)!=null?je:2.108)+"")&&P(R,C),(!Se||nt&1)&&A!==(A=((yt=et[0].latent_heat)!=null?yt:334)+"")&&P(M,A),(!Se||nt&1)&&F!==(F=((mt=et[0].bash_resist)!=null?mt:0)+"")&&P(z,F),(!Se||nt&1)&&Z!==(Z=((At=et[0].cut_resist)!=null?At:0)+"")&&P(Y,Z),(!Se||nt&1)&&_e!==(_e=((wt=et[0].bullet_resist)!=null?wt:0)+"")&&P(V,_e),(!Se||nt&1)&&Ae!==(Ae=((pt=et[0].acid_resist)!=null?pt:0)+"")&&P(ve,Ae),(!Se||nt&1)&&$e!==($e=((ut=et[0].chip_resist)!=null?ut:0)+"")&&P(ce,$e),(!Se||nt&1)&&ge!==(ge=et[0].elec_resist===0||et[0].elec_resist===1||et[0].conductive?"yes":"no")&&P(ye,ge),et[0].repaired_with?Be?(Be.p(et,nt),nt&1&&b(Be,1)):(Be=Cu(et),Be.c(),b(Be,1),Be.m(s,oe)):Be&&(x(),k(Be,1,1,()=>{Be=null}),ee()),et[0].salvaged_into?Ue?(Ue.p(et,nt),nt&1&&b(Ue,1)):(Ue=Iu(et),Ue.c(),b(Ue,1),Ue.m(s,ke)):Ue&&(x(),k(Ue,1,1,()=>{Ue=null}),ee()),(!Se||nt&1)&&Me!==(Me=et[0].edible?"yes":"no")&&P(Oe,Me),(!Se||nt&1)&&we!==(we=et[0].rotting?"yes":"no")&&P(De,we),et[1].length&&Ve.p(et,nt)},i(et){Se||(b(Be),b(Ue),b(Ve),Se=!0)},o(et){k(Be),k(Ue),k(Ve),Se=!1},d(et){et&&p(e),et&&p(o),et&&p(r),Be&&Be.d(),Ue&&Ue.d(),et&&p(Pe),Ve&&Ve.d(et),et&&p(Ee)}}}function $y(i){return typeof i[0]=="string"}function ky(i,e,n){const t=lt("data");let{item:l}=e,o=t.byType("item").filter(r=>{const f=r.material==null?[]:typeof r.material=="string"?[r.material]:$y(r.material)?r.material:r.material.map(a=>a.type);return r.id&&f.some(a=>a===l.id)}).sort((r,f)=>pe(r).localeCompare(pe(f)));return i.$$set=r=>{"item"in r&&n(0,l=r.item)},[l,o]}class vy extends We{constructor(e){super(),He(this,e,ky,by,Fe,{item:0})}}function Ru(i,e,n){const t=i.slice();return t[6]=e[n],t}function Nu(i){let e;return{c(){e=w("(default)")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Ou(i){let e,n,t,l,o;n=new re({props:{type:"item",id:i[6].id}});let r=i[6].id===i[0].default&&Nu();return{c(){e=g("li"),U(n.$$.fragment),t=I(),r&&r.c(),l=I()},m(f,a){h(f,e,a),L(n,e,null),d(e,t),r&&r.m(e,null),d(e,l),o=!0},p(f,a){f[6].id===f[0].default?r||(r=Nu(),r.c(),r.m(e,l)):r&&(r.d(1),r=null)},i(f){o||(b(n.$$.fragment,f),o=!0)},o(f){k(n.$$.fragment,f),o=!1},d(f){f&&p(e),G(n),r&&r.d()}}}function yy(i){let e;return{c(){e=g("p"),e.innerHTML='<em style="color: var(--cata-color-gray)">No items use this ammo.</em>'},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function wy(i){let e,n;return e=new at({props:{items:i[2],$$slots:{default:[Ey,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&513&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Ey(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Ty(i){let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u,c,m,$,v,y,T,E=i[1],S=[];for(let O=0;O<E.length;O+=1)S[O]=Ou(Ru(i,E,O));const C=O=>k(S[O],1,1,()=>{S[O]=null}),R=[wy,yy],D=[];function B(O,A){return O[2].length>0?0:1}return v=B(i),y=D[v]=R[v](i),{c(){e=g("h1"),n=w("Ammunition Type: "),l=w(t),o=I(),r=g("section"),f=g("h1"),f.textContent="Compatible Variants",a=I(),s=g("ul");for(let O=0;O<S.length;O+=1)S[O].c();u=I(),c=g("section"),m=g("h1"),m.textContent="Used By",$=I(),y.c()},m(O,A){h(O,e,A),d(e,n),d(e,l),h(O,o,A),h(O,r,A),d(r,f),d(r,a),d(r,s);for(let M=0;M<S.length;M+=1)S[M].m(s,null);h(O,u,A),h(O,c,A),d(c,m),d(c,$),D[v].m(c,null),T=!0},p(O,[A]){if((!T||A&1)&&t!==(t=pe(O[0])+"")&&P(l,t),A&3){E=O[1];let M;for(M=0;M<E.length;M+=1){const J=Ru(O,E,M);S[M]?(S[M].p(J,A),b(S[M],1)):(S[M]=Ou(J),S[M].c(),b(S[M],1),S[M].m(s,null))}for(x(),M=E.length;M<S.length;M+=1)C(M);ee()}y.p(O,A)},i(O){if(!T){for(let A=0;A<E.length;A+=1)b(S[A]);b(y),T=!0}},o(O){S=S.filter(Boolean);for(let A=0;A<S.length;A+=1)k(S[A]);k(y),T=!1},d(O){O&&p(e),O&&p(o),O&&p(r),ue(S,O),O&&p(u),O&&p(c),D[v].d()}}}function Sy(i,e,n){let{item:t}=e;const l=lt("data"),o=l.byType("item").flatMap(s=>s.type!=="AMMO"||!s.id?[]:s.ammo_type===t.id?[s]:[]);o.sort((s,u)=>pe(s).localeCompare(pe(u)));const r={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1},f=(s,u)=>{var $;return(($=s.pocket_data)!=null?$:[]).map(v=>({...r,...v})).flatMap(v=>{var y;return v.pocket_type==="MAGAZINE"?Object.keys((y=v.ammo_restriction)!=null?y:{}):[]}).some(v=>v===u.id)},a=l.byType("item").filter(s=>f(s,t));return a.sort((s,u)=>pe(s).localeCompare(pe(u))),i.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,o,a]}class Cy extends We{constructor(e){super(),He(this,e,Sy,Ty,Fe,{item:0})}}function Bu(i,e,n){const t=i.slice();return t[8]=e[n],t}function Au(i,e,n){const t=i.slice();return t[8]=e[n],t}function Mu(i,e,n){const t=i.slice();return t[8]=e[n],t}function Du(i,e,n){const t=i.slice();return t[8]=e[n][0],t[15]=e[n][1],t}function Lu(i,e,n){const t=i.slice();return t[18]=e[n],t}function Gu(i){let e,n,t,l,o=i[0].usages,r=[];for(let f=0;f<o.length;f+=1)r[f]=qu(Du(i,o,f));return{c(){e=g("section"),n=g("h1"),n.textContent="Usages",t=I(),l=g("dl");for(let f=0;f<r.length;f+=1)r[f].c()},m(f,a){h(f,e,a),d(e,n),d(e,t),d(e,l);for(let s=0;s<r.length;s+=1)r[s].m(l,null)},p(f,a){if(a&3){o=f[0].usages;let s;for(s=0;s<o.length;s+=1){const u=Du(f,o,s);r[s]?r[s].p(u,a):(r[s]=qu(u),r[s].c(),r[s].m(l,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),ue(r,f)}}}function Uu(i){let e,n=pe(i[1].byId("item_action",i[18]))+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=pe(l[1].byId("item_action",l[18]))+"")&&P(t,n)},d(l){l&&p(e)}}}function qu(i){let e,n,t=i[8]+"",l,o,r,f,a=i[15],s=[];for(let u=0;u<a.length;u+=1)s[u]=Uu(Lu(i,a,u));return{c(){e=g("dt"),n=w("At Level "),l=w(t),o=g("dd"),r=g("ul");for(let u=0;u<s.length;u+=1)s[u].c();f=I(),Ze(e,"font-variant","tabular-nums"),ae(r,"class","comma-separated")},m(u,c){h(u,e,c),d(e,n),d(e,l),h(u,o,c),d(o,r);for(let m=0;m<s.length;m+=1)s[m].m(r,null);d(o,f)},p(u,c){if(c&1&&t!==(t=u[8]+"")&&P(l,t),c&3){a=u[15];let m;for(m=0;m<a.length;m+=1){const $=Lu(u,a,m);s[m]?s[m].p($,c):(s[m]=Uu($),s[m].c(),s[m].m(r,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=a.length}},d(u){u&&p(e),u&&p(o),ue(s,u)}}}function Iy(i){let e,n,t,l,o,r=[...i[2].keys()].sort(ju),f=[];for(let s=0;s<r.length;s+=1)f[s]=Pu(Mu(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Tools",t=I(),l=g("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&5){r=[...s[2].keys()].sort(ju);let c;for(c=0;c<r.length;c+=1){const m=Mu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Pu(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ue(f,s)}}}function Ry(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Pu(i){let e,n,t=i[8]+"",l,o,r,f,a;return r=new at({props:{items:i[2].get(i[8]).sort(i[5]),limit:20,$$slots:{default:[Ry,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=g("dt"),n=w("Level "),l=w(t),o=g("dd"),U(r.$$.fragment),f=I(),Ze(e,"font-variant","tabular-nums")},m(s,u){h(s,e,u),d(e,n),d(e,l),h(s,o,u),L(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&p(e),s&&p(o),G(r)}}}function Ny(i){let e,n,t,l,o,r=[...i[3].keys()].sort(Hu),f=[];for(let s=0;s<r.length;s+=1)f[s]=Fu(Au(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Vehicle Parts",t=I(),l=g("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&9){r=[...s[3].keys()].sort(Hu);let c;for(c=0;c<r.length;c+=1){const m=Au(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Fu(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ue(f,s)}}}function Oy(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"vehicle_part",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Fu(i){let e,n,t=i[8]+"",l,o,r,f,a;return r=new at({props:{items:i[3].get(i[8]).sort(i[6]),limit:20,$$slots:{default:[Oy,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=g("dt"),n=w("Level "),l=w(t),o=g("dd"),U(r.$$.fragment),f=I(),Ze(e,"font-variant","tabular-nums")},m(s,u){h(s,e,u),d(e,n),d(e,l),h(s,o,u),L(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&p(e),s&&p(o),G(r)}}}function By(i){let e,n,t,l,o,r=[...i[4].keys()].sort(Wu),f=[];for(let s=0;s<r.length;s+=1)f[s]=Yu(Bu(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Recipes",t=I(),l=g("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&19){r=[...s[4].keys()].sort(Wu);let c;for(c=0;c<r.length;c+=1){const m=Bu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Yu(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ue(f,s)}}}function Ay(i){let e,n,t,l;return e=new xe({props:{item:i[1].byId("item",i[0])}}),t=new re({props:{type:"item",id:i[0]}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[1].byId("item",o[0])),e.$set(f);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Yu(i){let e,n,t=i[8]+"",l,o,r,f,a;return r=new at({props:{items:i[4].get(i[8]),limit:20,$$slots:{default:[Ay,({item:s})=>({0:s}),({item:s})=>s?1:0]},$$scope:{ctx:i}}}),{c(){e=g("dt"),n=w("Level "),l=w(t),o=g("dd"),U(r.$$.fragment),f=I(),Ze(e,"font-variant","tabular-nums")},m(s,u){h(s,e,u),d(e,n),d(e,l),h(s,o,u),L(r,o,null),d(o,f),a=!0},p(s,u){const c={};u&2097153&&(c.$$scope={dirty:u,ctx:s}),r.$set(c)},i(s){a||(b(r.$$.fragment,s),a=!0)},o(s){k(r.$$.fragment,s),a=!1},d(s){s&&p(e),s&&p(o),G(r)}}}function My(i){let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u,c=i[0].usages&&Gu(i),m=i[2].size>0&&Iy(i),$=i[3].size>0&&Ny(i),v=i[4].size>0&&By(i);return{c(){e=g("h1"),n=w("Quality: "),l=w(t),o=I(),c&&c.c(),r=I(),m&&m.c(),f=I(),$&&$.c(),a=I(),v&&v.c(),s=le()},m(y,T){h(y,e,T),d(e,n),d(e,l),h(y,o,T),c&&c.m(y,T),h(y,r,T),m&&m.m(y,T),h(y,f,T),$&&$.m(y,T),h(y,a,T),v&&v.m(y,T),h(y,s,T),u=!0},p(y,[T]){(!u||T&1)&&t!==(t=pe(y[0])+"")&&P(l,t),y[0].usages?c?c.p(y,T):(c=Gu(y),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),y[2].size>0&&m.p(y,T),y[3].size>0&&$.p(y,T),y[4].size>0&&v.p(y,T)},i(y){u||(b(m),b($),b(v),u=!0)},o(y){k(m),k($),k(v),u=!1},d(y){y&&p(e),y&&p(o),c&&c.d(y),y&&p(r),m&&m.d(y),y&&p(f),$&&$.d(y),y&&p(a),v&&v.d(y),y&&p(s)}}}const ju=(i,e)=>i-e,Hu=(i,e)=>i-e,Wu=(i,e)=>i-e;function Dy(i,e,n){var c,m,$;let{item:t}=e,l=lt("data"),o=new Map;for(const v of l.byType("item")){if(!v.id)continue;const y=((c=v.qualities)!=null?c:[]).concat((m=v.charged_qualities)!=null?m:[]).find(([T,E])=>T===t.id);if(y){const[,T]=y;o.has(T)||o.set(T,[]),o.get(T).push(v)}}const r=new Map;for(const v of l.byType("vehicle_part")){if(!v.id)continue;const y=(($=v.qualities)!=null?$:[]).find(([T,E])=>T===t.id);if(y){const[,T]=y;r.has(T)||r.set(T,[]),r.get(T).push(v)}}const f=new Map;for(const v of l.byType("recipe")){if(!v.result||v.construction_blueprint||!l.byId("item",v.result))continue;const{qualities:y}=l.normalizeRequirements(v);for(const T of y)for(const{id:E,level:S}of T)E===t.id&&(f.has(S)||f.set(S,new Set),f.get(S).add(v.result))}const a=new Map;for(const[v,y]of f)a.set(v,[...y].sort((T,E)=>pe(l.byId("item",T)).localeCompare(pe(l.byId("item",E)))));const s=(v,y)=>pe(v).localeCompare(pe(y)),u=(v,y)=>pe(v).localeCompare(pe(y));return i.$$set=v=>{"item"in v&&n(0,t=v.item)},[t,l,o,r,a,s,u]}class Ly extends We{constructor(e){super(),He(this,e,Dy,My,Fe,{item:0})}}function zu(i,e,n){const t=i.slice();return t[10]=e[n].id,t[11]=e[n].count,t}function Vu(i,e,n){const t=i.slice();return t[14]=e[n],t}function Xu(i,e,n){const t=i.slice();return t[10]=e[n].id,t[11]=e[n].count,t[18]=n,t}function Ju(i,e,n){const t=i.slice();return t[19]=e[n],t}function Ku(i,e,n){const t=i.slice();return t[22]=e[n],t[18]=n,t}function Zu(i,e,n){const t=i.slice();return t[24]=e[n],t}function Qu(i,e,n){const t=i.slice();return t[27]=e[n],t[18]=n,t}function xu(i,e,n){const t=i.slice();return t[10]=e[n][0],t[29]=e[n][1],t[18]=n,t}function ec(i){let e,n=pe(i[2].byId("construction_group",i[0].group))+"",t;return{c(){e=g("h1"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=pe(l[2].byId("construction_group",l[0].group))+"")&&P(t,n)},d(l){l&&p(e)}}}function tc(i){let e,n,t,l;const o=[Uy,Gy],r=[];function f(a,s){return a[0].skill?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Gy(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function Uy(i){var f;let e,n,t=((f=i[0].difficulty)!=null?f:0)+"",l,o,r;return e=new re({props:{type:"skill",id:i[0].skill}}),{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(a,s){L(e,a,s),h(a,n,s),h(a,l,s),h(a,o,s),r=!0},p(a,s){var c;const u={};s&1&&(u.id=a[0].skill),e.$set(u),(!r||s&1)&&t!==(t=((c=a[0].difficulty)!=null?c:0)+"")&&P(l,t)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),r=!1},d(a){G(e,a),a&&p(n),a&&p(l),a&&p(o)}}}function qy(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Py(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function nc(i){let e,n,t=i[29]+"",l,o,r,f;e=new re({props:{type:"skill",id:i[10]}});function a(c,m){if(c[18]===c[0].required_skills.length-2)return Py;if(c[18]!==c[0].required_skills.length-1)return qy}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=le()},m(c,m){L(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[10]),e.$set($),(!f||m&1)&&t!==(t=c[29]+"")&&P(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function lc(i){let e,n,t,l,o,r,f;return t=new xe({props:{item:i[2].byId(i[0].pre_terrain.startsWith("f_")?"furniture":"terrain",i[0].pre_terrain)}}),o=new re({props:{type:i[0].pre_terrain.startsWith("f_")?"furniture":"terrain",id:i[0].pre_terrain}}),{c(){e=g("dt"),e.textContent="Requires",n=g("dd"),U(t.$$.fragment),l=I(),U(o.$$.fragment),r=I()},m(a,s){h(a,e,s),h(a,n,s),L(t,n,null),d(n,l),L(o,n,null),d(n,r),f=!0},p(a,s){const u={};s&1&&(u.item=a[2].byId(a[0].pre_terrain.startsWith("f_")?"furniture":"terrain",a[0].pre_terrain)),t.$set(u);const c={};s&1&&(c.type=a[0].pre_terrain.startsWith("f_")?"furniture":"terrain"),s&1&&(c.id=a[0].pre_terrain),o.$set(c)},i(a){f||(b(t.$$.fragment,a),b(o.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(o.$$.fragment,a),f=!1},d(a){a&&p(e),a&&p(n),G(t),G(o)}}}function Fy(i){var $;let e,n,t,l,o,r,f=($=i[5])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=rc(Zu(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[3],c=[];for(let v=0;v<u.length;v+=1)c[v]=fc(Ju(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=g("dt"),e.textContent="Tools Required",n=g("dd"),t=g("ul");for(let v=0;v<a.length;v+=1)a[v].c();l=I();for(let v=0;v<c.length;v+=1)c[v].c();o=I()},m(v,y){h(v,e,y),h(v,n,y),d(n,t);for(let T=0;T<a.length;T+=1)a[T].m(t,null);d(t,l);for(let T=0;T<c.length;T+=1)c[T].m(t,null);d(n,o),r=!0},p(v,y){var T;if(y&32){f=(T=v[5])!=null?T:[];let E;for(E=0;E<f.length;E+=1){const S=Zu(v,f,E);a[E]?(a[E].p(S,y),b(a[E],1)):(a[E]=rc(S),a[E].c(),b(a[E],1),a[E].m(t,l))}for(x(),E=f.length;E<a.length;E+=1)s(E);ee()}if(y&12){u=v[3];let E;for(E=0;E<u.length;E+=1){const S=Ju(v,u,E);c[E]?(c[E].p(S,y),b(c[E],1)):(c[E]=fc(S),c[E].c(),b(c[E],1),c[E].m(t,null))}for(x(),E=u.length;E<c.length;E+=1)m(E);ee()}},i(v){if(!r){for(let y=0;y<f.length;y+=1)b(a[y]);for(let y=0;y<u.length;y+=1)b(c[y]);r=!0}},o(v){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)k(a[y]);c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)k(c[y]);r=!1},d(v){v&&p(e),v&&p(n),ue(a,v),ue(c,v)}}}function Yy(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function ic(i){var E,S;let e,n=((E=i[27].amount)!=null?E:1)+"",t,l,o=((S=i[27].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[27].level+"",c,m,$="",v,y,T=i[18]!==0&&Yy();return a=new re({props:{type:"tool_quality",id:i[27].id}}),{c(){T&&T.c(),e=I(),t=w(n),l=w(" tool"),r=w(o),f=w(`
                with `),U(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
                or more`),v=w($)},m(C,R){T&&T.m(C,R),h(C,e,R),h(C,t,R),h(C,l,R),h(C,r,R),h(C,f,R),L(a,C,R),h(C,s,R),h(C,c,R),h(C,m,R),h(C,v,R),y=!0},p:te,i(C){y||(b(a.$$.fragment,C),y=!0)},o(C){k(a.$$.fragment,C),y=!1},d(C){T&&T.d(C),C&&p(e),C&&p(t),C&&p(l),C&&p(r),C&&p(f),G(a,C),C&&p(s),C&&p(c),C&&p(m),C&&p(v)}}}function rc(i){let e,n,t,l=i[24],o=[];for(let f=0;f<l.length;f+=1)o[f]=ic(Qu(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=w(".")},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&32){l=f[24];let s;for(s=0;s<l.length;s+=1){const u=Qu(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=ic(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function jy(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Hy(i){let e,n;return e=new re({props:{type:"item",id:i[22].id}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:te,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Wy(i){let e,n=pe(i[2].byId("item",i[22].id))+"",t;return{c(){e=g("a"),t=w(n),ae(e,"href","#/furniture/"+i[2].craftingPseudoItem(i[22].id))},m(l,o){h(l,e,o),d(e,t)},p:te,i:te,o:te,d(l){l&&p(e)}}}function zy(i){let e,n=i[22].count+"",t,l,o,r=i[22].count!==1&&Vy();return{c(){e=w("("),t=w(n),l=w(" charge"),r&&r.c(),o=w(")")},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:te,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function Vy(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function oc(i){let e,n,t,l,o,r,f=i[18]!==0&&jy();const a=[Wy,Hy],s=[];function u(m,$){return m[2].craftingPseudoItem(m[22].id)?0:1}n=u(i),t=s[n]=a[n](i);let c=i[22].count>0&&zy(i);return{c(){f&&f.c(),e=I(),t.c(),l=I(),c&&c.c(),o=le()},m(m,$){f&&f.m(m,$),h(m,e,$),s[n].m(m,$),h(m,l,$),c&&c.m(m,$),h(m,o,$),r=!0},p(m,$){t.p(m,$),m[22].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&p(e),s[n].d(m),m&&p(l),c&&c.d(m),m&&p(o)}}}function fc(i){let e,n,t,l=i[19],o=[];for(let f=0;f<l.length;f+=1)o[f]=oc(Ku(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=I()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&12){l=f[19];let s;for(s=0;s<l.length;s+=1){const u=Ku(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=oc(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function Xy(i){let e,n,t,l,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=ac(Vu(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Components",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&20){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=Vu(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=ac(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Jy(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function sc(i){let e,n,t,l=i[18]!==0&&Jy();return n=new re({props:{id:i[10],count:i[11],type:"item"}}),{c(){l&&l.c(),e=I(),U(n.$$.fragment)},m(o,r){l&&l.m(o,r),h(o,e,r),L(n,o,r),t=!0},p:te,i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&p(e),G(n,o)}}}function ac(i){let e,n,t,l=i[14].map(i[7]),o=[];for(let f=0;f<l.length;f+=1)o[f]=sc(Xu(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=I()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a&20){l=f[14].map(f[7]);let s;for(s=0;s<l.length;s+=1){const u=Xu(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=sc(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function Ky(i){let e,n,t,l,o=i[6],r=[];for(let a=0;a<o.length;a+=1)r[a]=uc(zu(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Byproducts",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ae(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&68){o=a[6];let u;for(u=0;u<o.length;u+=1){const c=zu(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=uc(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function uc(i){let e,n,t,l,o,r;return n=new xe({props:{item:i[2].byId("item",i[10])}}),l=new re({props:{type:"item",id:i[10],count:i[11]}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment),o=I()},m(f,a){h(f,e,a),L(n,e,null),d(e,t),L(l,e,null),d(e,o),r=!0},p:te,i(f){r||(b(n.$$.fragment,f),b(l.$$.fragment,f),r=!0)},o(f){k(n.$$.fragment,f),k(l.$$.fragment,f),r=!1},d(f){f&&p(e),G(n),G(l)}}}function cc(i){let e,n=i[0].pre_note+"",t;return{c(){e=g("p"),t=w(n),Ze(e,"color","var(--cata-color-gray)")},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=l[0].pre_note+"")&&P(t,n)},d(l){l&&p(e)}}}function Zy(i){var H,Z;let e,n,t,l,o,r,f,a,s=(typeof i[0].time=="number"?`${i[0].time} m`:(H=i[0].time)!=null?H:"0 m")+"",u,c,m,$,v,y,T,E,S,C,R,D=JSON.stringify(i[0],null,2)+"",B,O,A=i[1]&&ec(i),M=(Z=i[0].required_skills)!=null?Z:[],J=[];for(let Y=0;Y<M.length;Y+=1)J[Y]=nc(xu(i,M,Y));const j=Y=>k(J[Y],1,1,()=>{J[Y]=null});let N=null;M.length||(N=tc(i));let X=i[0].pre_terrain&&lc(i),W=(i[5].length||i[3].length)&&Fy(i),F=i[4].length&&Xy(i),z=i[6].length&&Ky(i),q=i[0].pre_note&&cc(i);return{c(){e=g("section"),A&&A.c(),n=I(),t=g("dl"),l=g("dt"),l.textContent="Required Skills",o=g("dd");for(let Y=0;Y<J.length;Y+=1)J[Y].c();N&&N.c(),r=I(),f=g("dt"),f.textContent="Time",a=g("dd"),u=w(s),c=I(),X&&X.c(),m=le(),W&&W.c(),$=le(),F&&F.c(),v=le(),z&&z.c(),y=I(),q&&q.c(),T=I(),E=g("details"),S=g("summary"),S.textContent="Construction JSON",C=I(),R=g("pre"),B=w(D)},m(Y,K){h(Y,e,K),A&&A.m(e,null),d(e,n),d(e,t),d(t,l),d(t,o);for(let Q=0;Q<J.length;Q+=1)J[Q].m(o,null);N&&N.m(o,null),d(o,r),d(t,f),d(t,a),d(a,u),d(a,c),X&&X.m(t,null),d(t,m),W&&W.m(t,null),d(t,$),F&&F.m(t,null),d(t,v),z&&z.m(t,null),d(e,y),q&&q.m(e,null),d(e,T),d(e,E),d(E,S),d(E,C),d(E,R),d(R,B),O=!0},p(Y,[K]){var Q,_e;if(Y[1]?A?A.p(Y,K):(A=ec(Y),A.c(),A.m(e,n)):A&&(A.d(1),A=null),K&1){M=(Q=Y[0].required_skills)!=null?Q:[];let V;for(V=0;V<M.length;V+=1){const ie=xu(Y,M,V);J[V]?(J[V].p(ie,K),b(J[V],1)):(J[V]=nc(ie),J[V].c(),b(J[V],1),J[V].m(o,r))}for(x(),V=M.length;V<J.length;V+=1)j(V);ee(),!M.length&&N?N.p(Y,K):M.length?N&&(x(),k(N,1,1,()=>{N=null}),ee()):(N=tc(Y),N.c(),b(N,1),N.m(o,r))}(!O||K&1)&&s!==(s=(typeof Y[0].time=="number"?`${Y[0].time} m`:(_e=Y[0].time)!=null?_e:"0 m")+"")&&P(u,s),Y[0].pre_terrain?X?(X.p(Y,K),K&1&&b(X,1)):(X=lc(Y),X.c(),b(X,1),X.m(t,m)):X&&(x(),k(X,1,1,()=>{X=null}),ee()),(Y[5].length||Y[3].length)&&W.p(Y,K),Y[4].length&&F.p(Y,K),Y[6].length&&z.p(Y,K),Y[0].pre_note?q?q.p(Y,K):(q=cc(Y),q.c(),q.m(e,T)):q&&(q.d(1),q=null),(!O||K&1)&&D!==(D=JSON.stringify(Y[0],null,2)+"")&&P(B,D)},i(Y){if(!O){for(let K=0;K<M.length;K+=1)b(J[K]);b(X),b(W),b(F),b(z),O=!0}},o(Y){J=J.filter(Boolean);for(let K=0;K<J.length;K+=1)k(J[K]);k(X),k(W),k(F),k(z),O=!1},d(Y){Y&&p(e),A&&A.d(),ue(J,Y),N&&N.d(),X&&X.d(),W&&W.d(),F&&F.d(),z&&z.d(),q&&q.d()}}}function Qy(i,e,n){var $;const t=lt("data");let{construction:l}=e,{includeTitle:o=!1}=e;const f=(typeof l.using=="string"?[[l.using,1]]:($=l.using)!=null?$:[]).map(([v,y])=>[t.byId("requirement",v),y]).concat([[l,1]]),a=f.flatMap(([v,y])=>{var T;return t.flattenRequirement((T=v.tools)!=null?T:[],E=>E.tools,{expandSubstitutes:!0}).map(E=>E.map(S=>({...S,count:S.count*y})))}),s=f.flatMap(([v,y])=>{var T;return t.flattenRequirement((T=v.components)!=null?T:[],E=>E.components).map(E=>E.map(S=>({...S,count:S.count*y})))}),u=f.flatMap(([v,y])=>{var T;return((T=v.qualities)!=null?T:[]).map(E=>Array.isArray(E)?E:[E])}),c=t.flattenItemGroup(t.normalizeItemGroup(l.byproducts,"collection")),m=v=>({...v,item:t.byId("item",v.id)});return i.$$set=v=>{"construction"in v&&n(0,l=v.construction),"includeTitle"in v&&n(1,o=v.includeTitle)},[l,o,t,a,s,u,c,m]}class hh extends We{constructor(e){super(),He(this,e,Qy,Zy,Fe,{construction:0,includeTitle:1})}}function _c(i,e,n){const t=i.slice();return t[7]=e[n],t}function dc(i,e,n){const t=i.slice();return t[10]=e[n],t}function mc(i,e,n){const t=i.slice();return t[13]=e[n],t}function pc(i,e,n){const t=i.slice();return t[16]=e[n],t}function hc(i,e,n){const t=i.slice();return t[19]=e[n],t}function gc(i,e,n){const t=i.slice();return t[22]=e[n].id,t[23]=e[n].prob,t}function gr(i){const e=i.slice(),n=e[0].bash.furn_set;return e[26]=n,e}function bc(i,e,n){const t=i.slice();return t[22]=e[n].id,t[23]=e[n].prob,t[27]=e[n].count,t}function br(i){const e=i.slice(),n=e[0].deconstruct.furn_set;return e[26]=n,e}function $c(i,e,n){const t=i.slice();return t[22]=e[n].id,t[23]=e[n].prob,t[27]=e[n].count,t}function xy(i){let e,n=i[0].move_cost_mod*50+"",t;return{c(){e=w("+"),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o[0]&1&&n!==(n=l[0].move_cost_mod*50+"")&&P(t,n)},d(l){l&&p(e),l&&p(t)}}}function ew(i){let e;return{c(){e=g("em"),e.textContent="impassable"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function kc(i){let e,n,t=i[0].comfort+"",l;return{c(){e=g("dt"),e.textContent="Comfort",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].comfort+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function vc(i){let e,n,t=i[0].max_volume+"",l;return{c(){e=g("dt"),e.textContent="Max Volume",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].max_volume+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function yc(i){let e,n,t,l;return t=new re({props:{type:"item",id:i[0].crafting_pseudo_item}}),{c(){e=g("dt"),e.textContent="Provides",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r[0]&1&&(f.id=o[0].crafting_pseudo_item),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function tw(i){var c;let e,n,t,l,o,r,f=i[2],a=[];for(let m=0;m<f.length;m+=1)a[m]=wc($c(i,f,m));const s=m=>k(a[m],1,1,()=>{a[m]=null});let u=((c=i[0].deconstruct)==null?void 0:c.furn_set)&&Ec(br(i));return{c(){e=g("dt"),e.textContent="Deconstruct",n=g("dd"),t=g("ul");for(let m=0;m<a.length;m+=1)a[m].c();l=I(),u&&u.c(),o=I(),ae(t,"class","comma-separated")},m(m,$){h(m,e,$),h(m,n,$),d(n,t);for(let v=0;v<a.length;v+=1)a[v].m(t,null);d(n,l),u&&u.m(n,null),d(n,o),r=!0},p(m,$){var v;if($[0]&4){f=m[2];let y;for(y=0;y<f.length;y+=1){const T=$c(m,f,y);a[y]?(a[y].p(T,$),b(a[y],1)):(a[y]=wc(T),a[y].c(),b(a[y],1),a[y].m(t,null))}for(x(),y=f.length;y<a.length;y+=1)s(y);ee()}(v=m[0].deconstruct)!=null&&v.furn_set?u?(u.p(br(m),$),$[0]&1&&b(u,1)):(u=Ec(br(m)),u.c(),b(u,1),u.m(n,o)):u&&(x(),k(u,1,1,()=>{u=null}),ee())},i(m){if(!r){for(let $=0;$<f.length;$+=1)b(a[$]);b(u),r=!0}},o(m){a=a.filter(Boolean);for(let $=0;$<a.length;$+=1)k(a[$]);k(u),r=!1},d(m){m&&p(e),m&&p(n),ue(a,m),u&&u.d()}}}function nw(i){let e,n=i[27][0]+"",t,l,o=i[27][1]+"",r,f;return{c(){e=w("\xA0("),t=w(n),l=w("\u2013"),r=w(o),f=w(")")},m(a,s){h(a,e,s),h(a,t,s),h(a,l,s),h(a,r,s),h(a,f,s)},p:te,d(a){a&&p(e),a&&p(t),a&&p(l),a&&p(r),a&&p(f)}}}function lw(i){let e,n=i[27][0]!==1&&iw(i);return{c(){n&&n.c(),e=le()},m(t,l){n&&n.m(t,l),h(t,e,l)},p(t,l){t[27][0]!==1&&n.p(t,l)},d(t){n&&n.d(t),t&&p(e)}}}function iw(i){let e,n=i[27][0]+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function rw(i){let e,n=gh(i[23])+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function wc(i){let e,n,t,l="",o,r="",f,a;t=new re({props:{type:"item",id:i[22]}});function s($,v){return $[27][0]===$[27][1]?lw:nw}let c=s(i)(i),m=i[23]!==1&&rw(i);return{c(){e=g("li"),n=g("span"),U(t.$$.fragment),o=w(l),c.c(),f=w(r),m&&m.c(),Ze(n,"white-space","nowrap")},m($,v){h($,e,v),d(e,n),L(t,n,null),d(n,o),c.m(n,null),d(n,f),m&&m.m(n,null),a=!0},p($,v){c.p($,v),$[23]!==1&&m.p($,v)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){k(t.$$.fragment,$),a=!1},d($){$&&p(e),G(t),c.d(),m&&m.d()}}}function Ec(i){let e,n,t,l,o,r,f;return l=new xe({props:{item:i[1].byId("furniture",i[26])}}),r=new re({props:{type:"furniture",id:i[26]}}),{c(){e=g("dl"),n=g("dt"),n.textContent="Becomes",t=g("dd"),U(l.$$.fragment),o=I(),U(r.$$.fragment)},m(a,s){h(a,e,s),d(e,n),d(e,t),L(l,t,null),d(t,o),L(r,t,null),f=!0},p(a,s){const u={};s[0]&1&&(u.item=a[1].byId("furniture",a[26])),l.$set(u);const c={};s[0]&1&&(c.id=a[26]),r.$set(c)},i(a){f||(b(l.$$.fragment,a),b(r.$$.fragment,a),f=!0)},o(a){k(l.$$.fragment,a),k(r.$$.fragment,a),f=!1},d(a){a&&p(e),G(l),G(r)}}}function ow(i){var T,E,S;let e,n,t,l,o,r,f,a=((E=(T=i[0].bash)==null?void 0:T.str_min)!=null?E:0)+"",s,u,c,m=i[3],$=[];for(let C=0;C<m.length;C+=1)$[C]=Tc(bc(i,m,C));const v=C=>k($[C],1,1,()=>{$[C]=null});let y=((S=i[0].bash)==null?void 0:S.furn_set)&&Sc(gr(i));return{c(){e=g("dt"),e.textContent="Bash",n=g("dd"),t=g("ul");for(let C=0;C<$.length;C+=1)$[C].c();l=I(),o=g("dl"),r=g("dt"),r.textContent="Strength Required",f=g("dd"),s=w(a),y&&y.c(),u=I(),ae(t,"class","comma-separated")},m(C,R){h(C,e,R),h(C,n,R),d(n,t);for(let D=0;D<$.length;D+=1)$[D].m(t,null);d(n,l),d(n,o),d(o,r),d(o,f),d(f,s),y&&y.m(o,null),d(n,u),c=!0},p(C,R){var D,B,O;if(R[0]&8){m=C[3];let A;for(A=0;A<m.length;A+=1){const M=bc(C,m,A);$[A]?($[A].p(M,R),b($[A],1)):($[A]=Tc(M),$[A].c(),b($[A],1),$[A].m(t,null))}for(x(),A=m.length;A<$.length;A+=1)v(A);ee()}(!c||R[0]&1)&&a!==(a=((B=(D=C[0].bash)==null?void 0:D.str_min)!=null?B:0)+"")&&P(s,a),(O=C[0].bash)!=null&&O.furn_set?y?(y.p(gr(C),R),R[0]&1&&b(y,1)):(y=Sc(gr(C)),y.c(),b(y,1),y.m(o,null)):y&&(x(),k(y,1,1,()=>{y=null}),ee())},i(C){if(!c){for(let R=0;R<m.length;R+=1)b($[R]);b(y),c=!0}},o(C){$=$.filter(Boolean);for(let R=0;R<$.length;R+=1)k($[R]);k(y),c=!1},d(C){C&&p(e),C&&p(n),ue($,C),y&&y.d()}}}function fw(i){let e,n=i[27][0]+"",t,l,o=i[27][1]+"",r,f;return{c(){e=w("\xA0("),t=w(n),l=w("\u2013"),r=w(o),f=w(")")},m(a,s){h(a,e,s),h(a,t,s),h(a,l,s),h(a,r,s),h(a,f,s)},p:te,d(a){a&&p(e),a&&p(t),a&&p(l),a&&p(r),a&&p(f)}}}function sw(i){let e,n=i[27][0]!==1&&aw(i);return{c(){n&&n.c(),e=le()},m(t,l){n&&n.m(t,l),h(t,e,l)},p(t,l){t[27][0]!==1&&n.p(t,l)},d(t){n&&n.d(t),t&&p(e)}}}function aw(i){let e,n=i[27][0]+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function uw(i){let e,n=gh(i[23])+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function Tc(i){let e,n,t,l="",o,r="",f,a;t=new re({props:{type:"item",id:i[22]}});function s($,v){return $[27][0]===$[27][1]?sw:fw}let c=s(i)(i),m=i[23]!==1&&uw(i);return{c(){e=g("li"),n=g("span"),U(t.$$.fragment),o=w(l),c.c(),f=w(r),m&&m.c(),Ze(n,"white-space","nowrap")},m($,v){h($,e,v),d(e,n),L(t,n,null),d(n,o),c.m(n,null),d(n,f),m&&m.m(n,null),a=!0},p($,v){c.p($,v),$[23]!==1&&m.p($,v)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){k(t.$$.fragment,$),a=!1},d($){$&&p(e),G(t),c.d(),m&&m.d()}}}function Sc(i){let e,n,t,l,o,r;return t=new xe({props:{item:i[1].byId("furniture",i[26])}}),o=new re({props:{type:"furniture",id:i[26]}}),{c(){e=g("dt"),e.textContent="Becomes",n=g("dd"),U(t.$$.fragment),l=I(),U(o.$$.fragment)},m(f,a){h(f,e,a),h(f,n,a),L(t,n,null),d(n,l),L(o,n,null),r=!0},p(f,a){const s={};a[0]&1&&(s.item=f[1].byId("furniture",f[26])),t.$set(s);const u={};a[0]&1&&(u.id=f[26]),o.$set(u)},i(f){r||(b(t.$$.fragment,f),b(o.$$.fragment,f),r=!0)},o(f){k(t.$$.fragment,f),k(o.$$.fragment,f),r=!1},d(f){f&&p(e),f&&p(n),G(t),G(o)}}}function cw(i){let e,n,t,l,o,r=["winter","spring","summer","autumn"].filter(i[6]),f=[];for(let s=0;s<r.length;s+=1)f[s]=Nc(mc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Harvest",n=g("dd"),t=g("dl");for(let s=0;s<f.length;s+=1)f[s].c();l=I()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&34){r=["winter","spring","summer","autumn"].filter(s[6]);let c;for(c=0;c<r.length;c+=1){const m=mc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Nc(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function _w(i){let e,n,t,l,o;return n=new xe({props:{item:i[1].byId("item",i[19].drop)}}),l=new re({props:{type:"item",id:i[19].drop}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),L(n,e,null),d(e,t),L(l,e,null),o=!0},p:te,i(r){o||(b(n.$$.fragment,r),b(l.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(n),G(l)}}}function dw(i){let e,n,t=i[1].flattenItemGroup(i[1].byId("item_group",i[19].drop)),l=[];for(let r=0;r<t.length;r+=1)l[r]=Cc(gc(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=le()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f[0]&34){t=r[1].flattenItemGroup(r[1].byId("item_group",r[19].drop));let a;for(a=0;a<t.length;a+=1){const s=gc(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Cc(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ue(l,r),r&&p(e)}}}function Cc(i){let e,n,t,l,o,r=(i[23]*100).toFixed(2)+"",f,a,s;return n=new xe({props:{item:i[1].byId("item",i[22])}}),l=new re({props:{type:"item",id:i[22]}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment),o=w(" ("),f=w(r),a=w("%)")},m(u,c){h(u,e,c),L(n,e,null),d(e,t),L(l,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:te,i(u){s||(b(n.$$.fragment,u),b(l.$$.fragment,u),s=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),s=!1},d(u){u&&p(e),G(n),G(l)}}}function Ic(i){let e,n,t,l;const o=[dw,_w],r=[];function f(a,s){return a[19].type==="bionic_group"?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function Rc(i){let e,n,t=i[16].entries,l=[];for(let r=0;r<t.length;r+=1)l[r]=Ic(hc(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c()},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f[0]&34){t=r[16].entries;let a;for(a=0;a<t.length;a+=1){const s=hc(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Ic(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ue(l,r)}}}function Nc(i){let e,n=i[13]+"",t,l,o,r,f=[i[1].byId("harvest",i[5].get(i[13]))],a=[];for(let u=0;u<1;u+=1)a[u]=Rc(pc(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=g("dt"),t=w(n),l=g("dd");for(let u=0;u<1;u+=1)a[u].c();o=I(),Ze(e,"text-transform","capitalize")},m(u,c){h(u,e,c),d(e,t),h(u,l,c);for(let m=0;m<1;m+=1)a[m].m(l,null);d(l,o),r=!0},p(u,c){if(c[0]&34){f=[u[1].byId("harvest",u[5].get(u[13]))];let m;for(m=0;m<1;m+=1){const $=pc(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=Rc($),a[m].c(),b(a[m],1),a[m].m(l,o))}for(x(),m=1;m<1;m+=1)s(m);ee()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)k(a[c]);r=!1},d(u){u&&p(e),u&&p(l),ue(a,u)}}}function Oc(i){let e;return{c(){e=g("li"),e.innerHTML="<em>none</em>"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function Bc(i){let e,n,t;return n=new re({props:{type:"json_flag",id:i[10]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[10]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function mw(i){let e,n,t,l,o=i[4],r=[];for(let a=0;a<o.length;a+=1)r[a]=Ac(_c(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("h2"),e.textContent="Construction",n=I();for(let a=0;a<r.length;a+=1)r[a].c();t=le()},m(a,s){h(a,e,s),h(a,n,s);for(let u=0;u<r.length;u+=1)r[u].m(a,s);h(a,t,s),l=!0},p(a,s){if(s[0]&16){o=a[4];let u;for(u=0;u<o.length;u+=1){const c=_c(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Ac(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a),a&&p(t)}}}function Ac(i){let e,n;return e=new hh({props:{construction:i[7],includeTitle:!0}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:te,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function pw(i){var ye,Qe;let e,n,t,l=pe(i[0])+"",o,r,f,a,s,u,c,m,$,v,y,T=(i[0].required_str>=0?i[0].required_str:"not movable")+"",E,S,C,R=((ye=i[0].coverage)!=null?ye:0)+"",D,B,O,A,M,J,j,N,X,W,F,z,q=i[0].description+"",H,Z,Y,K;n=new xe({props:{item:i[0]}});function Q(oe,ke){return oe[0].move_cost_mod<0?ew:xy}let _e=Q(i),V=_e(i),ie=i[0].comfort&&kc(i),he=i[0].max_volume&&vc(i),Ae=i[0].crafting_pseudo_item&&yc(i),ve=i[2].length&&tw(i),fe=i[3].length&&ow(i),be=i[5].size&&cw(i),$e=(Qe=i[0].flags)!=null?Qe:[],ce=[];for(let oe=0;oe<$e.length;oe+=1)ce[oe]=Bc(dc(i,$e,oe));const Ge=oe=>k(ce[oe],1,1,()=>{ce[oe]=null});let Te=null;$e.length||(Te=Oc());let ge=i[4].length&&mw(i);return{c(){e=g("h1"),U(n.$$.fragment),t=I(),o=w(l),r=I(),f=g("section"),a=g("h1"),a.textContent="General",s=I(),u=g("dl"),c=g("dt"),c.textContent="Move Cost Modifier",m=g("dd"),V.c(),$=I(),v=g("dt"),v.textContent="Strength Required to Drag",y=g("dd"),E=w(T),S=g("dt"),S.textContent="Coverage",C=g("dd"),D=w(R),B=w("%"),ie&&ie.c(),O=le(),he&&he.c(),A=le(),Ae&&Ae.c(),M=le(),ve&&ve.c(),J=le(),fe&&fe.c(),j=le(),be&&be.c(),N=g("dt"),N.textContent="Flags",X=g("dd"),W=g("ul");for(let oe=0;oe<ce.length;oe+=1)ce[oe].c();Te&&Te.c(),F=I(),z=g("p"),H=w(q),Z=I(),ge&&ge.c(),Y=le(),ae(W,"class","comma-separated"),Ze(z,"color","var(--cata-color-gray)")},m(oe,ke){h(oe,e,ke),L(n,e,null),d(e,t),d(e,o),h(oe,r,ke),h(oe,f,ke),d(f,a),d(f,s),d(f,u),d(u,c),d(u,m),V.m(m,null),d(m,$),d(u,v),d(u,y),d(y,E),d(u,S),d(u,C),d(C,D),d(C,B),ie&&ie.m(u,null),d(u,O),he&&he.m(u,null),d(u,A),Ae&&Ae.m(u,null),d(u,M),ve&&ve.m(u,null),d(u,J),fe&&fe.m(u,null),d(u,j),be&&be.m(u,null),d(u,N),d(u,X),d(X,W);for(let Xe=0;Xe<ce.length;Xe+=1)ce[Xe].m(W,null);Te&&Te.m(W,null),d(f,F),d(f,z),d(z,H),h(oe,Z,ke),ge&&ge.m(oe,ke),h(oe,Y,ke),K=!0},p(oe,ke){var Me,Oe;const Xe={};if(ke[0]&1&&(Xe.item=oe[0]),n.$set(Xe),(!K||ke[0]&1)&&l!==(l=pe(oe[0])+"")&&P(o,l),_e===(_e=Q(oe))&&V?V.p(oe,ke):(V.d(1),V=_e(oe),V&&(V.c(),V.m(m,$))),(!K||ke[0]&1)&&T!==(T=(oe[0].required_str>=0?oe[0].required_str:"not movable")+"")&&P(E,T),(!K||ke[0]&1)&&R!==(R=((Me=oe[0].coverage)!=null?Me:0)+"")&&P(D,R),oe[0].comfort?ie?ie.p(oe,ke):(ie=kc(oe),ie.c(),ie.m(u,O)):ie&&(ie.d(1),ie=null),oe[0].max_volume?he?he.p(oe,ke):(he=vc(oe),he.c(),he.m(u,A)):he&&(he.d(1),he=null),oe[0].crafting_pseudo_item?Ae?(Ae.p(oe,ke),ke[0]&1&&b(Ae,1)):(Ae=yc(oe),Ae.c(),b(Ae,1),Ae.m(u,M)):Ae&&(x(),k(Ae,1,1,()=>{Ae=null}),ee()),oe[2].length&&ve.p(oe,ke),oe[3].length&&fe.p(oe,ke),oe[5].size&&be.p(oe,ke),ke[0]&1){$e=(Oe=oe[0].flags)!=null?Oe:[];let Ce;for(Ce=0;Ce<$e.length;Ce+=1){const ze=dc(oe,$e,Ce);ce[Ce]?(ce[Ce].p(ze,ke),b(ce[Ce],1)):(ce[Ce]=Bc(ze),ce[Ce].c(),b(ce[Ce],1),ce[Ce].m(W,null))}for(x(),Ce=$e.length;Ce<ce.length;Ce+=1)Ge(Ce);ee(),!$e.length&&Te?Te.p(oe,ke):$e.length?Te&&(Te.d(1),Te=null):(Te=Oc(),Te.c(),Te.m(W,null))}(!K||ke[0]&1)&&q!==(q=oe[0].description+"")&&P(H,q),oe[4].length&&ge.p(oe,ke)},i(oe){if(!K){b(n.$$.fragment,oe),b(Ae),b(ve),b(fe),b(be);for(let ke=0;ke<$e.length;ke+=1)b(ce[ke]);b(ge),K=!0}},o(oe){k(n.$$.fragment,oe),k(Ae),k(ve),k(fe),k(be),ce=ce.filter(Boolean);for(let ke=0;ke<ce.length;ke+=1)k(ce[ke]);k(ge),K=!1},d(oe){oe&&p(e),G(n),oe&&p(r),oe&&p(f),V.d(),ie&&ie.d(),he&&he.d(),Ae&&Ae.d(),ve&&ve.d(),fe&&fe.d(),be&&be.d(),ue(ce,oe),Te&&Te.d(),oe&&p(Z),ge&&ge.d(oe),oe&&p(Y)}}}function gh(i){const e=(i*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function hw(i,e,n){var u,c,m;const t=lt("data");let{item:l}=e;const o=(u=l.deconstruct)!=null&&u.items?t.flattenItemGroup({subtype:"collection",entries:typeof l.deconstruct.items=="string"?[{group:l.deconstruct.items}]:l.deconstruct.items}):[],r=(c=l.bash)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof l.bash.items=="string"?[{group:l.bash.items}]:l.bash.items}):[],f=t.byType("construction").filter($=>$.post_terrain===l.id),a=new Map;for(const{seasons:$,id:v}of(m=l.harvest_by_season)!=null?m:[])for(const y of $)a.set(y,v);const s=$=>a.has($);return i.$$set=$=>{"item"in $&&n(0,l=$.item)},[l,t,o,r,f,a,s]}class gw extends We{constructor(e){super(),He(this,e,hw,pw,Fe,{item:0},null,[-1,-1])}}function Mc(i,e,n){const t=i.slice();return t[5]=e[n],t}function Dc(i,e,n){const t=i.slice();return t[8]=e[n],t}function bw(i){let e,n,t,l,o,r=[...i[2].keys()].sort(Uc),f=[];for(let s=0;s<r.length;s+=1)f[s]=Gc(Mc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Books",t=I(),l=g("dl");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&4){r=[...s[2].keys()].sort(Uc);let c;for(c=0;c<r.length;c+=1){const m=Mc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Gc(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ue(f,s)}}}function Lc(i){let e,n,t;return n=new re({props:{id:i[8].id,type:"item"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Gc(i){let e,n,t=i[5]+"",l,o,r,f,a,s=i[2].get(i[5]).sort(qc),u=[];for(let m=0;m<s.length;m+=1)u[m]=Lc(Dc(i,s,m));const c=m=>k(u[m],1,1,()=>{u[m]=null});return{c(){e=g("dt"),n=w("Level "),l=w(t),o=g("dd"),r=g("ul");for(let m=0;m<u.length;m+=1)u[m].c();f=I(),Ze(e,"font-variant","tabular-nums")},m(m,$){h(m,e,$),d(e,n),d(e,l),h(m,o,$),d(o,r);for(let v=0;v<u.length;v+=1)u[v].m(r,null);d(o,f),a=!0},p(m,$){if($&4){s=m[2].get(m[5]).sort(qc);let v;for(v=0;v<s.length;v+=1){const y=Dc(m,s,v);u[v]?(u[v].p(y,$),b(u[v],1)):(u[v]=Lc(y),u[v].c(),b(u[v],1),u[v].m(r,null))}for(x(),v=s.length;v<u.length;v+=1)c(v);ee()}},i(m){if(!a){for(let $=0;$<s.length;$+=1)b(u[$]);a=!0}},o(m){u=u.filter(Boolean);for(let $=0;$<u.length;$+=1)k(u[$]);a=!1},d(m){m&&p(e),m&&p(o),ue(u,m)}}}function $w(i){let e,n,t,l,o;return l=new at({props:{items:i[3],$$slots:{default:[kw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Used By",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&2049&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function kw(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function vw(i){let e,n,t=pe(i[0])+"",l,o,r,f,a=i[0].description+"",s,u,c,m,$,v=i[1].length&&bw(i),y=i[3].length&&$w(i);return{c(){e=g("h1"),n=w("Skill: "),l=w(t),o=I(),r=g("section"),f=g("p"),s=w(a),u=I(),v&&v.c(),c=I(),y&&y.c(),m=le(),Ze(f,"color","var(--cata-color-gray)")},m(T,E){h(T,e,E),d(e,n),d(e,l),h(T,o,E),h(T,r,E),d(r,f),d(f,s),h(T,u,E),v&&v.m(T,E),h(T,c,E),y&&y.m(T,E),h(T,m,E),$=!0},p(T,[E]){(!$||E&1)&&t!==(t=pe(T[0])+"")&&P(l,t),(!$||E&1)&&a!==(a=T[0].description+"")&&P(s,a),T[1].length&&v.p(T,E),T[3].length&&y.p(T,E)},i(T){$||(b(v),b(y),$=!0)},o(T){k(v),k(y),$=!1},d(T){T&&p(e),T&&p(o),T&&p(r),T&&p(u),v&&v.d(T),T&&p(c),y&&y.d(T),T&&p(m)}}}const Uc=(i,e)=>i-e,qc=(i,e)=>{var n,t;return((n=i.required_level)!=null?n:0)-((t=e.required_level)!=null?t:0)};function yw(i,e,n){var a,s,u;let{item:t}=e;const l=lt("data"),o=l.byType("item").filter(c=>c.id&&c.type==="BOOK"&&c.skill===t.id).sort((c,m)=>pe(c).localeCompare(pe(m))),r=new Map;for(const c of o)r.has((a=c.max_level)!=null?a:0)||r.set((s=c.max_level)!=null?s:0,[]),r.get((u=c.max_level)!=null?u:0).push(c);const f=l.byType("item").filter(c=>c.id&&c.type==="GUN"&&c.skill===t.id);return f.sort((c,m)=>pe(c).localeCompare(pe(m))),i.$$set=c=>{"item"in c&&n(0,t=c.item)},[t,o,r,f]}class ww extends We{constructor(e){super(),He(this,e,yw,vw,Fe,{item:0})}}function Pc(i,e,n){const t=i.slice();return t[3]=e[n],t}function Fc(i){let e,n,t,l,o=i[0].required_proficiencies,r=[];for(let a=0;a<o.length;a+=1)r[a]=Yc(Pc(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Required Proficiencies",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ae(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&1){o=a[0].required_proficiencies;let u;for(u=0;u<o.length;u+=1){const c=Pc(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Yc(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function Yc(i){let e,n,t;return n=new re({props:{id:i[3],type:"proficiency"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[3]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Ew(i){let e,n,t,l,o;return l=new at({props:{items:i[2],$$slots:{default:[Tw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Recipes",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&65&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Tw(i){let e,n,t,l;return e=new xe({props:{item:i[1].byId("item",i[0])}}),t=new re({props:{type:"item",id:i[0]}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[1].byId("item",o[0])),e.$set(f);const a={};r&1&&(a.id=o[0]),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Sw(i){var F,z;let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u=(i[0].can_learn?i[0].time_to_learn:"not learnable")+"",c,m,$,v=((F=i[0].default_time_multiplier)!=null?F:2)+"",y,T,E,S,C=((z=i[0].default_fail_multiplier)!=null?z:2)+"",R,D,B,O,A=i[0].description+"",M,J,j,N,X=i[0].required_proficiencies&&Fc(i),W=i[2].length&&Ew(i);return{c(){e=g("h1"),n=w("Proficiency: "),l=w(t),o=I(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Time to Learn",s=g("dd"),c=w(u),m=g("dt"),m.textContent="Default Time Multiplier",$=g("dd"),y=w(v),T=w("\xD7"),E=g("dt"),E.textContent="Default Fail Multiplier",S=g("dd"),R=w(C),D=w("\xD7"),X&&X.c(),B=I(),O=g("p"),M=w(A),J=I(),W&&W.c(),j=le(),Ze(O,"color","var(--cata-color-gray)")},m(q,H){h(q,e,H),d(e,n),d(e,l),h(q,o,H),h(q,r,H),d(r,f),d(f,a),d(f,s),d(s,c),d(f,m),d(f,$),d($,y),d($,T),d(f,E),d(f,S),d(S,R),d(S,D),X&&X.m(f,null),d(r,B),d(r,O),d(O,M),h(q,J,H),W&&W.m(q,H),h(q,j,H),N=!0},p(q,[H]){var Z,Y;(!N||H&1)&&t!==(t=pe(q[0])+"")&&P(l,t),(!N||H&1)&&u!==(u=(q[0].can_learn?q[0].time_to_learn:"not learnable")+"")&&P(c,u),(!N||H&1)&&v!==(v=((Z=q[0].default_time_multiplier)!=null?Z:2)+"")&&P(y,v),(!N||H&1)&&C!==(C=((Y=q[0].default_fail_multiplier)!=null?Y:2)+"")&&P(R,C),q[0].required_proficiencies?X?(X.p(q,H),H&1&&b(X,1)):(X=Fc(q),X.c(),b(X,1),X.m(f,null)):X&&(x(),k(X,1,1,()=>{X=null}),ee()),(!N||H&1)&&A!==(A=q[0].description+"")&&P(M,A),q[2].length&&W.p(q,H)},i(q){N||(b(X),b(W),N=!0)},o(q){k(X),k(W),N=!1},d(q){q&&p(e),q&&p(o),q&&p(r),X&&X.d(),q&&p(J),W&&W.d(q),q&&p(j)}}}function Cw(i,e,n){let{item:t}=e;const l=lt("data"),o=[...new Set(l.byType("recipe").filter(r=>{var f;return((f=r.proficiencies)!=null?f:[]).some(a=>a.proficiency===t.id)}).map(r=>r.result))].sort((r,f)=>pe(l.byId("item",r)).localeCompare(pe(l.byId("item",f))));return i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,l,o]}class Iw extends We{constructor(e){super(),He(this,e,Cw,Sw,Fe,{item:0})}}function jc(i,e,n){const t=i.slice();return t[14]=e[n].color,t[15]=e[n].string,t}function Hc(i){let e,n,t=i[6],l=[];for(let o=0;o<t.length;o+=1)l[o]=Wc(jc(i,t,o));return{c(){e=g("section"),n=g("p");for(let o=0;o<l.length;o+=1)l[o].c()},m(o,r){h(o,e,r),d(e,n);for(let f=0;f<l.length;f+=1)l[f].m(n,null)},p(o,r){if(r&192){t=o[6];let f;for(f=0;f<t.length;f+=1){const a=jc(o,t,f);l[f]?l[f].p(a,r):(l[f]=Wc(a),l[f].c(),l[f].m(n,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(o){o&&p(e),ue(l,o)}}}function Wc(i){let e,n=i[15]+"",t;return{c(){e=g("span"),t=w(n),Ze(e,"color","var(--cata-color-"+i[7](i[14])+")")},m(l,o){h(l,e,o),d(e,t)},p:te,d(l){l&&p(e)}}}function Rw(i){let e,n,t,l,o;return l=new at({props:{items:i[1].sort(i[8]),$$slots:{default:[Nw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Items",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Nw(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Ow(i){let e,n,t,l,o;return l=new at({props:{items:i[2].sort(i[9]),$$slots:{default:[Bw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Vehicle Parts",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Bw(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"vehicle_part",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Aw(i){let e,n,t,l,o;return l=new at({props:{items:i[4].sort(i[10]),$$slots:{default:[Mw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Terrain",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Mw(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"terrain",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Dw(i){let e,n,t,l,o;return l=new at({props:{items:i[3].sort(i[11]),$$slots:{default:[Lw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Furniture",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Lw(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"furniture",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Gw(i){let e,n,t,l,o;return l=new at({props:{items:i[5].sort(i[12]),$$slots:{default:[Uw,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Bionics",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&262145&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function Uw(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"bionic",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function qw(i){let e,n,t=i[0].id+"",l,o,r,f,a,s,u,c,m,$=i[0].info&&Hc(i),v=i[1].length&&Rw(i),y=i[2].length&&Ow(i),T=i[4].length&&Aw(i),E=i[3].length&&Dw(i),S=i[5].length&&Gw(i);return{c(){e=g("h1"),n=w("Flag: "),l=w(t),o=I(),$&&$.c(),r=I(),v&&v.c(),f=I(),y&&y.c(),a=I(),T&&T.c(),s=I(),E&&E.c(),u=I(),S&&S.c(),c=le()},m(C,R){h(C,e,R),d(e,n),d(e,l),h(C,o,R),$&&$.m(C,R),h(C,r,R),v&&v.m(C,R),h(C,f,R),y&&y.m(C,R),h(C,a,R),T&&T.m(C,R),h(C,s,R),E&&E.m(C,R),h(C,u,R),S&&S.m(C,R),h(C,c,R),m=!0},p(C,[R]){(!m||R&1)&&t!==(t=C[0].id+"")&&P(l,t),C[0].info?$?$.p(C,R):($=Hc(C),$.c(),$.m(r.parentNode,r)):$&&($.d(1),$=null),C[1].length&&v.p(C,R),C[2].length&&y.p(C,R),C[4].length&&T.p(C,R),C[3].length&&E.p(C,R),C[5].length&&S.p(C,R)},i(C){m||(b(v),b(y),b(T),b(E),b(S),m=!0)},o(C){k(v),k(y),k(T),k(E),k(S),m=!1},d(C){C&&p(e),C&&p(o),$&&$.d(C),C&&p(r),v&&v.d(C),C&&p(f),y&&y.d(C),C&&p(a),T&&T.d(C),C&&p(s),E&&E.d(C),C&&p(u),S&&S.d(C),C&&p(c)}}}function Pw(i){let e=["gray"];const n=[];let t=i;for(;;){const l=t.match(/<\/?(info|good|bad|color|color_[^>]+)>/);if(l)l.index>0&&n.push({string:t.substring(0,l.index),color:e[0]}),l[0][1]==="/"&&e.length>1?e.shift():e.unshift(l[1]),t=t.substring(l.index+l[0].length);else break}return t.length&&n.push({string:t,color:e[0]}),n}function Fw(i,e,n){var E;let{item:t}=e,l=lt("data");const o=l.byType("item").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),r=l.byType("vehicle_part").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),f=l.byType("furniture").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),a=l.byType("terrain").filter(S=>{var C;return S.id&&((C=S.flags)==null?void 0:C.includes(t.id))}),s=l.byType("bionic").filter(S=>{var C,R,D;return S.id&&(((C=S.flags)==null?void 0:C.includes(t.id))||((R=S.active_flags)==null?void 0:R.includes(t.id))||((D=S.inactive_flags)==null?void 0:D.includes(t.id)))}),u=Pw((E=t.info)!=null?E:""),c=S=>{if(S==="info")return"cyan";if(S==="good")return"green";if(S==="bad")return"red";const C=/^color_(.+)$/.exec(S);return C?C[1]:"gray"},m=(S,C)=>pe(S).localeCompare(pe(C)),$=(S,C)=>pe(S).localeCompare(pe(C)),v=(S,C)=>pe(S).localeCompare(pe(C)),y=(S,C)=>pe(S).localeCompare(pe(C)),T=(S,C)=>pe(S).localeCompare(pe(C));return i.$$set=S=>{"item"in S&&n(0,t=S.item)},[t,o,r,f,a,s,u,c,m,$,v,y,T]}class Yw extends We{constructor(e){super(),He(this,e,Fw,qw,Fe,{item:0})}}function zc(i,e,n){const t=i.slice();return t[5]=e[n].tools,t[6]=e[n].components,t[7]=e[n].qualities,t[8]=e[n].mending_method,t}function Vc(i,e,n){const t=i.slice();return t[11]=e[n],t}function Xc(i,e,n){const t=i.slice();return t[14]=e[n].id,t[15]=e[n].count,t[17]=n,t}function Jc(i,e,n){const t=i.slice();return t[18]=e[n],t}function Kc(i,e,n){const t=i.slice();return t[21]=e[n],t[17]=n,t}function Zc(i,e,n){const t=i.slice();return t[23]=e[n],t}function Qc(i,e,n){const t=i.slice();return t[26]=e[n],t[17]=n,t}function xc(i,e,n){const t=i.slice();return t[14]=e[n].id,t[28]=e[n].level,t[17]=n,t}function e_(i,e,n){const t=i.slice();return t[30]=e[n],t}function t_(i){let e;return{c(){e=g("li"),e.innerHTML="<em>none</em>"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function n_(i){let e,n,t=i[30]+"",l,o;return{c(){e=g("li"),n=g("abbr"),l=w(t),ae(n,"title",o=i[3][i[30]])},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&1&&t!==(t=r[30]+"")&&P(l,t),f[0]&1&&o!==(o=r[3][r[30]])&&ae(n,"title",o)},d(r){r&&p(e)}}}function jw(i){let e;return{c(){e=g("h2"),e.textContent="Mending Methods"},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function l_(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Hw(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Ww(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function i_(i){let e,n,t=i[28]+"",l,o,r,f;e=new re({props:{type:"skill",id:i[14]}});function a(c,m){if(c[17]===c[8].skills.length-2)return Ww;if(c[17]!==c[8].skills.length-1)return Hw}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=le()},m(c,m){L(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p:te,i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function zw(i){var $;let e,n,t,l,o,r,f=($=i[7])!=null?$:[],a=[];for(let v=0;v<f.length;v+=1)a[v]=o_(Zc(i,f,v));const s=v=>k(a[v],1,1,()=>{a[v]=null});let u=i[5],c=[];for(let v=0;v<u.length;v+=1)c[v]=s_(Jc(i,u,v));const m=v=>k(c[v],1,1,()=>{c[v]=null});return{c(){e=g("dt"),e.textContent="Tools Required",n=g("dd"),t=g("ul");for(let v=0;v<a.length;v+=1)a[v].c();l=I();for(let v=0;v<c.length;v+=1)c[v].c();o=I()},m(v,y){h(v,e,y),h(v,n,y),d(n,t);for(let T=0;T<a.length;T+=1)a[T].m(t,null);d(t,l);for(let T=0;T<c.length;T+=1)c[T].m(t,null);d(n,o),r=!0},p(v,y){var T;if(y[0]&4){f=(T=v[7])!=null?T:[];let E;for(E=0;E<f.length;E+=1){const S=Zc(v,f,E);a[E]?(a[E].p(S,y),b(a[E],1)):(a[E]=o_(S),a[E].c(),b(a[E],1),a[E].m(t,l))}for(x(),E=f.length;E<a.length;E+=1)s(E);ee()}if(y[0]&6){u=v[5];let E;for(E=0;E<u.length;E+=1){const S=Jc(v,u,E);c[E]?(c[E].p(S,y),b(c[E],1)):(c[E]=s_(S),c[E].c(),b(c[E],1),c[E].m(t,null))}for(x(),E=u.length;E<c.length;E+=1)m(E);ee()}},i(v){if(!r){for(let y=0;y<f.length;y+=1)b(a[y]);for(let y=0;y<u.length;y+=1)b(c[y]);r=!0}},o(v){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)k(a[y]);c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)k(c[y]);r=!1},d(v){v&&p(e),v&&p(n),ue(a,v),ue(c,v)}}}function Vw(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function r_(i){var E,S;let e,n=((E=i[26].amount)!=null?E:1)+"",t,l,o=((S=i[26].amount)!=null?S:1)===1?"":"s",r,f,a,s,u=i[26].level+"",c,m,$="",v,y,T=i[17]!==0&&Vw();return a=new re({props:{type:"tool_quality",id:i[26].id}}),{c(){T&&T.c(),e=I(),t=w(n),l=w(" tool"),r=w(o),f=w(`
                  with `),U(a.$$.fragment),s=w(" of "),c=w(u),m=w(`
                  or more`),v=w($)},m(C,R){T&&T.m(C,R),h(C,e,R),h(C,t,R),h(C,l,R),h(C,r,R),h(C,f,R),L(a,C,R),h(C,s,R),h(C,c,R),h(C,m,R),h(C,v,R),y=!0},p:te,i(C){y||(b(a.$$.fragment,C),y=!0)},o(C){k(a.$$.fragment,C),y=!1},d(C){T&&T.d(C),C&&p(e),C&&p(t),C&&p(l),C&&p(r),C&&p(f),G(a,C),C&&p(s),C&&p(c),C&&p(m),C&&p(v)}}}function o_(i){let e,n,t,l=i[23],o=[];for(let f=0;f<l.length;f+=1)o[f]=r_(Qc(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=w(".")},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a[0]&4){l=f[23];let s;for(s=0;s<l.length;s+=1){const u=Qc(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=r_(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function Xw(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function Jw(i){let e,n;return e=new re({props:{type:"item",id:i[21].id}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:te,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Kw(i){let e,n=pe(i[1].byId("item",i[21].id))+"",t;return{c(){e=g("a"),t=w(n),ae(e,"href","#/furniture/"+i[1].craftingPseudoItem(i[21].id))},m(l,o){h(l,e,o),d(e,t)},p:te,i:te,o:te,d(l){l&&p(e)}}}function Zw(i){let e,n=i[21].count+"",t,l,o,r=i[21].count!==1&&Qw();return{c(){e=w("("),t=w(n),l=w(" charge"),r&&r.c(),o=w(")")},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),r&&r.m(f,a),h(f,o,a)},p:te,d(f){f&&p(e),f&&p(t),f&&p(l),r&&r.d(f),f&&p(o)}}}function Qw(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function f_(i){let e,n,t,l,o,r,f=i[17]!==0&&Xw();const a=[Kw,Jw],s=[];function u(m,$){return m[1].craftingPseudoItem(m[21].id)?0:1}n=u(i),t=s[n]=a[n](i);let c=i[21].count>0&&Zw(i);return{c(){f&&f.c(),e=I(),t.c(),l=I(),c&&c.c(),o=le()},m(m,$){f&&f.m(m,$),h(m,e,$),s[n].m(m,$),h(m,l,$),c&&c.m(m,$),h(m,o,$),r=!0},p(m,$){t.p(m,$),m[21].count>0&&c.p(m,$)},i(m){r||(b(t),r=!0)},o(m){k(t),r=!1},d(m){f&&f.d(m),m&&p(e),s[n].d(m),m&&p(l),c&&c.d(m),m&&p(o)}}}function s_(i){let e,n,t,l=i[18],o=[];for(let f=0;f<l.length;f+=1)o[f]=f_(Kc(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=I()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a[0]&6){l=f[18];let s;for(s=0;s<l.length;s+=1){const u=Kc(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=f_(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function xw(i){let e,n,t,l,o,r=i[6],f=[];for(let s=0;s<r.length;s+=1)f[s]=u_(Vc(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Components",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&6){r=s[6];let c;for(c=0;c<r.length;c+=1){const m=Vc(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=u_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function e2(i){let e=" OR ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function a_(i){let e,n,t,l=i[17]!==0&&e2();return n=new re({props:{id:i[14],count:i[15],type:"item"}}),{c(){l&&l.c(),e=I(),U(n.$$.fragment)},m(o,r){l&&l.m(o,r),h(o,e,r),L(n,o,r),t=!0},p:te,i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&p(e),G(n,o)}}}function u_(i){let e,n,t,l=i[11].map(i[4]),o=[];for(let f=0;f<l.length;f+=1)o[f]=a_(Xc(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li");for(let f=0;f<o.length;f+=1)o[f].c();n=I()},m(f,a){h(f,e,a);for(let s=0;s<o.length;s+=1)o[s].m(e,null);d(e,n),t=!0},p(f,a){if(a[0]&6){l=f[11].map(f[4]);let s;for(s=0;s<l.length;s+=1){const u=Xc(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=a_(u),o[s].c(),b(o[s],1),o[s].m(e,n))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function t2(i){let e,n,t,l;return t=new re({props:{type:"fault",id:i[8].turns_into}}),{c(){e=g("dt"),e.textContent="Turns Into",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p:te,i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function c_(i){let e,n,t=pe(i[8])+"",l,o,r,f,a,s,u,c,m=i[8].time+"",$,v,y,T,E,S=i[8].skills,C=[];for(let M=0;M<S.length;M+=1)C[M]=i_(xc(i,S,M));const R=M=>k(C[M],1,1,()=>{C[M]=null});let D=null;S.length||(D=l_());let B=(i[7].length||i[5].length)&&zw(i),O=i[6].length&&xw(i),A=i[8].turns_into&&t2(i);return{c(){e=g("section"),n=g("h1"),l=w(t),o=I(),r=g("dl"),f=g("dt"),f.textContent="Skills Used",a=g("dd");for(let M=0;M<C.length;M+=1)C[M].c();D&&D.c(),s=I(),u=g("dt"),u.textContent="Time to Complete",c=g("dd"),$=w(m),B&&B.c(),v=le(),O&&O.c(),y=le(),A&&A.c(),T=I()},m(M,J){h(M,e,J),d(e,n),d(n,l),d(e,o),d(e,r),d(r,f),d(r,a);for(let j=0;j<C.length;j+=1)C[j].m(a,null);D&&D.m(a,null),d(a,s),d(r,u),d(r,c),d(c,$),B&&B.m(r,null),d(r,v),O&&O.m(r,null),d(r,y),A&&A.m(r,null),d(e,T),E=!0},p(M,J){if(J[0]&4){S=M[8].skills;let j;for(j=0;j<S.length;j+=1){const N=xc(M,S,j);C[j]?(C[j].p(N,J),b(C[j],1)):(C[j]=i_(N),C[j].c(),b(C[j],1),C[j].m(a,s))}for(x(),j=S.length;j<C.length;j+=1)R(j);ee(),S.length?D&&(D.d(1),D=null):D||(D=l_(),D.c(),D.m(a,s))}(M[7].length||M[5].length)&&B.p(M,J),M[6].length&&O.p(M,J),M[8].turns_into&&A.p(M,J)},i(M){if(!E){for(let J=0;J<S.length;J+=1)b(C[J]);b(B),b(O),b(A),E=!0}},o(M){C=C.filter(Boolean);for(let J=0;J<C.length;J+=1)k(C[J]);k(B),k(O),k(A),E=!1},d(M){M&&p(e),ue(C,M),D&&D.d(),B&&B.d(),O&&O.d(),A&&A.d()}}}function n2(i){var J;let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u,c,m,$=i[0].description+"",v,y,T,E,S,C=(J=i[0].flags)!=null?J:[],R=[];for(let j=0;j<C.length;j+=1)R[j]=n_(e_(i,C,j));let D=null;C.length||(D=t_());let B=i[2].length&&jw(),O=i[2],A=[];for(let j=0;j<O.length;j+=1)A[j]=c_(zc(i,O,j));const M=j=>k(A[j],1,1,()=>{A[j]=null});return{c(){e=g("h1"),n=w("Fault: "),l=w(t),o=I(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Flags",s=g("dd"),u=g("ul");for(let j=0;j<R.length;j+=1)R[j].c();D&&D.c(),c=I(),m=g("p"),v=w($),y=I(),B&&B.c(),T=I();for(let j=0;j<A.length;j+=1)A[j].c();E=le(),ae(u,"class","comma-separated"),Ze(m,"color","var(--cata-color-gray)")},m(j,N){h(j,e,N),d(e,n),d(e,l),h(j,o,N),h(j,r,N),d(r,f),d(f,a),d(f,s),d(s,u);for(let X=0;X<R.length;X+=1)R[X].m(u,null);D&&D.m(u,null),d(r,c),d(r,m),d(m,v),h(j,y,N),B&&B.m(j,N),h(j,T,N);for(let X=0;X<A.length;X+=1)A[X].m(j,N);h(j,E,N),S=!0},p(j,N){var X;if((!S||N[0]&1)&&t!==(t=pe(j[0])+"")&&P(l,t),N[0]&9){C=(X=j[0].flags)!=null?X:[];let W;for(W=0;W<C.length;W+=1){const F=e_(j,C,W);R[W]?R[W].p(F,N):(R[W]=n_(F),R[W].c(),R[W].m(u,null))}for(;W<R.length;W+=1)R[W].d(1);R.length=C.length,!C.length&&D?D.p(j,N):C.length?D&&(D.d(1),D=null):(D=t_(),D.c(),D.m(u,null))}if((!S||N[0]&1)&&$!==($=j[0].description+"")&&P(v,$),N[0]&6){O=j[2];let W;for(W=0;W<O.length;W+=1){const F=zc(j,O,W);A[W]?(A[W].p(F,N),b(A[W],1)):(A[W]=c_(F),A[W].c(),b(A[W],1),A[W].m(E.parentNode,E))}for(x(),W=O.length;W<A.length;W+=1)M(W);ee()}},i(j){if(!S){for(let N=0;N<O.length;N+=1)b(A[N]);S=!0}},o(j){A=A.filter(Boolean);for(let N=0;N<A.length;N+=1)k(A[N]);S=!1},d(j){j&&p(e),j&&p(o),j&&p(r),ue(R,j),D&&D.d(),j&&p(y),B&&B.d(j),j&&p(T),ue(A,j),j&&p(E)}}}function l2(i,e,n){var a;const t=lt("data");let{item:l}=e;const o=((a=l.mending_methods)!=null?a:[]).map(s=>{var v,y,T;const u=typeof s.requirements=="string"?t.byId("requirement",s.requirements):s.requirements,c=t.flattenRequirement((v=u.tools)!=null?v:[],E=>E.tools,{expandSubstitutes:!0}),m=t.flattenRequirement((y=u.components)!=null?y:[],E=>E.components),$=Br((T=u.qualities)!=null?T:[]);return{mending_method:s,tools:c,components:m,qualities:$}}),r={NO_ALTERNATOR_CHARGE:"The alternator connected to this engine does not work.",BAD_COLD_START:"The engine starts as if the temperature was 20 F colder. Does not stack with multiples of itself.",IMMOBILIZER:"Prevents engine from starting and makes it beep.",BAD_FUEL_PUMP:"Prevents engine from starting and makes it stutter.",BAD_STARTER:"Prevents engine from starting and makes click noise.",DOUBLE_FUEL_CONSUMPTION:"Doubles fuel consumption of the engine. Does not stack with multiples of itself.",EXTRA_EXHAUST:"Makes the engine emit more exhaust smoke. Does not stack with multiples of itself.",REDUCE_ENG_POWER:"Multiplies engine power by 0.6. Does not stack with multiples of itself.",ENG_BACKFIRE:"Causes the engine to backfire as if it had zero hp.",BLACKPOWDER_FOULING_DAMAGE:"Causes the gun to take random acid damage over time.",NO_DIRTYING:"Prevents the gun from receiving `fault_gun_dirt` fault.",JAMMED_GUN:"Stops burst fire. Adds delay on next shot.",UNLUBRICATED:"Randomly causes screeching noise when firing and applies damage when that happens.",BAD_CYCLING:"One in 16 chance that the gun fails to cycle when fired resulting in `fault_gun_chamber_spent` fault."},f=s=>({...s,item:t.byId("item",s.id)});return i.$$set=s=>{"item"in s&&n(0,l=s.item)},[l,t,o,r,f]}class i2 extends We{constructor(e){super(),He(this,e,l2,n2,Fe,{item:0},null,[-1,-1])}}function __(i,e,n){const t=i.slice();return t[5]=e[n],t}function d_(i,e,n){const t=i.slice();return t[5]=e[n],t}function m_(i){let e,n,t,l,o=i[2],r=[];for(let f=0;f<o.length;f+=1)r[f]=p_(d_(i,o,f));return{c(){e=g("dt"),e.textContent="Excess",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=I(),ae(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a&4){o=f[2];let s;for(s=0;s<o.length;s+=1){const u=d_(f,o,s);r[s]?r[s].p(u,a):(r[s]=p_(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ue(r,f)}}}function p_(i){let e,n=Vt(i[5])+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:te,d(l){l&&p(e)}}}function h_(i){let e,n,t,l,o=i[3],r=[];for(let f=0;f<o.length;f+=1)r[f]=g_(__(i,o,f));return{c(){e=g("dt"),e.textContent="Deficiency",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=I(),ae(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a&8){o=f[3];let s;for(s=0;s<o.length;s+=1){const u=__(f,o,s);r[s]?r[s].p(u,a):(r[s]=g_(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ue(r,f)}}}function g_(i){let e,n=Vt(i[5])+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:te,d(l){l&&p(e)}}}function r2(i){let e,n,t=i[0].pct+"",l,o,r;return e=new re({props:{id:i[0].comestible.id,type:"item"}}),{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w("% RDA)")},m(f,a){L(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){const s={};a&1&&(s.id=f[0].comestible.id),e.$set(s),(!r||a&1)&&t!==(t=f[0].pct+"")&&P(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function o2(i){var q,H,Z;let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u=i[0].vit_type+"",c,m,$,v,y=((q=i[0].min)!=null?q:0)+"",T,E,S,C=((H=i[0].max)!=null?H:0)+"",R,D,B,O=((Z=i[0].rate)!=null?Z:"0 m")+"",A,M,J,j,N,X,W,F=i[0].excess&&m_(i),z=i[0].deficiency&&h_(i);return X=new at({props:{items:i[1],$$slots:{default:[r2,({item:Y})=>({0:Y}),({item:Y})=>Y?1:0]},$$scope:{ctx:i}}}),{c(){e=g("h1"),n=w("Vitamin: "),l=w(t),o=I(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Type",s=g("dd"),c=w(u),F&&F.c(),m=le(),z&&z.c(),$=g("dt"),$.textContent="Min",v=g("dd"),T=w(y),E=g("dt"),E.textContent="Max",S=g("dd"),R=w(C),D=g("dt"),D.textContent="Rate",B=g("dd"),A=w(O),M=I(),J=g("section"),j=g("h1"),j.textContent="Comestibles",N=I(),U(X.$$.fragment)},m(Y,K){h(Y,e,K),d(e,n),d(e,l),h(Y,o,K),h(Y,r,K),d(r,f),d(f,a),d(f,s),d(s,c),F&&F.m(f,null),d(f,m),z&&z.m(f,null),d(f,$),d(f,v),d(v,T),d(f,E),d(f,S),d(S,R),d(f,D),d(f,B),d(B,A),h(Y,M,K),h(Y,J,K),d(J,j),d(J,N),L(X,J,null),W=!0},p(Y,[K]){var _e,V,ie;(!W||K&1)&&t!==(t=pe(Y[0])+"")&&P(l,t),(!W||K&1)&&u!==(u=Y[0].vit_type+"")&&P(c,u),Y[0].excess?F?F.p(Y,K):(F=m_(Y),F.c(),F.m(f,m)):F&&(F.d(1),F=null),Y[0].deficiency?z?z.p(Y,K):(z=h_(Y),z.c(),z.m(f,$)):z&&(z.d(1),z=null),(!W||K&1)&&y!==(y=((_e=Y[0].min)!=null?_e:0)+"")&&P(T,y),(!W||K&1)&&C!==(C=((V=Y[0].max)!=null?V:0)+"")&&P(R,C),(!W||K&1)&&O!==(O=((ie=Y[0].rate)!=null?ie:"0 m")+"")&&P(A,O);const Q={};K&1025&&(Q.$$scope={dirty:K,ctx:Y}),X.$set(Q)},i(Y){W||(b(X.$$.fragment,Y),W=!0)},o(Y){k(X.$$.fragment,Y),W=!1},d(Y){Y&&p(e),Y&&p(o),Y&&p(r),F&&F.d(),z&&z.d(),Y&&p(M),Y&&p(J),G(X)}}}function f2(i,e,n){var a,s;let{item:t}=e;const l=lt("data"),o=l.byType("item").filter(u=>{var c;return u.type==="COMESTIBLE"&&u.id&&((c=u.vitamins)!=null?c:[]).some(m=>m[0]===t.id)}).map(u=>{const c=u;return{comestible:c,pct:c.vitamins.find(m=>m[0]===t.id)[1]}});o.sort((u,c)=>c.pct-u.pct);const r=t.excess?(a=l.byId("effect_type",t.excess).name)!=null?a:[]:[],f=t.deficiency?(s=l.byId("effect_type",t.deficiency).name)!=null?s:[]:[];return i.$$set=u=>{"item"in u&&n(0,t=u.item)},[t,o,r,f]}class s2 extends We{constructor(e){super(),He(this,e,f2,o2,Fe,{item:0})}}function b_(i,e,n){const t=i.slice();return t[5]=e[n][0],t[6]=e[n][1],t[8]=n,t}function $_(i,e,n){const t=i.slice();return t[5]=e[n][0],t[6]=e[n][1],t[8]=n,t}function k_(i,e,n){const t=i.slice();return t[5]=e[n][0],t[6]=e[n][1],t[8]=n,t}function v_(i,e,n){const t=i.slice();return t[11]=e[n],t}function y_(i,e,n){const t=i.slice();return t[14]=e[n].id,t[15]=e[n].count,t[16]=e[n].prob,t}function w_(i,e,n){const t=i.slice();return t[14]=e[n].id,t}function E_(i,e,n){const t=i.slice();return t[21]=e[n][0],t[6]=e[n][1],t}function T_(i,e,n){const t=i.slice();return t[24]=e[n],t}function a2(i){let e,n,t,l;return t=new re({props:{type:"item",id:i[0].fuel_type}}),{c(){e=g("dt"),e.textContent="Charge",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].fuel_type),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function u2(i){let e,n,t,l,o,r=i[0].fuel_options,f=[];for(let s=0;s<r.length;s+=1)f[s]=S_(T_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Charge",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated or")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].fuel_options;let c;for(c=0;c<r.length;c+=1){const m=T_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=S_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function S_(i){let e,n,t;return n=new re({props:{type:"item",id:i[24]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[24]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function C_(i){let e,n,t=xn(i[0].size)+"",l;return{c(){e=g("dt"),e.textContent="Capacity",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=xn(o[0].size)+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function I_(i){let e,n,t=xn(i[0].folded_volume)+"",l;return{c(){e=g("dt"),e.textContent="Folded Volume",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=xn(o[0].folded_volume)+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function R_(i){let e,n,t,l,o,r=i[0].qualities,f=[];for(let s=0;s<r.length;s+=1)f[s]=N_(E_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Qualities",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","no-bullets")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].qualities;let c;for(c=0;c<r.length;c+=1){const m=E_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=N_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function N_(i){var u;let e,n,t,l=((u=i[6])!=null?u:1)+"",o,r,f,a,s;return f=new re({props:{type:"tool_quality",id:i[21]}}),{c(){e=g("li"),n=w("Has level "),t=g("strong"),o=w(l),r=I(),U(f.$$.fragment),a=w(` quality.
            `)},m(c,m){h(c,e,m),d(e,n),d(e,t),d(t,o),d(t,r),L(f,t,null),d(e,a),s=!0},p(c,m){var v;(!s||m&1)&&l!==(l=((v=c[6])!=null?v:1)+"")&&P(o,l);const $={};m&1&&($.id=c[21]),f.$set($)},i(c){s||(b(f.$$.fragment,c),s=!0)},o(c){k(f.$$.fragment,c),s=!1},d(c){c&&p(e),G(f)}}}function O_(i){let e,n,t=i[0].comfort+"",l;return{c(){e=g("dt"),e.textContent="Comfort",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].comfort+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function B_(i){let e,n,t=i[0].floor_bedding_warmth+"",l;return{c(){e=g("dt"),e.textContent="Bedding Warmth",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].floor_bedding_warmth+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function A_(i){let e,n,t=i[0].epower+"",l;return{c(){e=g("dt"),e.textContent="Electric Power",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=o[0].epower+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function M_(i){let e,n,t=-i[0].energy_consumption+"",l;return{c(){e=g("dt"),e.textContent="Drain",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&1&&t!==(t=-o[0].energy_consumption+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function D_(i){let e,n,t=i[0].power+"",l,o,r,f=i[0].muscle_power_factor&&L_(i);return{c(){e=g("dt"),e.textContent="Power",n=g("dd"),l=w(t),o=I(),f&&f.c(),r=I()},m(a,s){h(a,e,s),h(a,n,s),d(n,l),d(n,o),f&&f.m(n,null),d(n,r)},p(a,s){s&1&&t!==(t=a[0].power+"")&&P(l,t),a[0].muscle_power_factor?f?f.p(a,s):(f=L_(a),f.c(),f.m(n,r)):f&&(f.d(1),f=null)},d(a){a&&p(e),a&&p(n),f&&f.d()}}}function L_(i){let e,n=i[0].muscle_power_factor+"",t;return{c(){e=w("+ (str \u2212 8) \xD7 "),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o&1&&n!==(n=l[0].muscle_power_factor+"")&&P(t,n)},d(l){l&&p(e),l&&p(t)}}}function G_(i){let e,n=zi(i[0])+"",t,l,o=i[0].bonus+"",r;return{c(){e=g("dt"),t=w(n),l=g("dd"),r=w(o)},m(f,a){h(f,e,a),d(e,t),h(f,l,a),d(l,r)},p(f,a){a&1&&n!==(n=zi(f[0])+"")&&P(t,n),a&1&&o!==(o=f[0].bonus+"")&&P(r,o)},d(f){f&&p(e),f&&p(l)}}}function U_(i){let e,n,t,l,o,r=i[0].pseudo_tools,f=[];for(let s=0;s<r.length;s+=1)f[s]=q_(w_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Provides",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].pseudo_tools;let c;for(c=0;c<r.length;c+=1){const m=w_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=q_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function q_(i){let e,n;return e=new re({props:{type:"item",id:i[14]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[14]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function c2(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=P_(y_(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Breaks Into",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=y_(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=P_(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function _2(i){let e,n=vl(i[16])+"",t,l;return{c(){e=w("("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function P_(i){let e,n,t;n=new re({props:{id:i[14],count:i[15],type:"item"}});let l=i[16]!==1&&_2(i);return{c(){e=g("li"),U(n.$$.fragment),l&&l.c()},m(o,r){h(o,e,r),L(n,e,null),l&&l.m(e,null),t=!0},p(o,r){o[16]!==1&&l.p(o,r)},i(o){t||(b(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){o&&p(e),G(n),l&&l.d()}}}function F_(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function Y_(i){let e,n,t;return n=new re({props:{type:"json_flag",id:i[11]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[11]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function j_(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function d2(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function m2(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function H_(i){let e,n,t=i[6]+"",l,o,r,f;e=new re({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.install.skills.length-2)return m2;if(c[8]!==c[0].requirements.install.skills.length-1)return d2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=le()},m(c,m){L(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&P(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function W_(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function p2(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function h2(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function z_(i){let e,n,t=i[6]+"",l,o,r,f;e=new re({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.removal.skills.length-2)return h2;if(c[8]!==c[0].requirements.removal.skills.length-1)return p2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=le()},m(c,m){L(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&P(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function V_(i){let e,n;return e=new tr({props:{requirement:i[0].requirements.removal}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.requirement=t[0].requirements.removal),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function X_(i){var R,D,B,O,A;let e,n,t,l,o,r,f,a,s,u=((B=(D=(R=i[0].requirements)==null?void 0:R.repair)==null?void 0:D.time)!=null?B:"1 hour")+"",c,m,$,v,y,T=(A=(O=i[0].requirements.repair)==null?void 0:O.skills)!=null?A:[],E=[];for(let M=0;M<T.length;M+=1)E[M]=K_(b_(i,T,M));const S=M=>k(E[M],1,1,()=>{E[M]=null});let C=null;return T.length||(C=J_()),m=new tr({props:{requirement:i[0].requirements.repair}}),{c(){e=g("section"),n=g("h1"),n.textContent="Repair",t=I(),l=g("dl"),o=g("dt"),o.textContent="Skills Required",r=g("dd");for(let M=0;M<E.length;M+=1)E[M].c();C&&C.c(),f=I(),a=g("dt"),a.textContent="Time",s=g("dd"),c=w(u),U(m.$$.fragment),$=I(),v=g("p"),v.textContent="Repair time and requirements are lower for parts that are less damaged.",ae(a,"title","Time required goes down with better skills"),Ze(v,"color","var(--cata-color-gray)"),Ze(v,"font-style","italic")},m(M,J){h(M,e,J),d(e,n),d(e,t),d(e,l),d(l,o),d(l,r);for(let j=0;j<E.length;j+=1)E[j].m(r,null);C&&C.m(r,null),d(r,f),d(l,a),d(l,s),d(s,c),L(m,l,null),d(e,$),d(e,v),y=!0},p(M,J){var N,X,W,F,z;if(J&1){T=(X=(N=M[0].requirements.repair)==null?void 0:N.skills)!=null?X:[];let q;for(q=0;q<T.length;q+=1){const H=b_(M,T,q);E[q]?(E[q].p(H,J),b(E[q],1)):(E[q]=K_(H),E[q].c(),b(E[q],1),E[q].m(r,f))}for(x(),q=T.length;q<E.length;q+=1)S(q);ee(),T.length?C&&(C.d(1),C=null):C||(C=J_(),C.c(),C.m(r,f))}(!y||J&1)&&u!==(u=((z=(F=(W=M[0].requirements)==null?void 0:W.repair)==null?void 0:F.time)!=null?z:"1 hour")+"")&&P(c,u);const j={};J&1&&(j.requirement=M[0].requirements.repair),m.$set(j)},i(M){if(!y){for(let J=0;J<T.length;J+=1)b(E[J]);b(m.$$.fragment,M),y=!0}},o(M){E=E.filter(Boolean);for(let J=0;J<E.length;J+=1)k(E[J]);k(m.$$.fragment,M),y=!1},d(M){M&&p(e),ue(E,M),C&&C.d(),G(m)}}}function J_(i){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function g2(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function b2(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function K_(i){let e,n,t=i[6]+"",l,o,r,f;e=new re({props:{type:"skill",id:i[5]}});function a(c,m){if(c[8]===c[0].requirements.repair.skills.length-2)return b2;if(c[8]!==c[0].requirements.repair.skills.length-1)return g2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=le()},m(c,m){L(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[5]),e.$set($),(!f||m&1)&&t!==(t=c[6]+"")&&P(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function $2(i){let e,n,t,l,o;return l=new at({props:{items:i[3],$$slots:{default:[k2,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Vehicles",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&134217729&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function k2(i){let e,n;return e=new re({props:{type:"vehicle",id:i[0].id}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function v2(i){var Ot,Dt,Ut,Ft,Lt,_n,zn,Bn,ne,Re,$n,An,Mn,Dn,Ln,Gn,Un,qn,Pn,Fn,kt,Jt,Kt,gn,Yt,Zt,Qt,vt,xt;let e,n,t,l=(i[0].name?pe(i[0]):pe(i[1].byId("item",i[0].item)))+"",o,r,f,a,s,u,c,m,$,v,y,T=yl(i[1].byId("item",i[0].item).weight)+"",E,S,C,R,D,B=((Ot=i[0].durability)!=null?Ot:0)+"",O,A,M,J,j,N,X,W=((Dt=i[0].damage_modifier)!=null?Dt:100)+"",F,z,q,H,Z,Y=i[0].bonus&&zi(i[0]),K,Q,_e,V,ie,he,Ae,ve=Vt((Ut=i[0].description)!=null?Ut:i[1].byId("item",i[0].item).description)+"",fe,be,$e,ce,Ge,Te,ge,ye,Qe,oe,ke,Xe,Me=((_n=(Lt=(Ft=i[0].requirements)==null?void 0:Ft.install)==null?void 0:Lt.time)!=null?_n:"1 hour")+"",Oe,Ce,ze,we,De,Pe,Ee,Se,Be,Ue,Ve,rt,ft=((An=(Bn=(zn=i[0].requirements)==null?void 0:zn.removal)==null?void 0:Bn.time)!=null?An:Fo(`${qi(($n=(Re=(ne=i[0].requirements)==null?void 0:ne.install)==null?void 0:Re.time)!=null?$n:"1 hour")/2} s`))+"",ct,_t,bt,Ht,un,St;n=new xe({props:{item:i[0]}}),$=new re({props:{id:i[0].item,type:"item"}});const et=[u2,a2],nt=[];function Ne(se,Le){var Tt;return(Tt=se[0].fuel_options)!=null&&Tt.length?0:se[0].fuel_type?1:-1}~(S=Ne(i))&&(C=nt[S]=et[S](i));let je=i[0].size&&C_(i),yt=i[0].folded_volume&&I_(i),mt=((Mn=i[0].qualities)==null?void 0:Mn.length)&&R_(i),At=i[0].comfort&&O_(i),wt=i[0].floor_bedding_warmth&&B_(i),pt=i[0].epower&&A_(i),ut=i[0].energy_consumption&&M_(i),Ct=i[0].power&&D_(i),It=Y&&G_(i),$t=((Dn=i[0].pseudo_tools)==null?void 0:Dn.length)&&U_(i),Et=((Ln=i[2])==null?void 0:Ln.length)&&c2(i),qt=(Gn=i[0].flags)!=null?Gn:[],it=[];for(let se=0;se<qt.length;se+=1)it[se]=Y_(v_(i,qt,se));const Nn=se=>k(it[se],1,1,()=>{it[se]=null});let ht=null;qt.length||(ht=F_());let zt=(Pn=(qn=(Un=i[0].requirements)==null?void 0:Un.install)==null?void 0:qn.skills)!=null?Pn:[],Je=[];for(let se=0;se<zt.length;se+=1)Je[se]=H_(k_(i,zt,se));const cn=se=>k(Je[se],1,1,()=>{Je[se]=null});let Rt=null;zt.length||(Rt=j_()),Ce=new tr({props:{requirement:{...(kt=(Fn=i[0].requirements)==null?void 0:Fn.install)!=null?kt:{},components:((gn=(Kt=(Jt=i[0].requirements)==null?void 0:Jt.install)==null?void 0:Kt.components)!=null?gn:[]).concat([[[i[0].item,1]]])}}});let Pt=(Qt=(Zt=(Yt=i[0].requirements)==null?void 0:Yt.removal)==null?void 0:Zt.skills)!=null?Qt:[],gt=[];for(let se=0;se<Pt.length;se+=1)gt[se]=z_($_(i,Pt,se));const Gt=se=>k(gt[se],1,1,()=>{gt[se]=null});let dt=null;Pt.length||(dt=W_());let ot=((vt=i[0].requirements)==null?void 0:vt.removal)&&V_(i),st=((xt=i[0].requirements)==null?void 0:xt.repair)&&X_(i),Nt=i[3].length&&$2(i);return{c(){e=g("h1"),U(n.$$.fragment),t=I(),o=w(l),r=I(),f=g("section"),a=g("h1"),a.textContent="Vehicle Part",s=I(),u=g("dl"),c=g("dt"),c.textContent="Item",m=g("dd"),U($.$$.fragment),v=g("dt"),v.textContent="Weight",y=g("dd"),E=w(T),C&&C.c(),R=g("dt"),R.textContent=`Durability
    `,D=g("dd"),O=w(B),je&&je.c(),A=le(),yt&&yt.c(),M=le(),mt&&mt.c(),J=le(),At&&At.c(),j=le(),wt&&wt.c(),N=g("dt"),N.textContent="Damage",X=g("dd"),F=w(W),z=w("%"),pt&&pt.c(),q=le(),ut&&ut.c(),H=le(),Ct&&Ct.c(),Z=le(),It&&It.c(),K=le(),$t&&$t.c(),Q=le(),Et&&Et.c(),_e=g("dt"),_e.textContent="Flags",V=g("dd"),ie=g("ul");for(let se=0;se<it.length;se+=1)it[se].c();ht&&ht.c(),he=I(),Ae=g("p"),fe=w(ve),be=I(),$e=g("div"),ce=g("section"),Ge=g("h1"),Ge.textContent="Install",Te=I(),ge=g("dl"),ye=g("dt"),ye.textContent="Skills Required",Qe=g("dd");for(let se=0;se<Je.length;se+=1)Je[se].c();Rt&&Rt.c(),oe=I(),ke=g("dt"),ke.textContent="Time",Xe=g("dd"),Oe=w(Me),U(Ce.$$.fragment),ze=I(),we=g("section"),De=g("h1"),De.textContent="Remove",Pe=I(),Ee=g("dl"),Se=g("dt"),Se.textContent="Skills Required",Be=g("dd");for(let se=0;se<gt.length;se+=1)gt[se].c();dt&&dt.c(),Ue=I(),Ve=g("dt"),Ve.textContent="Time",rt=g("dd"),ct=w(ft),_t=I(),ot&&ot.c(),bt=I(),st&&st.c(),Ht=I(),Nt&&Nt.c(),un=le(),ae(R,"title","Maximum damage part can sustain before being destroyed"),ae(ie,"class","comma-separated"),Ze(Ae,"color","var(--cata-color-gray)"),ae(ke,"title","Time required goes down with better skills"),ae(Ve,"title","Time required goes down with better skills"),ae($e,"class","side-by-side")},m(se,Le){h(se,e,Le),L(n,e,null),d(e,t),d(e,o),h(se,r,Le),h(se,f,Le),d(f,a),d(f,s),d(f,u),d(u,c),d(u,m),L($,m,null),d(u,v),d(u,y),d(y,E),~S&&nt[S].m(u,null),d(u,R),d(u,D),d(D,O),je&&je.m(u,null),d(u,A),yt&&yt.m(u,null),d(u,M),mt&&mt.m(u,null),d(u,J),At&&At.m(u,null),d(u,j),wt&&wt.m(u,null),d(u,N),d(u,X),d(X,F),d(X,z),pt&&pt.m(u,null),d(u,q),ut&&ut.m(u,null),d(u,H),Ct&&Ct.m(u,null),d(u,Z),It&&It.m(u,null),d(u,K),$t&&$t.m(u,null),d(u,Q),Et&&Et.m(u,null),d(u,_e),d(u,V),d(V,ie);for(let Tt=0;Tt<it.length;Tt+=1)it[Tt].m(ie,null);ht&&ht.m(ie,null),d(f,he),d(f,Ae),d(Ae,fe),h(se,be,Le),h(se,$e,Le),d($e,ce),d(ce,Ge),d(ce,Te),d(ce,ge),d(ge,ye),d(ge,Qe);for(let Tt=0;Tt<Je.length;Tt+=1)Je[Tt].m(Qe,null);Rt&&Rt.m(Qe,null),d(Qe,oe),d(ge,ke),d(ge,Xe),d(Xe,Oe),L(Ce,ge,null),d($e,ze),d($e,we),d(we,De),d(we,Pe),d(we,Ee),d(Ee,Se),d(Ee,Be);for(let Tt=0;Tt<gt.length;Tt+=1)gt[Tt].m(Be,null);dt&&dt.m(Be,null),d(Be,Ue),d(Ee,Ve),d(Ee,rt),d(rt,ct),d(rt,_t),ot&&ot.m(Ee,null),h(se,bt,Le),st&&st.m(se,Le),h(se,Ht,Le),Nt&&Nt.m(se,Le),h(se,un,Le),St=!0},p(se,[Le]){var Tn,Bl,Al,Ml,Dl,Ll,Gl,Ul,ql,Pl,Fl,Yl,jl,Hl,Wl,zl,Vl,Xl,Jl,Kl,Zl,Ql,xl,Ie,Ke,ei,ti,ni,li;const Tt={};Le&1&&(Tt.item=se[0]),n.$set(Tt),(!St||Le&1)&&l!==(l=(se[0].name?pe(se[0]):pe(se[1].byId("item",se[0].item)))+"")&&P(o,l);const wn={};Le&1&&(wn.id=se[0].item),$.$set(wn),(!St||Le&1)&&T!==(T=yl(se[1].byId("item",se[0].item).weight)+"")&&P(E,T);let kn=S;if(S=Ne(se),S===kn?~S&&nt[S].p(se,Le):(C&&(x(),k(nt[kn],1,1,()=>{nt[kn]=null}),ee()),~S?(C=nt[S],C?C.p(se,Le):(C=nt[S]=et[S](se),C.c()),b(C,1),C.m(u,R)):C=null),(!St||Le&1)&&B!==(B=((Tn=se[0].durability)!=null?Tn:0)+"")&&P(O,B),se[0].size?je?je.p(se,Le):(je=C_(se),je.c(),je.m(u,A)):je&&(je.d(1),je=null),se[0].folded_volume?yt?yt.p(se,Le):(yt=I_(se),yt.c(),yt.m(u,M)):yt&&(yt.d(1),yt=null),(Bl=se[0].qualities)!=null&&Bl.length?mt?(mt.p(se,Le),Le&1&&b(mt,1)):(mt=R_(se),mt.c(),b(mt,1),mt.m(u,J)):mt&&(x(),k(mt,1,1,()=>{mt=null}),ee()),se[0].comfort?At?At.p(se,Le):(At=O_(se),At.c(),At.m(u,j)):At&&(At.d(1),At=null),se[0].floor_bedding_warmth?wt?wt.p(se,Le):(wt=B_(se),wt.c(),wt.m(u,N)):wt&&(wt.d(1),wt=null),(!St||Le&1)&&W!==(W=((Al=se[0].damage_modifier)!=null?Al:100)+"")&&P(F,W),se[0].epower?pt?pt.p(se,Le):(pt=A_(se),pt.c(),pt.m(u,q)):pt&&(pt.d(1),pt=null),se[0].energy_consumption?ut?ut.p(se,Le):(ut=M_(se),ut.c(),ut.m(u,H)):ut&&(ut.d(1),ut=null),se[0].power?Ct?Ct.p(se,Le):(Ct=D_(se),Ct.c(),Ct.m(u,Z)):Ct&&(Ct.d(1),Ct=null),Le&1&&(Y=se[0].bonus&&zi(se[0])),Y?It?It.p(se,Le):(It=G_(se),It.c(),It.m(u,K)):It&&(It.d(1),It=null),(Ml=se[0].pseudo_tools)!=null&&Ml.length?$t?($t.p(se,Le),Le&1&&b($t,1)):($t=U_(se),$t.c(),b($t,1),$t.m(u,Q)):$t&&(x(),k($t,1,1,()=>{$t=null}),ee()),(Dl=se[2])!=null&&Dl.length&&Et.p(se,Le),Le&1){qt=(Ll=se[0].flags)!=null?Ll:[];let tt;for(tt=0;tt<qt.length;tt+=1){const Sn=v_(se,qt,tt);it[tt]?(it[tt].p(Sn,Le),b(it[tt],1)):(it[tt]=Y_(Sn),it[tt].c(),b(it[tt],1),it[tt].m(ie,null))}for(x(),tt=qt.length;tt<it.length;tt+=1)Nn(tt);ee(),!qt.length&&ht?ht.p(se,Le):qt.length?ht&&(ht.d(1),ht=null):(ht=F_(),ht.c(),ht.m(ie,null))}if((!St||Le&1)&&ve!==(ve=Vt((Gl=se[0].description)!=null?Gl:se[1].byId("item",se[0].item).description)+"")&&P(fe,ve),Le&1){zt=(Pl=(ql=(Ul=se[0].requirements)==null?void 0:Ul.install)==null?void 0:ql.skills)!=null?Pl:[];let tt;for(tt=0;tt<zt.length;tt+=1){const Sn=k_(se,zt,tt);Je[tt]?(Je[tt].p(Sn,Le),b(Je[tt],1)):(Je[tt]=H_(Sn),Je[tt].c(),b(Je[tt],1),Je[tt].m(Qe,oe))}for(x(),tt=zt.length;tt<Je.length;tt+=1)cn(tt);ee(),zt.length?Rt&&(Rt.d(1),Rt=null):Rt||(Rt=j_(),Rt.c(),Rt.m(Qe,oe))}(!St||Le&1)&&Me!==(Me=((jl=(Yl=(Fl=se[0].requirements)==null?void 0:Fl.install)==null?void 0:Yl.time)!=null?jl:"1 hour")+"")&&P(Oe,Me);const En={};if(Le&1&&(En.requirement={...(Wl=(Hl=se[0].requirements)==null?void 0:Hl.install)!=null?Wl:{},components:((Xl=(Vl=(zl=se[0].requirements)==null?void 0:zl.install)==null?void 0:Vl.components)!=null?Xl:[]).concat([[[se[0].item,1]]])}),Ce.$set(En),Le&1){Pt=(Zl=(Kl=(Jl=se[0].requirements)==null?void 0:Jl.removal)==null?void 0:Kl.skills)!=null?Zl:[];let tt;for(tt=0;tt<Pt.length;tt+=1){const Sn=$_(se,Pt,tt);gt[tt]?(gt[tt].p(Sn,Le),b(gt[tt],1)):(gt[tt]=z_(Sn),gt[tt].c(),b(gt[tt],1),gt[tt].m(Be,Ue))}for(x(),tt=Pt.length;tt<gt.length;tt+=1)Gt(tt);ee(),Pt.length?dt&&(dt.d(1),dt=null):dt||(dt=W_(),dt.c(),dt.m(Be,Ue))}(!St||Le&1)&&ft!==(ft=((ti=(xl=(Ql=se[0].requirements)==null?void 0:Ql.removal)==null?void 0:xl.time)!=null?ti:Fo(`${qi((ei=(Ke=(Ie=se[0].requirements)==null?void 0:Ie.install)==null?void 0:Ke.time)!=null?ei:"1 hour")/2} s`))+"")&&P(ct,ft),(ni=se[0].requirements)!=null&&ni.removal?ot?(ot.p(se,Le),Le&1&&b(ot,1)):(ot=V_(se),ot.c(),b(ot,1),ot.m(Ee,null)):ot&&(x(),k(ot,1,1,()=>{ot=null}),ee()),(li=se[0].requirements)!=null&&li.repair?st?(st.p(se,Le),Le&1&&b(st,1)):(st=X_(se),st.c(),b(st,1),st.m(Ht.parentNode,Ht)):st&&(x(),k(st,1,1,()=>{st=null}),ee()),se[3].length&&Nt.p(se,Le)},i(se){if(!St){b(n.$$.fragment,se),b($.$$.fragment,se),b(C),b(mt),b($t),b(Et);for(let Le=0;Le<qt.length;Le+=1)b(it[Le]);for(let Le=0;Le<zt.length;Le+=1)b(Je[Le]);b(Ce.$$.fragment,se);for(let Le=0;Le<Pt.length;Le+=1)b(gt[Le]);b(ot),b(st),b(Nt),St=!0}},o(se){k(n.$$.fragment,se),k($.$$.fragment,se),k(C),k(mt),k($t),k(Et),it=it.filter(Boolean);for(let Le=0;Le<it.length;Le+=1)k(it[Le]);Je=Je.filter(Boolean);for(let Le=0;Le<Je.length;Le+=1)k(Je[Le]);k(Ce.$$.fragment,se),gt=gt.filter(Boolean);for(let Le=0;Le<gt.length;Le+=1)k(gt[Le]);k(ot),k(st),k(Nt),St=!1},d(se){se&&p(e),G(n),se&&p(r),se&&p(f),G($),~S&&nt[S].d(),je&&je.d(),yt&&yt.d(),mt&&mt.d(),At&&At.d(),wt&&wt.d(),pt&&pt.d(),ut&&ut.d(),Ct&&Ct.d(),It&&It.d(),$t&&$t.d(),Et&&Et.d(),ue(it,se),ht&&ht.d(),se&&p(be),se&&p($e),ue(Je,se),Rt&&Rt.d(),G(Ce),ue(gt,se),dt&&dt.d(),ot&&ot.d(),se&&p(bt),st&&st.d(se),se&&p(Ht),Nt&&Nt.d(se),se&&p(un)}}}function zi(i){var t;const e=["LIGHT","CONE_LIGHT","WIDE_CONE_LIGHT","CIRCLE_LIGHT","DOME_LIGHT","AISLE_LIGHT","EVENTURN","ODDTURN","ATOMIC_LIGHT"],n=(t=i.flags)!=null?t:[];if(n.includes("SEATBELT"))return"Strength";if(n.includes("HORN"))return"Noise";if(n.includes("MUFFLER"))return"Noise Reduction";if(n.includes("VISION"))return"Range";if(e.some(l=>n.includes(l)))return"Light";if(n.includes("REAPER"))return"Plant Harvested"}function y2(i,e,n){let{item:t}=e;const l=lt("data"),o=typeof t.breaks_into=="string"?l.byId("item_group",t.breaks_into):Array.isArray(t.breaks_into)?{subtype:"collection",entries:t.breaks_into}:t.breaks_into?t.breaks_into:null,r=o&&l.flattenItemGroup(o),f=l.byType("vehicle").filter(a=>a.parts.some(s=>{var c;return(s.part?[{part:s.part,fuel:s.fuel}]:(c=s.parts)==null?void 0:c.map(m=>typeof m=="string"?{part:m}:m)).some(m=>oh(l,m.part)[0]===t.id)}));return f.sort((a,s)=>pe(a).localeCompare(pe(s))),i.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,l,r,f]}class w2 extends We{constructor(e){super(),He(this,e,y2,v2,Fe,{item:0})}}function Z_(i,e,n){const t=i.slice();return t[1]=e[n],t}function Q_(i,e,n){const t=i.slice();return t[1]=e[n],t}function x_(i){var u,c;let e,n,t,l,o,r=(u=i[0].mult_bonuses)!=null?u:[],f=[];for(let m=0;m<r.length;m+=1)f[m]=nd(Q_(i,r,m));let a=(c=i[0].flat_bonuses)!=null?c:[],s=[];for(let m=0;m<a.length;m+=1)s[m]=id(Z_(i,a,m));return{c(){e=g("dt"),e.textContent="Bonus",n=I(),t=g("dd"),l=g("ul");for(let m=0;m<f.length;m+=1)f[m].c();o=I();for(let m=0;m<s.length;m+=1)s[m].c()},m(m,$){h(m,e,$),h(m,n,$),h(m,t,$),d(t,l);for(let v=0;v<f.length;v+=1)f[v].m(l,null);d(l,o);for(let v=0;v<s.length;v+=1)s[v].m(l,null)},p(m,$){var v,y;if($&1){r=(v=m[0].mult_bonuses)!=null?v:[];let T;for(T=0;T<r.length;T+=1){const E=Q_(m,r,T);f[T]?f[T].p(E,$):(f[T]=nd(E),f[T].c(),f[T].m(l,o))}for(;T<f.length;T+=1)f[T].d(1);f.length=r.length}if($&1){a=(y=m[0].flat_bonuses)!=null?y:[];let T;for(T=0;T<a.length;T+=1){const E=Z_(m,a,T);s[T]?s[T].p(E,$):(s[T]=id(E),s[T].c(),s[T].m(l,null))}for(;T<s.length;T+=1)s[T].d(1);s.length=a.length}},d(m){m&&p(e),m&&p(n),m&&p(t),ue(f,m),ue(s,m)}}}function ed(i){let e=i[1].type+"",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},p(t,l){l&1&&e!==(e=t[1].type+"")&&P(n,e)},d(t){t&&p(n)}}}function td(i){let e,n=Xi(i[1]["scaling-stat"])+"",t;return{c(){e=w("of "),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o&1&&n!==(n=Xi(l[1]["scaling-stat"])+"")&&P(t,n)},d(l){l&&p(e),l&&p(t)}}}function nd(i){let e,n=Ji(i[1].stat),t,l=Vi(i[1].stat)+"",o,r,f=(i[1].scale*100).toFixed(0)+"",a,s,u=n&&ed(i),c=i[1]["scaling-stat"]&&td(i);return{c(){e=g("li"),u&&u.c(),t=I(),o=w(l),r=w(": "),a=w(f),s=w("% "),c&&c.c()},m(m,$){h(m,e,$),u&&u.m(e,null),d(e,t),d(e,o),d(e,r),d(e,a),d(e,s),c&&c.m(e,null)},p(m,$){$&1&&(n=Ji(m[1].stat)),n?u?u.p(m,$):(u=ed(m),u.c(),u.m(e,t)):u&&(u.d(1),u=null),$&1&&l!==(l=Vi(m[1].stat)+"")&&P(o,l),$&1&&f!==(f=(m[1].scale*100).toFixed(0)+"")&&P(a,f),m[1]["scaling-stat"]?c?c.p(m,$):(c=td(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(m){m&&p(e),u&&u.d(),c&&c.d()}}}function ld(i){let e=i[1].type+"",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},p(t,l){l&1&&e!==(e=t[1].type+"")&&P(n,e)},d(t){t&&p(n)}}}function E2(i){let e=i[1].scale<0?"":"+",n,t=i[1].scale+"",l;return{c(){n=w(e),l=w(t)},m(o,r){h(o,n,r),h(o,l,r)},p(o,r){r&1&&e!==(e=o[1].scale<0?"":"+")&&P(n,e),r&1&&t!==(t=o[1].scale+"")&&P(l,t)},d(o){o&&p(n),o&&p(l)}}}function T2(i){let e=i[1].scale<0?"":"+",n,t=(i[1].scale*100).toFixed(0)+"",l,o,r=Xi(i[1]["scaling-stat"])+"",f;return{c(){n=w(e),l=w(t),o=w("% of "),f=w(r)},m(a,s){h(a,n,s),h(a,l,s),h(a,o,s),h(a,f,s)},p(a,s){s&1&&e!==(e=a[1].scale<0?"":"+")&&P(n,e),s&1&&t!==(t=(a[1].scale*100).toFixed(0)+"")&&P(l,t),s&1&&r!==(r=Xi(a[1]["scaling-stat"])+"")&&P(f,r)},d(a){a&&p(n),a&&p(l),a&&p(o),a&&p(f)}}}function id(i){let e,n=Ji(i[1].stat),t,l=Vi(i[1].stat)+"",o,r,f,a=n&&ld(i);function s(m,$){return m[1]["scaling-stat"]?T2:E2}let u=s(i),c=u(i);return{c(){e=g("li"),a&&a.c(),t=I(),o=w(l),r=w(`:
          `),c.c(),f=I()},m(m,$){h(m,e,$),a&&a.m(e,null),d(e,t),d(e,o),d(e,r),c.m(e,null),d(e,f)},p(m,$){$&1&&(n=Ji(m[1].stat)),n?a?a.p(m,$):(a=ld(m),a.c(),a.m(e,t)):a&&(a.d(1),a=null),$&1&&l!==(l=Vi(m[1].stat)+"")&&P(o,l),u===(u=s(m))&&c?c.p(m,$):(c.d(1),c=u(m),c&&(c.c(),c.m(e,f)))},d(m){m&&p(e),a&&a.d(),c.d()}}}function S2(i){let e,n=(i[0].mult_bonuses||i[0].flat_bonuses)&&x_(i);return{c(){n&&n.c(),e=le()},m(t,l){n&&n.m(t,l),h(t,e,l)},p(t,[l]){t[0].mult_bonuses||t[0].flat_bonuses?n?n.p(t,l):(n=x_(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:te,o:te,d(t){n&&n.d(t),t&&p(e)}}}function Vi(i){switch(i){case"hit":return"Accuracy";case"crit_chance":return"Critical Hit Chance";case"dodge":return"Dodge";case"block":return"Block";case"block_effectiveness":return"Block effectiveness";case"speed":return"Speed";case"movecost":return"Move cost";case"damage":return"damage";case"armor":return"Armor";case"arpen":return"Armor penetration";case"target_armor_multiplier":return"Target armor multiplier";default:return""}}function Xi(i){switch(i){case"str":return"strength";case"dex":return"dexterity";case"int":return"intelligence";case"per":return"perception";default:return""}}function Ji(i){return i==="damage"||i==="armor"||i==="arpen"}function C2(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class bh extends We{constructor(e){super(),He(this,e,C2,S2,Fe,{item:0})}}function rd(i,e,n){const t=i.slice();return t[3]=e[n],t}function od(i,e,n){const t=i.slice();return t[6]=e[n].name,t[7]=e[n].level,t[9]=n,t}function fd(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function I2(i){let e=", ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function R2(i){let e=" and ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},d(t){t&&p(n)}}}function sd(i){let e,n,t=i[7]+"",l,o,r,f;e=new re({props:{type:"skill",id:i[6]}});function a(c,m){if(c[9]===c[0].skill_requirements.length-2)return R2;if(c[9]!==c[0].skill_requirements.length-1)return I2}let s=a(i),u=s&&s(i);return{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")"),u&&u.c(),r=le()},m(c,m){L(e,c,m),h(c,n,m),h(c,l,m),h(c,o,m),u&&u.m(c,m),h(c,r,m),f=!0},p(c,m){const $={};m&1&&($.id=c[6]),e.$set($),(!f||m&1)&&t!==(t=c[7]+"")&&P(l,t),s!==(s=a(c))&&(u&&u.d(1),u=s&&s(c),u&&(u.c(),u.m(r.parentNode,r)))},i(c){f||(b(e.$$.fragment,c),f=!0)},o(c){k(e.$$.fragment,c),f=!1},d(c){G(e,c),c&&p(n),c&&p(l),c&&p(o),u&&u.d(c),c&&p(r)}}}function N2(i){let e,n,t,l,o=i[2],r=[];for(let f=0;f<o.length;f+=1)r[f]=ad(rd(i,o,f));return{c(){e=g("dt"),e.textContent="Required Buffs",n=I(),t=g("dd"),l=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();ae(l,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),h(f,t,a),d(t,l);for(let s=0;s<r.length;s+=1)r[s].m(l,null)},p(f,a){if(a&6){o=f[2];let s;for(s=0;s<o.length;s+=1){const u=rd(f,o,s);r[s]?r[s].p(u,a):(r[s]=ad(u),r[s].c(),r[s].m(l,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),f&&p(t),ue(r,f)}}}function O2(i){let e,n=i[3]+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:te,d(l){l&&p(e)}}}function B2(i){let e,n=pe(i[1].get(i[3]))+"",t;return{c(){e=g("li"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&2&&n!==(n=pe(l[1].get(l[3]))+"")&&P(t,n)},d(l){l&&p(e)}}}function ad(i){let e,n;function t(r,f){return f&2&&(e=null),e==null&&(e=!!r[1].has(r[3])),e?B2:O2}let l=t(i,-1),o=l(i);return{c(){o.c(),n=le()},m(r,f){o.m(r,f),h(r,n,f)},p(r,f){l===(l=t(r,f))&&o?o.p(r,f):(o.d(1),o=l(r),o&&(o.c(),o.m(n.parentNode,n)))},d(r){o.d(r),r&&p(n)}}}function ud(i){let e,n,t;return{c(){e=g("dt"),e.textContent="Requires Adjacent Wall",n=I(),t=g("dd"),t.textContent="Yes"},m(l,o){h(l,e,o),h(l,n,o),h(l,t,o)},d(l){l&&p(e),l&&p(n),l&&p(t)}}}function A2(i){var F,z;let e,n,t,l,o,r,f,a,s,u=i[0].melee_allowed?"Yes":"No",c,m,$,v,y,T=i[0].unarmed_allowed?"Yes":"No",E,S,C,R,D,B=(F=i[0].unarmed_weapons_allowed)==null||F?"Yes":"No",O,A,M=(z=i[0].skill_requirements)!=null?z:[],J=[];for(let q=0;q<M.length;q+=1)J[q]=sd(od(i,M,q));const j=q=>k(J[q],1,1,()=>{J[q]=null});let N=null;M.length||(N=fd());let X=i[2].length&&N2(i),W=i[0].wall_adjacent&&ud();return{c(){e=g("dt"),e.textContent="Required Skills",n=I(),t=g("dd");for(let q=0;q<J.length;q+=1)J[q].c();N&&N.c(),l=I(),X&&X.c(),o=I(),W&&W.c(),r=I(),f=g("dt"),f.textContent="Melee Weapon Allowed",a=I(),s=g("dd"),c=w(u),m=I(),$=g("dt"),$.textContent="Unarmed Allowed",v=I(),y=g("dd"),E=w(T),S=I(),C=g("dt"),C.textContent="Unarmed Weapon Allowed",R=I(),D=g("dd"),O=w(B)},m(q,H){h(q,e,H),h(q,n,H),h(q,t,H);for(let Z=0;Z<J.length;Z+=1)J[Z].m(t,null);N&&N.m(t,null),h(q,l,H),X&&X.m(q,H),h(q,o,H),W&&W.m(q,H),h(q,r,H),h(q,f,H),h(q,a,H),h(q,s,H),d(s,c),h(q,m,H),h(q,$,H),h(q,v,H),h(q,y,H),d(y,E),h(q,S,H),h(q,C,H),h(q,R,H),h(q,D,H),d(D,O),A=!0},p(q,[H]){var Z,Y;if(H&1){M=(Z=q[0].skill_requirements)!=null?Z:[];let K;for(K=0;K<M.length;K+=1){const Q=od(q,M,K);J[K]?(J[K].p(Q,H),b(J[K],1)):(J[K]=sd(Q),J[K].c(),b(J[K],1),J[K].m(t,null))}for(x(),K=M.length;K<J.length;K+=1)j(K);ee(),!M.length&&N?N.p(q,H):M.length?N&&(N.d(1),N=null):(N=fd(),N.c(),N.m(t,null))}q[2].length&&X.p(q,H),q[0].wall_adjacent?W||(W=ud(),W.c(),W.m(r.parentNode,r)):W&&(W.d(1),W=null),(!A||H&1)&&u!==(u=q[0].melee_allowed?"Yes":"No")&&P(c,u),(!A||H&1)&&T!==(T=q[0].unarmed_allowed?"Yes":"No")&&P(E,T),(!A||H&1)&&B!==(B=(Y=q[0].unarmed_weapons_allowed)==null||Y?"Yes":"No")&&P(O,B)},i(q){if(!A){for(let H=0;H<M.length;H+=1)b(J[H]);A=!0}},o(q){J=J.filter(Boolean);for(let H=0;H<J.length;H+=1)k(J[H]);A=!1},d(q){q&&p(e),q&&p(n),q&&p(t),ue(J,q),N&&N.d(),q&&p(l),X&&X.d(q),q&&p(o),W&&W.d(q),q&&p(r),q&&p(f),q&&p(a),q&&p(s),q&&p(m),q&&p($),q&&p(v),q&&p(y),q&&p(S),q&&p(C),q&&p(R),q&&p(D)}}}function M2(i,e,n){var r;let{item:t}=e,{buffMap:l=new Map}=e;const o=typeof t.req_buffs=="string"?[t.req_buffs]:(r=t.req_buffs)!=null?r:[];return i.$$set=f=>{"item"in f&&n(0,t=f.item),"buffMap"in f&&n(1,l=f.buffMap)},[t,l,o]}class $h extends We{constructor(e){super(),He(this,e,M2,A2,Fe,{item:0,buffMap:1})}}function cd(i){let e,n,t;function l(f,a){if(f[1].weighting>1)return L2;if(f[1].weighting<-1)return D2}let o=l(i),r=o&&o(i);return{c(){e=g("dt"),e.textContent="Chance to Activate",n=g("dd"),r&&r.c(),t=I()},m(f,a){h(f,e,a),h(f,n,a),r&&r.m(n,null),d(n,t)},p(f,a){o===(o=l(f))&&r?r.p(f,a):(r&&r.d(1),r=o&&o(f),r&&(r.c(),r.m(n,t)))},d(f){f&&p(e),f&&p(n),r&&r.d()}}}function D2(i){let e,n=Math.abs(i[1].weighting)+"",t;return{c(){e=w("1/"),t=w(n)},m(l,o){h(l,e,o),h(l,t,o)},p(l,o){o&2&&n!==(n=Math.abs(l[1].weighting)+"")&&P(t,n)},d(l){l&&p(e),l&&p(t)}}}function L2(i){let e,n=((i[1].weighting-1)*100).toFixed(0)+"",t,l;return{c(){e=w("+"),t=w(n),l=w("%")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p(o,r){r&2&&n!==(n=((o[1].weighting-1)*100).toFixed(0)+"")&&P(t,n)},d(o){o&&p(e),o&&p(t),o&&p(l)}}}function G2(i){let e,n;return{c(){e=g("dt"),e.textContent="Target Requirements",n=g("dd"),n.textContent=`${i[4].join(", ")} 
      `},m(t,l){h(t,e,l),h(t,n,l)},p:te,d(t){t&&p(e),t&&p(n)}}}function _d(i){let e,n,t=i[1].aoe+"",l;return{c(){e=g("dt"),e.textContent="AoE Shape",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&2&&t!==(t=o[1].aoe+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function dd(i){let e,n,t=i[1].stun_dur+"",l;return{c(){e=g("dt"),e.textContent="Stun Duration",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&2&&t!==(t=o[1].stun_dur+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function md(i){let e,n,t=i[1].down_dur+"",l;return{c(){e=g("dt"),e.textContent="Down Duration",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&2&&t!==(t=o[1].down_dur+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function pd(i){let e,n,t=i[1].knockback_dist+"",l;return{c(){e=g("dt"),e.textContent="Knockback Distance",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r&2&&t!==(t=o[1].knockback_dist+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function hd(i){let e,n=i[1].description+"",t;return{c(){e=g("p"),t=w(n),Ze(e,"color","var(--cata-color-gray)")},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&2&&n!==(n=l[1].description+"")&&P(t,n)},d(l){l&&p(e)}}}function U2(i){let e,n,t,l,o;return l=new at({props:{items:i[2],limit:20,$$slots:{default:[q2,({item:r})=>({1:r}),({item:r})=>r?2:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Weapons",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&66&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function q2(i){let e,n;return e=new re({props:{type:"item",id:i[1].id}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.id=t[1].id),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function P2(i){let e,n,t,l=i[1].name+"",o,r,f,a,s,u,c,m,$=i[1].crit_ok?"Yes":i[1].crit_tec?"Only":"No",v,y,T,E,S,C,R,D,B,O,A,M,J,j=JSON.stringify(i[1],null,2)+"",N,X,W,F;u=new $h({props:{item:i[1],buffMap:i[0]}});let z=i[1].weighting&&i[1].weighting!==1&&cd(i),q=i[4].length&&G2(i),H=i[1].aoe&&_d(i);S=new bh({props:{item:i[1]}});let Z=i[1].stun_dur&&dd(i),Y=i[1].down_dur&&md(i),K=i[1].knockback_dist&&pd(i),Q=i[1].description&&hd(i),_e=i[2].length&&U2(i);return{c(){e=g("section"),n=g("h1"),t=w("Technique: "),o=w(l),r=I(),f=g("dl"),a=g("dt"),a.textContent="Type",s=g("dd"),s.textContent=`${i[3]}`,U(u.$$.fragment),c=g("dt"),c.textContent="Activate on Crit?",m=g("dd"),v=w($),z&&z.c(),y=le(),q&&q.c(),T=le(),H&&H.c(),E=le(),U(S.$$.fragment),Z&&Z.c(),C=le(),Y&&Y.c(),R=le(),K&&K.c(),D=I(),Q&&Q.c(),B=I(),O=g("details"),A=g("summary"),A.textContent="Technique JSON",M=I(),J=g("pre"),N=w(j),X=I(),_e&&_e.c(),W=le()},m(V,ie){h(V,e,ie),d(e,n),d(n,t),d(n,o),d(e,r),d(e,f),d(f,a),d(f,s),L(u,f,null),d(f,c),d(f,m),d(m,v),z&&z.m(f,null),d(f,y),q&&q.m(f,null),d(f,T),H&&H.m(f,null),d(f,E),L(S,f,null),Z&&Z.m(f,null),d(f,C),Y&&Y.m(f,null),d(f,R),K&&K.m(f,null),d(e,D),Q&&Q.m(e,null),d(e,B),d(e,O),d(O,A),d(O,M),d(O,J),d(J,N),h(V,X,ie),_e&&_e.m(V,ie),h(V,W,ie),F=!0},p(V,[ie]){(!F||ie&2)&&l!==(l=V[1].name+"")&&P(o,l);const he={};ie&2&&(he.item=V[1]),ie&1&&(he.buffMap=V[0]),u.$set(he),(!F||ie&2)&&$!==($=V[1].crit_ok?"Yes":V[1].crit_tec?"Only":"No")&&P(v,$),V[1].weighting&&V[1].weighting!==1?z?z.p(V,ie):(z=cd(V),z.c(),z.m(f,y)):z&&(z.d(1),z=null),V[4].length&&q.p(V,ie),V[1].aoe?H?H.p(V,ie):(H=_d(V),H.c(),H.m(f,E)):H&&(H.d(1),H=null);const Ae={};ie&2&&(Ae.item=V[1]),S.$set(Ae),V[1].stun_dur?Z?Z.p(V,ie):(Z=dd(V),Z.c(),Z.m(f,C)):Z&&(Z.d(1),Z=null),V[1].down_dur?Y?Y.p(V,ie):(Y=md(V),Y.c(),Y.m(f,R)):Y&&(Y.d(1),Y=null),V[1].knockback_dist?K?K.p(V,ie):(K=pd(V),K.c(),K.m(f,null)):K&&(K.d(1),K=null),V[1].description?Q?Q.p(V,ie):(Q=hd(V),Q.c(),Q.m(e,B)):Q&&(Q.d(1),Q=null),(!F||ie&2)&&j!==(j=JSON.stringify(V[1],null,2)+"")&&P(N,j),V[2].length&&_e.p(V,ie)},i(V){F||(b(u.$$.fragment,V),b(S.$$.fragment,V),b(_e),F=!0)},o(V){k(u.$$.fragment,V),k(S.$$.fragment,V),k(_e),F=!1},d(V){V&&p(e),G(u),z&&z.d(),q&&q.d(),H&&H.d(),G(S),Z&&Z.d(),Y&&Y.d(),K&&K.d(),Q&&Q.d(),V&&p(X),_e&&_e.d(V),V&&p(W)}}}function F2(i,e,n){let{item:t}=e,{buffMap:l=new Map}=e;const r=lt("data").byType("item").filter(s=>{var u;return s.id&&((u=s.techniques)!=null?u:[]).includes(t.id)}).sort((s,u)=>s.id.localeCompare(u.id)),f=t.block_counter?"Block Counter":t.dodge_counter?"Dodge Counter":t.miss_recovery?"Miss Recovery":t.grab_break?"Grab Break":t.defensive?"Defensive":"Offensive",a=[];return t.human_target&&a.push("humanoid"),t.downed_target&&a.push("downed"),t.stunned_target&&a.push("stunned"),i.$$set=s=>{"item"in s&&n(1,t=s.item),"buffMap"in s&&n(0,l=s.buffMap)},[l,t,r,f,a]}class Y2 extends We{constructor(e){super(),He(this,e,F2,P2,Fe,{item:1,buffMap:0})}}function gd(i,e,n){const t=i.slice();return t[6]=e[n],t}function bd(i,e,n){const t=i.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function $d(i,e,n){const t=i.slice();return t[13]=e[n],t}function kd(i,e,n){const t=i.slice();return t[16]=e[n],t}function vd(i,e,n){const t=i.slice();return t[19]=e[n],t}function yd(i,e,n){const t=i.slice();return t[22]=e[n][0],t[23]=e[n][1],t}function wd(i){var v,y,T;let e,n,t,l,o,r,f,a=i[0].learn_difficulty!=null&&Ed(i),s=((v=i[0].autolearn)==null?void 0:v.length)&&Td(i),u=i[2].length&&j2(i),c=i[0].weapon_category&&Rd(i),m=(((y=i[0].arm_block)!=null?y:99)!=99||i[0].arm_block_with_bio_armor_arms)&&Od(i),$=(((T=i[0].leg_block)!=null?T:99)!==99||i[0].leg_block_with_bio_armor_legs)&&Bd(i);return{c(){e=g("dl"),a&&a.c(),n=le(),s&&s.c(),t=le(),u&&u.c(),l=le(),c&&c.c(),o=le(),m&&m.c(),r=le(),$&&$.c()},m(E,S){h(E,e,S),a&&a.m(e,null),d(e,n),s&&s.m(e,null),d(e,t),u&&u.m(e,null),d(e,l),c&&c.m(e,null),d(e,o),m&&m.m(e,null),d(e,r),$&&$.m(e,null),f=!0},p(E,S){var C,R,D;E[0].learn_difficulty!=null?a?a.p(E,S):(a=Ed(E),a.c(),a.m(e,n)):a&&(a.d(1),a=null),(C=E[0].autolearn)!=null&&C.length?s?(s.p(E,S),S&1&&b(s,1)):(s=Td(E),s.c(),b(s,1),s.m(e,t)):s&&(x(),k(s,1,1,()=>{s=null}),ee()),E[2].length&&u.p(E,S),E[0].weapon_category?c?(c.p(E,S),S&1&&b(c,1)):(c=Rd(E),c.c(),b(c,1),c.m(e,o)):c&&(x(),k(c,1,1,()=>{c=null}),ee()),((R=E[0].arm_block)!=null?R:99)!=99||E[0].arm_block_with_bio_armor_arms?m?(m.p(E,S),S&1&&b(m,1)):(m=Od(E),m.c(),b(m,1),m.m(e,r)):m&&(x(),k(m,1,1,()=>{m=null}),ee()),((D=E[0].leg_block)!=null?D:99)!==99||E[0].leg_block_with_bio_armor_legs?$?($.p(E,S),S&1&&b($,1)):($=Bd(E),$.c(),b($,1),$.m(e,null)):$&&(x(),k($,1,1,()=>{$=null}),ee())},i(E){f||(b(s),b(u),b(c),b(m),b($),f=!0)},o(E){k(s),k(u),k(c),k(m),k($),f=!1},d(E){E&&p(e),a&&a.d(),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d(),$&&$.d()}}}function Ed(i){let e,n,t=i[0].learn_difficulty+"",l,o,r=Ud(i[0].learn_difficulty)+"",f,a;return{c(){e=g("dt"),e.textContent="Difficulty to Learn",n=g("dd"),l=w(t),o=w(" ("),f=w(r),a=w(`)
        `)},m(s,u){h(s,e,u),h(s,n,u),d(n,l),d(n,o),d(n,f),d(n,a)},p(s,u){u&1&&t!==(t=s[0].learn_difficulty+"")&&P(l,t),u&1&&r!==(r=Ud(s[0].learn_difficulty)+"")&&P(f,r)},d(s){s&&p(e),s&&p(n)}}}function Td(i){let e,n,t,l,o=i[0].autolearn&&Sd(i);return{c(){e=g("dt"),e.textContent=`Autolearn
        `,n=g("dd"),o&&o.c(),t=I(),ae(e,"title","Learned at these skill levels, otherwise only learnable from a book")},m(r,f){h(r,e,f),h(r,n,f),o&&o.m(n,null),d(n,t),l=!0},p(r,f){r[0].autolearn?o?(o.p(r,f),f&1&&b(o,1)):(o=Sd(r),o.c(),b(o,1),o.m(n,t)):o&&(x(),k(o,1,1,()=>{o=null}),ee())},i(r){l||(b(o),l=!0)},o(r){k(o),l=!1},d(r){r&&p(e),r&&p(n),o&&o.d()}}}function Sd(i){let e,n,t=i[0].autolearn,l=[];for(let r=0;r<t.length;r+=1)l[r]=Cd(yd(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c();ae(e,"class","comma-separated")},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f&1){t=r[0].autolearn;let a;for(a=0;a<t.length;a+=1){const s=yd(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Cd(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ue(l,r)}}}function Cd(i){let e,n,t,l=i[23]+"",o,r,f;return n=new re({props:{type:"skill",id:i[22]}}),{c(){e=g("li"),U(n.$$.fragment),t=w(" ("),o=w(l),r=w(")")},m(a,s){h(a,e,s),L(n,e,null),d(e,t),d(e,o),d(e,r),f=!0},p(a,s){const u={};s&1&&(u.id=a[22]),n.$set(u),(!f||s&1)&&l!==(l=a[23]+"")&&P(o,l)},i(a){f||(b(n.$$.fragment,a),f=!0)},o(a){k(n.$$.fragment,a),f=!1},d(a){a&&p(e),G(n)}}}function j2(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Id(vd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Found In",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=vd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Id(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Id(i){let e,n,t;return n=new re({props:{type:"item",id:i[19].id}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Rd(i){let e,n,t,l,o,r=i[0].weapon_category,f=[];for(let s=0;s<r.length;s+=1)f[s]=Nd(kd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Weapon Category",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].weapon_category;let c;for(c=0;c<r.length;c+=1){const m=kd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Nd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Nd(i){let e,n,t;return n=new re({props:{type:"weapon_category",id:i[16]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[16]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Od(i){let e,n,t,l,o,r;const f=[W2,H2],a=[];function s(u,c){return u[0].arm_block_with_bio_armor_arms?0:1}return t=s(i),l=a[t]=f[t](i),{c(){e=g("dt"),e.textContent="Arm Block",n=g("dd"),l.c(),o=I()},m(u,c){h(u,e,c),h(u,n,c),a[t].m(n,null),d(n,o),r=!0},p(u,c){let m=t;t=s(u),t===m?a[t].p(u,c):(x(),k(a[m],1,1,()=>{a[m]=null}),ee(),l=a[t],l?l.p(u,c):(l=a[t]=f[t](u),l.c()),b(l,1),l.m(n,o))},i(u){r||(b(l),r=!0)},o(u){k(l),r=!1},d(u){u&&p(e),u&&p(n),a[t].d()}}}function H2(i){let e,n,t=i[0].arm_block+"",l,o,r;return e=new re({props:{type:"skill",id:"unarmed"}}),{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(f,a){L(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){(!r||a&1)&&t!==(t=f[0].arm_block+"")&&P(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function W2(i){let e,n,t;return n=new re({props:{type:"item",id:"bio_armor_arms"}}),{c(){e=w("with "),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,l,o),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n,l)}}}function Bd(i){let e,n,t,l,o;const r=[V2,z2],f=[];function a(s,u){return s[0].leg_block_with_bio_armor_legs?0:1}return t=a(i),l=f[t]=r[t](i),{c(){e=g("dt"),e.textContent="Leg Block",n=g("dd"),l.c()},m(s,u){h(s,e,u),h(s,n,u),f[t].m(n,null),o=!0},p(s,u){let c=t;t=a(s),t===c?f[t].p(s,u):(x(),k(f[c],1,1,()=>{f[c]=null}),ee(),l=f[t],l?l.p(s,u):(l=f[t]=r[t](s),l.c()),b(l,1),l.m(n,null))},i(s){o||(b(l),o=!0)},o(s){k(l),o=!1},d(s){s&&p(e),s&&p(n),f[t].d()}}}function z2(i){let e,n,t=i[0].leg_block+"",l,o,r;return e=new re({props:{type:"skill",id:"unarmed"}}),{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(f,a){L(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){(!r||a&1)&&t!==(t=f[0].leg_block+"")&&P(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function V2(i){let e,n,t;return n=new re({props:{type:"item",id:"bio_armor_legs"}}),{c(){e=w("with "),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,l,o),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n,l)}}}function Ad(i){let e,n,t,l,o;return l=new at({props:{items:[...i[0].weapons].sort(i[5]),$$slots:{default:[X2,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Weapons",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&1&&(a.items=[...r[0].weapons].sort(r[5])),f&67108865&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function X2(i){let e,n;return e=new re({props:{id:i[0],type:"item"}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.id=t[0]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function J2(i){let e,n,t=i[13].buff_duration+"",l;return{c(){e=g("dt"),e.textContent="Duration",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function K2(i){let e,n,t=i[13].max_stacks+"",l;return{c(){e=g("dt"),e.textContent="Max Stacks",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function Z2(i){let e,n,t=i[13].bonus_dodges+"",l;return{c(){e=g("dt"),e.textContent="Bonus Dodges",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function Q2(i){let e,n,t=i[13].bonus_blocks+"",l;return{c(){e=g("dt"),e.textContent="Bonus Blocks",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p:te,d(o){o&&p(e),o&&p(n)}}}function x2(i){let e,n;return{c(){e=g("dt"),e.textContent="Silent",n=g("dd"),n.textContent="Yes",ae(e,"title","Attacks will be completely silent")},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function eE(i){let e,n;return{c(){e=g("dt"),e.textContent="Stealthy",n=g("dd"),n.textContent="Yes",ae(e,"title","Movement will make less noise")},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function tE(i){let e,n;return{c(){e=g("dt"),e.textContent="Throw Immune",n=g("dd"),n.textContent="Yes",ae(e,"title","Immune to throws/grabs")},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function nE(i){let e,n=i[13].description+"",t;return{c(){e=g("p"),t=w(n),Ze(e,"color","var(--cata-color-gray)"),Ze(e,"white-space","pre-wrap")},m(l,o){h(l,e,o),d(e,t)},p:te,d(l){l&&p(e)}}}function Md(i){let e,n,t=i[9]+"",l,o,r=i[13].name+"",f,a,s,u,c,m,$,v,y,T,E,S,C;u=new $h({props:{item:i[13],buffMap:i[4]}}),c=new bh({props:{item:i[13]}});let R=i[13].buff_duration&&J2(i),D=i[13].max_stacks&&K2(i),B=i[13].bonus_dodges&&Z2(i),O=i[13].bonus_blocks&&Q2(i),A=i[13].quiet&&x2(),M=i[13].stealthy&&eE(),J=i[13].throw_immune&&tE(),j=i[13].description&&nE(i);return{c(){e=g("section"),n=g("h1"),l=w(t),o=w(": "),f=w(r),a=I(),s=g("dl"),U(u.$$.fragment),U(c.$$.fragment),R&&R.c(),m=le(),D&&D.c(),$=le(),B&&B.c(),v=le(),O&&O.c(),y=le(),A&&A.c(),T=le(),M&&M.c(),E=le(),J&&J.c(),S=I(),j&&j.c()},m(N,X){h(N,e,X),d(e,n),d(n,l),d(n,o),d(n,f),d(e,a),d(e,s),L(u,s,null),L(c,s,null),R&&R.m(s,null),d(s,m),D&&D.m(s,null),d(s,$),B&&B.m(s,null),d(s,v),O&&O.m(s,null),d(s,y),A&&A.m(s,null),d(s,T),M&&M.m(s,null),d(s,E),J&&J.m(s,null),d(e,S),j&&j.m(e,null),C=!0},p(N,X){N[13].buff_duration&&R.p(N,X),N[13].max_stacks&&D.p(N,X),N[13].bonus_dodges&&B.p(N,X),N[13].bonus_blocks&&O.p(N,X),N[13].description&&j.p(N,X)},i(N){C||(b(u.$$.fragment,N),b(c.$$.fragment,N),C=!0)},o(N){k(u.$$.fragment,N),k(c.$$.fragment,N),C=!1},d(N){N&&p(e),G(u),G(c),R&&R.d(),D&&D.d(),B&&B.d(),O&&O.d(),A&&A.d(),M&&M.d(),J&&J.d(),j&&j.d()}}}function Dd(i){let e,n,t=i[10],l=[];for(let r=0;r<t.length;r+=1)l[r]=Md($d(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=le()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f&24){t=r[10];let a;for(a=0;a<t.length;a+=1){const s=$d(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Md(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ue(l,r),r&&p(e)}}}function Ld(i){let e,n,t,l,o=i[0].techniques,r=[];for(let a=0;a<o.length;a+=1)r[a]=Gd(gd(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("h1"),e.textContent="Techniques",n=I();for(let a=0;a<r.length;a+=1)r[a].c();t=le()},m(a,s){h(a,e,s),h(a,n,s);for(let u=0;u<r.length;u+=1)r[u].m(a,s);h(a,t,s),l=!0},p(a,s){if(s&19){o=a[0].techniques;let u;for(u=0;u<o.length;u+=1){const c=gd(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=Gd(c),r[u].c(),b(r[u],1),r[u].m(t.parentNode,t))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a),a&&p(t)}}}function Gd(i){let e,n;return e=new Y2({props:{item:i[1].byId("technique",i[6]),buffMap:i[4]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.item=t[1].byId("technique",t[6])),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function lE(i){var J,j,N,X,W;let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u,c=i[0].description+"",m,$,v,y,T,E,S,C,R=(i[0].learn_difficulty!=null||((J=i[0].autolearn)==null?void 0:J.length)||((j=i[0].arm_block)!=null?j:99)!==99||((N=i[0].leg_block)!=null?N:99)!==99||i[0].arm_block_with_bio_armor_arms||i[0].leg_block_with_bio_armor_legs||i[2].length)&&wd(i),D=((X=i[0].weapons)==null?void 0:X.length)&&Ad(i),B=i[3],O=[];for(let F=0;F<B.length;F+=1)O[F]=Dd(bd(i,B,F));const A=F=>k(O[F],1,1,()=>{O[F]=null});let M=((W=i[0].techniques)==null?void 0:W.length)&&Ld(i);return{c(){e=g("h1"),n=w("Martial Art: "),l=w(t),o=I(),r=g("section"),f=g("h1"),f.textContent="General",a=I(),R&&R.c(),s=I(),u=g("p"),m=w(c),$=I(),D&&D.c(),v=I(),y=g("h1"),y.textContent="Buffs",T=I();for(let F=0;F<O.length;F+=1)O[F].c();E=I(),M&&M.c(),S=le(),Ze(u,"color","var(--cata-color-gray)")},m(F,z){h(F,e,z),d(e,n),d(e,l),h(F,o,z),h(F,r,z),d(r,f),d(r,a),R&&R.m(r,null),d(r,s),d(r,u),d(u,m),h(F,$,z),D&&D.m(F,z),h(F,v,z),h(F,y,z),h(F,T,z);for(let q=0;q<O.length;q+=1)O[q].m(F,z);h(F,E,z),M&&M.m(F,z),h(F,S,z),C=!0},p(F,[z]){var q,H,Z,Y,K;if((!C||z&1)&&t!==(t=pe(F[0])+"")&&P(l,t),F[0].learn_difficulty!=null||((q=F[0].autolearn)==null?void 0:q.length)||((H=F[0].arm_block)!=null?H:99)!==99||((Z=F[0].leg_block)!=null?Z:99)!==99||F[0].arm_block_with_bio_armor_arms||F[0].leg_block_with_bio_armor_legs||F[2].length?R?(R.p(F,z),z&1&&b(R,1)):(R=wd(F),R.c(),b(R,1),R.m(r,s)):R&&(x(),k(R,1,1,()=>{R=null}),ee()),(!C||z&1)&&c!==(c=F[0].description+"")&&P(m,c),(Y=F[0].weapons)!=null&&Y.length?D?(D.p(F,z),z&1&&b(D,1)):(D=Ad(F),D.c(),b(D,1),D.m(v.parentNode,v)):D&&(x(),k(D,1,1,()=>{D=null}),ee()),z&24){B=F[3];let Q;for(Q=0;Q<B.length;Q+=1){const _e=bd(F,B,Q);O[Q]?(O[Q].p(_e,z),b(O[Q],1)):(O[Q]=Dd(_e),O[Q].c(),b(O[Q],1),O[Q].m(E.parentNode,E))}for(x(),Q=B.length;Q<O.length;Q+=1)A(Q);ee()}(K=F[0].techniques)!=null&&K.length?M?(M.p(F,z),z&1&&b(M,1)):(M=Ld(F),M.c(),b(M,1),M.m(S.parentNode,S)):M&&(x(),k(M,1,1,()=>{M=null}),ee())},i(F){if(!C){b(R),b(D);for(let z=0;z<B.length;z+=1)b(O[z]);b(M),C=!0}},o(F){k(R),k(D),O=O.filter(Boolean);for(let z=0;z<O.length;z+=1)k(O[z]);k(M),C=!1},d(F){F&&p(e),F&&p(o),F&&p(r),R&&R.d(),F&&p($),D&&D.d(F),F&&p(v),F&&p(y),F&&p(T),ue(O,F),F&&p(E),M&&M.d(F),F&&p(S)}}}function Ud(i){return i<=2?"easy":i<=4?"moderately hard":i<=6?"hard":i<=8?"very hard":"extremely hard"}function iE(i,e,n){var s,u,c,m,$,v,y,T,E,S,C;const t=lt("data");let{item:l}=e;const o=t.byType("item").filter(R=>R.type==="BOOK"&&R.martial_art===l.id),r=[["Passive",(s=l.static_buffs)!=null?s:[]],["Move",(u=l.onmove_buffs)!=null?u:[]],["Pause",(c=l.onpause_buffs)!=null?c:[]],["Hit",(m=l.onhit_buffs)!=null?m:[]],["Miss",($=l.onmiss_buffs)!=null?$:[]],["Attack",(v=l.onattack_buffs)!=null?v:[]],["Crit",(y=l.oncrit_buffs)!=null?y:[]],["Kill",(T=l.onkill_buffs)!=null?T:[]],["Dodge",(E=l.ondodge_buffs)!=null?E:[]],["Block",(S=l.onblock_buffs)!=null?S:[]],["Get hit",(C=l.ongethit_buffs)!=null?C:[]]],f=new Map(r.flatMap(R=>R[1]).map(R=>[R.id,R])),a=(R,D)=>pe(t.byId("item",R)).localeCompare(pe(t.byId("item",D)));return i.$$set=R=>{"item"in R&&n(0,l=R.item)},[l,t,o,r,f,a]}class rE extends We{constructor(e){super(),He(this,e,iE,lE,Fe,{item:0})}}function oE(i){let e;const n=i[5].default,t=eh(n,i,i[4],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&16)&&lh(t,n,l,l[4],e?nh(n,l[4],o,null):ih(l[4]),null)},i(l){e||(b(t,l),e=!0)},o(l){k(t,l),e=!1},d(l){t&&t.d(l)}}}function fE(i){let e,n,t=i[1].message+"",l,o,r,f,a=(i[2]?i[1].stack:"")+"",s,u;return{c(){e=g("div"),n=g("b"),l=w(t),o=I(),r=g("pre"),f=w("      "),s=w(a),u=w(`
    `),ae(r,"class","trace svelte-1nrekyi"),ae(e,"class","error svelte-1nrekyi")},m(c,m){h(c,e,m),d(e,n),d(n,l),d(e,o),d(e,r),d(r,f),d(r,s),d(r,u)},p(c,m){m&2&&t!==(t=c[1].message+"")&&P(l,t),m&2&&a!==(a=(c[2]?c[1].stack:"")+"")&&P(s,a)},i:te,o:te,d(c){c&&p(e)}}}function sE(i){let e,n,t,l;const o=[fE,oE],r=[];function f(a,s){return a[1]?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function aE(i,e,n){let t,l=te,o=()=>(l(),l=Q1(a,m=>n(1,t=m)),a);i.$$.on_destroy.push(()=>l());let{$$slots:r={},$$scope:f}=e,{error:a=null}=e;o();let{onError:s=null}=e,c=(typeof process!="undefined"&&process.env&&"production")!=="production";return i.$$set=m=>{"error"in m&&o(n(0,a=m.error)),"onError"in m&&n(3,s=m.onError),"$$scope"in m&&n(4,f=m.$$scope)},i.$$.update=()=>{i.$$.dirty&10&&t&&s&&s(t)},[a,t,c,s,f,r]}class uE extends We{constructor(e){super(),He(this,e,aE,sE,Fe,{error:0,onError:3})}}const cE=["c","l","h","m","p","a","i","o","d"];function _E(i){if(i.$$render){let n=i.$$render;return i.$$render=(t,l,o,r)=>{const f=Gi(void 0);try{return n(t,{error:f,...l},o,r)}catch(a){return f.set(a),n(t,{error:f,...l},o,{})}},i}function e(n,t){return function(...o){try{return n(...o)}catch(r){t(r)}}}return class extends i{constructor(t){const l=Gi(void 0);t.props.$$slots.default=t.props.$$slots.default.map(o=>(...r)=>{let a=e(o,l.set)(...r);if(a)for(let s of cE)a[s]&&(a[s]=e(a[s],l.set));return a}),super(t),this.$$set({error:l})}}}const dE=_E(uE);function qd(i,e,n){const t=i.slice();return t[4]=e[n],t}function Pd(i,e,n){const t=i.slice();return t[4]=e[n],t}function Fd(i,e,n){const t=i.slice();return t[9]=e[n],t}function Yd(i,e,n){const t=i.slice();return t[9]=e[n],t}function jd(i,e,n){const t=i.slice();return t[9]=e[n],t}function Hd(i,e,n){const t=i.slice();return t[16]=e[n],t}function Wd(i,e,n){const t=i.slice();return t[16]=e[n],t}function zd(i,e,n){const t=i.slice();return t[16]=e[n],t}function Vd(i,e,n){const t=i.slice();return t[23]=e[n],t}function Xd(i,e,n){const t=i.slice();return t[26]=e[n],t}function Jd(i){let e;return{c(){e=w("Threshold ")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function Kd(i){let e,n,t,l,o,r=i[0].category,f=[];for(let s=0;s<r.length;s+=1)f[s]=Zd(Xd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Category",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].category;let c;for(c=0;c<r.length;c+=1){const m=Xd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Zd(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Zd(i){let e,n,t;return n=new re({props:{type:"mutation_category",id:i[26]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[26]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Qd(i){let e;return{c(){e=w("s")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function mE(i){let e;return{c(){e=g("em"),e.textContent="None"},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function pE(i){let e,n,t=i[0].types,l=[];for(let r=0;r<t.length;r+=1)l[r]=xd(Vd(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c();ae(e,"class","comma-separated")},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f&1){t=r[0].types;let a;for(a=0;a<t.length;a+=1){const s=Vd(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=xd(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ue(l,r)}}}function xd(i){let e,n,t;return n=new re({props:{type:"mutation_type",id:i[23]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[23]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function hE(i){let e;return{c(){e=g("em"),e.textContent="None"},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function gE(i){let e,n,t,l,o,r=i[0].prereqs,f=[];for(let u=0;u<r.length;u+=1)f[u]=em(zd(i,r,u));const a=u=>k(f[u],1,1,()=>{f[u]=null});let s=i[0].prereqs2&&tm(i);return{c(){e=g("ul"),n=g("li"),t=g("ul");for(let u=0;u<f.length;u+=1)f[u].c();l=I(),s&&s.c(),ae(t,"class","comma-separated or")},m(u,c){h(u,e,c),d(e,n),d(n,t);for(let m=0;m<f.length;m+=1)f[m].m(t,null);d(e,l),s&&s.m(e,null),o=!0},p(u,c){if(c&1){r=u[0].prereqs;let m;for(m=0;m<r.length;m+=1){const $=zd(u,r,m);f[m]?(f[m].p($,c),b(f[m],1)):(f[m]=em($),f[m].c(),b(f[m],1),f[m].m(t,null))}for(x(),m=r.length;m<f.length;m+=1)a(m);ee()}u[0].prereqs2?s?(s.p(u,c),c&1&&b(s,1)):(s=tm(u),s.c(),b(s,1),s.m(e,null)):s&&(x(),k(s,1,1,()=>{s=null}),ee())},i(u){if(!o){for(let c=0;c<r.length;c+=1)b(f[c]);b(s),o=!0}},o(u){f=f.filter(Boolean);for(let c=0;c<f.length;c+=1)k(f[c]);k(s),o=!1},d(u){u&&p(e),ue(f,u),s&&s.d()}}}function em(i){let e,n,t;return n=new re({props:{type:"mutation",id:i[16]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[16]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function tm(i){let e,n,t,l=i[0].prereqs2,o=[];for(let f=0;f<l.length;f+=1)o[f]=nm(Wd(i,l,f));const r=f=>k(o[f],1,1,()=>{o[f]=null});return{c(){e=g("li"),n=g("ul");for(let f=0;f<o.length;f+=1)o[f].c();ae(n,"class","comma-separated or")},m(f,a){h(f,e,a),d(e,n);for(let s=0;s<o.length;s+=1)o[s].m(n,null);t=!0},p(f,a){if(a&1){l=f[0].prereqs2;let s;for(s=0;s<l.length;s+=1){const u=Wd(f,l,s);o[s]?(o[s].p(u,a),b(o[s],1)):(o[s]=nm(u),o[s].c(),b(o[s],1),o[s].m(n,null))}for(x(),s=l.length;s<o.length;s+=1)r(s);ee()}},i(f){if(!t){for(let a=0;a<l.length;a+=1)b(o[a]);t=!0}},o(f){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);t=!1},d(f){f&&p(e),ue(o,f)}}}function nm(i){let e,n,t;return n=new re({props:{type:"mutation",id:i[16]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[16]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function lm(i){let e,n,t,l,o,r=i[0].threshreq,f=[];for(let s=0;s<r.length;s+=1)f[s]=im(Hd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Threshold Requirement",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated or")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].threshreq;let c;for(c=0;c<r.length;c+=1){const m=Hd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=im(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function im(i){let e,n,t;return n=new re({props:{type:"mutation",id:i[16]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[16]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function rm(i){let e,n,t,l,o,r=i[0].leads_to,f=[];for(let s=0;s<r.length;s+=1)f[s]=om(jd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Leads To",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].leads_to;let c;for(c=0;c<r.length;c+=1){const m=jd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=om(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function om(i){let e,n,t;return n=new re({props:{id:i[9],type:"mutation"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[9]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function fm(i){let e,n,t,l,o,r=i[0].changes_to,f=[];for(let s=0;s<r.length;s+=1)f[s]=sm(Yd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Changes To",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=s[0].changes_to;let c;for(c=0;c<r.length;c+=1){const m=Yd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=sm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function sm(i){let e,n,t;return n=new re({props:{id:i[9],type:"mutation"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[9]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function am(i){let e,n,t,l,o=i[0].cancels,r=[];for(let a=0;a<o.length;a+=1)r[a]=um(Fd(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Conflicts With",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ae(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&1){o=a[0].cancels;let u;for(u=0;u<o.length;u+=1){const c=Fd(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=um(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function um(i){let e,n,t;return n=new re({props:{id:i[9],type:"mutation"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[9]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function cm(i){let e,n,t,l,o,r=i[1],f=[];for(let s=0;s<r.length;s+=1)f[s]=_m(Pd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Post-Threshold Mutations",t=I(),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&2){r=s[1];let c;for(c=0;c<r.length;c+=1){const m=Pd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=_m(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ue(f,s)}}}function _m(i){let e,n,t;return n=new re({props:{id:i[4].id,type:"mutation"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function bE(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=dm(qd(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("section"),n=g("h1"),n.textContent="Required By",t=I(),l=g("ul");for(let s=0;s<f.length;s+=1)f[s].c()},m(s,u){h(s,e,u),d(e,n),d(e,t),d(e,l);for(let c=0;c<f.length;c+=1)f[c].m(l,null);o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=qd(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=dm(m),f[c].c(),b(f[c],1),f[c].m(l,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),ue(f,s)}}}function dm(i){let e,n,t;return n=new re({props:{id:i[4].id,type:"mutation"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function $E(i){var Te;let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u=i[0].points+"",c,m,$,v,y,T,E,S,C,R,D,B,O,A,M,J,j,N,X=Vt(i[0].description)+"",W,F,z,q,H,Z=i[0].threshold&&Jd(),Y=i[0].category&&Kd(i),K=((Te=i[0].types)==null?void 0:Te.length)>1&&Qd();const Q=[pE,mE],_e=[];function V(ge,ye){return ge[0].types?0:1}T=V(i),E=_e[T]=Q[T](i);const ie=[gE,hE],he=[];function Ae(ge,ye){return ge[0].prereqs?0:1}D=Ae(i),B=he[D]=ie[D](i);let ve=i[0].threshreq&&lm(i),fe=i[0].leads_to&&rm(i),be=i[0].changes_to&&fm(i),$e=i[0].cancels&&am(i),ce=i[0].threshold&&i[1].length&&cm(i),Ge=i[2].length&&bE(i);return{c(){e=g("h1"),Z&&Z.c(),n=w("Mutation: "),l=w(t),o=I(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Points",s=g("dd"),c=w(u),Y&&Y.c(),m=g("dt"),$=w("Type"),K&&K.c(),v=I(),y=g("dd"),E.c(),S=I(),C=g("dt"),C.textContent="Prerequisites",R=g("dd"),B.c(),O=I(),ve&&ve.c(),A=le(),fe&&fe.c(),M=le(),be&&be.c(),J=le(),$e&&$e.c(),j=I(),N=g("p"),W=w(X),F=I(),ce&&ce.c(),z=I(),Ge&&Ge.c(),q=le(),ae(m,"title","You can't have two mutations that share a type."),Ze(N,"color","var(--cata-color-gray)")},m(ge,ye){h(ge,e,ye),Z&&Z.m(e,null),d(e,n),d(e,l),h(ge,o,ye),h(ge,r,ye),d(r,f),d(f,a),d(f,s),d(s,c),Y&&Y.m(f,null),d(f,m),d(m,$),K&&K.m(m,null),d(m,v),d(f,y),_e[T].m(y,null),d(y,S),d(f,C),d(f,R),he[D].m(R,null),d(R,O),ve&&ve.m(f,null),d(f,A),fe&&fe.m(f,null),d(f,M),be&&be.m(f,null),d(f,J),$e&&$e.m(f,null),d(r,j),d(r,N),d(N,W),h(ge,F,ye),ce&&ce.m(ge,ye),h(ge,z,ye),Ge&&Ge.m(ge,ye),h(ge,q,ye),H=!0},p(ge,[ye]){var ke;ge[0].threshold?Z||(Z=Jd(),Z.c(),Z.m(e,n)):Z&&(Z.d(1),Z=null),(!H||ye&1)&&t!==(t=pe(ge[0])+"")&&P(l,t),(!H||ye&1)&&u!==(u=ge[0].points+"")&&P(c,u),ge[0].category?Y?(Y.p(ge,ye),ye&1&&b(Y,1)):(Y=Kd(ge),Y.c(),b(Y,1),Y.m(f,m)):Y&&(x(),k(Y,1,1,()=>{Y=null}),ee()),((ke=ge[0].types)==null?void 0:ke.length)>1?K||(K=Qd(),K.c(),K.m(m,v)):K&&(K.d(1),K=null);let Qe=T;T=V(ge),T===Qe?_e[T].p(ge,ye):(x(),k(_e[Qe],1,1,()=>{_e[Qe]=null}),ee(),E=_e[T],E?E.p(ge,ye):(E=_e[T]=Q[T](ge),E.c()),b(E,1),E.m(y,S));let oe=D;D=Ae(ge),D===oe?he[D].p(ge,ye):(x(),k(he[oe],1,1,()=>{he[oe]=null}),ee(),B=he[D],B?B.p(ge,ye):(B=he[D]=ie[D](ge),B.c()),b(B,1),B.m(R,O)),ge[0].threshreq?ve?(ve.p(ge,ye),ye&1&&b(ve,1)):(ve=lm(ge),ve.c(),b(ve,1),ve.m(f,A)):ve&&(x(),k(ve,1,1,()=>{ve=null}),ee()),ge[0].leads_to?fe?(fe.p(ge,ye),ye&1&&b(fe,1)):(fe=rm(ge),fe.c(),b(fe,1),fe.m(f,M)):fe&&(x(),k(fe,1,1,()=>{fe=null}),ee()),ge[0].changes_to?be?(be.p(ge,ye),ye&1&&b(be,1)):(be=fm(ge),be.c(),b(be,1),be.m(f,J)):be&&(x(),k(be,1,1,()=>{be=null}),ee()),ge[0].cancels?$e?($e.p(ge,ye),ye&1&&b($e,1)):($e=am(ge),$e.c(),b($e,1),$e.m(f,null)):$e&&(x(),k($e,1,1,()=>{$e=null}),ee()),(!H||ye&1)&&X!==(X=Vt(ge[0].description)+"")&&P(W,X),ge[0].threshold&&ge[1].length?ce?(ce.p(ge,ye),ye&1&&b(ce,1)):(ce=cm(ge),ce.c(),b(ce,1),ce.m(z.parentNode,z)):ce&&(x(),k(ce,1,1,()=>{ce=null}),ee()),ge[2].length&&Ge.p(ge,ye)},i(ge){H||(b(Y),b(E),b(B),b(ve),b(fe),b(be),b($e),b(ce),b(Ge),H=!0)},o(ge){k(Y),k(E),k(B),k(ve),k(fe),k(be),k($e),k(ce),k(Ge),H=!1},d(ge){ge&&p(e),Z&&Z.d(),ge&&p(o),ge&&p(r),Y&&Y.d(),K&&K.d(),_e[T].d(),he[D].d(),ve&&ve.d(),fe&&fe.d(),be&&be.d(),$e&&$e.d(),ge&&p(F),ce&&ce.d(ge),ge&&p(z),Ge&&Ge.d(ge),ge&&p(q)}}}function kE(i,e,n){let{item:t}=e,l=lt("data");const o=l.byType("mutation").filter(f=>{var a;return((a=f.threshreq)!=null?a:[]).includes(t.id)}).sort((f,a)=>pe(f).localeCompare(pe(a))),r=l.byType("mutation").filter(f=>{var a,s;return((a=f.prereqs)!=null?a:[]).includes(t.id)||((s=f.prereqs2)!=null?s:[]).includes(t.id)}).sort((f,a)=>pe(f).localeCompare(pe(a)));return i.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,o,r]}class vE extends We{constructor(e){super(),He(this,e,kE,$E,Fe,{item:0})}}function Dr(i,e){const n=[];let t=!0;const l=new Set(i),o=new Set;for(;l.size;){const f=l.values().next().value;if(r(f),!t)throw new Error("Not a DAG")}return n;function r(f){if(!!l.has(f)){if(o.has(f)){t=!1;return}o.add(f);for(const a of e(f))r(a);o.delete(f),l.delete(f),n.push(f)}}}function mm(i,e,n){const t=i.slice();return t[7]=e[n],t}function pm(i,e,n){const t=i.slice();return t[7]=e[n],t}function hm(i){let e,n,t=pe(i[0])+"",l;return{c(){e=g("h1"),n=w("Mutation Category: "),l=w(t)},m(o,r){h(o,e,r),d(e,n),d(e,l)},p(o,r){r&1&&t!==(t=pe(o[0])+"")&&P(l,t)},d(o){o&&p(e)}}}function gm(i){let e,n=pe(i[0])+"",t;return{c(){e=g("h1"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=pe(l[0])+"")&&P(t,n)},d(l){l&&p(e)}}}function bm(i){let e,n,t,l;return t=new re({props:{id:i[0].threshold_mut,type:"mutation"}}),{c(){e=g("dt"),e.textContent="Threshold Mutation",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r&1&&(f.id=o[0].threshold_mut),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function yE(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=$m(pm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Pre-Threshold Mutations",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&4){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=pm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=$m(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function $m(i){let e,n,t;return n=new re({props:{id:i[7].id,type:"mutation"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function wE(i){let e,n,t,l,o=i[3],r=[];for(let a=0;a<o.length;a+=1)r[a]=km(mm(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Post-Threshold Mutations",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c()},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s&8){o=a[3];let u;for(u=0;u<o.length;u+=1){const c=mm(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=km(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function km(i){let e,n,t;return n=new re({props:{id:i[7].id,type:"mutation"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function EE(i){let e,n,t,l,o,r,f,a=!i[1]&&hm(i),s=i[1]&&gm(i),u=i[0].threshold_mut&&bm(i),c=i[2].length&&yE(i),m=i[3].length&&wE(i);return{c(){a&&a.c(),e=I(),n=g("section"),s&&s.c(),t=I(),l=g("dl"),u&&u.c(),o=le(),c&&c.c(),r=le(),m&&m.c()},m($,v){a&&a.m($,v),h($,e,v),h($,n,v),s&&s.m(n,null),d(n,t),d(n,l),u&&u.m(l,null),d(l,o),c&&c.m(l,null),d(l,r),m&&m.m(l,null),f=!0},p($,[v]){$[1]?a&&(a.d(1),a=null):a?a.p($,v):(a=hm($),a.c(),a.m(e.parentNode,e)),$[1]?s?s.p($,v):(s=gm($),s.c(),s.m(n,t)):s&&(s.d(1),s=null),$[0].threshold_mut?u?(u.p($,v),v&1&&b(u,1)):(u=bm($),u.c(),b(u,1),u.m(l,o)):u&&(x(),k(u,1,1,()=>{u=null}),ee()),$[2].length&&c.p($,v),$[3].length&&m.p($,v)},i($){f||(b(u),b(c),b(m),f=!0)},o($){k(u),k(c),k(m),f=!1},d($){a&&a.d($),$&&p(e),$&&p(n),s&&s.d(),u&&u.d(),c&&c.d(),m&&m.d()}}}function TE(i,e,n){let t=lt("data"),{item:l}=e,{inCatalog:o=!1}=e;const r=t.byType("mutation").filter(u=>{var c;return((c=u.category)!=null?c:[]).includes(l.id)});r.sort((u,c)=>pe(u).localeCompare(pe(c)));const f=u=>{var c,m,$;return((c=u.prereqs)!=null?c:[]).concat((m=u.prereqs2)!=null?m:[]).concat(($=u.threshreq)!=null?$:[])},a=Dr(r.filter(u=>!u.threshreq||u.threshreq.length===0),u=>f(u).map(c=>t.byId("mutation",c))),s=Dr(r.filter(u=>!(!u.threshreq||u.threshreq.length===0)),u=>f(u).map(c=>t.byId("mutation",c)));return i.$$set=u=>{"item"in u&&n(0,l=u.item),"inCatalog"in u&&n(1,o=u.inCatalog)},[l,o,a,s]}class kh extends We{constructor(e){super(),He(this,e,TE,EE,Fe,{item:0,inCatalog:1})}}function vm(i,e,n){const t=i.slice();return t[4]=e[n],t}function ym(i){let e,n,t;return n=new re({props:{id:i[4].id,type:"mutation"}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p:te,i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function SE(i){let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u,c,m=i[1],$=[];for(let y=0;y<m.length;y+=1)$[y]=ym(vm(i,m,y));const v=y=>k($[y],1,1,()=>{$[y]=null});return{c(){e=g("h1"),n=w("Mutation Type: "),l=w(t),o=I(),r=g("section"),f=g("dl"),a=g("dt"),a.textContent="Mutations",s=g("dd"),u=g("ul");for(let y=0;y<$.length;y+=1)$[y].c()},m(y,T){h(y,e,T),d(e,n),d(e,l),h(y,o,T),h(y,r,T),d(r,f),d(f,a),d(f,s),d(s,u);for(let E=0;E<$.length;E+=1)$[E].m(u,null);c=!0},p(y,[T]){if((!c||T&1)&&t!==(t=pe(y[0])+"")&&P(l,t),T&2){m=y[1];let E;for(E=0;E<m.length;E+=1){const S=vm(y,m,E);$[E]?($[E].p(S,T),b($[E],1)):($[E]=ym(S),$[E].c(),b($[E],1),$[E].m(u,null))}for(x(),E=m.length;E<$.length;E+=1)v(E);ee()}},i(y){if(!c){for(let T=0;T<m.length;T+=1)b($[T]);c=!0}},o(y){$=$.filter(Boolean);for(let T=0;T<$.length;T+=1)k($[T]);c=!1},d(y){y&&p(e),y&&p(o),y&&p(r),ue($,y)}}}function CE(i,e,n){let{item:t}=e,l=lt("data");const o=f=>{var a,s,u;return((a=f.prereqs)!=null?a:[]).concat((s=f.prereqs2)!=null?s:[]).concat((u=f.threshreq)!=null?u:[])},r=Dr(l.byType("mutation").filter(f=>{var a;return((a=f.types)!=null?a:[]).includes(t.id)}).sort((f,a)=>pe(f).localeCompare(pe(a))),f=>o(f).map(a=>l.byId("mutation",a)));return i.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,r]}class IE extends We{constructor(e){super(),He(this,e,CE,SE,Fe,{item:0})}}function wm(i,e,n){const t=i.slice();return t[21]=e[n],t}function Em(i,e,n){const t=i.slice();return t[24]=e[n],t}function RE(i){let e=" ",n;return{c(){n=w(e)},m(t,l){h(t,n,l)},p:te,d(t){t&&p(n)}}}function NE(i){let e,n=i[2](i[24].partId,i[24].variant)+"",t;return{c(){e=g("span"),t=w(n),ae(e,"title",`${i[24].partId}_${i[24].variant}`),ae(e,"class",`c_${i[3](i[24].partId)}`)},m(l,o){h(l,e,o),d(e,t)},p:te,d(l){l&&p(e)}}}function Tm(i){let e;function n(o,r){return o[24]?NE:RE}let l=n(i)(i);return{c(){l.c(),e=le()},m(o,r){l.m(o,r),h(o,e,r)},p(o,r){l.p(o,r)},d(o){l.d(o),o&&p(e)}}}function Sm(i){let e=`
`,n,t=i[21],l=[];for(let o=0;o<t.length;o+=1)l[o]=Tm(Em(i,t,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();n=w(e)},m(o,r){for(let f=0;f<l.length;f+=1)l[f].m(o,r);h(o,n,r)},p(o,r){if(r&28){t=o[21];let f;for(f=0;f<t.length;f+=1){const a=Em(o,t,f);l[f]?l[f].p(a,r):(l[f]=Tm(a),l[f].c(),l[f].m(n.parentNode,n))}for(;f<l.length;f+=1)l[f].d(1);l.length=t.length}},d(o){ue(l,o),o&&p(n)}}}function OE(i){let e,n,t,l,o;return l=new at({props:{items:i[6],$$slots:{default:[BE,({item:{id:r,count:f}})=>({19:r,20:f}),({item:r})=>(r?524288:0)|(r?1048576:0)]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Parts",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&135790592&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function BE(i){let e,n,t=i[20]+"",l,o,r;return e=new re({props:{id:i[19],type:"vehicle_part"}}),{c(){U(e.$$.fragment),n=w(" ("),l=w(t),o=w(")")},m(f,a){L(e,f,a),h(f,n,a),h(f,l,a),h(f,o,a),r=!0},p(f,a){const s={};a&524288&&(s.id=f[19]),e.$set(s),(!r||a&1048576)&&t!==(t=f[20]+"")&&P(l,t)},i(f){r||(b(e.$$.fragment,f),r=!0)},o(f){k(e.$$.fragment,f),r=!1},d(f){G(e,f),f&&p(n),f&&p(l),f&&p(o)}}}function AE(i){let e,n,t,l,o;return l=new at({props:{items:i[5],$$slots:{default:[ME,({item:r})=>({0:r}),({item:r})=>r?1:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),n=g("h1"),n.textContent="Items",t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),d(e,n),d(e,t),L(l,e,null),o=!0},p(r,f){const a={};f&134217729&&(a.$$scope={dirty:f,ctx:r}),l.$set(a)},i(r){o||(b(l.$$.fragment,r),o=!0)},o(r){k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(l)}}}function ME(i){let e,n,t,l,o=vl(i[0].prob)+"",r,f,a;return e=new xe({props:{item:i[1].byId("item",i[0].id)}}),t=new re({props:{id:i[0].id,type:"item"}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment),l=w(`
      (`),r=w(o),f=w(")")},m(s,u){L(e,s,u),h(s,n,u),L(t,s,u),h(s,l,u),h(s,r,u),h(s,f,u),a=!0},p(s,u){const c={};u&1&&(c.item=s[1].byId("item",s[0].id)),e.$set(c);const m={};u&1&&(m.id=s[0].id),t.$set(m),(!a||u&1)&&o!==(o=vl(s[0].prob)+"")&&P(r,o)},i(s){a||(b(e.$$.fragment,s),b(t.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),a=!1},d(s){G(e,s),s&&p(n),G(t,s),s&&p(l),s&&p(r),s&&p(f)}}}function DE(i){let e,n=pe(i[0])+"",t,l,o,r,f,a,s,u,c,m,$=i[4],v=[];for(let E=0;E<$.length;E+=1)v[E]=Sm(wm(i,$,E));let y=i[6].length&&OE(i),T=i[5].length&&AE(i);return{c(){e=g("h1"),t=w(n),l=I(),o=g("section"),r=g("pre"),f=w("    ");for(let E=0;E<v.length;E+=1)v[E].c();a=w(`
  `),s=I(),y&&y.c(),u=I(),T&&T.c(),c=le(),Ze(r,"font-family","Unifont, monospace"),Ze(r,"line-height","1")},m(E,S){h(E,e,S),d(e,t),h(E,l,S),h(E,o,S),d(o,r),d(r,f);for(let C=0;C<v.length;C+=1)v[C].m(r,null);d(r,a),h(E,s,S),y&&y.m(E,S),h(E,u,S),T&&T.m(E,S),h(E,c,S),m=!0},p(E,[S]){if((!m||S&1)&&n!==(n=pe(E[0])+"")&&P(t,n),S&28){$=E[4];let C;for(C=0;C<$.length;C+=1){const R=wm(E,$,C);v[C]?v[C].p(R,S):(v[C]=Sm(R),v[C].c(),v[C].m(r,a))}for(;C<v.length;C+=1)v[C].d(1);v.length=$.length}E[6].length&&y.p(E,S),E[5].length&&T.p(E,S)},i(E){m||(b(y),b(T),m=!0)},o(E){k(y),k(T),m=!1},d(E){E&&p(e),E&&p(l),E&&p(o),ue(v,E),E&&p(s),y&&y.d(E),E&&p(u),T&&T.d(E),E&&p(c)}}}function LE(i,e,n){let{item:t}=e;const l=lt("data");let o=1/0,r=-1/0,f=1/0,a=-1/0;for(const B of t.parts)B.x<o&&(o=B.x),B.x>r&&(r=B.x),B.y<f&&(f=B.y),B.y>a&&(a=B.y);const s={cover:"^",cross:"c",horizontal:"h",horizontal_2:"=",vertical:"j",vertical_2:"H",ne:"u",nw:"y",se:"n",sw:"b"},u={on_roof:9,on_cargo:8,center:7,under:6,structure:5,engine_block:4,on_battery_mount:3,fuel_source:2,roof:-1,armor:-2},c={XOXO:"\u2502",OXOX:"\u2500",XXOO:"\u2514",OXXO:"\u250C",OOXX:"\u2510",XOOX:"\u2518",XXXO:"\u251C",XXOX:"\u2534",XOXX:"\u2524",OXXX:"\u252C",XXXX:"\u253C"},m=B=>{switch(B){case"j":return c.XOXO;case"h":return c.OXOX;case"c":return c.XXXX;case"y":return c.OXXO;case"u":return c.OOXX;case"n":return c.XOOX;case"b":return c.XXOO;default:return B}},$=(B,O)=>{var j,N;const A=l.byId("vehicle_part",B),M=(j=A.symbol)!=null?j:"=",J={...A.standard_symbols?s:{},...A.symbols};return m((N=J[O])!=null?N:M)},v=B=>l.byId("vehicle_part",B).color,y=t.parts.map(B=>{var A;const O=(B.part?[{part:B.part,fuel:B.fuel}]:(A=B.parts)==null?void 0:A.map(M=>typeof M=="string"?{part:M}:M)).map(({part:M,fuel:J})=>{const[j,N]=oh(l,M);return{partId:j,variant:N,fuel:J}});return{x:B.x,y:B.y,parts:O}}),T=B=>{var J;const A=l.byId("vehicle_part",B).location;return(J=u[A])!=null?J:0},E=[];for(let B=r;B>=o;B--){const O=[];for(let A=f;A<=a;A++){const M=y.filter(N=>N.x===B&&N.y===A).flatMap(N=>N.parts);if(!M.length){O.push(void 0);continue}let J=M[0],j=T(J.partId);for(const N of M){const X=T(N.partId);X>=0&&X>j&&(j=X,J=N)}O.push(J)}E.push(O)}const S=l.flattenItemGroup(fh(t));S.sort((B,O)=>O.prob-B.prob);const C=y.flatMap(B=>B.parts),D=[...Zr(C,B=>[B.partId]).entries()].map(([B,O])=>({id:B,count:O.length}));return D.sort((B,O)=>B.count===O.count?pe(l.byId("vehicle_part",B.id)).localeCompare(pe(l.byId("vehicle_part",O.id))):O.count-B.count),i.$$set=B=>{"item"in B&&n(0,t=B.item)},[t,l,$,v,E,S,D]}class GE extends We{constructor(e){super(),He(this,e,LE,DE,Fe,{item:0})}}function Cm(i,e,n){const t=i.slice();return t[7]=e[n],t}function Im(i,e,n){const t=i.slice();return t[10]=e[n],t}function Rm(i,e,n){const t=i.slice();return t[13]=e[n],t}function Nm(i,e,n){const t=i.slice();return t[16]=e[n],t}function Om(i,e,n){const t=i.slice();return t[19]=e[n].id,t[20]=e[n].prob,t}function Bm(i,e,n){const t=i.slice();return t[23]=e[n][0],t[24]=e[n][1],t}function Am(i,e,n){const t=i.slice();return t[19]=e[n].id,t[20]=e[n].prob,t[27]=e[n].count,t}function Mm(i){let e,n,t,l,o,r,f;return t=new xe({props:{item:i[1].byId("terrain",i[0].transforms_into)}}),o=new re({props:{id:i[0].transforms_into,type:"terrain"}}),{c(){e=g("dt"),e.textContent="Transforms Into",n=g("dd"),U(t.$$.fragment),l=I(),U(o.$$.fragment),r=I()},m(a,s){h(a,e,s),h(a,n,s),L(t,n,null),d(n,l),L(o,n,null),d(n,r),f=!0},p(a,s){const u={};s&1&&(u.item=a[1].byId("terrain",a[0].transforms_into)),t.$set(u);const c={};s&1&&(c.id=a[0].transforms_into),o.$set(c)},i(a){f||(b(t.$$.fragment,a),b(o.$$.fragment,a),f=!0)},o(a){k(t.$$.fragment,a),k(o.$$.fragment,a),f=!1},d(a){a&&p(e),a&&p(n),G(t),G(o)}}}function UE(i){let e,n=i[23]+"",t,l,o,r,f,a=i[24],s=[];for(let c=0;c<a.length;c+=1)s[c]=Dm(Am(i,a,c));const u=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){e=g("dt"),t=w(n),l=g("dd"),o=g("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=I(),ae(o,"class","comma-separated")},m(c,m){h(c,e,m),d(e,t),h(c,l,m),d(l,o);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(l,r),f=!0},p(c,m){if(m&4){a=c[24];let $;for($=0;$<a.length;$+=1){const v=Am(c,a,$);s[$]?(s[$].p(v,m),b(s[$],1)):(s[$]=Dm(v),s[$].c(),b(s[$],1),s[$].m(o,null))}for(x(),$=a.length;$<s.length;$+=1)u($);ee()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)k(s[m]);f=!1},d(c){c&&p(e),c&&p(l),ue(s,c)}}}function qE(i){let e,n=i[27][0]+"",t,l,o=i[27][1]+"",r,f;return{c(){e=w("\xA0("),t=w(n),l=w("\u2013"),r=w(o),f=w(")")},m(a,s){h(a,e,s),h(a,t,s),h(a,l,s),h(a,r,s),h(a,f,s)},p:te,d(a){a&&p(e),a&&p(t),a&&p(l),a&&p(r),a&&p(f)}}}function PE(i){let e,n=i[27][0]!==1&&FE(i);return{c(){n&&n.c(),e=le()},m(t,l){n&&n.m(t,l),h(t,e,l)},p(t,l){t[27][0]!==1&&n.p(t,l)},d(t){n&&n.d(t),t&&p(e)}}}function FE(i){let e,n=i[27][0]+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function YE(i){let e,n=vl(i[20])+"",t,l;return{c(){e=w("\xA0("),t=w(n),l=w(")")},m(o,r){h(o,e,r),h(o,t,r),h(o,l,r)},p:te,d(o){o&&p(e),o&&p(t),o&&p(l)}}}function Dm(i){let e,n,t,l="",o,r="",f,a;t=new re({props:{type:"item",id:i[19]}});function s($,v){return $[27][0]===$[27][1]?PE:qE}let c=s(i)(i),m=i[20]!==1&&YE(i);return{c(){e=g("li"),n=g("span"),U(t.$$.fragment),o=w(l),c.c(),f=w(r),m&&m.c(),Ze(n,"white-space","nowrap")},m($,v){h($,e,v),d(e,n),L(t,n,null),d(n,o),c.m(n,null),d(n,f),m&&m.m(n,null),a=!0},p($,v){c.p($,v),$[20]!==1&&m.p($,v)},i($){a||(b(t.$$.fragment,$),a=!0)},o($){k(t.$$.fragment,$),a=!1},d($){$&&p(e),G(t),c.d(),m&&m.d()}}}function Lm(i){let e,n,t=i[24].length&&UE(i);return{c(){t&&t.c(),e=le()},m(l,o){t&&t.m(l,o),h(l,e,o),n=!0},p(l,o){l[24].length&&t.p(l,o)},i(l){n||(b(t),n=!0)},o(l){k(t),n=!1},d(l){t&&t.d(l),l&&p(e)}}}function jE(i){let e,n,t,l,o,r=["winter","spring","summer","autumn"].filter(i[4]),f=[];for(let s=0;s<r.length;s+=1)f[s]=Pm(Im(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Harvest",n=g("dd"),t=g("dl");for(let s=0;s<f.length;s+=1)f[s].c();l=I()},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&10){r=["winter","spring","summer","autumn"].filter(s[4]);let c;for(c=0;c<r.length;c+=1){const m=Im(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Pm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function HE(i){let e,n,t,l,o;return n=new xe({props:{item:i[1].byId("item",i[16].drop)}}),l=new re({props:{type:"item",id:i[16].drop}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment)},m(r,f){h(r,e,f),L(n,e,null),d(e,t),L(l,e,null),o=!0},p:te,i(r){o||(b(n.$$.fragment,r),b(l.$$.fragment,r),o=!0)},o(r){k(n.$$.fragment,r),k(l.$$.fragment,r),o=!1},d(r){r&&p(e),G(n),G(l)}}}function WE(i){let e,n,t=i[1].flattenItemGroup(i[1].byId("item_group",i[16].drop)),l=[];for(let r=0;r<t.length;r+=1)l[r]=Gm(Om(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=le()},m(r,f){for(let a=0;a<l.length;a+=1)l[a].m(r,f);h(r,e,f),n=!0},p(r,f){if(f&10){t=r[1].flattenItemGroup(r[1].byId("item_group",r[16].drop));let a;for(a=0;a<t.length;a+=1){const s=Om(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Gm(s),l[a].c(),b(l[a],1),l[a].m(e.parentNode,e))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){ue(l,r),r&&p(e)}}}function Gm(i){let e,n,t,l,o,r=(i[20]*100).toFixed(2)+"",f,a,s;return n=new xe({props:{item:i[1].byId("item",i[19])}}),l=new re({props:{type:"item",id:i[19]}}),{c(){e=g("li"),U(n.$$.fragment),t=I(),U(l.$$.fragment),o=w(" ("),f=w(r),a=w("%)")},m(u,c){h(u,e,c),L(n,e,null),d(e,t),L(l,e,null),d(e,o),d(e,f),d(e,a),s=!0},p:te,i(u){s||(b(n.$$.fragment,u),b(l.$$.fragment,u),s=!0)},o(u){k(n.$$.fragment,u),k(l.$$.fragment,u),s=!1},d(u){u&&p(e),G(n),G(l)}}}function Um(i){let e,n,t,l;const o=[WE,HE],r=[];function f(a,s){return a[16].type==="bionic_group"?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function qm(i){let e,n,t=i[13].entries,l=[];for(let r=0;r<t.length;r+=1)l[r]=Um(Nm(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c()},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f&10){t=r[13].entries;let a;for(a=0;a<t.length;a+=1){const s=Nm(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Um(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ue(l,r)}}}function Pm(i){let e,n=i[10]+"",t,l,o,r,f=[i[1].byId("harvest",i[3].get(i[10]))],a=[];for(let u=0;u<1;u+=1)a[u]=qm(Rm(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=g("dt"),t=w(n),l=g("dd");for(let u=0;u<1;u+=1)a[u].c();o=I(),Ze(e,"text-transform","capitalize")},m(u,c){h(u,e,c),d(e,t),h(u,l,c);for(let m=0;m<1;m+=1)a[m].m(l,null);d(l,o),r=!0},p(u,c){if(c&10){f=[u[1].byId("harvest",u[3].get(u[10]))];let m;for(m=0;m<1;m+=1){const $=Rm(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=qm($),a[m].c(),b(a[m],1),a[m].m(l,o))}for(x(),m=1;m<1;m+=1)s(m);ee()}},i(u){if(!r){for(let c=0;c<1;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<1;c+=1)k(a[c]);r=!1},d(u){u&&p(e),u&&p(l),ue(a,u)}}}function Fm(i){let e;return{c(){e=g("li"),e.innerHTML="<em>none</em>"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function Ym(i){let e,n,t;return n=new re({props:{type:"json_flag",id:i[7]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.id=l[7]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function zE(i){var K,Q,_e;let e,n,t,l=pe(i[0])+"",o,r,f,a,s,u,c=((K=i[0].move_cost)!=null?K:100)+"",m,$,v,y=((Q=i[0].coverage)!=null?Q:0)+"",T,E,S,C,R,D,B,O,A,M=Vt(i[0].description)+"",J,j;n=new xe({props:{item:i[0]}});let N=i[0].transforms_into&&Mm(i),X=i[2],W=[];for(let V=0;V<X.length;V+=1)W[V]=Lm(Bm(i,X,V));const F=V=>k(W[V],1,1,()=>{W[V]=null});let z=i[3].size&&jE(i),q=(_e=i[0].flags)!=null?_e:[],H=[];for(let V=0;V<q.length;V+=1)H[V]=Ym(Cm(i,q,V));const Z=V=>k(H[V],1,1,()=>{H[V]=null});let Y=null;return q.length||(Y=Fm()),{c(){e=g("h1"),U(n.$$.fragment),t=I(),o=w(l),r=I(),f=g("section"),a=g("dl"),s=g("dt"),s.textContent="Move Cost",u=g("dd"),m=w(c),$=g("dt"),$.textContent="Coverage",v=g("dd"),T=w(y),E=w("%"),N&&N.c(),S=le();for(let V=0;V<W.length;V+=1)W[V].c();C=le(),z&&z.c(),R=g("dt"),R.textContent="Flags",D=g("dd"),B=g("ul");for(let V=0;V<H.length;V+=1)H[V].c();Y&&Y.c(),O=I(),A=g("p"),J=w(M),ae(B,"class","comma-separated"),Ze(A,"color","var(--cata-color-gray)"),Ze(A,"margin-bottom","0")},m(V,ie){h(V,e,ie),L(n,e,null),d(e,t),d(e,o),h(V,r,ie),h(V,f,ie),d(f,a),d(a,s),d(a,u),d(u,m),d(a,$),d(a,v),d(v,T),d(v,E),N&&N.m(a,null),d(a,S);for(let he=0;he<W.length;he+=1)W[he].m(a,null);d(a,C),z&&z.m(a,null),d(a,R),d(a,D),d(D,B);for(let he=0;he<H.length;he+=1)H[he].m(B,null);Y&&Y.m(B,null),d(f,O),d(f,A),d(A,J),j=!0},p(V,[ie]){var Ae,ve,fe;const he={};if(ie&1&&(he.item=V[0]),n.$set(he),(!j||ie&1)&&l!==(l=pe(V[0])+"")&&P(o,l),(!j||ie&1)&&c!==(c=((Ae=V[0].move_cost)!=null?Ae:100)+"")&&P(m,c),(!j||ie&1)&&y!==(y=((ve=V[0].coverage)!=null?ve:0)+"")&&P(T,y),V[0].transforms_into?N?(N.p(V,ie),ie&1&&b(N,1)):(N=Mm(V),N.c(),b(N,1),N.m(a,S)):N&&(x(),k(N,1,1,()=>{N=null}),ee()),ie&4){X=V[2];let be;for(be=0;be<X.length;be+=1){const $e=Bm(V,X,be);W[be]?(W[be].p($e,ie),b(W[be],1)):(W[be]=Lm($e),W[be].c(),b(W[be],1),W[be].m(a,C))}for(x(),be=X.length;be<W.length;be+=1)F(be);ee()}if(V[3].size&&z.p(V,ie),ie&1){q=(fe=V[0].flags)!=null?fe:[];let be;for(be=0;be<q.length;be+=1){const $e=Cm(V,q,be);H[be]?(H[be].p($e,ie),b(H[be],1)):(H[be]=Ym($e),H[be].c(),b(H[be],1),H[be].m(B,null))}for(x(),be=q.length;be<H.length;be+=1)Z(be);ee(),!q.length&&Y?Y.p(V,ie):q.length?Y&&(Y.d(1),Y=null):(Y=Fm(),Y.c(),Y.m(B,null))}(!j||ie&1)&&M!==(M=Vt(V[0].description)+"")&&P(J,M)},i(V){if(!j){b(n.$$.fragment,V),b(N);for(let ie=0;ie<X.length;ie+=1)b(W[ie]);b(z);for(let ie=0;ie<q.length;ie+=1)b(H[ie]);j=!0}},o(V){k(n.$$.fragment,V),k(N),W=W.filter(Boolean);for(let ie=0;ie<W.length;ie+=1)k(W[ie]);k(z),H=H.filter(Boolean);for(let ie=0;ie<H.length;ie+=1)k(H[ie]);j=!1},d(V){V&&p(e),G(n),V&&p(r),V&&p(f),N&&N.d(),ue(W,V),z&&z.d(),ue(H,V),Y&&Y.d()}}}function VE(i,e,n){var u,c,m;const t=lt("data");let{item:l}=e;const o=(u=l.deconstruct)!=null&&u.items?t.flattenItemGroup({subtype:"collection",entries:typeof l.deconstruct.items=="string"?[{group:l.deconstruct.items}]:l.deconstruct.items}):[],r=(c=l.bash)!=null&&c.items?t.flattenItemGroup({subtype:"collection",entries:typeof l.bash.items=="string"?[{group:l.bash.items}]:l.bash.items}):[],f=[["Deconstruct",o],["Bash",r]],a=new Map;for(const{seasons:$,id:v}of(m=l.harvest_by_season)!=null?m:[])for(const y of $)a.set(y,v);const s=$=>a.has($);return i.$$set=$=>{"item"in $&&n(0,l=$.item)},[l,t,f,a,s]}class XE extends We{constructor(e){super(),He(this,e,VE,zE,Fe,{item:0})}}function JE(i){let e;return{c(){e=g("p"),e.textContent="There are no weapons in this category.",Ze(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function KE(i){let e,n;return e=new at({props:{items:i[1],$$slots:{default:[ZE,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&17&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function ZE(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"item",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function QE(i){let e;return{c(){e=g("p"),e.textContent="There are no martial arts that use this weapon category.",Ze(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function xE(i){let e,n;return e=new at({props:{items:i[2],$$slots:{default:[eT,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&17&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function eT(i){let e,n,t,l;return e=new xe({props:{item:i[0]}}),t=new re({props:{type:"martial_art",id:i[0].id}}),{c(){U(e.$$.fragment),n=I(),U(t.$$.fragment)},m(o,r){L(e,o,r),h(o,n,r),L(t,o,r),l=!0},p(o,r){const f={};r&1&&(f.item=o[0]),e.$set(f);const a={};r&1&&(a.id=o[0].id),t.$set(a)},i(o){l||(b(e.$$.fragment,o),b(t.$$.fragment,o),l=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),l=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function tT(i){let e,n,t=pe(i[0])+"",l,o,r,f,a,s,u,c,m,$,v,y,T,E;const S=[KE,JE],C=[];function R(A,M){return A[1].length?0:1}s=R(i),u=C[s]=S[s](i);const D=[xE,QE],B=[];function O(A,M){return A[2].length?0:1}return y=O(i),T=B[y]=D[y](i),{c(){e=g("h1"),n=w("Weapon Category: "),l=w(t),o=I(),r=g("section"),f=g("h1"),f.textContent="Weapons",a=I(),u.c(),c=I(),m=g("section"),$=g("h1"),$.textContent="Martial Arts",v=I(),T.c()},m(A,M){h(A,e,M),d(e,n),d(e,l),h(A,o,M),h(A,r,M),d(r,f),d(r,a),C[s].m(r,null),h(A,c,M),h(A,m,M),d(m,$),d(m,v),B[y].m(m,null),E=!0},p(A,[M]){(!E||M&1)&&t!==(t=pe(A[0])+"")&&P(l,t),u.p(A,M),T.p(A,M)},i(A){E||(b(u),b(T),E=!0)},o(A){k(u),k(T),E=!1},d(A){A&&p(e),A&&p(o),A&&p(r),C[s].d(),A&&p(c),A&&p(m),B[y].d()}}}function nT(i,e,n){let{item:t}=e;const l=lt("data"),o=l.byType("item").filter(f=>f.id).filter(f=>{var a;return((a=f.weapon_category)!=null?a:[]).some(s=>s===t.id)});o.sort((f,a)=>pe(f).localeCompare(pe(a)));const r=l.byType("martial_art").filter(f=>f.id).filter(f=>{var a;return(a=f.weapon_category)==null?void 0:a.some(s=>s===t.id)});return r.sort((f,a)=>pe(f).localeCompare(pe(a))),i.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,o,r]}class lT extends We{constructor(e){super(),He(this,e,nT,tT,Fe,{item:0})}}function jm(i,e,n){const t=i.slice();return t[3]=e[n],t}function Hm(i){let e,n;return e=new hh({props:{construction:i[3]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:te,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function iT(i){let e,n=pe(i[0])+"",t,l,o,r,f=i[1],a=[];for(let u=0;u<f.length;u+=1)a[u]=Hm(jm(i,f,u));const s=u=>k(a[u],1,1,()=>{a[u]=null});return{c(){e=g("h1"),t=w(n),l=I();for(let u=0;u<a.length;u+=1)a[u].c();o=le()},m(u,c){h(u,e,c),d(e,t),h(u,l,c);for(let m=0;m<a.length;m+=1)a[m].m(u,c);h(u,o,c),r=!0},p(u,[c]){if((!r||c&1)&&n!==(n=pe(u[0])+"")&&P(t,n),c&2){f=u[1];let m;for(m=0;m<f.length;m+=1){const $=jm(u,f,m);a[m]?(a[m].p($,c),b(a[m],1)):(a[m]=Hm($),a[m].c(),b(a[m],1),a[m].m(o.parentNode,o))}for(x(),m=f.length;m<a.length;m+=1)s(m);ee()}},i(u){if(!r){for(let c=0;c<f.length;c+=1)b(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)k(a[c]);r=!1},d(u){u&&p(e),u&&p(l),ue(a,u),u&&p(o)}}}function rT(i,e,n){let{item:t}=e;const o=lt("data").byType("construction").filter(r=>r.group===t.id);return i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,o]}class oT extends We{constructor(e){super(),He(this,e,rT,iT,Fe,{item:0})}}function Wm(i,e,n){const t=i.slice();return t[3]=e[n],t}function zm(i,e,n){const t=i.slice();return t[6]=e[n],t}function Vm(i,e,n){const t=i.slice();return t[9]=e[n],t}function Xm(i){let e,n=i[0].description+"",t;return{c(){e=g("p"),t=w(n),Ze(e,"color","var(--cata-color-gray)")},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=l[0].description+"")&&P(t,n)},d(l){l&&p(e)}}}function Jm(i){let e,n,t,l,o,r=[i[0].hidden_by].flat(),f=[];for(let s=0;s<r.length;s+=1)f[s]=Km(Vm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Hidden By",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated and")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&1){r=[s[0].hidden_by].flat();let c;for(c=0;c<r.length;c+=1){const m=Vm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Km(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Km(i){let e,n,t;return n=new re({props:{type:i[0].type,id:i[9]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.type=l[0].type),o&1&&(r.id=l[9]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function fT(i){let e,n,t,l,o,r=i[2],f=[];for(let s=0;s<r.length;s+=1)f[s]=Zm(zm(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Unlocks",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated and")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u&5){r=s[2];let c;for(c=0;c<r.length;c+=1){const m=zm(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Zm(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Zm(i){let e,n,t;return n=new re({props:{type:i[0].type,id:i[6].id}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o&1&&(r.type=l[0].type),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Qm(i){var y;let e,n,t,l,o=i[0].time_constraint.since+"",r,f,a,s=i[0].time_constraint.is+"",u,c,m=((y=i[0].time_constraint.target)!=null?y:"")+"",$,v;return{c(){e=g("dt"),e.textContent="Time Constraint",n=g("dd"),t=w("Time since "),l=g("strong"),r=w(o),f=w(` is
        `),a=g("strong"),u=w(s),c=I(),$=w(m),v=I()},m(T,E){h(T,e,E),h(T,n,E),d(n,t),d(n,l),d(l,r),d(n,f),d(n,a),d(a,u),d(a,c),d(a,$),d(n,v)},p(T,E){var S;E&1&&o!==(o=T[0].time_constraint.since+"")&&P(r,o),E&1&&s!==(s=T[0].time_constraint.is+"")&&P(u,s),E&1&&m!==(m=((S=T[0].time_constraint.target)!=null?S:"")+"")&&P($,m)},d(T){T&&p(e),T&&p(n)}}}function sT(i){var c;let e,n=Po(i[1].byId("event_statistic",i[3].event_statistic).description)+"",t,l,o,r=i[3].is+"",f,a,s=((c=i[3].target)!=null?c:"")+"",u;return{c(){e=g("strong"),t=w(n),l=w(`
              is `),o=g("strong"),f=w(r),a=I(),u=w(s)},m(m,$){h(m,e,$),d(e,t),h(m,l,$),h(m,o,$),d(o,f),d(o,a),d(o,u)},p(m,$){var v;$&1&&n!==(n=Po(m[1].byId("event_statistic",m[3].event_statistic).description)+"")&&P(t,n),$&1&&r!==(r=m[3].is+"")&&P(f,r),$&1&&s!==(s=((v=m[3].target)!=null?v:"")+"")&&P(u,s)},d(m){m&&p(e),m&&p(l),m&&p(o)}}}function aT(i){let e,n=i[3].description+"",t;return{c(){e=g("strong"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p(l,o){o&1&&n!==(n=l[3].description+"")&&P(t,n)},d(l){l&&p(e)}}}function xm(i){let e,n;function t(r,f){return r[3].description?aT:sT}let l=t(i),o=l(i);return{c(){e=g("li"),o.c(),n=I()},m(r,f){h(r,e,f),o.m(e,null),d(e,n)},p(r,f){l===(l=t(r))&&o?o.p(r,f):(o.d(1),o=l(r),o&&(o.c(),o.m(e,n)))},d(r){r&&p(e),o.d()}}}function uT(i){let e,n=i[0].type==="achievement"?"Achievement":"Conduct",t,l,o=pe(i[0])+"",r,f,a,s,u,c,m,$,v,y,T,E=i[0].description&&Xm(i),S=i[0].hidden_by&&Jm(i),C=i[2].length&&fT(i),R=i[0].time_constraint&&Qm(i),D=i[0].requirements,B=[];for(let O=0;O<D.length;O+=1)B[O]=xm(Wm(i,D,O));return{c(){e=g("h1"),t=w(n),l=w(": "),r=w(o),f=I(),a=g("section"),E&&E.c(),s=I(),u=g("dl"),S&&S.c(),c=le(),C&&C.c(),m=le(),R&&R.c(),$=g("dt"),$.textContent="Requirements",v=g("dd"),y=g("ul");for(let O=0;O<B.length;O+=1)B[O].c()},m(O,A){h(O,e,A),d(e,t),d(e,l),d(e,r),h(O,f,A),h(O,a,A),E&&E.m(a,null),d(a,s),d(a,u),S&&S.m(u,null),d(u,c),C&&C.m(u,null),d(u,m),R&&R.m(u,null),d(u,$),d(u,v),d(v,y);for(let M=0;M<B.length;M+=1)B[M].m(y,null);T=!0},p(O,[A]){if((!T||A&1)&&n!==(n=O[0].type==="achievement"?"Achievement":"Conduct")&&P(t,n),(!T||A&1)&&o!==(o=pe(O[0])+"")&&P(r,o),O[0].description?E?E.p(O,A):(E=Xm(O),E.c(),E.m(a,s)):E&&(E.d(1),E=null),O[0].hidden_by?S?(S.p(O,A),A&1&&b(S,1)):(S=Jm(O),S.c(),b(S,1),S.m(u,c)):S&&(x(),k(S,1,1,()=>{S=null}),ee()),O[2].length&&C.p(O,A),O[0].time_constraint?R?R.p(O,A):(R=Qm(O),R.c(),R.m(u,$)):R&&(R.d(1),R=null),A&3){D=O[0].requirements;let M;for(M=0;M<D.length;M+=1){const J=Wm(O,D,M);B[M]?B[M].p(J,A):(B[M]=xm(J),B[M].c(),B[M].m(y,null))}for(;M<B.length;M+=1)B[M].d(1);B.length=D.length}},i(O){T||(b(S),b(C),T=!0)},o(O){k(S),k(C),T=!1},d(O){O&&p(e),O&&p(f),O&&p(a),E&&E.d(),S&&S.d(),C&&C.d(),R&&R.d(),ue(B,O)}}}function cT(i,e,n){let{item:t}=e;const l=lt("data"),o=l.byType("achievement").filter(r=>{var f;return r.id!==t.id&&[(f=r.hidden_by)!=null?f:[]].flat().includes(t.id)});return i.$$set=r=>{"item"in r&&n(0,t=r.item)},[t,l,o]}class ep extends We{constructor(e){super(),He(this,e,cT,uT,Fe,{item:0})}}function _T(i){let e,n,t=yn(i[0].type)+"",l,o,r,f;return{c(){e=g("section"),n=w("\u26A0\uFE0F This "),l=w(t),o=w(" is marked as "),r=g("em"),r.textContent="obsolete",f=w(`, meaning that it
  is likely not possible to obtain in this version.`),ae(e,"class","obsoletion-warning svelte-tb1bo")},m(a,s){h(a,e,s),d(e,n),d(e,l),d(e,o),d(e,r),d(e,f)},p(a,[s]){s&1&&t!==(t=yn(a[0].type)+"")&&P(l,t)},i:te,o:te,d(a){a&&p(e)}}}function dT(i,e,n){let{item:t}=e;return i.$$set=l=>{"item"in l&&n(0,t=l.item)},[t]}class mT extends We{constructor(e){super(),He(this,e,dT,_T,Fe,{item:0})}}function tp(i,e,n){const t=i.slice();return t[2]=e[n],t}function np(i,e,n){const t=i.slice();return t[2]=e[n],t}function lp(i,e,n){const t=i.slice();return t[7]=e[n],t}function ip(i,e,n){const t=i.slice();return t[7]=e[n],t}function rp(i,e,n){const t=i.slice();return t[12]=e[n],t}function op(i,e,n){const t=i.slice();return t[15]=e[n],t}function fp(i,e,n){const t=i.slice();return t[15]=e[n],t}function sp(i,e,n){const t=i.slice();return t[20]=e[n],t}function ap(i,e,n){const t=i.slice();return t[23]=e[n][0],t[24]=e[n][1],t}function up(i,e,n){const t=i.slice();return t[27]=e[n][0],t[28]=e[n][1],t}function cp(i,e,n){const t=i.slice();return t[27]=e[n][0],t[31]=e[n][1],t}function pT(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function hT(i){let e,n=i[0].occupied_bodyparts,t=[];for(let l=0;l<n.length;l+=1)t[l]=_p(cp(i,n,l));return{c(){e=g("ul");for(let l=0;l<t.length;l+=1)t[l].c();ae(e,"class","comma-separated")},m(l,o){h(l,e,o);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,o){if(o[0]&3){n=l[0].occupied_bodyparts;let r;for(r=0;r<n.length;r+=1){const f=cp(l,n,r);t[r]?t[r].p(f,o):(t[r]=_p(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(l){l&&p(e),ue(t,l)}}}function _p(i){let e,n=pe(i[1].byId("body_part",i[27]))+"",t,l,o=i[31]+"",r,f,a=i[31]===1?"slot":"slots",s,u;return{c(){e=g("li"),t=w(n),l=w(" ("),r=w(o),f=I(),s=w(a),u=w(`)
            `)},m(c,m){h(c,e,m),d(e,t),d(e,l),d(e,r),d(e,f),d(e,s),d(e,u)},p(c,m){m[0]&1&&n!==(n=pe(c[1].byId("body_part",c[27]))+"")&&P(t,n),m[0]&1&&o!==(o=c[31]+"")&&P(r,o),m[0]&1&&a!==(a=c[31]===1?"slot":"slots")&&P(s,a)},d(c){c&&p(e)}}}function dp(i){let e,n,t,l,o=i[0].encumbrance,r=[];for(let f=0;f<o.length;f+=1)r[f]=mp(up(i,o,f));return{c(){e=g("dt"),e.textContent="Encumbrance",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=I(),ae(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&3){o=f[0].encumbrance;let s;for(s=0;s<o.length;s+=1){const u=up(f,o,s);r[s]?r[s].p(u,a):(r[s]=mp(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ue(r,f)}}}function mp(i){let e,n=pe(i[1].byId("body_part",i[27]))+"",t,l,o=i[28]+"",r,f;return{c(){e=g("li"),t=w(n),l=w(" ("),r=w(o),f=w(")")},m(a,s){h(a,e,s),d(e,t),d(e,l),d(e,r),d(e,f)},p(a,s){s[0]&1&&n!==(n=pe(a[1].byId("body_part",a[27]))+"")&&P(t,n),s[0]&1&&o!==(o=a[28]+"")&&P(r,o)},d(a){a&&p(e)}}}function pp(i){let e,n,t,l,o=i[0].stat_bonus,r=[];for(let f=0;f<o.length;f+=1)r[f]=hp(ap(i,o,f));return{c(){e=g("dt"),e.textContent="Stat Bonuses",n=g("dd"),t=g("ul");for(let f=0;f<r.length;f+=1)r[f].c();l=I(),ae(t,"class","comma-separated")},m(f,a){h(f,e,a),h(f,n,a),d(n,t);for(let s=0;s<r.length;s+=1)r[s].m(t,null);d(n,l)},p(f,a){if(a[0]&1){o=f[0].stat_bonus;let s;for(s=0;s<o.length;s+=1){const u=ap(f,o,s);r[s]?r[s].p(u,a):(r[s]=hp(u),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(f){f&&p(e),f&&p(n),ue(r,f)}}}function hp(i){let e,n=i[24]>=0?`+${i[24]}`:`\u2013${-i[24]}`,t,l,o=i[23]+"",r;return{c(){e=g("li"),t=w(n),l=I(),r=w(o)},m(f,a){h(f,e,a),d(e,t),d(e,l),d(e,r)},p(f,a){a[0]&1&&n!==(n=f[24]>=0?`+${f[24]}`:`\u2013${-f[24]}`)&&P(t,n),a[0]&1&&o!==(o=f[23]+"")&&P(r,o)},d(f){f&&p(e)}}}function gp(i){let e,n;return{c(){e=g("dt"),e.textContent="Removable",n=g("dd"),n.textContent="no"},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function bp(i){let e,n,t=i[0].act_cost+"",l;return{c(){e=g("dt"),e.textContent="Activation Cost",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].act_cost+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function $p(i){let e,n,t=i[0].trigger_cost+"",l;return{c(){e=g("dt"),e.textContent="Trigger Cost",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].trigger_cost+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function kp(i){let e,n,t=i[0].react_cost+"",l;return{c(){e=g("dt"),e.textContent="Power Over Time",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].react_cost+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function vp(i){let e,n,t=(i[0].vitamin_absorb_mod*100).toFixed(0)+"",l,o;return{c(){e=g("dt"),e.textContent="Vitamin Absorption Modifier",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f[0]&1&&t!==(t=(r[0].vitamin_absorb_mod*100).toFixed(0)+"")&&P(l,t)},d(r){r&&p(e),r&&p(n)}}}function yp(i){let e,n,t,l,o,r=i[0].fuel_options,f=[];for(let s=0;s<r.length;s+=1)f[s]=wp(sp(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Fuel",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1){r=s[0].fuel_options;let c;for(c=0;c<r.length;c+=1){const m=sp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=wp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function wp(i){let e,n,t;return n=new re({props:{type:"material",id:i[20]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[20]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Ep(i){let e,n,t=i[0].fuel_capacity+"",l;return{c(){e=g("dt"),e.textContent="Fuel Capacity",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].fuel_capacity+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function Tp(i){let e,n,t=i[0].fuel_efficiency*100+"",l,o;return{c(){e=g("dt"),e.textContent="Fuel Efficiency",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f[0]&1&&t!==(t=r[0].fuel_efficiency*100+"")&&P(l,t)},d(r){r&&p(e),r&&p(n)}}}function Sp(i){let e,n,t=i[0].passive_fuel_efficiency*100+"",l,o;return{c(){e=g("dt"),e.textContent="Passive Fuel Efficiency",n=g("dd"),l=w(t),o=w("%")},m(r,f){h(r,e,f),h(r,n,f),d(n,l),d(n,o)},p(r,f){f[0]&1&&t!==(t=r[0].passive_fuel_efficiency*100+"")&&P(l,t)},d(r){r&&p(e),r&&p(n)}}}function Cp(i){let e,n;return{c(){e=g("dt"),e.textContent="Emits Heat",n=g("dd"),n.textContent="yes"},m(t,l){h(t,e,l),h(t,n,l)},d(t){t&&p(e),t&&p(n)}}}function Ip(i){let e,n,t=i[0].power_trickle+"",l;return{c(){e=g("dt"),e.textContent="Power Trickle",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].power_trickle+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function Rp(i){let e,n,t=i[0].time+"",l,o,r=i[0].time!==1?"s":"",f;return{c(){e=g("dt"),e.textContent="Charge Time",n=g("dd"),l=w(t),o=w(" turn"),f=w(r)},m(a,s){h(a,e,s),h(a,n,s),d(n,l),d(n,o),d(n,f)},p(a,s){s[0]&1&&t!==(t=a[0].time+"")&&P(l,t),s[0]&1&&r!==(r=a[0].time!==1?"s":"")&&P(f,r)},d(a){a&&p(e),a&&p(n)}}}function Np(i){let e,n,t=i[0].capacity+"",l;return{c(){e=g("dt"),e.textContent="Capacity",n=g("dd"),l=w(t)},m(o,r){h(o,e,r),h(o,n,r),d(n,l)},p(o,r){r[0]&1&&t!==(t=o[0].capacity+"")&&P(l,t)},d(o){o&&p(e),o&&p(n)}}}function Op(i){let e,n,t,l;return t=new re({props:{type:"item",id:i[0].fake_weapon}}),{c(){e=g("dt"),e.textContent="Acts As",n=g("dd"),U(t.$$.fragment)},m(o,r){h(o,e,r),h(o,n,r),L(t,n,null),l=!0},p(o,r){const f={};r[0]&1&&(f.id=o[0].fake_weapon),t.$set(f)},i(o){l||(b(t.$$.fragment,o),l=!0)},o(o){k(t.$$.fragment,o),l=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Bp(i){let e,n,t,l,o,r=i[0].toggled_pseudo_items,f=[];for(let s=0;s<r.length;s+=1)f[s]=Ap(fp(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Acts As",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1){r=s[0].toggled_pseudo_items;let c;for(c=0;c<r.length;c+=1){const m=fp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Ap(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Ap(i){let e,n,t;return n=new re({props:{type:"item",id:i[15]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[15]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Mp(i){let e,n,t,l,o,r=i[0].passive_pseudo_items,f=[];for(let s=0;s<r.length;s+=1)f[s]=Dp(op(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Acts As",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1){r=s[0].passive_pseudo_items;let c;for(c=0;c<r.length;c+=1){const m=op(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Dp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Dp(i){let e,n,t;return n=new re({props:{type:"item",id:i[15]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[15]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Lp(i){let e,n,t,l,o,r=i[0].included_bionics,f=[];for(let s=0;s<r.length;s+=1)f[s]=Gp(rp(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Includes",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1){r=s[0].included_bionics;let c;for(c=0;c<r.length;c+=1){const m=rp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Gp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Gp(i){let e,n,t;return n=new re({props:{type:"bionic",id:i[12]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[12]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function gT(i){let e;return{c(){e=g("em"),e.textContent="none"},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function bT(i){let e,n,t=i[0].flags,l=[];for(let r=0;r<t.length;r+=1)l[r]=Up(ip(i,t,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c();ae(e,"class","comma-separated")},m(r,f){h(r,e,f);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(r,f){if(f[0]&1){t=r[0].flags;let a;for(a=0;a<t.length;a+=1){const s=ip(r,t,a);l[a]?(l[a].p(s,f),b(l[a],1)):(l[a]=Up(s),l[a].c(),b(l[a],1),l[a].m(e,null))}for(x(),a=t.length;a<l.length;a+=1)o(a);ee()}},i(r){if(!n){for(let f=0;f<t.length;f+=1)b(l[f]);n=!0}},o(r){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)k(l[f]);n=!1},d(r){r&&p(e),ue(l,r)}}}function Up(i){let e,n,t;return n=new re({props:{type:"json_flag",id:i[7]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[7]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function qp(i){let e,n,t,l,o,r=i[0].active_flags,f=[];for(let s=0;s<r.length;s+=1)f[s]=Pp(lp(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Flags When Active",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&1){r=s[0].active_flags;let c;for(c=0;c<r.length;c+=1){const m=lp(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=Pp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Pp(i){let e,n,t;return n=new re({props:{type:"json_flag",id:i[7]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[7]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function Fp(i){let e,n,t,l,o,r=i[0].mutation_conflicts,f=[];for(let s=0;s<r.length;s+=1)f[s]=jp(np(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("dt"),e.textContent="Conflicts With Mutations",n=g("dd"),t=g("ul");for(let s=0;s<f.length;s+=1)f[s].c();l=I(),ae(t,"class","comma-separated")},m(s,u){h(s,e,u),h(s,n,u),d(n,t);for(let c=0;c<f.length;c+=1)f[c].m(t,null);d(n,l),o=!0},p(s,u){if(u[0]&3){r=s[0].mutation_conflicts;let c;for(c=0;c<r.length;c+=1){const m=np(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=jp(m),f[c].c(),b(f[c],1),f[c].m(t,null))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(n),ue(f,s)}}}function Yp(i){let e,n,t;return n=new re({props:{type:"mutation",id:i[2]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[2]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function jp(i){let e=i[1].byId("mutation",i[2]),n,t,l=e&&Yp(i);return{c(){l&&l.c(),n=le()},m(o,r){l&&l.m(o,r),h(o,n,r),t=!0},p(o,r){r[0]&1&&(e=o[1].byId("mutation",o[2])),e?l?(l.p(o,r),r[0]&1&&b(l,1)):(l=Yp(o),l.c(),b(l,1),l.m(n.parentNode,n)):l&&(x(),k(l,1,1,()=>{l=null}),ee())},i(o){t||(b(l),t=!0)},o(o){k(l),t=!1},d(o){l&&l.d(o),o&&p(n)}}}function Hp(i){let e,n,t,l,o=i[0].canceled_mutations,r=[];for(let a=0;a<o.length;a+=1)r[a]=zp(tp(i,o,a));const f=a=>k(r[a],1,1,()=>{r[a]=null});return{c(){e=g("dt"),e.textContent="Removes Mutations",n=g("dd"),t=g("ul");for(let a=0;a<r.length;a+=1)r[a].c();ae(t,"class","comma-separated")},m(a,s){h(a,e,s),h(a,n,s),d(n,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l=!0},p(a,s){if(s[0]&3){o=a[0].canceled_mutations;let u;for(u=0;u<o.length;u+=1){const c=tp(a,o,u);r[u]?(r[u].p(c,s),b(r[u],1)):(r[u]=zp(c),r[u].c(),b(r[u],1),r[u].m(t,null))}for(x(),u=o.length;u<r.length;u+=1)f(u);ee()}},i(a){if(!l){for(let s=0;s<o.length;s+=1)b(r[s]);l=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)k(r[s]);l=!1},d(a){a&&p(e),a&&p(n),ue(r,a)}}}function Wp(i){let e,n,t;return n=new re({props:{type:"mutation",id:i[2]}}),{c(){e=g("li"),U(n.$$.fragment)},m(l,o){h(l,e,o),L(n,e,null),t=!0},p(l,o){const r={};o[0]&1&&(r.id=l[2]),n.$set(r)},i(l){t||(b(n.$$.fragment,l),t=!0)},o(l){k(n.$$.fragment,l),t=!1},d(l){l&&p(e),G(n)}}}function zp(i){let e=i[1].byId("mutation",i[2]),n,t,l=e&&Wp(i);return{c(){l&&l.c(),n=le()},m(o,r){l&&l.m(o,r),h(o,n,r),t=!0},p(o,r){r[0]&1&&(e=o[1].byId("mutation",o[2])),e?l?(l.p(o,r),r[0]&1&&b(l,1)):(l=Wp(o),l.c(),b(l,1),l.m(n.parentNode,n)):l&&(x(),k(l,1,1,()=>{l=null}),ee())},i(o){t||(b(l),t=!0)},o(o){k(l),t=!1},d(o){l&&l.d(o),o&&p(n)}}}function $T(i){var Ht,un,St,et,nt;let e,n=pe(i[0])+"",t,l,o,r,f,a,s,u,c,m,$,v,y,T,E,S,C,R,D,B,O,A,M,J,j,N,X,W,F,z=i[0].dupes_allowed?"yes":"no",q,H,Z,Y,K,Q,_e,V,ie,he,Ae=Vt(i[0].description)+"",ve,fe;function be(Ne,je){return Ne[0].occupied_bodyparts?hT:pT}let $e=be(i),ce=$e(i),Ge=i[0].encumbrance&&dp(i),Te=i[0].stat_bonus&&pp(i),ge=i[0].cant_remove_reason&&gp(),ye=i[0].act_cost&&bp(i),Qe=i[0].trigger_cost&&$p(i),oe=i[0].react_cost&&kp(i),ke=((Ht=i[0].vitamin_absorb_mod)!=null?Ht:1)!==1&&vp(i),Xe=((un=i[0].fuel_options)==null?void 0:un.length)&&yp(i),Me=i[0].fuel_capacity&&Ep(i),Oe=i[0].fuel_efficiency&&Tp(i),Ce=i[0].passive_fuel_efficiency&&Sp(i),ze=i[0].exothermic_power_gen&&Cp(),we=i[0].power_trickle&&Ip(i),De=i[0].time&&Rp(i),Pe=i[0].capacity&&Np(i),Ee=i[0].fake_weapon&&Op(i),Se=((St=i[0].toggled_pseudo_items)==null?void 0:St.length)&&Bp(i),Be=((et=i[0].passive_pseudo_items)==null?void 0:et.length)&&Mp(i),Ue=((nt=i[0].included_bionics)==null?void 0:nt.length)&&Lp(i);const Ve=[bT,gT],rt=[];function ft(Ne,je){var yt;return(yt=Ne[0].flags)!=null&&yt.length?0:1}Y=ft(i),K=rt[Y]=Ve[Y](i);let ct=i[0].active_flags&&qp(i),_t=i[0].mutation_conflicts&&Fp(i),bt=i[0].canceled_mutations&&Hp(i);return{c(){e=g("h1"),t=w(n),l=I(),o=g("section"),r=g("h1"),r.textContent="General",f=I(),a=g("dl"),s=g("dt"),s.textContent="Occupied Body Parts",u=g("dd"),ce.c(),c=I(),Ge&&Ge.c(),m=le(),Te&&Te.c(),$=le(),ge&&ge.c(),v=le(),ye&&ye.c(),y=le(),Qe&&Qe.c(),T=le(),oe&&oe.c(),E=le(),ke&&ke.c(),S=le(),Xe&&Xe.c(),C=le(),Me&&Me.c(),R=le(),Oe&&Oe.c(),D=le(),Ce&&Ce.c(),B=le(),ze&&ze.c(),O=le(),we&&we.c(),A=le(),De&&De.c(),M=le(),Pe&&Pe.c(),J=le(),Ee&&Ee.c(),j=le(),Se&&Se.c(),N=le(),Be&&Be.c(),X=le(),Ue&&Ue.c(),W=g("dt"),W.textContent="Duplicates Allowed",F=g("dd"),q=w(z),H=g("dt"),H.textContent="Flags",Z=g("dd"),K.c(),Q=I(),ct&&ct.c(),_e=le(),_t&&_t.c(),V=le(),bt&&bt.c(),ie=I(),he=g("p"),ve=w(Ae),Ze(he,"color","var(--cata-color-gray)")},m(Ne,je){h(Ne,e,je),d(e,t),h(Ne,l,je),h(Ne,o,je),d(o,r),d(o,f),d(o,a),d(a,s),d(a,u),ce.m(u,null),d(u,c),Ge&&Ge.m(a,null),d(a,m),Te&&Te.m(a,null),d(a,$),ge&&ge.m(a,null),d(a,v),ye&&ye.m(a,null),d(a,y),Qe&&Qe.m(a,null),d(a,T),oe&&oe.m(a,null),d(a,E),ke&&ke.m(a,null),d(a,S),Xe&&Xe.m(a,null),d(a,C),Me&&Me.m(a,null),d(a,R),Oe&&Oe.m(a,null),d(a,D),Ce&&Ce.m(a,null),d(a,B),ze&&ze.m(a,null),d(a,O),we&&we.m(a,null),d(a,A),De&&De.m(a,null),d(a,M),Pe&&Pe.m(a,null),d(a,J),Ee&&Ee.m(a,null),d(a,j),Se&&Se.m(a,null),d(a,N),Be&&Be.m(a,null),d(a,X),Ue&&Ue.m(a,null),d(a,W),d(a,F),d(F,q),d(a,H),d(a,Z),rt[Y].m(Z,null),d(Z,Q),ct&&ct.m(a,null),d(a,_e),_t&&_t.m(a,null),d(a,V),bt&&bt.m(a,null),d(o,ie),d(o,he),d(he,ve),fe=!0},p(Ne,je){var mt,At,wt,pt,ut;(!fe||je[0]&1)&&n!==(n=pe(Ne[0])+"")&&P(t,n),$e===($e=be(Ne))&&ce?ce.p(Ne,je):(ce.d(1),ce=$e(Ne),ce&&(ce.c(),ce.m(u,c))),Ne[0].encumbrance?Ge?Ge.p(Ne,je):(Ge=dp(Ne),Ge.c(),Ge.m(a,m)):Ge&&(Ge.d(1),Ge=null),Ne[0].stat_bonus?Te?Te.p(Ne,je):(Te=pp(Ne),Te.c(),Te.m(a,$)):Te&&(Te.d(1),Te=null),Ne[0].cant_remove_reason?ge||(ge=gp(),ge.c(),ge.m(a,v)):ge&&(ge.d(1),ge=null),Ne[0].act_cost?ye?ye.p(Ne,je):(ye=bp(Ne),ye.c(),ye.m(a,y)):ye&&(ye.d(1),ye=null),Ne[0].trigger_cost?Qe?Qe.p(Ne,je):(Qe=$p(Ne),Qe.c(),Qe.m(a,T)):Qe&&(Qe.d(1),Qe=null),Ne[0].react_cost?oe?oe.p(Ne,je):(oe=kp(Ne),oe.c(),oe.m(a,E)):oe&&(oe.d(1),oe=null),((mt=Ne[0].vitamin_absorb_mod)!=null?mt:1)!==1?ke?ke.p(Ne,je):(ke=vp(Ne),ke.c(),ke.m(a,S)):ke&&(ke.d(1),ke=null),(At=Ne[0].fuel_options)!=null&&At.length?Xe?(Xe.p(Ne,je),je[0]&1&&b(Xe,1)):(Xe=yp(Ne),Xe.c(),b(Xe,1),Xe.m(a,C)):Xe&&(x(),k(Xe,1,1,()=>{Xe=null}),ee()),Ne[0].fuel_capacity?Me?Me.p(Ne,je):(Me=Ep(Ne),Me.c(),Me.m(a,R)):Me&&(Me.d(1),Me=null),Ne[0].fuel_efficiency?Oe?Oe.p(Ne,je):(Oe=Tp(Ne),Oe.c(),Oe.m(a,D)):Oe&&(Oe.d(1),Oe=null),Ne[0].passive_fuel_efficiency?Ce?Ce.p(Ne,je):(Ce=Sp(Ne),Ce.c(),Ce.m(a,B)):Ce&&(Ce.d(1),Ce=null),Ne[0].exothermic_power_gen?ze||(ze=Cp(),ze.c(),ze.m(a,O)):ze&&(ze.d(1),ze=null),Ne[0].power_trickle?we?we.p(Ne,je):(we=Ip(Ne),we.c(),we.m(a,A)):we&&(we.d(1),we=null),Ne[0].time?De?De.p(Ne,je):(De=Rp(Ne),De.c(),De.m(a,M)):De&&(De.d(1),De=null),Ne[0].capacity?Pe?Pe.p(Ne,je):(Pe=Np(Ne),Pe.c(),Pe.m(a,J)):Pe&&(Pe.d(1),Pe=null),Ne[0].fake_weapon?Ee?(Ee.p(Ne,je),je[0]&1&&b(Ee,1)):(Ee=Op(Ne),Ee.c(),b(Ee,1),Ee.m(a,j)):Ee&&(x(),k(Ee,1,1,()=>{Ee=null}),ee()),(wt=Ne[0].toggled_pseudo_items)!=null&&wt.length?Se?(Se.p(Ne,je),je[0]&1&&b(Se,1)):(Se=Bp(Ne),Se.c(),b(Se,1),Se.m(a,N)):Se&&(x(),k(Se,1,1,()=>{Se=null}),ee()),(pt=Ne[0].passive_pseudo_items)!=null&&pt.length?Be?(Be.p(Ne,je),je[0]&1&&b(Be,1)):(Be=Mp(Ne),Be.c(),b(Be,1),Be.m(a,X)):Be&&(x(),k(Be,1,1,()=>{Be=null}),ee()),(ut=Ne[0].included_bionics)!=null&&ut.length?Ue?(Ue.p(Ne,je),je[0]&1&&b(Ue,1)):(Ue=Lp(Ne),Ue.c(),b(Ue,1),Ue.m(a,W)):Ue&&(x(),k(Ue,1,1,()=>{Ue=null}),ee()),(!fe||je[0]&1)&&z!==(z=Ne[0].dupes_allowed?"yes":"no")&&P(q,z);let yt=Y;Y=ft(Ne),Y===yt?rt[Y].p(Ne,je):(x(),k(rt[yt],1,1,()=>{rt[yt]=null}),ee(),K=rt[Y],K?K.p(Ne,je):(K=rt[Y]=Ve[Y](Ne),K.c()),b(K,1),K.m(Z,Q)),Ne[0].active_flags?ct?(ct.p(Ne,je),je[0]&1&&b(ct,1)):(ct=qp(Ne),ct.c(),b(ct,1),ct.m(a,_e)):ct&&(x(),k(ct,1,1,()=>{ct=null}),ee()),Ne[0].mutation_conflicts?_t?(_t.p(Ne,je),je[0]&1&&b(_t,1)):(_t=Fp(Ne),_t.c(),b(_t,1),_t.m(a,V)):_t&&(x(),k(_t,1,1,()=>{_t=null}),ee()),Ne[0].canceled_mutations?bt?(bt.p(Ne,je),je[0]&1&&b(bt,1)):(bt=Hp(Ne),bt.c(),b(bt,1),bt.m(a,null)):bt&&(x(),k(bt,1,1,()=>{bt=null}),ee()),(!fe||je[0]&1)&&Ae!==(Ae=Vt(Ne[0].description)+"")&&P(ve,Ae)},i(Ne){fe||(b(Xe),b(Ee),b(Se),b(Be),b(Ue),b(K),b(ct),b(_t),b(bt),fe=!0)},o(Ne){k(Xe),k(Ee),k(Se),k(Be),k(Ue),k(K),k(ct),k(_t),k(bt),fe=!1},d(Ne){Ne&&p(e),Ne&&p(l),Ne&&p(o),ce.d(),Ge&&Ge.d(),Te&&Te.d(),ge&&ge.d(),ye&&ye.d(),Qe&&Qe.d(),oe&&oe.d(),ke&&ke.d(),Xe&&Xe.d(),Me&&Me.d(),Oe&&Oe.d(),Ce&&Ce.d(),ze&&ze.d(),we&&we.d(),De&&De.d(),Pe&&Pe.d(),Ee&&Ee.d(),Se&&Se.d(),Be&&Be.d(),Ue&&Ue.d(),rt[Y].d(),ct&&ct.d(),_t&&_t.d(),bt&&bt.d()}}}function kT(i,e,n){let{item:t}=e;const l=lt("data");return i.$$set=o=>{"item"in o&&n(0,t=o.item)},[t,l]}class vT extends We{constructor(e){super(),He(this,e,kT,$T,Fe,{item:0},null,[-1,-1])}}function yT(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function nr(){return!yT()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Kn(i,e){return i.require(e)}function wT(i){let e;try{e=Kn(Hn,i)}catch{}try{const{cwd:n}=Kn(Hn,"process");e=Kn(Hn,`${n()}/node_modules/${i}`)}catch{}return e}var ET={};function Bt(){return nr()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:ET}function Qr(i,e,n){var t=n||Bt(),l=t.__SENTRY__=t.__SENTRY__||{},o=l[i]||(l[i]=e());return o}var vh=Object.prototype.toString;function yh(i){switch(vh.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Wn(i,Error)}}function Nl(i,e){return vh.call(i)===`[object ${e}]`}function wh(i){return Nl(i,"ErrorEvent")}function Vp(i){return Nl(i,"DOMError")}function TT(i){return Nl(i,"DOMException")}function El(i){return Nl(i,"String")}function Eh(i){return i===null||typeof i!="object"&&typeof i!="function"}function Tl(i){return Nl(i,"Object")}function xr(i){return typeof Event!="undefined"&&Wn(i,Event)}function ST(i){return typeof Element!="undefined"&&Wn(i,Element)}function CT(i){return Nl(i,"RegExp")}function eo(i){return Boolean(i&&i.then&&typeof i.then=="function")}function IT(i){return Tl(i)&&"nativeEvent"in i&&"preventDefault"in i&&"stopPropagation"in i}function Th(i){return typeof i=="number"&&i!==i}function Wn(i,e){try{return i instanceof e}catch{return!1}}function mi(i,e){try{let f=i;var n=5,t=80,l=[];let a=0,s=0;var o=" > ",r=o.length;let u;for(;f&&a++<n&&(u=RT(f,e),!(u==="html"||a>1&&s+l.length*r+u.length>=t));)l.push(u),s+=u.length,f=f.parentNode;return l.reverse().join(o)}catch{return"<unknown>"}}function RT(i,e){var n=i,t=[];let l,o,r,f,a;if(!n||!n.tagName)return"";t.push(n.tagName.toLowerCase());var s=e&&e.length?e.filter(c=>n.getAttribute(c)).map(c=>[c,n.getAttribute(c)]):null;if(s&&s.length)s.forEach(c=>{t.push(`[${c[0]}="${c[1]}"]`)});else if(n.id&&t.push(`#${n.id}`),l=n.className,l&&El(l))for(o=l.split(/\s+/),a=0;a<o.length;a++)t.push(`.${o[a]}`);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)r=u[a],f=n.getAttribute(r),f&&t.push(`[${r}="${f}"]`);return t.join("")}function NT(){var i=Bt();try{return i.document.location.href}catch{return""}}class mn extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var OT=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function BT(i){return i==="http"||i==="https"}function to(i,e=!1){const{host:n,path:t,pass:l,port:o,projectId:r,protocol:f,publicKey:a}=i;return`${f}://${a}${e&&l?`:${l}`:""}@${n}${o?`:${o}`:""}/${t&&`${t}/`}${r}`}function AT(i){var e=OT.exec(i);if(!e)throw new mn(`Invalid Sentry Dsn: ${i}`);const[n,t,l="",o,r="",f]=e.slice(1);let a="",s=f;var u=s.split("/");if(u.length>1&&(a=u.slice(0,-1).join("/"),s=u.pop()),s){var c=s.match(/^\d+/);c&&(s=c[0])}return Sh({host:o,pass:l,path:a,projectId:s,port:r,protocol:n,publicKey:t})}function Sh(i){return{protocol:i.protocol,publicKey:i.publicKey||"",pass:i.pass||"",host:i.host,port:i.port||"",path:i.path||"",projectId:i.projectId}}function MT(i){if(!(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__))return;const{port:e,projectId:n,protocol:t}=i;var l=["protocol","publicKey","host","projectId"];if(l.forEach(o=>{if(!i[o])throw new mn(`Invalid Sentry Dsn: ${o} missing`)}),!n.match(/^\d+$/))throw new mn(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!BT(t))throw new mn(`Invalid Sentry Dsn: Invalid protocol ${t}`);if(e&&isNaN(parseInt(e,10)))throw new mn(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function DT(i){var e=typeof i=="string"?AT(i):Sh(i);return MT(e),e}var LT=Bt(),GT="Sentry Logger ",Ki=["debug","info","warn","error","log","assert","trace"];function Ch(i){var e=Bt();if(!("console"in e))return i();var n=e.console,t={};Ki.forEach(l=>{var o=n[l]&&n[l].__sentry_original__;l in e.console&&o&&(t[l]=n[l],n[l]=o)});try{return i()}finally{Object.keys(t).forEach(l=>{n[l]=t[l]})}}function Xp(){let i=!1;var e={enable:()=>{i=!0},disable:()=>{i=!1}};return typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?Ki.forEach(n=>{e[n]=(...t)=>{i&&Ch(()=>{LT.console[n](`${GT}[${n}]:`,...t)})}}):Ki.forEach(n=>{e[n]=()=>{}}),e}let qe;typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?qe=Qr("logger",Xp):qe=Xp();function ai(i,e=0){return typeof i!="string"||e===0||i.length<=e?i:`${i.substr(0,e)}...`}function Jp(i,e){if(!Array.isArray(i))return"";var n=[];for(let l=0;l<i.length;l++){var t=i[l];try{n.push(String(t))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function pi(i,e){return El(i)?CT(e)?e.test(i):typeof e=="string"?i.indexOf(e)!==-1:!1:!1}function pn(i,e,n){if(e in i){var t=i[e],l=n(t);if(typeof l=="function")try{Ih(l,t)}catch{}i[e]=l}}function no(i,e,n){Object.defineProperty(i,e,{value:n,writable:!0,configurable:!0})}function Ih(i,e){var n=e.prototype||{};i.prototype=e.prototype=n,no(i,"__sentry_original__",e)}function lo(i){return i.__sentry_original__}function UT(i){return Object.keys(i).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`).join("&")}function Rh(i){if(yh(i))return{message:i.message,name:i.name,stack:i.stack,...Zp(i)};if(xr(i)){var e={type:i.type,target:Kp(i.target),currentTarget:Kp(i.currentTarget),...Zp(i)};return typeof CustomEvent!="undefined"&&Wn(i,CustomEvent)&&(e.detail=i.detail),e}else return i}function Kp(i){try{return ST(i)?mi(i):Object.prototype.toString.call(i)}catch{return"<unknown>"}}function Zp(i){if(typeof i=="object"&&i!==null){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e}else return{}}function qT(i,e=40){var n=Object.keys(Rh(i));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return ai(n[0],e);for(let l=n.length;l>0;l--){var t=n.slice(0,l).join(", ");if(!(t.length>e))return l===n.length?t:ai(t,e)}return""}function ol(i){var e=new Map;return Lr(i,e)}function Lr(i,e){if(Tl(i)){var n=e.get(i);if(n!==void 0)return n;var t={};e.set(i,t);for(var l of Object.keys(i))typeof i[l]!="undefined"&&(t[l]=Lr(i[l],e));return t}if(Array.isArray(i)){var n=e.get(i);if(n!==void 0)return n;var t=[];return e.set(i,t),i.forEach(f=>{t.push(Lr(f,e))}),t}return i}var PT=50;function Nh(...i){var e=i.sort((n,t)=>n[0]-t[0]).map(n=>n[1]);return(n,t=0)=>{var l=[];for(var o of n.split(`
`).slice(t))for(var r of e){var f=r(o);if(f){l.push(f);break}}return YT(l)}}function FT(i){return Array.isArray(i)?Nh(...i):i}function YT(i){if(!i.length)return[];let e=i;var n=e[0].function||"",t=e[e.length-1].function||"";return(n.indexOf("captureMessage")!==-1||n.indexOf("captureException")!==-1)&&(e=e.slice(1)),t.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,PT).map(l=>({...l,filename:l.filename||e[0].filename,function:l.function||"?"})).reverse()}var $r="<anonymous>";function el(i){try{return!i||typeof i!="function"?$r:i.name||$r}catch{return $r}}function io(){if(!("fetch"in Bt()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function Gr(i){return i&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(i.toString())}function jT(){if(!io())return!1;var i=Bt();if(Gr(i.fetch))return!0;let e=!1;var n=i.document;if(n&&typeof n.createElement=="function")try{var t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(e=Gr(t.contentWindow.fetch)),n.head.removeChild(t)}catch(l){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",l)}return e}function HT(){var i=Bt(),e=i.chrome,n=e&&e.app&&e.app.runtime,t="history"in i&&!!i.history.pushState&&!!i.history.replaceState;return!n&&t}var jt=Bt(),ui={},Qp={};function WT(i){if(!Qp[i])switch(Qp[i]=!0,i){case"console":zT();break;case"dom":tS();break;case"xhr":KT();break;case"fetch":VT();break;case"history":ZT();break;case"error":nS();break;case"unhandledrejection":lS();break;default:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("unknown instrumentation type:",i);return}}function vn(i,e){ui[i]=ui[i]||[],ui[i].push(e),WT(i)}function Rn(i,e){if(!(!i||!ui[i]))for(var n of ui[i]||[])try{n(e)}catch(t){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error(`Error while triggering instrumentation handler.
Type: ${i}
Name: ${el(n)}
Error:`,t)}}function zT(){"console"in jt&&Ki.forEach(function(i){i in jt.console&&pn(jt.console,i,function(e){return function(...n){Rn("console",{args:n,level:i}),e&&e.apply(jt.console,n)}})})}function VT(){!jT()||pn(jt,"fetch",function(i){return function(...e){var n={args:e,fetchData:{method:XT(e),url:JT(e)},startTimestamp:Date.now()};return Rn("fetch",{...n}),i.apply(jt,e).then(t=>(Rn("fetch",{...n,endTimestamp:Date.now(),response:t}),t),t=>{throw Rn("fetch",{...n,endTimestamp:Date.now(),error:t}),t})}})}function XT(i=[]){return"Request"in jt&&Wn(i[0],Request)&&i[0].method?String(i[0].method).toUpperCase():i[1]&&i[1].method?String(i[1].method).toUpperCase():"GET"}function JT(i=[]){return typeof i[0]=="string"?i[0]:"Request"in jt&&Wn(i[0],Request)?i[0].url:String(i[0])}function KT(){if("XMLHttpRequest"in jt){var i=XMLHttpRequest.prototype;pn(i,"open",function(e){return function(...n){var t=this,l=n[1],o=t.__sentry_xhr__={method:El(n[0])?n[0].toUpperCase():n[0],url:n[1]};El(l)&&o.method==="POST"&&l.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var r=function(){if(t.readyState===4){try{o.status_code=t.status}catch{}Rn("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:t})}};return"onreadystatechange"in t&&typeof t.onreadystatechange=="function"?pn(t,"onreadystatechange",function(f){return function(...a){return r(),f.apply(t,a)}}):t.addEventListener("readystatechange",r),e.apply(t,n)}}),pn(i,"send",function(e){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),Rn("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}}let Si;function ZT(){if(!HT())return;var i=jt.onpopstate;jt.onpopstate=function(...n){var t=jt.location.href,l=Si;if(Si=t,Rn("history",{from:l,to:t}),i)try{return i.apply(this,n)}catch{}};function e(n){return function(...t){var l=t.length>2?t[2]:void 0;if(l){var o=Si,r=String(l);Si=r,Rn("history",{from:o,to:r})}return n.apply(this,t)}}pn(jt.history,"pushState",e),pn(jt.history,"replaceState",e)}var QT=1e3;let Ci,Ii;function xT(i,e){if(!i||i.type!==e.type)return!0;try{if(i.target!==e.target)return!0}catch{}return!1}function eS(i){if(i.type!=="keypress")return!1;try{var e=i.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function xp(i,e=!1){return n=>{if(!(!n||Ii===n)&&!eS(n)){var t=n.type==="keypress"?"input":n.type;Ci===void 0?(i({event:n,name:t,global:e}),Ii=n):xT(Ii,n)&&(i({event:n,name:t,global:e}),Ii=n),clearTimeout(Ci),Ci=jt.setTimeout(()=>{Ci=void 0},QT)}}}function tS(){if("document"in jt){var i=Rn.bind(null,"dom"),e=xp(i,!0);jt.document.addEventListener("click",e,!1),jt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{var t=jt[n]&&jt[n].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(pn(t,"addEventListener",function(l){return function(o,r,f){if(o==="click"||o=="keypress")try{var a=this,s=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},u=s[o]=s[o]||{refCount:0};if(!u.handler){var c=xp(i);u.handler=c,l.call(this,o,c,f)}u.refCount+=1}catch{}return l.call(this,o,r,f)}}),pn(t,"removeEventListener",function(l){return function(o,r,f){if(o==="click"||o=="keypress")try{var a=this,s=a.__sentry_instrumentation_handlers__||{},u=s[o];u&&(u.refCount-=1,u.refCount<=0&&(l.call(this,o,u.handler,f),u.handler=void 0,delete s[o]),Object.keys(s).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return l.call(this,o,r,f)}}))})}}let kr=null;function nS(){kr=jt.onerror,jt.onerror=function(i,e,n,t,l){return Rn("error",{column:t,error:l,line:n,msg:i,url:e}),kr?kr.apply(this,arguments):!1}}let vr=null;function lS(){vr=jt.onunhandledrejection,jt.onunhandledrejection=function(i){return Rn("unhandledrejection",i),vr?vr.apply(this,arguments):!0}}function iS(){var i=typeof WeakSet=="function",e=i?new WeakSet:[];function n(l){if(i)return e.has(l)?!0:(e.add(l),!1);for(let r=0;r<e.length;r++){var o=e[r];if(o===l)return!0}return e.push(l),!1}function t(l){if(i)e.delete(l);else for(let o=0;o<e.length;o++)if(e[o]===l){e.splice(o,1);break}}return[n,t]}function Zn(){var i=Bt(),e=i.crypto||i.msCrypto;if(e!==void 0&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=n[3]&4095|16384,n[4]=n[4]&16383|32768;var t=l=>{let o=l.toString(16);for(;o.length<4;)o=`0${o}`;return o};return t(n[0])+t(n[1])+t(n[2])+t(n[3])+t(n[4])+t(n[5])+t(n[6])+t(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,l=>{var o=Math.random()*16|0,r=l==="x"?o:o&3|8;return r.toString(16)})}function yr(i){if(!i)return{};var e=i.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",t=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+t}}function Oh(i){return i.exception&&i.exception.values?i.exception.values[0]:void 0}function rl(i){const{message:e,event_id:n}=i;if(e)return e;var t=Oh(i);return t?t.type&&t.value?`${t.type}: ${t.value}`:t.type||t.value||n||"<unknown>":n||"<unknown>"}function Ur(i,e,n){var t=i.exception=i.exception||{},l=t.values=t.values||[],o=l[0]=l[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function hi(i,e){var n=Oh(i);if(!!n){var t={type:"generic",handled:!0},l=n.mechanism;if(n.mechanism={...t,...l,...e},e&&"data"in e){var o={...l&&l.data,...e.data};n.mechanism.data=o}}}function e1(i){if(i&&i.__sentry_captured__)return!0;try{no(i,"__sentry_captured__",!0)}catch{}return!1}function nl(i,e=1/0,n=1/0){try{return Ah("",i,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Bh(i,e=3,n=100*1024){var t=nl(i,e);return fS(t)>n?Bh(i,e-1,n):t}function Ah(i,e,n=1/0,t=1/0,l=iS()){const[o,r]=l;var f=e;if(f&&typeof f.toJSON=="function")try{return f.toJSON()}catch{}if(e===null||["number","boolean","string"].includes(typeof e)&&!Th(e))return e;var a=rS(i,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;if(n===0)return a.replace("object ","");if(o(e))return"[Circular ~]";var s=Array.isArray(e)?[]:{};let u=0;var c=Rh(e);for(var m in c)if(!!Object.prototype.hasOwnProperty.call(c,m)){if(u>=t){s[m]="[MaxProperties ~]";break}var $=c[m];s[m]=Ah(m,$,n-1,t,l),u+=1}return r(e),s}function rS(i,e){try{return i==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":i==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":IT(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${el(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(n){return`**non-serializable** (${n})`}}function oS(i){return~-encodeURI(i).split(/%..|./).length}function fS(i){return oS(JSON.stringify(i))}var Yn;(function(i){var e=0;i[i.PENDING=e]="PENDING";var n=1;i[i.RESOLVED=n]="RESOLVED";var t=2;i[i.REJECTED=t]="REJECTED"})(Yn||(Yn={}));function sl(i){return new bn(e=>{e(i)})}function qr(i){return new bn((e,n)=>{n(i)})}class bn{__init(){this._state=Yn.PENDING}__init2(){this._handlers=[]}constructor(e){bn.prototype.__init.call(this),bn.prototype.__init2.call(this),bn.prototype.__init3.call(this),bn.prototype.__init4.call(this),bn.prototype.__init5.call(this),bn.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new bn((t,l)=>{this._handlers.push([!1,o=>{if(!e)t(o);else try{t(e(o))}catch(r){l(r)}},o=>{if(!n)l(o);else try{t(n(o))}catch(r){l(r)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new bn((n,t)=>{let l,o;return this.then(r=>{o=!1,l=r,e&&e()},r=>{o=!0,l=r,e&&e()}).then(()=>{if(o){t(l);return}n(l)})})}__init3(){this._resolve=e=>{this._setResult(Yn.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(Yn.REJECTED,e)}}__init5(){this._setResult=(e,n)=>{if(this._state===Yn.PENDING){if(eo(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==Yn.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Yn.RESOLVED&&n[1](this._value),this._state===Yn.REJECTED&&n[2](this._value),n[0]=!0)})}}}}function sS(i){var e=[];function n(){return i===void 0||e.length<i}function t(r){return e.splice(e.indexOf(r),1)[0]}function l(r){if(!n())return qr(new mn("Not adding Promise due to buffer limit reached."));var f=r();return e.indexOf(f)===-1&&e.push(f),f.then(()=>t(f)).then(null,()=>t(f).then(null,()=>{})),f}function o(r){return new bn((f,a)=>{let s=e.length;if(!s)return f(!0);var u=setTimeout(()=>{r&&r>0&&f(!1)},r);e.forEach(c=>{sl(c).then(()=>{--s||(clearTimeout(u),f(!0))},a)})})}return{$:e,add:l,drain:o}}function Xn(i,e){return i!=null?i:e()}function aS(i){let e,n=i[0],t=1;for(;t<i.length;){var l=i[t],o=i[t+1];if(t+=2,(l==="optionalAccess"||l==="optionalCall")&&n==null)return;l==="access"||l==="optionalAccess"?(e=n,n=o(n)):(l==="call"||l==="optionalCall")&&(n=o((...r)=>n.call(e,...r)),e=void 0)}return n}var uS=["fatal","error","warning","log","info","debug"];function cS(i){return i==="warn"?"warning":uS.includes(i)?i:"log"}var Pr={nowSeconds:()=>Date.now()/1e3};function _S(){const{performance:i}=Bt();if(!(!i||!i.now)){var e=Date.now()-i.now();return{now:()=>i.now(),timeOrigin:e}}}function dS(){try{var i=Kn(Hn,"perf_hooks");return i.performance}catch{return}}var wr=nr()?dS():_S(),t1=wr===void 0?Pr:{nowSeconds:()=>(wr.timeOrigin+wr.now())/1e3},lr=Pr.nowSeconds.bind(Pr),ro=t1.nowSeconds.bind(t1),gi=ro,bi=(()=>{const{performance:i}=Bt();if(!(!i||!i.now)){var e=3600*1e3,n=i.now(),t=Date.now(),l=i.timeOrigin?Math.abs(i.timeOrigin+n-t):e,o=l<e,r=i.timing&&i.timing.navigationStart,f=typeof r=="number",a=f?Math.abs(r+n-t):e,s=a<e;return o||s?l<=a?i.timeOrigin:r:t}})(),mS=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function pS(i){var e=i.match(mS);if(e){let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}function ir(i,e=[]){return[i,e]}function hS(i,e){const[n,t]=i;return[n,[...t,e]]}function n1(i,e){var n=i[1];n.forEach(t=>{var l=t[0].type;e(t,l)})}function Fr(i,e){var n=e||new TextEncoder;return n.encode(i)}function Mh(i,e){const[n,t]=i;let l=JSON.stringify(n);function o(f){typeof l=="string"?l=typeof f=="string"?l+f:[Fr(l,e),f]:l.push(typeof f=="string"?Fr(f,e):f)}for(var r of t){const[f,a]=r;o(`
${JSON.stringify(f)}
`),o(typeof a=="string"||a instanceof Uint8Array?a:JSON.stringify(a))}return typeof l=="string"?l:gS(l)}function gS(i){var e=i.reduce((o,r)=>o+r.length,0),n=new Uint8Array(e);let t=0;for(var l of i)n.set(l,t),t+=l.length;return n}function bS(i,e){var n=typeof i.data=="string"?Fr(i.data,e):i.data;return[ol({type:"attachment",length:n.length,filename:i.filename,content_type:i.contentType,attachment_type:i.attachmentType}),n]}var $S={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function l1(i){return $S[i]}function kS(i,e,n){var t=[{type:"client_report"},{timestamp:n||lr(),discarded_events:i}];return ir(e?{dsn:e}:{},[t])}var vS=60*1e3;function yS(i,e=Date.now()){var n=parseInt(`${i}`,10);if(!isNaN(n))return n*1e3;var t=Date.parse(`${i}`);return isNaN(t)?vS:t-e}function wS(i,e){return i[e]||i.all||0}function ES(i,e,n=Date.now()){return wS(i,e)>n}function TS(i,{statusCode:e,headers:n},t=Date.now()){var l={...i},o=n&&n["x-sentry-rate-limits"],r=n&&n["retry-after"];if(o)for(var f of o.trim().split(",")){const[c,m]=f.split(":",2);var a=parseInt(c,10),s=(isNaN(a)?60:a)*1e3;if(!m)l.all=t+s;else for(var u of m.split(";"))l[u]=t+s}else r?l.all=t+yS(r,t):e===429&&(l.all=t+60*1e3);return l}var dl="baggage",SS="sentry-",CS=/^sentry-/,IS=8192;function Dh(i,e="",n=!0){return[{...i},e,n]}function i1(i,e,n){Lh(i)&&(i[0][e]=n)}function Yr(i){return Object.keys(i[0]).length===0}function RS(i){return i[0]}function NS(i){return i[1]}function Lh(i){return i[2]}function Gh(i){i[2]=!1}function OS(i){return Object.keys(i[0]).reduce((e,n)=>{var t=i[0][n],l=`${SS}${encodeURIComponent(n)}=${encodeURIComponent(t)}`,o=e===""?l:`${e},${l}`;return o.length>IS?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Not adding key: ${n} with val: ${t} to baggage due to exceeding baggage size limits.`),e):o},i[1])}function Uh(i){return i.split(",").reduce(([e,n],t)=>{const[l,o]=t.split("=");if(CS.test(l)){var r=decodeURIComponent(l.split("-")[1]);return[{...e,[r]:decodeURIComponent(o)},n,!0]}else return[e,n===""?t:`${n},${t}`,!0]},[{},"",!0])}function fi(i,e){if(!i&&!e)return"";var n=e&&Uh(e)||void 0,t=n&&NS(n),l=Dh(i&&i[0]||{},t||i&&i[1]||"");return OS(l)}function BS(i,e){var n=Uh(i||"");return(!Yr(n)||e&&Yr(n))&&Gh(n),n}function AS(i){var e=ro(),n={sid:Zn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>DS(n)};return i&&Sl(n,i),n}function Sl(i,e={}){if(e.user&&(!i.ipAddress&&e.user.ip_address&&(i.ipAddress=e.user.ip_address),!i.did&&!e.did&&(i.did=e.user.id||e.user.email||e.user.username)),i.timestamp=e.timestamp||ro(),e.ignoreDuration&&(i.ignoreDuration=e.ignoreDuration),e.sid&&(i.sid=e.sid.length===32?e.sid:Zn()),e.init!==void 0&&(i.init=e.init),!i.did&&e.did&&(i.did=`${e.did}`),typeof e.started=="number"&&(i.started=e.started),i.ignoreDuration)i.duration=void 0;else if(typeof e.duration=="number")i.duration=e.duration;else{var n=i.timestamp-i.started;i.duration=n>=0?n:0}e.release&&(i.release=e.release),e.environment&&(i.environment=e.environment),!i.ipAddress&&e.ipAddress&&(i.ipAddress=e.ipAddress),!i.userAgent&&e.userAgent&&(i.userAgent=e.userAgent),typeof e.errors=="number"&&(i.errors=e.errors),e.status&&(i.status=e.status)}function MS(i,e){let n={};e?n={status:e}:i.status==="ok"&&(n={status:"exited"}),Sl(i,n)}function DS(i){return ol({sid:`${i.sid}`,init:i.init,started:new Date(i.started*1e3).toISOString(),timestamp:new Date(i.timestamp*1e3).toISOString(),status:i.status,errors:i.errors,did:typeof i.did=="number"||typeof i.did=="string"?`${i.did}`:void 0,duration:i.duration,attrs:{release:i.release,environment:i.environment,ip_address:i.ipAddress,user_agent:i.userAgent}})}var r1=100;class tn{constructor(){tn.prototype.__init.call(this),tn.prototype.__init2.call(this),tn.prototype.__init3.call(this),tn.prototype.__init4.call(this),tn.prototype.__init5.call(this),tn.prototype.__init6.call(this),tn.prototype.__init7.call(this),tn.prototype.__init8.call(this),tn.prototype.__init9.call(this),tn.prototype.__init10.call(this)}__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(e){var n=new tn;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments]),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Sl(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts={...this._contexts,[e]:n},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){var n=e(this);return n instanceof tn?n:this}return e instanceof tn?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Tl(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,n){var t=typeof n=="number"?Math.min(n,r1):r1;if(t<=0)return this;var l={timestamp:lr(),...e};return this._breadcrumbs=[...this._breadcrumbs,l].slice(-t),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors([...qh(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,n,t,l=0){return new bn((o,r)=>{var f=e[l];if(n===null||typeof f!="function")o(n);else{var a=f({...n},t);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&f.id&&a===null&&qe.log(`Event processor "${f.id}" dropped event`),eo(a)?a.then(s=>this._notifyEventProcessors(e,s,t,l+1).then(o)).then(null,r):this._notifyEventProcessors(e,a,t,l+1).then(o).then(null,r)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function qh(){return Qr("globalEventProcessors",()=>[])}function oo(i){qh().push(i)}var fo=4,LS=100;class yi{__init(){this._stack=[{}]}constructor(e,n=new tn,t=fo){this._version=t,yi.prototype.__init.call(this),this.getStackTop().scope=n,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){var n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=tn.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){var n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){var t=this._lastEventId=n&&n.event_id?n.event_id:Zn(),l=new Error("Sentry syntheticException");return this._withClient((o,r)=>{o.captureException(e,{originalException:e,syntheticException:l,...n,event_id:t},r)}),t}captureMessage(e,n,t){var l=this._lastEventId=t&&t.event_id?t.event_id:Zn(),o=new Error(e);return this._withClient((r,f)=>{r.captureMessage(e,n,{originalException:e,syntheticException:o,...t,event_id:l},f)}),l}captureEvent(e,n){var t=n&&n.event_id?n.event_id:Zn();return e.type!=="transaction"&&(this._lastEventId=t),this._withClient((l,o)=>{l.captureEvent(e,{...n,event_id:t},o)}),t}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:t,client:l}=this.getStackTop();if(!t||!l)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:r=LS}=l.getOptions&&l.getOptions()||{};if(!(r<=0)){var f=lr(),a={timestamp:f,...e},s=o?Ch(()=>o(a,n)):a;s!==null&&t.addBreadcrumb(s,r)}}setUser(e){var n=this.getScope();n&&n.setUser(e)}setTags(e){var n=this.getScope();n&&n.setTags(e)}setExtras(e){var n=this.getScope();n&&n.setExtras(e)}setTag(e,n){var t=this.getScope();t&&t.setTag(e,n)}setExtra(e,n){var t=this.getScope();t&&t.setExtra(e,n)}setContext(e,n){var t=this.getScope();t&&t.setContext(e,n)}configureScope(e){const{scope:n,client:t}=this.getStackTop();n&&t&&e(n)}run(e){var n=o1(this);try{e(this)}finally{o1(n)}}getIntegration(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){return this._callExtensionMethod("startTransaction",e,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),n=e&&e.scope,t=n&&n.getSession();t&&MS(t),this._sendSessionUpdate(),n&&n.setSession()}startSession(e){const{scope:n,client:t}=this.getStackTop(),{release:l,environment:o}=t&&t.getOptions()||{};var r=Bt();const{userAgent:f}=r.navigator||{};var a=AS({release:l,environment:o,...n&&{user:n.getUser()},...f&&{userAgent:f},...e});if(n){var s=n.getSession&&n.getSession();s&&s.status==="ok"&&Sl(s,{status:"exited"}),this.endSession(),n.setSession(a)}return a}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop();if(!!e){var t=e.getSession();t&&n&&n.captureSession&&n.captureSession(t)}}_withClient(e){const{scope:n,client:t}=this.getStackTop();t&&e(t,n)}_callExtensionMethod(e,...n){var t=Ol(),l=t.__SENTRY__;if(l&&l.extensions&&typeof l.extensions[e]=="function")return l.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Ol(){var i=Bt();return i.__SENTRY__=i.__SENTRY__||{extensions:{},hub:void 0},i}function o1(i){var e=Ol(),n=Jn(e);return so(e,i),n}function Xt(){var i=Ol();return(!Ph(i)||Jn(i).isOlderThan(fo))&&so(i,new yi),nr()?GS(i):Jn(i)}function GS(i){try{var e=Ol().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return Jn(i);if(!Ph(n)||Jn(n).isOlderThan(fo)){var t=Jn(i).getStackTop();so(n,new yi(t.client,tn.clone(t.scope)))}return Jn(n)}catch{return Jn(i)}}function Ph(i){return!!(i&&i.__SENTRY__&&i.__SENTRY__.hub)}function Jn(i){return Qr("hub",()=>new yi,i)}function so(i,e){if(!i)return!1;var n=i.__SENTRY__=i.__SENTRY__||{};return n.hub=e,!0}function Fh(i,e){return Xt().captureException(i,{captureContext:e})}function US(i){Xt().withScope(i)}var qS="7";function PS(i){var e=i.protocol?`${i.protocol}:`:"",n=i.port?`:${i.port}`:"";return`${e}//${i.host}${n}${i.path?`/${i.path}`:""}/api/`}function FS(i){return`${PS(i)}${i.projectId}/envelope/`}function YS(i){return UT({sentry_key:i.publicKey,sentry_version:qS})}function Yh(i,e){return e||`${FS(i)}?${YS(i)}`}function jh(i){if(!i||!i.sdk)return;const{name:e,version:n}=i.sdk;return{name:e,version:n}}function jS(i,e){return e&&(i.sdk=i.sdk||{},i.sdk.name=i.sdk.name||e.name,i.sdk.version=i.sdk.version||e.version,i.sdk.integrations=[...i.sdk.integrations||[],...e.integrations||[]],i.sdk.packages=[...i.sdk.packages||[],...e.packages||[]]),i}function HS(i,e,n,t){var l=jh(n),o={sent_at:new Date().toISOString(),...l&&{sdk:l},...!!t&&{dsn:to(e)}},r="aggregates"in i?[{type:"sessions"},i]:[{type:"session"},i];return ir(o,[r])}function WS(i,e,n,t){var l=jh(n),o=i.type||"event";const{transactionSampling:r}=i.sdkProcessingMetadata||{},{method:f,rate:a}=r||{};jS(i,n&&n.sdk),delete i.sdkProcessingMetadata;var s=zS(i,l,t,e),u=[{type:o,sample_rates:[{id:f,rate:a}]},i];return ir(s,[u])}function zS(i,e,n,t){var l=i.contexts&&i.contexts.baggage;const{environment:o,release:r,transaction:f,userid:a,usersegment:s}=l||{};return{event_id:i.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:to(t)},...i.type==="transaction"&&i.contexts&&i.contexts.trace&&{trace:ol({trace_id:i.contexts.trace.trace_id,public_key:t.publicKey,environment:o,release:r,transaction:f,...(a||s)&&{user:{id:a,segment:s}}})}}}var f1=[];function s1(i){return i.reduce((e,n)=>(e.every(t=>n.name!==t.name)&&e.push(n),e),[])}function VS(i){var e=i.defaultIntegrations&&[...i.defaultIntegrations]||[],n=i.integrations;let t=[...s1(e)];Array.isArray(n)?t=[...t.filter(r=>n.every(f=>f.name!==r.name)),...s1(n)]:typeof n=="function"&&(t=n(t),t=Array.isArray(t)?t:[t]);var l=t.map(r=>r.name),o="Debug";return l.indexOf(o)!==-1&&t.push(...t.splice(l.indexOf(o),1)),t}function XS(i){var e={};return i.forEach(n=>{e[n.name]=n,f1.indexOf(n.name)===-1&&(n.setupOnce(oo,Xt),f1.push(n.name),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`Integration installed: ${n.name}`))}),e}var a1="Not capturing exception because it's already been captured.";class ml{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(ml.prototype.__init.call(this),ml.prototype.__init2.call(this),ml.prototype.__init3.call(this),ml.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=DT(e.dsn);var n=Yh(this._dsn,e.tunnel);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("No DSN provided, client will not do anything.")}captureException(e,n,t){if(e1(e)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(a1);return}let l=n&&n.event_id;return this._process(this.eventFromException(e,n).then(o=>this._captureEvent(o,n,t)).then(o=>{l=o})),l}captureMessage(e,n,t,l){let o=t&&t.event_id;var r=Eh(e)?this.eventFromMessage(String(e),n,t):this.eventFromException(e,t);return this._process(r.then(f=>this._captureEvent(f,t,l)).then(f=>{o=f})),o}captureEvent(e,n,t){if(n&&n.originalException&&e1(n.originalException)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(a1);return}let l=n&&n.event_id;return this._process(this._captureEvent(e,n,t).then(o=>{l=o})),l}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Sl(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var n=this._transport;return n?this._isClientDoneProcessing(e).then(t=>n.flush(e).then(l=>t&&l)):sl(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=XS(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,n={}){if(this._dsn){let l=WS(e,this._dsn,this._options._metadata,this._options.tunnel);for(var t of n.attachments||[])l=hS(l,bS(t,aS([this,"access",o=>o._options,"access",o=>o.transportOptions,"optionalAccess",o=>o.textEncoder])));this._sendEnvelope(l)}}sendSession(e){if(this._dsn){var n=HS(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n){if(this._options.sendClientReports){var t=`${e}:${n}`;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`Adding outcome: "${t}"`),this._outcomes[t]=this._outcomes[t]+1||1}}_updateSessionFromEvent(e,n){let t=!1,l=!1;var o=n.exception&&n.exception.values;if(o){l=!0;for(var r of o){var f=r.mechanism;if(f&&f.handled===!1){t=!0;break}}}var a=e.status==="ok",s=a&&e.errors===0||a&&t;s&&(Sl(e,{...t&&{status:"crashed"},errors:e.errors||Number(l||t)}),this.captureSession(e))}_isClientDoneProcessing(e){return new bn(n=>{let t=0;var l=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(t+=l,e&&t>=e&&(clearInterval(o),n(!1)))},l)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,t){const{normalizeDepth:l=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var r={...e,event_id:e.event_id||n.event_id||Zn(),timestamp:e.timestamp||lr()};this._applyClientOptions(r),this._applyIntegrationsMetadata(r);let f=t;n.captureContext&&(f=tn.clone(f).update(n.captureContext));let a=sl(r);if(f){var s=[...n.attachments||[],...f.getAttachments()];s.length&&(n.attachments=s),a=f.applyToEvent(r,n)}return a.then(u=>typeof l=="number"&&l>0?this._normalizeEvent(u,l,o):u)}_normalizeEvent(e,n,t){if(!e)return null;var l={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:nl(o.data,n,t)}}))},...e.user&&{user:nl(e.user,n,t)},...e.contexts&&{contexts:nl(e.contexts,n,t)},...e.extra&&{extra:nl(e.extra,n,t)}};return e.contexts&&e.contexts.trace&&l.contexts&&(l.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(l.contexts.trace.data=nl(e.contexts.trace.data,n,t))),e.spans&&(l.spans=e.spans.map(o=>(o.data&&(o.data=nl(o.data,n,t)),o))),l}_applyClientOptions(e){var n=this.getOptions();const{environment:t,release:l,dist:o,maxValueLength:r=250}=n;"environment"in e||(e.environment="environment"in n?t:"production"),e.release===void 0&&l!==void 0&&(e.release=l),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=ai(e.message,r));var f=e.exception&&e.exception.values&&e.exception.values[0];f&&f.value&&(f.value=ai(f.value,r));var a=e.request;a&&a.url&&(a.url=ai(a.url,r))}_applyIntegrationsMetadata(e){var n=Object.keys(this._integrations);n.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...n])}_captureEvent(e,n={},t){return this._processEvent(e,n,t).then(l=>l.event_id,l=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(l)})}_processEvent(e,n,t){const{beforeSend:l,sampleRate:o}=this.getOptions();if(!this._isEnabled())return qr(new mn("SDK not enabled, will not capture event."));var r=e.type==="transaction";return!r&&typeof o=="number"&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),qr(new mn(`Discarding event because it's not included in the random sample (sampling rate = ${o})`))):this._prepareEvent(e,n,t).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",e.type||"error"),new mn("An event processor returned null, will not send event.");var a=n.data&&n.data.__sentry__===!0;if(a||r||!l)return f;var s=l(f,n);return JS(s)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",e.type||"error"),new mn("`beforeSend` returned `null`, will not send event.");var a=t&&t.getSession();return!r&&a&&this._updateSessionFromEvent(a,f),this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof mn?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new mn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing+=1,e.then(n=>(this._numProcessing-=1,n),n=>(this._numProcessing-=1,n))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error("Error while sending event:",n)}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[t,l]=n.split(":");return{reason:t,category:l,quantity:e[n]}})}}function JS(i){var e="`beforeSend` method has to return `null` or a valid event.";if(eo(i))return i.then(n=>{if(!(Tl(n)||n===null))throw new mn(e);return n},n=>{throw new mn(`beforeSend rejected with ${n}`)});if(!(Tl(i)||i===null))throw new mn(e);return i}function KS(i,e){e.debug===!0&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?qe.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=Xt(),t=n.getScope();t&&t.update(e.initialScope);var l=new i(e);n.bindClient(l)}var ZS=30;function Hh(i,e,n=sS(i.bufferSize||ZS)){let t={};var l=r=>n.drain(r);function o(r){var f=[];if(n1(r,(c,m)=>{var $=l1(m);ES(t,$)?i.recordDroppedEvent("ratelimit_backoff",$):f.push(c)}),f.length===0)return sl();var a=ir(r[0],f),s=c=>{n1(a,(m,$)=>{i.recordDroppedEvent(c,l1($))})},u=()=>e({body:Mh(a,i.textEncoder)}).then(c=>{c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),t=TS(t,c)},c=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error("Failed while sending event:",c),s("network_error")});return n.add(u).then(c=>c,c=>{if(c instanceof mn)return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error("Skipped sending event due to full buffer"),s("queue_overflow"),sl();throw c})}return{send:o,flush:l}}var u1="7.2.0";let c1;class $i{constructor(){$i.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=$i.id}setupOnce(){c1=Function.prototype.toString,Function.prototype.toString=function(...e){var n=lo(this)||this;return c1.apply(n,e)}}}$i.__initStatic();var QS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class gl{static __initStatic(){this.id="InboundFilters"}__init(){this.name=gl.id}constructor(e={}){this._options=e,gl.prototype.__init.call(this)}setupOnce(e,n){var t=l=>{var o=n();if(o){var r=o.getIntegration(gl);if(r){var f=o.getClient(),a=f?f.getOptions():{},s=xS(r._options,a);return eC(l,s)?null:l}}return l};t.id=this.name,e(t)}}gl.__initStatic();function xS(i={},e={}){return{allowUrls:[...i.allowUrls||[],...e.allowUrls||[]],denyUrls:[...i.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...i.ignoreErrors||[],...e.ignoreErrors||[],...QS],ignoreInternal:i.ignoreInternal!==void 0?i.ignoreInternal:!0}}function eC(i,e){return e.ignoreInternal&&rC(i)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Event dropped due to being internal Sentry Error.
Event: ${rl(i)}`),!0):tC(i,e.ignoreErrors)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${rl(i)}`),!0):nC(i,e.denyUrls)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${rl(i)}.
Url: ${Zi(i)}`),!0):lC(i,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${rl(i)}.
Url: ${Zi(i)}`),!0)}function tC(i,e){return!e||!e.length?!1:iC(i).some(n=>e.some(t=>pi(n,t)))}function nC(i,e){if(!e||!e.length)return!1;var n=Zi(i);return n?e.some(t=>pi(n,t)):!1}function lC(i,e){if(!e||!e.length)return!0;var n=Zi(i);return n?e.some(t=>pi(n,t)):!0}function iC(i){if(i.message)return[i.message];if(i.exception)try{const{type:e="",value:n=""}=i.exception.values&&i.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error(`Cannot extract message for event ${rl(i)}`),[]}return[]}function rC(i){try{return i.exception.values[0].type==="SentryError"}catch{}return!1}function oC(i=[]){for(let n=i.length-1;n>=0;n--){var e=i[n];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function Zi(i){try{let e;try{e=i.exception.values[0].stacktrace.frames}catch{}return e?oC(e):null}catch{return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error(`Cannot extract url for event ${rl(i)}`),null}}function Wh(i,e){var n=ao(i,e),t={type:e&&e.name,value:uC(e)};return n.length&&(t.stacktrace={frames:n}),t.type===void 0&&t.value===""&&(t.value="Unrecoverable error caught"),t}function fC(i,e,n,t){var l={exception:{values:[{type:xr(e)?e.constructor.name:t?"UnhandledRejection":"Error",value:`Non-Error ${t?"promise rejection":"exception"} captured with keys: ${qT(e)}`}]},extra:{__serialized__:Bh(e)}};if(n){var o=ao(i,n);o.length&&(l.exception.values[0].stacktrace={frames:o})}return l}function Er(i,e){return{exception:{values:[Wh(i,e)]}}}function ao(i,e){var n=e.stacktrace||e.stack||"",t=aC(e);try{return i(n,t)}catch{}return[]}var sC=/Minified React error #\d+;/i;function aC(i){if(i){if(typeof i.framesToPop=="number")return i.framesToPop;if(sC.test(i.message))return 1}return 0}function uC(i){var e=i&&i.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function cC(i,e,n,t){var l=n&&n.syntheticException||void 0,o=uo(i,e,l,t);return hi(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),sl(o)}function _C(i,e,n="info",t,l){var o=t&&t.syntheticException||void 0,r=jr(i,e,o,l);return r.level=n,t&&t.event_id&&(r.event_id=t.event_id),sl(r)}function uo(i,e,n,t,l){let o;if(wh(e)&&e.error){var r=e;return Er(i,r.error)}if(Vp(e)||TT(e)){var f=e;if("stack"in e)o=Er(i,e);else{var a=f.name||(Vp(f)?"DOMError":"DOMException"),s=f.message?`${a}: ${f.message}`:a;o=jr(i,s,n,t),Ur(o,s)}return"code"in f&&(o.tags={...o.tags,"DOMException.code":`${f.code}`}),o}if(yh(e))return Er(i,e);if(Tl(e)||xr(e)){var u=e;return o=fC(i,u,n,l),hi(o,{synthetic:!0}),o}return o=jr(i,e,n,t),Ur(o,`${e}`,void 0),hi(o,{synthetic:!0}),o}function jr(i,e,n,t){var l={message:e};if(t&&n){var o=ao(i,n);o.length&&(l.exception={values:[{value:e,stacktrace:{frames:o}}]})}return l}var zh="Breadcrumbs";class ki{static __initStatic(){this.id=zh}__init(){this.name=ki.id}constructor(e){ki.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&vn("console",mC),this.options.dom&&vn("dom",dC(this.options.dom)),this.options.xhr&&vn("xhr",pC),this.options.fetch&&vn("fetch",hC),this.options.history&&vn("history",gC)}}ki.__initStatic();function dC(i){function e(n){let t,l=typeof i=="object"?i.serializeAttribute:void 0;typeof l=="string"&&(l=[l]);try{t=n.event.target?mi(n.event.target,l):mi(n.event,l)}catch{t="<unknown>"}t.length!==0&&Xt().addBreadcrumb({category:`ui.${n.name}`,message:t},{event:n.event,name:n.name,global:n.global})}return e}function mC(i){var e={category:"console",data:{arguments:i.args,logger:"console"},level:cS(i.level),message:Jp(i.args," ")};if(i.level==="assert")if(i.args[0]===!1)e.message=`Assertion failed: ${Jp(i.args.slice(1)," ")||"console.assert"}`,e.data.arguments=i.args.slice(1);else return;Xt().addBreadcrumb(e,{input:i.args,level:i.level})}function pC(i){if(i.endTimestamp){if(i.xhr.__sentry_own_request__)return;const{method:e,url:n,status_code:t,body:l}=i.xhr.__sentry_xhr__||{};Xt().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:t},type:"http"},{xhr:i.xhr,input:l});return}}function hC(i){!i.endTimestamp||i.fetchData.url.match(/sentry_key/)&&i.fetchData.method==="POST"||(i.error?Xt().addBreadcrumb({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args}):Xt().addBreadcrumb({category:"fetch",data:{...i.fetchData,status_code:i.response.status},type:"http"},{input:i.args,response:i.response}))}function gC(i){var e=Bt();let n=i.from,t=i.to;var l=yr(e.location.href);let o=yr(n);var r=yr(t);o.path||(o=l),l.protocol===r.protocol&&l.host===r.host&&(t=r.relative),l.protocol===o.protocol&&l.host===o.host&&(n=o.relative),Xt().addBreadcrumb({category:"navigation",data:{from:n,to:t}})}var In=Bt();let Ri;function Vh(){if(Ri)return Ri;if(Gr(In.fetch))return Ri=In.fetch.bind(In);var i=In.document;let e=In.fetch;if(i&&typeof i.createElement=="function")try{var n=i.createElement("iframe");n.hidden=!0,i.head.appendChild(n);var t=n.contentWindow;t&&t.fetch&&(e=t.fetch),i.head.removeChild(n)}catch(l){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",l)}return Ri=e.bind(In)}function bC(i,e){var n=Object.prototype.toString.call(In&&In.navigator)==="[object Navigator]",t=n&&typeof In.navigator.sendBeacon=="function";if(t){var l=In.navigator.sendBeacon.bind(In.navigator);l(i,e)}else if(io()){var o=Vh();o(i,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,r=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error(r)})}}var Tr=Bt();class $C extends ml{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:u1}],version:u1},super(e),e.sendClientReports&&Tr.document&&Tr.document.addEventListener("visibilitychange",()=>{Tr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return cC(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",t){return _C(this._options.stackParser,e,n,t,this._options.attachStacktrace)}sendEvent(e,n){var t=this.getIntegrationById(zh);t&&t.options&&t.options.sentry&&Xt().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:rl(e)},{event:e}),super.sendEvent(e,n)}_prepareEvent(e,n,t){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,t)}_flushOutcomes(){var e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("Sending outcomes:",e);var n=Yh(this._dsn,this._options.tunnel),t=kS(e,this._options.tunnel&&to(this._dsn));try{bC(n,Mh(t))}catch(l){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.error(l)}}}function kC(i,e=Vh()){function n(t){var l={body:t.body,method:"POST",referrerPolicy:"origin",headers:i.headers,...i.fetchOptions};return e(i.url,l).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}return Hh(i,n)}var vC=4;function yC(i){function e(n){return new bn((t,l)=>{var o=new XMLHttpRequest;o.onerror=l,o.onreadystatechange=()=>{o.readyState===vC&&t({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",i.url);for(var r in i.headers)Object.prototype.hasOwnProperty.call(i.headers,r)&&o.setRequestHeader(r,i.headers[r]);o.send(n.body)})}return Hh(i,e)}var rr="?",wC=30,EC=40,TC=50;function co(i,e,n,t){var l={filename:i,function:e,in_app:!0};return n!==void 0&&(l.lineno=n),t!==void 0&&(l.colno=t),l}var SC=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,CC=/\((\S*)(?::(\d+))(?::(\d+))\)/,IC=i=>{var e=SC.exec(i);if(e){var n=e[2]&&e[2].indexOf("eval")===0;if(n){var t=CC.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[l,o]=Xh(e[1]||rr,e[2]);return co(o,l,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},RC=[wC,IC],NC=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,OC=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,BC=i=>{var e=NC.exec(i);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1;if(n){var t=OC.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let l=e[3],o=e[1]||rr;return[o,l]=Xh(o,l),co(l,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},AC=[TC,BC],MC=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,DC=i=>{var e=MC.exec(i);return e?co(e[2],e[1]||rr,+e[3],e[4]?+e[4]:void 0):void 0},LC=[EC,DC],GC=[RC,AC,LC],UC=Nh(...GC),Xh=(i,e)=>{var n=i.indexOf("safari-extension")!==-1,t=i.indexOf("safari-web-extension")!==-1;return n||t?[i.indexOf("@")!==-1?i.split("@")[0]:rr,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[i,e]};let Hr=0;function Jh(){return Hr>0}function qC(){Hr+=1,setTimeout(()=>{Hr-=1})}function Cl(i,e={},n){if(typeof i!="function")return i;try{var t=i.__sentry_wrapped__;if(t)return t;if(lo(i))return i}catch{return i}var l=function(){var f=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);var a=f.map(s=>Cl(s,e));return i.apply(this,a)}catch(s){throw qC(),US(u=>{u.addEventProcessor(c=>(e.mechanism&&(Ur(c,void 0,void 0),hi(c,e.mechanism)),c.extra={...c.extra,arguments:f},c)),Fh(s)}),s}};try{for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(l[o]=i[o])}catch{}Ih(l,i),no(i,"__sentry_wrapped__",l);try{var r=Object.getOwnPropertyDescriptor(l,"name");r.configurable&&Object.defineProperty(l,"name",{get(){return i.name}})}catch{}return l}class Qn{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Qn.id}__init2(){this._installFunc={onerror:PC,onunhandledrejection:FC}}constructor(e){Qn.prototype.__init.call(this),Qn.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var n in e){var t=this._installFunc[n];t&&e[n]&&(HC(n),t(),this._installFunc[n]=void 0)}}}Qn.__initStatic();function PC(){vn("error",i=>{const[e,n,t]=Qh();if(!e.getIntegration(Qn))return;const{msg:l,url:o,line:r,column:f,error:a}=i;if(!(Jh()||a&&a.__sentry_own_request__)){var s=a===void 0&&El(l)?jC(l,o,r,f):Kh(uo(n,a||l,void 0,t,!1),o,r,f);s.level="error",Zh(e,a,s,"onerror")}})}function FC(){vn("unhandledrejection",i=>{const[e,n,t]=Qh();if(!e.getIntegration(Qn))return;let l=i;try{"reason"in i?l=i.reason:"detail"in i&&"reason"in i.detail&&(l=i.detail.reason)}catch{}if(Jh()||l&&l.__sentry_own_request__)return!0;var o=Eh(l)?YC(l):uo(n,l,void 0,t,!0);o.level="error",Zh(e,l,o,"onunhandledrejection")})}function YC(i){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}}function jC(i,e,n,t){var l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=wh(i)?i.message:i,r="Error";var f=o.match(l);f&&(r=f[1],o=f[2]);var a={exception:{values:[{type:r,value:o}]}};return Kh(a,e,n,t)}function Kh(i,e,n,t){var l=i.exception=i.exception||{},o=l.values=l.values||[],r=o[0]=o[0]||{},f=r.stacktrace=r.stacktrace||{},a=f.frames=f.frames||[],s=isNaN(parseInt(t,10))?void 0:t,u=isNaN(parseInt(n,10))?void 0:n,c=El(e)&&e.length>0?e:NT();return a.length===0&&a.push({colno:s,filename:c,function:"?",in_app:!0,lineno:u}),i}function HC(i){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`Global Handler attached: ${i}`)}function Zh(i,e,n,t){hi(n,{handled:!1,type:t}),i.captureEvent(n,{originalException:e})}function Qh(){var i=Xt(),e=i.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[i,n.stackParser,n.attachStacktrace]}var WC=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class vi{static __initStatic(){this.id="TryCatch"}__init(){this.name=vi.id}constructor(e){vi.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){var e=Bt();this._options.setTimeout&&pn(e,"setTimeout",_1),this._options.setInterval&&pn(e,"setInterval",_1),this._options.requestAnimationFrame&&pn(e,"requestAnimationFrame",zC),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&pn(XMLHttpRequest.prototype,"send",VC);var n=this._options.eventTarget;if(n){var t=Array.isArray(n)?n:WC;t.forEach(XC)}}}vi.__initStatic();function _1(i){return function(...e){var n=e[0];return e[0]=Cl(n,{mechanism:{data:{function:el(i)},handled:!0,type:"instrument"}}),i.apply(this,e)}}function zC(i){return function(e){return i.apply(this,[Cl(e,{mechanism:{data:{function:"requestAnimationFrame",handler:el(i)},handled:!0,type:"instrument"}})])}}function VC(i){return function(...e){var n=this,t=["onload","onerror","onprogress","onreadystatechange"];return t.forEach(l=>{l in n&&typeof n[l]=="function"&&pn(n,l,function(o){var r={mechanism:{data:{function:l,handler:el(o)},handled:!0,type:"instrument"}},f=lo(o);return f&&(r.mechanism.data.handler=el(f)),Cl(o,r)})}),i.apply(this,e)}}function XC(i){var e=Bt(),n=e[i]&&e[i].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(pn(n,"addEventListener",function(t){return function(l,o,r){try{typeof o.handleEvent=="function"&&(o.handleEvent=Cl(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:el(o),target:i},handled:!0,type:"instrument"}}))}catch{}return t.apply(this,[l,Cl(o,{mechanism:{data:{function:"addEventListener",handler:el(o),target:i},handled:!0,type:"instrument"}}),r])}}),pn(n,"removeEventListener",function(t){return function(l,o,r){var f=o;try{var a=f&&f.__sentry_wrapped__;a&&t.call(this,l,a,r)}catch{}return t.call(this,l,f,r)}}))}var JC="cause",KC=5;class bl{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=bl.id}constructor(e={}){bl.prototype.__init.call(this),this._key=e.key||JC,this._limit=e.limit||KC}setupOnce(){var e=Xt().getClient();!e||oo((n,t)=>{var l=Xt().getIntegration(bl);return l?ZC(e.getOptions().stackParser,l._key,l._limit,n,t):n})}}bl.__initStatic();function ZC(i,e,n,t,l){if(!t.exception||!t.exception.values||!l||!Wn(l.originalException,Error))return t;var o=xh(i,n,l.originalException,e);return t.exception.values=[...o,...t.exception.values],t}function xh(i,e,n,t,l=[]){if(!Wn(n[t],Error)||l.length+1>=e)return l;var o=Wh(i,n[t]);return xh(i,e,n[t],t,[o,...l])}var tl=Bt();class $l{constructor(){$l.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=$l.id}setupOnce(){oo(e=>{if(Xt().getIntegration($l)){if(!tl.navigator&&!tl.location&&!tl.document)return e;var n=e.request&&e.request.url||tl.location&&tl.location.href;const{referrer:o}=tl.document||{},{userAgent:r}=tl.navigator||{};var t={...e.request&&e.request.headers,...o&&{Referer:o},...r&&{"User-Agent":r}},l={...n&&{url:n},headers:t};return{...e,request:l}}return e})}}$l.__initStatic();class kl{constructor(){kl.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=kl.id}setupOnce(e,n){var t=l=>{var o=n().getIntegration(kl);if(o){try{if(QC(l,o._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=l}return o._previousEvent=l}return l};t.id=this.name,e(t)}}kl.__initStatic();function QC(i,e){return e?!!(xC(i,e)||e3(i,e)):!1}function xC(i,e){var n=i.message,t=e.message;return!(!n&&!t||n&&!t||!n&&t||n!==t||!tg(i,e)||!eg(i,e))}function e3(i,e){var n=d1(e),t=d1(i);return!(!n||!t||n.type!==t.type||n.value!==t.value||!tg(i,e)||!eg(i,e))}function eg(i,e){let n=m1(i),t=m1(e);if(!n&&!t)return!0;if(n&&!t||!n&&t||(n=n,t=t,t.length!==n.length))return!1;for(let r=0;r<t.length;r++){var l=t[r],o=n[r];if(l.filename!==o.filename||l.lineno!==o.lineno||l.colno!==o.colno||l.function!==o.function)return!1}return!0}function tg(i,e){let n=i.fingerprint,t=e.fingerprint;if(!n&&!t)return!0;if(n&&!t||!n&&t)return!1;n=n,t=t;try{return n.join("")===t.join("")}catch{return!1}}function d1(i){return i.exception&&i.exception.values&&i.exception.values[0]}function m1(i){var e=i.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var t3=[new gl,new $i,new vi,new ki,new Qn,new bl,new kl,new $l];function n3(i={}){if(i.defaultIntegrations===void 0&&(i.defaultIntegrations=t3),i.release===void 0){var e=Bt();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(i.release=e.SENTRY_RELEASE.id)}i.autoSessionTracking===void 0&&(i.autoSessionTracking=!0),i.sendClientReports===void 0&&(i.sendClientReports=!0);var n={...i,stackParser:FT(i.stackParser||UC),integrations:VS(i),transport:i.transport||(io()?kC:yC)};KS($C,n),i.autoSessionTracking&&l3()}function p1(i){i.startSession({ignoreDuration:!0}),i.captureSession()}function l3(){var i=Bt(),e=i.document;if(typeof e=="undefined"){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var n=Xt();!n.captureSession||(p1(n),vn("history",({from:t,to:l})=>{t===void 0||t===l||p1(Xt())}))}function i3(i){let e,n,t,l,o,r,f,a;const s=[s3,f3,o3],u=[];function c(m,$){return m[1]?0:globalThis!=null&&globalThis.process?1:2}return e=c(i),n=u[e]=s[e](i),{c(){n.c(),t=I(),l=g("details"),o=g("summary"),o.textContent="Raw JSON",r=I(),f=g("pre"),f.textContent=`${JSON.stringify(i[3],null,2)}`},m(m,$){u[e].m(m,$),h(m,t,$),h(m,l,$),d(l,o),d(l,r),d(l,f),a=!0},p(m,$){let v=e;e=c(m),e===v?u[e].p(m,$):(x(),k(u[v],1,1,()=>{u[v]=null}),ee(),n=u[e],n?n.p(m,$):(n=u[e]=s[e](m),n.c()),b(n,1),n.m(t.parentNode,t))},i(m){a||(b(n),a=!0)},o(m){k(n),a=!1},d(m){u[e].d(m),m&&p(t),m&&p(l)}}}function r3(i){let e,n=i[0].type+"",t,l,o=i[0].id+"",r;return{c(){e=w("Unknown obj: "),t=w(n),l=w("/"),r=w(o)},m(f,a){h(f,e,a),h(f,t,a),h(f,l,a),h(f,r,a)},p(f,a){a&1&&n!==(n=f[0].type+"")&&P(t,n),a&1&&o!==(o=f[0].id+"")&&P(r,o)},i:te,o:te,d(f){f&&p(e),f&&p(t),f&&p(l),f&&p(r)}}}function o3(i){let e,n;return e=new dE({props:{onError:i[2],$$slots:{default:[u3]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&64&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function f3(i){var r;let e,n,t;var l=(r=i[4][i[3].type])!=null?r:Wi;function o(f){return{props:{item:f[3]}}}return l&&(e=new l(o(i))),{c(){e&&U(e.$$.fragment),n=le()},m(f,a){e&&L(e,f,a),h(f,n,a),t=!0},p(f,a){var s;if(l!==(l=(s=f[4][f[3].type])!=null?s:Wi)){if(e){x();const u=e;k(u.$$.fragment,1,0,()=>{G(u,1)}),ee()}l?(e=new l(o(f)),U(e.$$.fragment),b(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}},i(f){t||(e&&b(e.$$.fragment,f),t=!0)},o(f){e&&k(e.$$.fragment,f),t=!1},d(f){f&&p(n),e&&G(e,f)}}}function s3(i){let e,n,t,l,o,r,f,a,s=i[1].message+"",u,c,m,$=i[1].stack+"",v;return{c(){e=g("section"),n=g("h1"),n.textContent="Error",t=I(),l=g("p"),l.textContent=`There was a problem displaying this page. Not all versions of Cataclysm
        are supported by the Guide currently. Try selecting a different build.`,o=I(),r=g("p"),f=g("details"),a=g("summary"),u=w(s),c=I(),m=g("pre"),v=w($)},m(y,T){h(y,e,T),d(e,n),d(e,t),d(e,l),d(e,o),d(e,r),d(r,f),d(f,a),d(a,u),d(f,c),d(f,m),d(m,v)},p(y,T){T&2&&s!==(s=y[1].message+"")&&P(u,s),T&2&&$!==($=y[1].stack+"")&&P(v,$)},i:te,o:te,d(y){y&&p(e)}}}function a3(i){let e,n;return e=new mT({props:{item:i[3]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p:te,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function u3(i){var s;let e=/obsolet/.test(i[3].__filename),n,t,l,o,r=e&&a3(i);var f=(s=i[4][i[3].type])!=null?s:Wi;function a(u){return{props:{item:u[3]}}}return f&&(t=new f(a(i))),{c(){r&&r.c(),n=I(),t&&U(t.$$.fragment),l=le()},m(u,c){r&&r.m(u,c),h(u,n,c),t&&L(t,u,c),h(u,l,c),o=!0},p(u,c){var m;if(e&&r.p(u,c),f!==(f=(m=u[4][u[3].type])!=null?m:Wi)){if(t){x();const $=t;k($.$$.fragment,1,0,()=>{G($,1)}),ee()}f?(t=new f(a(u)),U(t.$$.fragment),b(t.$$.fragment,1),L(t,l.parentNode,l)):t=null}},i(u){o||(b(r),t&&b(t.$$.fragment,u),o=!0)},o(u){k(r),t&&k(t.$$.fragment,u),o=!1},d(u){r&&r.d(u),u&&p(n),u&&p(l),t&&G(t,u)}}}function c3(i){let e,n,t,l;const o=[r3,i3],r=[];function f(a,s){return a[3]?1:0}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,[s]){n.p(a,s)},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function _3(i,e){return e==="json_flag"?{id:i,type:e}:null}function d3(i,e,n){var s;let{item:t}=e,{data:l}=e;zr("data",l);let o=null;function r(u){n(1,o=u),Fh(u,{contexts:{item:{type:t.type,id:t.id}}})}let f=(s=l.byId(t.type,t.id))!=null?s:_3(t.id,t.type);const a={MONSTER:O0,AMMO:dn,GUN:dn,ARMOR:dn,PET_ARMOR:dn,TOOL:dn,TOOLMOD:dn,TOOL_ARMOR:dn,BOOK:dn,COMESTIBLE:dn,ENGINE:dn,WHEEL:dn,GUNMOD:dn,MAGAZINE:dn,BATTERY:dn,GENERIC:dn,BIONIC_ITEM:dn,material:vy,ammunition_type:Cy,tool_quality:Ly,furniture:gw,skill:ww,proficiency:Iw,json_flag:Yw,fault:i2,vitamin:s2,vehicle_part:w2,martial_art:rE,mutation:vE,mutation_category:kh,mutation_type:IE,vehicle:GE,terrain:XE,weapon_category:lT,construction_group:oT,achievement:ep,conduct:ep,bionic:vT};return i.$$set=u=>{"item"in u&&n(0,t=u.item),"data"in u&&n(5,l=u.data)},[t,o,r,f,a,l]}class m3 extends We{constructor(e){super(),He(this,e,d3,c3,Fe,{item:0,data:5})}}var si=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ng={exports:{}};(function(i){((e,n)=>{i.exports?i.exports=n():e.fuzzysort=n()})(si,e=>{var n=(F,z)=>{if(F=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!F||!z)return N;var q=u(F);A(z)||(z=s(z));var H=q.bitflags;return(H&z._bitflags)!==H?N:m(q,z)},t=(F,z,q)=>{if(F=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:z?z[0]:N}];if(!F)return q&&q.all?c(F,z,q):j;var H=u(F),Z=H.bitflags;H.containsSpace;var Y=q&&q.threshold||J,K=q&&q.limit||M,Q=0,_e=0,V=z.length;if(q&&q.key)for(var ie=q.key,he=0;he<V;++he){var Ae=z[he],ve=O(Ae,ie);if(!!ve&&(A(ve)||(ve=s(ve)),(Z&ve._bitflags)===Z)){var fe=m(H,ve);fe!==N&&(fe.score<Y||(fe={target:fe.target,_targetLower:"",_targetLowerCodes:N,_nextBeginningIndexes:N,_bitflags:0,score:fe.score,_indexes:fe._indexes,obj:Ae},Q<K?(W.add(fe),++Q):(++_e,fe.score>W.peek().score&&W.replaceTop(fe))))}}else if(q&&q.keys)for(var be=q.scoreFn||B,$e=q.keys,ce=$e.length,he=0;he<V;++he){for(var Ae=z[he],Ge=new Array(ce),Te=0;Te<ce;++Te){var ie=$e[Te],ve=O(Ae,ie);if(!ve){Ge[Te]=N;continue}A(ve)||(ve=s(ve)),(Z&ve._bitflags)!==Z?Ge[Te]=N:Ge[Te]=m(H,ve)}Ge.obj=Ae;var ge=be(Ge);ge!==N&&(ge<Y||(Ge.score=ge,Q<K?(W.add(Ge),++Q):(++_e,ge>W.peek().score&&W.replaceTop(Ge))))}else for(var he=0;he<V;++he){var ve=z[he];if(!!ve&&(A(ve)||(ve=s(ve)),(Z&ve._bitflags)===Z)){var fe=m(H,ve);fe!==N&&(fe.score<Y||(Q<K?(W.add(fe),++Q):(++_e,fe.score>W.peek().score&&W.replaceTop(fe))))}}if(Q===0)return j;for(var ye=new Array(Q),he=Q-1;he>=0;--he)ye[he]=W.poll();return ye.total=Q+_e,ye},l=(F,z,q)=>{if(typeof z=="function")return o(F,z);if(F===N)return N;z===void 0&&(z="<b>"),q===void 0&&(q="</b>");var H="",Z=0,Y=!1,K=F.target,Q=K.length,_e=F._indexes;_e=_e.slice(0,_e.len).sort((he,Ae)=>he-Ae);for(var V=0;V<Q;++V){var ie=K[V];if(_e[Z]===V){if(++Z,Y||(Y=!0,H+=z),Z===_e.length){H+=ie+q+K.substr(V+1);break}}else Y&&(Y=!1,H+=q);H+=ie}return H},o=(V,z)=>{if(V===N)return N;var q=V.target,H=q.length,Z=V._indexes;Z=Z.slice(0,Z.len).sort((Ae,ve)=>Ae-ve);for(var Y="",K=0,Q=0,_e=!1,V=[],ie=0;ie<H;++ie){var he=q[ie];if(Z[Q]===ie){if(++Q,_e||(_e=!0,V.push(Y),Y=""),Q===Z.length){Y+=he,V.push(z(Y,K++)),Y="",V.push(q.substr(ie+1));break}}else _e&&(_e=!1,V.push(z(Y,K++)),Y="");Y+=he}return V},r=F=>F._indexes.slice(0,F._indexes.len).sort((z,q)=>z-q),f=F=>{typeof F!="string"&&(F="");var z=v(F);return{target:F,_targetLower:z._lower,_targetLowerCodes:z.lowerCodes,_nextBeginningIndexes:N,_bitflags:z.bitflags,score:N,_indexes:[0],obj:N}},a=F=>{typeof F!="string"&&(F=""),F=F.trim();var z=v(F),q=[];if(z.containsSpace){var H=F.split(/\s+/);H=[...new Set(H)];for(var Z=0;Z<H.length;Z++)if(H[Z]!==""){var Y=v(H[Z]);q.push({lowerCodes:Y.lowerCodes,_lower:H[Z].toLowerCase(),containsSpace:!1})}}return{lowerCodes:z.lowerCodes,bitflags:z.bitflags,containsSpace:z.containsSpace,_lower:z._lower,spaceSearches:q}},s=F=>{if(F.length>999)return f(F);var z=S.get(F);return z!==void 0||(z=f(F),S.set(F,z)),z},u=F=>{if(F.length>999)return a(F);var z=C.get(F);return z!==void 0||(z=a(F),C.set(F,z)),z},c=(F,z,q)=>{var H=[];H.total=z.length;var Z=q&&q.limit||M;if(q&&q.key)for(var Y=0;Y<z.length;Y++){var K=z[Y],Q=O(K,q.key);if(!!Q){A(Q)||(Q=s(Q)),Q.score=J,Q._indexes.len=0;var _e=Q;if(_e={target:_e.target,_targetLower:"",_targetLowerCodes:N,_nextBeginningIndexes:N,_bitflags:0,score:Q.score,_indexes:N,obj:K},H.push(_e),H.length>=Z)return H}}else if(q&&q.keys)for(var Y=0;Y<z.length;Y++){for(var K=z[Y],V=new Array(q.keys.length),ie=q.keys.length-1;ie>=0;--ie){var Q=O(K,q.keys[ie]);if(!Q){V[ie]=N;continue}A(Q)||(Q=s(Q)),Q.score=J,Q._indexes.len=0,V[ie]=Q}if(V.obj=K,V.score=J,H.push(V),H.length>=Z)return H}else for(var Y=0;Y<z.length;Y++){var Q=z[Y];if(!!Q&&(A(Q)||(Q=s(Q)),Q.score=J,Q._indexes.len=0,H.push(Q),H.length>=Z))return H}return H},m=(F,z)=>{if(F.containsSpace)return $(F,z);for(var q=F._lower,H=F.lowerCodes,Z=H[0],Y=z._targetLowerCodes,K=H.length,Q=Y.length,he=0,_e=0,V=0;;){var ie=Z===Y[_e];if(ie){if(R[V++]=_e,++he,he===K)break;Z=H[he]}if(++_e,_e>=Q)return N}var he=0,Ae=!1,ve=0,fe=z._nextBeginningIndexes;fe===N&&(fe=z._nextBeginningIndexes=T(z.target)),_e=R[0]===0?0:fe[R[0]-1];var be=0;if(_e!==Q)for(;;)if(_e>=Q){if(he<=0||(++be,be>200))break;--he;var $e=D[--ve];_e=fe[$e]}else{var ie=H[he]===Y[_e];if(ie){if(D[ve++]=_e,++he,he===K){Ae=!0;break}++_e}else _e=fe[_e]}var ce=z._targetLower.indexOf(q,R[0]),Ge=~ce;if(Ge&&!Ae)for(var Te=0;Te<V;++Te)R[Te]=ce+Te;var ge=!1;Ge&&(ge=z._nextBeginningIndexes[ce-1]===ce);{if(Ae)var ye=D,Qe=ve;else var ye=R,Qe=V;for(var oe=0,ke=0,Te=1;Te<K;++Te)ye[Te]-ye[Te-1]!==1&&(oe-=ye[Te],++ke);var Xe=ye[K-1]-ye[0]-(K-1);if(oe-=(12+Xe)*ke,ye[0]!==0&&(oe-=ye[0]*10),!Ae)oe*=1e3;else{for(var Me=1,Te=fe[0];Te<Q;Te=fe[Te])++Me;Me>24&&(oe*=(Me-24)*10)}Ge&&(oe/=10),ge&&(oe/=10),oe-=Q-K,z.score=oe;for(var Te=0;Te<Qe;++Te)z._indexes[Te]=ye[Te];return z._indexes.len=Qe,z}},$=(F,z)=>{for(var q=new Set,H=0,Z=N,Y=0,K=F.spaceSearches,V=0;V<K.length;++V){var Q=K[V];if(Z=m(Q,z),Z===N)return N;H+=Z.score,Z._indexes[0]<Y&&(H-=Y-Z._indexes[0]),Y=Z._indexes[0];for(var _e=0;_e<Z._indexes.len;++_e)q.add(Z._indexes[_e])}Z.score=H;var V=0;for(let ie of q)Z._indexes[V++]=ie;return Z._indexes.len=V,Z},v=F=>{for(var z=F.length,q=F.toLowerCase(),H=[],Z=0,Y=!1,K=0;K<z;++K){var Q=H[K]=q.charCodeAt(K);if(Q===32){Y=!0;continue}var _e=Q>=97&&Q<=122?Q-97:Q>=48&&Q<=57?26:Q<=127?30:31;Z|=1<<_e}return{lowerCodes:H,bitflags:Z,containsSpace:Y,_lower:q}},y=F=>{for(var z=F.length,q=[],H=0,Z=!1,Y=!1,K=0;K<z;++K){var Q=F.charCodeAt(K),_e=Q>=65&&Q<=90,V=_e||Q>=97&&Q<=122||Q>=48&&Q<=57,ie=_e&&!Z||!Y||!V;Z=_e,Y=V,ie&&(q[H++]=K)}return q},T=F=>{for(var z=F.length,q=y(F),H=[],Z=q[0],Y=0,K=0;K<z;++K)Z>K?H[K]=Z:(Z=q[++Y],H[K]=Z===void 0?z:Z);return H},E=()=>{S.clear(),C.clear(),R=[],D=[]},S=new Map,C=new Map,R=[],D=[],B=F=>{for(var z=J,q=F.length,H=0;H<q;++H){var Z=F[H];if(Z!==N){var Y=Z.score;Y>z&&(z=Y)}}return z===J?N:z},O=(F,z)=>{var q=F[z];if(q!==void 0)return q;var H=z;Array.isArray(z)||(H=z.split("."));for(var Z=H.length,Y=-1;F&&++Y<Z;)F=F[H[Y]];return F},A=F=>typeof F=="object",M=1/0,J=-M,j=[];j.total=0;var N=null,X=F=>{var z=[],q=0,H={},Z=Y=>{for(var K=0,Q=z[K],_e=1;_e<q;){var V=_e+1;K=_e,V<q&&z[V].score<z[_e].score&&(K=V),z[K-1>>1]=z[K],_e=1+(K<<1)}for(var ie=K-1>>1;K>0&&Q.score<z[ie].score;ie=(K=ie)-1>>1)z[K]=z[ie];z[K]=Q};return H.add=Y=>{var K=q;z[q++]=Y;for(var Q=K-1>>1;K>0&&Y.score<z[Q].score;Q=(K=Q)-1>>1)z[K]=z[Q];z[K]=Y},H.poll=Y=>{if(q!==0){var K=z[0];return z[0]=z[--q],Z(),K}},H.peek=Y=>{if(q!==0)return z[0]},H.replaceTop=Y=>{z[0]=Y,Z()},H},W=X();return{single:n,go:t,highlight:l,prepare:f,indexes:r,cleanup:E}})})(ng);function h1(i,e,n){const t=i.slice();return t[6]=e[n],t}function g1(i,e,n){const t=i.slice();return t[9]=e[n],t}function p3(i){let e;return{c(){e=g("pre"),e.textContent="..."},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function h3(i){let e,n,t=[...i[1].keys()],l=[];for(let f=0;f<t.length;f+=1)l[f]=v1(h1(i,t,f));const o=f=>k(l[f],1,1,()=>{l[f]=null});let r=null;return t.length||(r=b1()),{c(){for(let f=0;f<l.length;f+=1)l[f].c();e=le(),r&&r.c()},m(f,a){for(let s=0;s<l.length;s+=1)l[s].m(f,a);h(f,e,a),r&&r.m(f,a),n=!0},p(f,a){if(a&3){t=[...f[1].keys()];let s;for(s=0;s<t.length;s+=1){const u=h1(f,t,s);l[s]?(l[s].p(u,a),b(l[s],1)):(l[s]=v1(u),l[s].c(),b(l[s],1),l[s].m(e.parentNode,e))}for(x(),s=t.length;s<l.length;s+=1)o(s);ee(),!t.length&&r?r.p(f,a):t.length?r&&(r.d(1),r=null):(r=b1(),r.c(),r.m(e.parentNode,e))}},i(f){if(!n){for(let a=0;a<t.length;a+=1)b(l[a]);n=!0}},o(f){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)k(l[a]);n=!1},d(f){ue(l,f),f&&p(e),r&&r.d(f)}}}function b1(i){let e;return{c(){e=g("em"),e.textContent="No results."},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function $1(i){let e;return{c(){e=g("em"),e.textContent="(obsolete)",Ze(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function k1(i){let e,n,t,l,o=pe(i[0]._flatten(i[9]))+"",r,f,a,s=/obsolet/.test(i[9].__filename),u;n=new xe({props:{item:i[0]._flatten(i[9])}});let c=s&&$1();return{c(){e=g("li"),U(n.$$.fragment),t=I(),l=g("a"),r=w(o),a=I(),c&&c.c(),ae(l,"href",f="#/"+yn(i[9].type)+"/"+i[9].id)},m(m,$){h(m,e,$),L(n,e,null),d(e,t),d(e,l),d(l,r),d(e,a),c&&c.m(e,null),u=!0},p(m,$){const v={};$&3&&(v.item=m[0]._flatten(m[9])),n.$set(v),(!u||$&3)&&o!==(o=pe(m[0]._flatten(m[9]))+"")&&P(r,o),(!u||$&2&&f!==(f="#/"+yn(m[9].type)+"/"+m[9].id))&&ae(l,"href",f),$&2&&(s=/obsolet/.test(m[9].__filename)),s?c||(c=$1(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(m){u||(b(n.$$.fragment,m),u=!0)},o(m){k(n.$$.fragment,m),u=!1},d(m){m&&p(e),G(n),c&&c.d()}}}function v1(i){let e,n=i[6].replace(/_/g," ")+"",t,l,o,r,f,a=i[1].get(i[6]),s=[];for(let c=0;c<a.length;c+=1)s[c]=k1(g1(i,a,c));const u=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){e=g("h1"),t=w(n),l=I(),o=g("ul");for(let c=0;c<s.length;c+=1)s[c].c();r=I()},m(c,m){h(c,e,m),d(e,t),h(c,l,m),h(c,o,m);for(let $=0;$<s.length;$+=1)s[$].m(o,null);d(o,r),f=!0},p(c,m){if((!f||m&2)&&n!==(n=c[6].replace(/_/g," ")+"")&&P(t,n),m&3){a=c[1].get(c[6]);let $;for($=0;$<a.length;$+=1){const v=g1(c,a,$);s[$]?(s[$].p(v,m),b(s[$],1)):(s[$]=k1(v),s[$].c(),b(s[$],1),s[$].m(o,r))}for(x(),$=a.length;$<s.length;$+=1)u($);ee()}},i(c){if(!f){for(let m=0;m<a.length;m+=1)b(s[m]);f=!0}},o(c){s=s.filter(Boolean);for(let m=0;m<s.length;m+=1)k(s[m]);f=!1},d(c){c&&p(e),c&&p(l),c&&p(o),ue(s,c)}}}function g3(i){let e,n,t,l;const o=[h3,p3],r=[];function f(a,s){return a[1]?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,[s]){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}const b3=/[\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f\u3131-\ud79d]/;function $3(i,e,n){let t;const l=new Set(["item","monster","furniture","vehicle_part","tool_quality","martial_art","mutation","vehicle","terrain"]);let{data:o}=e,r,{search:f}=e;function a(s){const u=ng.exports.go(s,r,{limit:100,keys:["id","name","variant_id"],threshold:-1e4}),c=new Map;for(const{obj:m}of u){const $=m.type;if(!l.has($)||(c.has($)||c.set($,[]),c.get($).some(y=>y.id===m.id)))continue;const v=o.byId($,m.id);c.get($).push(v)}return c}return i.$$set=s=>{"data"in s&&n(0,o=s.data),"search"in s&&n(2,f=s.search)},i.$$.update=()=>{var s;i.$$.dirty&1&&zr("data",o),i.$$.dirty&1&&(r=[...(s=o==null?void 0:o.all())!=null?s:[]].filter(u=>"id"in u&&typeof u.id=="string"&&l.has(yn(u.type))).filter(u=>u.type==="mutation"?!/Fake\d$/.test(u.id):!0).flatMap(u=>[{id:u.id,name:pe(u),type:yn(u.type)}].concat("variants"in u?u.variants.map(c=>({id:u.id,variant_id:c.id,name:Vt(c.name),type:yn(u.type)})):[]))),i.$$.dirty&5&&n(1,t=f&&(f.length>=2||b3.test(f))&&o&&a(f)),i.$$.dirty&4&&history.replaceState({search:f},"")},[o,t,f]}class k3 extends We{constructor(e){super(),He(this,e,$3,g3,Fe,{data:0,search:2})}}function y1(i,e,n){const t=i.slice();return t[9]=e[n],t}function v3(i){let e,n,t,l,o,r=i[9]&&w3(i);return t=new at({props:{items:i[3].get(i[9]).filter(i[5]),limit:i[4].length===1?1/0:10,$$slots:{default:[E3,({item:f})=>({12:f}),({item:f})=>f?4096:0]},$$scope:{ctx:i}}}),{c(){e=g("section"),r&&r.c(),n=I(),U(t.$$.fragment),l=I()},m(f,a){h(f,e,a),r&&r.m(e,null),d(e,n),L(t,e,null),d(e,l),o=!0},p(f,a){f[9]&&r.p(f,a);const s={};a&12289&&(s.$$scope={dirty:a,ctx:f}),t.$set(s)},i(f){o||(b(t.$$.fragment,f),o=!0)},o(f){k(t.$$.fragment,f),o=!1},d(f){f&&p(e),r&&r.d(),G(t)}}}function y3(i){let e,n;return e=new kh({props:{item:i[1].byId("mutation_category",i[9]),inCatalog:!0}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&2&&(o.item=t[1].byId("mutation_category",t[9])),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function w3(i){let e,n=i[9]+"",t;return{c(){e=g("h1"),t=w(n)},m(l,o){h(l,e,o),d(e,t)},p:te,d(l){l&&p(e)}}}function w1(i){let e,n;return e=new xe({props:{item:i[12]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l&4096&&(o.item=t[12]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function E3(i){let e,n,t,l=(i[0]==="item"||i[0]==="terrain"||i[0]==="furniture"||i[0]==="monster")&&w1(i);return n=new re({props:{type:i[2],id:i[12].id}}),{c(){l&&l.c(),e=I(),U(n.$$.fragment)},m(o,r){l&&l.m(o,r),h(o,e,r),L(n,o,r),t=!0},p(o,r){o[0]==="item"||o[0]==="terrain"||o[0]==="furniture"||o[0]==="monster"?l?(l.p(o,r),r&1&&b(l,1)):(l=w1(o),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(x(),k(l,1,1,()=>{l=null}),ee());const f={};r&4096&&(f.id=o[12].id),n.$set(f)},i(o){t||(b(l),b(n.$$.fragment,o),t=!0)},o(o){k(l),k(n.$$.fragment,o),t=!1},d(o){l&&l.d(o),o&&p(e),G(n,o)}}}function E1(i){let e,n,t,l,o;const r=[y3,v3],f=[];function a(s,u){return u&3&&(e=null),e==null&&(e=!!(s[0]==="mutation"&&s[9]&&s[1].byId("mutation_category",s[9]))),e?0:1}return n=a(i,-1),t=f[n]=r[n](i),{c(){t.c(),l=le()},m(s,u){f[n].m(s,u),h(s,l,u),o=!0},p(s,u){let c=n;n=a(s,u),n===c?f[n].p(s,u):(x(),k(f[c],1,1,()=>{f[c]=null}),ee(),t=f[n],t?t.p(s,u):(t=f[n]=r[n](s),t.c()),b(t,1),t.m(l.parentNode,l))},i(s){o||(b(t),o=!0)},o(s){k(t),o=!1},d(s){f[n].d(s),s&&p(l)}}}function T3(i){let e,n,t,l,o,r=i[4],f=[];for(let s=0;s<r.length;s+=1)f[s]=E1(y1(i,r,s));const a=s=>k(f[s],1,1,()=>{f[s]=null});return{c(){e=g("h1"),n=w(i[0]),t=I();for(let s=0;s<f.length;s+=1)f[s].c();l=le()},m(s,u){h(s,e,u),d(e,n),h(s,t,u);for(let c=0;c<f.length;c+=1)f[c].m(s,u);h(s,l,u),o=!0},p(s,[u]){if((!o||u&1)&&P(n,s[0]),u&4159){r=s[4];let c;for(c=0;c<r.length;c+=1){const m=y1(s,r,c);f[c]?(f[c].p(m,u),b(f[c],1)):(f[c]=E1(m),f[c].c(),b(f[c],1),f[c].m(l.parentNode,l))}for(x(),c=r.length;c<f.length;c+=1)a(c);ee()}},i(s){if(!o){for(let u=0;u<r.length;u+=1)b(f[u]);o=!0}},o(s){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)k(f[u]);o=!1},d(s){s&&p(e),s&&p(t),ue(f,s),s&&p(l)}}}function S3(i){return i.category?i.category.toLowerCase():i.type==="GUN"?"guns":i.type==="MAGAZINE"?"magazines":i.type==="AMMO"?"ammo":i.type==="TOOL"?"tools":i.type==="ARMOR"?"clothing":i.type==="COMESTIBLE"?i.comestible_type==="MED"?"drugs":"food":i.type==="BOOK"?"books":i.type==="GUNMOD"?"mods":i.type==="BIONIC_ITEM"?"bionics":i.bashing||i.cutting?"weapons":"other"}function C3(i,e,n){var m,$;let{type:t}=e,{data:l}=e,o=t;zr("data",l);const r=l.byType(t).filter(v=>v.id);r.sort((v,y)=>pe(v).localeCompare(pe(y)));function f(v){return pe(l.byId("ITEM_CATEGORY",v))}const a=(m={monster:v=>{var y;return[(y=v.default_faction)!=null?y:""]},item:v=>[`${v.type} (${f(S3(v))})`],vehicle_part:v=>{var y;return(y=v.categories)!=null?y:[""]},mutation:v=>{var y;return(y=v.category)!=null?y:[""]}}[t])!=null?m:()=>[""],s=Zr(r,a),u=[...s.keys()].sort(),c=($={mutation:v=>!/Fake\d$/.test(v.id)}[t])!=null?$:()=>!0;return i.$$set=v=>{"type"in v&&n(0,t=v.type),"data"in v&&n(1,l=v.data)},[t,l,o,s,u,c]}class I3 extends We{constructor(e){super(),He(this,e,C3,T3,Fe,{type:0,data:1})}}var R3="./assets/dont_panic.c90f0625.png",lg="Expected a function",T1=0/0,N3="[object Symbol]",O3=/^\s+|\s+$/g,B3=/^[-+]0x[0-9a-f]+$/i,A3=/^0b[01]+$/i,M3=/^0o[0-7]+$/i,D3=parseInt,L3=typeof si=="object"&&si&&si.Object===Object&&si,G3=typeof self=="object"&&self&&self.Object===Object&&self,U3=L3||G3||Function("return this")(),q3=Object.prototype,P3=q3.toString,F3=Math.max,Y3=Math.min,Sr=function(){return U3.Date.now()};function j3(i,e,n){var t,l,o,r,f,a,s=0,u=!1,c=!1,m=!0;if(typeof i!="function")throw new TypeError(lg);e=S1(e)||0,Qi(n)&&(u=!!n.leading,c="maxWait"in n,o=c?F3(S1(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m);function $(B){var O=t,A=l;return t=l=void 0,s=B,r=i.apply(A,O),r}function v(B){return s=B,f=setTimeout(E,e),u?$(B):r}function y(B){var O=B-a,A=B-s,M=e-O;return c?Y3(M,o-A):M}function T(B){var O=B-a,A=B-s;return a===void 0||O>=e||O<0||c&&A>=o}function E(){var B=Sr();if(T(B))return S(B);f=setTimeout(E,y(B))}function S(B){return f=void 0,m&&t?$(B):(t=l=void 0,r)}function C(){f!==void 0&&clearTimeout(f),s=0,t=a=l=f=void 0}function R(){return f===void 0?r:S(Sr())}function D(){var B=Sr(),O=T(B);if(t=arguments,l=this,a=B,O){if(f===void 0)return v(a);if(c)return f=setTimeout(E,e),$(a)}return f===void 0&&(f=setTimeout(E,e)),r}return D.cancel=C,D.flush=R,D}function H3(i,e,n){var t=!0,l=!0;if(typeof i!="function")throw new TypeError(lg);return Qi(n)&&(t="leading"in n?!!n.leading:t,l="trailing"in n?!!n.trailing:l),j3(i,e,{leading:t,maxWait:e,trailing:l})}function Qi(i){var e=typeof i;return!!i&&(e=="object"||e=="function")}function W3(i){return!!i&&typeof i=="object"}function z3(i){return typeof i=="symbol"||W3(i)&&P3.call(i)==N3}function S1(i){if(typeof i=="number")return i;if(z3(i))return T1;if(Qi(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=Qi(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=i.replace(O3,"");var n=A3.test(i);return n||M3.test(i)?D3(i.slice(2),n?2:8):B3.test(i)?T1:+i}var V3=H3;const{window:C1}=Eg;function I1(i,e,n){const t=i.slice();return t[25]=e[n],t}function X3(i){const e=i.slice(),n=e[6]==="latest"?e[3][0].build_number:e[6];return e[24]=n,e}function R1(i,e,n){const t=i.slice();return t[28]=e[n].name,t[11]=e[n].url,t}function N1(i,e,n){const t=i.slice();return t[31]=e[n],t[33]=n,t}function O1(i,e,n){const t=i.slice();return t[31]=e[n],t}function J3(i){let e,n,t,l,o,r,f,a,s,u,c,m,$,v,y,T=i[5]&&B1(i);return{c(){e=g("img"),t=I(),l=g("p"),l.innerHTML=`The <strong>Hitchhiker&#39;s Guide to the Cataclysm</strong> is a guide to the
      zombie survival roguelike game
      <a href="https://cataclysmdda.org/">Cataclysm: Dark Days Ahead</a>. You
      can search for things in the game, like items (e.g. a
      <a href="#/item/flashlight">flashlight</a>), furniture (e.g. a
      <a href="#/furniture/f_table">table</a>), or monsters (e.g. a
      <a href="#/monster/mon_zombie">zombie</a>), and find useful information
      about them. The data in the Guide comes directly from the JSON files in
      the game itself.`,o=I(),r=g("p"),f=w(`The Guide stores all its data locally and is offline-capable, so you can
      take it with you whereever you go. There's nothing to do to make the Guide
      work offline, just visit the page and it will work even without internet
      access, as long as you've visited it once before.
      `),T&&T.c(),a=I(),s=g("p"),s.textContent=`More popular than the Celestial Home Care Omnibus, better selling than
      Fifty-three More Things to do in Zero Gravity, and more controversial than
      Oolon Colluphid's trilogy of philosophical blockbusters Where God Went
      Wrong, Some More of God's Greatest Mistakes and Who is this God Person
      Anyway?`,u=I(),c=g("p"),c.innerHTML=`The guide is developed on <a href="https://github.com/nornagon/cdda-guide">GitHub</a>
      by <a href="https://www.nornagon.net">nornagon</a>. If you notice any
      problems, please
      <a href="https://github.com/nornagon/cdda-guide/issues">file an issue</a>!`,m=I(),$=g("h2"),$.textContent="Catalogs",v=I(),y=g("ul"),y.innerHTML=`<li><a href="#/item">Items</a></li> 
      <li><a href="#/monster">Monsters</a></li> 
      <li><a href="#/furniture">Furniture</a></li> 
      <li><a href="#/terrain">Terrain</a></li> 
      <li><a href="#/vehicle_part">Vehicle Parts</a></li> 
      <li><a href="#/tool_quality">Qualities</a></li> 
      <li><a href="#/mutation">Mutations</a></li> 
      <li><a href="#/martial_art">Martial Arts</a></li> 
      <li><a href="#/json_flag">Flags</a></li> 
      <li><a href="#/achievement">Achievements</a> /
        <a href="#/conduct">Conducts</a></li>`,pg(e.src,n=R3)||ae(e,"src",n),ae(e,"height","200"),ae(e,"width","343"),Ze(e,"float","right"),ae(e,"alt","The words 'Don't Panic' in big friendly letters"),Ze(s,"font-style","italic"),Ze(s,"color","var(--cata-color-gray)")},m(E,S){h(E,e,S),h(E,t,S),h(E,l,S),h(E,o,S),h(E,r,S),d(r,f),T&&T.m(r,null),h(E,a,S),h(E,s,S),h(E,u,S),h(E,c,S),h(E,m,S),h(E,$,S),h(E,v,S),h(E,y,S)},p(E,S){E[5]?T?T.p(E,S):(T=B1(E),T.c(),T.m(r,null)):T&&(T.d(1),T=null)},i:te,o:te,d(E){E&&p(e),E&&p(t),E&&p(l),E&&p(o),E&&p(r),T&&T.d(),E&&p(a),E&&p(s),E&&p(u),E&&p(c),E&&p(m),E&&p($),E&&p(v),E&&p(y)}}}function K3(i){let e=i[4],n,t,l=A1(i);return{c(){l.c(),n=le()},m(o,r){l.m(o,r),h(o,n,r),t=!0},p(o,r){r[0]&16&&Fe(e,e=o[4])?(x(),k(l,1,1,te),ee(),l=A1(o),l.c(),b(l,1),l.m(n.parentNode,n)):l.p(o,r)},i(o){t||(b(l),t=!0)},o(o){k(l),t=!1},d(o){o&&p(n),l.d(o)}}}function Z3(i){let e,n,t,l;const o=[x3,Q3],r=[];function f(a,s){return a[1]?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function B1(i){let e,n,t,l,o;return{c(){e=w("It's also "),n=g("button"),n.textContent="installable",t=w(", so you can pop it out of your browser and use it like a regular app."),ae(n,"class","disclosure")},m(r,f){h(r,e,f),h(r,n,f),h(r,t,f),l||(o=Cn(n,"click",i[15]),l=!0)},p:te,d(r){r&&p(e),r&&p(n),r&&p(t),l=!1,o()}}}function A1(i){let e,n;return e=new k3({props:{data:i[1],search:i[4]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&2&&(o.data=t[1]),l[0]&16&&(o.search=t[4]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Q3(i){let e;return{c(){e=g("em"),e.textContent="Loading...",Ze(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:te,i:te,o:te,d(n){n&&p(e)}}}function x3(i){let e=i[2],n,t,l=M1(i);return{c(){l.c(),n=le()},m(o,r){l.m(o,r),h(o,n,r),t=!0},p(o,r){r[0]&4&&Fe(e,e=o[2])?(x(),k(l,1,1,te),ee(),l=M1(o),l.c(),b(l,1),l.m(n.parentNode,n)):l.p(o,r)},i(o){t||(b(l),t=!0)},o(o){k(l),t=!1},d(o){o&&p(n),l.d(o)}}}function eI(i){let e,n;return e=new I3({props:{type:i[2].type,data:i[1]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&4&&(o.type=t[2].type),l[0]&2&&(o.data=t[1]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function tI(i){let e,n;return e=new m3({props:{item:i[2],data:i[1]}}),{c(){U(e.$$.fragment)},m(t,l){L(e,t,l),n=!0},p(t,l){const o={};l[0]&4&&(o.item=t[2]),l[0]&2&&(o.data=t[1]),e.$set(o)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function M1(i){let e,n,t,l;const o=[tI,eI],r=[];function f(a,s){return a[2].id?0:1}return e=f(i),n=r[e]=o[e](i),{c(){n.c(),t=le()},m(a,s){r[e].m(a,s),h(a,t,s),l=!0},p(a,s){let u=e;e=f(a),e===u?r[e].p(a,s):(x(),k(r[u],1,1,()=>{r[u]=null}),ee(),n=r[e],n?n.p(a,s):(n=r[e]=o[e](a),n.c()),b(n,1),n.m(t.parentNode,t))},i(a){l||(b(n),l=!0)},o(a){k(n),l=!1},d(a){r[e].d(a),a&&p(t)}}}function nI(i){let e;return{c(){e=g("em"),e.textContent="(loading...)",Ze(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:te,d(n){n&&p(e)}}}function lI(i){let e;function n(o,r){if(o[3])return rI;if(o[1])return iI}let t=n(i),l=t&&t(i);return{c(){l&&l.c(),e=le()},m(o,r){l&&l.m(o,r),h(o,e,r)},p(o,r){t===(t=n(o))&&l?l.p(o,r):(l&&l.d(1),l=t&&t(o),l&&(l.c(),l.m(e.parentNode,e)))},d(o){l&&l.d(o),o&&p(e)}}}function iI(i){let e,n,t=i[1].build_number+"",l,o;return{c(){e=g("select"),n=g("option"),l=w(t),n.__value=o=i[1].build_number,n.value=n.__value,e.disabled=!0},m(r,f){h(r,e,f),d(e,n),d(n,l)},p(r,f){f[0]&2&&t!==(t=r[1].build_number+"")&&P(l,t),f[0]&10&&o!==(o=r[1].build_number)&&(n.__value=o,n.value=n.__value)},d(r){r&&p(e)}}}function rI(i){let e,n,t,l,o,r,f=i[3].filter(F1),a=[];for(let c=0;c<f.length;c+=1)a[c]=D1(O1(i,f,c));let s=i[3].filter(Y1),u=[];for(let c=0;c<s.length;c+=1)u[c]=L1(N1(i,s,c));return{c(){e=g("select"),n=g("optgroup");for(let c=0;c<a.length;c+=1)a[c].c();t=g("optgroup");for(let c=0;c<u.length;c+=1)u[c].c();ae(n,"label","Stable"),ae(t,"label","Experimental")},m(c,m){var $,v;h(c,e,m),d(e,n);for(let y=0;y<a.length;y+=1)a[y].m(n,null);d(e,t);for(let y=0;y<u.length;y+=1)u[y].m(t,null);_i(e,(v=($=i[1])==null?void 0:$.build_number)!=null?v:i[6]==="latest"?i[3][0].build_number:i[6]),o||(r=Cn(e,"change",i[16]),o=!0)},p(c,m){var $,v,y,T;if(m[0]&8){f=c[3].filter(F1);let E;for(E=0;E<f.length;E+=1){const S=O1(c,f,E);a[E]?a[E].p(S,m):(a[E]=D1(S),a[E].c(),a[E].m(n,null))}for(;E<a.length;E+=1)a[E].d(1);a.length=f.length}if(m[0]&8){s=c[3].filter(Y1);let E;for(E=0;E<s.length;E+=1){const S=N1(c,s,E);u[E]?u[E].p(S,m):(u[E]=L1(S),u[E].c(),u[E].m(t,null))}for(;E<u.length;E+=1)u[E].d(1);u.length=s.length}m[0]&10&&l!==(l=(v=($=c[1])==null?void 0:$.build_number)!=null?v:c[6]==="latest"?c[3][0].build_number:c[6])&&_i(e,(T=(y=c[1])==null?void 0:y.build_number)!=null?T:c[6]==="latest"?c[3][0].build_number:c[6])},d(c){c&&p(e),ue(a,c),ue(u,c),o=!1,r()}}}function D1(i){let e,n=i[31].build_number+"",t,l;return{c(){e=g("option"),t=w(n),e.__value=l=i[31].build_number,e.value=e.__value},m(o,r){h(o,e,r),d(e,t)},p(o,r){r[0]&8&&n!==(n=o[31].build_number+"")&&P(t,n),r[0]&8&&l!==(l=o[31].build_number)&&(e.__value=l,e.value=e.__value)},d(o){o&&p(e)}}}function oI(i){let e;return{c(){e=w("\xA0(latest)")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function L1(i){let e,n=i[31].build_number+"",t,l,o=i[33]===0&&oI();return{c(){e=g("option"),t=w(n),o&&o.c(),e.__value=l=i[31].build_number,e.value=e.__value},m(r,f){h(r,e,f),d(e,t),o&&o.m(e,null)},p(r,f){f[0]&8&&n!==(n=r[31].build_number+"")&&P(t,n),f[0]&8&&l!==(l=r[31].build_number)&&(e.__value=l,e.value=e.__value)},d(r){r&&p(e),o&&o.d()}}}function G1(i){let e,n=i[28]+"",t,l;return{c(){e=g("option"),t=w(n),e.__value=l=i[11],e.value=e.__value},m(o,r){h(o,e,r),d(e,t)},p:te,d(o){o&&p(e)}}}function fI(i){let e,n;return{c(){e=g("select"),n=g("option"),n.textContent="Loading...",n.__value="Loading...",n.value=n.__value,e.disabled=!0},m(t,l){h(t,e,l),d(e,n)},p:te,d(t){t&&p(e)}}}function U1(i){var a,s;let e,n,t,l;function o(...u){return i[18](i[24],...u)}let r=[...(s=(a=i[3].find(o))==null?void 0:a.langs)!=null?s:[]].sort(j1),f=[];for(let u=0;u<r.length;u+=1)f[u]=q1(I1(i,r,u));return{c(){e=g("select"),n=g("option"),n.textContent="English";for(let u=0;u<f.length;u+=1)f[u].c();n.__value="en",n.value=n.__value},m(u,c){var m;h(u,e,c),d(e,n);for(let $=0;$<f.length;$+=1)f[$].m(e,null);_i(e,(m=i[7])!=null?m:"en"),t||(l=Cn(e,"change",i[19]),t=!0)},p(u,c){var m,$;if(i=u,c[0]&72){r=[...($=(m=i[3].find(o))==null?void 0:m.langs)!=null?$:[]].sort(j1);let v;for(v=0;v<r.length;v+=1){const y=I1(i,r,v);f[v]?f[v].p(y,c):(f[v]=q1(y),f[v].c(),f[v].m(e,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=r.length}},d(u){u&&p(e),ue(f,u),t=!1,l()}}}function q1(i){let e,n=P1(i[25])+"",t,l;return{c(){e=g("option"),t=w(n),e.__value=l=i[25],e.value=e.__value},m(o,r){h(o,e,r),d(e,t)},p(o,r){r[0]&8&&n!==(n=P1(o[25])+"")&&P(t,n),r[0]&8&&l!==(l=o[25])&&(e.__value=l,e.value=e.__value)},d(o){o&&p(e)}}}function sI(i){let e,n,t,l,o,r,f,a,s,u,c,m,$,v,y,T,E,S,C,R,D,B;const O=[Z3,K3,J3],A=[];function M(Z,Y){return Z[2]?0:Z[4]?1:2}c=M(i),m=A[c]=O[c](i);function J(Z,Y){return Z[1]||Z[3]?lI:nI}let j=J(i),N=j(i),X=i[8],W=[];for(let Z=0;Z<X.length;Z+=1)W[Z]=G1(R1(i,X,Z));function F(Z,Y){return Z[3]?U1:fI}function z(Z,Y){return Y===U1?X3(Z):Z}let q=F(i),H=q(z(i,q));return{c(){e=g("header"),n=g("nav"),t=g("div"),l=g("strong"),o=g("a"),o.textContent="Hitchhiker's Guide to the Cataclysm",r=I(),f=g("div"),a=g("input"),s=I(),u=g("main"),m.c(),$=I(),v=g("p"),y=w(`Build:
    `),N.c(),T=w(`
    Tiles:
    
    `),E=g("select"),S=g("option"),S.textContent="None (ASCII)";for(let Z=0;Z<W.length;Z+=1)W[Z].c();C=w(`
    Language:
    `),H.c(),ae(o,"href","#"),ae(t,"class","title svelte-16u5hjb"),Ze(a,"margin","0"),Ze(a,"width","100%"),ae(a,"placeholder","Search..."),ae(a,"id","search"),ae(f,"class","search svelte-16u5hjb"),ae(n,"class","svelte-16u5hjb"),ae(e,"class","svelte-16u5hjb"),S.__value="",S.value=S.__value,ae(u,"class","svelte-16u5hjb")},m(Z,Y){h(Z,e,Y),d(e,n),d(n,t),d(t,l),d(l,o),d(n,r),d(n,f),d(f,a),Go(a,i[4]),h(Z,s,Y),h(Z,u,Y),A[c].m(u,null),d(u,$),d(u,v),d(v,y),N.m(v,null),d(v,T),d(v,E),d(E,S);for(let K=0;K<W.length;K+=1)W[K].m(E,null);_i(E,i[0]),d(v,C),H.m(v,null),R=!0,D||(B=[Cn(C1,"hashchange",i[9]),Cn(C1,"keydown",uI),Cn(o,"click",i[13]),Cn(a,"input",i[14]),Cn(a,"input",i[10]),Cn(E,"change",i[17])],D=!0)},p(Z,Y){Y[0]&16&&a.value!==Z[4]&&Go(a,Z[4]);let K=c;if(c=M(Z),c===K?A[c].p(Z,Y):(x(),k(A[K],1,1,()=>{A[K]=null}),ee(),m=A[c],m?m.p(Z,Y):(m=A[c]=O[c](Z),m.c()),b(m,1),m.m(u,$)),j===(j=J(Z))&&N?N.p(Z,Y):(N.d(1),N=j(Z),N&&(N.c(),N.m(v,T))),Y[0]&256){X=Z[8];let Q;for(Q=0;Q<X.length;Q+=1){const _e=R1(Z,X,Q);W[Q]?W[Q].p(_e,Y):(W[Q]=G1(_e),W[Q].c(),W[Q].m(E,null))}for(;Q<W.length;Q+=1)W[Q].d(1);W.length=X.length}(!R||Y[0]&257)&&_i(E,Z[0]),q===(q=F(Z))&&H?H.p(z(Z,q),Y):(H.d(1),H=q(z(Z,q)),H&&(H.c(),H.m(v,null)))},i(Z){R||(b(m),R=!0)},o(Z){k(m),R=!1},d(Z){Z&&p(e),Z&&p(s),Z&&p(u),A[c].d(),N.d(),ue(W,Z),H.d(),D=!1,Rl(B)}}}function aI(i){const e=new URL(location.href);return e.hash=i,e.toString()}function uI(i){i.key==="/"&&document.activeElement.id!=="search"&&(document.getElementById("search").focus(),i.preventDefault())}function P1(i){var e;return(e={en:"English",ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",cs:"\u010Cesk\xFD Jazyk",da:"Dansk",de:"Deutsch",el:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",es_AR:"Espa\xF1ol (Argentina)",es_ES:"Espa\xF1ol (Espa\xF1a)",fr:"Fran\xE7ais",hu:"Magyar",id:"Bahasa Indonesia",is:"\xCDslenska",it_IT:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",nb:"Norsk",nl:"Nederlands",pl:"Polski",pt_BR:"Portugu\xEAs (Brasil)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sr:"\u0421\u0440\u043F\u0441\u043A\u0438",tr:"T\xFCrk\xE7e",uk_UA:"\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0438\u0439",zh_CN:"\u4E2D\u6587 (\u5929\u671D)",zh_TW:"\u4E2D\u6587 (\u53F0\u7063)"}[i])!=null?e:Intl!=null&&Intl.DisplayNames?new Intl.DisplayNames([i.replace(/_/,"-")],{type:"language"}).of(i.replace(/_/,"-")):i}const F1=i=>!i.prerelease,Y1=i=>i.prerelease,j1=(i,e)=>i.localeCompare(e);function cI(i,e,n){var j;let t,l;x1(i,Wo,N=>n(1,l=N));let o=null,r=null;fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/builds.json").then(N=>N.json()).then(N=>{n(3,r=N)}).catch(N=>{console.error(N)});const f=new URL(location.href),a=(j=f.searchParams.get("v"))!=null?j:"latest",s=f.searchParams.get("lang");Wo.setVersion(a,s);const u=[{name:"AltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Altica"},{name:"BrownLikeBears",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/BrownLikeBears"},{name:"Chibi_Ultica",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/ChibiUltica"},{name:"Cuteclysm(Alpha)",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Cuteclysm"},{name:"Hollow Moon",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/HollowMoon"},{name:"MSXotto+",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/MshockXotto%2B"},{name:"NeoDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/NeoDaysTileset"},{name:"RetroDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/RetroDaysTileset"},{name:"UltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/UltimateCataclysm"}],c=N=>N==="null"||!N?"":N;function m(){try{return c(localStorage.getItem("cdda-guide:tileset"))}catch{return null}}function $(N){try{localStorage.setItem("cdda-guide:tileset",c(N))}catch{}}let v=m();function y(){const N=window.location.hash.slice(1);let X;if(X=/^\/([^\/]+)(?:\/(.+))?$/.exec(N)){const[,W,F]=X;W==="search"?(n(2,o=null),n(4,T=decodeURIComponent(F!=null?F:""))):n(2,o={type:W,id:F?decodeURIComponent(F):""}),window.scrollTo(0,0)}else n(2,o=null),n(4,T="")}bg(y);let T="";const E=V3(history.replaceState.bind(history),100),S=()=>{o?history.pushState(null,"",location.href.replace(/#.*$/,"")):E(null,"",aI("/search/"+T)),n(2,o=null)};let C;window.addEventListener("beforeinstallprompt",N=>{n(5,C=N)});const R=()=>n(4,T="");function D(){T=this.value,n(4,T)}const B=N=>{N.preventDefault(),C.prompt()},O=N=>{const X=new URL(location.href),W=N.currentTarget.value;W===r[0].build_number?X.searchParams.delete("v"):X.searchParams.set("v",W),location.href=X.toString()},A=N=>{n(0,v=N.currentTarget.value)},M=(N,X)=>X.build_number===N,J=N=>{const X=new URL(location.href),W=N.currentTarget.value;W==="en"?X.searchParams.delete("lang"):X.searchParams.set("lang",W),location.href=X.toString()};return i.$$.update=()=>{i.$$.dirty[0]&1&&$(v),i.$$.dirty[0]&3&&n(12,t=l?v.replace("{version}",l.build_number):null),i.$$.dirty[0]&4096&&sh.setURL(t)},[v,l,o,r,T,C,a,s,u,y,S,f,t,R,D,B,O,A,M,J]}class _I extends We{constructor(e){super(),He(this,e,cI,sI,Fe,{},null,[-1,-1])}}function _o(i){var e=Xt().getClient(),n=i||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function or(i){var e=i||Xt(),n=e.getScope();return n&&n.getTransaction()}function ln(i){return i/1e3}function dI(){vn("error",H1),vn("unhandledrejection",H1)}function H1(){var i=or();if(i){var e="internal_error";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] Transaction: ${e} -> Global error occured`),i.setStatus(e)}}class fr{__init(){this.spans=[]}constructor(e=1e3){fr.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Vn{__init2(){this.traceId=Zn()}__init3(){this.spanId=Zn().substring(16)}__init4(){this.startTimestamp=gi()}__init5(){this.tags={}}__init6(){this.data={}}constructor(e){if(Vn.prototype.__init2.call(this),Vn.prototype.__init3.call(this),Vn.prototype.__init4.call(this),Vn.prototype.__init5.call(this),Vn.prototype.__init6.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){var n=new Vn({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));var n=mI(e);return n!=="unknown_error"&&this.setStatus(n),this}isSuccess(){return this.status==="ok"}finish(e){this.endTimestamp=typeof e=="number"?e:gi()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return ol({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=Xn(e.data,()=>({})),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=Xn(e.spanId,()=>this.spanId),this.startTimestamp=Xn(e.startTimestamp,()=>this.startTimestamp),this.status=e.status,this.tags=Xn(e.tags,()=>({})),this.traceId=Xn(e.traceId,()=>this.traceId),this}getTraceContext(){return ol({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}getBaggage(){var e=this.transaction&&this.transaction.metadata.baggage,n=!e||Lh(e)&&Yr(e)?this._getBaggageWithSentryValues(e):e;return n}toJSON(){return ol({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}_getBaggageWithSentryValues(e=Dh({})){var n=this.transaction&&this.transaction._hub||Xt(),t=n.getClient();const{environment:l,release:o}=t&&t.getOptions()||{};return l&&i1(e,"environment",l),o&&i1(e,"release",o),Gh(e),e}}function mI(i){if(i<400&&i>=100)return"ok";if(i>=400&&i<500)switch(i){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(i>=500&&i<600)switch(i){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class sr extends Vn{__init(){this._measurements={}}constructor(e,n){super(e),sr.prototype.__init.call(this),this._hub=n||Xt(),this.name=e.name||"",this.metadata=e.metadata||{},this._trimEnd=e.trimEnd,this.transaction=this}setName(e){this.name=e}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new fr(e)),this.spanRecorder.add(this)}setMeasurement(e,n,t=""){this._measurements[e]={value:n,unit:t}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),this.sampled!==!0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var n=this._hub.getClient();n&&n.recordDroppedEvent("sample_rate","transaction");return}var t=this.spanRecorder?this.spanRecorder.spans.filter(r=>r!==this&&r.endTimestamp):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce((r,f)=>r.endTimestamp&&f.endTimestamp?r.endTimestamp>f.endTimestamp?r:f:r).endTimestamp);var l={contexts:{trace:this.getTraceContext(),baggage:RS(this.getBaggage())},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata},o=Object.keys(this._measurements).length>0;return o&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(l)}}toContext(){var e=super.toContext();return ol({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=Xn(e.name,()=>""),this._trimEnd=e.trimEnd,this}}var ig=1e3,rg=3e4,pI=5e3;class hI extends fr{constructor(e,n,t,l){super(l),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=t}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp=typeof n=="number"?n:gi(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class pl extends sr{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,n,t=ig,l=rg,o=!1){super(e,n),this._idleHub=n,this._idleTimeout=t,this._finalTimeout=l,this._onScope=o,pl.prototype.__init.call(this),pl.prototype.__init2.call(this),pl.prototype.__init3.call(this),pl.prototype.__init4.call(this),o&&(W1(n),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(r=>r.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(e=gi()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(var n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var l=t.startTimestamp<e;return l||(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),l}),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] No active IdleTransaction");return this._onScope&&W1(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){var n=l=>{this._finished||this._pushActivity(l)},t=l=>{this._finished||this._popActivity(l)};this.spanRecorder=new hI(n,t,this.spanId,e),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(e)},this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var n=gi()+this._idleTimeout/1e3;this._startIdleTimeout(n)}}_beat(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},pI)}}function W1(i){var e=i.getScope();if(e){var n=e.getTransaction();n&&e.setSpan(void 0)}}function gI(){var i=this.getScope();if(i){var e=i.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function og(i,e,n){if(!_o(e))return i.sampled=!1,i;if(i.sampled!==void 0)return i.setMetadata({transactionSampling:{method:"explicitly_set"}}),i;let t;return typeof e.tracesSampler=="function"?(t=e.tracesSampler(n),i.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(t)}})):n.parentSampled!==void 0?(t=n.parentSampled,i.setMetadata({transactionSampling:{method:"inheritance"}})):(t=e.tracesSampleRate,i.setMetadata({transactionSampling:{method:"client_rate",rate:Number(t)}})),bI(t)?t?(i.sampled=Math.random()<t,i.sampled?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] starting ${i.op} transaction - ${i.name}`),i):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(t)})`),i)):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),i.sampled=!1,i):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("[Tracing] Discarding transaction because of invalid sample rate."),i.sampled=!1,i)}function bI(i){return Th(i)||!(typeof i=="number"||typeof i=="boolean")?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),!1):i<0||i>1?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${i}.`),!1):!0}function $I(i,e){var n=this.getClient(),t=n&&n.getOptions()||{};let l=new sr(i,this);return l=og(l,t,{parentSampled:i.parentSampled,transactionContext:i,...e}),l.sampled&&l.initSpanRecorder(t._experiments&&t._experiments.maxSpans),l}function kI(i,e,n,t,l,o){var r=i.getClient(),f=r&&r.getOptions()||{};let a=new pl(e,i,n,t,l);return a=og(a,f,{parentSampled:e.parentSampled,transactionContext:e,...o}),a.sampled&&a.initSpanRecorder(f._experiments&&f._experiments.maxSpans),a}function vI(){var i=Ol();!i.__SENTRY__||(i.__SENTRY__.extensions=i.__SENTRY__.extensions||{},i.__SENTRY__.extensions.startTransaction||(i.__SENTRY__.extensions.startTransaction=$I),i.__SENTRY__.extensions.traceHeaders||(i.__SENTRY__.extensions.traceHeaders=gI))}function yI(){var i=Ol();if(!!i.__SENTRY__){var e={mongodb(){var t=Kn(Hn,"./integrations/node/mongo");return new t.Mongo},mongoose(){var t=Kn(Hn,"./integrations/node/mongo");return new t.Mongo({mongoose:!0})},mysql(){var t=Kn(Hn,"./integrations/node/mysql");return new t.Mysql},pg(){var t=Kn(Hn,"./integrations/node/postgres");return new t.Postgres}},n=Object.keys(e).filter(t=>!!wT(t)).map(t=>{try{return e[t]()}catch{return}}).filter(t=>t);n.length>0&&(i.__SENTRY__.integrations=[...i.__SENTRY__.integrations||[],...n])}}function wI(){vI(),nr()&&yI(),dI()}var Ni=Bt();function EI(){Ni&&Ni.document?Ni.document.addEventListener("visibilitychange",()=>{var i=or();if(Ni.document.hidden&&i){var e="cancelled";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${i.op}`),i.status||i.setStatus(e),i.setTag("visibilitychange","document.hidden"),i.finish()}}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var mo=(i,e,n)=>{let t;return l=>{e.value>=0&&(l||n)&&(e.delta=e.value-(t||0),(e.delta||t===void 0)&&(t=e.value,i(e)))}},TI=()=>`v2-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,po=(i,e)=>({name:i,value:Xn(e,()=>-1),delta:0,entries:[],id:TI()}),ho=(i,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(i)){if(i==="first-input"&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(t=>t.getEntries().map(e));return n.observe({type:i,buffered:!0}),n}}catch{}},ar=(i,e)=>{var n=t=>{(t.type==="pagehide"||Bt().document.visibilityState==="hidden")&&(i(t),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},SI=(i,e)=>{var n=po("CLS",0);let t,l=0,o=[];var r=a=>{if(a&&!a.hadRecentInput){var s=o[0],u=o[o.length-1];l&&o.length!==0&&a.startTime-u.startTime<1e3&&a.startTime-s.startTime<5e3?(l+=a.value,o.push(a)):(l=a.value,o=[a]),l>n.value&&(n.value=l,n.entries=o,t&&t())}},f=ho("layout-shift",r);f&&(t=mo(i,n,e),ar(()=>{f.takeRecords().map(r),t(!0)}))};let Li=-1;var CI=()=>Bt().document.visibilityState==="hidden"?0:1/0,II=()=>{ar(({timeStamp:i})=>{Li=i},!0)},go=()=>(Li<0&&(Li=CI(),II()),{get firstHiddenTime(){return Li}}),RI=(i,e)=>{var n=go(),t=po("FID");let l;var o=f=>{l&&f.startTime<n.firstHiddenTime&&(t.value=f.processingStart-f.startTime,t.entries.push(f),l(!0))},r=ho("first-input",o);r&&(l=mo(i,t,e),ar(()=>{r.takeRecords().map(o),r.disconnect()},!0))},z1={},NI=(i,e)=>{var n=go(),t=po("LCP");let l;var o=a=>{var s=a.startTime;s<n.firstHiddenTime&&(t.value=s,t.entries.push(a)),l&&l()},r=ho("largest-contentful-paint",o);if(r){l=mo(i,t,e);var f=()=>{z1[t.id]||(r.takeRecords().map(o),r.disconnect(),z1[t.id]=!0,l(!0))};["keydown","click"].forEach(a=>{addEventListener(a,f,{once:!0,capture:!0})}),ar(f,!0)}};function Oi(i){return typeof i=="number"&&isFinite(i)}function Il(i,{startTimestamp:e,...n}){return e&&i.startTimestamp>e&&(i.startTimestamp=e),i.startChild({startTimestamp:e,...n})}var fl=Bt();function fg(){return fl&&fl.addEventListener&&fl.performance}let V1=0,Mt={},On,ci;function OI(i=!1){var e=fg();e&&bi&&(e.mark&&fl.performance.mark("sentry-tracing-init"),BI(),AI(i),MI())}function BI(){SI(i=>{var e=i.entries.pop();!e||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding CLS"),Mt.cls={value:i.value,unit:"millisecond"},ci=e)})}function AI(i){NI(e=>{var n=e.entries.pop();if(!!n){var t=ln(bi),l=ln(n.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding LCP"),Mt.lcp={value:e.value,unit:"millisecond"},Mt["mark.lcp"]={value:t+l,unit:"second"},On=n}},i)}function MI(){RI(i=>{var e=i.entries.pop();if(!!e){var n=ln(bi),t=ln(e.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding FID"),Mt.fid={value:i.value,unit:"millisecond"},Mt["mark.fid"]={value:n+t,unit:"second"}}})}function DI(i){var e=fg();if(!e||!fl.performance.getEntries||!bi)return;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Tracing] Adding & adjusting spans using Performance API");var n=ln(bi),t=e.getEntries();let l,o;t.slice(V1).forEach(r=>{var f=ln(r.startTime),a=ln(r.duration);if(!(i.op==="navigation"&&n+f<i.startTimestamp))switch(r.entryType){case"navigation":{GI(i,r,n),l=n+ln(r.responseStart),o=n+ln(r.requestStart);break}case"mark":case"paint":case"measure":{var s=LI(i,r,f,a,n),u=go(),c=r.startTime<u.firstHiddenTime;r.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding FP"),Mt.fp={value:r.startTime,unit:"millisecond"},Mt["mark.fp"]={value:s,unit:"second"}),r.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding FCP"),Mt.fcp={value:r.startTime,unit:"millisecond"},Mt["mark.fcp"]={value:s,unit:"second"});break}case"resource":{var m=r.name.replace(fl.location.origin,"");qI(i,r,m,f,a,n);break}}}),V1=Math.max(t.length-1,0),PI(i),i.op==="pageload"&&(typeof l=="number"&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding TTFB"),Mt.ttfb={value:(l-i.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=l&&(Mt["ttfb.requestTime"]={value:(l-o)*1e3,unit:"second"})),["fcp","fp","lcp"].forEach(r=>{if(!(!Mt[r]||n>=i.startTimestamp)){var f=Mt[r].value,a=n+ln(f),s=Math.abs((a-i.startTimestamp)*1e3),u=s-f;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Measurements] Normalized ${r} from ${f} to ${s} (${u})`),Mt[r].value=s}}),Mt["mark.fid"]&&Mt.fid&&Il(i,{description:"first input delay",endTimestamp:Mt["mark.fid"].value+ln(Mt.fid.value),op:"web.vitals",startTimestamp:Mt["mark.fid"].value}),"fcp"in Mt||delete Mt.cls,Object.keys(Mt).forEach(r=>{i.setMeasurement(r,Mt[r].value,Mt[r].unit)}),FI(i)),On=void 0,ci=void 0,Mt={}}function LI(i,e,n,t,l){var o=l+n,r=o+t;return Il(i,{description:e.name,endTimestamp:r,op:e.entryType,startTimestamp:o}),o}function GI(i,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(t=>{Bi(i,e,t,n)}),Bi(i,e,"secureConnection",n,"TLS/SSL","connectEnd"),Bi(i,e,"fetch",n,"cache","domainLookupStart"),Bi(i,e,"domainLookup",n,"DNS"),UI(i,e,n)}function Bi(i,e,n,t,l,o){var r=o?e[o]:e[`${n}End`],f=e[`${n}Start`];!f||!r||Il(i,{op:"browser",description:Xn(l,()=>n),startTimestamp:t+ln(f),endTimestamp:t+ln(r)})}function UI(i,e,n){Il(i,{op:"browser",description:"request",startTimestamp:n+ln(e.requestStart),endTimestamp:n+ln(e.responseEnd)}),Il(i,{op:"browser",description:"response",startTimestamp:n+ln(e.responseStart),endTimestamp:n+ln(e.responseEnd)})}function qI(i,e,n,t,l,o){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var r={};"transferSize"in e&&(r["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(r["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(r["Decoded Body Size"]=e.decodedBodySize);var f=o+t,a=f+l;Il(i,{description:n,endTimestamp:a,op:e.initiatorType?`resource.${e.initiatorType}`:"resource",startTimestamp:f,data:r})}}function PI(i){var e=fl.navigator;if(!!e){var n=e.connection;n&&(n.effectiveType&&i.setTag("effectiveConnectionType",n.effectiveType),n.type&&i.setTag("connectionType",n.type),Oi(n.rtt)&&(Mt["connection.rtt"]={value:n.rtt,unit:"millisecond"}),Oi(n.downlink)&&(Mt["connection.downlink"]={value:n.downlink,unit:""})),Oi(e.deviceMemory)&&i.setTag("deviceMemory",`${e.deviceMemory} GB`),Oi(e.hardwareConcurrency)&&i.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}}function FI(i){On&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding LCP Data"),On.element&&i.setTag("lcp.element",mi(On.element)),On.id&&i.setTag("lcp.id",On.id),On.url&&i.setTag("lcp.url",On.url.trim().slice(0,200)),i.setTag("lcp.size",On.size)),ci&&ci.sources&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log("[Measurements] Adding CLS Data"),ci.sources.forEach((e,n)=>i.setTag(`cls.source.${n+1}`,mi(e.node))))}var YI=["localhost",/^\//],xi={traceFetch:!0,traceXHR:!0,tracingOrigins:YI};function jI(i){const{traceFetch:e,traceXHR:n,tracingOrigins:t,shouldCreateSpanForRequest:l}={...xi,...i};var o={},r=s=>{if(o[s])return o[s];var u=t;return o[s]=u.some(c=>pi(s,c))&&!pi(s,"sentry_key"),o[s]};let f=r;typeof l=="function"&&(f=s=>r(s)&&l(s));var a={};e&&vn("fetch",s=>{HI(s,f,a)}),n&&vn("xhr",s=>{zI(s,f,a)})}function HI(i,e,n){if(!(!_o()||!(i.fetchData&&e(i.fetchData.url)))){if(i.endTimestamp){var t=i.fetchData.__span;if(!t)return;var l=n[t];l&&(i.response?l.setHttpStatus(i.response.status):i.error&&l.setStatus("internal_error"),l.finish(),delete n[t]);return}var o=or();if(o){var l=o.startChild({data:{...i.fetchData,type:"fetch"},description:`${i.fetchData.method} ${i.fetchData.url}`,op:"http.client"});i.fetchData.__span=l.spanId,n[l.spanId]=l;var r=i.args[0]=i.args[0],f=i.args[1]=i.args[1]||{};f.headers=WI(r,l,f)}}}function WI(i,e,n){let t=n.headers;Wn(i,Request)&&(t=i.headers);var l=e.getBaggage();if(t)if(typeof t.append=="function")t.append("sentry-trace",e.toTraceparent()),t.append(dl,fi(l,t.get(dl)));else if(Array.isArray(t)){const[,o]=t.find(([r,f])=>r===dl);t=[...t,["sentry-trace",e.toTraceparent()],[dl,fi(l,o)]]}else t={...t,"sentry-trace":e.toTraceparent(),baggage:fi(l,t.baggage)};else t={"sentry-trace":e.toTraceparent(),baggage:fi(l)};return t}function zI(i,e,n){if(!(!_o()||i.xhr&&i.xhr.__sentry_own_request__||!(i.xhr&&i.xhr.__sentry_xhr__&&e(i.xhr.__sentry_xhr__.url)))){var t=i.xhr.__sentry_xhr__;if(i.endTimestamp){var l=i.xhr.__sentry_xhr_span_id__;if(!l)return;var o=n[l];o&&(o.setHttpStatus(t.status_code),o.finish(),delete n[l]);return}var r=or();if(r){var o=r.startChild({data:{...t.data,type:"xhr",method:t.method,url:t.url},description:`${t.method} ${t.url}`,op:"http.client"});if(i.xhr.__sentry_xhr_span_id__=o.spanId,n[i.xhr.__sentry_xhr_span_id__]=o,i.xhr.setRequestHeader)try{i.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var f=i.xhr.getRequestHeader&&i.xhr.getRequestHeader(dl);i.xhr.setRequestHeader(dl,fi(o.getBaggage(),f))}catch{}}}}var ii=Bt();function VI(i,e=!0,n=!0){if(!ii||!ii.location){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("Could not initialize routing instrumentation due to invalid location");return}let t=ii.location.href,l;e&&(l=i({name:ii.location.pathname,op:"pageload"})),n&&vn("history",({to:o,from:r})=>{if(r===void 0&&t&&t.indexOf(o)!==-1){t=void 0;return}r!==o&&(t=void 0,l&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] Finishing current transaction with op: ${l.op}`),l.finish()),l=i({name:ii.location.pathname,op:"navigation"}))})}var XI="BrowserTracing",JI={idleTimeout:ig,finalTimeout:rg,markBackgroundTransactions:!0,routingInstrumentation:VI,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...xi};class bo{__init(){this.name=XI}constructor(e){bo.prototype.__init.call(this);let n=xi.tracingOrigins;e&&(e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?n=e.tracingOrigins:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...JI,...e,tracingOrigins:n};const{_metricOptions:t}=this.options;OI(t&&t._reportAllChanges)}setupOnce(e,n){this._getCurrentHub=n,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`[Tracing] We added a reasonable default for you: ${xi.tracingOrigins}`));const{routingInstrumentation:t,startTransactionOnLocationChange:l,startTransactionOnPageLoad:o,markBackgroundTransactions:r,traceFetch:f,traceXHR:a,tracingOrigins:s,shouldCreateSpanForRequest:u}=this.options;t(c=>this._createRouteTransaction(c),o,l),r&&EI(),jI({traceFetch:f,traceXHR:a,tracingOrigins:s,shouldCreateSpanForRequest:u})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:n,idleTimeout:t,finalTimeout:l}=this.options;var o=e.op==="pageload"?KI():void 0,r={...e,...o,trimEnd:!0},f=typeof n=="function"?n(r):r,a=f===void 0?{...r,sampled:!1}:f;a.sampled===!1&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] Will not send ${a.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&qe.log(`[Tracing] Starting ${a.op} transaction on scope`);var s=this._getCurrentHub();const{location:u}=Bt();var c=kI(s,a,t,l,!0,{location:u});return c.registerBeforeFinishCallback(m=>{DI(m),m.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),c}}function KI(){var i=X1("sentry-trace"),e=X1("baggage"),n=i?pS(i):void 0,t=BS(e,i);if(n||t)return{...n&&n,...t&&{metadata:{baggage:t}}}}function X1(i){var e=Bt();if(e.document&&e.document.querySelector){var n=e.document.querySelector(`meta[name=${i}]`);return n?n.getAttribute("content"):null}else return null}(typeof __SENTRY_TRACING__=="undefined"||__SENTRY_TRACING__)&&wI();try{self["workbox:window:6.5.2"]&&_()}catch{}function Wr(i,e){return new Promise(function(n){var t=new MessageChannel;t.port1.onmessage=function(l){n(l.data)},i.postMessage(e,[t.port2])})}function ZI(i,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function J1(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=i[n];return t}function QI(i,e){var n;if(typeof Symbol=="undefined"||i[Symbol.iterator]==null){if(Array.isArray(i)||(n=function(l,o){if(l){if(typeof l=="string")return J1(l,o);var r=Object.prototype.toString.call(l).slice(8,-1);return r==="Object"&&l.constructor&&(r=l.constructor.name),r==="Map"||r==="Set"?Array.from(l):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J1(l,o):void 0}}(i))||e&&i&&typeof i.length=="number"){n&&(i=n);var t=0;return function(){return t>=i.length?{done:!0}:{done:!1,value:i[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=i[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Cr=function(){var i=this;this.promise=new Promise(function(e,n){i.resolve=e,i.reject=n})};function Ir(i,e){var n=location.href;return new URL(i,n).href===new URL(e,n).href}var ri=function(i,e){this.type=i,Object.assign(this,e)};function Ai(i,e,n){return n?e?e(i):i:(i&&i.then||(i=Promise.resolve(i)),e?i.then(e):i)}function xI(){}var eR={type:"SKIP_WAITING"};function K1(i,e){if(!e)return i&&i.then?i.then(xI):Promise.resolve()}var tR=function(i){var e,n;function t(f,a){var s,u;return a===void 0&&(a={}),(s=i.call(this)||this).nn={},s.tn=0,s.rn=new Cr,s.en=new Cr,s.on=new Cr,s.un=0,s.an=new Set,s.cn=function(){var c=s.fn,m=c.installing;s.tn>0||!Ir(m.scriptURL,s.sn.toString())||performance.now()>s.un+6e4?(s.vn=m,c.removeEventListener("updatefound",s.cn)):(s.hn=m,s.an.add(m),s.rn.resolve(m)),++s.tn,m.addEventListener("statechange",s.ln)},s.ln=function(c){var m=s.fn,$=c.target,v=$.state,y=$===s.vn,T={sw:$,isExternal:y,originalEvent:c};!y&&s.mn&&(T.isUpdate=!0),s.dispatchEvent(new ri(v,T)),v==="installed"?s.wn=self.setTimeout(function(){v==="installed"&&m.waiting===$&&s.dispatchEvent(new ri("waiting",T))},200):v==="activating"&&(clearTimeout(s.wn),y||s.en.resolve($))},s.dn=function(c){var m=s.hn,$=m!==navigator.serviceWorker.controller;s.dispatchEvent(new ri("controlling",{isExternal:$,originalEvent:c,sw:m,isUpdate:s.mn})),$||s.on.resolve(m)},s.gn=(u=function(c){var m=c.data,$=c.ports,v=c.source;return Ai(s.getSW(),function(){s.an.has(v)&&s.dispatchEvent(new ri("message",{data:m,originalEvent:c,ports:$,sw:v}))})},function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];try{return Promise.resolve(u.apply(this,c))}catch($){return Promise.reject($)}}),s.sn=f,s.nn=a,navigator.serviceWorker.addEventListener("message",s.gn),s}n=i,(e=t).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var l,o,r=t.prototype;return r.register=function(f){var a=(f===void 0?{}:f).immediate,s=a!==void 0&&a;try{var u=this;return function(c,m){var $=c();return $&&$.then?$.then(m):m($)}(function(){if(!s&&document.readyState!=="complete")return K1(new Promise(function(c){return window.addEventListener("load",c)}))},function(){return u.mn=Boolean(navigator.serviceWorker.controller),u.yn=u.pn(),Ai(u.bn(),function(c){u.fn=c,u.yn&&(u.hn=u.yn,u.en.resolve(u.yn),u.on.resolve(u.yn),u.yn.addEventListener("statechange",u.ln,{once:!0}));var m=u.fn.waiting;return m&&Ir(m.scriptURL,u.sn.toString())&&(u.hn=m,Promise.resolve().then(function(){u.dispatchEvent(new ri("waiting",{sw:m,wasWaitingBeforeRegister:!0}))}).then(function(){})),u.hn&&(u.rn.resolve(u.hn),u.an.add(u.hn)),u.fn.addEventListener("updatefound",u.cn),navigator.serviceWorker.addEventListener("controllerchange",u.dn),u.fn})})}catch(c){return Promise.reject(c)}},r.update=function(){try{return this.fn?K1(this.fn.update()):void 0}catch(f){return Promise.reject(f)}},r.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},r.messageSW=function(f){try{return Ai(this.getSW(),function(a){return Wr(a,f)})}catch(a){return Promise.reject(a)}},r.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Wr(this.fn.waiting,eR)},r.pn=function(){var f=navigator.serviceWorker.controller;return f&&Ir(f.scriptURL,this.sn.toString())?f:void 0},r.bn=function(){try{var f=this;return function(a,s){try{var u=a()}catch(c){return s(c)}return u&&u.then?u.then(void 0,s):u}(function(){return Ai(navigator.serviceWorker.register(f.sn,f.nn),function(a){return f.un=performance.now(),a})},function(a){throw a})}catch(a){return Promise.reject(a)}},l=t,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&ZI(l.prototype,o),t}(function(){function i(){this.Pn=new Map}var e=i.prototype;return e.addEventListener=function(n,t){this.Sn(n).add(t)},e.removeEventListener=function(n,t){this.Sn(n).delete(t)},e.dispatchEvent=function(n){n.target=this;for(var t,l=QI(this.Sn(n.type));!(t=l()).done;)(0,t.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},i}());function nR(i={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:t,onRegistered:l,onRegisterError:o}=i;let r,f;const a=async(s=!0)=>{s&&(r==null||r.addEventListener("controlling",u=>{u.isUpdate&&window.location.reload()})),f&&f.waiting&&await Wr(f.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new tR("./sw.js",{scope:"./",type:"classic"}),r.addEventListener("activated",s=>{s.isUpdate||t==null||t()});{const s=()=>{n==null||n()};r.addEventListener("waiting",s),r.addEventListener("externalwaiting",s)}r.register({immediate:e}).then(s=>{f=s,l==null||l(s)}).catch(s=>{o==null||o(s)})}return a}function lR(i,e){return e.substring(e.length-i)}location.hostname!=="localhost"&&n3({dsn:"https://e7e132477a2844118b8f6d045a507e10@o318291.ingest.sentry.io/5665093",integrations:[new bo],tracesSampleRate:.2,release:`cdda-guide@${lR(8,"4d7a1e01ffed27d3775d6d0f4fbf3aa51d8fc132")}`});nR({});new _I({target:document.body})});export default iR();
//# sourceMappingURL=index.a7eebea1.js.map
